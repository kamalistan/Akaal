var bR=t=>{throw TypeError(t)};var Xb=(t,e,n)=>e.has(t)||bR("Cannot "+n);var z=(t,e,n)=>(Xb(t,e,"read from private field"),n?n.call(t):e.get(t)),Ne=(t,e,n)=>e.has(t)?bR("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),be=(t,e,n,r)=>(Xb(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ye=(t,e,n)=>(Xb(t,e,"access private method"),n);var cm=(t,e,n,r)=>({set _(i){be(t,e,i,n)},get _(){return z(t,e,r)}});function eC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var um=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function st(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Nh(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Qb={exports:{}},zd={},Jb={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wR;function gG(){if(wR)return Ze;wR=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function p($){return $===null||typeof $!="object"?null:($=h&&$[h]||$["@@iterator"],typeof $=="function"?$:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function y($,F,Z){this.props=$,this.context=F,this.refs=b,this.updater=Z||v}y.prototype.isReactComponent={},y.prototype.setState=function($,F){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,F,"setState")},y.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function _(){}_.prototype=y.prototype;function T($,F,Z){this.props=$,this.context=F,this.refs=b,this.updater=Z||v}var S=T.prototype=new _;S.constructor=T,x(S,y.prototype),S.isPureReactComponent=!0;var A=Array.isArray,P=Object.prototype.hasOwnProperty,O={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R($,F,Z){var ae,me={},Te=null,se=null;if(F!=null)for(ae in F.ref!==void 0&&(se=F.ref),F.key!==void 0&&(Te=""+F.key),F)P.call(F,ae)&&!k.hasOwnProperty(ae)&&(me[ae]=F[ae]);var ge=arguments.length-2;if(ge===1)me.children=Z;else if(1<ge){for(var oe=Array(ge),fe=0;fe<ge;fe++)oe[fe]=arguments[fe+2];me.children=oe}if($&&$.defaultProps)for(ae in ge=$.defaultProps,ge)me[ae]===void 0&&(me[ae]=ge[ae]);return{$$typeof:t,type:$,key:Te,ref:se,props:me,_owner:O.current}}function I($,F){return{$$typeof:t,type:$.type,key:F,ref:$.ref,props:$.props,_owner:$._owner}}function D($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function M($){var F={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Z){return F[Z]})}var U=/\/+/g;function V($,F){return typeof $=="object"&&$!==null&&$.key!=null?M(""+$.key):F.toString(36)}function Y($,F,Z,ae,me){var Te=typeof $;(Te==="undefined"||Te==="boolean")&&($=null);var se=!1;if($===null)se=!0;else switch(Te){case"string":case"number":se=!0;break;case"object":switch($.$$typeof){case t:case e:se=!0}}if(se)return se=$,me=me(se),$=ae===""?"."+V(se,0):ae,A(me)?(Z="",$!=null&&(Z=$.replace(U,"$&/")+"/"),Y(me,F,Z,"",function(fe){return fe})):me!=null&&(D(me)&&(me=I(me,Z+(!me.key||se&&se.key===me.key?"":(""+me.key).replace(U,"$&/")+"/")+$)),F.push(me)),1;if(se=0,ae=ae===""?".":ae+":",A($))for(var ge=0;ge<$.length;ge++){Te=$[ge];var oe=ae+V(Te,ge);se+=Y(Te,F,Z,oe,me)}else if(oe=p($),typeof oe=="function")for($=oe.call($),ge=0;!(Te=$.next()).done;)Te=Te.value,oe=ae+V(Te,ge++),se+=Y(Te,F,Z,oe,me);else if(Te==="object")throw F=String($),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return se}function Q($,F,Z){if($==null)return $;var ae=[],me=0;return Y($,ae,"","",function(Te){return F.call(Z,Te,me++)}),ae}function K($){if($._status===-1){var F=$._result;F=F(),F.then(function(Z){($._status===0||$._status===-1)&&($._status=1,$._result=Z)},function(Z){($._status===0||$._status===-1)&&($._status=2,$._result=Z)}),$._status===-1&&($._status=0,$._result=F)}if($._status===1)return $._result.default;throw $._result}var J={current:null},B={transition:null},G={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:B,ReactCurrentOwner:O};function L(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:Q,forEach:function($,F,Z){Q($,function(){F.apply(this,arguments)},Z)},count:function($){var F=0;return Q($,function(){F++}),F},toArray:function($){return Q($,function(F){return F})||[]},only:function($){if(!D($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ze.Component=y,Ze.Fragment=n,Ze.Profiler=i,Ze.PureComponent=T,Ze.StrictMode=r,Ze.Suspense=c,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Ze.act=L,Ze.cloneElement=function($,F,Z){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var ae=x({},$.props),me=$.key,Te=$.ref,se=$._owner;if(F!=null){if(F.ref!==void 0&&(Te=F.ref,se=O.current),F.key!==void 0&&(me=""+F.key),$.type&&$.type.defaultProps)var ge=$.type.defaultProps;for(oe in F)P.call(F,oe)&&!k.hasOwnProperty(oe)&&(ae[oe]=F[oe]===void 0&&ge!==void 0?ge[oe]:F[oe])}var oe=arguments.length-2;if(oe===1)ae.children=Z;else if(1<oe){ge=Array(oe);for(var fe=0;fe<oe;fe++)ge[fe]=arguments[fe+2];ae.children=ge}return{$$typeof:t,type:$.type,key:me,ref:Te,props:ae,_owner:se}},Ze.createContext=function($){return $={$$typeof:s,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:o,_context:$},$.Consumer=$},Ze.createElement=R,Ze.createFactory=function($){var F=R.bind(null,$);return F.type=$,F},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function($){return{$$typeof:a,render:$}},Ze.isValidElement=D,Ze.lazy=function($){return{$$typeof:f,_payload:{_status:-1,_result:$},_init:K}},Ze.memo=function($,F){return{$$typeof:u,type:$,compare:F===void 0?null:F}},Ze.startTransition=function($){var F=B.transition;B.transition={};try{$()}finally{B.transition=F}},Ze.unstable_act=L,Ze.useCallback=function($,F){return J.current.useCallback($,F)},Ze.useContext=function($){return J.current.useContext($)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function($){return J.current.useDeferredValue($)},Ze.useEffect=function($,F){return J.current.useEffect($,F)},Ze.useId=function(){return J.current.useId()},Ze.useImperativeHandle=function($,F,Z){return J.current.useImperativeHandle($,F,Z)},Ze.useInsertionEffect=function($,F){return J.current.useInsertionEffect($,F)},Ze.useLayoutEffect=function($,F){return J.current.useLayoutEffect($,F)},Ze.useMemo=function($,F){return J.current.useMemo($,F)},Ze.useReducer=function($,F,Z){return J.current.useReducer($,F,Z)},Ze.useRef=function($){return J.current.useRef($)},Ze.useState=function($){return J.current.useState($)},Ze.useSyncExternalStore=function($,F,Z){return J.current.useSyncExternalStore($,F,Z)},Ze.useTransition=function(){return J.current.useTransition()},Ze.version="18.3.1",Ze}var xR;function tC(){return xR||(xR=1,Jb.exports=gG()),Jb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _R;function vG(){if(_R)return zd;_R=1;var t=tC(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,c,u){var f,h={},p=null,v=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(v=c.ref);for(f in c)r.call(c,f)&&!o.hasOwnProperty(f)&&(h[f]=c[f]);if(a&&a.defaultProps)for(f in c=a.defaultProps,c)h[f]===void 0&&(h[f]=c[f]);return{$$typeof:e,type:a,key:p,ref:v,props:h,_owner:i.current}}return zd.Fragment=n,zd.jsx=s,zd.jsxs=s,zd}var SR;function yG(){return SR||(SR=1,Qb.exports=vG()),Qb.exports}var g=yG(),E=tC();const W=st(E),nC=eC({__proto__:null,default:W},[E]);var dm={},Zb={exports:{}},ur={},ew={exports:{}},tw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PR;function bG(){return PR||(PR=1,(function(t){function e(B,G){var L=B.length;B.push(G);e:for(;0<L;){var $=L-1>>>1,F=B[$];if(0<i(F,G))B[$]=G,B[L]=F,L=$;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var G=B[0],L=B.pop();if(L!==G){B[0]=L;e:for(var $=0,F=B.length,Z=F>>>1;$<Z;){var ae=2*($+1)-1,me=B[ae],Te=ae+1,se=B[Te];if(0>i(me,L))Te<F&&0>i(se,me)?(B[$]=se,B[Te]=L,$=Te):(B[$]=me,B[ae]=L,$=ae);else if(Te<F&&0>i(se,L))B[$]=se,B[Te]=L,$=Te;else break e}}return G}function i(B,G){var L=B.sortIndex-G.sortIndex;return L!==0?L:B.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var c=[],u=[],f=1,h=null,p=3,v=!1,x=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(B){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=B)r(u),G.sortIndex=G.expirationTime,e(c,G);else break;G=n(u)}}function A(B){if(b=!1,S(B),!x)if(n(c)!==null)x=!0,K(P);else{var G=n(u);G!==null&&J(A,G.startTime-B)}}function P(B,G){x=!1,b&&(b=!1,_(R),R=-1),v=!0;var L=p;try{for(S(G),h=n(c);h!==null&&(!(h.expirationTime>G)||B&&!M());){var $=h.callback;if(typeof $=="function"){h.callback=null,p=h.priorityLevel;var F=$(h.expirationTime<=G);G=t.unstable_now(),typeof F=="function"?h.callback=F:h===n(c)&&r(c),S(G)}else r(c);h=n(c)}if(h!==null)var Z=!0;else{var ae=n(u);ae!==null&&J(A,ae.startTime-G),Z=!1}return Z}finally{h=null,p=L,v=!1}}var O=!1,k=null,R=-1,I=5,D=-1;function M(){return!(t.unstable_now()-D<I)}function U(){if(k!==null){var B=t.unstable_now();D=B;var G=!0;try{G=k(!0,B)}finally{G?V():(O=!1,k=null)}}else O=!1}var V;if(typeof T=="function")V=function(){T(U)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Q=Y.port2;Y.port1.onmessage=U,V=function(){Q.postMessage(null)}}else V=function(){y(U,0)};function K(B){k=B,O||(O=!0,V())}function J(B,G){R=y(function(){B(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,K(P))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var L=p;p=G;try{return B()}finally{p=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var L=p;p=B;try{return G()}finally{p=L}},t.unstable_scheduleCallback=function(B,G,L){var $=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?$+L:$):L=$,B){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=L+F,B={id:f++,callback:G,priorityLevel:B,startTime:L,expirationTime:F,sortIndex:-1},L>$?(B.sortIndex=L,e(u,B),n(c)===null&&B===n(u)&&(b?(_(R),R=-1):b=!0,J(A,L-$))):(B.sortIndex=F,e(c,B),x||v||(x=!0,K(P))),B},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(B){var G=p;return function(){var L=p;p=G;try{return B.apply(this,arguments)}finally{p=L}}}})(tw)),tw}var TR;function wG(){return TR||(TR=1,ew.exports=bG()),ew.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ER;function xG(){if(ER)return ur;ER=1;var t=tC(),e=wG();function n(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(l,d){s(l,d),s(l+"Capture",d)}function s(l,d){for(i[l]=d,l=0;l<d.length;l++)r.add(d[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function p(l){return c.call(h,l)?!0:c.call(f,l)?!1:u.test(l)?h[l]=!0:(f[l]=!0,!1)}function v(l,d,m,w){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return w?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function x(l,d,m,w){if(d===null||typeof d>"u"||v(l,d,m,w))return!0;if(w)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function b(l,d,m,w,C,j,N){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=w,this.attributeNamespace=C,this.mustUseProperty=m,this.propertyName=l,this.type=d,this.sanitizeURL=j,this.removeEmptyString=N}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){y[l]=new b(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];y[d]=new b(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){y[l]=new b(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){y[l]=new b(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){y[l]=new b(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){y[l]=new b(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){y[l]=new b(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){y[l]=new b(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){y[l]=new b(l,5,!1,l.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function T(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(_,T);y[d]=new b(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(_,T);y[d]=new b(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(_,T);y[d]=new b(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){y[l]=new b(l,1,!1,l.toLowerCase(),null,!1,!1)}),y.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){y[l]=new b(l,1,!1,l.toLowerCase(),null,!0,!0)});function S(l,d,m,w){var C=y.hasOwnProperty(d)?y[d]:null;(C!==null?C.type!==0:w||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(x(d,m,C,w)&&(m=null),w||C===null?p(d)&&(m===null?l.removeAttribute(d):l.setAttribute(d,""+m)):C.mustUseProperty?l[C.propertyName]=m===null?C.type===3?!1:"":m:(d=C.attributeName,w=C.attributeNamespace,m===null?l.removeAttribute(d):(C=C.type,m=C===3||C===4&&m===!0?"":""+m,w?l.setAttributeNS(w,d,m):l.setAttribute(d,m))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),O=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),B=Symbol.iterator;function G(l){return l===null||typeof l!="object"?null:(l=B&&l[B]||l["@@iterator"],typeof l=="function"?l:null)}var L=Object.assign,$;function F(l){if($===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);$=d&&d[1]||""}return`
`+$+l}var Z=!1;function ae(l,d){if(!l||Z)return"";Z=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(ne){var w=ne}Reflect.construct(l,[],d)}else{try{d.call()}catch(ne){w=ne}l.call(d.prototype)}else{try{throw Error()}catch(ne){w=ne}l()}}catch(ne){if(ne&&w&&typeof ne.stack=="string"){for(var C=ne.stack.split(`
`),j=w.stack.split(`
`),N=C.length-1,q=j.length-1;1<=N&&0<=q&&C[N]!==j[q];)q--;for(;1<=N&&0<=q;N--,q--)if(C[N]!==j[q]){if(N!==1||q!==1)do if(N--,q--,0>q||C[N]!==j[q]){var H=`
`+C[N].replace(" at new "," at ");return l.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",l.displayName)),H}while(1<=N&&0<=q);break}}}finally{Z=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?F(l):""}function me(l){switch(l.tag){case 5:return F(l.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return l=ae(l.type,!1),l;case 11:return l=ae(l.type.render,!1),l;case 1:return l=ae(l.type,!0),l;default:return""}}function Te(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case k:return"Fragment";case O:return"Portal";case I:return"Profiler";case R:return"StrictMode";case V:return"Suspense";case Y:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case M:return(l.displayName||"Context")+".Consumer";case D:return(l._context.displayName||"Context")+".Provider";case U:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Q:return d=l.displayName||null,d!==null?d:Te(l.type)||"Memo";case K:d=l._payload,l=l._init;try{return Te(l(d))}catch{}}return null}function se(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(d);case 8:return d===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function ge(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function oe(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function fe(l){var d=oe(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),w=""+l[d];if(!l.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var C=m.get,j=m.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return C.call(this)},set:function(N){w=""+N,j.call(this,N)}}),Object.defineProperty(l,d,{enumerable:m.enumerable}),{getValue:function(){return w},setValue:function(N){w=""+N},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function ye(l){l._valueTracker||(l._valueTracker=fe(l))}function re(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var m=d.getValue(),w="";return l&&(w=oe(l)?l.checked?"true":"false":l.value),l=w,l!==m?(d.setValue(l),!0):!1}function ze(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Le(l,d){var m=d.checked;return L({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function ct(l,d){var m=d.defaultValue==null?"":d.defaultValue,w=d.checked!=null?d.checked:d.defaultChecked;m=ge(d.value!=null?d.value:m),l._wrapperState={initialChecked:w,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function ut(l,d){d=d.checked,d!=null&&S(l,"checked",d,!1)}function Pt(l,d){ut(l,d);var m=ge(d.value),w=d.type;if(m!=null)w==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(w==="submit"||w==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?An(l,d.type,m):d.hasOwnProperty("defaultValue")&&An(l,d.type,ge(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function Kn(l,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var w=d.type;if(!(w!=="submit"&&w!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,m||d===l.value||(l.value=d),l.defaultValue=d}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function An(l,d,m){(d!=="number"||ze(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var xr=Array.isArray;function On(l,d,m,w){if(l=l.options,d){d={};for(var C=0;C<m.length;C++)d["$"+m[C]]=!0;for(m=0;m<l.length;m++)C=d.hasOwnProperty("$"+l[m].value),l[m].selected!==C&&(l[m].selected=C),C&&w&&(l[m].defaultSelected=!0)}else{for(m=""+ge(m),d=null,C=0;C<l.length;C++){if(l[C].value===m){l[C].selected=!0,w&&(l[C].defaultSelected=!0);return}d!==null||l[C].disabled||(d=l[C])}d!==null&&(d.selected=!0)}}function _r(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return L({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function so(l,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(n(92));if(xr(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),m=d}l._wrapperState={initialValue:ge(m)}}function Je(l,d){var m=ge(d.value),w=ge(d.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),d.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),w!=null&&(l.defaultValue=""+w)}function Tt(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function an(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oi(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?an(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Mi,sd=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,w,C){MSApp.execUnsafeLocalFunction(function(){return l(d,m,w,C)})}:l})(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(Mi=Mi||document.createElement("div"),Mi.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Mi.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function ad(l,d){if(d){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=d;return}}l.textContent=d}var ld={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w9=["Webkit","ms","Moz","O"];Object.keys(ld).forEach(function(l){w9.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),ld[d]=ld[l]})});function IO(l,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||ld.hasOwnProperty(l)&&ld[l]?(""+d).trim():d+"px"}function MO(l,d){l=l.style;for(var m in d)if(d.hasOwnProperty(m)){var w=m.indexOf("--")===0,C=IO(m,d[m],w);m==="float"&&(m="cssFloat"),w?l.setProperty(m,C):l[m]=C}}var x9=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function l0(l,d){if(d){if(x9[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function c0(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u0=null;function d0(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var f0=null,Il=null,Ml=null;function DO(l){if(l=kd(l)){if(typeof f0!="function")throw Error(n(280));var d=l.stateNode;d&&(d=Pp(d),f0(l.stateNode,l.type,d))}}function $O(l){Il?Ml?Ml.push(l):Ml=[l]:Il=l}function LO(){if(Il){var l=Il,d=Ml;if(Ml=Il=null,DO(l),d)for(l=0;l<d.length;l++)DO(d[l])}}function FO(l,d){return l(d)}function BO(){}var h0=!1;function UO(l,d,m){if(h0)return l(d,m);h0=!0;try{return FO(l,d,m)}finally{h0=!1,(Il!==null||Ml!==null)&&(BO(),LO())}}function cd(l,d){var m=l.stateNode;if(m===null)return null;var w=Pp(m);if(w===null)return null;m=w[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(l=l.type,w=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!w;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var p0=!1;if(a)try{var ud={};Object.defineProperty(ud,"passive",{get:function(){p0=!0}}),window.addEventListener("test",ud,ud),window.removeEventListener("test",ud,ud)}catch{p0=!1}function _9(l,d,m,w,C,j,N,q,H){var ne=Array.prototype.slice.call(arguments,3);try{d.apply(m,ne)}catch(ce){this.onError(ce)}}var dd=!1,np=null,rp=!1,m0=null,S9={onError:function(l){dd=!0,np=l}};function P9(l,d,m,w,C,j,N,q,H){dd=!1,np=null,_9.apply(S9,arguments)}function T9(l,d,m,w,C,j,N,q,H){if(P9.apply(this,arguments),dd){if(dd){var ne=np;dd=!1,np=null}else throw Error(n(198));rp||(rp=!0,m0=ne)}}function aa(l){var d=l,m=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(m=d.return),l=d.return;while(l)}return d.tag===3?m:null}function qO(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function VO(l){if(aa(l)!==l)throw Error(n(188))}function E9(l){var d=l.alternate;if(!d){if(d=aa(l),d===null)throw Error(n(188));return d!==l?null:l}for(var m=l,w=d;;){var C=m.return;if(C===null)break;var j=C.alternate;if(j===null){if(w=C.return,w!==null){m=w;continue}break}if(C.child===j.child){for(j=C.child;j;){if(j===m)return VO(C),l;if(j===w)return VO(C),d;j=j.sibling}throw Error(n(188))}if(m.return!==w.return)m=C,w=j;else{for(var N=!1,q=C.child;q;){if(q===m){N=!0,m=C,w=j;break}if(q===w){N=!0,w=C,m=j;break}q=q.sibling}if(!N){for(q=j.child;q;){if(q===m){N=!0,m=j,w=C;break}if(q===w){N=!0,w=j,m=C;break}q=q.sibling}if(!N)throw Error(n(189))}}if(m.alternate!==w)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?l:d}function WO(l){return l=E9(l),l!==null?zO(l):null}function zO(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=zO(l);if(d!==null)return d;l=l.sibling}return null}var HO=e.unstable_scheduleCallback,GO=e.unstable_cancelCallback,C9=e.unstable_shouldYield,A9=e.unstable_requestPaint,Jt=e.unstable_now,O9=e.unstable_getCurrentPriorityLevel,g0=e.unstable_ImmediatePriority,KO=e.unstable_UserBlockingPriority,ip=e.unstable_NormalPriority,k9=e.unstable_LowPriority,YO=e.unstable_IdlePriority,op=null,Di=null;function j9(l){if(Di&&typeof Di.onCommitFiberRoot=="function")try{Di.onCommitFiberRoot(op,l,void 0,(l.current.flags&128)===128)}catch{}}var si=Math.clz32?Math.clz32:I9,R9=Math.log,N9=Math.LN2;function I9(l){return l>>>=0,l===0?32:31-(R9(l)/N9|0)|0}var sp=64,ap=4194304;function fd(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function lp(l,d){var m=l.pendingLanes;if(m===0)return 0;var w=0,C=l.suspendedLanes,j=l.pingedLanes,N=m&268435455;if(N!==0){var q=N&~C;q!==0?w=fd(q):(j&=N,j!==0&&(w=fd(j)))}else N=m&~C,N!==0?w=fd(N):j!==0&&(w=fd(j));if(w===0)return 0;if(d!==0&&d!==w&&(d&C)===0&&(C=w&-w,j=d&-d,C>=j||C===16&&(j&4194240)!==0))return d;if((w&4)!==0&&(w|=m&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=w;0<d;)m=31-si(d),C=1<<m,w|=l[m],d&=~C;return w}function M9(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D9(l,d){for(var m=l.suspendedLanes,w=l.pingedLanes,C=l.expirationTimes,j=l.pendingLanes;0<j;){var N=31-si(j),q=1<<N,H=C[N];H===-1?((q&m)===0||(q&w)!==0)&&(C[N]=M9(q,d)):H<=d&&(l.expiredLanes|=q),j&=~q}}function v0(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function XO(){var l=sp;return sp<<=1,(sp&4194240)===0&&(sp=64),l}function y0(l){for(var d=[],m=0;31>m;m++)d.push(l);return d}function hd(l,d,m){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-si(d),l[d]=m}function $9(l,d){var m=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var w=l.eventTimes;for(l=l.expirationTimes;0<m;){var C=31-si(m),j=1<<C;d[C]=0,w[C]=-1,l[C]=-1,m&=~j}}function b0(l,d){var m=l.entangledLanes|=d;for(l=l.entanglements;m;){var w=31-si(m),C=1<<w;C&d|l[w]&d&&(l[w]|=d),m&=~C}}var vt=0;function QO(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var JO,w0,ZO,ek,tk,x0=!1,cp=[],ns=null,rs=null,is=null,pd=new Map,md=new Map,os=[],L9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nk(l,d){switch(l){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":pd.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(d.pointerId)}}function gd(l,d,m,w,C,j){return l===null||l.nativeEvent!==j?(l={blockedOn:d,domEventName:m,eventSystemFlags:w,nativeEvent:j,targetContainers:[C]},d!==null&&(d=kd(d),d!==null&&w0(d)),l):(l.eventSystemFlags|=w,d=l.targetContainers,C!==null&&d.indexOf(C)===-1&&d.push(C),l)}function F9(l,d,m,w,C){switch(d){case"focusin":return ns=gd(ns,l,d,m,w,C),!0;case"dragenter":return rs=gd(rs,l,d,m,w,C),!0;case"mouseover":return is=gd(is,l,d,m,w,C),!0;case"pointerover":var j=C.pointerId;return pd.set(j,gd(pd.get(j)||null,l,d,m,w,C)),!0;case"gotpointercapture":return j=C.pointerId,md.set(j,gd(md.get(j)||null,l,d,m,w,C)),!0}return!1}function rk(l){var d=la(l.target);if(d!==null){var m=aa(d);if(m!==null){if(d=m.tag,d===13){if(d=qO(m),d!==null){l.blockedOn=d,tk(l.priority,function(){ZO(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function up(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var m=S0(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var w=new m.constructor(m.type,m);u0=w,m.target.dispatchEvent(w),u0=null}else return d=kd(m),d!==null&&w0(d),l.blockedOn=m,!1;d.shift()}return!0}function ik(l,d,m){up(l)&&m.delete(d)}function B9(){x0=!1,ns!==null&&up(ns)&&(ns=null),rs!==null&&up(rs)&&(rs=null),is!==null&&up(is)&&(is=null),pd.forEach(ik),md.forEach(ik)}function vd(l,d){l.blockedOn===d&&(l.blockedOn=null,x0||(x0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,B9)))}function yd(l){function d(C){return vd(C,l)}if(0<cp.length){vd(cp[0],l);for(var m=1;m<cp.length;m++){var w=cp[m];w.blockedOn===l&&(w.blockedOn=null)}}for(ns!==null&&vd(ns,l),rs!==null&&vd(rs,l),is!==null&&vd(is,l),pd.forEach(d),md.forEach(d),m=0;m<os.length;m++)w=os[m],w.blockedOn===l&&(w.blockedOn=null);for(;0<os.length&&(m=os[0],m.blockedOn===null);)rk(m),m.blockedOn===null&&os.shift()}var Dl=A.ReactCurrentBatchConfig,dp=!0;function U9(l,d,m,w){var C=vt,j=Dl.transition;Dl.transition=null;try{vt=1,_0(l,d,m,w)}finally{vt=C,Dl.transition=j}}function q9(l,d,m,w){var C=vt,j=Dl.transition;Dl.transition=null;try{vt=4,_0(l,d,m,w)}finally{vt=C,Dl.transition=j}}function _0(l,d,m,w){if(dp){var C=S0(l,d,m,w);if(C===null)B0(l,d,w,fp,m),nk(l,w);else if(F9(C,l,d,m,w))w.stopPropagation();else if(nk(l,w),d&4&&-1<L9.indexOf(l)){for(;C!==null;){var j=kd(C);if(j!==null&&JO(j),j=S0(l,d,m,w),j===null&&B0(l,d,w,fp,m),j===C)break;C=j}C!==null&&w.stopPropagation()}else B0(l,d,w,null,m)}}var fp=null;function S0(l,d,m,w){if(fp=null,l=d0(w),l=la(l),l!==null)if(d=aa(l),d===null)l=null;else if(m=d.tag,m===13){if(l=qO(d),l!==null)return l;l=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return fp=l,null}function ok(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(O9()){case g0:return 1;case KO:return 4;case ip:case k9:return 16;case YO:return 536870912;default:return 16}default:return 16}}var ss=null,P0=null,hp=null;function sk(){if(hp)return hp;var l,d=P0,m=d.length,w,C="value"in ss?ss.value:ss.textContent,j=C.length;for(l=0;l<m&&d[l]===C[l];l++);var N=m-l;for(w=1;w<=N&&d[m-w]===C[j-w];w++);return hp=C.slice(l,1<w?1-w:void 0)}function pp(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function mp(){return!0}function ak(){return!1}function Sr(l){function d(m,w,C,j,N){this._reactName=m,this._targetInst=C,this.type=w,this.nativeEvent=j,this.target=N,this.currentTarget=null;for(var q in l)l.hasOwnProperty(q)&&(m=l[q],this[q]=m?m(j):j[q]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?mp:ak,this.isPropagationStopped=ak,this}return L(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=mp)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=mp)},persist:function(){},isPersistent:mp}),d}var $l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T0=Sr($l),bd=L({},$l,{view:0,detail:0}),V9=Sr(bd),E0,C0,wd,gp=L({},bd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O0,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==wd&&(wd&&l.type==="mousemove"?(E0=l.screenX-wd.screenX,C0=l.screenY-wd.screenY):C0=E0=0,wd=l),E0)},movementY:function(l){return"movementY"in l?l.movementY:C0}}),lk=Sr(gp),W9=L({},gp,{dataTransfer:0}),z9=Sr(W9),H9=L({},bd,{relatedTarget:0}),A0=Sr(H9),G9=L({},$l,{animationName:0,elapsedTime:0,pseudoElement:0}),K9=Sr(G9),Y9=L({},$l,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),X9=Sr(Y9),Q9=L({},$l,{data:0}),ck=Sr(Q9),J9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t7(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=e7[l])?!!d[l]:!1}function O0(){return t7}var n7=L({},bd,{key:function(l){if(l.key){var d=J9[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=pp(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Z9[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O0,charCode:function(l){return l.type==="keypress"?pp(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?pp(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),r7=Sr(n7),i7=L({},gp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uk=Sr(i7),o7=L({},bd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O0}),s7=Sr(o7),a7=L({},$l,{propertyName:0,elapsedTime:0,pseudoElement:0}),l7=Sr(a7),c7=L({},gp,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),u7=Sr(c7),d7=[9,13,27,32],k0=a&&"CompositionEvent"in window,xd=null;a&&"documentMode"in document&&(xd=document.documentMode);var f7=a&&"TextEvent"in window&&!xd,dk=a&&(!k0||xd&&8<xd&&11>=xd),fk=" ",hk=!1;function pk(l,d){switch(l){case"keyup":return d7.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mk(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ll=!1;function h7(l,d){switch(l){case"compositionend":return mk(d);case"keypress":return d.which!==32?null:(hk=!0,fk);case"textInput":return l=d.data,l===fk&&hk?null:l;default:return null}}function p7(l,d){if(Ll)return l==="compositionend"||!k0&&pk(l,d)?(l=sk(),hp=P0=ss=null,Ll=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return dk&&d.locale!=="ko"?null:d.data;default:return null}}var m7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gk(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!m7[l.type]:d==="textarea"}function vk(l,d,m,w){$O(w),d=xp(d,"onChange"),0<d.length&&(m=new T0("onChange","change",null,m,w),l.push({event:m,listeners:d}))}var _d=null,Sd=null;function g7(l){Mk(l,0)}function vp(l){var d=Vl(l);if(re(d))return l}function v7(l,d){if(l==="change")return d}var yk=!1;if(a){var j0;if(a){var R0="oninput"in document;if(!R0){var bk=document.createElement("div");bk.setAttribute("oninput","return;"),R0=typeof bk.oninput=="function"}j0=R0}else j0=!1;yk=j0&&(!document.documentMode||9<document.documentMode)}function wk(){_d&&(_d.detachEvent("onpropertychange",xk),Sd=_d=null)}function xk(l){if(l.propertyName==="value"&&vp(Sd)){var d=[];vk(d,Sd,l,d0(l)),UO(g7,d)}}function y7(l,d,m){l==="focusin"?(wk(),_d=d,Sd=m,_d.attachEvent("onpropertychange",xk)):l==="focusout"&&wk()}function b7(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return vp(Sd)}function w7(l,d){if(l==="click")return vp(d)}function x7(l,d){if(l==="input"||l==="change")return vp(d)}function _7(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var ai=typeof Object.is=="function"?Object.is:_7;function Pd(l,d){if(ai(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var m=Object.keys(l),w=Object.keys(d);if(m.length!==w.length)return!1;for(w=0;w<m.length;w++){var C=m[w];if(!c.call(d,C)||!ai(l[C],d[C]))return!1}return!0}function _k(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Sk(l,d){var m=_k(l);l=0;for(var w;m;){if(m.nodeType===3){if(w=l+m.textContent.length,l<=d&&w>=d)return{node:m,offset:d-l};l=w}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=_k(m)}}function Pk(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?Pk(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function Tk(){for(var l=window,d=ze();d instanceof l.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)l=d.contentWindow;else break;d=ze(l.document)}return d}function N0(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function S7(l){var d=Tk(),m=l.focusedElem,w=l.selectionRange;if(d!==m&&m&&m.ownerDocument&&Pk(m.ownerDocument.documentElement,m)){if(w!==null&&N0(m)){if(d=w.start,l=w.end,l===void 0&&(l=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(l,m.value.length);else if(l=(d=m.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var C=m.textContent.length,j=Math.min(w.start,C);w=w.end===void 0?j:Math.min(w.end,C),!l.extend&&j>w&&(C=w,w=j,j=C),C=Sk(m,j);var N=Sk(m,w);C&&N&&(l.rangeCount!==1||l.anchorNode!==C.node||l.anchorOffset!==C.offset||l.focusNode!==N.node||l.focusOffset!==N.offset)&&(d=d.createRange(),d.setStart(C.node,C.offset),l.removeAllRanges(),j>w?(l.addRange(d),l.extend(N.node,N.offset)):(d.setEnd(N.node,N.offset),l.addRange(d)))}}for(d=[],l=m;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)l=d[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var P7=a&&"documentMode"in document&&11>=document.documentMode,Fl=null,I0=null,Td=null,M0=!1;function Ek(l,d,m){var w=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;M0||Fl==null||Fl!==ze(w)||(w=Fl,"selectionStart"in w&&N0(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Td&&Pd(Td,w)||(Td=w,w=xp(I0,"onSelect"),0<w.length&&(d=new T0("onSelect","select",null,d,m),l.push({event:d,listeners:w}),d.target=Fl)))}function yp(l,d){var m={};return m[l.toLowerCase()]=d.toLowerCase(),m["Webkit"+l]="webkit"+d,m["Moz"+l]="moz"+d,m}var Bl={animationend:yp("Animation","AnimationEnd"),animationiteration:yp("Animation","AnimationIteration"),animationstart:yp("Animation","AnimationStart"),transitionend:yp("Transition","TransitionEnd")},D0={},Ck={};a&&(Ck=document.createElement("div").style,"AnimationEvent"in window||(delete Bl.animationend.animation,delete Bl.animationiteration.animation,delete Bl.animationstart.animation),"TransitionEvent"in window||delete Bl.transitionend.transition);function bp(l){if(D0[l])return D0[l];if(!Bl[l])return l;var d=Bl[l],m;for(m in d)if(d.hasOwnProperty(m)&&m in Ck)return D0[l]=d[m];return l}var Ak=bp("animationend"),Ok=bp("animationiteration"),kk=bp("animationstart"),jk=bp("transitionend"),Rk=new Map,Nk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(l,d){Rk.set(l,d),o(d,[l])}for(var $0=0;$0<Nk.length;$0++){var L0=Nk[$0],T7=L0.toLowerCase(),E7=L0[0].toUpperCase()+L0.slice(1);as(T7,"on"+E7)}as(Ak,"onAnimationEnd"),as(Ok,"onAnimationIteration"),as(kk,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(jk,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ed));function Ik(l,d,m){var w=l.type||"unknown-event";l.currentTarget=m,T9(w,d,void 0,l),l.currentTarget=null}function Mk(l,d){d=(d&4)!==0;for(var m=0;m<l.length;m++){var w=l[m],C=w.event;w=w.listeners;e:{var j=void 0;if(d)for(var N=w.length-1;0<=N;N--){var q=w[N],H=q.instance,ne=q.currentTarget;if(q=q.listener,H!==j&&C.isPropagationStopped())break e;Ik(C,q,ne),j=H}else for(N=0;N<w.length;N++){if(q=w[N],H=q.instance,ne=q.currentTarget,q=q.listener,H!==j&&C.isPropagationStopped())break e;Ik(C,q,ne),j=H}}}if(rp)throw l=m0,rp=!1,m0=null,l}function Nt(l,d){var m=d[H0];m===void 0&&(m=d[H0]=new Set);var w=l+"__bubble";m.has(w)||(Dk(d,l,2,!1),m.add(w))}function F0(l,d,m){var w=0;d&&(w|=4),Dk(m,l,w,d)}var wp="_reactListening"+Math.random().toString(36).slice(2);function Cd(l){if(!l[wp]){l[wp]=!0,r.forEach(function(m){m!=="selectionchange"&&(C7.has(m)||F0(m,!1,l),F0(m,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[wp]||(d[wp]=!0,F0("selectionchange",!1,d))}}function Dk(l,d,m,w){switch(ok(d)){case 1:var C=U9;break;case 4:C=q9;break;default:C=_0}m=C.bind(null,d,m,l),C=void 0,!p0||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(C=!0),w?C!==void 0?l.addEventListener(d,m,{capture:!0,passive:C}):l.addEventListener(d,m,!0):C!==void 0?l.addEventListener(d,m,{passive:C}):l.addEventListener(d,m,!1)}function B0(l,d,m,w,C){var j=w;if((d&1)===0&&(d&2)===0&&w!==null)e:for(;;){if(w===null)return;var N=w.tag;if(N===3||N===4){var q=w.stateNode.containerInfo;if(q===C||q.nodeType===8&&q.parentNode===C)break;if(N===4)for(N=w.return;N!==null;){var H=N.tag;if((H===3||H===4)&&(H=N.stateNode.containerInfo,H===C||H.nodeType===8&&H.parentNode===C))return;N=N.return}for(;q!==null;){if(N=la(q),N===null)return;if(H=N.tag,H===5||H===6){w=j=N;continue e}q=q.parentNode}}w=w.return}UO(function(){var ne=j,ce=d0(m),ue=[];e:{var le=Rk.get(l);if(le!==void 0){var we=T0,Ee=l;switch(l){case"keypress":if(pp(m)===0)break e;case"keydown":case"keyup":we=r7;break;case"focusin":Ee="focus",we=A0;break;case"focusout":Ee="blur",we=A0;break;case"beforeblur":case"afterblur":we=A0;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=lk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=z9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=s7;break;case Ak:case Ok:case kk:we=K9;break;case jk:we=l7;break;case"scroll":we=V9;break;case"wheel":we=u7;break;case"copy":case"cut":case"paste":we=X9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=uk}var Oe=(d&4)!==0,Zt=!Oe&&l==="scroll",ee=Oe?le!==null?le+"Capture":null:le;Oe=[];for(var X=ne,te;X!==null;){te=X;var he=te.stateNode;if(te.tag===5&&he!==null&&(te=he,ee!==null&&(he=cd(X,ee),he!=null&&Oe.push(Ad(X,he,te)))),Zt)break;X=X.return}0<Oe.length&&(le=new we(le,Ee,null,m,ce),ue.push({event:le,listeners:Oe}))}}if((d&7)===0){e:{if(le=l==="mouseover"||l==="pointerover",we=l==="mouseout"||l==="pointerout",le&&m!==u0&&(Ee=m.relatedTarget||m.fromElement)&&(la(Ee)||Ee[ao]))break e;if((we||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,we?(Ee=m.relatedTarget||m.toElement,we=ne,Ee=Ee?la(Ee):null,Ee!==null&&(Zt=aa(Ee),Ee!==Zt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(we=null,Ee=ne),we!==Ee)){if(Oe=lk,he="onMouseLeave",ee="onMouseEnter",X="mouse",(l==="pointerout"||l==="pointerover")&&(Oe=uk,he="onPointerLeave",ee="onPointerEnter",X="pointer"),Zt=we==null?le:Vl(we),te=Ee==null?le:Vl(Ee),le=new Oe(he,X+"leave",we,m,ce),le.target=Zt,le.relatedTarget=te,he=null,la(ce)===ne&&(Oe=new Oe(ee,X+"enter",Ee,m,ce),Oe.target=te,Oe.relatedTarget=Zt,he=Oe),Zt=he,we&&Ee)t:{for(Oe=we,ee=Ee,X=0,te=Oe;te;te=Ul(te))X++;for(te=0,he=ee;he;he=Ul(he))te++;for(;0<X-te;)Oe=Ul(Oe),X--;for(;0<te-X;)ee=Ul(ee),te--;for(;X--;){if(Oe===ee||ee!==null&&Oe===ee.alternate)break t;Oe=Ul(Oe),ee=Ul(ee)}Oe=null}else Oe=null;we!==null&&$k(ue,le,we,Oe,!1),Ee!==null&&Zt!==null&&$k(ue,Zt,Ee,Oe,!0)}}e:{if(le=ne?Vl(ne):window,we=le.nodeName&&le.nodeName.toLowerCase(),we==="select"||we==="input"&&le.type==="file")var ke=v7;else if(gk(le))if(yk)ke=x7;else{ke=b7;var De=y7}else(we=le.nodeName)&&we.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(ke=w7);if(ke&&(ke=ke(l,ne))){vk(ue,ke,m,ce);break e}De&&De(l,le,ne),l==="focusout"&&(De=le._wrapperState)&&De.controlled&&le.type==="number"&&An(le,"number",le.value)}switch(De=ne?Vl(ne):window,l){case"focusin":(gk(De)||De.contentEditable==="true")&&(Fl=De,I0=ne,Td=null);break;case"focusout":Td=I0=Fl=null;break;case"mousedown":M0=!0;break;case"contextmenu":case"mouseup":case"dragend":M0=!1,Ek(ue,m,ce);break;case"selectionchange":if(P7)break;case"keydown":case"keyup":Ek(ue,m,ce)}var $e;if(k0)e:{switch(l){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Ll?pk(l,m)&&(We="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(We="onCompositionStart");We&&(dk&&m.locale!=="ko"&&(Ll||We!=="onCompositionStart"?We==="onCompositionEnd"&&Ll&&($e=sk()):(ss=ce,P0="value"in ss?ss.value:ss.textContent,Ll=!0)),De=xp(ne,We),0<De.length&&(We=new ck(We,l,null,m,ce),ue.push({event:We,listeners:De}),$e?We.data=$e:($e=mk(m),$e!==null&&(We.data=$e)))),($e=f7?h7(l,m):p7(l,m))&&(ne=xp(ne,"onBeforeInput"),0<ne.length&&(ce=new ck("onBeforeInput","beforeinput",null,m,ce),ue.push({event:ce,listeners:ne}),ce.data=$e))}Mk(ue,d)})}function Ad(l,d,m){return{instance:l,listener:d,currentTarget:m}}function xp(l,d){for(var m=d+"Capture",w=[];l!==null;){var C=l,j=C.stateNode;C.tag===5&&j!==null&&(C=j,j=cd(l,m),j!=null&&w.unshift(Ad(l,j,C)),j=cd(l,d),j!=null&&w.push(Ad(l,j,C))),l=l.return}return w}function Ul(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function $k(l,d,m,w,C){for(var j=d._reactName,N=[];m!==null&&m!==w;){var q=m,H=q.alternate,ne=q.stateNode;if(H!==null&&H===w)break;q.tag===5&&ne!==null&&(q=ne,C?(H=cd(m,j),H!=null&&N.unshift(Ad(m,H,q))):C||(H=cd(m,j),H!=null&&N.push(Ad(m,H,q)))),m=m.return}N.length!==0&&l.push({event:d,listeners:N})}var A7=/\r\n?/g,O7=/\u0000|\uFFFD/g;function Lk(l){return(typeof l=="string"?l:""+l).replace(A7,`
`).replace(O7,"")}function _p(l,d,m){if(d=Lk(d),Lk(l)!==d&&m)throw Error(n(425))}function Sp(){}var U0=null,q0=null;function V0(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var W0=typeof setTimeout=="function"?setTimeout:void 0,k7=typeof clearTimeout=="function"?clearTimeout:void 0,Fk=typeof Promise=="function"?Promise:void 0,j7=typeof queueMicrotask=="function"?queueMicrotask:typeof Fk<"u"?function(l){return Fk.resolve(null).then(l).catch(R7)}:W0;function R7(l){setTimeout(function(){throw l})}function z0(l,d){var m=d,w=0;do{var C=m.nextSibling;if(l.removeChild(m),C&&C.nodeType===8)if(m=C.data,m==="/$"){if(w===0){l.removeChild(C),yd(d);return}w--}else m!=="$"&&m!=="$?"&&m!=="$!"||w++;m=C}while(m);yd(d)}function ls(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function Bk(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return l;d--}else m==="/$"&&d++}l=l.previousSibling}return null}var ql=Math.random().toString(36).slice(2),$i="__reactFiber$"+ql,Od="__reactProps$"+ql,ao="__reactContainer$"+ql,H0="__reactEvents$"+ql,N7="__reactListeners$"+ql,I7="__reactHandles$"+ql;function la(l){var d=l[$i];if(d)return d;for(var m=l.parentNode;m;){if(d=m[ao]||m[$i]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(l=Bk(l);l!==null;){if(m=l[$i])return m;l=Bk(l)}return d}l=m,m=l.parentNode}return null}function kd(l){return l=l[$i]||l[ao],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Vl(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function Pp(l){return l[Od]||null}var G0=[],Wl=-1;function cs(l){return{current:l}}function It(l){0>Wl||(l.current=G0[Wl],G0[Wl]=null,Wl--)}function Et(l,d){Wl++,G0[Wl]=l.current,l.current=d}var us={},$n=cs(us),or=cs(!1),ca=us;function zl(l,d){var m=l.type.contextTypes;if(!m)return us;var w=l.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===d)return w.__reactInternalMemoizedMaskedChildContext;var C={},j;for(j in m)C[j]=d[j];return w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=C),C}function sr(l){return l=l.childContextTypes,l!=null}function Tp(){It(or),It($n)}function Uk(l,d,m){if($n.current!==us)throw Error(n(168));Et($n,d),Et(or,m)}function qk(l,d,m){var w=l.stateNode;if(d=d.childContextTypes,typeof w.getChildContext!="function")return m;w=w.getChildContext();for(var C in w)if(!(C in d))throw Error(n(108,se(l)||"Unknown",C));return L({},m,w)}function Ep(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||us,ca=$n.current,Et($n,l),Et(or,or.current),!0}function Vk(l,d,m){var w=l.stateNode;if(!w)throw Error(n(169));m?(l=qk(l,d,ca),w.__reactInternalMemoizedMergedChildContext=l,It(or),It($n),Et($n,l)):It(or),Et(or,m)}var lo=null,Cp=!1,K0=!1;function Wk(l){lo===null?lo=[l]:lo.push(l)}function M7(l){Cp=!0,Wk(l)}function ds(){if(!K0&&lo!==null){K0=!0;var l=0,d=vt;try{var m=lo;for(vt=1;l<m.length;l++){var w=m[l];do w=w(!0);while(w!==null)}lo=null,Cp=!1}catch(C){throw lo!==null&&(lo=lo.slice(l+1)),HO(g0,ds),C}finally{vt=d,K0=!1}}return null}var Hl=[],Gl=0,Ap=null,Op=0,Dr=[],$r=0,ua=null,co=1,uo="";function da(l,d){Hl[Gl++]=Op,Hl[Gl++]=Ap,Ap=l,Op=d}function zk(l,d,m){Dr[$r++]=co,Dr[$r++]=uo,Dr[$r++]=ua,ua=l;var w=co;l=uo;var C=32-si(w)-1;w&=~(1<<C),m+=1;var j=32-si(d)+C;if(30<j){var N=C-C%5;j=(w&(1<<N)-1).toString(32),w>>=N,C-=N,co=1<<32-si(d)+C|m<<C|w,uo=j+l}else co=1<<j|m<<C|w,uo=l}function Y0(l){l.return!==null&&(da(l,1),zk(l,1,0))}function X0(l){for(;l===Ap;)Ap=Hl[--Gl],Hl[Gl]=null,Op=Hl[--Gl],Hl[Gl]=null;for(;l===ua;)ua=Dr[--$r],Dr[$r]=null,uo=Dr[--$r],Dr[$r]=null,co=Dr[--$r],Dr[$r]=null}var Pr=null,Tr=null,Dt=!1,li=null;function Hk(l,d){var m=Ur(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=l,d=l.deletions,d===null?(l.deletions=[m],l.flags|=16):d.push(m)}function Gk(l,d){switch(l.tag){case 5:var m=l.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,Pr=l,Tr=ls(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,Pr=l,Tr=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=ua!==null?{id:co,overflow:uo}:null,l.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=Ur(18,null,null,0),m.stateNode=d,m.return=l,l.child=m,Pr=l,Tr=null,!0):!1;default:return!1}}function Q0(l){return(l.mode&1)!==0&&(l.flags&128)===0}function J0(l){if(Dt){var d=Tr;if(d){var m=d;if(!Gk(l,d)){if(Q0(l))throw Error(n(418));d=ls(m.nextSibling);var w=Pr;d&&Gk(l,d)?Hk(w,m):(l.flags=l.flags&-4097|2,Dt=!1,Pr=l)}}else{if(Q0(l))throw Error(n(418));l.flags=l.flags&-4097|2,Dt=!1,Pr=l}}}function Kk(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Pr=l}function kp(l){if(l!==Pr)return!1;if(!Dt)return Kk(l),Dt=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!V0(l.type,l.memoizedProps)),d&&(d=Tr)){if(Q0(l))throw Yk(),Error(n(418));for(;d;)Hk(l,d),d=ls(d.nextSibling)}if(Kk(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(d===0){Tr=ls(l.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}l=l.nextSibling}Tr=null}}else Tr=Pr?ls(l.stateNode.nextSibling):null;return!0}function Yk(){for(var l=Tr;l;)l=ls(l.nextSibling)}function Kl(){Tr=Pr=null,Dt=!1}function Z0(l){li===null?li=[l]:li.push(l)}var D7=A.ReactCurrentBatchConfig;function jd(l,d,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var w=m.stateNode}if(!w)throw Error(n(147,l));var C=w,j=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===j?d.ref:(d=function(N){var q=C.refs;N===null?delete q[j]:q[j]=N},d._stringRef=j,d)}if(typeof l!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,l))}return l}function jp(l,d){throw l=Object.prototype.toString.call(d),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function Xk(l){var d=l._init;return d(l._payload)}function Qk(l){function d(ee,X){if(l){var te=ee.deletions;te===null?(ee.deletions=[X],ee.flags|=16):te.push(X)}}function m(ee,X){if(!l)return null;for(;X!==null;)d(ee,X),X=X.sibling;return null}function w(ee,X){for(ee=new Map;X!==null;)X.key!==null?ee.set(X.key,X):ee.set(X.index,X),X=X.sibling;return ee}function C(ee,X){return ee=bs(ee,X),ee.index=0,ee.sibling=null,ee}function j(ee,X,te){return ee.index=te,l?(te=ee.alternate,te!==null?(te=te.index,te<X?(ee.flags|=2,X):te):(ee.flags|=2,X)):(ee.flags|=1048576,X)}function N(ee){return l&&ee.alternate===null&&(ee.flags|=2),ee}function q(ee,X,te,he){return X===null||X.tag!==6?(X=Wb(te,ee.mode,he),X.return=ee,X):(X=C(X,te),X.return=ee,X)}function H(ee,X,te,he){var ke=te.type;return ke===k?ce(ee,X,te.props.children,he,te.key):X!==null&&(X.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===K&&Xk(ke)===X.type)?(he=C(X,te.props),he.ref=jd(ee,X,te),he.return=ee,he):(he=tm(te.type,te.key,te.props,null,ee.mode,he),he.ref=jd(ee,X,te),he.return=ee,he)}function ne(ee,X,te,he){return X===null||X.tag!==4||X.stateNode.containerInfo!==te.containerInfo||X.stateNode.implementation!==te.implementation?(X=zb(te,ee.mode,he),X.return=ee,X):(X=C(X,te.children||[]),X.return=ee,X)}function ce(ee,X,te,he,ke){return X===null||X.tag!==7?(X=ba(te,ee.mode,he,ke),X.return=ee,X):(X=C(X,te),X.return=ee,X)}function ue(ee,X,te){if(typeof X=="string"&&X!==""||typeof X=="number")return X=Wb(""+X,ee.mode,te),X.return=ee,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case P:return te=tm(X.type,X.key,X.props,null,ee.mode,te),te.ref=jd(ee,null,X),te.return=ee,te;case O:return X=zb(X,ee.mode,te),X.return=ee,X;case K:var he=X._init;return ue(ee,he(X._payload),te)}if(xr(X)||G(X))return X=ba(X,ee.mode,te,null),X.return=ee,X;jp(ee,X)}return null}function le(ee,X,te,he){var ke=X!==null?X.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return ke!==null?null:q(ee,X,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case P:return te.key===ke?H(ee,X,te,he):null;case O:return te.key===ke?ne(ee,X,te,he):null;case K:return ke=te._init,le(ee,X,ke(te._payload),he)}if(xr(te)||G(te))return ke!==null?null:ce(ee,X,te,he,null);jp(ee,te)}return null}function we(ee,X,te,he,ke){if(typeof he=="string"&&he!==""||typeof he=="number")return ee=ee.get(te)||null,q(X,ee,""+he,ke);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case P:return ee=ee.get(he.key===null?te:he.key)||null,H(X,ee,he,ke);case O:return ee=ee.get(he.key===null?te:he.key)||null,ne(X,ee,he,ke);case K:var De=he._init;return we(ee,X,te,De(he._payload),ke)}if(xr(he)||G(he))return ee=ee.get(te)||null,ce(X,ee,he,ke,null);jp(X,he)}return null}function Ee(ee,X,te,he){for(var ke=null,De=null,$e=X,We=X=0,_n=null;$e!==null&&We<te.length;We++){$e.index>We?(_n=$e,$e=null):_n=$e.sibling;var at=le(ee,$e,te[We],he);if(at===null){$e===null&&($e=_n);break}l&&$e&&at.alternate===null&&d(ee,$e),X=j(at,X,We),De===null?ke=at:De.sibling=at,De=at,$e=_n}if(We===te.length)return m(ee,$e),Dt&&da(ee,We),ke;if($e===null){for(;We<te.length;We++)$e=ue(ee,te[We],he),$e!==null&&(X=j($e,X,We),De===null?ke=$e:De.sibling=$e,De=$e);return Dt&&da(ee,We),ke}for($e=w(ee,$e);We<te.length;We++)_n=we($e,ee,We,te[We],he),_n!==null&&(l&&_n.alternate!==null&&$e.delete(_n.key===null?We:_n.key),X=j(_n,X,We),De===null?ke=_n:De.sibling=_n,De=_n);return l&&$e.forEach(function(ws){return d(ee,ws)}),Dt&&da(ee,We),ke}function Oe(ee,X,te,he){var ke=G(te);if(typeof ke!="function")throw Error(n(150));if(te=ke.call(te),te==null)throw Error(n(151));for(var De=ke=null,$e=X,We=X=0,_n=null,at=te.next();$e!==null&&!at.done;We++,at=te.next()){$e.index>We?(_n=$e,$e=null):_n=$e.sibling;var ws=le(ee,$e,at.value,he);if(ws===null){$e===null&&($e=_n);break}l&&$e&&ws.alternate===null&&d(ee,$e),X=j(ws,X,We),De===null?ke=ws:De.sibling=ws,De=ws,$e=_n}if(at.done)return m(ee,$e),Dt&&da(ee,We),ke;if($e===null){for(;!at.done;We++,at=te.next())at=ue(ee,at.value,he),at!==null&&(X=j(at,X,We),De===null?ke=at:De.sibling=at,De=at);return Dt&&da(ee,We),ke}for($e=w(ee,$e);!at.done;We++,at=te.next())at=we($e,ee,We,at.value,he),at!==null&&(l&&at.alternate!==null&&$e.delete(at.key===null?We:at.key),X=j(at,X,We),De===null?ke=at:De.sibling=at,De=at);return l&&$e.forEach(function(mG){return d(ee,mG)}),Dt&&da(ee,We),ke}function Zt(ee,X,te,he){if(typeof te=="object"&&te!==null&&te.type===k&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case P:e:{for(var ke=te.key,De=X;De!==null;){if(De.key===ke){if(ke=te.type,ke===k){if(De.tag===7){m(ee,De.sibling),X=C(De,te.props.children),X.return=ee,ee=X;break e}}else if(De.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===K&&Xk(ke)===De.type){m(ee,De.sibling),X=C(De,te.props),X.ref=jd(ee,De,te),X.return=ee,ee=X;break e}m(ee,De);break}else d(ee,De);De=De.sibling}te.type===k?(X=ba(te.props.children,ee.mode,he,te.key),X.return=ee,ee=X):(he=tm(te.type,te.key,te.props,null,ee.mode,he),he.ref=jd(ee,X,te),he.return=ee,ee=he)}return N(ee);case O:e:{for(De=te.key;X!==null;){if(X.key===De)if(X.tag===4&&X.stateNode.containerInfo===te.containerInfo&&X.stateNode.implementation===te.implementation){m(ee,X.sibling),X=C(X,te.children||[]),X.return=ee,ee=X;break e}else{m(ee,X);break}else d(ee,X);X=X.sibling}X=zb(te,ee.mode,he),X.return=ee,ee=X}return N(ee);case K:return De=te._init,Zt(ee,X,De(te._payload),he)}if(xr(te))return Ee(ee,X,te,he);if(G(te))return Oe(ee,X,te,he);jp(ee,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,X!==null&&X.tag===6?(m(ee,X.sibling),X=C(X,te),X.return=ee,ee=X):(m(ee,X),X=Wb(te,ee.mode,he),X.return=ee,ee=X),N(ee)):m(ee,X)}return Zt}var Yl=Qk(!0),Jk=Qk(!1),Rp=cs(null),Np=null,Xl=null,eb=null;function tb(){eb=Xl=Np=null}function nb(l){var d=Rp.current;It(Rp),l._currentValue=d}function rb(l,d,m){for(;l!==null;){var w=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,w!==null&&(w.childLanes|=d)):w!==null&&(w.childLanes&d)!==d&&(w.childLanes|=d),l===m)break;l=l.return}}function Ql(l,d){Np=l,eb=Xl=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(ar=!0),l.firstContext=null)}function Lr(l){var d=l._currentValue;if(eb!==l)if(l={context:l,memoizedValue:d,next:null},Xl===null){if(Np===null)throw Error(n(308));Xl=l,Np.dependencies={lanes:0,firstContext:l}}else Xl=Xl.next=l;return d}var fa=null;function ib(l){fa===null?fa=[l]:fa.push(l)}function Zk(l,d,m,w){var C=d.interleaved;return C===null?(m.next=m,ib(d)):(m.next=C.next,C.next=m),d.interleaved=m,fo(l,w)}function fo(l,d){l.lanes|=d;var m=l.alternate;for(m!==null&&(m.lanes|=d),m=l,l=l.return;l!==null;)l.childLanes|=d,m=l.alternate,m!==null&&(m.childLanes|=d),m=l,l=l.return;return m.tag===3?m.stateNode:null}var fs=!1;function ob(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ej(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function ho(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function hs(l,d,m){var w=l.updateQueue;if(w===null)return null;if(w=w.shared,(ot&2)!==0){var C=w.pending;return C===null?d.next=d:(d.next=C.next,C.next=d),w.pending=d,fo(l,m)}return C=w.interleaved,C===null?(d.next=d,ib(w)):(d.next=C.next,C.next=d),w.interleaved=d,fo(l,m)}function Ip(l,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var w=d.lanes;w&=l.pendingLanes,m|=w,d.lanes=m,b0(l,m)}}function tj(l,d){var m=l.updateQueue,w=l.alternate;if(w!==null&&(w=w.updateQueue,m===w)){var C=null,j=null;if(m=m.firstBaseUpdate,m!==null){do{var N={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};j===null?C=j=N:j=j.next=N,m=m.next}while(m!==null);j===null?C=j=d:j=j.next=d}else C=j=d;m={baseState:w.baseState,firstBaseUpdate:C,lastBaseUpdate:j,shared:w.shared,effects:w.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=d}function Mp(l,d,m,w){var C=l.updateQueue;fs=!1;var j=C.firstBaseUpdate,N=C.lastBaseUpdate,q=C.shared.pending;if(q!==null){C.shared.pending=null;var H=q,ne=H.next;H.next=null,N===null?j=ne:N.next=ne,N=H;var ce=l.alternate;ce!==null&&(ce=ce.updateQueue,q=ce.lastBaseUpdate,q!==N&&(q===null?ce.firstBaseUpdate=ne:q.next=ne,ce.lastBaseUpdate=H))}if(j!==null){var ue=C.baseState;N=0,ce=ne=H=null,q=j;do{var le=q.lane,we=q.eventTime;if((w&le)===le){ce!==null&&(ce=ce.next={eventTime:we,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Ee=l,Oe=q;switch(le=d,we=m,Oe.tag){case 1:if(Ee=Oe.payload,typeof Ee=="function"){ue=Ee.call(we,ue,le);break e}ue=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Oe.payload,le=typeof Ee=="function"?Ee.call(we,ue,le):Ee,le==null)break e;ue=L({},ue,le);break e;case 2:fs=!0}}q.callback!==null&&q.lane!==0&&(l.flags|=64,le=C.effects,le===null?C.effects=[q]:le.push(q))}else we={eventTime:we,lane:le,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ce===null?(ne=ce=we,H=ue):ce=ce.next=we,N|=le;if(q=q.next,q===null){if(q=C.shared.pending,q===null)break;le=q,q=le.next,le.next=null,C.lastBaseUpdate=le,C.shared.pending=null}}while(!0);if(ce===null&&(H=ue),C.baseState=H,C.firstBaseUpdate=ne,C.lastBaseUpdate=ce,d=C.shared.interleaved,d!==null){C=d;do N|=C.lane,C=C.next;while(C!==d)}else j===null&&(C.shared.lanes=0);ma|=N,l.lanes=N,l.memoizedState=ue}}function nj(l,d,m){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var w=l[d],C=w.callback;if(C!==null){if(w.callback=null,w=m,typeof C!="function")throw Error(n(191,C));C.call(w)}}}var Rd={},Li=cs(Rd),Nd=cs(Rd),Id=cs(Rd);function ha(l){if(l===Rd)throw Error(n(174));return l}function sb(l,d){switch(Et(Id,d),Et(Nd,l),Et(Li,Rd),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:oi(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=oi(d,l)}It(Li),Et(Li,d)}function Jl(){It(Li),It(Nd),It(Id)}function rj(l){ha(Id.current);var d=ha(Li.current),m=oi(d,l.type);d!==m&&(Et(Nd,l),Et(Li,m))}function ab(l){Nd.current===l&&(It(Li),It(Nd))}var qt=cs(0);function Dp(l){for(var d=l;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var lb=[];function cb(){for(var l=0;l<lb.length;l++)lb[l]._workInProgressVersionPrimary=null;lb.length=0}var $p=A.ReactCurrentDispatcher,ub=A.ReactCurrentBatchConfig,pa=0,Vt=null,ln=null,wn=null,Lp=!1,Md=!1,Dd=0,$7=0;function Ln(){throw Error(n(321))}function db(l,d){if(d===null)return!1;for(var m=0;m<d.length&&m<l.length;m++)if(!ai(l[m],d[m]))return!1;return!0}function fb(l,d,m,w,C,j){if(pa=j,Vt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,$p.current=l===null||l.memoizedState===null?U7:q7,l=m(w,C),Md){j=0;do{if(Md=!1,Dd=0,25<=j)throw Error(n(301));j+=1,wn=ln=null,d.updateQueue=null,$p.current=V7,l=m(w,C)}while(Md)}if($p.current=Up,d=ln!==null&&ln.next!==null,pa=0,wn=ln=Vt=null,Lp=!1,d)throw Error(n(300));return l}function hb(){var l=Dd!==0;return Dd=0,l}function Fi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Vt.memoizedState=wn=l:wn=wn.next=l,wn}function Fr(){if(ln===null){var l=Vt.alternate;l=l!==null?l.memoizedState:null}else l=ln.next;var d=wn===null?Vt.memoizedState:wn.next;if(d!==null)wn=d,ln=l;else{if(l===null)throw Error(n(310));ln=l,l={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},wn===null?Vt.memoizedState=wn=l:wn=wn.next=l}return wn}function $d(l,d){return typeof d=="function"?d(l):d}function pb(l){var d=Fr(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var w=ln,C=w.baseQueue,j=m.pending;if(j!==null){if(C!==null){var N=C.next;C.next=j.next,j.next=N}w.baseQueue=C=j,m.pending=null}if(C!==null){j=C.next,w=w.baseState;var q=N=null,H=null,ne=j;do{var ce=ne.lane;if((pa&ce)===ce)H!==null&&(H=H.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),w=ne.hasEagerState?ne.eagerState:l(w,ne.action);else{var ue={lane:ce,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};H===null?(q=H=ue,N=w):H=H.next=ue,Vt.lanes|=ce,ma|=ce}ne=ne.next}while(ne!==null&&ne!==j);H===null?N=w:H.next=q,ai(w,d.memoizedState)||(ar=!0),d.memoizedState=w,d.baseState=N,d.baseQueue=H,m.lastRenderedState=w}if(l=m.interleaved,l!==null){C=l;do j=C.lane,Vt.lanes|=j,ma|=j,C=C.next;while(C!==l)}else C===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function mb(l){var d=Fr(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var w=m.dispatch,C=m.pending,j=d.memoizedState;if(C!==null){m.pending=null;var N=C=C.next;do j=l(j,N.action),N=N.next;while(N!==C);ai(j,d.memoizedState)||(ar=!0),d.memoizedState=j,d.baseQueue===null&&(d.baseState=j),m.lastRenderedState=j}return[j,w]}function ij(){}function oj(l,d){var m=Vt,w=Fr(),C=d(),j=!ai(w.memoizedState,C);if(j&&(w.memoizedState=C,ar=!0),w=w.queue,gb(lj.bind(null,m,w,l),[l]),w.getSnapshot!==d||j||wn!==null&&wn.memoizedState.tag&1){if(m.flags|=2048,Ld(9,aj.bind(null,m,w,C,d),void 0,null),xn===null)throw Error(n(349));(pa&30)!==0||sj(m,d,C)}return C}function sj(l,d,m){l.flags|=16384,l={getSnapshot:d,value:m},d=Vt.updateQueue,d===null?(d={lastEffect:null,stores:null},Vt.updateQueue=d,d.stores=[l]):(m=d.stores,m===null?d.stores=[l]:m.push(l))}function aj(l,d,m,w){d.value=m,d.getSnapshot=w,cj(d)&&uj(l)}function lj(l,d,m){return m(function(){cj(d)&&uj(l)})}function cj(l){var d=l.getSnapshot;l=l.value;try{var m=d();return!ai(l,m)}catch{return!0}}function uj(l){var d=fo(l,1);d!==null&&fi(d,l,1,-1)}function dj(l){var d=Fi();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$d,lastRenderedState:l},d.queue=l,l=l.dispatch=B7.bind(null,Vt,l),[d.memoizedState,l]}function Ld(l,d,m,w){return l={tag:l,create:d,destroy:m,deps:w,next:null},d=Vt.updateQueue,d===null?(d={lastEffect:null,stores:null},Vt.updateQueue=d,d.lastEffect=l.next=l):(m=d.lastEffect,m===null?d.lastEffect=l.next=l:(w=m.next,m.next=l,l.next=w,d.lastEffect=l)),l}function fj(){return Fr().memoizedState}function Fp(l,d,m,w){var C=Fi();Vt.flags|=l,C.memoizedState=Ld(1|d,m,void 0,w===void 0?null:w)}function Bp(l,d,m,w){var C=Fr();w=w===void 0?null:w;var j=void 0;if(ln!==null){var N=ln.memoizedState;if(j=N.destroy,w!==null&&db(w,N.deps)){C.memoizedState=Ld(d,m,j,w);return}}Vt.flags|=l,C.memoizedState=Ld(1|d,m,j,w)}function hj(l,d){return Fp(8390656,8,l,d)}function gb(l,d){return Bp(2048,8,l,d)}function pj(l,d){return Bp(4,2,l,d)}function mj(l,d){return Bp(4,4,l,d)}function gj(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function vj(l,d,m){return m=m!=null?m.concat([l]):null,Bp(4,4,gj.bind(null,d,l),m)}function vb(){}function yj(l,d){var m=Fr();d=d===void 0?null:d;var w=m.memoizedState;return w!==null&&d!==null&&db(d,w[1])?w[0]:(m.memoizedState=[l,d],l)}function bj(l,d){var m=Fr();d=d===void 0?null:d;var w=m.memoizedState;return w!==null&&d!==null&&db(d,w[1])?w[0]:(l=l(),m.memoizedState=[l,d],l)}function wj(l,d,m){return(pa&21)===0?(l.baseState&&(l.baseState=!1,ar=!0),l.memoizedState=m):(ai(m,d)||(m=XO(),Vt.lanes|=m,ma|=m,l.baseState=!0),d)}function L7(l,d){var m=vt;vt=m!==0&&4>m?m:4,l(!0);var w=ub.transition;ub.transition={};try{l(!1),d()}finally{vt=m,ub.transition=w}}function xj(){return Fr().memoizedState}function F7(l,d,m){var w=vs(l);if(m={lane:w,action:m,hasEagerState:!1,eagerState:null,next:null},_j(l))Sj(d,m);else if(m=Zk(l,d,m,w),m!==null){var C=Xn();fi(m,l,w,C),Pj(m,d,w)}}function B7(l,d,m){var w=vs(l),C={lane:w,action:m,hasEagerState:!1,eagerState:null,next:null};if(_j(l))Sj(d,C);else{var j=l.alternate;if(l.lanes===0&&(j===null||j.lanes===0)&&(j=d.lastRenderedReducer,j!==null))try{var N=d.lastRenderedState,q=j(N,m);if(C.hasEagerState=!0,C.eagerState=q,ai(q,N)){var H=d.interleaved;H===null?(C.next=C,ib(d)):(C.next=H.next,H.next=C),d.interleaved=C;return}}catch{}finally{}m=Zk(l,d,C,w),m!==null&&(C=Xn(),fi(m,l,w,C),Pj(m,d,w))}}function _j(l){var d=l.alternate;return l===Vt||d!==null&&d===Vt}function Sj(l,d){Md=Lp=!0;var m=l.pending;m===null?d.next=d:(d.next=m.next,m.next=d),l.pending=d}function Pj(l,d,m){if((m&4194240)!==0){var w=d.lanes;w&=l.pendingLanes,m|=w,d.lanes=m,b0(l,m)}}var Up={readContext:Lr,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},U7={readContext:Lr,useCallback:function(l,d){return Fi().memoizedState=[l,d===void 0?null:d],l},useContext:Lr,useEffect:hj,useImperativeHandle:function(l,d,m){return m=m!=null?m.concat([l]):null,Fp(4194308,4,gj.bind(null,d,l),m)},useLayoutEffect:function(l,d){return Fp(4194308,4,l,d)},useInsertionEffect:function(l,d){return Fp(4,2,l,d)},useMemo:function(l,d){var m=Fi();return d=d===void 0?null:d,l=l(),m.memoizedState=[l,d],l},useReducer:function(l,d,m){var w=Fi();return d=m!==void 0?m(d):d,w.memoizedState=w.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},w.queue=l,l=l.dispatch=F7.bind(null,Vt,l),[w.memoizedState,l]},useRef:function(l){var d=Fi();return l={current:l},d.memoizedState=l},useState:dj,useDebugValue:vb,useDeferredValue:function(l){return Fi().memoizedState=l},useTransition:function(){var l=dj(!1),d=l[0];return l=L7.bind(null,l[1]),Fi().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,m){var w=Vt,C=Fi();if(Dt){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),xn===null)throw Error(n(349));(pa&30)!==0||sj(w,d,m)}C.memoizedState=m;var j={value:m,getSnapshot:d};return C.queue=j,hj(lj.bind(null,w,j,l),[l]),w.flags|=2048,Ld(9,aj.bind(null,w,j,m,d),void 0,null),m},useId:function(){var l=Fi(),d=xn.identifierPrefix;if(Dt){var m=uo,w=co;m=(w&~(1<<32-si(w)-1)).toString(32)+m,d=":"+d+"R"+m,m=Dd++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=$7++,d=":"+d+"r"+m.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},q7={readContext:Lr,useCallback:yj,useContext:Lr,useEffect:gb,useImperativeHandle:vj,useInsertionEffect:pj,useLayoutEffect:mj,useMemo:bj,useReducer:pb,useRef:fj,useState:function(){return pb($d)},useDebugValue:vb,useDeferredValue:function(l){var d=Fr();return wj(d,ln.memoizedState,l)},useTransition:function(){var l=pb($d)[0],d=Fr().memoizedState;return[l,d]},useMutableSource:ij,useSyncExternalStore:oj,useId:xj,unstable_isNewReconciler:!1},V7={readContext:Lr,useCallback:yj,useContext:Lr,useEffect:gb,useImperativeHandle:vj,useInsertionEffect:pj,useLayoutEffect:mj,useMemo:bj,useReducer:mb,useRef:fj,useState:function(){return mb($d)},useDebugValue:vb,useDeferredValue:function(l){var d=Fr();return ln===null?d.memoizedState=l:wj(d,ln.memoizedState,l)},useTransition:function(){var l=mb($d)[0],d=Fr().memoizedState;return[l,d]},useMutableSource:ij,useSyncExternalStore:oj,useId:xj,unstable_isNewReconciler:!1};function ci(l,d){if(l&&l.defaultProps){d=L({},d),l=l.defaultProps;for(var m in l)d[m]===void 0&&(d[m]=l[m]);return d}return d}function yb(l,d,m,w){d=l.memoizedState,m=m(w,d),m=m==null?d:L({},d,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var qp={isMounted:function(l){return(l=l._reactInternals)?aa(l)===l:!1},enqueueSetState:function(l,d,m){l=l._reactInternals;var w=Xn(),C=vs(l),j=ho(w,C);j.payload=d,m!=null&&(j.callback=m),d=hs(l,j,C),d!==null&&(fi(d,l,C,w),Ip(d,l,C))},enqueueReplaceState:function(l,d,m){l=l._reactInternals;var w=Xn(),C=vs(l),j=ho(w,C);j.tag=1,j.payload=d,m!=null&&(j.callback=m),d=hs(l,j,C),d!==null&&(fi(d,l,C,w),Ip(d,l,C))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var m=Xn(),w=vs(l),C=ho(m,w);C.tag=2,d!=null&&(C.callback=d),d=hs(l,C,w),d!==null&&(fi(d,l,w,m),Ip(d,l,w))}};function Tj(l,d,m,w,C,j,N){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,j,N):d.prototype&&d.prototype.isPureReactComponent?!Pd(m,w)||!Pd(C,j):!0}function Ej(l,d,m){var w=!1,C=us,j=d.contextType;return typeof j=="object"&&j!==null?j=Lr(j):(C=sr(d)?ca:$n.current,w=d.contextTypes,j=(w=w!=null)?zl(l,C):us),d=new d(m,j),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qp,l.stateNode=d,d._reactInternals=l,w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=C,l.__reactInternalMemoizedMaskedChildContext=j),d}function Cj(l,d,m,w){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,w),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,w),d.state!==l&&qp.enqueueReplaceState(d,d.state,null)}function bb(l,d,m,w){var C=l.stateNode;C.props=m,C.state=l.memoizedState,C.refs={},ob(l);var j=d.contextType;typeof j=="object"&&j!==null?C.context=Lr(j):(j=sr(d)?ca:$n.current,C.context=zl(l,j)),C.state=l.memoizedState,j=d.getDerivedStateFromProps,typeof j=="function"&&(yb(l,d,j,m),C.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(d=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),d!==C.state&&qp.enqueueReplaceState(C,C.state,null),Mp(l,m,C,w),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308)}function Zl(l,d){try{var m="",w=d;do m+=me(w),w=w.return;while(w);var C=m}catch(j){C=`
Error generating stack: `+j.message+`
`+j.stack}return{value:l,source:d,stack:C,digest:null}}function wb(l,d,m){return{value:l,source:null,stack:m??null,digest:d??null}}function xb(l,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var W7=typeof WeakMap=="function"?WeakMap:Map;function Aj(l,d,m){m=ho(-1,m),m.tag=3,m.payload={element:null};var w=d.value;return m.callback=function(){Yp||(Yp=!0,Db=w),xb(l,d)},m}function Oj(l,d,m){m=ho(-1,m),m.tag=3;var w=l.type.getDerivedStateFromError;if(typeof w=="function"){var C=d.value;m.payload=function(){return w(C)},m.callback=function(){xb(l,d)}}var j=l.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(m.callback=function(){xb(l,d),typeof w!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var N=d.stack;this.componentDidCatch(d.value,{componentStack:N!==null?N:""})}),m}function kj(l,d,m){var w=l.pingCache;if(w===null){w=l.pingCache=new W7;var C=new Set;w.set(d,C)}else C=w.get(d),C===void 0&&(C=new Set,w.set(d,C));C.has(m)||(C.add(m),l=iG.bind(null,l,d,m),d.then(l,l))}function jj(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function Rj(l,d,m,w,C){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=ho(-1,1),d.tag=2,hs(m,d,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=C,l)}var z7=A.ReactCurrentOwner,ar=!1;function Yn(l,d,m,w){d.child=l===null?Jk(d,null,m,w):Yl(d,l.child,m,w)}function Nj(l,d,m,w,C){m=m.render;var j=d.ref;return Ql(d,C),w=fb(l,d,m,w,j,C),m=hb(),l!==null&&!ar?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~C,po(l,d,C)):(Dt&&m&&Y0(d),d.flags|=1,Yn(l,d,w,C),d.child)}function Ij(l,d,m,w,C){if(l===null){var j=m.type;return typeof j=="function"&&!Vb(j)&&j.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=j,Mj(l,d,j,w,C)):(l=tm(m.type,null,w,d,d.mode,C),l.ref=d.ref,l.return=d,d.child=l)}if(j=l.child,(l.lanes&C)===0){var N=j.memoizedProps;if(m=m.compare,m=m!==null?m:Pd,m(N,w)&&l.ref===d.ref)return po(l,d,C)}return d.flags|=1,l=bs(j,w),l.ref=d.ref,l.return=d,d.child=l}function Mj(l,d,m,w,C){if(l!==null){var j=l.memoizedProps;if(Pd(j,w)&&l.ref===d.ref)if(ar=!1,d.pendingProps=w=j,(l.lanes&C)!==0)(l.flags&131072)!==0&&(ar=!0);else return d.lanes=l.lanes,po(l,d,C)}return _b(l,d,m,w,C)}function Dj(l,d,m){var w=d.pendingProps,C=w.children,j=l!==null?l.memoizedState:null;if(w.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(tc,Er),Er|=m;else{if((m&1073741824)===0)return l=j!==null?j.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,Et(tc,Er),Er|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=j!==null?j.baseLanes:m,Et(tc,Er),Er|=w}else j!==null?(w=j.baseLanes|m,d.memoizedState=null):w=m,Et(tc,Er),Er|=w;return Yn(l,d,C,m),d.child}function $j(l,d){var m=d.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function _b(l,d,m,w,C){var j=sr(m)?ca:$n.current;return j=zl(d,j),Ql(d,C),m=fb(l,d,m,w,j,C),w=hb(),l!==null&&!ar?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~C,po(l,d,C)):(Dt&&w&&Y0(d),d.flags|=1,Yn(l,d,m,C),d.child)}function Lj(l,d,m,w,C){if(sr(m)){var j=!0;Ep(d)}else j=!1;if(Ql(d,C),d.stateNode===null)Wp(l,d),Ej(d,m,w),bb(d,m,w,C),w=!0;else if(l===null){var N=d.stateNode,q=d.memoizedProps;N.props=q;var H=N.context,ne=m.contextType;typeof ne=="object"&&ne!==null?ne=Lr(ne):(ne=sr(m)?ca:$n.current,ne=zl(d,ne));var ce=m.getDerivedStateFromProps,ue=typeof ce=="function"||typeof N.getSnapshotBeforeUpdate=="function";ue||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(q!==w||H!==ne)&&Cj(d,N,w,ne),fs=!1;var le=d.memoizedState;N.state=le,Mp(d,w,N,C),H=d.memoizedState,q!==w||le!==H||or.current||fs?(typeof ce=="function"&&(yb(d,m,ce,w),H=d.memoizedState),(q=fs||Tj(d,m,q,w,le,H,ne))?(ue||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(d.flags|=4194308)):(typeof N.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=w,d.memoizedState=H),N.props=w,N.state=H,N.context=ne,w=q):(typeof N.componentDidMount=="function"&&(d.flags|=4194308),w=!1)}else{N=d.stateNode,ej(l,d),q=d.memoizedProps,ne=d.type===d.elementType?q:ci(d.type,q),N.props=ne,ue=d.pendingProps,le=N.context,H=m.contextType,typeof H=="object"&&H!==null?H=Lr(H):(H=sr(m)?ca:$n.current,H=zl(d,H));var we=m.getDerivedStateFromProps;(ce=typeof we=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(q!==ue||le!==H)&&Cj(d,N,w,H),fs=!1,le=d.memoizedState,N.state=le,Mp(d,w,N,C);var Ee=d.memoizedState;q!==ue||le!==Ee||or.current||fs?(typeof we=="function"&&(yb(d,m,we,w),Ee=d.memoizedState),(ne=fs||Tj(d,m,ne,w,le,Ee,H)||!1)?(ce||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(w,Ee,H),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(w,Ee,H)),typeof N.componentDidUpdate=="function"&&(d.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof N.componentDidUpdate!="function"||q===l.memoizedProps&&le===l.memoizedState||(d.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||q===l.memoizedProps&&le===l.memoizedState||(d.flags|=1024),d.memoizedProps=w,d.memoizedState=Ee),N.props=w,N.state=Ee,N.context=H,w=ne):(typeof N.componentDidUpdate!="function"||q===l.memoizedProps&&le===l.memoizedState||(d.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||q===l.memoizedProps&&le===l.memoizedState||(d.flags|=1024),w=!1)}return Sb(l,d,m,w,j,C)}function Sb(l,d,m,w,C,j){$j(l,d);var N=(d.flags&128)!==0;if(!w&&!N)return C&&Vk(d,m,!1),po(l,d,j);w=d.stateNode,z7.current=d;var q=N&&typeof m.getDerivedStateFromError!="function"?null:w.render();return d.flags|=1,l!==null&&N?(d.child=Yl(d,l.child,null,j),d.child=Yl(d,null,q,j)):Yn(l,d,q,j),d.memoizedState=w.state,C&&Vk(d,m,!0),d.child}function Fj(l){var d=l.stateNode;d.pendingContext?Uk(l,d.pendingContext,d.pendingContext!==d.context):d.context&&Uk(l,d.context,!1),sb(l,d.containerInfo)}function Bj(l,d,m,w,C){return Kl(),Z0(C),d.flags|=256,Yn(l,d,m,w),d.child}var Pb={dehydrated:null,treeContext:null,retryLane:0};function Tb(l){return{baseLanes:l,cachePool:null,transitions:null}}function Uj(l,d,m){var w=d.pendingProps,C=qt.current,j=!1,N=(d.flags&128)!==0,q;if((q=N)||(q=l!==null&&l.memoizedState===null?!1:(C&2)!==0),q?(j=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(C|=1),Et(qt,C&1),l===null)return J0(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(N=w.children,l=w.fallback,j?(w=d.mode,j=d.child,N={mode:"hidden",children:N},(w&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=N):j=nm(N,w,0,null),l=ba(l,w,m,null),j.return=d,l.return=d,j.sibling=l,d.child=j,d.child.memoizedState=Tb(m),d.memoizedState=Pb,l):Eb(d,N));if(C=l.memoizedState,C!==null&&(q=C.dehydrated,q!==null))return H7(l,d,N,w,q,C,m);if(j){j=w.fallback,N=d.mode,C=l.child,q=C.sibling;var H={mode:"hidden",children:w.children};return(N&1)===0&&d.child!==C?(w=d.child,w.childLanes=0,w.pendingProps=H,d.deletions=null):(w=bs(C,H),w.subtreeFlags=C.subtreeFlags&14680064),q!==null?j=bs(q,j):(j=ba(j,N,m,null),j.flags|=2),j.return=d,w.return=d,w.sibling=j,d.child=w,w=j,j=d.child,N=l.child.memoizedState,N=N===null?Tb(m):{baseLanes:N.baseLanes|m,cachePool:null,transitions:N.transitions},j.memoizedState=N,j.childLanes=l.childLanes&~m,d.memoizedState=Pb,w}return j=l.child,l=j.sibling,w=bs(j,{mode:"visible",children:w.children}),(d.mode&1)===0&&(w.lanes=m),w.return=d,w.sibling=null,l!==null&&(m=d.deletions,m===null?(d.deletions=[l],d.flags|=16):m.push(l)),d.child=w,d.memoizedState=null,w}function Eb(l,d){return d=nm({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function Vp(l,d,m,w){return w!==null&&Z0(w),Yl(d,l.child,null,m),l=Eb(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function H7(l,d,m,w,C,j,N){if(m)return d.flags&256?(d.flags&=-257,w=wb(Error(n(422))),Vp(l,d,N,w)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(j=w.fallback,C=d.mode,w=nm({mode:"visible",children:w.children},C,0,null),j=ba(j,C,N,null),j.flags|=2,w.return=d,j.return=d,w.sibling=j,d.child=w,(d.mode&1)!==0&&Yl(d,l.child,null,N),d.child.memoizedState=Tb(N),d.memoizedState=Pb,j);if((d.mode&1)===0)return Vp(l,d,N,null);if(C.data==="$!"){if(w=C.nextSibling&&C.nextSibling.dataset,w)var q=w.dgst;return w=q,j=Error(n(419)),w=wb(j,w,void 0),Vp(l,d,N,w)}if(q=(N&l.childLanes)!==0,ar||q){if(w=xn,w!==null){switch(N&-N){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(w.suspendedLanes|N))!==0?0:C,C!==0&&C!==j.retryLane&&(j.retryLane=C,fo(l,C),fi(w,l,C,-1))}return qb(),w=wb(Error(n(421))),Vp(l,d,N,w)}return C.data==="$?"?(d.flags|=128,d.child=l.child,d=oG.bind(null,l),C._reactRetry=d,null):(l=j.treeContext,Tr=ls(C.nextSibling),Pr=d,Dt=!0,li=null,l!==null&&(Dr[$r++]=co,Dr[$r++]=uo,Dr[$r++]=ua,co=l.id,uo=l.overflow,ua=d),d=Eb(d,w.children),d.flags|=4096,d)}function qj(l,d,m){l.lanes|=d;var w=l.alternate;w!==null&&(w.lanes|=d),rb(l.return,d,m)}function Cb(l,d,m,w,C){var j=l.memoizedState;j===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:w,tail:m,tailMode:C}:(j.isBackwards=d,j.rendering=null,j.renderingStartTime=0,j.last=w,j.tail=m,j.tailMode=C)}function Vj(l,d,m){var w=d.pendingProps,C=w.revealOrder,j=w.tail;if(Yn(l,d,w.children,m),w=qt.current,(w&2)!==0)w=w&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&qj(l,m,d);else if(l.tag===19)qj(l,m,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}w&=1}if(Et(qt,w),(d.mode&1)===0)d.memoizedState=null;else switch(C){case"forwards":for(m=d.child,C=null;m!==null;)l=m.alternate,l!==null&&Dp(l)===null&&(C=m),m=m.sibling;m=C,m===null?(C=d.child,d.child=null):(C=m.sibling,m.sibling=null),Cb(d,!1,C,m,j);break;case"backwards":for(m=null,C=d.child,d.child=null;C!==null;){if(l=C.alternate,l!==null&&Dp(l)===null){d.child=C;break}l=C.sibling,C.sibling=m,m=C,C=l}Cb(d,!0,m,null,j);break;case"together":Cb(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Wp(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function po(l,d,m){if(l!==null&&(d.dependencies=l.dependencies),ma|=d.lanes,(m&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(n(153));if(d.child!==null){for(l=d.child,m=bs(l,l.pendingProps),d.child=m,m.return=d;l.sibling!==null;)l=l.sibling,m=m.sibling=bs(l,l.pendingProps),m.return=d;m.sibling=null}return d.child}function G7(l,d,m){switch(d.tag){case 3:Fj(d),Kl();break;case 5:rj(d);break;case 1:sr(d.type)&&Ep(d);break;case 4:sb(d,d.stateNode.containerInfo);break;case 10:var w=d.type._context,C=d.memoizedProps.value;Et(Rp,w._currentValue),w._currentValue=C;break;case 13:if(w=d.memoizedState,w!==null)return w.dehydrated!==null?(Et(qt,qt.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?Uj(l,d,m):(Et(qt,qt.current&1),l=po(l,d,m),l!==null?l.sibling:null);Et(qt,qt.current&1);break;case 19:if(w=(m&d.childLanes)!==0,(l.flags&128)!==0){if(w)return Vj(l,d,m);d.flags|=128}if(C=d.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Et(qt,qt.current),w)break;return null;case 22:case 23:return d.lanes=0,Dj(l,d,m)}return po(l,d,m)}var Wj,Ab,zj,Hj;Wj=function(l,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Ab=function(){},zj=function(l,d,m,w){var C=l.memoizedProps;if(C!==w){l=d.stateNode,ha(Li.current);var j=null;switch(m){case"input":C=Le(l,C),w=Le(l,w),j=[];break;case"select":C=L({},C,{value:void 0}),w=L({},w,{value:void 0}),j=[];break;case"textarea":C=_r(l,C),w=_r(l,w),j=[];break;default:typeof C.onClick!="function"&&typeof w.onClick=="function"&&(l.onclick=Sp)}l0(m,w);var N;m=null;for(ne in C)if(!w.hasOwnProperty(ne)&&C.hasOwnProperty(ne)&&C[ne]!=null)if(ne==="style"){var q=C[ne];for(N in q)q.hasOwnProperty(N)&&(m||(m={}),m[N]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?j||(j=[]):(j=j||[]).push(ne,null));for(ne in w){var H=w[ne];if(q=C!=null?C[ne]:void 0,w.hasOwnProperty(ne)&&H!==q&&(H!=null||q!=null))if(ne==="style")if(q){for(N in q)!q.hasOwnProperty(N)||H&&H.hasOwnProperty(N)||(m||(m={}),m[N]="");for(N in H)H.hasOwnProperty(N)&&q[N]!==H[N]&&(m||(m={}),m[N]=H[N])}else m||(j||(j=[]),j.push(ne,m)),m=H;else ne==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,q=q?q.__html:void 0,H!=null&&q!==H&&(j=j||[]).push(ne,H)):ne==="children"?typeof H!="string"&&typeof H!="number"||(j=j||[]).push(ne,""+H):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(ne)?(H!=null&&ne==="onScroll"&&Nt("scroll",l),j||q===H||(j=[])):(j=j||[]).push(ne,H))}m&&(j=j||[]).push("style",m);var ne=j;(d.updateQueue=ne)&&(d.flags|=4)}},Hj=function(l,d,m,w){m!==w&&(d.flags|=4)};function Fd(l,d){if(!Dt)switch(l.tailMode){case"hidden":d=l.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function Fn(l){var d=l.alternate!==null&&l.alternate.child===l.child,m=0,w=0;if(d)for(var C=l.child;C!==null;)m|=C.lanes|C.childLanes,w|=C.subtreeFlags&14680064,w|=C.flags&14680064,C.return=l,C=C.sibling;else for(C=l.child;C!==null;)m|=C.lanes|C.childLanes,w|=C.subtreeFlags,w|=C.flags,C.return=l,C=C.sibling;return l.subtreeFlags|=w,l.childLanes=m,d}function K7(l,d,m){var w=d.pendingProps;switch(X0(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(d),null;case 1:return sr(d.type)&&Tp(),Fn(d),null;case 3:return w=d.stateNode,Jl(),It(or),It($n),cb(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(l===null||l.child===null)&&(kp(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,li!==null&&(Fb(li),li=null))),Ab(l,d),Fn(d),null;case 5:ab(d);var C=ha(Id.current);if(m=d.type,l!==null&&d.stateNode!=null)zj(l,d,m,w,C),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!w){if(d.stateNode===null)throw Error(n(166));return Fn(d),null}if(l=ha(Li.current),kp(d)){w=d.stateNode,m=d.type;var j=d.memoizedProps;switch(w[$i]=d,w[Od]=j,l=(d.mode&1)!==0,m){case"dialog":Nt("cancel",w),Nt("close",w);break;case"iframe":case"object":case"embed":Nt("load",w);break;case"video":case"audio":for(C=0;C<Ed.length;C++)Nt(Ed[C],w);break;case"source":Nt("error",w);break;case"img":case"image":case"link":Nt("error",w),Nt("load",w);break;case"details":Nt("toggle",w);break;case"input":ct(w,j),Nt("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!j.multiple},Nt("invalid",w);break;case"textarea":so(w,j),Nt("invalid",w)}l0(m,j),C=null;for(var N in j)if(j.hasOwnProperty(N)){var q=j[N];N==="children"?typeof q=="string"?w.textContent!==q&&(j.suppressHydrationWarning!==!0&&_p(w.textContent,q,l),C=["children",q]):typeof q=="number"&&w.textContent!==""+q&&(j.suppressHydrationWarning!==!0&&_p(w.textContent,q,l),C=["children",""+q]):i.hasOwnProperty(N)&&q!=null&&N==="onScroll"&&Nt("scroll",w)}switch(m){case"input":ye(w),Kn(w,j,!0);break;case"textarea":ye(w),Tt(w);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(w.onclick=Sp)}w=C,d.updateQueue=w,w!==null&&(d.flags|=4)}else{N=C.nodeType===9?C:C.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=an(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=N.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof w.is=="string"?l=N.createElement(m,{is:w.is}):(l=N.createElement(m),m==="select"&&(N=l,w.multiple?N.multiple=!0:w.size&&(N.size=w.size))):l=N.createElementNS(l,m),l[$i]=d,l[Od]=w,Wj(l,d,!1,!1),d.stateNode=l;e:{switch(N=c0(m,w),m){case"dialog":Nt("cancel",l),Nt("close",l),C=w;break;case"iframe":case"object":case"embed":Nt("load",l),C=w;break;case"video":case"audio":for(C=0;C<Ed.length;C++)Nt(Ed[C],l);C=w;break;case"source":Nt("error",l),C=w;break;case"img":case"image":case"link":Nt("error",l),Nt("load",l),C=w;break;case"details":Nt("toggle",l),C=w;break;case"input":ct(l,w),C=Le(l,w),Nt("invalid",l);break;case"option":C=w;break;case"select":l._wrapperState={wasMultiple:!!w.multiple},C=L({},w,{value:void 0}),Nt("invalid",l);break;case"textarea":so(l,w),C=_r(l,w),Nt("invalid",l);break;default:C=w}l0(m,C),q=C;for(j in q)if(q.hasOwnProperty(j)){var H=q[j];j==="style"?MO(l,H):j==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&sd(l,H)):j==="children"?typeof H=="string"?(m!=="textarea"||H!=="")&&ad(l,H):typeof H=="number"&&ad(l,""+H):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?H!=null&&j==="onScroll"&&Nt("scroll",l):H!=null&&S(l,j,H,N))}switch(m){case"input":ye(l),Kn(l,w,!1);break;case"textarea":ye(l),Tt(l);break;case"option":w.value!=null&&l.setAttribute("value",""+ge(w.value));break;case"select":l.multiple=!!w.multiple,j=w.value,j!=null?On(l,!!w.multiple,j,!1):w.defaultValue!=null&&On(l,!!w.multiple,w.defaultValue,!0);break;default:typeof C.onClick=="function"&&(l.onclick=Sp)}switch(m){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Fn(d),null;case 6:if(l&&d.stateNode!=null)Hj(l,d,l.memoizedProps,w);else{if(typeof w!="string"&&d.stateNode===null)throw Error(n(166));if(m=ha(Id.current),ha(Li.current),kp(d)){if(w=d.stateNode,m=d.memoizedProps,w[$i]=d,(j=w.nodeValue!==m)&&(l=Pr,l!==null))switch(l.tag){case 3:_p(w.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&_p(w.nodeValue,m,(l.mode&1)!==0)}j&&(d.flags|=4)}else w=(m.nodeType===9?m:m.ownerDocument).createTextNode(w),w[$i]=d,d.stateNode=w}return Fn(d),null;case 13:if(It(qt),w=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Dt&&Tr!==null&&(d.mode&1)!==0&&(d.flags&128)===0)Yk(),Kl(),d.flags|=98560,j=!1;else if(j=kp(d),w!==null&&w.dehydrated!==null){if(l===null){if(!j)throw Error(n(318));if(j=d.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[$i]=d}else Kl(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Fn(d),j=!1}else li!==null&&(Fb(li),li=null),j=!0;if(!j)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(w=w!==null,w!==(l!==null&&l.memoizedState!==null)&&w&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(qt.current&1)!==0?cn===0&&(cn=3):qb())),d.updateQueue!==null&&(d.flags|=4),Fn(d),null);case 4:return Jl(),Ab(l,d),l===null&&Cd(d.stateNode.containerInfo),Fn(d),null;case 10:return nb(d.type._context),Fn(d),null;case 17:return sr(d.type)&&Tp(),Fn(d),null;case 19:if(It(qt),j=d.memoizedState,j===null)return Fn(d),null;if(w=(d.flags&128)!==0,N=j.rendering,N===null)if(w)Fd(j,!1);else{if(cn!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(N=Dp(l),N!==null){for(d.flags|=128,Fd(j,!1),w=N.updateQueue,w!==null&&(d.updateQueue=w,d.flags|=4),d.subtreeFlags=0,w=m,m=d.child;m!==null;)j=m,l=w,j.flags&=14680066,N=j.alternate,N===null?(j.childLanes=0,j.lanes=l,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=N.childLanes,j.lanes=N.lanes,j.child=N.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=N.memoizedProps,j.memoizedState=N.memoizedState,j.updateQueue=N.updateQueue,j.type=N.type,l=N.dependencies,j.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return Et(qt,qt.current&1|2),d.child}l=l.sibling}j.tail!==null&&Jt()>nc&&(d.flags|=128,w=!0,Fd(j,!1),d.lanes=4194304)}else{if(!w)if(l=Dp(N),l!==null){if(d.flags|=128,w=!0,m=l.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),Fd(j,!0),j.tail===null&&j.tailMode==="hidden"&&!N.alternate&&!Dt)return Fn(d),null}else 2*Jt()-j.renderingStartTime>nc&&m!==1073741824&&(d.flags|=128,w=!0,Fd(j,!1),d.lanes=4194304);j.isBackwards?(N.sibling=d.child,d.child=N):(m=j.last,m!==null?m.sibling=N:d.child=N,j.last=N)}return j.tail!==null?(d=j.tail,j.rendering=d,j.tail=d.sibling,j.renderingStartTime=Jt(),d.sibling=null,m=qt.current,Et(qt,w?m&1|2:m&1),d):(Fn(d),null);case 22:case 23:return Ub(),w=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==w&&(d.flags|=8192),w&&(d.mode&1)!==0?(Er&1073741824)!==0&&(Fn(d),d.subtreeFlags&6&&(d.flags|=8192)):Fn(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function Y7(l,d){switch(X0(d),d.tag){case 1:return sr(d.type)&&Tp(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return Jl(),It(or),It($n),cb(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return ab(d),null;case 13:if(It(qt),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Kl()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return It(qt),null;case 4:return Jl(),null;case 10:return nb(d.type._context),null;case 22:case 23:return Ub(),null;case 24:return null;default:return null}}var zp=!1,Bn=!1,X7=typeof WeakSet=="function"?WeakSet:Set,Se=null;function ec(l,d){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(w){Gt(l,d,w)}else m.current=null}function Ob(l,d,m){try{m()}catch(w){Gt(l,d,w)}}var Gj=!1;function Q7(l,d){if(U0=dp,l=Tk(),N0(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var w=m.getSelection&&m.getSelection();if(w&&w.rangeCount!==0){m=w.anchorNode;var C=w.anchorOffset,j=w.focusNode;w=w.focusOffset;try{m.nodeType,j.nodeType}catch{m=null;break e}var N=0,q=-1,H=-1,ne=0,ce=0,ue=l,le=null;t:for(;;){for(var we;ue!==m||C!==0&&ue.nodeType!==3||(q=N+C),ue!==j||w!==0&&ue.nodeType!==3||(H=N+w),ue.nodeType===3&&(N+=ue.nodeValue.length),(we=ue.firstChild)!==null;)le=ue,ue=we;for(;;){if(ue===l)break t;if(le===m&&++ne===C&&(q=N),le===j&&++ce===w&&(H=N),(we=ue.nextSibling)!==null)break;ue=le,le=ue.parentNode}ue=we}m=q===-1||H===-1?null:{start:q,end:H}}else m=null}m=m||{start:0,end:0}}else m=null;for(q0={focusedElem:l,selectionRange:m},dp=!1,Se=d;Se!==null;)if(d=Se,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,Se=l;else for(;Se!==null;){d=Se;try{var Ee=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Oe=Ee.memoizedProps,Zt=Ee.memoizedState,ee=d.stateNode,X=ee.getSnapshotBeforeUpdate(d.elementType===d.type?Oe:ci(d.type,Oe),Zt);ee.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var te=d.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){Gt(d,d.return,he)}if(l=d.sibling,l!==null){l.return=d.return,Se=l;break}Se=d.return}return Ee=Gj,Gj=!1,Ee}function Bd(l,d,m){var w=d.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var C=w=w.next;do{if((C.tag&l)===l){var j=C.destroy;C.destroy=void 0,j!==void 0&&Ob(d,m,j)}C=C.next}while(C!==w)}}function Hp(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&l)===l){var w=m.create;m.destroy=w()}m=m.next}while(m!==d)}}function kb(l){var d=l.ref;if(d!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof d=="function"?d(l):d.current=l}}function Kj(l){var d=l.alternate;d!==null&&(l.alternate=null,Kj(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[$i],delete d[Od],delete d[H0],delete d[N7],delete d[I7])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Yj(l){return l.tag===5||l.tag===3||l.tag===4}function Xj(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Yj(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function jb(l,d,m){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(l,d):m.insertBefore(l,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(l,m)):(d=m,d.appendChild(l)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Sp));else if(w!==4&&(l=l.child,l!==null))for(jb(l,d,m),l=l.sibling;l!==null;)jb(l,d,m),l=l.sibling}function Rb(l,d,m){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?m.insertBefore(l,d):m.appendChild(l);else if(w!==4&&(l=l.child,l!==null))for(Rb(l,d,m),l=l.sibling;l!==null;)Rb(l,d,m),l=l.sibling}var kn=null,ui=!1;function ps(l,d,m){for(m=m.child;m!==null;)Qj(l,d,m),m=m.sibling}function Qj(l,d,m){if(Di&&typeof Di.onCommitFiberUnmount=="function")try{Di.onCommitFiberUnmount(op,m)}catch{}switch(m.tag){case 5:Bn||ec(m,d);case 6:var w=kn,C=ui;kn=null,ps(l,d,m),kn=w,ui=C,kn!==null&&(ui?(l=kn,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):kn.removeChild(m.stateNode));break;case 18:kn!==null&&(ui?(l=kn,m=m.stateNode,l.nodeType===8?z0(l.parentNode,m):l.nodeType===1&&z0(l,m),yd(l)):z0(kn,m.stateNode));break;case 4:w=kn,C=ui,kn=m.stateNode.containerInfo,ui=!0,ps(l,d,m),kn=w,ui=C;break;case 0:case 11:case 14:case 15:if(!Bn&&(w=m.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){C=w=w.next;do{var j=C,N=j.destroy;j=j.tag,N!==void 0&&((j&2)!==0||(j&4)!==0)&&Ob(m,d,N),C=C.next}while(C!==w)}ps(l,d,m);break;case 1:if(!Bn&&(ec(m,d),w=m.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=m.memoizedProps,w.state=m.memoizedState,w.componentWillUnmount()}catch(q){Gt(m,d,q)}ps(l,d,m);break;case 21:ps(l,d,m);break;case 22:m.mode&1?(Bn=(w=Bn)||m.memoizedState!==null,ps(l,d,m),Bn=w):ps(l,d,m);break;default:ps(l,d,m)}}function Jj(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new X7),d.forEach(function(w){var C=sG.bind(null,l,w);m.has(w)||(m.add(w),w.then(C,C))})}}function di(l,d){var m=d.deletions;if(m!==null)for(var w=0;w<m.length;w++){var C=m[w];try{var j=l,N=d,q=N;e:for(;q!==null;){switch(q.tag){case 5:kn=q.stateNode,ui=!1;break e;case 3:kn=q.stateNode.containerInfo,ui=!0;break e;case 4:kn=q.stateNode.containerInfo,ui=!0;break e}q=q.return}if(kn===null)throw Error(n(160));Qj(j,N,C),kn=null,ui=!1;var H=C.alternate;H!==null&&(H.return=null),C.return=null}catch(ne){Gt(C,d,ne)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)Zj(d,l),d=d.sibling}function Zj(l,d){var m=l.alternate,w=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(di(d,l),Bi(l),w&4){try{Bd(3,l,l.return),Hp(3,l)}catch(Oe){Gt(l,l.return,Oe)}try{Bd(5,l,l.return)}catch(Oe){Gt(l,l.return,Oe)}}break;case 1:di(d,l),Bi(l),w&512&&m!==null&&ec(m,m.return);break;case 5:if(di(d,l),Bi(l),w&512&&m!==null&&ec(m,m.return),l.flags&32){var C=l.stateNode;try{ad(C,"")}catch(Oe){Gt(l,l.return,Oe)}}if(w&4&&(C=l.stateNode,C!=null)){var j=l.memoizedProps,N=m!==null?m.memoizedProps:j,q=l.type,H=l.updateQueue;if(l.updateQueue=null,H!==null)try{q==="input"&&j.type==="radio"&&j.name!=null&&ut(C,j),c0(q,N);var ne=c0(q,j);for(N=0;N<H.length;N+=2){var ce=H[N],ue=H[N+1];ce==="style"?MO(C,ue):ce==="dangerouslySetInnerHTML"?sd(C,ue):ce==="children"?ad(C,ue):S(C,ce,ue,ne)}switch(q){case"input":Pt(C,j);break;case"textarea":Je(C,j);break;case"select":var le=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!j.multiple;var we=j.value;we!=null?On(C,!!j.multiple,we,!1):le!==!!j.multiple&&(j.defaultValue!=null?On(C,!!j.multiple,j.defaultValue,!0):On(C,!!j.multiple,j.multiple?[]:"",!1))}C[Od]=j}catch(Oe){Gt(l,l.return,Oe)}}break;case 6:if(di(d,l),Bi(l),w&4){if(l.stateNode===null)throw Error(n(162));C=l.stateNode,j=l.memoizedProps;try{C.nodeValue=j}catch(Oe){Gt(l,l.return,Oe)}}break;case 3:if(di(d,l),Bi(l),w&4&&m!==null&&m.memoizedState.isDehydrated)try{yd(d.containerInfo)}catch(Oe){Gt(l,l.return,Oe)}break;case 4:di(d,l),Bi(l);break;case 13:di(d,l),Bi(l),C=l.child,C.flags&8192&&(j=C.memoizedState!==null,C.stateNode.isHidden=j,!j||C.alternate!==null&&C.alternate.memoizedState!==null||(Mb=Jt())),w&4&&Jj(l);break;case 22:if(ce=m!==null&&m.memoizedState!==null,l.mode&1?(Bn=(ne=Bn)||ce,di(d,l),Bn=ne):di(d,l),Bi(l),w&8192){if(ne=l.memoizedState!==null,(l.stateNode.isHidden=ne)&&!ce&&(l.mode&1)!==0)for(Se=l,ce=l.child;ce!==null;){for(ue=Se=ce;Se!==null;){switch(le=Se,we=le.child,le.tag){case 0:case 11:case 14:case 15:Bd(4,le,le.return);break;case 1:ec(le,le.return);var Ee=le.stateNode;if(typeof Ee.componentWillUnmount=="function"){w=le,m=le.return;try{d=w,Ee.props=d.memoizedProps,Ee.state=d.memoizedState,Ee.componentWillUnmount()}catch(Oe){Gt(w,m,Oe)}}break;case 5:ec(le,le.return);break;case 22:if(le.memoizedState!==null){nR(ue);continue}}we!==null?(we.return=le,Se=we):nR(ue)}ce=ce.sibling}e:for(ce=null,ue=l;;){if(ue.tag===5){if(ce===null){ce=ue;try{C=ue.stateNode,ne?(j=C.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(q=ue.stateNode,H=ue.memoizedProps.style,N=H!=null&&H.hasOwnProperty("display")?H.display:null,q.style.display=IO("display",N))}catch(Oe){Gt(l,l.return,Oe)}}}else if(ue.tag===6){if(ce===null)try{ue.stateNode.nodeValue=ne?"":ue.memoizedProps}catch(Oe){Gt(l,l.return,Oe)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===l)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===l)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===l)break e;ce===ue&&(ce=null),ue=ue.return}ce===ue&&(ce=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:di(d,l),Bi(l),w&4&&Jj(l);break;case 21:break;default:di(d,l),Bi(l)}}function Bi(l){var d=l.flags;if(d&2){try{e:{for(var m=l.return;m!==null;){if(Yj(m)){var w=m;break e}m=m.return}throw Error(n(160))}switch(w.tag){case 5:var C=w.stateNode;w.flags&32&&(ad(C,""),w.flags&=-33);var j=Xj(l);Rb(l,j,C);break;case 3:case 4:var N=w.stateNode.containerInfo,q=Xj(l);jb(l,q,N);break;default:throw Error(n(161))}}catch(H){Gt(l,l.return,H)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function J7(l,d,m){Se=l,eR(l)}function eR(l,d,m){for(var w=(l.mode&1)!==0;Se!==null;){var C=Se,j=C.child;if(C.tag===22&&w){var N=C.memoizedState!==null||zp;if(!N){var q=C.alternate,H=q!==null&&q.memoizedState!==null||Bn;q=zp;var ne=Bn;if(zp=N,(Bn=H)&&!ne)for(Se=C;Se!==null;)N=Se,H=N.child,N.tag===22&&N.memoizedState!==null?rR(C):H!==null?(H.return=N,Se=H):rR(C);for(;j!==null;)Se=j,eR(j),j=j.sibling;Se=C,zp=q,Bn=ne}tR(l)}else(C.subtreeFlags&8772)!==0&&j!==null?(j.return=C,Se=j):tR(l)}}function tR(l){for(;Se!==null;){var d=Se;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Bn||Hp(5,d);break;case 1:var w=d.stateNode;if(d.flags&4&&!Bn)if(m===null)w.componentDidMount();else{var C=d.elementType===d.type?m.memoizedProps:ci(d.type,m.memoizedProps);w.componentDidUpdate(C,m.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var j=d.updateQueue;j!==null&&nj(d,j,w);break;case 3:var N=d.updateQueue;if(N!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}nj(d,N,m)}break;case 5:var q=d.stateNode;if(m===null&&d.flags&4){m=q;var H=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&m.focus();break;case"img":H.src&&(m.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var ne=d.alternate;if(ne!==null){var ce=ne.memoizedState;if(ce!==null){var ue=ce.dehydrated;ue!==null&&yd(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Bn||d.flags&512&&kb(d)}catch(le){Gt(d,d.return,le)}}if(d===l){Se=null;break}if(m=d.sibling,m!==null){m.return=d.return,Se=m;break}Se=d.return}}function nR(l){for(;Se!==null;){var d=Se;if(d===l){Se=null;break}var m=d.sibling;if(m!==null){m.return=d.return,Se=m;break}Se=d.return}}function rR(l){for(;Se!==null;){var d=Se;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{Hp(4,d)}catch(H){Gt(d,m,H)}break;case 1:var w=d.stateNode;if(typeof w.componentDidMount=="function"){var C=d.return;try{w.componentDidMount()}catch(H){Gt(d,C,H)}}var j=d.return;try{kb(d)}catch(H){Gt(d,j,H)}break;case 5:var N=d.return;try{kb(d)}catch(H){Gt(d,N,H)}}}catch(H){Gt(d,d.return,H)}if(d===l){Se=null;break}var q=d.sibling;if(q!==null){q.return=d.return,Se=q;break}Se=d.return}}var Z7=Math.ceil,Gp=A.ReactCurrentDispatcher,Nb=A.ReactCurrentOwner,Br=A.ReactCurrentBatchConfig,ot=0,xn=null,en=null,jn=0,Er=0,tc=cs(0),cn=0,Ud=null,ma=0,Kp=0,Ib=0,qd=null,lr=null,Mb=0,nc=1/0,mo=null,Yp=!1,Db=null,ms=null,Xp=!1,gs=null,Qp=0,Vd=0,$b=null,Jp=-1,Zp=0;function Xn(){return(ot&6)!==0?Jt():Jp!==-1?Jp:Jp=Jt()}function vs(l){return(l.mode&1)===0?1:(ot&2)!==0&&jn!==0?jn&-jn:D7.transition!==null?(Zp===0&&(Zp=XO()),Zp):(l=vt,l!==0||(l=window.event,l=l===void 0?16:ok(l.type)),l)}function fi(l,d,m,w){if(50<Vd)throw Vd=0,$b=null,Error(n(185));hd(l,m,w),((ot&2)===0||l!==xn)&&(l===xn&&((ot&2)===0&&(Kp|=m),cn===4&&ys(l,jn)),cr(l,w),m===1&&ot===0&&(d.mode&1)===0&&(nc=Jt()+500,Cp&&ds()))}function cr(l,d){var m=l.callbackNode;D9(l,d);var w=lp(l,l===xn?jn:0);if(w===0)m!==null&&GO(m),l.callbackNode=null,l.callbackPriority=0;else if(d=w&-w,l.callbackPriority!==d){if(m!=null&&GO(m),d===1)l.tag===0?M7(oR.bind(null,l)):Wk(oR.bind(null,l)),j7(function(){(ot&6)===0&&ds()}),m=null;else{switch(QO(w)){case 1:m=g0;break;case 4:m=KO;break;case 16:m=ip;break;case 536870912:m=YO;break;default:m=ip}m=hR(m,iR.bind(null,l))}l.callbackPriority=d,l.callbackNode=m}}function iR(l,d){if(Jp=-1,Zp=0,(ot&6)!==0)throw Error(n(327));var m=l.callbackNode;if(rc()&&l.callbackNode!==m)return null;var w=lp(l,l===xn?jn:0);if(w===0)return null;if((w&30)!==0||(w&l.expiredLanes)!==0||d)d=em(l,w);else{d=w;var C=ot;ot|=2;var j=aR();(xn!==l||jn!==d)&&(mo=null,nc=Jt()+500,va(l,d));do try{nG();break}catch(q){sR(l,q)}while(!0);tb(),Gp.current=j,ot=C,en!==null?d=0:(xn=null,jn=0,d=cn)}if(d!==0){if(d===2&&(C=v0(l),C!==0&&(w=C,d=Lb(l,C))),d===1)throw m=Ud,va(l,0),ys(l,w),cr(l,Jt()),m;if(d===6)ys(l,w);else{if(C=l.current.alternate,(w&30)===0&&!eG(C)&&(d=em(l,w),d===2&&(j=v0(l),j!==0&&(w=j,d=Lb(l,j))),d===1))throw m=Ud,va(l,0),ys(l,w),cr(l,Jt()),m;switch(l.finishedWork=C,l.finishedLanes=w,d){case 0:case 1:throw Error(n(345));case 2:ya(l,lr,mo);break;case 3:if(ys(l,w),(w&130023424)===w&&(d=Mb+500-Jt(),10<d)){if(lp(l,0)!==0)break;if(C=l.suspendedLanes,(C&w)!==w){Xn(),l.pingedLanes|=l.suspendedLanes&C;break}l.timeoutHandle=W0(ya.bind(null,l,lr,mo),d);break}ya(l,lr,mo);break;case 4:if(ys(l,w),(w&4194240)===w)break;for(d=l.eventTimes,C=-1;0<w;){var N=31-si(w);j=1<<N,N=d[N],N>C&&(C=N),w&=~j}if(w=C,w=Jt()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*Z7(w/1960))-w,10<w){l.timeoutHandle=W0(ya.bind(null,l,lr,mo),w);break}ya(l,lr,mo);break;case 5:ya(l,lr,mo);break;default:throw Error(n(329))}}}return cr(l,Jt()),l.callbackNode===m?iR.bind(null,l):null}function Lb(l,d){var m=qd;return l.current.memoizedState.isDehydrated&&(va(l,d).flags|=256),l=em(l,d),l!==2&&(d=lr,lr=m,d!==null&&Fb(d)),l}function Fb(l){lr===null?lr=l:lr.push.apply(lr,l)}function eG(l){for(var d=l;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var w=0;w<m.length;w++){var C=m[w],j=C.getSnapshot;C=C.value;try{if(!ai(j(),C))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function ys(l,d){for(d&=~Ib,d&=~Kp,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var m=31-si(d),w=1<<m;l[m]=-1,d&=~w}}function oR(l){if((ot&6)!==0)throw Error(n(327));rc();var d=lp(l,0);if((d&1)===0)return cr(l,Jt()),null;var m=em(l,d);if(l.tag!==0&&m===2){var w=v0(l);w!==0&&(d=w,m=Lb(l,w))}if(m===1)throw m=Ud,va(l,0),ys(l,d),cr(l,Jt()),m;if(m===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,ya(l,lr,mo),cr(l,Jt()),null}function Bb(l,d){var m=ot;ot|=1;try{return l(d)}finally{ot=m,ot===0&&(nc=Jt()+500,Cp&&ds())}}function ga(l){gs!==null&&gs.tag===0&&(ot&6)===0&&rc();var d=ot;ot|=1;var m=Br.transition,w=vt;try{if(Br.transition=null,vt=1,l)return l()}finally{vt=w,Br.transition=m,ot=d,(ot&6)===0&&ds()}}function Ub(){Er=tc.current,It(tc)}function va(l,d){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,k7(m)),en!==null)for(m=en.return;m!==null;){var w=m;switch(X0(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Tp();break;case 3:Jl(),It(or),It($n),cb();break;case 5:ab(w);break;case 4:Jl();break;case 13:It(qt);break;case 19:It(qt);break;case 10:nb(w.type._context);break;case 22:case 23:Ub()}m=m.return}if(xn=l,en=l=bs(l.current,null),jn=Er=d,cn=0,Ud=null,Ib=Kp=ma=0,lr=qd=null,fa!==null){for(d=0;d<fa.length;d++)if(m=fa[d],w=m.interleaved,w!==null){m.interleaved=null;var C=w.next,j=m.pending;if(j!==null){var N=j.next;j.next=C,w.next=N}m.pending=w}fa=null}return l}function sR(l,d){do{var m=en;try{if(tb(),$p.current=Up,Lp){for(var w=Vt.memoizedState;w!==null;){var C=w.queue;C!==null&&(C.pending=null),w=w.next}Lp=!1}if(pa=0,wn=ln=Vt=null,Md=!1,Dd=0,Nb.current=null,m===null||m.return===null){cn=1,Ud=d,en=null;break}e:{var j=l,N=m.return,q=m,H=d;if(d=jn,q.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var ne=H,ce=q,ue=ce.tag;if((ce.mode&1)===0&&(ue===0||ue===11||ue===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var we=jj(N);if(we!==null){we.flags&=-257,Rj(we,N,q,j,d),we.mode&1&&kj(j,ne,d),d=we,H=ne;var Ee=d.updateQueue;if(Ee===null){var Oe=new Set;Oe.add(H),d.updateQueue=Oe}else Ee.add(H);break e}else{if((d&1)===0){kj(j,ne,d),qb();break e}H=Error(n(426))}}else if(Dt&&q.mode&1){var Zt=jj(N);if(Zt!==null){(Zt.flags&65536)===0&&(Zt.flags|=256),Rj(Zt,N,q,j,d),Z0(Zl(H,q));break e}}j=H=Zl(H,q),cn!==4&&(cn=2),qd===null?qd=[j]:qd.push(j),j=N;do{switch(j.tag){case 3:j.flags|=65536,d&=-d,j.lanes|=d;var ee=Aj(j,H,d);tj(j,ee);break e;case 1:q=H;var X=j.type,te=j.stateNode;if((j.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(ms===null||!ms.has(te)))){j.flags|=65536,d&=-d,j.lanes|=d;var he=Oj(j,q,d);tj(j,he);break e}}j=j.return}while(j!==null)}cR(m)}catch(ke){d=ke,en===m&&m!==null&&(en=m=m.return);continue}break}while(!0)}function aR(){var l=Gp.current;return Gp.current=Up,l===null?Up:l}function qb(){(cn===0||cn===3||cn===2)&&(cn=4),xn===null||(ma&268435455)===0&&(Kp&268435455)===0||ys(xn,jn)}function em(l,d){var m=ot;ot|=2;var w=aR();(xn!==l||jn!==d)&&(mo=null,va(l,d));do try{tG();break}catch(C){sR(l,C)}while(!0);if(tb(),ot=m,Gp.current=w,en!==null)throw Error(n(261));return xn=null,jn=0,cn}function tG(){for(;en!==null;)lR(en)}function nG(){for(;en!==null&&!C9();)lR(en)}function lR(l){var d=fR(l.alternate,l,Er);l.memoizedProps=l.pendingProps,d===null?cR(l):en=d,Nb.current=null}function cR(l){var d=l;do{var m=d.alternate;if(l=d.return,(d.flags&32768)===0){if(m=K7(m,d,Er),m!==null){en=m;return}}else{if(m=Y7(m,d),m!==null){m.flags&=32767,en=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{cn=6,en=null;return}}if(d=d.sibling,d!==null){en=d;return}en=d=l}while(d!==null);cn===0&&(cn=5)}function ya(l,d,m){var w=vt,C=Br.transition;try{Br.transition=null,vt=1,rG(l,d,m,w)}finally{Br.transition=C,vt=w}return null}function rG(l,d,m,w){do rc();while(gs!==null);if((ot&6)!==0)throw Error(n(327));m=l.finishedWork;var C=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var j=m.lanes|m.childLanes;if($9(l,j),l===xn&&(en=xn=null,jn=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Xp||(Xp=!0,hR(ip,function(){return rc(),null})),j=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||j){j=Br.transition,Br.transition=null;var N=vt;vt=1;var q=ot;ot|=4,Nb.current=null,Q7(l,m),Zj(m,l),S7(q0),dp=!!U0,q0=U0=null,l.current=m,J7(m),A9(),ot=q,vt=N,Br.transition=j}else l.current=m;if(Xp&&(Xp=!1,gs=l,Qp=C),j=l.pendingLanes,j===0&&(ms=null),j9(m.stateNode),cr(l,Jt()),d!==null)for(w=l.onRecoverableError,m=0;m<d.length;m++)C=d[m],w(C.value,{componentStack:C.stack,digest:C.digest});if(Yp)throw Yp=!1,l=Db,Db=null,l;return(Qp&1)!==0&&l.tag!==0&&rc(),j=l.pendingLanes,(j&1)!==0?l===$b?Vd++:(Vd=0,$b=l):Vd=0,ds(),null}function rc(){if(gs!==null){var l=QO(Qp),d=Br.transition,m=vt;try{if(Br.transition=null,vt=16>l?16:l,gs===null)var w=!1;else{if(l=gs,gs=null,Qp=0,(ot&6)!==0)throw Error(n(331));var C=ot;for(ot|=4,Se=l.current;Se!==null;){var j=Se,N=j.child;if((Se.flags&16)!==0){var q=j.deletions;if(q!==null){for(var H=0;H<q.length;H++){var ne=q[H];for(Se=ne;Se!==null;){var ce=Se;switch(ce.tag){case 0:case 11:case 15:Bd(8,ce,j)}var ue=ce.child;if(ue!==null)ue.return=ce,Se=ue;else for(;Se!==null;){ce=Se;var le=ce.sibling,we=ce.return;if(Kj(ce),ce===ne){Se=null;break}if(le!==null){le.return=we,Se=le;break}Se=we}}}var Ee=j.alternate;if(Ee!==null){var Oe=Ee.child;if(Oe!==null){Ee.child=null;do{var Zt=Oe.sibling;Oe.sibling=null,Oe=Zt}while(Oe!==null)}}Se=j}}if((j.subtreeFlags&2064)!==0&&N!==null)N.return=j,Se=N;else e:for(;Se!==null;){if(j=Se,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Bd(9,j,j.return)}var ee=j.sibling;if(ee!==null){ee.return=j.return,Se=ee;break e}Se=j.return}}var X=l.current;for(Se=X;Se!==null;){N=Se;var te=N.child;if((N.subtreeFlags&2064)!==0&&te!==null)te.return=N,Se=te;else e:for(N=X;Se!==null;){if(q=Se,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:Hp(9,q)}}catch(ke){Gt(q,q.return,ke)}if(q===N){Se=null;break e}var he=q.sibling;if(he!==null){he.return=q.return,Se=he;break e}Se=q.return}}if(ot=C,ds(),Di&&typeof Di.onPostCommitFiberRoot=="function")try{Di.onPostCommitFiberRoot(op,l)}catch{}w=!0}return w}finally{vt=m,Br.transition=d}}return!1}function uR(l,d,m){d=Zl(m,d),d=Aj(l,d,1),l=hs(l,d,1),d=Xn(),l!==null&&(hd(l,1,d),cr(l,d))}function Gt(l,d,m){if(l.tag===3)uR(l,l,m);else for(;d!==null;){if(d.tag===3){uR(d,l,m);break}else if(d.tag===1){var w=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(ms===null||!ms.has(w))){l=Zl(m,l),l=Oj(d,l,1),d=hs(d,l,1),l=Xn(),d!==null&&(hd(d,1,l),cr(d,l));break}}d=d.return}}function iG(l,d,m){var w=l.pingCache;w!==null&&w.delete(d),d=Xn(),l.pingedLanes|=l.suspendedLanes&m,xn===l&&(jn&m)===m&&(cn===4||cn===3&&(jn&130023424)===jn&&500>Jt()-Mb?va(l,0):Ib|=m),cr(l,d)}function dR(l,d){d===0&&((l.mode&1)===0?d=1:(d=ap,ap<<=1,(ap&130023424)===0&&(ap=4194304)));var m=Xn();l=fo(l,d),l!==null&&(hd(l,d,m),cr(l,m))}function oG(l){var d=l.memoizedState,m=0;d!==null&&(m=d.retryLane),dR(l,m)}function sG(l,d){var m=0;switch(l.tag){case 13:var w=l.stateNode,C=l.memoizedState;C!==null&&(m=C.retryLane);break;case 19:w=l.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(d),dR(l,m)}var fR;fR=function(l,d,m){if(l!==null)if(l.memoizedProps!==d.pendingProps||or.current)ar=!0;else{if((l.lanes&m)===0&&(d.flags&128)===0)return ar=!1,G7(l,d,m);ar=(l.flags&131072)!==0}else ar=!1,Dt&&(d.flags&1048576)!==0&&zk(d,Op,d.index);switch(d.lanes=0,d.tag){case 2:var w=d.type;Wp(l,d),l=d.pendingProps;var C=zl(d,$n.current);Ql(d,m),C=fb(null,d,w,l,C,m);var j=hb();return d.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,sr(w)?(j=!0,Ep(d)):j=!1,d.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,ob(d),C.updater=qp,d.stateNode=C,C._reactInternals=d,bb(d,w,l,m),d=Sb(null,d,w,!0,j,m)):(d.tag=0,Dt&&j&&Y0(d),Yn(null,d,C,m),d=d.child),d;case 16:w=d.elementType;e:{switch(Wp(l,d),l=d.pendingProps,C=w._init,w=C(w._payload),d.type=w,C=d.tag=lG(w),l=ci(w,l),C){case 0:d=_b(null,d,w,l,m);break e;case 1:d=Lj(null,d,w,l,m);break e;case 11:d=Nj(null,d,w,l,m);break e;case 14:d=Ij(null,d,w,ci(w.type,l),m);break e}throw Error(n(306,w,""))}return d;case 0:return w=d.type,C=d.pendingProps,C=d.elementType===w?C:ci(w,C),_b(l,d,w,C,m);case 1:return w=d.type,C=d.pendingProps,C=d.elementType===w?C:ci(w,C),Lj(l,d,w,C,m);case 3:e:{if(Fj(d),l===null)throw Error(n(387));w=d.pendingProps,j=d.memoizedState,C=j.element,ej(l,d),Mp(d,w,null,m);var N=d.memoizedState;if(w=N.element,j.isDehydrated)if(j={element:w,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},d.updateQueue.baseState=j,d.memoizedState=j,d.flags&256){C=Zl(Error(n(423)),d),d=Bj(l,d,w,m,C);break e}else if(w!==C){C=Zl(Error(n(424)),d),d=Bj(l,d,w,m,C);break e}else for(Tr=ls(d.stateNode.containerInfo.firstChild),Pr=d,Dt=!0,li=null,m=Jk(d,null,w,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Kl(),w===C){d=po(l,d,m);break e}Yn(l,d,w,m)}d=d.child}return d;case 5:return rj(d),l===null&&J0(d),w=d.type,C=d.pendingProps,j=l!==null?l.memoizedProps:null,N=C.children,V0(w,C)?N=null:j!==null&&V0(w,j)&&(d.flags|=32),$j(l,d),Yn(l,d,N,m),d.child;case 6:return l===null&&J0(d),null;case 13:return Uj(l,d,m);case 4:return sb(d,d.stateNode.containerInfo),w=d.pendingProps,l===null?d.child=Yl(d,null,w,m):Yn(l,d,w,m),d.child;case 11:return w=d.type,C=d.pendingProps,C=d.elementType===w?C:ci(w,C),Nj(l,d,w,C,m);case 7:return Yn(l,d,d.pendingProps,m),d.child;case 8:return Yn(l,d,d.pendingProps.children,m),d.child;case 12:return Yn(l,d,d.pendingProps.children,m),d.child;case 10:e:{if(w=d.type._context,C=d.pendingProps,j=d.memoizedProps,N=C.value,Et(Rp,w._currentValue),w._currentValue=N,j!==null)if(ai(j.value,N)){if(j.children===C.children&&!or.current){d=po(l,d,m);break e}}else for(j=d.child,j!==null&&(j.return=d);j!==null;){var q=j.dependencies;if(q!==null){N=j.child;for(var H=q.firstContext;H!==null;){if(H.context===w){if(j.tag===1){H=ho(-1,m&-m),H.tag=2;var ne=j.updateQueue;if(ne!==null){ne=ne.shared;var ce=ne.pending;ce===null?H.next=H:(H.next=ce.next,ce.next=H),ne.pending=H}}j.lanes|=m,H=j.alternate,H!==null&&(H.lanes|=m),rb(j.return,m,d),q.lanes|=m;break}H=H.next}}else if(j.tag===10)N=j.type===d.type?null:j.child;else if(j.tag===18){if(N=j.return,N===null)throw Error(n(341));N.lanes|=m,q=N.alternate,q!==null&&(q.lanes|=m),rb(N,m,d),N=j.sibling}else N=j.child;if(N!==null)N.return=j;else for(N=j;N!==null;){if(N===d){N=null;break}if(j=N.sibling,j!==null){j.return=N.return,N=j;break}N=N.return}j=N}Yn(l,d,C.children,m),d=d.child}return d;case 9:return C=d.type,w=d.pendingProps.children,Ql(d,m),C=Lr(C),w=w(C),d.flags|=1,Yn(l,d,w,m),d.child;case 14:return w=d.type,C=ci(w,d.pendingProps),C=ci(w.type,C),Ij(l,d,w,C,m);case 15:return Mj(l,d,d.type,d.pendingProps,m);case 17:return w=d.type,C=d.pendingProps,C=d.elementType===w?C:ci(w,C),Wp(l,d),d.tag=1,sr(w)?(l=!0,Ep(d)):l=!1,Ql(d,m),Ej(d,w,C),bb(d,w,C,m),Sb(null,d,w,!0,l,m);case 19:return Vj(l,d,m);case 22:return Dj(l,d,m)}throw Error(n(156,d.tag))};function hR(l,d){return HO(l,d)}function aG(l,d,m,w){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(l,d,m,w){return new aG(l,d,m,w)}function Vb(l){return l=l.prototype,!(!l||!l.isReactComponent)}function lG(l){if(typeof l=="function")return Vb(l)?1:0;if(l!=null){if(l=l.$$typeof,l===U)return 11;if(l===Q)return 14}return 2}function bs(l,d){var m=l.alternate;return m===null?(m=Ur(l.tag,d,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=d,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,d=l.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function tm(l,d,m,w,C,j){var N=2;if(w=l,typeof l=="function")Vb(l)&&(N=1);else if(typeof l=="string")N=5;else e:switch(l){case k:return ba(m.children,C,j,d);case R:N=8,C|=8;break;case I:return l=Ur(12,m,d,C|2),l.elementType=I,l.lanes=j,l;case V:return l=Ur(13,m,d,C),l.elementType=V,l.lanes=j,l;case Y:return l=Ur(19,m,d,C),l.elementType=Y,l.lanes=j,l;case J:return nm(m,C,j,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case D:N=10;break e;case M:N=9;break e;case U:N=11;break e;case Q:N=14;break e;case K:N=16,w=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return d=Ur(N,m,d,C),d.elementType=l,d.type=w,d.lanes=j,d}function ba(l,d,m,w){return l=Ur(7,l,w,d),l.lanes=m,l}function nm(l,d,m,w){return l=Ur(22,l,w,d),l.elementType=J,l.lanes=m,l.stateNode={isHidden:!1},l}function Wb(l,d,m){return l=Ur(6,l,null,d),l.lanes=m,l}function zb(l,d,m){return d=Ur(4,l.children!==null?l.children:[],l.key,d),d.lanes=m,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function cG(l,d,m,w,C){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=y0(0),this.expirationTimes=y0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=y0(0),this.identifierPrefix=w,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function Hb(l,d,m,w,C,j,N,q,H){return l=new cG(l,d,m,q,H),d===1?(d=1,j===!0&&(d|=8)):d=0,j=Ur(3,null,null,d),l.current=j,j.stateNode=l,j.memoizedState={element:w,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},ob(j),l}function uG(l,d,m){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:w==null?null:""+w,children:l,containerInfo:d,implementation:m}}function pR(l){if(!l)return us;l=l._reactInternals;e:{if(aa(l)!==l||l.tag!==1)throw Error(n(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(sr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(l.tag===1){var m=l.type;if(sr(m))return qk(l,m,d)}return d}function mR(l,d,m,w,C,j,N,q,H){return l=Hb(m,w,!0,l,C,j,N,q,H),l.context=pR(null),m=l.current,w=Xn(),C=vs(m),j=ho(w,C),j.callback=d??null,hs(m,j,C),l.current.lanes=C,hd(l,C,w),cr(l,w),l}function rm(l,d,m,w){var C=d.current,j=Xn(),N=vs(C);return m=pR(m),d.context===null?d.context=m:d.pendingContext=m,d=ho(j,N),d.payload={element:l},w=w===void 0?null:w,w!==null&&(d.callback=w),l=hs(C,d,N),l!==null&&(fi(l,C,N,j),Ip(l,C,N)),N}function im(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function gR(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<d?m:d}}function Gb(l,d){gR(l,d),(l=l.alternate)&&gR(l,d)}function dG(){return null}var vR=typeof reportError=="function"?reportError:function(l){console.error(l)};function Kb(l){this._internalRoot=l}om.prototype.render=Kb.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(n(409));rm(l,d,null,null)},om.prototype.unmount=Kb.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;ga(function(){rm(null,l,null,null)}),d[ao]=null}};function om(l){this._internalRoot=l}om.prototype.unstable_scheduleHydration=function(l){if(l){var d=ek();l={blockedOn:null,target:l,priority:d};for(var m=0;m<os.length&&d!==0&&d<os[m].priority;m++);os.splice(m,0,l),m===0&&rk(l)}};function Yb(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function sm(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function yR(){}function fG(l,d,m,w,C){if(C){if(typeof w=="function"){var j=w;w=function(){var ne=im(N);j.call(ne)}}var N=mR(d,w,l,0,null,!1,!1,"",yR);return l._reactRootContainer=N,l[ao]=N.current,Cd(l.nodeType===8?l.parentNode:l),ga(),N}for(;C=l.lastChild;)l.removeChild(C);if(typeof w=="function"){var q=w;w=function(){var ne=im(H);q.call(ne)}}var H=Hb(l,0,!1,null,null,!1,!1,"",yR);return l._reactRootContainer=H,l[ao]=H.current,Cd(l.nodeType===8?l.parentNode:l),ga(function(){rm(d,H,m,w)}),H}function am(l,d,m,w,C){var j=m._reactRootContainer;if(j){var N=j;if(typeof C=="function"){var q=C;C=function(){var H=im(N);q.call(H)}}rm(d,N,l,C)}else N=fG(m,d,l,C,w);return im(N)}JO=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var m=fd(d.pendingLanes);m!==0&&(b0(d,m|1),cr(d,Jt()),(ot&6)===0&&(nc=Jt()+500,ds()))}break;case 13:ga(function(){var w=fo(l,1);if(w!==null){var C=Xn();fi(w,l,1,C)}}),Gb(l,1)}},w0=function(l){if(l.tag===13){var d=fo(l,134217728);if(d!==null){var m=Xn();fi(d,l,134217728,m)}Gb(l,134217728)}},ZO=function(l){if(l.tag===13){var d=vs(l),m=fo(l,d);if(m!==null){var w=Xn();fi(m,l,d,w)}Gb(l,d)}},ek=function(){return vt},tk=function(l,d){var m=vt;try{return vt=l,d()}finally{vt=m}},f0=function(l,d,m){switch(d){case"input":if(Pt(l,m),d=m.name,m.type==="radio"&&d!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var w=m[d];if(w!==l&&w.form===l.form){var C=Pp(w);if(!C)throw Error(n(90));re(w),Pt(w,C)}}}break;case"textarea":Je(l,m);break;case"select":d=m.value,d!=null&&On(l,!!m.multiple,d,!1)}},FO=Bb,BO=ga;var hG={usingClientEntryPoint:!1,Events:[kd,Vl,Pp,$O,LO,Bb]},Wd={findFiberByHostInstance:la,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pG={bundleType:Wd.bundleType,version:Wd.version,rendererPackageName:Wd.rendererPackageName,rendererConfig:Wd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=WO(l),l===null?null:l.stateNode},findFiberByHostInstance:Wd.findFiberByHostInstance||dG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lm.isDisabled&&lm.supportsFiber)try{op=lm.inject(pG),Di=lm}catch{}}return ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hG,ur.createPortal=function(l,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yb(d))throw Error(n(200));return uG(l,d,null,m)},ur.createRoot=function(l,d){if(!Yb(l))throw Error(n(299));var m=!1,w="",C=vR;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(C=d.onRecoverableError)),d=Hb(l,1,!1,null,null,m,!1,w,C),l[ao]=d.current,Cd(l.nodeType===8?l.parentNode:l),new Kb(d)},ur.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=WO(d),l=l===null?null:l.stateNode,l},ur.flushSync=function(l){return ga(l)},ur.hydrate=function(l,d,m){if(!sm(d))throw Error(n(200));return am(null,l,d,!0,m)},ur.hydrateRoot=function(l,d,m){if(!Yb(l))throw Error(n(405));var w=m!=null&&m.hydratedSources||null,C=!1,j="",N=vR;if(m!=null&&(m.unstable_strictMode===!0&&(C=!0),m.identifierPrefix!==void 0&&(j=m.identifierPrefix),m.onRecoverableError!==void 0&&(N=m.onRecoverableError)),d=mR(d,null,l,1,m??null,C,!1,j,N),l[ao]=d.current,Cd(l),w)for(l=0;l<w.length;l++)m=w[l],C=m._getVersion,C=C(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,C]:d.mutableSourceEagerHydrationData.push(m,C);return new om(d)},ur.render=function(l,d,m){if(!sm(d))throw Error(n(200));return am(null,l,d,!1,m)},ur.unmountComponentAtNode=function(l){if(!sm(l))throw Error(n(40));return l._reactRootContainer?(ga(function(){am(null,null,l,!1,function(){l._reactRootContainer=null,l[ao]=null})}),!0):!1},ur.unstable_batchedUpdates=Bb,ur.unstable_renderSubtreeIntoContainer=function(l,d,m,w){if(!sm(m))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return am(l,d,m,!1,w)},ur.version="18.3.1-next-f1338f8080-20240426",ur}var CR;function t4(){if(CR)return Zb.exports;CR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zb.exports=xG(),Zb.exports}var AR;function _G(){if(AR)return dm;AR=1;var t=t4();return dm.createRoot=t.createRoot,dm.hydrateRoot=t.hydrateRoot,dm}var SG=_G();const PG=st(SG);function TG({children:t}){return g.jsx("div",{children:t})}const rC=E.createContext({});function iC(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const oC=typeof window<"u",n4=oC?E.useLayoutEffect:E.useEffect,Yv=E.createContext(null);function sC(t,e){t.indexOf(e)===-1&&t.push(e)}function aC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Lo=(t,e,n)=>n>e?e:n<t?t:n;let lC=()=>{};const Fo={},r4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function i4(t){return typeof t=="object"&&t!==null}const o4=t=>/^0[^.\s]+$/u.test(t);function cC(t){let e;return()=>(e===void 0&&(e=t()),e)}const Zr=t=>t,EG=(t,e)=>n=>e(t(n)),Ih=(...t)=>t.reduce(EG),If=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class uC{constructor(){this.subscriptions=[]}add(e){return sC(this.subscriptions,e),()=>aC(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ki=t=>t*1e3,Qr=t=>t/1e3;function s4(t,e){return e?t*(1e3/e):0}const a4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,CG=1e-7,AG=12;function OG(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=a4(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>CG&&++a<AG);return s}function Mh(t,e,n,r){if(t===e&&n===r)return Zr;const i=o=>OG(o,0,1,t,n);return o=>o===0||o===1?o:a4(i(o),e,r)}const l4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,c4=t=>e=>1-t(1-e),u4=Mh(.33,1.53,.69,.99),dC=c4(u4),d4=l4(dC),f4=t=>(t*=2)<1?.5*dC(t):.5*(2-Math.pow(2,-10*(t-1))),fC=t=>1-Math.sin(Math.acos(t)),h4=c4(fC),p4=l4(fC),kG=Mh(.42,0,1,1),jG=Mh(0,0,.58,1),m4=Mh(.42,0,.58,1),RG=t=>Array.isArray(t)&&typeof t[0]!="number",g4=t=>Array.isArray(t)&&typeof t[0]=="number",NG={linear:Zr,easeIn:kG,easeInOut:m4,easeOut:jG,circIn:fC,circInOut:p4,circOut:h4,backIn:dC,backInOut:d4,backOut:u4,anticipate:f4},IG=t=>typeof t=="string",OR=t=>{if(g4(t)){lC(t.length===4);const[e,n,r,i]=t;return Mh(e,n,r,i)}else if(IG(t))return NG[t];return t},fm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function MG(t,e){let n=new Set,r=new Set,i=!1,o=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(f){s.has(f)&&(u.schedule(f),t()),f(a)}const u={schedule:(f,h=!1,p=!1)=>{const x=p&&i?n:r;return h&&s.add(f),x.has(f)||x.add(f),f},cancel:f=>{r.delete(f),s.delete(f)},process:f=>{if(a=f,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,o&&(o=!1,u.process(f))}};return u}const DG=40;function v4(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=fm.reduce((S,A)=>(S[A]=MG(o),S),{}),{setup:a,read:c,resolveKeyframes:u,preUpdate:f,update:h,preRender:p,render:v,postRender:x}=s,b=()=>{const S=Fo.useManualTiming?i.timestamp:performance.now();n=!1,Fo.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(S-i.timestamp,DG),1)),i.timestamp=S,i.isProcessing=!0,a.process(i),c.process(i),u.process(i),f.process(i),h.process(i),p.process(i),v.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(b))},y=()=>{n=!0,r=!0,i.isProcessing||t(b)};return{schedule:fm.reduce((S,A)=>{const P=s[A];return S[A]=(O,k=!1,R=!1)=>(n||y(),P.schedule(O,k,R)),S},{}),cancel:S=>{for(let A=0;A<fm.length;A++)s[fm[A]].cancel(S)},state:i,steps:s}}const{schedule:Ft,cancel:Gs,state:Mn,steps:nw}=v4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zr,!0);let Jm;function $G(){Jm=void 0}const yr={now:()=>(Jm===void 0&&yr.set(Mn.isProcessing||Fo.useManualTiming?Mn.timestamp:performance.now()),Jm),set:t=>{Jm=t,queueMicrotask($G)}},y4=t=>e=>typeof e=="string"&&e.startsWith(t),b4=y4("--"),LG=y4("var(--"),hC=t=>LG(t)?FG.test(t.split("/*")[0].trim()):!1,FG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Lu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mf={...Lu,transform:t=>Lo(0,1,t)},hm={...Lu,default:1},xf=t=>Math.round(t*1e5)/1e5,pC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function BG(t){return t==null}const UG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mC=(t,e)=>n=>!!(typeof n=="string"&&UG.test(n)&&n.startsWith(t)||e&&!BG(n)&&Object.prototype.hasOwnProperty.call(n,e)),w4=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,a]=r.match(pC);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},qG=t=>Lo(0,255,t),rw={...Lu,transform:t=>Math.round(qG(t))},$a={test:mC("rgb","red"),parse:w4("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+rw.transform(t)+", "+rw.transform(e)+", "+rw.transform(n)+", "+xf(Mf.transform(r))+")"};function VG(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const X1={test:mC("#"),parse:VG,transform:$a.transform},Dh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ss=Dh("deg"),Yi=Dh("%"),Ve=Dh("px"),WG=Dh("vh"),zG=Dh("vw"),kR={...Yi,parse:t=>Yi.parse(t)/100,transform:t=>Yi.transform(t*100)},_c={test:mC("hsl","hue"),parse:w4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Yi.transform(xf(e))+", "+Yi.transform(xf(n))+", "+xf(Mf.transform(r))+")"},on={test:t=>$a.test(t)||X1.test(t)||_c.test(t),parse:t=>$a.test(t)?$a.parse(t):_c.test(t)?_c.parse(t):X1.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?$a.transform(t):_c.transform(t),getAnimatableNone:t=>{const e=on.parse(t);return e.alpha=0,on.transform(e)}},HG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GG(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(pC))==null?void 0:e.length)||0)+(((n=t.match(HG))==null?void 0:n.length)||0)>0}const x4="number",_4="color",KG="var",YG="var(",jR="${}",XG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Df(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=e.replace(XG,c=>(on.test(c)?(r.color.push(o),i.push(_4),n.push(on.parse(c))):c.startsWith(YG)?(r.var.push(o),i.push(KG),n.push(c)):(r.number.push(o),i.push(x4),n.push(parseFloat(c))),++o,jR)).split(jR);return{values:n,split:a,indexes:r,types:i}}function S4(t){return Df(t).values}function P4(t){const{split:e,types:n}=Df(t),r=e.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=e[s],i[s]!==void 0){const a=n[s];a===x4?o+=xf(i[s]):a===_4?o+=on.transform(i[s]):o+=i[s]}return o}}const QG=t=>typeof t=="number"?0:on.test(t)?on.getAnimatableNone(t):t;function JG(t){const e=S4(t);return P4(t)(e.map(QG))}const Ks={test:GG,parse:S4,createTransformer:P4,getAnimatableNone:JG};function iw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ZG({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;i=iw(c,a,t+1/3),o=iw(c,a,t),s=iw(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function bg(t,e){return n=>n>0?e:t}const zt=(t,e,n)=>t+(e-t)*n,ow=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},eK=[X1,$a,_c],tK=t=>eK.find(e=>e.test(t));function RR(t){const e=tK(t);if(!e)return!1;let n=e.parse(t);return e===_c&&(n=ZG(n)),n}const NR=(t,e)=>{const n=RR(t),r=RR(e);if(!n||!r)return bg(t,e);const i={...n};return o=>(i.red=ow(n.red,r.red,o),i.green=ow(n.green,r.green,o),i.blue=ow(n.blue,r.blue,o),i.alpha=zt(n.alpha,r.alpha,o),$a.transform(i))},Q1=new Set(["none","hidden"]);function nK(t,e){return Q1.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function rK(t,e){return n=>zt(t,e,n)}function gC(t){return typeof t=="number"?rK:typeof t=="string"?hC(t)?bg:on.test(t)?NR:sK:Array.isArray(t)?T4:typeof t=="object"?on.test(t)?NR:iK:bg}function T4(t,e){const n=[...t],r=n.length,i=t.map((o,s)=>gC(o)(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function iK(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=gC(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function oK(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],s=t.indexes[o][r[o]],a=t.values[s]??0;n[i]=a,r[o]++}return n}const sK=(t,e)=>{const n=Ks.createTransformer(e),r=Df(t),i=Df(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Q1.has(t)&&!i.values.length||Q1.has(e)&&!r.values.length?nK(t,e):Ih(T4(oK(r,i),i.values),n):bg(t,e)};function E4(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?zt(t,e,n):gC(t)(t,e)}const aK=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ft.update(e,n),stop:()=>Gs(e),now:()=>Mn.isProcessing?Mn.timestamp:yr.now()}},C4=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},wg=2e4;function vC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<wg;)e+=n,r=t.next(e);return e>=wg?1/0:e}function lK(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(vC(r),wg);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:Qr(i)}}const cK=5;function A4(t,e,n){const r=Math.max(e-cK,0);return s4(n-t(r),e-r)}const Yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sw=.001;function uK({duration:t=Yt.duration,bounce:e=Yt.bounce,velocity:n=Yt.velocity,mass:r=Yt.mass}){let i,o,s=1-e;s=Lo(Yt.minDamping,Yt.maxDamping,s),t=Lo(Yt.minDuration,Yt.maxDuration,Qr(t)),s<1?(i=u=>{const f=u*s,h=f*t,p=f-n,v=J1(u,s),x=Math.exp(-h);return sw-p/v*x},o=u=>{const h=u*s*t,p=h*n+n,v=Math.pow(s,2)*Math.pow(u,2)*t,x=Math.exp(-h),b=J1(Math.pow(u,2),s);return(-i(u)+sw>0?-1:1)*((p-v)*x)/b}):(i=u=>{const f=Math.exp(-u*t),h=(u-n)*t+1;return-sw+f*h},o=u=>{const f=Math.exp(-u*t),h=(n-u)*(t*t);return f*h});const a=5/t,c=fK(i,o,a);if(t=Ki(t),isNaN(c))return{stiffness:Yt.stiffness,damping:Yt.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:t}}}const dK=12;function fK(t,e,n){let r=n;for(let i=1;i<dK;i++)r=r-t(r)/e(r);return r}function J1(t,e){return t*Math.sqrt(1-e*e)}const hK=["duration","bounce"],pK=["stiffness","damping","mass"];function IR(t,e){return e.some(n=>t[n]!==void 0)}function mK(t){let e={velocity:Yt.velocity,stiffness:Yt.stiffness,damping:Yt.damping,mass:Yt.mass,isResolvedFromDuration:!1,...t};if(!IR(t,pK)&&IR(t,hK))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Lo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Yt.mass,stiffness:i,damping:o}}else{const n=uK(t);e={...e,...n,mass:Yt.mass},e.isResolvedFromDuration=!0}return e}function xg(t=Yt.visualDuration,e=Yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:c,damping:u,mass:f,duration:h,velocity:p,isResolvedFromDuration:v}=mK({...n,velocity:-Qr(n.velocity||0)}),x=p||0,b=u/(2*Math.sqrt(c*f)),y=s-o,_=Qr(Math.sqrt(c/f)),T=Math.abs(y)<5;r||(r=T?Yt.restSpeed.granular:Yt.restSpeed.default),i||(i=T?Yt.restDelta.granular:Yt.restDelta.default);let S;if(b<1){const P=J1(_,b);S=O=>{const k=Math.exp(-b*_*O);return s-k*((x+b*_*y)/P*Math.sin(P*O)+y*Math.cos(P*O))}}else if(b===1)S=P=>s-Math.exp(-_*P)*(y+(x+_*y)*P);else{const P=_*Math.sqrt(b*b-1);S=O=>{const k=Math.exp(-b*_*O),R=Math.min(P*O,300);return s-k*((x+b*_*y)*Math.sinh(R)+P*y*Math.cosh(R))/P}}const A={calculatedDuration:v&&h||null,next:P=>{const O=S(P);if(v)a.done=P>=h;else{let k=P===0?x:0;b<1&&(k=P===0?Ki(x):A4(S,P,O));const R=Math.abs(k)<=r,I=Math.abs(s-O)<=i;a.done=R&&I}return a.value=a.done?s:O,a},toString:()=>{const P=Math.min(vC(A),wg),O=C4(k=>A.next(P*k).value,P,30);return P+"ms "+O},toTransition:()=>{}};return A}xg.applyToOptions=t=>{const e=lK(t,100,xg);return t.ease=e.ease,t.duration=Ki(e.duration),t.type="keyframes",t};function Z1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:c,restDelta:u=.5,restSpeed:f}){const h=t[0],p={done:!1,value:h},v=R=>a!==void 0&&R<a||c!==void 0&&R>c,x=R=>a===void 0?c:c===void 0||Math.abs(a-R)<Math.abs(c-R)?a:c;let b=n*e;const y=h+b,_=s===void 0?y:s(y);_!==y&&(b=_-h);const T=R=>-b*Math.exp(-R/r),S=R=>_+T(R),A=R=>{const I=T(R),D=S(R);p.done=Math.abs(I)<=u,p.value=p.done?_:D};let P,O;const k=R=>{v(p.value)&&(P=R,O=xg({keyframes:[p.value,x(p.value)],velocity:A4(S,R,p.value),damping:i,stiffness:o,restDelta:u,restSpeed:f}))};return k(0),{calculatedDuration:null,next:R=>{let I=!1;return!O&&P===void 0&&(I=!0,A(R),k(R)),P!==void 0&&R>=P?O.next(R-P):(!I&&A(R),p)}}}function gK(t,e,n){const r=[],i=n||Fo.mix||E4,o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const c=Array.isArray(e)?e[s]||Zr:e;a=Ih(c,a)}r.push(a)}return r}function vK(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(lC(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=gK(e,r,i),c=a.length,u=f=>{if(s&&f<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(f<t[h+1]);h++);const p=If(t[h],t[h+1],f);return a[h](p)};return n?f=>u(Lo(t[0],t[o-1],f)):u}function yK(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=If(0,e,r);t.push(zt(n,1,i))}}function bK(t){const e=[0];return yK(e,t.length-1),e}function wK(t,e){return t.map(n=>n*e)}function xK(t,e){return t.map(()=>e||m4).splice(0,t.length-1)}function _f({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=RG(r)?r.map(OR):OR(r),o={done:!1,value:e[0]},s=wK(n&&n.length===e.length?n:bK(e),t),a=vK(s,e,{ease:Array.isArray(i)?i:xK(e,i)});return{calculatedDuration:t,next:c=>(o.value=a(c),o.done=c>=t,o)}}const _K=t=>t!==null;function yC(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(_K),a=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!a||r===void 0?o[a]:r}const SK={decay:Z1,inertia:Z1,tween:_f,keyframes:_f,spring:xg};function O4(t){typeof t.type=="string"&&(t.type=SK[t.type])}class bC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const PK=t=>t/100;class wC extends bC{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==yr.now()&&this.tick(yr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;O4(e);const{type:n=_f,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=e;let{keyframes:a}=e;const c=n||_f;c!==_f&&typeof a[0]!="number"&&(this.mixKeyframes=Ih(PK,E4(a[0],a[1])),a=[0,100]);const u=c({...e,keyframes:a});o==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...a].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=vC(u));const{calculatedDuration:f}=u;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:f,repeat:h,repeatType:p,repeatDelay:v,type:x,onUpdate:b,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-u*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let S=this.currentTime,A=r;if(h){const R=Math.min(this.currentTime,i)/a;let I=Math.floor(R),D=R%1;!D&&R>=1&&(D=1),D===1&&I--,I=Math.min(I,h+1),!!(I%2)&&(p==="reverse"?(D=1-D,v&&(D-=v/a)):p==="mirror"&&(A=s)),S=Lo(0,1,D)*a}const P=T?{done:!1,value:f[0]}:A.next(S);o&&(P.value=o(P.value));let{done:O}=P;!T&&c!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return k&&x!==Z1&&(P.value=yC(f,this.options,y,this.speed)),b&&b(P.value),k&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return Qr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qr(e)}get time(){return Qr(this.currentTime)}set time(e){var n;e=Ki(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(yr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Qr(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:e=aK,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function TK(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const La=t=>t*180/Math.PI,eP=t=>{const e=La(Math.atan2(t[1],t[0]));return tP(e)},EK={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:eP,rotateZ:eP,skewX:t=>La(Math.atan(t[1])),skewY:t=>La(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},tP=t=>(t=t%360,t<0&&(t+=360),t),MR=eP,DR=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),$R=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),CK={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:DR,scaleY:$R,scale:t=>(DR(t)+$R(t))/2,rotateX:t=>tP(La(Math.atan2(t[6],t[5]))),rotateY:t=>tP(La(Math.atan2(-t[2],t[0]))),rotateZ:MR,rotate:MR,skewX:t=>La(Math.atan(t[4])),skewY:t=>La(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function nP(t){return t.includes("scale")?1:0}function rP(t,e){if(!t||t==="none")return nP(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=CK,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=EK,i=a}if(!i)return nP(e);const o=r[e],s=i[1].split(",").map(OK);return typeof o=="function"?o(s):s[o]}const AK=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return rP(n,e)};function OK(t){return parseFloat(t.trim())}const Fu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bu=new Set(Fu),LR=t=>t===Lu||t===Ve,kK=new Set(["x","y","z"]),jK=Fu.filter(t=>!kK.has(t));function RK(t){const e=[];return jK.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const nl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>rP(e,"x"),y:(t,{transform:e})=>rP(e,"y")};nl.translateX=nl.x;nl.translateY=nl.y;const rl=new Set;let iP=!1,oP=!1,sP=!1;function k4(){if(oP){const t=Array.from(rl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=RK(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))==null||a.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}oP=!1,iP=!1,rl.forEach(t=>t.complete(sP)),rl.clear()}function j4(){rl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(oP=!0)})}function NK(){sP=!0,j4(),k4(),sP=!1}class xC{constructor(e,n,r,i,o,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(rl.add(this),iP||(iP=!0,Ft.read(j4),Ft.resolveKeyframes(k4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),s=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const a=r.readValue(n,s);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=s),i&&o===void 0&&i.set(e[0])}TK(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),rl.delete(this)}cancel(){this.state==="scheduled"&&(rl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const IK=t=>t.startsWith("--");function MK(t,e,n){IK(e)?t.style.setProperty(e,n):t.style[e]=n}const DK=cC(()=>window.ScrollTimeline!==void 0),$K={};function LK(t,e){const n=cC(t);return()=>$K[e]??n()}const R4=LK(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),uf=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,FR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uf([0,.65,.55,1]),circOut:uf([.55,0,1,.45]),backIn:uf([.31,.01,.66,-.59]),backOut:uf([.33,1.53,.69,.99])};function N4(t,e){if(t)return typeof t=="function"?R4()?C4(t,e):"ease-out":g4(t)?uf(t):Array.isArray(t)?t.map(n=>N4(n,e)||FR.easeOut):FR[t]}function FK(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeOut",times:c}={},u=void 0){const f={[e]:n};c&&(f.offset=c);const h=N4(a,i);Array.isArray(h)&&(f.easing=h);const p={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),t.animate(f,p)}function I4(t){return typeof t=="function"&&"applyToOptions"in t}function BK({type:t,...e}){return I4(t)&&R4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class UK extends bC{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:s=!1,finalKeyframe:a,onComplete:c}=e;this.isPseudoElement=!!o,this.allowFlatten=s,this.options=e,lC(typeof e.type!="string");const u=BK(e);this.animation=FK(n,r,i,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const f=yC(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(f):MK(n,r,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Qr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qr(e)}get time(){return Qr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ki(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&DK()?(this.animation.timeline=e,Zr):n(this)}}const M4={anticipate:f4,backInOut:d4,circInOut:p4};function qK(t){return t in M4}function VK(t){typeof t.ease=="string"&&qK(t.ease)&&(t.ease=M4[t.ease])}const BR=10;class WK extends UK{constructor(e){VK(e),O4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...s}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new wC({...s,autoplay:!1}),c=Ki(this.finishedTime??this.time);n.setWithVelocity(a.sample(c-BR).value,a.sample(c).value,BR),a.stop()}}const UR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ks.test(t)||t==="0")&&!t.startsWith("url("));function zK(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function HK(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],s=UR(i,e),a=UR(o,e);return!s||!a?!1:zK(t)||(n==="spring"||I4(n))&&r}function aP(t){t.duration=0,t.type="keyframes"}const GK=new Set(["opacity","clipPath","filter","transform"]),KK=cC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function YK(t){var f;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:s}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return KK()&&n&&GK.has(n)&&(n!=="transform"||!u)&&!c&&!r&&i!=="mirror"&&o!==0&&s!=="inertia"}const XK=40;class QK extends bC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",keyframes:a,name:c,motionValue:u,element:f,...h}){var x;super(),this.stop=()=>{var b,y;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=yr.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,name:c,motionValue:u,element:f,...h},v=(f==null?void 0:f.KeyframeResolver)||xC;this.keyframeResolver=new v(a,(b,y,_)=>this.onKeyframesResolved(b,y,p,!_),c,u,f),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:o,type:s,velocity:a,delay:c,isHandoff:u,onUpdate:f}=r;this.resolvedAt=yr.now(),HK(e,o,s,a)||((Fo.instantAnimations||!c)&&(f==null||f(yC(e,r,n))),e[0]=e[e.length-1],aP(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>XK?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!u&&YK(p)?new WK({...p,element:p.motionValue.owner.current}):new wC(p);v.finished.then(()=>this.notifyFinished()).catch(Zr),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),NK()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const JK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZK(t){const e=JK.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function D4(t,e,n=1){const[r,i]=ZK(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return r4(s)?parseFloat(s):s}return hC(i)?D4(i,e,n+1):i}function _C(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const $4=new Set(["width","height","top","left","right","bottom",...Fu]),eY={test:t=>t==="auto",parse:t=>t},L4=t=>e=>e.test(t),F4=[Lu,Ve,Yi,Ss,zG,WG,eY],qR=t=>F4.find(L4(t));function tY(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||o4(t):!0}const nY=new Set(["brightness","contrast","saturate","opacity"]);function rY(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(pC)||[];if(!r)return t;const i=n.replace(r,"");let o=nY.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const iY=/\b([a-z-]*)\(.*?\)/gu,lP={...Ks,getAnimatableNone:t=>{const e=t.match(iY);return e?e.map(rY).join(" "):t}},VR={...Lu,transform:Math.round},oY={rotate:Ss,rotateX:Ss,rotateY:Ss,rotateZ:Ss,scale:hm,scaleX:hm,scaleY:hm,scaleZ:hm,skew:Ss,skewX:Ss,skewY:Ss,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:Mf,originX:kR,originY:kR,originZ:Ve},SC={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve,...oY,zIndex:VR,fillOpacity:Mf,strokeOpacity:Mf,numOctaves:VR},sY={...SC,color:on,backgroundColor:on,outlineColor:on,fill:on,stroke:on,borderColor:on,borderTopColor:on,borderRightColor:on,borderBottomColor:on,borderLeftColor:on,filter:lP,WebkitFilter:lP},B4=t=>sY[t];function U4(t,e){let n=B4(t);return n!==lP&&(n=Ks),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const aY=new Set(["auto","none","0"]);function lY(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!aY.has(o)&&Df(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=U4(n,i)}class cY extends xC{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),hC(u))){const f=D4(u,n.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!$4.has(r)||e.length!==2)return;const[i,o]=e,s=qR(i),a=qR(o);if(s!==a)if(LR(s)&&LR(a))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else nl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||tY(e[i]))&&r.push(i);r.length&&lY(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,s=r[o];r[o]=nl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function uY(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const q4=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function V4(t){return i4(t)&&"offsetHeight"in t}const WR=30,dY=t=>!isNaN(parseFloat(t));class fY{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const i=yr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=yr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=dY(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new uC);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>WR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,WR);return s4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tu(t,e){return new fY(t,e)}const{schedule:PC}=v4(queueMicrotask,!1),gi={x:!1,y:!1};function W4(){return gi.x||gi.y}function hY(t){return t==="x"||t==="y"?gi[t]?null:(gi[t]=!0,()=>{gi[t]=!1}):gi.x||gi.y?null:(gi.x=gi.y=!0,()=>{gi.x=gi.y=!1})}function z4(t,e){const n=uY(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function zR(t){return!(t.pointerType==="touch"||W4())}function pY(t,e,n={}){const[r,i,o]=z4(t,n),s=a=>{if(!zR(a))return;const{target:c}=a,u=e(c,a);if(typeof u!="function"||!c)return;const f=h=>{zR(h)&&(u(h),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return r.forEach(a=>{a.addEventListener("pointerenter",s,i)}),o}const H4=(t,e)=>e?t===e?!0:H4(t,e.parentElement):!1,TC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,mY=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gY(t){return mY.has(t.tagName)||t.tabIndex!==-1}const Zm=new WeakSet;function HR(t){return e=>{e.key==="Enter"&&t(e)}}function aw(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const vY=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=HR(()=>{if(Zm.has(n))return;aw(n,"down");const i=HR(()=>{aw(n,"up")}),o=()=>aw(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function GR(t){return TC(t)&&!W4()}function yY(t,e,n={}){const[r,i,o]=z4(t,n),s=a=>{const c=a.currentTarget;if(!GR(a))return;Zm.add(c);const u=e(c,a),f=(v,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),Zm.has(c)&&Zm.delete(c),GR(v)&&typeof u=="function"&&u(v,{success:x})},h=v=>{f(v,c===window||c===document||n.useGlobalTarget||H4(c,v.target))},p=v=>{f(v,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",s,i),V4(a)&&(a.addEventListener("focus",u=>vY(u,i)),!gY(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),o}function G4(t){return i4(t)&&"ownerSVGElement"in t}function bY(t){return G4(t)&&t.tagName==="svg"}const Hn=t=>!!(t&&t.getVelocity),wY=[...F4,on,Ks],xY=t=>wY.find(L4(t)),EC=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function KR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _Y(...t){return e=>{let n=!1;const r=t.map(i=>{const o=KR(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():KR(t[i],null)}}}}function SY(...t){return E.useCallback(_Y(...t),t)}class PY extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=V4(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function TY({children:t,isPresent:e,anchorX:n,root:r}){const i=E.useId(),o=E.useRef(null),s=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=E.useContext(EC),c=SY(o,t==null?void 0:t.ref);return E.useInsertionEffect(()=>{const{width:u,height:f,top:h,left:p,right:v}=s.current;if(e||!o.current||!u||!f)return;const x=n==="left"?`left: ${p}`:`right: ${v}`;o.current.dataset.motionPopId=i;const b=document.createElement("style");a&&(b.nonce=a);const y=r??document.head;return y.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${x}px !important;
            top: ${h}px !important;
          }
        `),()=>{y.contains(b)&&y.removeChild(b)}},[e]),g.jsx(PY,{isPresent:e,childRef:o,sizeRef:s,children:E.cloneElement(t,{ref:c})})}const EY=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s,anchorX:a,root:c})=>{const u=iC(CY),f=E.useId();let h=!0,p=E.useMemo(()=>(h=!1,{id:f,initial:e,isPresent:n,custom:i,onExitComplete:v=>{u.set(v,!0);for(const x of u.values())if(!x)return;r&&r()},register:v=>(u.set(v,!1),()=>u.delete(v))}),[n,u,r]);return o&&h&&(p={...p}),E.useMemo(()=>{u.forEach((v,x)=>u.set(x,!1))},[n]),E.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),s==="popLayout"&&(t=g.jsx(TY,{isPresent:n,anchorX:a,root:c,children:t})),g.jsx(Yv.Provider,{value:p,children:t})};function CY(){return new Map}function K4(t=!0){const e=E.useContext(Yv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=E.useId();E.useEffect(()=>{if(t)return i(o)},[t]);const s=E.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,s]:[!0]}const pm=t=>t.key||"";function YR(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const Pl=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1,anchorX:a="left",root:c})=>{const[u,f]=K4(s),h=E.useMemo(()=>YR(t),[t]),p=s&&!u?[]:h.map(pm),v=E.useRef(!0),x=E.useRef(h),b=iC(()=>new Map),[y,_]=E.useState(h),[T,S]=E.useState(h);n4(()=>{v.current=!1,x.current=h;for(let O=0;O<T.length;O++){const k=pm(T[O]);p.includes(k)?b.delete(k):b.get(k)!==!0&&b.set(k,!1)}},[T,p.length,p.join("-")]);const A=[];if(h!==y){let O=[...h];for(let k=0;k<T.length;k++){const R=T[k],I=pm(R);p.includes(I)||(O.splice(k,0,R),A.push(R))}return o==="wait"&&A.length&&(O=A),S(YR(O)),_(h),null}const{forceRender:P}=E.useContext(rC);return g.jsx(g.Fragment,{children:T.map(O=>{const k=pm(O),R=s&&!u?!1:h===T||p.includes(k),I=()=>{if(b.has(k))b.set(k,!0);else return;let D=!0;b.forEach(M=>{M||(D=!1)}),D&&(P==null||P(),S(x.current),s&&(f==null||f()),r&&r())};return g.jsx(EY,{isPresent:R,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:c,onExitComplete:R?void 0:I,anchorX:a,children:O},k)})})},Y4=E.createContext({strict:!1}),XR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nu={};for(const t in XR)nu[t]={isEnabled:e=>XR[t].some(n=>!!e[n])};function AY(t){for(const e in t)nu[e]={...nu[e],...t[e]}}const OY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _g(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||OY.has(t)}let X4=t=>!_g(t);function kY(t){typeof t=="function"&&(X4=e=>e.startsWith("on")?!_g(e):t(e))}try{kY(require("@emotion/is-prop-valid").default)}catch{}function jY(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(X4(i)||n===!0&&_g(i)||!e&&!_g(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Xv=E.createContext({});function Qv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function $f(t){return typeof t=="string"||Array.isArray(t)}const CC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],AC=["initial",...CC];function Jv(t){return Qv(t.animate)||AC.some(e=>$f(t[e]))}function Q4(t){return!!(Jv(t)||t.variants)}function RY(t,e){if(Jv(t)){const{initial:n,animate:r}=t;return{initial:n===!1||$f(n)?n:void 0,animate:$f(r)?r:void 0}}return t.inherit!==!1?e:{}}function NY(t){const{initial:e,animate:n}=RY(t,E.useContext(Xv));return E.useMemo(()=>({initial:e,animate:n}),[QR(e),QR(n)])}function QR(t){return Array.isArray(t)?t.join(" "):t}function JR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Hd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ve.test(t))t=parseFloat(t);else return t;const n=JR(t,e.target.x),r=JR(t,e.target.y);return`${n}% ${r}%`}},IY={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ks.parse(t);if(i.length>5)return r;const o=Ks.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=c;const u=zt(a,c,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}},cP={borderRadius:{...Hd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hd,borderTopRightRadius:Hd,borderBottomLeftRadius:Hd,borderBottomRightRadius:Hd,boxShadow:IY};function J4(t,{layout:e,layoutId:n}){return Bu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!cP[t]||t==="opacity")}const MY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DY=Fu.length;function $Y(t,e,n){let r="",i=!0;for(let o=0;o<DY;o++){const s=Fu[o],a=t[s];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(s.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=q4(a,SC[s]);if(!c){i=!1;const f=MY[s]||s;r+=`${f}(${u}) `}n&&(e[s]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function OC(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let s=!1,a=!1;for(const c in e){const u=e[c];if(Bu.has(c)){s=!0;continue}else if(b4(c)){i[c]=u;continue}else{const f=q4(u,SC[c]);c.startsWith("origin")?(a=!0,o[c]=f):r[c]=f}}if(e.transform||(s||n?r.transform=$Y(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:f=0}=o;r.transformOrigin=`${c} ${u} ${f}`}}const kC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Z4(t,e,n){for(const r in e)!Hn(e[r])&&!J4(r,n)&&(t[r]=e[r])}function LY({transformTemplate:t},e){return E.useMemo(()=>{const n=kC();return OC(n,e,t),Object.assign({},n.vars,n.style)},[e])}function FY(t,e){const n=t.style||{},r={};return Z4(r,n,t),Object.assign(r,LY(t,e)),r}function BY(t,e){const n={},r=FY(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const UY={offset:"stroke-dashoffset",array:"stroke-dasharray"},qY={offset:"strokeDashoffset",array:"strokeDasharray"};function VY(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?UY:qY;t[o.offset]=Ve.transform(-r);const s=Ve.transform(e),a=Ve.transform(n);t[o.array]=`${s} ${a}`}function eB(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:s=0,...a},c,u,f){if(OC(t,a,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p}=t;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&VY(h,i,o,s,!1)}const tB=()=>({...kC(),attrs:{}}),nB=t=>typeof t=="string"&&t.toLowerCase()==="svg";function WY(t,e,n,r){const i=E.useMemo(()=>{const o=tB();return eB(o,e,nB(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Z4(o,t.style,t),i.style={...o,...i.style}}return i}const zY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jC(t){return typeof t!="string"||t.includes("-")?!1:!!(zY.indexOf(t)>-1||/[A-Z]/u.test(t))}function HY(t,e,n,{latestValues:r},i,o=!1){const a=(jC(t)?WY:BY)(e,r,i,t),c=jY(e,typeof t=="string",o),u=t!==E.Fragment?{...c,...a,ref:n}:{},{children:f}=e,h=E.useMemo(()=>Hn(f)?f.get():f,[f]);return E.createElement(t,{...u,children:h})}function ZR(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function RC(t,e,n,r){if(typeof e=="function"){const[i,o]=ZR(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=ZR(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function eg(t){return Hn(t)?t.get():t}function GY({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:KY(n,r,i,t),renderState:e()}}function KY(t,e,n,r){const i={},o=r(t,{});for(const p in o)i[p]=eg(o[p]);let{initial:s,animate:a}=t;const c=Jv(t),u=Q4(t);e&&u&&!c&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let f=n?n.initial===!1:!1;f=f||s===!1;const h=f?a:s;if(h&&typeof h!="boolean"&&!Qv(h)){const p=Array.isArray(h)?h:[h];for(let v=0;v<p.length;v++){const x=RC(t,p[v]);if(x){const{transitionEnd:b,transition:y,..._}=x;for(const T in _){let S=_[T];if(Array.isArray(S)){const A=f?S.length-1:0;S=S[A]}S!==null&&(i[T]=S)}for(const T in b)i[T]=b[T]}}}return i}const rB=t=>(e,n)=>{const r=E.useContext(Xv),i=E.useContext(Yv),o=()=>GY(t,e,r,i);return n?o():iC(o)};function NC(t,e,n){var o;const{style:r}=t,i={};for(const s in r)(Hn(r[s])||e.style&&Hn(e.style[s])||J4(s,t)||((o=n==null?void 0:n.getValue(s))==null?void 0:o.liveStyle)!==void 0)&&(i[s]=r[s]);return i}const YY=rB({scrapeMotionValuesFromProps:NC,createRenderState:kC});function iB(t,e,n){const r=NC(t,e,n);for(const i in t)if(Hn(t[i])||Hn(e[i])){const o=Fu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const XY=rB({scrapeMotionValuesFromProps:iB,createRenderState:tB}),QY=Symbol.for("motionComponentSymbol");function Sc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function JY(t,e,n){return E.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Sc(n)&&(n.current=r))},[e])}const IC=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZY="framerAppearId",oB="data-"+IC(ZY),sB=E.createContext({});function eX(t,e,n,r,i){var b,y;const{visualElement:o}=E.useContext(Xv),s=E.useContext(Y4),a=E.useContext(Yv),c=E.useContext(EC).reducedMotion,u=E.useRef(null);r=r||s.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const f=u.current,h=E.useContext(sB);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&tX(u.current,n,i,h);const p=E.useRef(!1);E.useInsertionEffect(()=>{f&&p.current&&f.update(n,a)});const v=n[oB],x=E.useRef(!!v&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,v))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,v)));return n4(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),x.current&&f.animationState&&f.animationState.animateChanges())}),E.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,v)}),x.current=!1),f.enteringChildren=void 0)}),f}function tX(t,e,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:aB(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&Sc(a),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:c,layoutRoot:u})}function aB(t){if(t)return t.options.allowProjection!==!1?t.projection:aB(t.parent)}function lw(t,{forwardMotionProps:e=!1}={},n,r){n&&AY(n);const i=jC(t)?XY:YY;function o(a,c){let u;const f={...E.useContext(EC),...a,layoutId:nX(a)},{isStatic:h}=f,p=NY(a),v=i(a,h);if(!h&&oC){rX();const x=iX(f);u=x.MeasureLayout,p.visualElement=eX(t,v,f,r,x.ProjectionNode)}return g.jsxs(Xv.Provider,{value:p,children:[u&&p.visualElement?g.jsx(u,{visualElement:p.visualElement,...f}):null,HY(t,a,JY(v,p.visualElement,c),v,h,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const s=E.forwardRef(o);return s[QY]=t,s}function nX({layoutId:t}){const e=E.useContext(rC).id;return e&&t!==void 0?e+"-"+t:t}function rX(t,e){E.useContext(Y4).strict}function iX(t){const{drag:e,layout:n}=nu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function oX(t,e){if(typeof Proxy>"u")return lw;const n=new Map,r=(o,s)=>lw(o,s,t,e),i=(o,s)=>r(o,s);return new Proxy(i,{get:(o,s)=>s==="create"?r:(n.has(s)||n.set(s,lw(s,void 0,t,e)),n.get(s))})}function lB({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function sX({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function aX(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function cw(t){return t===void 0||t===1}function uP({scale:t,scaleX:e,scaleY:n}){return!cw(t)||!cw(e)||!cw(n)}function Ca(t){return uP(t)||cB(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cB(t){return eN(t.x)||eN(t.y)}function eN(t){return t&&t!=="0%"}function Sg(t,e,n){const r=t-n,i=e*r;return n+i}function tN(t,e,n,r,i){return i!==void 0&&(t=Sg(t,i,r)),Sg(t,n,r)+e}function dP(t,e=0,n=1,r,i){t.min=tN(t.min,e,n,r,i),t.max=tN(t.max,e,n,r,i)}function uB(t,{x:e,y:n}){dP(t.x,e.translate,e.scale,e.originPoint),dP(t.y,n.translate,n.scale,n.originPoint)}const nN=.999999999999,rN=1.0000000000001;function lX(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Tc(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,uB(t,s)),r&&Ca(o.latestValues)&&Tc(t,o.latestValues))}e.x<rN&&e.x>nN&&(e.x=1),e.y<rN&&e.y>nN&&(e.y=1)}function Pc(t,e){t.min=t.min+e,t.max=t.max+e}function iN(t,e,n,r,i=.5){const o=zt(t.min,t.max,i);dP(t,e,n,o,r)}function Tc(t,e){iN(t.x,e.x,e.scaleX,e.scale,e.originX),iN(t.y,e.y,e.scaleY,e.scale,e.originY)}function dB(t,e){return lB(aX(t.getBoundingClientRect(),e))}function cX(t,e,n){const r=dB(t,n),{scroll:i}=e;return i&&(Pc(r.x,i.offset.x),Pc(r.y,i.offset.y)),r}const oN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ec=()=>({x:oN(),y:oN()}),sN=()=>({min:0,max:0}),hn=()=>({x:sN(),y:sN()}),fP={current:null},fB={current:!1};function uX(){if(fB.current=!0,!!oC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fP.current=t.matches;t.addEventListener("change",e),e()}else fP.current=!1}const dX=new WeakMap;function fX(t,e,n){for(const r in e){const i=e[r],o=n[r];if(Hn(i))t.addValue(r,i);else if(Hn(o))t.addValue(r,tu(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,tu(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const aN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hX{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=yr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Ft.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=s;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=Jv(n),this.isVariantNode=Q4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const v=h[p];c[p]!==void 0&&Hn(v)&&v.set(c[p])}}mount(e){var n;this.current=e,dX.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),fB.current||uX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fP.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Gs(this.notifyUpdate),Gs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Bu.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in nu){const n=nu[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<aN.length;r++){const i=aN[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=e[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=fX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=tu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(r4(r)||o4(r))?r=parseFloat(r):!xY(r)&&Ks.test(n)&&(r=U4(e,n)),this.setBaseTarget(e,Hn(r)?r.get():r)),Hn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=RC(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Hn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new uC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){PC.render(this.render)}}class hB extends hX{constructor(){super(...arguments),this.KeyframeResolver=cY}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function pB(t,{style:e,vars:n},r,i){const o=t.style;let s;for(s in e)o[s]=e[s];i==null||i.applyProjectionStyles(o,r);for(s in n)o.setProperty(s,n[s])}function pX(t){return window.getComputedStyle(t)}class mX extends hB{constructor(){super(...arguments),this.type="html",this.renderInstance=pB}readValueFromInstance(e,n){var r;if(Bu.has(n))return(r=this.projection)!=null&&r.isProjecting?nP(n):AK(e,n);{const i=pX(e),o=(b4(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return dB(e,n)}build(e,n,r){OC(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return NC(e,n,r)}}const mB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gX(t,e,n,r){pB(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(mB.has(i)?i:IC(i),e.attrs[i])}class vX extends hB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=hn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Bu.has(n)){const r=B4(n);return r&&r.default||0}return n=mB.has(n)?n:IC(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return iB(e,n,r)}build(e,n,r){eB(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){gX(e,n,r,i)}mount(e){this.isSVGTag=nB(e.tagName),super.mount(e)}}const yX=(t,e)=>jC(t)?new vX(e):new mX(e,{allowProjection:t!==E.Fragment});function Rc(t,e,n){const r=t.getProps();return RC(r,e,n!==void 0?n:r.custom,t)}const hP=t=>Array.isArray(t);function bX(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,tu(n))}function wX(t){return hP(t)?t[t.length-1]||0:t}function xX(t,e){const n=Rc(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=wX(o[s]);bX(t,s,a)}}function _X(t){return!!(Hn(t)&&t.add)}function pP(t,e){const n=t.getValue("willChange");if(_X(n))return n.add(e);if(!n&&Fo.WillChange){const r=new Fo.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function gB(t){return t.props[oB]}const SX=t=>t!==null;function PX(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(SX),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const TX={type:"spring",stiffness:500,damping:25,restSpeed:10},EX=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),CX={type:"keyframes",duration:.8},AX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OX=(t,{keyframes:e})=>e.length>2?CX:Bu.has(t)?t.startsWith("scale")?EX(e[1]):TX:AX;function kX({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:c,elapsed:u,...f}){return!!Object.keys(f).length}const MC=(t,e,n,r={},i,o)=>s=>{const a=_C(r,t)||{},c=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ki(c);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:i};kX(a)||Object.assign(f,OX(t,f)),f.duration&&(f.duration=Ki(f.duration)),f.repeatDelay&&(f.repeatDelay=Ki(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(aP(f),f.delay===0&&(h=!0)),(Fo.instantAnimations||Fo.skipAnimations)&&(h=!0,aP(f),f.delay=0),f.allowFlatten=!a.type&&!a.ease,h&&!o&&e.get()!==void 0){const p=PX(f.keyframes,a);if(p!==void 0){Ft.update(()=>{f.onUpdate(p),f.onComplete()});return}}return a.isSync?new wC(f):new QK(f)};function jX({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function vB(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=e;r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const h=t.getValue(f,t.latestValues[f]??null),p=a[f];if(p===void 0||u&&jX(u,f))continue;const v={delay:n,..._C(o||{},f)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===x&&!v.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const _=gB(t);if(_){const T=window.MotionHandoffAnimation(_,f,Ft);T!==null&&(v.startTime=T,b=!0)}}pP(t,f),h.start(MC(f,h,p,t.shouldReduceMotion&&$4.has(f)?{type:!1}:v,t,b));const y=h.animation;y&&c.push(y)}return s&&Promise.all(c).then(()=>{Ft.update(()=>{s&&xX(t,s)})}),c}function yB(t,e,n,r=0,i=1){const o=Array.from(t).sort((u,f)=>u.sortNodePosition(f)).indexOf(e),s=t.size,a=(s-1)*r;return typeof n=="function"?n(o,s):i===1?o*r:a-o*r}function mP(t,e,n={}){var c;const r=Rc(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(vB(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:p}=i;return RX(t,e,u,f,h,p,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,f]=a==="beforeChildren"?[o,s]:[s,o];return u().then(()=>f())}else return Promise.all([o(),s(n.delay)])}function RX(t,e,n=0,r=0,i=0,o=1,s){const a=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),a.push(mP(c,e,{...s,delay:n+(typeof r=="function"?0:r)+yB(t.variantChildren,c,r,i,o)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(a)}function NX(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>mP(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=mP(t,e,n);else{const i=typeof e=="function"?Rc(t,e,n.custom):e;r=Promise.all(vB(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function bB(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const IX=AC.length;function wB(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?wB(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<IX;n++){const r=AC[n],i=t.props[r];($f(i)||i===!1)&&(e[r]=i)}return e}const MX=[...CC].reverse(),DX=CC.length;function $X(t){return e=>Promise.all(e.map(({animation:n,options:r})=>NX(t,n,r)))}function LX(t){let e=$X(t),n=lN(),r=!0;const i=c=>(u,f)=>{var p;const h=Rc(t,f,c==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:v,transitionEnd:x,...b}=h;u={...u,...b,...x}}return u};function o(c){e=c(t)}function s(c){const{props:u}=t,f=wB(t.parent)||{},h=[],p=new Set;let v={},x=1/0;for(let y=0;y<DX;y++){const _=MX[y],T=n[_],S=u[_]!==void 0?u[_]:f[_],A=$f(S),P=_===c?T.isActive:null;P===!1&&(x=y);let O=S===f[_]&&S!==u[_]&&A;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),T.protectedKeys={...v},!T.isActive&&P===null||!S&&!T.prevProp||Qv(S)||typeof S=="boolean")continue;const k=FX(T.prevProp,S);let R=k||_===c&&T.isActive&&!O&&A||y>x&&A,I=!1;const D=Array.isArray(S)?S:[S];let M=D.reduce(i(_),{});P===!1&&(M={});const{prevResolvedValues:U={}}=T,V={...U,...M},Y=J=>{R=!0,p.has(J)&&(I=!0,p.delete(J)),T.needsAnimating[J]=!0;const B=t.getValue(J);B&&(B.liveStyle=!1)};for(const J in V){const B=M[J],G=U[J];if(v.hasOwnProperty(J))continue;let L=!1;hP(B)&&hP(G)?L=!bB(B,G):L=B!==G,L?B!=null?Y(J):p.add(J):B!==void 0&&p.has(J)?Y(J):T.protectedKeys[J]=!0}T.prevProp=S,T.prevResolvedValues=M,T.isActive&&(v={...v,...M}),r&&t.blockInitialAnimation&&(R=!1);const Q=O&&k;R&&(!Q||I)&&h.push(...D.map(J=>{const B={type:_};if(typeof J=="string"&&r&&!Q&&t.manuallyAnimateOnMount&&t.parent){const{parent:G}=t,L=Rc(G,J);if(G.enteringChildren&&L){const{delayChildren:$}=L.transition||{};B.delay=yB(G.enteringChildren,t,$)}}return{animation:J,options:B}}))}if(p.size){const y={};if(typeof u.initial!="boolean"){const _=Rc(t,Array.isArray(u.initial)?u.initial[0]:u.initial);_&&_.transition&&(y.transition=_.transition)}p.forEach(_=>{const T=t.getBaseTarget(_),S=t.getValue(_);S&&(S.liveStyle=!0),y[_]=T??null}),h.push({animation:y})}let b=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(h):Promise.resolve()}function a(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(p=>{var v;return(v=p.animationState)==null?void 0:v.setActive(c,u)}),n[c].isActive=u;const f=s(c);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=lN()}}}function FX(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!bB(e,t):!1}function wa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lN(){return{animate:wa(!0),whileInView:wa(),whileHover:wa(),whileTap:wa(),whileDrag:wa(),whileFocus:wa(),exit:wa()}}class Zs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class BX extends Zs{constructor(e){super(e),e.animationState||(e.animationState=LX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Qv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let UX=0;class qX extends Zs{constructor(){super(...arguments),this.id=UX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const VX={animation:{Feature:BX},exit:{Feature:qX}};function Lf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function $h(t){return{point:{x:t.pageX,y:t.pageY}}}const WX=t=>e=>TC(e)&&t(e,$h(e));function Sf(t,e,n,r){return Lf(t,e,WX(n),r)}const xB=1e-4,zX=1-xB,HX=1+xB,_B=.01,GX=0-_B,KX=0+_B;function er(t){return t.max-t.min}function YX(t,e,n){return Math.abs(t-e)<=n}function cN(t,e,n,r=.5){t.origin=r,t.originPoint=zt(e.min,e.max,t.origin),t.scale=er(n)/er(e),t.translate=zt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=zX&&t.scale<=HX||isNaN(t.scale))&&(t.scale=1),(t.translate>=GX&&t.translate<=KX||isNaN(t.translate))&&(t.translate=0)}function Pf(t,e,n,r){cN(t.x,e.x,n.x,r?r.originX:void 0),cN(t.y,e.y,n.y,r?r.originY:void 0)}function uN(t,e,n){t.min=n.min+e.min,t.max=t.min+er(e)}function XX(t,e,n){uN(t.x,e.x,n.x),uN(t.y,e.y,n.y)}function dN(t,e,n){t.min=e.min-n.min,t.max=t.min+er(e)}function Pg(t,e,n){dN(t.x,e.x,n.x),dN(t.y,e.y,n.y)}function zr(t){return[t("x"),t("y")]}const SB=({current:t})=>t?t.ownerDocument.defaultView:null,fN=(t,e)=>Math.abs(t-e);function QX(t,e){const n=fN(t.x,e.x),r=fN(t.y,e.y);return Math.sqrt(n**2+r**2)}class PB{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=dw(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=QX(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!x)return;const{point:b}=p,{timestamp:y}=Mn;this.history.push({...b,timestamp:y});const{onStart:_,onMove:T}=this.handlers;v||(_&&_(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=uw(v,this.transformPagePoint),Ft.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:x,onSessionEnd:b,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=dw(p.type==="pointercancel"?this.lastMoveEventInfo:uw(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,_),b&&b(p,_)},!TC(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=i||window;const a=$h(e),c=uw(a,this.transformPagePoint),{point:u}=c,{timestamp:f}=Mn;this.history=[{...u,timestamp:f}];const{onSessionStart:h}=n;h&&h(e,dw(c,this.history)),this.removeListeners=Ih(Sf(this.contextWindow,"pointermove",this.handlePointerMove),Sf(this.contextWindow,"pointerup",this.handlePointerUp),Sf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gs(this.updatePoint)}}function uw(t,e){return e?{point:e(t.point)}:t}function hN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dw({point:t},e){return{point:t,delta:hN(t,TB(e)),offset:hN(t,JX(e)),velocity:ZX(e,.1)}}function JX(t){return t[0]}function TB(t){return t[t.length-1]}function ZX(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=TB(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ki(e)));)n--;if(!r)return{x:0,y:0};const o=Qr(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function eQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?zt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?zt(n,t,r.max):Math.min(t,n)),t}function pN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function tQ(t,{top:e,left:n,bottom:r,right:i}){return{x:pN(t.x,n,i),y:pN(t.y,e,r)}}function mN(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function nQ(t,e){return{x:mN(t.x,e.x),y:mN(t.y,e.y)}}function rQ(t,e){let n=.5;const r=er(t),i=er(e);return i>r?n=If(e.min,e.max-r,t.min):r>i&&(n=If(t.min,t.max-i,e.min)),Lo(0,1,n)}function iQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const gP=.35;function oQ(t=gP){return t===!1?t=0:t===!0&&(t=gP),{x:gN(t,"left","right"),y:gN(t,"top","bottom")}}function gN(t,e,n){return{min:vN(t,e),max:vN(t,n)}}function vN(t,e){return typeof t=="number"?t:t[e]||0}const sQ=new WeakMap;class aQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($h(h).point)},s=(h,p)=>{const{drag:v,dragPropagation:x,onDragStart:b}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hY(v),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zr(_=>{let T=this.getAxisMotionValue(_).get()||0;if(Yi.test(T)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[_];A&&(T=er(A)*(parseFloat(T)/100))}}this.originPoint[_]=T}),b&&Ft.postRender(()=>b(h,p)),pP(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:b,onDrag:y}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:_}=p;if(x&&this.currentDirection===null){this.currentDirection=lQ(_),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",p.point,_),this.updateAxis("y",p.point,_),this.visualElement.render(),y&&y(h,p)},c=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>zr(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new PB(e,{onSessionStart:o,onStart:s,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:SB(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ft.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!mm(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=eQ(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&Sc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=tQ(r.layoutBox,e):this.constraints=!1,this.elastic=oQ(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&zr(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=iQ(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Sc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=cX(r,i.root,this.visualElement.getTransformPagePoint());let s=nQ(i.layout.layoutBox,o);if(n){const a=n(sX(s));this.hasMutatedConstraints=!!a,a&&(s=lB(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=zr(f=>{if(!mm(f,n,this.currentDirection))return;let h=c&&c[f]||{};s&&(h={min:0,max:0});const p=i?200:1e6,v=i?40:1e7,x={type:"inertia",velocity:r?e[f]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(f,x)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return pP(this.visualElement,e),r.start(MC(e,r,0,n,this.visualElement,!1))}stopAnimation(){zr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){zr(n=>{const{drag:r}=this.getProps();if(!mm(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-zt(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Sc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};zr(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const c=a.get();i[s]=rQ({min:c,max:c},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zr(s=>{if(!mm(s,e,null))return;const a=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];a.set(zt(c,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;sQ.set(this.visualElement,this);const e=this.visualElement.current,n=Sf(e,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Sc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ft.read(r);const s=Lf(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(zr(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=c[f].translate,h.set(h.get()+c[f].translate))}),this.visualElement.render())}));return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=gP,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function mm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function lQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class cQ extends Zs{constructor(e){super(e),this.removeGroupControls=Zr,this.removeListeners=Zr,this.controls=new aQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zr}unmount(){this.removeGroupControls(),this.removeListeners()}}const yN=t=>(e,n)=>{t&&Ft.postRender(()=>t(e,n))};class uQ extends Zs{constructor(){super(...arguments),this.removePointerDownListener=Zr}onPointerDown(e){this.session=new PB(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SB(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:yN(e),onStart:yN(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Ft.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=Sf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let fw=!1;class dQ extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),fw&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),tg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:s}=r;return s&&(s.isPresent=o,fw=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Ft.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),PC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;fw=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function EB(t){const[e,n]=K4(),r=E.useContext(rC);return g.jsx(dQ,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(sB),isPresent:e,safeToRemove:n})}function fQ(t,e,n){const r=Hn(t)?t:tu(t);return r.start(MC("",r,e,n)),r.animation}const hQ=(t,e)=>t.depth-e.depth;class pQ{constructor(){this.children=[],this.isDirty=!1}add(e){sC(this.children,e),this.isDirty=!0}remove(e){aC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hQ),this.isDirty=!1,this.children.forEach(e)}}function mQ(t,e){const n=yr.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Gs(r),t(o-e))};return Ft.setup(r,!0),()=>Gs(r)}const CB=["TopLeft","TopRight","BottomLeft","BottomRight"],gQ=CB.length,bN=t=>typeof t=="string"?parseFloat(t):t,wN=t=>typeof t=="number"||Ve.test(t);function vQ(t,e,n,r,i,o){i?(t.opacity=zt(0,n.opacity??1,yQ(r)),t.opacityExit=zt(e.opacity??1,0,bQ(r))):o&&(t.opacity=zt(e.opacity??1,n.opacity??1,r));for(let s=0;s<gQ;s++){const a=`border${CB[s]}Radius`;let c=xN(e,a),u=xN(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||wN(c)===wN(u)?(t[a]=Math.max(zt(bN(c),bN(u),r),0),(Yi.test(u)||Yi.test(c))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=zt(e.rotate||0,n.rotate||0,r))}function xN(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yQ=AB(0,.5,h4),bQ=AB(.5,.95,Zr);function AB(t,e,n){return r=>r<t?0:r>e?1:n(If(t,e,r))}function _N(t,e){t.min=e.min,t.max=e.max}function hi(t,e){_N(t.x,e.x),_N(t.y,e.y)}function SN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function PN(t,e,n,r,i){return t-=e,t=Sg(t,1/n,r),i!==void 0&&(t=Sg(t,1/i,r)),t}function wQ(t,e=0,n=1,r=.5,i,o=t,s=t){if(Yi.test(e)&&(e=parseFloat(e),e=zt(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=zt(o.min,o.max,r);t===o&&(a-=e),t.min=PN(t.min,e,n,a,i),t.max=PN(t.max,e,n,a,i)}function TN(t,e,[n,r,i],o,s){wQ(t,e[n],e[r],e[i],e.scale,o,s)}const xQ=["x","scaleX","originX"],_Q=["y","scaleY","originY"];function EN(t,e,n,r){TN(t.x,e,xQ,n?n.x:void 0,r?r.x:void 0),TN(t.y,e,_Q,n?n.y:void 0,r?r.y:void 0)}function CN(t){return t.translate===0&&t.scale===1}function OB(t){return CN(t.x)&&CN(t.y)}function AN(t,e){return t.min===e.min&&t.max===e.max}function SQ(t,e){return AN(t.x,e.x)&&AN(t.y,e.y)}function ON(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function kB(t,e){return ON(t.x,e.x)&&ON(t.y,e.y)}function kN(t){return er(t.x)/er(t.y)}function jN(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class PQ{constructor(){this.members=[]}add(e){sC(this.members,e),e.scheduleRender()}remove(e){if(aC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function TQ(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:f,rotateX:h,rotateY:p,skewX:v,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),f&&(r+=`rotate(${f}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),v&&(r+=`skewX(${v}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const hw=["","X","Y","Z"],EQ=1e3;let CQ=0;function pw(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function jB(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=gB(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ft,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&jB(r)}function RB({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=CQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kQ),this.nodes.forEach(IQ),this.nodes.forEach(MQ),this.nodes.forEach(jQ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new pQ)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new uC),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const c=this.eventHandlers.get(s);c&&c.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=G4(s)&&!bY(s),this.instance=s;const{layoutId:a,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),t){let f,h=0;const p=()=>this.root.updateBlockedByResize=!1;Ft.read(()=>{h=window.innerWidth}),t(s,()=>{const v=window.innerWidth;v!==h&&(h=v,this.root.updateBlockedByResize=!0,f&&f(),f=mQ(p,250),tg.hasAnimatedSinceResize&&(tg.hasAnimatedSinceResize=!1,this.nodes.forEach(IN)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||BQ,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=u.getProps(),_=!this.targetLayout||!kB(this.targetLayout,v),T=!h&&p;if(this.options.layoutRoot||this.resumeFrom||T||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={..._C(x,"layout"),onPlay:b,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(f,T)}else h||IN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DQ),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jB(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(RN);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(NN);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(NQ),this.nodes.forEach(AQ),this.nodes.forEach(OQ)):this.nodes.forEach(NN),this.clearAllSnapshots();const a=yr.now();Mn.delta=Lo(0,1e3/60,a-Mn.timestamp),Mn.timestamp=a,Mn.isProcessing=!0,nw.update.process(Mn),nw.preRender.process(Mn),nw.render.process(Mn),Mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,PC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RQ),this.sharedNodes.forEach($Q)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!er(this.snapshot.measuredBox.x)&&!er(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!OB(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;s&&this.instance&&(a||Ca(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return s&&(c=this.removeTransform(c)),UQ(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return hn();const a=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(qQ))){const{scroll:f}=this.root;f&&(Pc(a.x,f.offset.x),Pc(a.y,f.offset.y))}return a}removeElementScroll(s){var c;const a=hn();if(hi(a,s),(c=this.scroll)!=null&&c.wasRoot)return a;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:h,options:p}=f;f!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&hi(a,s),Pc(a.x,h.offset.x),Pc(a.y,h.offset.y))}return a}applyTransform(s,a=!1){const c=hn();hi(c,s);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Tc(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Ca(f.latestValues)&&Tc(c,f.latestValues)}return Ca(this.latestValues)&&Tc(c,this.latestValues),c}removeTransform(s){const a=hn();hi(a,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ca(u.latestValues))continue;uP(u.latestValues)&&u.updateSnapshot();const f=hn(),h=u.measurePageBox();hi(f,h),EN(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Ca(this.latestValues)&&EN(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var v;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!this.layout||!(f||h))return;this.resolvedRelativeTargetAt=Mn.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=hn(),this.targetWithTransforms=hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),XX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hi(this.target,this.layout.layoutBox),uB(this.target,this.targetDelta)):hi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||uP(this.parent.latestValues)||cB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,a,c){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),Pg(this.relativeTargetOrigin,a,c),hi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const s=this.getLead(),a=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Mn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;hi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;lX(this.layoutCorrected,this.treeScale,this.path,a),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=hn());const{target:v}=s;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(SN(this.prevProjectionDelta.x,this.projectionDelta.x),SN(this.prevProjectionDelta.y,this.projectionDelta.y)),Pf(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!jN(this.projectionDelta.x,this.prevProjectionDelta.x)||!jN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ec(),this.projectionDelta=Ec(),this.projectionDeltaWithTransform=Ec()}setAnimationOrigin(s,a=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},h=Ec();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=hn(),v=c?c.source:void 0,x=this.layout?this.layout.source:void 0,b=v!==x,y=this.getStack(),_=!y||y.members.length<=1,T=!!(b&&!_&&this.options.crossfade===!0&&!this.path.some(FQ));this.animationProgress=0;let S;this.mixTargetDelta=A=>{const P=A/1e3;MN(h.x,s.x,P),MN(h.y,s.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pg(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),LQ(this.relativeTarget,this.relativeTargetOrigin,p,P),S&&SQ(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=hn()),hi(S,this.relativeTarget)),b&&(this.animationValues=f,vQ(f,u,this.latestValues,P,T,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var a,c,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Gs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ft.update(()=>{tg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=tu(0)),this.currentAnimation=fQ(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),s.onUpdate&&s.onUpdate(f)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:f}=s;if(!(!a||!c||!u)){if(this!==s&&this.layout&&u&&NB(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||hn();const h=er(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+h;const p=er(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+p}hi(a,c),Tc(a,f),Pf(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new PQ),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&pw("z",s,u,this.animationValues);for(let f=0;f<hw.length;f++)pw(`rotate${hw[f]}`,s,u,this.animationValues),pw(`skew${hw[f]}`,s,u,this.animationValues);s.render();for(const f in u)s.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);s.scheduleRender()}applyProjectionStyles(s,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=eg(a==null?void 0:a.pointerEvents)||"",s.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=eg(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ca(this.latestValues)&&(s.transform=c?c({},""):"none",this.hasProjected=!1);return}s.visibility="";const f=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=TQ(this.projectionDeltaWithTransform,this.treeScale,f);c&&(h=c(f,h)),s.transform=h;const{x:p,y:v}=this.projectionDelta;s.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,u.animationValues?s.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:s.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in cP){if(f[x]===void 0)continue;const{correct:b,applyTo:y,isCSSVariable:_}=cP[x],T=h==="none"?f[x]:b(f[x],u);if(y){const S=y.length;for(let A=0;A<S;A++)s[y[A]]=T}else _?this.options.visualElement.renderState.vars[x]=T:s[x]=T}this.options.layoutId&&(s.pointerEvents=u===this?eg(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(RN),this.root.sharedNodes.clear()}}}function AQ(t){t.updateLayout()}function OQ(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=e.source!==t.layout.source;o==="size"?zr(h=>{const p=s?e.measuredBox[h]:e.layoutBox[h],v=er(p);p.min=r[h].min,p.max=p.min+v}):NB(o,e.layoutBox,r)&&zr(h=>{const p=s?e.measuredBox[h]:e.layoutBox[h],v=er(r[h]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+v)});const a=Ec();Pf(a,r,e.layoutBox);const c=Ec();s?Pf(c,t.applyTransform(i,!0),e.measuredBox):Pf(c,r,e.layoutBox);const u=!OB(a);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:v}=h;if(p&&v){const x=hn();Pg(x,e.layoutBox,p.layoutBox);const b=hn();Pg(b,r,v.layoutBox),kB(x,b)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function kQ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function jQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function RQ(t){t.clearSnapshot()}function RN(t){t.clearMeasurements()}function NN(t){t.isLayoutDirty=!1}function NQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function IN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function IQ(t){t.resolveTargetDelta()}function MQ(t){t.calcProjection()}function DQ(t){t.resetSkewAndRotation()}function $Q(t){t.removeLeadSnapshot()}function MN(t,e,n){t.translate=zt(e.translate,0,n),t.scale=zt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function DN(t,e,n,r){t.min=zt(e.min,n.min,r),t.max=zt(e.max,n.max,r)}function LQ(t,e,n,r){DN(t.x,e.x,n.x,r),DN(t.y,e.y,n.y,r)}function FQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const BQ={duration:.45,ease:[.4,0,.1,1]},$N=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),LN=$N("applewebkit/")&&!$N("chrome/")?Math.round:Zr;function FN(t){t.min=LN(t.min),t.max=LN(t.max)}function UQ(t){FN(t.x),FN(t.y)}function NB(t,e,n){return t==="position"||t==="preserve-aspect"&&!YX(kN(e),kN(n),.2)}function qQ(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const VQ=RB({attachResizeListener:(t,e)=>Lf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mw={current:void 0},IB=RB({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!mw.current){const t=new VQ({});t.mount(window),t.setOptions({layoutScroll:!0}),mw.current=t}return mw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),WQ={pan:{Feature:uQ},drag:{Feature:cQ,ProjectionNode:IB,MeasureLayout:EB}};function BN(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Ft.postRender(()=>o(e,$h(e)))}class zQ extends Zs{mount(){const{current:e}=this.node;e&&(this.unmount=pY(e,(n,r)=>(BN(this.node,r,"Start"),i=>BN(this.node,i,"End"))))}unmount(){}}class HQ extends Zs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ih(Lf(this.node.current,"focus",()=>this.onFocus()),Lf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function UN(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Ft.postRender(()=>o(e,$h(e)))}class GQ extends Zs{mount(){const{current:e}=this.node;e&&(this.unmount=yY(e,(n,r)=>(UN(this.node,r,"Start"),(i,{success:o})=>UN(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vP=new WeakMap,gw=new WeakMap,KQ=t=>{const e=vP.get(t.target);e&&e(t)},YQ=t=>{t.forEach(KQ)};function XQ({root:t,...e}){const n=t||document;gw.has(n)||gw.set(n,{});const r=gw.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(YQ,{root:t,...e})),r[i]}function QQ(t,e,n){const r=XQ(e);return vP.set(t,n),r.observe(t),()=>{vP.delete(t),r.unobserve(t)}}const JQ={some:0,all:1};class ZQ extends Zs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:JQ[i]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),p=u?f:h;p&&p(c)};return QQ(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(eJ(e,n))&&this.startObserver()}unmount(){}}function eJ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const tJ={inView:{Feature:ZQ},tap:{Feature:GQ},focus:{Feature:HQ},hover:{Feature:zQ}},nJ={layout:{ProjectionNode:IB,MeasureLayout:EB}},rJ={...VX,...tJ,...WQ,...nJ},pe=oX(rJ,yX);var Uu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},iJ={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},js,ZE,W5,oJ=(W5=class{constructor(){Ne(this,js,iJ);Ne(this,ZE,!1)}setTimeoutProvider(t){be(this,js,t)}setTimeout(t,e){return z(this,js).setTimeout(t,e)}clearTimeout(t){z(this,js).clearTimeout(t)}setInterval(t,e){return z(this,js).setInterval(t,e)}clearInterval(t){z(this,js).clearInterval(t)}},js=new WeakMap,ZE=new WeakMap,W5),Fa=new oJ;function sJ(t){setTimeout(t,0)}var ul=typeof window>"u"||"Deno"in globalThis;function Zn(){}function aJ(t,e){return typeof t=="function"?t(e):t}function yP(t){return typeof t=="number"&&t>=0&&t!==1/0}function MB(t,e){return Math.max(t+(e||0)-Date.now(),0)}function qs(t,e){return typeof t=="function"?t(e):t}function Kr(t,e){return typeof t=="function"?t(e):t}function qN(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==DC(s,e.options))return!1}else if(!Ff(e.queryKey,s))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function VN(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(dl(e.options.mutationKey)!==dl(o))return!1}else if(!Ff(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function DC(t,e){return((e==null?void 0:e.queryKeyHashFn)||dl)(t)}function dl(t){return JSON.stringify(t,(e,n)=>bP(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ff(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ff(t[n],e[n])):!1}var lJ=Object.prototype.hasOwnProperty;function DB(t,e){if(t===e)return t;const n=WN(t)&&WN(e);if(!n&&!(bP(t)&&bP(e)))return e;const i=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),s=o.length,a=n?new Array(s):{};let c=0;for(let u=0;u<s;u++){const f=n?u:o[u],h=t[f],p=e[f];if(h===p){a[f]=h,(n?u<i:lJ.call(t,f))&&c++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){a[f]=p;continue}const v=DB(h,p);a[f]=v,v===h&&c++}return i===s&&c===i?t:a}function Tg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function WN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function bP(t){if(!zN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!zN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function zN(t){return Object.prototype.toString.call(t)==="[object Object]"}function cJ(t){return new Promise(e=>{Fa.setTimeout(e,t)})}function wP(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?DB(t,e):e}function uJ(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function dJ(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var $C=Symbol();function $B(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===$C?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function LB(t,e){return typeof t=="function"?t(...e):!!t}var Ga,Rs,Vc,z5,fJ=(z5=class extends Uu{constructor(){super();Ne(this,Ga);Ne(this,Rs);Ne(this,Vc);be(this,Vc,e=>{if(!ul&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,Rs)||this.setEventListener(z(this,Vc))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Rs))==null||e.call(this),be(this,Rs,void 0))}setEventListener(e){var n;be(this,Vc,e),(n=z(this,Rs))==null||n.call(this),be(this,Rs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,Ga)!==e&&(be(this,Ga,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,Ga)=="boolean"?z(this,Ga):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ga=new WeakMap,Rs=new WeakMap,Vc=new WeakMap,z5),LC=new fJ;function xP(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var hJ=sJ;function pJ(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=hJ;const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||s()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var mn=pJ(),Wc,Ns,zc,H5,mJ=(H5=class extends Uu{constructor(){super();Ne(this,Wc,!0);Ne(this,Ns);Ne(this,zc);be(this,zc,e=>{if(!ul&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,Ns)||this.setEventListener(z(this,zc))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Ns))==null||e.call(this),be(this,Ns,void 0))}setEventListener(e){var n;be(this,zc,e),(n=z(this,Ns))==null||n.call(this),be(this,Ns,e(this.setOnline.bind(this)))}setOnline(e){z(this,Wc)!==e&&(be(this,Wc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,Wc)}},Wc=new WeakMap,Ns=new WeakMap,zc=new WeakMap,H5),Eg=new mJ;function gJ(t){return Math.min(1e3*2**t,3e4)}function FB(t){return(t??"online")==="online"?Eg.isOnline():!0}var _P=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function BB(t){let e=!1,n=0,r;const i=xP(),o=()=>i.status!=="pending",s=b=>{var y;if(!o()){const _=new _P(b);p(_),(y=t.onCancel)==null||y.call(t,_)}},a=()=>{e=!0},c=()=>{e=!1},u=()=>LC.isFocused()&&(t.networkMode==="always"||Eg.isOnline())&&t.canRun(),f=()=>FB(t.networkMode)&&t.canRun(),h=b=>{o()||(r==null||r(),i.resolve(b))},p=b=>{o()||(r==null||r(),i.reject(b))},v=()=>new Promise(b=>{var y;r=_=>{(o()||u())&&b(_)},(y=t.onPause)==null||y.call(t)}).then(()=>{var b;r=void 0,o()||(b=t.onContinue)==null||b.call(t)}),x=()=>{if(o())return;let b;const y=n===0?t.initialPromise:void 0;try{b=y??t.fn()}catch(_){b=Promise.reject(_)}Promise.resolve(b).then(h).catch(_=>{var O;if(o())return;const T=t.retry??(ul?0:3),S=t.retryDelay??gJ,A=typeof S=="function"?S(n,_):S,P=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,_);if(e||!P){p(_);return}n++,(O=t.onFail)==null||O.call(t,n,_),cJ(A).then(()=>u()?void 0:v()).then(()=>{e?p(_):x()})})};return{promise:i,status:()=>i.status,cancel:s,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?x():v().then(x),i)}}var Ka,G5,UB=(G5=class{constructor(){Ne(this,Ka)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yP(this.gcTime)&&be(this,Ka,Fa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ul?1/0:300*1e3))}clearGcTimeout(){z(this,Ka)&&(Fa.clearTimeout(z(this,Ka)),be(this,Ka,void 0))}},Ka=new WeakMap,G5),Ya,Hc,Gr,Xa,Sn,Ah,Qa,wi,wo,K5,vJ=(K5=class extends UB{constructor(e){super();Ne(this,wi);Ne(this,Ya);Ne(this,Hc);Ne(this,Gr);Ne(this,Xa);Ne(this,Sn);Ne(this,Ah);Ne(this,Qa);be(this,Qa,!1),be(this,Ah,e.defaultOptions),this.setOptions(e.options),this.observers=[],be(this,Xa,e.client),be(this,Gr,z(this,Xa).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,be(this,Ya,GN(this.options)),this.state=e.state??z(this,Ya),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=z(this,Sn))==null?void 0:e.promise}setOptions(e){if(this.options={...z(this,Ah),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=GN(this.options);n.data!==void 0&&(this.setState(HN(n.data,n.dataUpdatedAt)),be(this,Ya,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Gr).remove(this)}setData(e,n){const r=wP(this.state.data,e,this.options);return Ye(this,wi,wo).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ye(this,wi,wo).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=z(this,Sn))==null?void 0:r.promise;return(i=z(this,Sn))==null||i.cancel(e),n?n.then(Zn).catch(Zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Ya))}isActive(){return this.observers.some(e=>Kr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$C||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>qs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!MB(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=z(this,Sn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=z(this,Sn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),z(this,Gr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(z(this,Sn)&&(z(this,Qa)?z(this,Sn).cancel({revert:!0}):z(this,Sn).cancelRetry()),this.scheduleGc()),z(this,Gr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ye(this,wi,wo).call(this,{type:"invalidate"})}async fetch(e,n){var c,u,f,h,p,v,x,b,y,_,T,S;if(this.state.fetchStatus!=="idle"&&((c=z(this,Sn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(z(this,Sn))return z(this,Sn).continueRetry(),z(this,Sn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const A=this.observers.find(P=>P.options.queryFn);A&&this.setOptions(A.options)}const r=new AbortController,i=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(be(this,Qa,!0),r.signal)})},o=()=>{const A=$B(this.options,n),O=(()=>{const k={client:z(this,Xa),queryKey:this.queryKey,meta:this.meta};return i(k),k})();return be(this,Qa,!1),this.options.persister?this.options.persister(A,O,this):A(O)},a=(()=>{const A={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:z(this,Xa),state:this.state,fetchFn:o};return i(A),A})();(u=this.options.behavior)==null||u.onFetch(a,this),be(this,Hc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Ye(this,wi,wo).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),be(this,Sn,BB({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:A=>{A instanceof _P&&A.revert&&this.setState({...z(this,Hc),fetchStatus:"idle"}),r.abort()},onFail:(A,P)=>{Ye(this,wi,wo).call(this,{type:"failed",failureCount:A,error:P})},onPause:()=>{Ye(this,wi,wo).call(this,{type:"pause"})},onContinue:()=>{Ye(this,wi,wo).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const A=await z(this,Sn).start();if(A===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(A),(v=(p=z(this,Gr).config).onSuccess)==null||v.call(p,A,this),(b=(x=z(this,Gr).config).onSettled)==null||b.call(x,A,this.state.error,this),A}catch(A){if(A instanceof _P){if(A.silent)return z(this,Sn).promise;if(A.revert){if(this.state.data===void 0)throw A;return this.state.data}}throw Ye(this,wi,wo).call(this,{type:"error",error:A}),(_=(y=z(this,Gr).config).onError)==null||_.call(y,A,this),(S=(T=z(this,Gr).config).onSettled)==null||S.call(T,this.state.data,A,this),A}finally{this.scheduleGc()}}},Ya=new WeakMap,Hc=new WeakMap,Gr=new WeakMap,Xa=new WeakMap,Sn=new WeakMap,Ah=new WeakMap,Qa=new WeakMap,wi=new WeakSet,wo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...qB(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...HN(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return be(this,Hc,e.manual?i:void 0),i;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),mn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),z(this,Gr).notify({query:this,type:"updated",action:e})})},K5);function qB(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:FB(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function HN(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function GN(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var pr,tt,Oh,Qn,Ja,Gc,To,Is,kh,Kc,Yc,Za,el,Ms,Xc,gt,df,SP,PP,TP,EP,CP,AP,OP,VB,Y5,yJ=(Y5=class extends Uu{constructor(e,n){super();Ne(this,gt);Ne(this,pr);Ne(this,tt);Ne(this,Oh);Ne(this,Qn);Ne(this,Ja);Ne(this,Gc);Ne(this,To);Ne(this,Is);Ne(this,kh);Ne(this,Kc);Ne(this,Yc);Ne(this,Za);Ne(this,el);Ne(this,Ms);Ne(this,Xc,new Set);this.options=n,be(this,pr,e),be(this,Is,null),be(this,To,xP()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,tt).addObserver(this),KN(z(this,tt),this.options)?Ye(this,gt,df).call(this):this.updateResult(),Ye(this,gt,EP).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kP(z(this,tt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kP(z(this,tt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ye(this,gt,CP).call(this),Ye(this,gt,AP).call(this),z(this,tt).removeObserver(this)}setOptions(e){const n=this.options,r=z(this,tt);if(this.options=z(this,pr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Kr(this.options.enabled,z(this,tt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ye(this,gt,OP).call(this),z(this,tt).setOptions(this.options),n._defaulted&&!Tg(this.options,n)&&z(this,pr).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,tt),observer:this});const i=this.hasListeners();i&&YN(z(this,tt),r,this.options,n)&&Ye(this,gt,df).call(this),this.updateResult(),i&&(z(this,tt)!==r||Kr(this.options.enabled,z(this,tt))!==Kr(n.enabled,z(this,tt))||qs(this.options.staleTime,z(this,tt))!==qs(n.staleTime,z(this,tt)))&&Ye(this,gt,SP).call(this);const o=Ye(this,gt,PP).call(this);i&&(z(this,tt)!==r||Kr(this.options.enabled,z(this,tt))!==Kr(n.enabled,z(this,tt))||o!==z(this,Ms))&&Ye(this,gt,TP).call(this,o)}getOptimisticResult(e){const n=z(this,pr).getQueryCache().build(z(this,pr),e),r=this.createResult(n,e);return wJ(this,r)&&(be(this,Qn,r),be(this,Gc,this.options),be(this,Ja,z(this,tt).state)),r}getCurrentResult(){return z(this,Qn)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&z(this,To).status==="pending"&&z(this,To).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){z(this,Xc).add(e)}getCurrentQuery(){return z(this,tt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=z(this,pr).defaultQueryOptions(e),r=z(this,pr).getQueryCache().build(z(this,pr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ye(this,gt,df).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,Qn)))}createResult(e,n){var I;const r=z(this,tt),i=this.options,o=z(this,Qn),s=z(this,Ja),a=z(this,Gc),u=e!==r?e.state:z(this,Oh),{state:f}=e;let h={...f},p=!1,v;if(n._optimisticResults){const D=this.hasListeners(),M=!D&&KN(e,n),U=D&&YN(e,r,n,i);(M||U)&&(h={...h,...qB(f.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:y}=h;v=h.data;let _=!1;if(n.placeholderData!==void 0&&v===void 0&&y==="pending"){let D;o!=null&&o.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(D=o.data,_=!0):D=typeof n.placeholderData=="function"?n.placeholderData((I=z(this,Yc))==null?void 0:I.state.data,z(this,Yc)):n.placeholderData,D!==void 0&&(y="success",v=wP(o==null?void 0:o.data,D,n),p=!0)}if(n.select&&v!==void 0&&!_)if(o&&v===(s==null?void 0:s.data)&&n.select===z(this,kh))v=z(this,Kc);else try{be(this,kh,n.select),v=n.select(v),v=wP(o==null?void 0:o.data,v,n),be(this,Kc,v),be(this,Is,null)}catch(D){be(this,Is,D)}z(this,Is)&&(x=z(this,Is),v=z(this,Kc),b=Date.now(),y="error");const T=h.fetchStatus==="fetching",S=y==="pending",A=y==="error",P=S&&T,O=v!==void 0,R={status:y,fetchStatus:h.fetchStatus,isPending:S,isSuccess:y==="success",isError:A,isInitialLoading:P,isLoading:P,data:v,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:T,isRefetching:T&&!S,isLoadingError:A&&!O,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&O,isStale:FC(e,n),refetch:this.refetch,promise:z(this,To),isEnabled:Kr(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=V=>{R.status==="error"?V.reject(R.error):R.data!==void 0&&V.resolve(R.data)},M=()=>{const V=be(this,To,R.promise=xP());D(V)},U=z(this,To);switch(U.status){case"pending":e.queryHash===r.queryHash&&D(U);break;case"fulfilled":(R.status==="error"||R.data!==U.value)&&M();break;case"rejected":(R.status!=="error"||R.error!==U.reason)&&M();break}}return R}updateResult(){const e=z(this,Qn),n=this.createResult(z(this,tt),this.options);if(be(this,Ja,z(this,tt).state),be(this,Gc,this.options),z(this,Ja).data!==void 0&&be(this,Yc,z(this,tt)),Tg(n,e))return;be(this,Qn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!z(this,Xc).size)return!0;const s=new Set(o??z(this,Xc));return this.options.throwOnError&&s.add("error"),Object.keys(z(this,Qn)).some(a=>{const c=a;return z(this,Qn)[c]!==e[c]&&s.has(c)})};Ye(this,gt,VB).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ye(this,gt,EP).call(this)}},pr=new WeakMap,tt=new WeakMap,Oh=new WeakMap,Qn=new WeakMap,Ja=new WeakMap,Gc=new WeakMap,To=new WeakMap,Is=new WeakMap,kh=new WeakMap,Kc=new WeakMap,Yc=new WeakMap,Za=new WeakMap,el=new WeakMap,Ms=new WeakMap,Xc=new WeakMap,gt=new WeakSet,df=function(e){Ye(this,gt,OP).call(this);let n=z(this,tt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Zn)),n},SP=function(){Ye(this,gt,CP).call(this);const e=qs(this.options.staleTime,z(this,tt));if(ul||z(this,Qn).isStale||!yP(e))return;const r=MB(z(this,Qn).dataUpdatedAt,e)+1;be(this,Za,Fa.setTimeout(()=>{z(this,Qn).isStale||this.updateResult()},r))},PP=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,tt)):this.options.refetchInterval)??!1},TP=function(e){Ye(this,gt,AP).call(this),be(this,Ms,e),!(ul||Kr(this.options.enabled,z(this,tt))===!1||!yP(z(this,Ms))||z(this,Ms)===0)&&be(this,el,Fa.setInterval(()=>{(this.options.refetchIntervalInBackground||LC.isFocused())&&Ye(this,gt,df).call(this)},z(this,Ms)))},EP=function(){Ye(this,gt,SP).call(this),Ye(this,gt,TP).call(this,Ye(this,gt,PP).call(this))},CP=function(){z(this,Za)&&(Fa.clearTimeout(z(this,Za)),be(this,Za,void 0))},AP=function(){z(this,el)&&(Fa.clearInterval(z(this,el)),be(this,el,void 0))},OP=function(){const e=z(this,pr).getQueryCache().build(z(this,pr),this.options);if(e===z(this,tt))return;const n=z(this,tt);be(this,tt,e),be(this,Oh,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},VB=function(e){mn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(z(this,Qn))}),z(this,pr).getQueryCache().notify({query:z(this,tt),type:"observerResultsUpdated"})})},Y5);function bJ(t,e){return Kr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function KN(t,e){return bJ(t,e)||t.state.data!==void 0&&kP(t,e,e.refetchOnMount)}function kP(t,e,n){if(Kr(e.enabled,t)!==!1&&qs(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&FC(t,e)}return!1}function YN(t,e,n,r){return(t!==e||Kr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&FC(t,n)}function FC(t,e){return Kr(e.enabled,t)!==!1&&t.isStaleByTime(qs(e.staleTime,t))}function wJ(t,e){return!Tg(t.getCurrentResult(),e)}function XN(t){return{onFetch:(e,n)=>{var f,h,p,v,x;const r=e.options,i=(p=(h=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,o=((v=e.state.data)==null?void 0:v.pages)||[],s=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let b=!1;const y=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},_=$B(e.options,e.fetchOptions),T=async(S,A,P)=>{if(b)return Promise.reject();if(A==null&&S.pages.length)return Promise.resolve(S);const k=(()=>{const M={client:e.client,queryKey:e.queryKey,pageParam:A,direction:P?"backward":"forward",meta:e.options.meta};return y(M),M})(),R=await _(k),{maxPages:I}=e.options,D=P?dJ:uJ;return{pages:D(S.pages,R,I),pageParams:D(S.pageParams,A,I)}};if(i&&o.length){const S=i==="backward",A=S?xJ:QN,P={pages:o,pageParams:s},O=A(r,P);a=await T(P,O,S)}else{const S=t??o.length;do{const A=c===0?s[0]??r.initialPageParam:QN(r,a);if(c>0&&A==null)break;a=await T(a,A),c++}while(c<S)}return a};e.options.persister?e.fetchFn=()=>{var b,y;return(y=(b=e.options).persister)==null?void 0:y.call(b,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function QN(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function xJ(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var jh,qi,Jn,tl,Vi,Ps,X5,_J=(X5=class extends UB{constructor(e){super();Ne(this,Vi);Ne(this,jh);Ne(this,qi);Ne(this,Jn);Ne(this,tl);be(this,jh,e.client),this.mutationId=e.mutationId,be(this,Jn,e.mutationCache),be(this,qi,[]),this.state=e.state||WB(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){z(this,qi).includes(e)||(z(this,qi).push(e),this.clearGcTimeout(),z(this,Jn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){be(this,qi,z(this,qi).filter(n=>n!==e)),this.scheduleGc(),z(this,Jn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){z(this,qi).length||(this.state.status==="pending"?this.scheduleGc():z(this,Jn).remove(this))}continue(){var e;return((e=z(this,tl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,a,c,u,f,h,p,v,x,b,y,_,T,S,A,P,O,k,R,I;const n=()=>{Ye(this,Vi,Ps).call(this,{type:"continue"})},r={client:z(this,jh),meta:this.options.meta,mutationKey:this.options.mutationKey};be(this,tl,BB({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(D,M)=>{Ye(this,Vi,Ps).call(this,{type:"failed",failureCount:D,error:M})},onPause:()=>{Ye(this,Vi,Ps).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Jn).canRun(this)}));const i=this.state.status==="pending",o=!z(this,tl).canStart();try{if(i)n();else{Ye(this,Vi,Ps).call(this,{type:"pending",variables:e,isPaused:o}),await((a=(s=z(this,Jn).config).onMutate)==null?void 0:a.call(s,e,this,r));const M=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,r));M!==this.state.context&&Ye(this,Vi,Ps).call(this,{type:"pending",context:M,variables:e,isPaused:o})}const D=await z(this,tl).start();return await((h=(f=z(this,Jn).config).onSuccess)==null?void 0:h.call(f,D,e,this.state.context,this,r)),await((v=(p=this.options).onSuccess)==null?void 0:v.call(p,D,e,this.state.context,r)),await((b=(x=z(this,Jn).config).onSettled)==null?void 0:b.call(x,D,null,this.state.variables,this.state.context,this,r)),await((_=(y=this.options).onSettled)==null?void 0:_.call(y,D,null,e,this.state.context,r)),Ye(this,Vi,Ps).call(this,{type:"success",data:D}),D}catch(D){try{throw await((S=(T=z(this,Jn).config).onError)==null?void 0:S.call(T,D,e,this.state.context,this,r)),await((P=(A=this.options).onError)==null?void 0:P.call(A,D,e,this.state.context,r)),await((k=(O=z(this,Jn).config).onSettled)==null?void 0:k.call(O,void 0,D,this.state.variables,this.state.context,this,r)),await((I=(R=this.options).onSettled)==null?void 0:I.call(R,void 0,D,e,this.state.context,r)),D}finally{Ye(this,Vi,Ps).call(this,{type:"error",error:D})}}finally{z(this,Jn).runNext(this)}}},jh=new WeakMap,qi=new WeakMap,Jn=new WeakMap,tl=new WeakMap,Vi=new WeakSet,Ps=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),mn.batch(()=>{z(this,qi).forEach(r=>{r.onMutationUpdate(e)}),z(this,Jn).notify({mutation:this,type:"updated",action:e})})},X5);function WB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Eo,xi,Rh,Q5,SJ=(Q5=class extends Uu{constructor(e={}){super();Ne(this,Eo);Ne(this,xi);Ne(this,Rh);this.config=e,be(this,Eo,new Set),be(this,xi,new Map),be(this,Rh,0)}build(e,n,r){const i=new _J({client:e,mutationCache:this,mutationId:++cm(this,Rh)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){z(this,Eo).add(e);const n=gm(e);if(typeof n=="string"){const r=z(this,xi).get(n);r?r.push(e):z(this,xi).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(z(this,Eo).delete(e)){const n=gm(e);if(typeof n=="string"){const r=z(this,xi).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&z(this,xi).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=gm(e);if(typeof n=="string"){const r=z(this,xi).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=gm(e);if(typeof n=="string"){const i=(r=z(this,xi).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){mn.batch(()=>{z(this,Eo).forEach(e=>{this.notify({type:"removed",mutation:e})}),z(this,Eo).clear(),z(this,xi).clear()})}getAll(){return Array.from(z(this,Eo))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>VN(n,r))}findAll(e={}){return this.getAll().filter(n=>VN(e,n))}notify(e){mn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return mn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Zn))))}},Eo=new WeakMap,xi=new WeakMap,Rh=new WeakMap,Q5);function gm(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Co,Ds,mr,Ao,$o,ng,jP,J5,PJ=(J5=class extends Uu{constructor(n,r){super();Ne(this,$o);Ne(this,Co);Ne(this,Ds);Ne(this,mr);Ne(this,Ao);be(this,Co,n),this.setOptions(r),this.bindMethods(),Ye(this,$o,ng).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=z(this,Co).defaultMutationOptions(n),Tg(this.options,r)||z(this,Co).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,mr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&dl(r.mutationKey)!==dl(this.options.mutationKey)?this.reset():((i=z(this,mr))==null?void 0:i.state.status)==="pending"&&z(this,mr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=z(this,mr))==null||n.removeObserver(this)}onMutationUpdate(n){Ye(this,$o,ng).call(this),Ye(this,$o,jP).call(this,n)}getCurrentResult(){return z(this,Ds)}reset(){var n;(n=z(this,mr))==null||n.removeObserver(this),be(this,mr,void 0),Ye(this,$o,ng).call(this),Ye(this,$o,jP).call(this)}mutate(n,r){var i;return be(this,Ao,r),(i=z(this,mr))==null||i.removeObserver(this),be(this,mr,z(this,Co).getMutationCache().build(z(this,Co),this.options)),z(this,mr).addObserver(this),z(this,mr).execute(n)}},Co=new WeakMap,Ds=new WeakMap,mr=new WeakMap,Ao=new WeakMap,$o=new WeakSet,ng=function(){var r;const n=((r=z(this,mr))==null?void 0:r.state)??WB();be(this,Ds,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},jP=function(n){mn.batch(()=>{var r,i,o,s,a,c,u,f;if(z(this,Ao)&&this.hasListeners()){const h=z(this,Ds).variables,p=z(this,Ds).context,v={client:z(this,Co),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=z(this,Ao)).onSuccess)==null||i.call(r,n.data,h,p,v),(s=(o=z(this,Ao)).onSettled)==null||s.call(o,n.data,null,h,p,v)):(n==null?void 0:n.type)==="error"&&((c=(a=z(this,Ao)).onError)==null||c.call(a,n.error,h,p,v),(f=(u=z(this,Ao)).onSettled)==null||f.call(u,void 0,n.error,h,p,v))}this.listeners.forEach(h=>{h(z(this,Ds))})})},J5),Wi,Z5,TJ=(Z5=class extends Uu{constructor(e={}){super();Ne(this,Wi);this.config=e,be(this,Wi,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??DC(i,n);let s=this.get(o);return s||(s=new vJ({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){z(this,Wi).has(e.queryHash)||(z(this,Wi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,Wi).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,Wi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){mn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,Wi).get(e)}getAll(){return[...z(this,Wi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>qN(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>qN(e,r)):n}notify(e){mn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){mn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){mn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Wi=new WeakMap,Z5),Kt,$s,Ls,Qc,Jc,Fs,Zc,eu,e4,EJ=(e4=class{constructor(t={}){Ne(this,Kt);Ne(this,$s);Ne(this,Ls);Ne(this,Qc);Ne(this,Jc);Ne(this,Fs);Ne(this,Zc);Ne(this,eu);be(this,Kt,t.queryCache||new TJ),be(this,$s,t.mutationCache||new SJ),be(this,Ls,t.defaultOptions||{}),be(this,Qc,new Map),be(this,Jc,new Map),be(this,Fs,0)}mount(){cm(this,Fs)._++,z(this,Fs)===1&&(be(this,Zc,LC.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Kt).onFocus())})),be(this,eu,Eg.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Kt).onOnline())})))}unmount(){var t,e;cm(this,Fs)._--,z(this,Fs)===0&&((t=z(this,Zc))==null||t.call(this),be(this,Zc,void 0),(e=z(this,eu))==null||e.call(this),be(this,eu,void 0))}isFetching(t){return z(this,Kt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,$s).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Kt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=z(this,Kt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(qs(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return z(this,Kt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=z(this,Kt).get(r.queryHash),o=i==null?void 0:i.state.data,s=aJ(e,o);if(s!==void 0)return z(this,Kt).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return mn.batch(()=>z(this,Kt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Kt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,Kt);mn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,Kt);return mn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=mn.batch(()=>z(this,Kt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Zn).catch(Zn)}invalidateQueries(t,e={}){return mn.batch(()=>(z(this,Kt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=mn.batch(()=>z(this,Kt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Zn)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Zn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,Kt).build(this,e);return n.isStaleByTime(qs(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Zn).catch(Zn)}fetchInfiniteQuery(t){return t.behavior=XN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Zn).catch(Zn)}ensureInfiniteQueryData(t){return t.behavior=XN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Eg.isOnline()?z(this,$s).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Kt)}getMutationCache(){return z(this,$s)}getDefaultOptions(){return z(this,Ls)}setDefaultOptions(t){be(this,Ls,t)}setQueryDefaults(t,e){z(this,Qc).set(dl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,Qc).values()],n={};return e.forEach(r=>{Ff(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){z(this,Jc).set(dl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,Jc).values()],n={};return e.forEach(r=>{Ff(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Ls).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=DC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===$C&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Ls).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,Kt).clear(),z(this,$s).clear()}},Kt=new WeakMap,$s=new WeakMap,Ls=new WeakMap,Qc=new WeakMap,Jc=new WeakMap,Fs=new WeakMap,Zc=new WeakMap,eu=new WeakMap,e4),zB=E.createContext(void 0),Tl=t=>{const e=E.useContext(zB);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},CJ=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(zB.Provider,{value:t,children:e})),HB=E.createContext(!1),AJ=()=>E.useContext(HB);HB.Provider;function OJ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var kJ=E.createContext(OJ()),jJ=()=>E.useContext(kJ),RJ=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},NJ=t=>{E.useEffect(()=>{t.clearReset()},[t])},IJ=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||LB(n,[t.error,r])),MJ=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},DJ=(t,e)=>t.isLoading&&t.isFetching&&!e,$J=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,JN=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function LJ(t,e,n){var h,p,v,x,b;const r=AJ(),i=jJ(),o=Tl(),s=o.defaultQueryOptions(t);(p=(h=o.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,s),s._optimisticResults=r?"isRestoring":"optimistic",MJ(s),RJ(s,i),NJ(i);const a=!o.getQueryCache().get(s.queryHash),[c]=E.useState(()=>new e(o,s)),u=c.getOptimisticResult(s),f=!r&&t.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(y=>{const _=f?c.subscribe(mn.batchCalls(y)):Zn;return c.updateResult(),_},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),E.useEffect(()=>{c.setOptions(s)},[s,c]),$J(s,u))throw JN(s,c,i);if(IJ({result:u,errorResetBoundary:i,throwOnError:s.throwOnError,query:o.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((x=(v=o.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||x.call(v,s,u),s.experimental_prefetchInRender&&!ul&&DJ(u,r)){const y=a?JN(s,c,i):(b=o.getQueryCache().get(s.queryHash))==null?void 0:b.promise;y==null||y.catch(Zn).finally(()=>{c.updateResult()})}return s.notifyOnChangeProps?u:c.trackResult(u)}function kt(t,e){return LJ(t,yJ)}function Vs(t,e){const n=Tl(),[r]=E.useState(()=>new PJ(n,t));E.useEffect(()=>{r.setOptions(t)},[r,t]);const i=E.useSyncExternalStore(E.useCallback(s=>r.subscribe(mn.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=E.useCallback((s,a)=>{r.mutate(s,a).catch(Zn)},[r]);if(i.error&&LB(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}var go={},vm={},RP=function(t,e){return RP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},RP(t,e)};function GB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");RP(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Yr=function(){return Yr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Yr.apply(this,arguments)};function ea(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function KB(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function YB(t,e){return function(n,r){e(n,r,t)}}function XB(t,e,n,r,i,o){function s(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,f=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h,p=!1,v=n.length-1;v>=0;v--){var x={};for(var b in r)x[b]=b==="access"?{}:r[b];for(var b in r.access)x.access[b]=r.access[b];x.addInitializer=function(_){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(_||null))};var y=(0,n[v])(a==="accessor"?{get:f.get,set:f.set}:f[c],x);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=s(y.get))&&(f.get=h),(h=s(y.set))&&(f.set=h),(h=s(y.init))&&i.unshift(h)}else(h=s(y))&&(a==="field"?i.unshift(h):f[c]=h)}u&&Object.defineProperty(u,r.name,f),p=!0}function QB(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function JB(t){return typeof t=="symbol"?t:"".concat(t)}function ZB(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function eU(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ve(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{u(r.next(f))}catch(h){s(h)}}function c(f){try{u(r.throw(f))}catch(h){s(h)}}function u(f){f.done?o(f.value):i(f.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function tU(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(f){return c([u,f])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(f){u=[6,f],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Zv=Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]});function nU(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Zv(e,t,n)}function Cg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function BC(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function rU(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(BC(arguments[e]));return t}function iU(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function UC(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function ru(t){return this instanceof ru?(this.v=t,this):new ru(t)}function oU(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(x){return Promise.resolve(x).then(v,h)}}function a(v,x){r[v]&&(i[v]=function(b){return new Promise(function(y,_){o.push([v,b,y,_])>1||c(v,b)})},x&&(i[v]=x(i[v])))}function c(v,x){try{u(r[v](x))}catch(b){p(o[0][3],b)}}function u(v){v.value instanceof ru?Promise.resolve(v.value.v).then(f,h):p(o[0][2],v)}function f(v){c("next",v)}function h(v){c("throw",v)}function p(v,x){v(x),o.shift(),o.length&&c(o[0][0],o[0][1])}}function sU(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(s){return(n=!n)?{value:ru(t[i](s)),done:!1}:o?o(s):s}:o}}function aU(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Cg=="function"?Cg(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}function lU(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var FJ=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},NP=function(t){return NP=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},NP(t)};function cU(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=NP(t),r=0;r<n.length;r++)n[r]!=="default"&&Zv(e,t,n[r]);return FJ(e,t),e}function uU(t){return t&&t.__esModule?t:{default:t}}function dU(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function fU(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function hU(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function pU(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var BJ=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function mU(t){function e(o){t.error=t.hasError?new BJ(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(s){return e(s),i()})}else r|=1}catch(s){e(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function gU(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,o,s){return r?e?".jsx":".js":i&&(!o||!s)?n:i+o+"."+s.toLowerCase()+"js"}):t}const UJ={__extends:GB,__assign:Yr,__rest:ea,__decorate:KB,__param:YB,__esDecorate:XB,__runInitializers:QB,__propKey:JB,__setFunctionName:ZB,__metadata:eU,__awaiter:ve,__generator:tU,__createBinding:Zv,__exportStar:nU,__values:Cg,__read:BC,__spread:rU,__spreadArrays:iU,__spreadArray:UC,__await:ru,__asyncGenerator:oU,__asyncDelegator:sU,__asyncValues:aU,__makeTemplateObject:lU,__importStar:cU,__importDefault:uU,__classPrivateFieldGet:dU,__classPrivateFieldSet:fU,__classPrivateFieldIn:hU,__addDisposableResource:pU,__disposeResources:mU,__rewriteRelativeImportExtension:gU},qJ=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:pU,get __assign(){return Yr},__asyncDelegator:sU,__asyncGenerator:oU,__asyncValues:aU,__await:ru,__awaiter:ve,__classPrivateFieldGet:dU,__classPrivateFieldIn:hU,__classPrivateFieldSet:fU,__createBinding:Zv,__decorate:KB,__disposeResources:mU,__esDecorate:XB,__exportStar:nU,__extends:GB,__generator:tU,__importDefault:uU,__importStar:cU,__makeTemplateObject:lU,__metadata:eU,__param:YB,__propKey:JB,__read:BC,__rest:ea,__rewriteRelativeImportExtension:gU,__runInitializers:QB,__setFunctionName:ZB,__spread:rU,__spreadArray:UC,__spreadArrays:iU,__values:Cg,default:UJ},Symbol.toStringTag,{value:"Module"})),VJ=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let ey=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},vU=class extends ey{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},IP=class extends ey{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},MP=class extends ey{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Ag;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ag||(Ag={}));class WJ{constructor(e,{headers:n={},customFetch:r,region:i=Ag.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=VJ(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ve(this,arguments,void 0,function*(n,r={}){var i;let o,s;try{const{headers:a,method:c,body:u,signal:f,timeout:h}=r;let p={},{region:v}=r;v||(v=this.region);const x=new URL(`${this.url}/${n}`);v&&v!=="any"&&(p["x-region"]=v,x.searchParams.set("forceFunctionRegion",v));let b;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",b=u):typeof u=="string"?(p["Content-Type"]="text/plain",b=u):typeof FormData<"u"&&u instanceof FormData?b=u:(p["Content-Type"]="application/json",b=JSON.stringify(u)):b=u;let y=f;h&&(s=new AbortController,o=setTimeout(()=>s.abort(),h),f?(y=s.signal,f.addEventListener("abort",()=>s.abort())):y=s.signal);const _=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:b,signal:y}).catch(P=>{throw new vU(P)}),T=_.headers.get("x-relay-error");if(T&&T==="true")throw new IP(_);if(!_.ok)throw new MP(_);let S=((i=_.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),A;return S==="application/json"?A=yield _.json():S==="application/octet-stream"||S==="application/pdf"?A=yield _.blob():S==="text/event-stream"?A=_:S==="multipart/form-data"?A=yield _.formData():A=yield _.text(),{data:A,error:null,response:_}}catch(a){return{data:null,error:a,response:a instanceof MP||a instanceof IP?a.context:void 0}}finally{o&&clearTimeout(o)}})}}const zJ=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Ag},FunctionsClient:WJ,FunctionsError:ey,FunctionsFetchError:vU,FunctionsHttpError:MP,FunctionsRelayError:IP},Symbol.toStringTag,{value:"Module"})),yU=Nh(zJ);var Un={};const qu=Nh(qJ);var ym={},bm={},wm={},xm={},_m={},Sm={},ZN;function bU(){if(ZN)return Sm;ZN=1,Object.defineProperty(Sm,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Sm.default=t,Sm}var eI;function wU(){if(eI)return _m;eI=1,Object.defineProperty(_m,"__esModule",{value:!0});const e=qu.__importDefault(bU());let n=class{constructor(i){var o,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,f,h,p;let v=null,x=null,b=null,y=c.status,_=c.statusText;if(c.ok){if(this.method!=="HEAD"){const P=await c.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?x=P:x=JSON.parse(P))}const S=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),A=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");S&&A&&A.length>1&&(b=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,b=null,y=406,_="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const S=await c.text();try{v=JSON.parse(S),Array.isArray(v)&&c.status===404&&(x=[],v=null,y=200,_="OK")}catch{c.status===404&&S===""?(y=204,_="No Content"):v={message:S}}if(v&&this.isMaybeSingle&&(!((p=v==null?void 0:v.details)===null||p===void 0)&&p.includes("0 rows"))&&(v=null,y=200,_="OK"),v&&this.shouldThrowOnError)throw new e.default(v)}return{error:v,data:x,count:b,status:y,statusText:_}});return this.shouldThrowOnError||(a=a.catch(c=>{var u,f,h,p,v,x;let b="";const y=c==null?void 0:c.cause;if(y){const _=(u=y==null?void 0:y.message)!==null&&u!==void 0?u:"",T=(f=y==null?void 0:y.code)!==null&&f!==void 0?f:"";b=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,b+=`

Caused by: ${(p=y==null?void 0:y.name)!==null&&p!==void 0?p:"Error"}: ${_}`,T&&(b+=` (${T})`),y!=null&&y.stack&&(b+=`
${y.stack}`)}else b=(v=c==null?void 0:c.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(x=c==null?void 0:c.name)!==null&&x!==void 0?x:"FetchError"}: ${c==null?void 0:c.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(i,o)}returns(){return this}overrideTypes(){return this}};return _m.default=n,_m}var tI;function xU(){if(tI)return xm;tI=1,Object.defineProperty(xm,"__esModule",{value:!0});const e=qu.__importDefault(wU());let n=class extends e.default{select(i){let o=!1;const s=(i??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:s,foreignTable:a,referencedTable:c=a}={}){const u=c?`${c}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${i}.${o?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:s=o}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,o,{foreignTable:s,referencedTable:a=s}={}){const c=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:s=!1,buffers:a=!1,wal:c=!1,format:u="text"}={}){var f;const h=[i?"analyze":null,o?"verbose":null,s?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return xm.default=n,xm}var nI;function qC(){if(nI)return wm;nI=1,Object.defineProperty(wm,"__esModule",{value:!0});const e=qu.__importDefault(xU()),n=new RegExp("[,()]");let r=class extends e.default{eq(o,s){return this.url.searchParams.append(o,`eq.${s}`),this}neq(o,s){return this.url.searchParams.append(o,`neq.${s}`),this}gt(o,s){return this.url.searchParams.append(o,`gt.${s}`),this}gte(o,s){return this.url.searchParams.append(o,`gte.${s}`),this}lt(o,s){return this.url.searchParams.append(o,`lt.${s}`),this}lte(o,s){return this.url.searchParams.append(o,`lte.${s}`),this}like(o,s){return this.url.searchParams.append(o,`like.${s}`),this}likeAllOf(o,s){return this.url.searchParams.append(o,`like(all).{${s.join(",")}}`),this}likeAnyOf(o,s){return this.url.searchParams.append(o,`like(any).{${s.join(",")}}`),this}ilike(o,s){return this.url.searchParams.append(o,`ilike.${s}`),this}ilikeAllOf(o,s){return this.url.searchParams.append(o,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(o,s){return this.url.searchParams.append(o,`ilike(any).{${s.join(",")}}`),this}regexMatch(o,s){return this.url.searchParams.append(o,`match.${s}`),this}regexIMatch(o,s){return this.url.searchParams.append(o,`imatch.${s}`),this}is(o,s){return this.url.searchParams.append(o,`is.${s}`),this}isDistinct(o,s){return this.url.searchParams.append(o,`isdistinct.${s}`),this}in(o,s){const a=Array.from(new Set(s)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(o,`in.(${a})`),this}contains(o,s){return typeof s=="string"?this.url.searchParams.append(o,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(o,`cs.{${s.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(s)}`),this}containedBy(o,s){return typeof s=="string"?this.url.searchParams.append(o,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(o,`cd.{${s.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(s)}`),this}rangeGt(o,s){return this.url.searchParams.append(o,`sr.${s}`),this}rangeGte(o,s){return this.url.searchParams.append(o,`nxl.${s}`),this}rangeLt(o,s){return this.url.searchParams.append(o,`sl.${s}`),this}rangeLte(o,s){return this.url.searchParams.append(o,`nxr.${s}`),this}rangeAdjacent(o,s){return this.url.searchParams.append(o,`adj.${s}`),this}overlaps(o,s){return typeof s=="string"?this.url.searchParams.append(o,`ov.${s}`):this.url.searchParams.append(o,`ov.{${s.join(",")}}`),this}textSearch(o,s,{config:a,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const f=a===void 0?"":`(${a})`;return this.url.searchParams.append(o,`${u}fts${f}.${s}`),this}match(o){return Object.entries(o).forEach(([s,a])=>{this.url.searchParams.append(s,`eq.${a}`)}),this}not(o,s,a){return this.url.searchParams.append(o,`not.${s}.${a}`),this}or(o,{foreignTable:s,referencedTable:a=s}={}){const c=a?`${a}.or`:"or";return this.url.searchParams.append(c,`(${o})`),this}filter(o,s,a){return this.url.searchParams.append(o,`${s}.${a}`),this}};return wm.default=r,wm}var rI;function _U(){if(rI)return bm;rI=1,Object.defineProperty(bm,"__esModule",{value:!0});const e=qu.__importDefault(qC());let n=class{constructor(i,{headers:o={},schema:s,fetch:a}){this.url=i,this.headers=new Headers(o),this.schema=s,this.fetch=a}select(i,o){const{head:s=!1,count:a}=o??{},c=s?"HEAD":"GET";let u=!1;const f=(i??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",f),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:s=!0}={}){var a;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(u.length>0){const f=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:s=!1,count:a,defaultToNull:c=!0}={}){var u;const f="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(h.length>0){const p=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:o}={}){var s;const a="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var o;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};return bm.default=n,bm}var iI;function HJ(){if(iI)return ym;iI=1,Object.defineProperty(ym,"__esModule",{value:!0});const t=qu,e=t.__importDefault(_U()),n=t.__importDefault(qC());let r=class SU{constructor(o,{headers:s={},schema:a,fetch:c}={}){this.url=o,this.headers=new Headers(s),this.schemaName=a,this.fetch=c}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const s=new URL(`${this.url}/${o}`);return new e.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new SU(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,s={},{head:a=!1,get:c=!1,count:u}={}){var f;let h;const p=new URL(`${this.url}/rpc/${o}`);let v;a||c?(h=a?"HEAD":"GET",Object.entries(s).filter(([b,y])=>y!==void 0).map(([b,y])=>[b,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([b,y])=>{p.searchParams.append(b,y)})):(h="POST",v=s);const x=new Headers(this.headers);return u&&x.set("Prefer",`count=${u}`),new n.default({method:h,url:p,headers:x,schema:this.schemaName,body:v,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};return ym.default=r,ym}var oI;function PU(){if(oI)return Un;oI=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.PostgrestError=Un.PostgrestBuilder=Un.PostgrestTransformBuilder=Un.PostgrestFilterBuilder=Un.PostgrestQueryBuilder=Un.PostgrestClient=void 0;const t=qu,e=t.__importDefault(HJ());Un.PostgrestClient=e.default;const n=t.__importDefault(_U());Un.PostgrestQueryBuilder=n.default;const r=t.__importDefault(qC());Un.PostgrestFilterBuilder=r.default;const i=t.__importDefault(xU());Un.PostgrestTransformBuilder=i.default;const o=t.__importDefault(wU());Un.PostgrestBuilder=o.default;const s=t.__importDefault(bU());return Un.PostgrestError=s.default,Un.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:s.default},Un}class TU{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const GJ="2.87.1",KJ=`realtime-js/${GJ}`,EU="1.0.0",YJ="2.0.0",sI=EU,DP=1e4,XJ=1e3,QJ=100;var Ia;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ia||(Ia={}));var tn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(tn||(tn={}));var _i;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(_i||(_i={}));var $P;(function(t){t.websocket="websocket"})($P||($P={}));var Ma;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ma||(Ma={}));class JJ{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,n,r){var i,o;const s=e.topic,a=(i=e.ref)!==null&&i!==void 0?i:"",c=(o=e.join_ref)!==null&&o!==void 0?o:"",u=e.payload.event,f=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(f).length===0?"":JSON.stringify(f);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+u.length+h.length,v=new ArrayBuffer(this.HEADER_LENGTH+p);let x=new DataView(v),b=0;x.setUint8(b++,this.KINDS.userBroadcastPush),x.setUint8(b++,c.length),x.setUint8(b++,a.length),x.setUint8(b++,s.length),x.setUint8(b++,u.length),x.setUint8(b++,h.length),x.setUint8(b++,n),Array.from(c,_=>x.setUint8(b++,_.charCodeAt(0))),Array.from(a,_=>x.setUint8(b++,_.charCodeAt(0))),Array.from(s,_=>x.setUint8(b++,_.charCodeAt(0))),Array.from(u,_=>x.setUint8(b++,_.charCodeAt(0))),Array.from(h,_=>x.setUint8(b++,_.charCodeAt(0)));var y=new Uint8Array(v.byteLength+r.byteLength);return y.set(new Uint8Array(v),0),y.set(new Uint8Array(r),v.byteLength),y.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,s,a,c]=r;return n({join_ref:i,ref:o,topic:s,event:a,payload:c})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(e.slice(c,c+i));c=c+i;const f=r.decode(e.slice(c,c+o));c=c+o;const h=r.decode(e.slice(c,c+s));c=c+s;const p=e.slice(c,e.byteLength),v=a===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,x={type:this.BROADCAST_EVENT,event:f,payload:v};return s>0&&(x.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class CU{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ct;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ct||(Ct={}));const aI=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,s)=>(o[s]=ZJ(s,t,e,i),o),{}):{}},ZJ=(t,e,n,r)=>{const i=e.find(a=>a.name===t),o=i==null?void 0:i.type,s=n[t];return o&&!r.includes(o)?AU(o,s):LP(s)},AU=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return rZ(e,n)}switch(t){case Ct.bool:return eZ(e);case Ct.float4:case Ct.float8:case Ct.int2:case Ct.int4:case Ct.int8:case Ct.numeric:case Ct.oid:return tZ(e);case Ct.json:case Ct.jsonb:return nZ(e);case Ct.timestamp:return iZ(e);case Ct.abstime:case Ct.date:case Ct.daterange:case Ct.int4range:case Ct.int8range:case Ct.money:case Ct.reltime:case Ct.text:case Ct.time:case Ct.timestamptz:case Ct.timetz:case Ct.tsrange:case Ct.tstzrange:return LP(e);default:return LP(e)}},LP=t=>t,eZ=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tZ=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},nZ=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},rZ=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const s=t.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>AU(e,a))}return t},iZ=t=>typeof t=="string"?t.replace(" ","T"):t,OU=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class vw{constructor(e,n,r={},i=DP){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var FP;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(FP||(FP={}));let kU=class rg{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rg.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=rg.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=rg.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),s=this.transformState(n),a={},c={};return this.map(o,(u,f)=>{s[u]||(c[u]=f)}),this.map(s,(u,f)=>{const h=o[u];if(h){const p=f.map(y=>y.presence_ref),v=h.map(y=>y.presence_ref),x=f.filter(y=>v.indexOf(y.presence_ref)<0),b=h.filter(y=>p.indexOf(y.presence_ref)<0);x.length>0&&(a[u]=x),b.length>0&&(c[u]=b)}else a[u]=f}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var u;const f=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(c),f.length>0){const h=e[a].map(v=>v.presence_ref),p=f.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...p)}r(a,f,c)}),this.map(s,(a,c)=>{let u=e[a];if(!u)return;const f=c.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),e[a]=u,i(a,u,c),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var BP;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(BP||(BP={}));var Nc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Nc||(Nc={}));var Ui;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ui||(Ui={}));const oZ=tn;let jU=class ff{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=tn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new vw(this,_i.join,this.params,this.timeout),this.rejoinTimer=new CU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_i.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new kU(this),this.broadcastEndpointURL=OU(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==tn.closed){const{config:{broadcast:s,presence:a,private:c}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Nc.PRESENCE]&&this.bindings[Nc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},p={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:f}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(Ui.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Ui.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e==null||e(Ui.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,y=(x=b==null?void 0:b.length)!==null&&x!==void 0?x:0,_=[];for(let T=0;T<y;T++){const S=b[T],{filter:{event:A,schema:P,table:O,filter:k}}=S,R=v&&v[T];if(R&&R.event===A&&ff.isFilterValueEqual(R.schema,P)&&ff.isFilterValueEqual(R.table,O)&&ff.isFilterValueEqual(R.filter,k))_.push(Object.assign(Object.assign({},S),{id:R.id}));else{this.unsubscribe(),this.state=tn.errored,e==null||e(Ui.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Ui.SUBSCRIBED);return}}).receive("error",v=>{this.state=tn.errored,e==null||e(Ui.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ui.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===tn.joined&&e===Nc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:s}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=tn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_i.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new vw(this,_i.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tn.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new vw(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>QJ){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const s=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:f}=_i;if(r&&[a,c,u,f].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var x,b,y;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(b=v.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(v=>v.callback(p,r)):(o=this.bindings[s])===null||o===void 0||o.filter(v=>{var x,b,y,_,T,S;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in v){const A=v.id,P=(x=v.filter)===null||x===void 0?void 0:x.event;return A&&((b=n.ids)===null||b===void 0?void 0:b.includes(A))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const A=(T=(_=v==null?void 0:v.filter)===null||_===void 0?void 0:_.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return A==="*"||A===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===s}).map(v=>{if(typeof p=="object"&&"ids"in p){const x=p.data,{schema:b,table:y,commit_timestamp:_,type:T,errors:S}=x;p=Object.assign(Object.assign({},{schema:b,table:y,commit_timestamp:_,eventType:T,new:{},old:{},errors:S}),this._getPayloadRecords(x))}v.callback(p,r)})}_isClosed(){return this.state===tn.closed}_isJoined(){return this.state===tn.joined}_isJoining(){return this.state===tn.joining}_isLeaving(){return this.state===tn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&ff.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_i.close,{},e)}_onError(e){this._on(_i.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=aI(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=aI(e.columns,e.old_record)),n}};const yw=()=>{},Pm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sZ=[1e3,2e3,5e3,1e4],aZ=1e4,lZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let cZ=class{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DP,this.transport=null,this.heartbeatIntervalMs=Pm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yw,this.ref=0,this.reconnectTimer=null,this.vsn=sI,this.logger=yw,this.conn=null,this.sendBuffer=[],this.serializer=new JJ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${$P.websocket}`,this.httpEndpoint=OU(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=TU.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ia.connecting:return Ma.Connecting;case Ia.open:return Ma.Open;case Ia.closing:return Ma.Closing;default:return Ma.Closed}}isConnected(){return this.connectionState()===Ma.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new jU(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(XJ,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Pm.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:s}=n,a=s?`(${s})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ia.open||this.conn.readyState===Ia.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(_i.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([lZ],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:KJ};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(_i.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new CU(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,s,a,c,u,f,h,p,v;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:DP,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Pm.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:yw,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:sI,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:(x=>sZ[x-1]||aZ),this.vsn){case EU:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:((x,b)=>b(JSON.stringify(x))),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:((x,b)=>b(JSON.parse(x)));break;case YJ:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const uZ=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:oZ,get REALTIME_LISTEN_TYPES(){return Nc},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return BP},get REALTIME_PRESENCE_LISTEN_EVENTS(){return FP},get REALTIME_SUBSCRIBE_STATES(){return Ui},RealtimeChannel:jU,RealtimeClient:cZ,RealtimePresence:kU,WebSocketFactory:TU},Symbol.toStringTag,{value:"Module"})),RU=Nh(uZ);class Lh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Lt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class NU extends Lh{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Og extends Lh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const VC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),dZ=()=>Response,UP=t=>{if(Array.isArray(t))return t.map(n=>UP(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=UP(r)}),e},fZ=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},hZ=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),bw=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},pZ=(t,e,n)=>ve(void 0,void 0,void 0,function*(){const r=yield dZ();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const o=t.status||500,s=(i==null?void 0:i.statusCode)||o+"";e(new NU(bw(i),o,s))}).catch(i=>{e(new Og(bw(i),i))}):e(new Og(bw(t),t))}),mZ=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(fZ(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Fh(t,e,n,r,i,o){return ve(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,mZ(e,r,i,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>pZ(c,a,r))})})}function Bf(t,e,n,r){return ve(this,void 0,void 0,function*(){return Fh(t,"GET",e,n,r)})}function yi(t,e,n,r,i){return ve(this,void 0,void 0,function*(){return Fh(t,"POST",e,r,i,n)})}function qP(t,e,n,r,i){return ve(this,void 0,void 0,function*(){return Fh(t,"PUT",e,r,i,n)})}function gZ(t,e,n,r){return ve(this,void 0,void 0,function*(){return Fh(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function WC(t,e,n,r,i){return ve(this,void 0,void 0,function*(){return Fh(t,"DELETE",e,r,i,n)})}class vZ{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return ve(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Lt(e))return{data:null,error:e};throw e}})}}var IU;class yZ{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[IU]="BlobDownloadBuilder",this.promise=null}asStream(){return new vZ(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ve(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Lt(e))return{data:null,error:e};throw e}})}}IU=Symbol.toStringTag;const bZ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wZ{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=VC(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return ve(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},lI),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),c&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),h=yield(e=="PUT"?qP:yi)(this.fetch,`${this.url}/object/${f}`,o,Object.assign({headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Lt(o))return{data:null,error:o};throw o}})}upload(e,n,r){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return ve(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:lI.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield qP(this.fetch,a.toString(),c,{headers:f});return{data:{path:o,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Lt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return ve(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield yi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Lh("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}update(e,n,r){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ve(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}copy(e,n,r){return ve(this,void 0,void 0,function*(){try{return{data:{path:(yield yi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return ve(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield yi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return ve(this,void 0,void 0,function*(){try{const i=yield yi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=o?`?${o}`:"",a=this._getFinalPath(e),c=()=>Bf(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new yZ(c,this.shouldThrowOnError)}info(e){return ve(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Bf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:UP(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}exists(e){return ve(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield gZ(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r)&&r instanceof Og){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return ve(this,void 0,void 0,function*(){try{return{data:yield WC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}list(e,n,r){return ve(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},bZ),n),{prefix:e||""});return{data:yield yi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}listV2(e,n){return ve(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield yi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const MU="2.87.1",DU={"X-Client-Info":`storage-js/${MU}`};class xZ{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DU),n),this.fetch=VC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ve(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Bf(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}getBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield Bf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}createBucket(e){return ve(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield yi(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return ve(this,void 0,void 0,function*(){try{return{data:yield qP(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield WC(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Uf=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function _Z(t,e,n){const r=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function SZ(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function PZ(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:s}){const a=_Z(t.baseUrl,r,i),c=await SZ(t.auth),u=await e(a,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...c,...s},body:o?JSON.stringify(o):void 0}),f=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),p=h&&f?JSON.parse(f):f;if(!u.ok){const v=h?p:void 0,x=v==null?void 0:v.error;throw new Uf((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:v})}return{status:u.status,headers:u.headers,data:p}}}}function Tm(t){return t.join("")}var TZ=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Tm(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Tm(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tm(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Tm(t.namespace)}`}),!0}catch(e){if(e instanceof Uf&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Uf&&n.status===409)return;throw n}}};function ic(t){return t.join("")}var EZ=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ic(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ic(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ic(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ic(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ic(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ic(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Uf&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Uf&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},CZ=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=PZ({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new TZ(this.client,e),this.tableOps=new EZ(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class $U{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DU),n),this.fetch=VC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}listBuckets(e){return ve(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Bf(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield WC(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}from(e){if(!hZ(e))throw new Lh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new CZ({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>ve(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(o,s){const a=o[s];return typeof a!="function"?a:(...c)=>ve(this,void 0,void 0,function*(){try{return{data:yield a.apply(o,c),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}})}})}}const zC={"X-Client-Info":`storage-js/${MU}`,"Content-Type":"application/json"};class HC extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function vr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class ig extends HC{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class LU extends HC{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var VP;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(VP||(VP={}));const ty=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),AZ=()=>Response,FU=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},OZ=t=>Array.from(new Float32Array(t)),kZ=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},cI=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jZ=(t,e,n)=>ve(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(s=>{const a=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";e(new ig(cI(s),i,a))}).catch(()=>{const s=i+"",a=o.statusText||`HTTP ${i} error`;e(new ig(a,i,s))});else{const s=i+"",a=o.statusText||`HTTP ${i} error`;e(new ig(a,i,s))}}else e(new LU(cI(t),t))}),RZ=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(FU(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function NZ(t,e,n,r,i,o){return ve(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,RZ(e,r,i,o)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>jZ(c,a,r))})})}function jr(t,e,n,r,i){return ve(this,void 0,void 0,function*(){return NZ(t,"POST",e,r,i,n)})}class BU{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zC),n),this.fetch=ty(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ve(this,void 0,void 0,function*(){try{return{data:(yield jr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}getIndex(e,n){return ve(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vr(r))return{data:null,error:r};throw r}})}listIndexes(e){return ve(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return ve(this,void 0,void 0,function*(){try{return{data:(yield jr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vr(r))return{data:null,error:r};throw r}})}}class UU{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zC),n),this.fetch=ty(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ve(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield jr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}getVectors(e){return ve(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}listVectors(e){return ve(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield jr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}queryVectors(e){return ve(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}deleteVectors(e){return ve(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield jr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}}class qU{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zC),n),this.fetch=ty(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:(yield jr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}getBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}listBuckets(){return ve(this,arguments,void 0,function*(e={}){try{return{data:yield jr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:(yield jr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}}class VU extends qU{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new WU(this.url,this.headers,e,this.fetch)}createBucket(e){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ve(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ve(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ve(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ve(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}}class WU extends BU{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ve(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ve(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ve(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ve(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new zU(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class zU extends UU{constructor(e,n,r,i,o){super(e,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ve(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ve(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ve(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ve(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ve(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class IZ extends xZ{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new wZ(this.url,this.headers,e,this.fetch)}get vectors(){return new VU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $U(this.url+"/iceberg",this.headers,this.fetch)}}const MZ=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:$U,StorageApiError:NU,StorageClient:IZ,StorageError:Lh,StorageUnknownError:Og,StorageVectorsApiError:ig,StorageVectorsClient:VU,StorageVectorsError:HC,get StorageVectorsErrorCode(){return VP},StorageVectorsUnknownError:LU,VectorBucketApi:qU,VectorBucketScope:WU,VectorDataApi:UU,VectorIndexApi:BU,VectorIndexScope:zU,isPlainObject:FU,isStorageError:Lt,isStorageVectorsError:vr,normalizeToFloat32:OZ,resolveFetch:ty,resolveResponse:AZ,validateVectorDimension:kZ},Symbol.toStringTag,{value:"Module"})),DZ=Nh(MZ);var ww={},Gd={},uI;function $Z(){return uI||(uI=1,Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.version=void 0,Gd.version="2.87.1"),Gd}var dI;function LZ(){return dI||(dI=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=$Z();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(ww)),ww}var xw={},fI;function FZ(){return fI||(fI=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=i=>i?(...o)=>i(...o):(...o)=>fetch(...o);t.resolveFetch=e;const n=()=>Headers;t.resolveHeadersConstructor=n;const r=(i,o,s)=>{const a=(0,t.resolveFetch)(s),c=(0,t.resolveHeadersConstructor)();return async(u,f)=>{var h;const p=(h=await o())!==null&&h!==void 0?h:i;let v=new c(f==null?void 0:f.headers);return v.has("apikey")||v.set("apikey",i),v.has("Authorization")||v.set("Authorization",`Bearer ${p}`),a(u,Object.assign(Object.assign({},f),{headers:v}))}};t.fetchWithAuth=r})(xw)),xw}var vo={},hI;function BZ(){if(hI)return vo;hI=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.isBrowser=void 0,vo.uuid=t,vo.ensureTrailingSlash=e,vo.applySettingDefaults=r,vo.validateSupabaseUrl=i;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var s=Math.random()*16|0,a=o=="x"?s:s&3|8;return a.toString(16)})}function e(o){return o.endsWith("/")?o:o+"/"}const n=()=>typeof window<"u";vo.isBrowser=n;function r(o,s){var a,c;const{db:u,auth:f,realtime:h,global:p}=o,{db:v,auth:x,realtime:b,global:y}=s,_={db:Object.assign(Object.assign({},v),u),auth:Object.assign(Object.assign({},x),f),realtime:Object.assign(Object.assign({},b),h),storage:{},global:Object.assign(Object.assign(Object.assign({},y),p),{headers:Object.assign(Object.assign({},(a=y==null?void 0:y.headers)!==null&&a!==void 0?a:{}),(c=p==null?void 0:p.headers)!==null&&c!==void 0?c:{})}),accessToken:async()=>""};return o.accessToken?_.accessToken=o.accessToken:delete _.accessToken,_}function i(o){const s=o==null?void 0:o.trim();if(!s)throw new Error("supabaseUrl is required.");if(!s.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(s))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return vo}var Kd={};const HU="2.87.1",bc=30*1e3,WP=3,_w=WP*bc,UZ="http://localhost:9999",qZ="supabase.auth.token",VZ={"X-Client-Info":`gotrue-js/${HU}`},zP="X-Supabase-Api-Version",GU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},WZ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zZ=600*1e3;let iu=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function je(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let KU=class extends iu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function YU(t){return je(t)&&t.name==="AuthApiError"}let As=class extends iu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},Yo=class extends iu{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}},hr=class extends Yo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function XU(t){return je(t)&&t.name==="AuthSessionMissingError"}let Aa=class extends Yo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},hf=class extends Yo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},pf=class extends Yo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function QU(t){return je(t)&&t.name==="AuthImplicitGrantRedirectError"}let HP=class extends Yo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},kg=class extends Yo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function og(t){return je(t)&&t.name==="AuthRetryableFetchError"}let GP=class extends Yo{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function HZ(t){return je(t)&&t.name==="AuthWeakPasswordError"}let jg=class extends Yo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Rg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pI=` 	
\r=`.split(""),GZ=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<pI.length;e+=1)t[pI[e].charCodeAt(0)]=-2;for(let e=0;e<Rg.length;e+=1)t[Rg[e].charCodeAt(0)]=e;return t})();function mI(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Rg[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Rg[r]),e.queuedBits-=6}}function JU(t,e,n){const r=GZ[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function gI(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{XZ(s,r,n)};for(let s=0;s<t.length;s+=1)JU(t.charCodeAt(s),i,o);return e.join("")}function KZ(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function YZ(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}KZ(r,e)}}function XZ(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ic(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)JU(t.charCodeAt(i),n,r);return new Uint8Array(e)}function QZ(t){const e=[];return YZ(t,n=>e.push(n)),new Uint8Array(e)}function Ba(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>mI(i,n,r)),mI(null,n,r),e.join("")}function JZ(t){return Math.round(Date.now()/1e3)+t}function ZZ(){return Symbol("auth-callback")}const Nn=()=>typeof window<"u"&&typeof document<"u",xa={tested:!1,writable:!1},ZU=()=>{if(!Nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xa.tested)return xa.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xa.tested=!0,xa.writable=!0}catch{xa.tested=!0,xa.writable=!1}return xa.writable};function eee(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const eq=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tee=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},_a=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Rn=async(t,e)=>{await t.removeItem(e)};let tq=class nq{constructor(){this.promise=new nq.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};tq.promiseConstructor=Promise;function Sw(t){const e=t.split(".");if(e.length!==3)throw new jg("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!WZ.test(e[r]))throw new jg("JWT not in base64url format");return{header:JSON.parse(gI(e[0])),payload:JSON.parse(gI(e[1])),signature:Ic(e[2]),raw:{header:e[0],payload:e[1]}}}async function nee(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ree(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const s=await t(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})()})}function iee(t){return("0"+t.toString(16)).substr(-2)}function oee(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,iee).join("")}async function see(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function aee(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await see(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oc(t,e,n=!1){const r=oee();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await wc(t,`${e}-code-verifier`,i);const o=await aee(r);return[o,r===o?"plain":"s256"]}const lee=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cee(t){const e=t.headers.get(zP);if(!e||!e.match(lee))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function uee(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function dee(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fee=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function sc(t){if(!fee.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pw(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hee(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function vI(t){return JSON.parse(JSON.stringify(t))}const Oa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pee=[502,503,504];async function yI(t){var e;if(!tee(t))throw new kg(Oa(t),0);if(pee.includes(t.status))throw new kg(Oa(t),t.status);let n;try{n=await t.json()}catch(o){throw new As(Oa(o),o)}let r;const i=cee(t);if(i&&i.getTime()>=GU["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new GP(Oa(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new hr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new GP(Oa(n),t.status,n.weak_password.reasons);throw new KU(Oa(n),t.status||500,r)}const mee=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ue(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[zP]||(o[zP]=GU["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await gee(t,e,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function gee(t,e,n,r,i,o){const s=mee(e,r,i,o);let a;try{a=await t(n,Object.assign({},s))}catch(c){throw console.error(c),new kg(Oa(c),0)}if(a.ok||await yI(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await yI(c)}}function mi(t){var e;let n=null;bee(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=JZ(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function bI(t){const e=mi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Os(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function vee(t){return{data:t,error:null}}function yee(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,s=ea(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function wI(t){return t}function bee(t){return t.access_token&&t.refresh_token&&t.expires_in}const sg=["global","local","others"];let GC=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=eq(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=sg[0]){if(sg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sg.join(", ")}`);try{return await Ue(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Os})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=ea(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:yee,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(je(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ue(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Os})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,s,a,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:wI});if(f.error)throw f.error;const h=await f.json(),p=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,v=(c=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(je(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){sc(e);try{return await Ue(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Os})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){sc(e);try{return await Ue(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Os})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){sc(e);try{return await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Os})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){sc(e.userId);try{const{data:n,error:r}=await Ue(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(je(n))return{data:null,error:n};throw n}}async _deleteFactor(e){sc(e.userId),sc(e.id);try{return{data:await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,s,a,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:wI});if(f.error)throw f.error;const h=await f.json(),p=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,v=(c=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(je(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await Ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}};function xI(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ka={debug:!!(globalThis&&ZU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class KC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let rq=class extends KC{};class wee extends KC{}async function iq(t,e,n){ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ka.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new rq(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ka.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const _I={};async function xee(t,e,n){var r;const i=(r=_I[t])!==null&&r!==void 0?r:Promise.resolve(),o=Promise.race([i.catch(()=>null),e>=0?new Promise((s,a)=>{setTimeout(()=>{a(new wee(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(async()=>await n());return _I[t]=o.catch(async s=>{if(s&&s.isAcquireTimeout)return await i,null;throw s}),await o}function _ee(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function oq(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function See(t){return parseInt(t,16)}function Pee(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Tee(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:c,resources:u,scheme:f,uri:h,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=oq(t.address),x=f?`${f}://${r}`:r,b=t.statement?`${t.statement}
`:"",y=`${x} wants you to sign in with your Ethereum account:
${v}

${b}`;let _=`URI: ${h}
Version: ${p}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(_+=`
Expiration Time: ${i.toISOString()}`),a&&(_+=`
Not Before: ${a.toISOString()}`),c&&(_+=`
Request ID: ${c}`),u){let T=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);T+=`
- ${S}`}_+=T}return`${y}
${_}`}class rn extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Ng extends rn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Eee({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new rn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new rn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new rn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new rn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new rn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new rn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new rn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(sq(s)){if(o.rp.id!==s)return new rn({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new rn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new rn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Cee({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new rn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(sq(r)){if(n.rpId!==r)return new rn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new rn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Aee{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Oee=new Aee;function kee(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=ea(t,["challenge","user","excludeCredentials"]),o=Ic(e).buffer,s=Object.assign(Object.assign({},n),{id:Ic(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ic(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function jee(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=ea(t,["challenge","allowCredentials"]),i=Ic(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const a=n[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Ic(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function Ree(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ba(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ba(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Nee(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ba(new Uint8Array(i.authenticatorData)),clientDataJSON:Ba(new Uint8Array(i.clientDataJSON)),signature:Ba(new Uint8Array(i.signature)),userHandle:i.userHandle?Ba(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sq(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function SI(){var t,e;return!!(Nn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Iee(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ng("Browser returned unexpected credential type",e)}:{data:null,error:new Ng("Empty credential response",e)}}catch(e){return{data:null,error:Eee({error:e,options:t})}}}async function Mee(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ng("Browser returned unexpected credential type",e)}:{data:null,error:new Ng("Empty credential response",e)}}catch(e){return{data:null,error:Cee({error:e,options:t})}}}const Dee={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$ee={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ig(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(n(s))r[o]=s;else if(e(s)){const a=r[o];e(a)?r[o]=Ig(a,s):r[o]=Ig(s)}else r[o]=s}return r}function Lee(t,e){return Ig(Dee,t,e||{})}function Fee(t,e){return Ig($ee,t,e||{})}class Bee{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:s,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!s)return{data:null,error:a};const c=i??Oee.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=Lee(s.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:f,error:h}=await Iee({publicKey:u,signal:c});return f?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const u=Fee(s.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:f,error:h}=await Mee(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return f?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(s){return je(s)?{data:null,error:s}:{data:null,error:new As("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new iu("rpId is required for WebAuthn authentication")};try{if(!SI())return{data:null,error:new As("Browser does not support WebAuthn",null)};const{data:s,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!s)return{data:null,error:a};const{webauthn:c}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return je(s)?{data:null,error:s}:{data:null,error:new As("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new iu("rpId is required for WebAuthn registration")};try{if(!SI())return{data:null,error:new As("Browser does not support WebAuthn",null)};const{data:s,error:a}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(f=>{var h;return(h=f.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:a};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return je(s)?{data:null,error:s}:{data:null,error:new As("Unexpected error in register",s)}}}}_ee();const Uee={url:UZ,storageKey:qZ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:VZ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function PI(t,e,n){return await n()}const ac={};let YC=class KP{get jwks(){var e,n;return(n=(e=ac[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ac[this.storageKey]=Object.assign(Object.assign({},ac[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ac[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ac[this.storageKey]=Object.assign(Object.assign({},ac[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Uee),e);if(this.storageKey=o.storageKey,this.instanceID=(n=KP.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,KP.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Nn()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new GC({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=eq(o.fetch),this.lock=o.lock||PI,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&Nn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=iq:this.lock=PI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Bee(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:ZU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xI(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=xI(this.memoryStorage)),Nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${HU}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Nn()&&(n=eee(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Nn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),QU(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:s,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return je(n)?this._returnResult({error:n}):this._returnResult({error:new As("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:mi}),{data:s,error:a}=o;if(a||!s)return this._returnResult({data:{user:null,session:null},error:a});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(je(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:f,password:h,options:p}=e;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await oc(this.storage,this.storageKey)),o=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:f,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:x},xform:mi})}else if("phone"in e){const{phone:f,password:h,options:p}=e;o=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:mi})}else throw new hf("You must provide either an email or phone number and a password");const{data:s,error:a}=o;if(a||!s)return await Rn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(await Rn(this.storage,`${this.storageKey}-code-verifier`),je(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:s,options:a}=e;n=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:bI})}else if("phone"in e){const{phone:o,password:s,options:a}=e;n=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:bI})}else throw new hf("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new Aa;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(je(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,s,a,c,u,f,h,p;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:b,wallet:y,statement:_,options:T}=e;let S;if(Nn())if(typeof y=="object")S=y;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")S=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const A=new URL((n=T==null?void 0:T.url)!==null&&n!==void 0?n:window.location.href),P=await S.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=oq(P[0]);let k=(r=T==null?void 0:T.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const I=await S.request({method:"eth_chainId"});k=See(I)}const R={domain:A.host,address:O,statement:_,uri:A.href,version:"1",chainId:k,nonce:(i=T==null?void 0:T.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(o=T==null?void 0:T.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(a=T==null?void 0:T.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=T==null?void 0:T.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=T==null?void 0:T.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=T==null?void 0:T.signInWithEthereum)===null||f===void 0?void 0:f.resources};v=Tee(R),x=await S.request({method:"personal_sign",params:[Pee(v),O]})}try{const{data:b,error:y}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:x},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:mi});if(y)throw y;if(!b||!b.session||!b.user){const _=new Aa;return this._returnResult({data:{user:null,session:null},error:_})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(je(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var n,r,i,o,s,a,c,u,f,h,p,v;let x,b;if("message"in e)x=e.message,b=e.signature;else{const{chain:y,wallet:_,statement:T,options:S}=e;let A;if(Nn())if(typeof _=="object")A=_;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))A=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=_}const P=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const O=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),T?{statement:T}:null));let k;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")k=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)k=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)x=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),b=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${P.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((h=(f=S==null?void 0:S.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...S.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const O=await A.signMessage(new TextEncoder().encode(x),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=O}}try{const{data:y,error:_}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Ba(b)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:mi});if(_)throw _;if(!y||!y.session||!y.user){const T=new Aa;return this._returnResult({data:{user:null,session:null},error:T})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:_})}catch(y){if(je(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const n=await _a(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:s}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:mi});if(await Rn(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!o||!o.session||!o.user){const a=new Aa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:s})}catch(o){if(await Rn(this.storage,`${this.storageKey}-code-verifier`),je(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:s}=e,a=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:mi}),{data:c,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const f=new Aa;return this._returnResult({data:{user:null,session:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(je(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,s;try{if("email"in e){const{email:a,options:c}=e;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await oc(this.storage,this.storageKey));const{error:h}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:c}=e,{data:u,error:f}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f})}throw new hf("You must provide either an email or phone number.")}catch(a){if(await Rn(this.storage,`${this.storageKey}-code-verifier`),je(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:a}=await Ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:mi});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,s;try{let a=null,c=null;this.flowType==="pkce"&&([a,c]=await oc(this.storage,this.storageKey));const u=await Ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:vee});return!((o=u.data)===null||o===void 0)&&o.url&&Nn()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await Rn(this.storage,`${this.storageKey}-code-verifier`),je(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new hr;const{error:i}=await Ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(je(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:s}=await Ue(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:s,error:a}=await Ue(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a})}throw new hf("You must provide either an email or phone number and a type")}catch(n){if(je(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await _a(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<_w:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const s=await _a(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=Pw()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=hee(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Os}):await this._useSession(async n=>{var r,i,o;const{data:s,error:a}=n;if(a)throw a;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hr}:await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Os})})}catch(n){if(je(n))return XU(n)&&(await this._removeSession(),await Rn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new hr;const s=i.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await oc(this.storage,this.storageKey));const{data:u,error:f}=await Ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:s.access_token,xform:Os});if(f)throw f;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(await Rn(this.storage,`${this.storageKey}-code-verifier`),je(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new hr;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:s}=Sw(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{data:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(je(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:a}=n;if(a)throw a;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new hr;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(je(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Nn())throw new pf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new pf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new HP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new HP("No code detected.");const{data:T,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:s,expires_in:a,expires_at:c,token_type:u}=e;if(!o||!a||!s||!u)throw new pf("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(a);let p=f+h;c&&(p=parseInt(c));const v=p-f;v*1e3<=bc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const x=p-h;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,p,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,p,f);const{data:b,error:y}=await this._getUser(o);if(y)throw y;const _={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:h,expires_at:p,refresh_token:s,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:e.type},error:null})}catch(r){if(je(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await _a(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:a}=await this.admin.signOut(s,e);if(a&&!(YU(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Rn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=ZZ(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await oc(this.storage,this.storageKey,!0));try{return await Ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await Rn(this.storage,`${this.storageKey}-code-verifier`),je(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var s,a,c,u,f;const{data:h,error:p}=o;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ue(this.fetch,"GET",v,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Nn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(je(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:s,provider:a,token:c,access_token:u,nonce:f}=e,h=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:c,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:mi}),{data:p,error:v}=h;return v?this._returnResult({data:{user:null,session:null},error:v}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Aa}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:v}))}catch(i){if(await Rn(this.storage,`${this.storageKey}-code-verifier`),je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)throw s;return await Ue(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ree(async i=>(i>0&&await nee(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mi})),(i,o)=>{const s=200*Math.pow(2,i);return o&&og(o)&&Date.now()+s-r<bc})}catch(r){if(this._debug(n,"error",r),je(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Nn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await _a(this.storage,this.storageKey);if(i&&this.userStorage){let s=await _a(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await wc(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:Pw()}else if(i&&!i.user&&!i.user){const s=await _a(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Rn(this.storage,this.storageKey+"-user"),await wc(this.storage,this.storageKey,i)):i.user=Pw()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<_w;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${_w}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),og(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:a}=await this._getUser(i.access_token);!a&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new hr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new tq;const{data:o,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!o.session)throw new hr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),je(o)){const s={data:null,error:o};return og(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(c){o.push(c)}});if(await Promise.all(s),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Rn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await wc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=vI(i);await wc(this.storage,this.storageKey,o)}else{const i=vI(n);await wc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Rn(this.storage,this.storageKey),await Rn(this.storage,this.storageKey+"-code-verifier"),await Rn(this.storage,this.storageKey+"-user"),this.userStorage&&await Rn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Nn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),bc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/bc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${bc}ms, refresh threshold is ${WP} ticks`),i<=WP&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof KC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,s]=await oc(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await Ue(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await Ue(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Ree(e.webauthn.credential_response):Nee(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:c}=await Ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:c}))})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const s=await Ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;const{data:a}=s;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:kee(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:jee(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Sw(r.access_token);let s=null;o.aal&&(s=o.aal);let a=s;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=o.amr||[];return{data:{currentLevel:s,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new hr})})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new hr});const s=await Ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return s.data&&s.data.redirect_url&&Nn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new hr});const s=await Ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return s.data&&s.data.redirect_url&&Nn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await Ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new hr})})}catch(e){if(je(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new hr})})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+zZ>i)return r;const{data:o,error:s}=await Ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:x}=await this.getSession();if(x||!v.session)return this._returnResult({data:null,error:x});r=v.session.access_token}const{header:i,payload:o,signature:s,raw:{header:a,payload:c}}=Sw(r);n!=null&&n.allowExpired||uee(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:o,header:i,signature:s},error:null}}const f=dee(i.alg),h=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,s,QZ(`${a}.${c}`)))throw new jg("Invalid JWT signature");return{data:{claims:o,header:i,signature:s},error:null}}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}};YC.nextInstanceID={};const qee=GC,Vee=YC,Wee=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:qee,AuthApiError:KU,AuthClient:Vee,AuthError:iu,AuthImplicitGrantRedirectError:pf,AuthInvalidCredentialsError:hf,AuthInvalidJwtError:jg,AuthInvalidTokenResponseError:Aa,AuthPKCEGrantCodeExchangeError:HP,AuthRetryableFetchError:kg,AuthSessionMissingError:hr,AuthUnknownError:As,AuthWeakPasswordError:GP,CustomAuthError:Yo,GoTrueAdminApi:GC,GoTrueClient:YC,NavigatorLockAcquireTimeoutError:rq,SIGN_OUT_SCOPES:sg,isAuthApiError:YU,isAuthError:je,isAuthImplicitGrantRedirectError:QU,isAuthRetryableFetchError:og,isAuthSessionMissingError:XU,isAuthWeakPasswordError:HZ,lockInternals:ka,navigatorLock:iq,processLock:xee},Symbol.toStringTag,{value:"Module"})),aq=Nh(Wee);var TI;function zee(){if(TI)return Kd;TI=1,Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.SupabaseAuthClient=void 0;const t=aq;let e=class extends t.AuthClient{constructor(r){super(r)}};return Kd.SupabaseAuthClient=e,Kd}var EI;function CI(){if(EI)return vm;EI=1,Object.defineProperty(vm,"__esModule",{value:!0});const t=yU,e=PU(),n=RU,r=DZ,i=LZ(),o=FZ(),s=BZ(),a=zee();class c{constructor(f,h,p){var v,x,b;this.supabaseUrl=f,this.supabaseKey=h;const y=(0,s.validateSupabaseUrl)(f);if(!h)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",y),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",y),this.storageUrl=new URL("storage/v1",y),this.functionsUrl=new URL("functions/v1",y);const _=`sb-${y.hostname.split(".")[0]}-auth-token`,T={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:_}),global:i.DEFAULT_GLOBAL_OPTIONS},S=(0,s.applySettingDefaults)(p??{},T);this.storageKey=(v=S.auth.storageKey)!==null&&v!==void 0?v:"",this.headers=(x=S.global.headers)!==null&&x!==void 0?x:{},S.accessToken?(this.accessToken=S.accessToken,this.auth=new Proxy({},{get:(A,P)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(P)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((b=S.auth)!==null&&b!==void 0?b:{},this.headers,S.global.fetch),this.fetch=(0,o.fetchWithAuth)(h,this._getAccessToken.bind(this),S.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},S.realtime)),this.accessToken&&this.accessToken().then(A=>this.realtime.setAuth(A)).catch(A=>console.warn("Failed to set initial Realtime auth token:",A)),this.rest=new e.PostgrestClient(new URL("rest/v1",y).href,{headers:this.headers,schema:S.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,p==null?void 0:p.storage),S.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(f){return this.rest.from(f)}schema(f){return this.rest.schema(f)}rpc(f,h={},p={head:!1,get:!1,count:void 0}){return this.rest.rpc(f,h,p)}channel(f,h={config:{}}){return this.realtime.channel(f,h)}getChannels(){return this.realtime.getChannels()}removeChannel(f){return this.realtime.removeChannel(f)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var f,h;if(this.accessToken)return await this.accessToken();const{data:p}=await this.auth.getSession();return(h=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:f,persistSession:h,detectSessionInUrl:p,storage:v,userStorage:x,storageKey:b,flowType:y,lock:_,debug:T,throwOnError:S},A,P){const O={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new a.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},O),A),storageKey:b,autoRefreshToken:f,persistSession:h,detectSessionInUrl:p,storage:v,userStorage:x,flowType:y,lock:_,debug:T,throwOnError:S,fetch:P,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(f){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},f),{params:Object.assign({apikey:this.supabaseKey},f==null?void 0:f.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((h,p)=>{this._handleTokenChanged(h,"CLIENT",p==null?void 0:p.access_token)})}_handleTokenChanged(f,h,p){(f==="TOKEN_REFRESHED"||f==="SIGNED_IN")&&this.changedAccessToken!==p?(this.changedAccessToken=p,this.realtime.setAuth(p)):f==="SIGNED_OUT"&&(this.realtime.setAuth(),h=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return vm.default=c,vm}var AI;function Hee(){return AI||(AI=1,(function(t){var e=go&&go.__createBinding||(Object.create?(function(f,h,p,v){v===void 0&&(v=p);var x=Object.getOwnPropertyDescriptor(h,p);(!x||("get"in x?!h.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return h[p]}}),Object.defineProperty(f,v,x)}):(function(f,h,p,v){v===void 0&&(v=p),f[v]=h[p]})),n=go&&go.__exportStar||function(f,h){for(var p in f)p!=="default"&&!Object.prototype.hasOwnProperty.call(h,p)&&e(h,f,p)},r=go&&go.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const i=r(CI());n(aq,t);var o=PU();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return o.PostgrestError}});var s=yU;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return s.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return s.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return s.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return s.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return s.FunctionRegion}}),n(RU,t);var a=CI();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return r(a).default}});const c=(f,h,p)=>new i.default(f,h,p);t.createClient=c;function u(){if(typeof window<"u"||typeof process>"u")return!1;const f=process.version;if(f==null)return!1;const h=f.match(/^v(\d+)\./);return h?parseInt(h[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(go)),go}var lq=Hee();const cq=st(lq),Gee=eC({__proto__:null,default:cq},[lq]),{PostgrestError:HOe,FunctionsHttpError:GOe,FunctionsFetchError:KOe,FunctionsRelayError:YOe,FunctionsError:XOe,FunctionRegion:QOe,SupabaseClient:JOe,createClient:Kee,GoTrueAdminApi:ZOe,GoTrueClient:eke,AuthAdminApi:tke,AuthClient:nke,navigatorLock:rke,NavigatorLockAcquireTimeoutError:ike,lockInternals:oke,processLock:ske,SIGN_OUT_SCOPES:ake,AuthError:lke,AuthApiError:cke,AuthUnknownError:uke,CustomAuthError:dke,AuthSessionMissingError:fke,AuthInvalidTokenResponseError:hke,AuthInvalidCredentialsError:pke,AuthImplicitGrantRedirectError:mke,AuthPKCEGrantCodeExchangeError:gke,AuthRetryableFetchError:vke,AuthWeakPasswordError:yke,AuthInvalidJwtError:bke,isAuthError:wke,isAuthApiError:xke,isAuthSessionMissingError:_ke,isAuthImplicitGrantRedirectError:Ske,isAuthRetryableFetchError:Pke,isAuthWeakPasswordError:Tke,RealtimePresence:Eke,RealtimeChannel:Cke,RealtimeClient:Ake,REALTIME_LISTEN_TYPES:Oke,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:kke,REALTIME_PRESENCE_LISTEN_EVENTS:jke,REALTIME_SUBSCRIBE_STATES:Rke,REALTIME_CHANNEL_STATES:Nke}=cq||Gee,uq="https://amtxxigpbfsbvalnwpml.supabase.co",dq="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFtdHh4aWdwYmZzYnZhbG53cG1sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2NzEzNTYsImV4cCI6MjA4MTI0NzM1Nn0.XbHJoNQHJOqvRDs0LgvY2M4TXRN-RjZPqfYRdedYmx4",Ie=Kee(uq,dq);async function Ei(t,e={}){const n=await fetch(`${uq}/functions/v1/${t}`,{method:"POST",headers:{Authorization:`Bearer ${dq}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.text();throw new Error(`Edge function error: ${r}`)}return n.json()}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yee=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fq=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qee=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},c)=>E.createElement("svg",{ref:c,...Xee,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:fq("lucide",i),...a},[...s.map(([u,f])=>E.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(t,e)=>{const n=E.forwardRef(({className:r,...i},o)=>E.createElement(Qee,{ref:o,iconNode:e,className:fq(`lucide-${Yee(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jee=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],OI=Re("Activity",Jee);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],YP=Re("Award",Zee);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ete=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],tte=Re("Ban",ete);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],hq=Re("Building2",nte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],XP=Re("CalendarCheck",rte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ny=Re("Calendar",ite);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ote=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],pq=Re("ChartColumn",ote);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ate=Re("Check",ste);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],mq=Re("ChevronDown",lte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ute=Re("ChevronLeft",cte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],kI=Re("ChevronRight",dte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],hte=Re("ChevronUp",fte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],mte=Re("CirclePlay",pte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],vte=Re("CircleX",gte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Ws=Re("Clock",yte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Mg=Re("Crown",bte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],xte=Re("Delete",wte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ou=Re("DollarSign",_te);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Pte=Re("Download",Ste);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],Ete=Re("Filter",Tte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Dg=Re("Flame",Cte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],Ote=Re("Gem",Ate);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],jte=Re("Link",kte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Tf=Re("LoaderCircle",Rte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Ite=Re("LogOut",Nte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Dte=Re("Mail",Mte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],gq=Re("MicOff",$te);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],ry=Re("Mic",Lte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Bte=Re("Music",Fte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],qte=Re("Palette",Ute);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Wte=Re("Pen",Vte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]],Tw=Re("PhoneCall",zte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=[["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8",key:"13zxdn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Gte=Re("PhoneMissed",Hte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]],QP=Re("PhoneOff",Kte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],_t=Re("Phone",Yte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vq=Re("Plus",Xte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Jte=Re("RefreshCw",Qte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],ene=Re("Rocket",Zte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],nne=Re("Save",tne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],JP=Re("Search",rne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],XC=Re("Settings",ine);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],sne=Re("Shield",one);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],QC=Re("Sparkles",ane);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],fl=Re("Star",lne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],une=Re("Swords",cne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],yq=Re("Target",dne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ZP=Re("Trash2",fne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],pne=Re("TrendingDown",hne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mne=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Bo=Re("TrendingUp",mne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],$g=Re("Trophy",gne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],yne=Re("Upload",vne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bne=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wne=Re("User",bne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],eT=Re("Users",xne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=[["circle",{cx:"6",cy:"12",r:"4",key:"1ehtga"}],["circle",{cx:"18",cy:"12",r:"4",key:"4vafl8"}],["line",{x1:"6",x2:"18",y1:"16",y2:"16",key:"pmt8us"}]],Sne=Re("Voicemail",_ne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pne=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Tne=Re("Volume2",Pne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Cne=Re("WifiOff",Ene);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],One=Re("Wifi",Ane);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kne=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bh=Re("X",kne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],JC=Re("Zap",jne);function El({userStats:t}){const e=(t==null?void 0:t.level)||1,n=(t==null?void 0:t.total_points)||0,r=e*500,i=(t==null?void 0:t.calls_today)||0,o=(t==null?void 0:t.appointments_today)||0,s=(t==null?void 0:t.current_streak)||0;return g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg shadow-purple-500/30",children:g.jsx(JC,{className:"w-6 h-6 text-white fill-white"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-xl font-bold text-white",children:"Akaal"}),g.jsxs("div",{className:"flex items-center gap-2 text-purple-300 text-sm",children:[g.jsxs("span",{children:["Level ",e," Closer"]}),g.jsx("span",{className:"text-purple-500",children:""}),g.jsxs("span",{children:[n," / ",r," XP"]})]})]})]}),g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-purple-400 text-xs mb-1",children:"Calls"}),g.jsx("div",{className:"text-2xl font-bold text-white",children:i})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-purple-400 text-xs mb-1",children:"Appointments"}),g.jsx("div",{className:"text-2xl font-bold text-white",children:o})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-purple-400 text-xs mb-1",children:"Streak"}),g.jsxs("div",{className:"text-2xl font-bold text-white flex items-center gap-1",children:[s,g.jsx(Dg,{className:"w-4 h-4 text-orange-500"})]})]})]})]})}/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jI="popstate";function Rne(t={}){function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return tT("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:qf(i)}return Ine(e,n,null,t)}function Ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Oi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Nne(){return Math.random().toString(36).substring(2,10)}function RI(t,e){return{usr:t.state,key:t.key,idx:e}}function tT(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Vu(e):e,state:n,key:e&&e.key||r||Nne()}}function qf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Ine(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",c=null,u=f();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function f(){return(s.state||{idx:null}).idx}function h(){a="POP";let y=f(),_=y==null?null:y-u;u=y,c&&c({action:a,location:b.location,delta:_})}function p(y,_){a="PUSH";let T=tT(b.location,y,_);u=f()+1;let S=RI(T,u),A=b.createHref(T);try{s.pushState(S,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(A)}o&&c&&c({action:a,location:b.location,delta:1})}function v(y,_){a="REPLACE";let T=tT(b.location,y,_);u=f();let S=RI(T,u),A=b.createHref(T);s.replaceState(S,"",A),o&&c&&c({action:a,location:b.location,delta:0})}function x(y){return Mne(y)}let b={get action(){return a},get location(){return t(i,s)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(jI,h),c=y,()=>{i.removeEventListener(jI,h),c=null}},createHref(y){return e(i,y)},createURL:x,encodeLocation(y){let _=x(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:v,go(y){return s.go(y)}};return b}function Mne(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:qf(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function bq(t,e,n="/"){return Dne(t,e,n,!1)}function Dne(t,e,n,r){let i=typeof e=="string"?Vu(e):e,o=Uo(i.pathname||"/",n);if(o==null)return null;let s=wq(t);$ne(s);let a=null;for(let c=0;a==null&&c<s.length;++c){let u=Kne(o);a=Hne(s[c],u,r)}return a}function wq(t,e=[],n=[],r="",i=!1){let o=(s,a,c=i,u)=>{let f={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&c)return;Ht(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let h=No([r,f.relativePath]),p=n.concat(f);s.children&&s.children.length>0&&(Ht(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),wq(s.children,e,p,h,c)),!(s.path==null&&!s.index)&&e.push({path:h,score:Wne(h,s.index),routesMeta:p})};return t.forEach((s,a)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))o(s,a);else for(let u of xq(s.path))o(s,a,!0,u)}),e}function xq(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=xq(r.join("/")),a=[];return a.push(...s.map(c=>c===""?o:[o,c].join("/"))),i&&a.push(...s),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function $ne(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zne(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Lne=/^:[\w-]+$/,Fne=3,Bne=2,Une=1,qne=10,Vne=-2,NI=t=>t==="*";function Wne(t,e){let n=t.split("/"),r=n.length;return n.some(NI)&&(r+=Vne),e&&(r+=Bne),n.filter(i=>!NI(i)).reduce((i,o)=>i+(Lne.test(o)?Fne:o===""?Une:qne),r)}function zne(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Hne(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",h=Lg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),p=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Lg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:No([o,h.pathname]),pathnameBase:Zne(No([o,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(o=No([o,h.pathnameBase]))}return s}function Lg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Gne(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:h},p)=>{if(f==="*"){let x=a[p]||"";s=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const v=a[p];return h&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function Gne(t,e=!1,n=!0){Oi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Kne(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Uo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var Yne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xne=t=>Yne.test(t);function Qne(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Vu(t):t,o;if(n)if(Xne(n))o=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Oi(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?o=II(n.substring(1),"/"):o=II(n,e)}else o=e;return{pathname:o,search:ere(r),hash:tre(i)}}function II(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ew(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Jne(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _q(t){let e=Jne(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Sq(t,e,n,r=!1){let i;typeof t=="string"?i=Vu(t):(i={...t},Ht(!i.pathname||!i.pathname.includes("?"),Ew("?","pathname","search",i)),Ht(!i.pathname||!i.pathname.includes("#"),Ew("#","pathname","hash",i)),Ht(!i.search||!i.search.includes("#"),Ew("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let c=Qne(i,a),u=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}var No=t=>t.join("/").replace(/\/\/+/g,"/"),Zne=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ere=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tre=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nre(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function rre(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Pq=["POST","PUT","PATCH","DELETE"];new Set(Pq);var ire=["GET",...Pq];new Set(ire);var Wu=E.createContext(null);Wu.displayName="DataRouter";var iy=E.createContext(null);iy.displayName="DataRouterState";E.createContext(!1);var Tq=E.createContext({isTransitioning:!1});Tq.displayName="ViewTransition";var ore=E.createContext(new Map);ore.displayName="Fetchers";var sre=E.createContext(null);sre.displayName="Await";var Ri=E.createContext(null);Ri.displayName="Navigation";var Uh=E.createContext(null);Uh.displayName="Location";var Xo=E.createContext({outlet:null,matches:[],isDataRoute:!1});Xo.displayName="Route";var ZC=E.createContext(null);ZC.displayName="RouteError";function are(t,{relative:e}={}){Ht(qh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(Ri),{hash:i,pathname:o,search:s}=Vh(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:No([n,o])),r.createHref({pathname:a,search:s,hash:i})}function qh(){return E.useContext(Uh)!=null}function Qo(){return Ht(qh(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Uh).location}var Eq="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cq(t){E.useContext(Ri).static||E.useLayoutEffect(t)}function lre(){let{isDataRoute:t}=E.useContext(Xo);return t?xre():cre()}function cre(){Ht(qh(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Wu),{basename:e,navigator:n}=E.useContext(Ri),{matches:r}=E.useContext(Xo),{pathname:i}=Qo(),o=JSON.stringify(_q(r)),s=E.useRef(!1);return Cq(()=>{s.current=!0}),E.useCallback((c,u={})=>{if(Oi(s.current,Eq),!s.current)return;if(typeof c=="number"){n.go(c);return}let f=Sq(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:No([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,o,i,t])}E.createContext(null);function Vh(t,{relative:e}={}){let{matches:n}=E.useContext(Xo),{pathname:r}=Qo(),i=JSON.stringify(_q(n));return E.useMemo(()=>Sq(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function ure(t,e){return Aq(t,e)}function Aq(t,e,n,r,i){var T;Ht(qh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=E.useContext(Ri),{matches:s}=E.useContext(Xo),a=s[s.length-1],c=a?a.params:{},u=a?a.pathname:"/",f=a?a.pathnameBase:"/",h=a&&a.route;{let S=h&&h.path||"";Oq(u,!h||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=Qo(),v;if(e){let S=typeof e=="string"?Vu(e):e;Ht(f==="/"||((T=S.pathname)==null?void 0:T.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),v=S}else v=p;let x=v.pathname||"/",b=x;if(f!=="/"){let S=f.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=bq(t,{pathname:b});Oi(h||y!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Oi(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=mre(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:No([f,o.encodeLocation?o.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:No([f,o.encodeLocation?o.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),s,n,r,i);return e&&_?E.createElement(Uh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function dre(){let t=wre(),e=nre(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:o},"ErrorBoundary")," or"," ",E.createElement("code",{style:o},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,s)}var fre=E.createElement(dre,null),hre=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement(Xo.Provider,{value:this.props.routeContext},E.createElement(ZC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pre({routeContext:t,match:e,children:n}){let r=E.useContext(Wu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Xo.Provider,{value:t},n)}function mre(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=n==null?void 0:n.errors;if(s!=null){let f=o.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);Ht(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let a=!1,c=-1;if(n)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:p,errors:v}=n,x=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}let u=n&&r?(f,h)=>{var p,v;r(f,{location:n.location,params:((v=(p=n.matches)==null?void 0:p[0])==null?void 0:v.params)??{},unstable_pattern:rre(n.matches),errorInfo:h})}:void 0;return o.reduceRight((f,h,p)=>{let v,x=!1,b=null,y=null;n&&(v=s&&h.route.id?s[h.route.id]:void 0,b=h.route.errorElement||fre,a&&(c<0&&p===0?(Oq("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,y=null):c===p&&(x=!0,y=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),T=()=>{let S;return v?S=b:x?S=y:h.route.Component?S=E.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=f,E.createElement(pre,{match:h,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?E.createElement(hre,{location:n.location,revalidation:n.revalidation,component:b,error:v,children:T(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:u}):T()},null)}function eA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gre(t){let e=E.useContext(Wu);return Ht(e,eA(t)),e}function vre(t){let e=E.useContext(iy);return Ht(e,eA(t)),e}function yre(t){let e=E.useContext(Xo);return Ht(e,eA(t)),e}function tA(t){let e=yre(t),n=e.matches[e.matches.length-1];return Ht(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function bre(){return tA("useRouteId")}function wre(){var r;let t=E.useContext(ZC),e=vre("useRouteError"),n=tA("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function xre(){let{router:t}=gre("useNavigate"),e=tA("useNavigate"),n=E.useRef(!1);return Cq(()=>{n.current=!0}),E.useCallback(async(i,o={})=>{Oi(n.current,Eq),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var MI={};function Oq(t,e,n){!e&&!MI[t]&&(MI[t]=!0,Oi(!1,n))}E.memo(_re);function _re({routes:t,future:e,state:n,unstable_onError:r}){return Aq(t,void 0,n,r,e)}function xo(t){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Sre({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:s}){Ht(!qh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:a,navigator:i,static:o,unstable_useTransitions:s,future:{}}),[a,i,o,s]);typeof n=="string"&&(n=Vu(n));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:v="default"}=n,x=E.useMemo(()=>{let b=Uo(u,a);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:v},navigationType:r}},[a,u,f,h,p,v,r]);return Oi(x!=null,`<Router basename="${a}"> is not able to match the URL "${u}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:E.createElement(Ri.Provider,{value:c},E.createElement(Uh.Provider,{children:e,value:x}))}function Pre({children:t,location:e}){return ure(nT(t),e)}function nT(t,e=[]){let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let o=[...e,i];if(r.type===E.Fragment){n.push.apply(n,nT(r.props.children,o));return}Ht(r.type===xo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=nT(r.props.children,o)),n.push(s)}),n}var ag="get",lg="application/x-www-form-urlencoded";function oy(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Tre(t){return oy(t)&&t.tagName.toLowerCase()==="button"}function Ere(t){return oy(t)&&t.tagName.toLowerCase()==="form"}function Cre(t){return oy(t)&&t.tagName.toLowerCase()==="input"}function Are(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ore(t,e){return t.button===0&&(!e||e==="_self")&&!Are(t)}var Em=null;function kre(){if(Em===null)try{new FormData(document.createElement("form"),0),Em=!1}catch{Em=!0}return Em}var jre=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cw(t){return t!=null&&!jre.has(t)?(Oi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lg}"`),null):t}function Rre(t,e){let n,r,i,o,s;if(Ere(t)){let a=t.getAttribute("action");r=a?Uo(a,e):null,n=t.getAttribute("method")||ag,i=Cw(t.getAttribute("enctype"))||lg,o=new FormData(t)}else if(Tre(t)||Cre(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(r=c?Uo(c,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||ag,i=Cw(t.getAttribute("formenctype"))||Cw(a.getAttribute("enctype"))||lg,o=new FormData(a,t),!kre()){let{name:u,type:f,value:h}=t;if(f==="image"){let p=u?`${u}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else u&&o.append(u,h)}}else{if(oy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ag,r=null,i=lg,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nA(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nre(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Uo(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Ire(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Mre(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Dre(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await Ire(o,n);return s.links?s.links():[]}return[]}));return Bre(r.flat(1).filter(Mre).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function DI(t,e,n,r,i,o){let s=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,a=(c,u)=>{var f;return n[u].pathname!==c.pathname||((f=n[u].route.path)==null?void 0:f.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,u)=>s(c,u)||a(c,u)):o==="data"?e.filter((c,u)=>{var h;let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(s(c,u)||a(c,u))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function $re(t,e,{includeHydrateFallback:n}={}){return Lre(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Lre(t){return[...new Set(t)]}function Fre(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Bre(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(Fre(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function kq(){let t=E.useContext(Wu);return nA(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ure(){let t=E.useContext(iy);return nA(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var rA=E.createContext(void 0);rA.displayName="FrameworkContext";function jq(){let t=E.useContext(rA);return nA(t,"You must render this element inside a <HydratedRouter> element"),t}function qre(t,e){let n=E.useContext(rA),[r,i]=E.useState(!1),[o,s]=E.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:u,onMouseLeave:f,onTouchStart:h}=e,p=E.useRef(null);E.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let b=_=>{_.forEach(T=>{s(T.isIntersecting)})},y=new IntersectionObserver(b,{threshold:.5});return p.current&&y.observe(p.current),()=>{y.disconnect()}}},[t]),E.useEffect(()=>{if(r){let b=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(b)}}},[r]);let v=()=>{i(!0)},x=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,p,{}]:[o,p,{onFocus:Yd(a,v),onBlur:Yd(c,x),onMouseEnter:Yd(u,v),onMouseLeave:Yd(f,x),onTouchStart:Yd(h,v)}]:[!1,p,{}]}function Yd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Vre({page:t,...e}){let{router:n}=kq(),r=E.useMemo(()=>bq(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(zre,{page:t,matches:r,...e}):null}function Wre(t){let{manifest:e,routeModules:n}=jq(),[r,i]=E.useState([]);return E.useEffect(()=>{let o=!1;return Dre(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function zre({page:t,matches:e,...n}){let r=Qo(),{manifest:i,routeModules:o}=jq(),{basename:s}=kq(),{loaderData:a,matches:c}=Ure(),u=E.useMemo(()=>DI(t,e,c,i,r,"data"),[t,e,c,i,r]),f=E.useMemo(()=>DI(t,e,c,i,r,"assets"),[t,e,c,i,r]),h=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,b=!1;if(e.forEach(_=>{var S;let T=i.routes[_.route.id];!T||!T.hasLoader||(!u.some(A=>A.route.id===_.route.id)&&_.route.id in a&&((S=o[_.route.id])!=null&&S.shouldRevalidate)||T.hasClientLoader?b=!0:x.add(_.route.id))}),x.size===0)return[];let y=Nre(t,s,"data");return b&&x.size>0&&y.searchParams.set("_routes",e.filter(_=>x.has(_.route.id)).map(_=>_.route.id).join(",")),[y.pathname+y.search]},[s,a,r,i,u,e,t,o]),p=E.useMemo(()=>$re(f,i),[f,i]),v=Wre(f);return E.createElement(E.Fragment,null,h.map(x=>E.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),p.map(x=>E.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),v.map(({key:x,link:b})=>E.createElement("link",{key:x,nonce:n.nonce,...b})))}function Hre(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Rq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rq&&(window.__reactRouterVersion="7.10.1")}catch{}function Gre({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=E.useRef();i.current==null&&(i.current=Rne({window:r,v5Compat:!0}));let o=i.current,[s,a]=E.useState({action:o.action,location:o.location}),c=E.useCallback(u=>{n===!1?a(u):E.startTransition(()=>a(u))},[n]);return E.useLayoutEffect(()=>o.listen(c),[o,c]),E.createElement(Sre,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:o,unstable_useTransitions:n===!0})}var Nq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sy=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:c,to:u,preventScrollReset:f,viewTransition:h,...p},v){let{basename:x,unstable_useTransitions:b}=E.useContext(Ri),y=typeof u=="string"&&Nq.test(u),_,T=!1;if(typeof u=="string"&&y&&(_=u,Rq))try{let D=new URL(window.location.href),M=u.startsWith("//")?new URL(D.protocol+u):new URL(u),U=Uo(M.pathname,x);M.origin===D.origin&&U!=null?u=U+M.search+M.hash:T=!0}catch{Oi(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=are(u,{relative:i}),[A,P,O]=qre(r,p),k=Qre(u,{replace:s,state:a,target:c,preventScrollReset:f,relative:i,viewTransition:h,unstable_useTransitions:b});function R(D){e&&e(D),D.defaultPrevented||k(D)}let I=E.createElement("a",{...p,...O,href:_||S,onClick:T||o?e:R,ref:Hre(v,P),target:c,"data-discover":!y&&n==="render"?"true":void 0});return A&&!y?E.createElement(E.Fragment,null,I,E.createElement(Vre,{page:S})):I});sy.displayName="Link";var Kre=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:c,...u},f){let h=Vh(s,{relative:u.relative}),p=Qo(),v=E.useContext(iy),{navigator:x,basename:b}=E.useContext(Ri),y=v!=null&&nie(h)&&a===!0,_=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,T=p.pathname,S=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(T=T.toLowerCase(),S=S?S.toLowerCase():null,_=_.toLowerCase()),S&&b&&(S=Uo(S,b)||S);const A=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let P=T===_||!i&&T.startsWith(_)&&T.charAt(A)==="/",O=S!=null&&(S===_||!i&&S.startsWith(_)&&S.charAt(_.length)==="/"),k={isActive:P,isPending:O,isTransitioning:y},R=P?e:void 0,I;typeof r=="function"?I=r(k):I=[r,P?"active":null,O?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let D=typeof o=="function"?o(k):o;return E.createElement(sy,{...u,"aria-current":R,className:I,ref:f,style:D,to:s,viewTransition:a},typeof c=="function"?c(k):c)});Kre.displayName="NavLink";var Yre=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=ag,action:a,onSubmit:c,relative:u,preventScrollReset:f,viewTransition:h,...p},v)=>{let{unstable_useTransitions:x}=E.useContext(Ri),b=eie(),y=tie(a,{relative:u}),_=s.toLowerCase()==="get"?"get":"post",T=typeof a=="string"&&Nq.test(a),S=A=>{if(c&&c(A),A.defaultPrevented)return;A.preventDefault();let P=A.nativeEvent.submitter,O=(P==null?void 0:P.getAttribute("formmethod"))||s,k=()=>b(P||A.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:o,relative:u,preventScrollReset:f,viewTransition:h});x&&n!==!1?E.startTransition(()=>k()):k()};return E.createElement("form",{ref:v,method:_,action:y,onSubmit:r?c:S,...p,"data-discover":!T&&t==="render"?"true":void 0})});Yre.displayName="Form";function Xre(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iq(t){let e=E.useContext(Wu);return Ht(e,Xre(t)),e}function Qre(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s,unstable_useTransitions:a}={}){let c=lre(),u=Qo(),f=Vh(t,{relative:o});return E.useCallback(h=>{if(Ore(h,e)){h.preventDefault();let p=n!==void 0?n:qf(u)===qf(f),v=()=>c(t,{replace:p,state:r,preventScrollReset:i,relative:o,viewTransition:s});a?E.startTransition(()=>v()):v()}},[u,c,f,n,r,e,t,i,o,s,a])}var Jre=0,Zre=()=>`__${String(++Jre)}__`;function eie(){let{router:t}=Iq("useSubmit"),{basename:e}=E.useContext(Ri),n=bre(),r=t.fetch,i=t.navigate;return E.useCallback(async(o,s={})=>{let{action:a,method:c,encType:u,formData:f,body:h}=Rre(o,e);if(s.navigate===!1){let p=s.fetcherKey||Zre();await r(p,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||c,formEncType:s.encType||u,flushSync:s.flushSync})}else await i(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||c,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,e,n])}function tie(t,{relative:e}={}){let{basename:n}=E.useContext(Ri),r=E.useContext(Xo);Ht(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Vh(t||".",{relative:e})},s=Qo();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),c=a.getAll("index");if(c.some(f=>f==="")){a.delete("index"),c.filter(h=>h).forEach(h=>a.append("index",h));let f=a.toString();o.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:No([n,o.pathname])),qf(o)}function nie(t,{relative:e}={}){let n=E.useContext(Tq);Ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Iq("useViewTransitionState"),i=Vh(t,{relative:e});if(!n.isTransitioning)return!1;let o=Uo(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Uo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lg(i.pathname,s)!=null||Lg(i.pathname,o)!=null}var Wh=t4();const rie=st(Wh);function Mq(t){return"/"+t.toLowerCase().replace(/ /g,"-")}const iie=[{name:"Dialer",icon:_t,page:"Home"},{name:"Leads",icon:eT,page:"Leads"},{name:"Metrics",icon:pq,page:"Metrics"},{name:"Achievements",icon:$g,page:"Achievements"},{name:"Leaderboard",icon:JC,page:"Leaderboard"},{name:"Settings",icon:XC,page:"Settings"}];function Cl(){const t=Qo(),n=t.pathname.split("/").pop()||"Home";return g.jsx("div",{className:"flex gap-2 bg-[#2d1f4a]/50 p-2 rounded-2xl backdrop-blur-sm",children:iie.map(r=>{const i=r.icon,o=n===r.page||r.page==="Home"&&n==="";return g.jsx(sy,{to:Mq(r.page),className:"relative flex-1",children:g.jsxs(pe.div,{className:`
                px-6 py-3 rounded-xl flex items-center justify-center gap-2 transition-all
                ${o?"bg-gradient-to-r from-purple-500 to-indigo-500 text-white shadow-lg shadow-purple-500/30":"text-purple-200 hover:bg-purple-900/30"}
              `,whileHover:{scale:1.02},whileTap:{scale:.98},children:[g.jsx(i,{className:"w-4 h-4"}),g.jsx("span",{className:"font-medium text-sm",children:r.name})]})},r.name)})})}function $I(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zu(...t){return e=>{let n=!1;const r=t.map(i=>{const o=$I(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():$I(t[i],null)}}}}function Ut(...t){return E.useCallback(zu(...t),t)}var oie=Symbol.for("react.lazy"),Fg=nC[" use ".trim().toString()];function sie(t){return typeof t=="object"&&t!==null&&"then"in t}function Dq(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===oie&&"_payload"in t&&sie(t._payload)}function $q(t){const e=lie(t),n=E.forwardRef((r,i)=>{let{children:o,...s}=r;Dq(o)&&typeof Fg=="function"&&(o=Fg(o._payload));const a=E.Children.toArray(o),c=a.find(uie);if(c){const u=c.props.children,f=a.map(h=>h===c?E.Children.count(u)>1?E.Children.only(null):E.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...s,ref:i,children:E.isValidElement(u)?E.cloneElement(u,void 0,f):null})}return g.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var aie=$q("Slot");function lie(t){const e=E.forwardRef((n,r)=>{let{children:i,...o}=n;if(Dq(i)&&typeof Fg=="function"&&(i=Fg(i._payload)),E.isValidElement(i)){const s=fie(i),a=die(o,i.props);return i.type!==E.Fragment&&(a.ref=r?zu(r,s):s),E.cloneElement(i,a)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cie=Symbol("radix.slottable");function uie(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cie}function die(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const c=o(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function fie(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Lq(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Lq(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function He(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Lq(t))&&(r&&(r+=" "),r+=e);return r}const LI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,FI=He,ay=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return FI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(u=>{const f=n==null?void 0:n[u],h=o==null?void 0:o[u];if(f===null)return null;const p=LI(f)||LI(h);return i[u][p]}),a=n&&Object.entries(n).reduce((u,f)=>{let[h,p]=f;return p===void 0||(u[h]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:h,className:p,...v}=f;return Object.entries(v).every(x=>{let[b,y]=x;return Array.isArray(y)?y.includes({...o,...a}[b]):{...o,...a}[b]===y})?[...u,h,p]:u},[]);return FI(t,s,c,n==null?void 0:n.class,n==null?void 0:n.className)},hie=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},pie=(t,e)=>({classGroupId:t,validator:e}),Fq=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Bg="-",BI=[],mie="arbitrary..",gie=t=>{const e=yie(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{if(s.startsWith("[")&&s.endsWith("]"))return vie(s);const a=s.split(Bg),c=a[0]===""&&a.length>1?1:0;return Bq(a,c,e)},getConflictingClassGroupIds:(s,a)=>{if(a){const c=r[s],u=n[s];return c?u?hie(u,c):c:u||BI}return n[s]||BI}}},Bq=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],o=n.nextPart.get(i);if(o){const u=Bq(t,e+1,o);if(u)return u}const s=n.validators;if(s===null)return;const a=e===0?t.join(Bg):t.slice(e).join(Bg),c=s.length;for(let u=0;u<c;u++){const f=s[u];if(f.validator(a))return f.classGroupId}},vie=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?mie+r:void 0})(),yie=t=>{const{theme:e,classGroups:n}=t;return bie(n,e)},bie=(t,e)=>{const n=Fq();for(const r in t){const i=t[r];iA(i,n,r,e)}return n},iA=(t,e,n,r)=>{const i=t.length;for(let o=0;o<i;o++){const s=t[o];wie(s,e,n,r)}},wie=(t,e,n,r)=>{if(typeof t=="string"){xie(t,e,n);return}if(typeof t=="function"){_ie(t,e,n,r);return}Sie(t,e,n,r)},xie=(t,e,n)=>{const r=t===""?e:Uq(e,t);r.classGroupId=n},_ie=(t,e,n,r)=>{if(Pie(t)){iA(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(pie(n,t))},Sie=(t,e,n,r)=>{const i=Object.entries(t),o=i.length;for(let s=0;s<o;s++){const[a,c]=i[s];iA(c,Uq(e,a),n,r)}},Uq=(t,e)=>{let n=t;const r=e.split(Bg),i=r.length;for(let o=0;o<i;o++){const s=r[o];let a=n.nextPart.get(s);a||(a=Fq(),n.nextPart.set(s,a)),n=a}return n},Pie=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Tie=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(o,s)=>{n[o]=s,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let s=n[o];if(s!==void 0)return s;if((s=r[o])!==void 0)return i(o,s),s},set(o,s){o in n?n[o]=s:i(o,s)}}},rT="!",UI=":",Eie=[],qI=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),Cie=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const o=[];let s=0,a=0,c=0,u;const f=i.length;for(let b=0;b<f;b++){const y=i[b];if(s===0&&a===0){if(y===UI){o.push(i.slice(c,b)),c=b+1;continue}if(y==="/"){u=b;continue}}y==="["?s++:y==="]"?s--:y==="("?a++:y===")"&&a--}const h=o.length===0?i:i.slice(c);let p=h,v=!1;h.endsWith(rT)?(p=h.slice(0,-1),v=!0):h.startsWith(rT)&&(p=h.slice(1),v=!0);const x=u&&u>c?u-c:void 0;return qI(o,v,p,x)};if(e){const i=e+UI,o=r;r=s=>s.startsWith(i)?o(s.slice(i.length)):qI(Eie,!1,s,void 0,!0)}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},Aie=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let o=0;o<n.length;o++){const s=n[o],a=s[0]==="[",c=e.has(s);a||c?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(s)):i.push(s)}return i.length>0&&(i.sort(),r.push(...i)),r}},Oie=t=>({cache:Tie(t.cacheSize),parseClassName:Cie(t),sortModifiers:Aie(t),...gie(t)}),kie=/\s+/,jie=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,s=[],a=t.trim().split(kie);let c="";for(let u=a.length-1;u>=0;u-=1){const f=a[u],{isExternal:h,modifiers:p,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:b}=n(f);if(h){c=f+(c.length>0?" "+c:c);continue}let y=!!b,_=r(y?x.substring(0,b):x);if(!_){if(!y){c=f+(c.length>0?" "+c:c);continue}if(_=r(x),!_){c=f+(c.length>0?" "+c:c);continue}y=!1}const T=p.length===0?"":p.length===1?p[0]:o(p).join(":"),S=v?T+rT:T,A=S+_;if(s.indexOf(A)>-1)continue;s.push(A);const P=i(_,y);for(let O=0;O<P.length;++O){const k=P[O];s.push(S+k)}c=f+(c.length>0?" "+c:c)}return c},Rie=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=qq(n))&&(i&&(i+=" "),i+=r);return i},qq=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=qq(t[r]))&&(n&&(n+=" "),n+=e);return n},Nie=(t,...e)=>{let n,r,i,o;const s=c=>{const u=e.reduce((f,h)=>h(f),t());return n=Oie(u),r=n.cache.get,i=n.cache.set,o=a,a(c)},a=c=>{const u=r(c);if(u)return u;const f=jie(c,n);return i(c,f),f};return o=s,(...c)=>o(Rie(...c))},Iie=[],un=t=>{const e=n=>n[t]||Iie;return e.isThemeGetter=!0,e},Vq=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Wq=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Mie=/^\d+\/\d+$/,Die=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$ie=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Lie=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Fie=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Bie=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lc=t=>Mie.test(t),Qe=t=>!!t&&!Number.isNaN(Number(t)),xs=t=>!!t&&Number.isInteger(Number(t)),Aw=t=>t.endsWith("%")&&Qe(t.slice(0,-1)),yo=t=>Die.test(t),Uie=()=>!0,qie=t=>$ie.test(t)&&!Lie.test(t),zq=()=>!1,Vie=t=>Fie.test(t),Wie=t=>Bie.test(t),zie=t=>!Ce(t)&&!Ae(t),Hie=t=>Hu(t,Kq,zq),Ce=t=>Vq.test(t),Sa=t=>Hu(t,Yq,qie),Ow=t=>Hu(t,Qie,Qe),VI=t=>Hu(t,Hq,zq),Gie=t=>Hu(t,Gq,Wie),Cm=t=>Hu(t,Xq,Vie),Ae=t=>Wq.test(t),Xd=t=>Gu(t,Yq),Kie=t=>Gu(t,Jie),WI=t=>Gu(t,Hq),Yie=t=>Gu(t,Kq),Xie=t=>Gu(t,Gq),Am=t=>Gu(t,Xq,!0),Hu=(t,e,n)=>{const r=Vq.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Gu=(t,e,n=!1)=>{const r=Wq.exec(t);return r?r[1]?e(r[1]):n:!1},Hq=t=>t==="position"||t==="percentage",Gq=t=>t==="image"||t==="url",Kq=t=>t==="length"||t==="size"||t==="bg-size",Yq=t=>t==="length",Qie=t=>t==="number",Jie=t=>t==="family-name",Xq=t=>t==="shadow",Zie=()=>{const t=un("color"),e=un("font"),n=un("text"),r=un("font-weight"),i=un("tracking"),o=un("leading"),s=un("breakpoint"),a=un("container"),c=un("spacing"),u=un("radius"),f=un("shadow"),h=un("inset-shadow"),p=un("text-shadow"),v=un("drop-shadow"),x=un("blur"),b=un("perspective"),y=un("aspect"),_=un("ease"),T=un("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...A(),Ae,Ce],O=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],R=()=>[Ae,Ce,c],I=()=>[lc,"full","auto",...R()],D=()=>[xs,"none","subgrid",Ae,Ce],M=()=>["auto",{span:["full",xs,Ae,Ce]},xs,Ae,Ce],U=()=>[xs,"auto",Ae,Ce],V=()=>["auto","min","max","fr",Ae,Ce],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Q=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...R()],J=()=>[lc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],B=()=>[t,Ae,Ce],G=()=>[...A(),WI,VI,{position:[Ae,Ce]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",Yie,Hie,{size:[Ae,Ce]}],F=()=>[Aw,Xd,Sa],Z=()=>["","none","full",u,Ae,Ce],ae=()=>["",Qe,Xd,Sa],me=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>[Qe,Aw,WI,VI],ge=()=>["","none",x,Ae,Ce],oe=()=>["none",Qe,Ae,Ce],fe=()=>["none",Qe,Ae,Ce],ye=()=>[Qe,Ae,Ce],re=()=>[lc,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[yo],breakpoint:[yo],color:[Uie],container:[yo],"drop-shadow":[yo],ease:["in","out","in-out"],font:[zie],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[yo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[yo],shadow:[yo],spacing:["px",Qe],text:[yo],"text-shadow":[yo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",lc,Ce,Ae,y]}],container:["container"],columns:[{columns:[Qe,Ce,Ae,a]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[xs,"auto",Ae,Ce]}],basis:[{basis:[lc,"full","auto",a,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Qe,lc,"auto","initial","none",Ce]}],grow:[{grow:["",Qe,Ae,Ce]}],shrink:[{shrink:["",Qe,Ae,Ce]}],order:[{order:[xs,"first","last","none",Ae,Ce]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...Q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Q(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[a,"screen",...J()]}],"min-w":[{"min-w":[a,"screen","none",...J()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",n,Xd,Sa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ae,Ow]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Aw,Ce]}],"font-family":[{font:[Kie,Ce,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ae,Ce]}],"line-clamp":[{"line-clamp":[Qe,"none",Ae,Ow]}],leading:[{leading:[o,...R()]}],"list-image":[{"list-image":["none",Ae,Ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ae,Ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:[Qe,"from-font","auto",Ae,Sa]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[Qe,"auto",Ae,Ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae,Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae,Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xs,Ae,Ce],radial:["",Ae,Ce],conic:[xs,Ae,Ce]},Xie,Gie]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...me(),"hidden","none"]}],"divide-style":[{divide:[...me(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Qe,Ae,Ce]}],"outline-w":[{outline:["",Qe,Xd,Sa]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",f,Am,Cm]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",h,Am,Cm]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[Qe,Sa]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",p,Am,Cm]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[Qe,Ae,Ce]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":se()}],"mask-image-linear-to-pos":[{"mask-linear-to":se()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":se()}],"mask-image-t-to-pos":[{"mask-t-to":se()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":se()}],"mask-image-r-to-pos":[{"mask-r-to":se()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":se()}],"mask-image-b-to-pos":[{"mask-b-to":se()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":se()}],"mask-image-l-to-pos":[{"mask-l-to":se()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":se()}],"mask-image-x-to-pos":[{"mask-x-to":se()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":se()}],"mask-image-y-to-pos":[{"mask-y-to":se()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[Ae,Ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":se()}],"mask-image-radial-to-pos":[{"mask-radial-to":se()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[Qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":se()}],"mask-image-conic-to-pos":[{"mask-conic-to":se()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ae,Ce]}],filter:[{filter:["","none",Ae,Ce]}],blur:[{blur:ge()}],brightness:[{brightness:[Qe,Ae,Ce]}],contrast:[{contrast:[Qe,Ae,Ce]}],"drop-shadow":[{"drop-shadow":["","none",v,Am,Cm]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",Qe,Ae,Ce]}],"hue-rotate":[{"hue-rotate":[Qe,Ae,Ce]}],invert:[{invert:["",Qe,Ae,Ce]}],saturate:[{saturate:[Qe,Ae,Ce]}],sepia:[{sepia:["",Qe,Ae,Ce]}],"backdrop-filter":[{"backdrop-filter":["","none",Ae,Ce]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[Qe,Ae,Ce]}],"backdrop-contrast":[{"backdrop-contrast":[Qe,Ae,Ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Qe,Ae,Ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Qe,Ae,Ce]}],"backdrop-invert":[{"backdrop-invert":["",Qe,Ae,Ce]}],"backdrop-opacity":[{"backdrop-opacity":[Qe,Ae,Ce]}],"backdrop-saturate":[{"backdrop-saturate":[Qe,Ae,Ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Qe,Ae,Ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ae,Ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Qe,"initial",Ae,Ce]}],ease:[{ease:["linear","initial",_,Ae,Ce]}],delay:[{delay:[Qe,Ae,Ce]}],animate:[{animate:["none",T,Ae,Ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ae,Ce]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:ye()}],"skew-x":[{"skew-x":ye()}],"skew-y":[{"skew-y":ye()}],transform:[{transform:[Ae,Ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:re()}],"translate-x":[{"translate-x":re()}],"translate-y":[{"translate-y":re()}],"translate-z":[{"translate-z":re()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae,Ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae,Ce]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[Qe,Xd,Sa,Ow]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},eoe=Nie(Zie);function et(...t){return eoe(He(t))}const toe=ay("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Xe=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?aie:"button";return g.jsx(s,{className:et(toe({variant:e,size:n,className:t})),ref:o,...i})});Xe.displayName="Button";const noe=ay("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function mf({className:t,variant:e,...n}){return g.jsx("div",{className:et(noe({variant:e}),t),...n})}function roe({lead:t,onStartCall:e,xpMultiplier:n=1}){if(!t)return g.jsx(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-8 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:g.jsxs("div",{className:"text-center py-12",children:[g.jsx(_t,{className:"w-16 h-16 text-purple-500/30 mx-auto mb-4"}),g.jsx("p",{className:"text-purple-300",children:"No leads available"}),g.jsx("p",{className:"text-purple-400 text-sm mt-2",children:"Add leads to start dialing"})]})});const r=Math.floor(Math.random()*5e4)+1e4,i=["EASY","MEDIUM","HARD"][Math.floor(Math.random()*3)],o={EASY:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",MEDIUM:"bg-amber-500/20 text-amber-400 border-amber-500/30",HARD:"bg-red-500/20 text-red-400 border-red-500/30"};return g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-8 border-2 border-purple-500/30 relative overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-transparent pointer-events-none"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"flex justify-end mb-4",children:g.jsx(mf,{className:`${o[i]} border font-semibold px-3 py-1`,children:i})}),g.jsxs("div",{className:"mb-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:t.name}),g.jsxs("div",{className:"flex items-center gap-2 text-purple-300 mb-3",children:[g.jsx(hq,{className:"w-4 h-4"}),g.jsx("span",{children:t.company||"No company"})]}),g.jsxs("div",{className:"flex items-center gap-2 text-purple-200",children:[g.jsx(_t,{className:"w-4 h-4"}),g.jsx("span",{className:"font-mono text-lg",children:t.phone})]})]}),g.jsxs("div",{className:"mb-6 bg-purple-900/30 rounded-xl p-4 border border-purple-500/20",children:[g.jsx("div",{className:"text-purple-400 text-sm mb-1",children:"Deal Value:"}),g.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 text-2xl font-bold",children:[g.jsx(ou,{className:"w-5 h-5"}),r.toLocaleString()]})]}),g.jsxs(Xe,{onClick:e,className:"w-full h-14 bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-lg font-semibold rounded-2xl shadow-xl shadow-emerald-500/30 transition-all hover:scale-105",children:[g.jsx(_t,{className:"w-5 h-5 mr-2"}),"Start Call"]}),n>1&&g.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-amber-400",children:[g.jsx(JC,{className:"w-4 h-4 fill-amber-400"}),g.jsxs("span",{className:"text-sm font-semibold",children:["XP Multiplier: ",n,"x"]})]})]})]})}function ioe({stats:t}){const e=(t==null?void 0:t.calls_today)||0,n=(t==null?void 0:t.appointments_today)||0,r=e>0?(n/e*100).toFixed(1):0,i=[{label:"Total Calls",value:e,icon:_t,color:"text-blue-400",bgColor:"bg-blue-500/10"},{label:"Appointments",value:n,icon:ny,color:"text-emerald-400",bgColor:"bg-emerald-500/10"},{label:"Conversion Rate",value:`${r}%`,icon:Bo,color:"text-purple-400",bgColor:"bg-purple-500/10"},{label:"Pipeline Value",value:`$${(n*35e3).toLocaleString()}`,icon:ou,color:"text-amber-400",bgColor:"bg-amber-500/10"}];return g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[g.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[g.jsx(Bo,{className:"w-5 h-5 text-purple-400"}),g.jsx("h3",{className:"text-lg font-bold text-white",children:"Session Stats"})]}),g.jsx("div",{className:"space-y-4",children:i.map((o,s)=>{const a=o.icon;return g.jsxs(pe.div,{className:"flex items-center justify-between p-4 bg-[#1a0f2e] rounded-2xl border border-purple-500/10",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:s*.1},children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`w-10 h-10 ${o.bgColor} rounded-xl flex items-center justify-center`,children:g.jsx(a,{className:`w-5 h-5 ${o.color}`})}),g.jsx("span",{className:"text-purple-300 text-sm",children:o.label})]}),g.jsx("span",{className:"text-2xl font-bold text-white",children:o.value})]},o.label)})})]})}function ooe({level:t=1,currentXP:e=0,nextLevelXP:n=500}){const r=e/n*100;return g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("span",{className:"text-purple-300 font-semibold",children:["Level ",t]}),g.jsxs("span",{className:"text-purple-400 text-sm",children:[e," / ",n," XP"]})]}),g.jsx("div",{className:"w-full h-3 bg-[#1a0f2e] rounded-full overflow-hidden",children:g.jsx(pe.div,{className:"h-full bg-gradient-to-r from-purple-500 via-indigo-500 to-purple-600 rounded-full shadow-lg shadow-purple-500/50",initial:{width:0},animate:{width:`${r}%`},transition:{duration:1,ease:"easeOut"}})})]})}const Qq=E.forwardRef(({className:t,...e},n)=>g.jsx("textarea",{className:et("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Qq.displayName="Textarea";const Jq=E.createContext(),Om={regular:{name:"Regular",background:"from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e]",cardBg:"bg-[#2d1f4a]/50",primaryGlow:"bg-purple-600/20",secondaryGlow:"bg-indigo-600/20",accentColor:"indigo",textPrimary:"text-white",textSecondary:"text-purple-300",borderColor:"border-purple-500/20",buttonGradient:"from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700"},dark:{name:"Dark",background:"from-[#0a0a0a] via-[#1a1a1a] to-[#0a0a0a]",cardBg:"bg-[#1a1a1a]/50",primaryGlow:"bg-slate-600/20",secondaryGlow:"bg-zinc-600/20",accentColor:"slate",textPrimary:"text-white",textSecondary:"text-slate-400",borderColor:"border-slate-500/20",buttonGradient:"from-slate-700 to-zinc-800 hover:from-slate-800 hover:to-zinc-900"},christmas:{name:"Christmas",background:"from-[#0d1f15] via-[#1a2e1f] to-[#0d1f15]",cardBg:"bg-gradient-to-br from-red-900/20 via-green-900/20 to-red-900/20 backdrop-blur-sm",primaryGlow:"bg-red-600/30",secondaryGlow:"bg-green-600/30",accentColor:"red",textPrimary:"text-white",textSecondary:"text-green-200",borderColor:"border-red-500/30",buttonGradient:"from-red-600 to-green-600 hover:from-red-700 hover:to-green-700"}};function soe({children:t}){const[e,n]=E.useState("regular"),[r,i]=E.useState("demo@example.com");E.useEffect(()=>{(async()=>{const{data:c}=await Ie.from("dialer_settings").select("theme").eq("user_email",r).maybeSingle();c!=null&&c.theme&&Om[c.theme]&&n(c.theme)})()},[r]);const o=async a=>{Om[a]&&(n(a),await Ie.from("dialer_settings").upsert({user_email:r,theme:a,updated_at:new Date().toISOString()},{onConflict:"user_email"}))},s={currentTheme:e,theme:Om[e],changeTheme:o,themes:Om};return g.jsx(Jq.Provider,{value:s,children:t})}function oA(){const t=E.useContext(Jq);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}var km={exports:{}},zI;function aoe(){if(zI)return km.exports;zI=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(P,O,k){return Function.prototype.apply.call(P,O,k)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:n=function(P){return Object.getOwnPropertyNames(P)};function r(A){console&&console.warn&&console.warn(A)}var i=Number.isNaN||function(P){return P!==P};function o(){o.init.call(this)}km.exports=o,km.exports.once=_,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(A){if(typeof A!="number"||A<0||i(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");s=A}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||i(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function c(A){return A._maxListeners===void 0?o.defaultMaxListeners:A._maxListeners}o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(P){for(var O=[],k=1;k<arguments.length;k++)O.push(arguments[k]);var R=P==="error",I=this._events;if(I!==void 0)R=R&&I.error===void 0;else if(!R)return!1;if(R){var D;if(O.length>0&&(D=O[0]),D instanceof Error)throw D;var M=new Error("Unhandled error."+(D?" ("+D.message+")":""));throw M.context=D,M}var U=I[P];if(U===void 0)return!1;if(typeof U=="function")e(U,this,O);else for(var V=U.length,Y=x(U,V),k=0;k<V;++k)e(Y[k],this,O);return!0};function u(A,P,O,k){var R,I,D;if(a(O),I=A._events,I===void 0?(I=A._events=Object.create(null),A._eventsCount=0):(I.newListener!==void 0&&(A.emit("newListener",P,O.listener?O.listener:O),I=A._events),D=I[P]),D===void 0)D=I[P]=O,++A._eventsCount;else if(typeof D=="function"?D=I[P]=k?[O,D]:[D,O]:k?D.unshift(O):D.push(O),R=c(A),R>0&&D.length>R&&!D.warned){D.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+D.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=A,M.type=P,M.count=D.length,r(M)}return A}o.prototype.addListener=function(P,O){return u(this,P,O,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(P,O){return u(this,P,O,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(A,P,O){var k={fired:!1,wrapFn:void 0,target:A,type:P,listener:O},R=f.bind(k);return R.listener=O,k.wrapFn=R,R}o.prototype.once=function(P,O){return a(O),this.on(P,h(this,P,O)),this},o.prototype.prependOnceListener=function(P,O){return a(O),this.prependListener(P,h(this,P,O)),this},o.prototype.removeListener=function(P,O){var k,R,I,D,M;if(a(O),R=this._events,R===void 0)return this;if(k=R[P],k===void 0)return this;if(k===O||k.listener===O)--this._eventsCount===0?this._events=Object.create(null):(delete R[P],R.removeListener&&this.emit("removeListener",P,k.listener||O));else if(typeof k!="function"){for(I=-1,D=k.length-1;D>=0;D--)if(k[D]===O||k[D].listener===O){M=k[D].listener,I=D;break}if(I<0)return this;I===0?k.shift():b(k,I),k.length===1&&(R[P]=k[0]),R.removeListener!==void 0&&this.emit("removeListener",P,M||O)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(P){var O,k,R;if(k=this._events,k===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete k[P]),this;if(arguments.length===0){var I=Object.keys(k),D;for(R=0;R<I.length;++R)D=I[R],D!=="removeListener"&&this.removeAllListeners(D);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(O=k[P],typeof O=="function")this.removeListener(P,O);else if(O!==void 0)for(R=O.length-1;R>=0;R--)this.removeListener(P,O[R]);return this};function p(A,P,O){var k=A._events;if(k===void 0)return[];var R=k[P];return R===void 0?[]:typeof R=="function"?O?[R.listener||R]:[R]:O?y(R):x(R,R.length)}o.prototype.listeners=function(P){return p(this,P,!0)},o.prototype.rawListeners=function(P){return p(this,P,!1)},o.listenerCount=function(A,P){return typeof A.listenerCount=="function"?A.listenerCount(P):v.call(A,P)},o.prototype.listenerCount=v;function v(A){var P=this._events;if(P!==void 0){var O=P[A];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function x(A,P){for(var O=new Array(P),k=0;k<P;++k)O[k]=A[k];return O}function b(A,P){for(;P+1<A.length;P++)A[P]=A[P+1];A.pop()}function y(A){for(var P=new Array(A.length),O=0;O<P.length;++O)P[O]=A[O].listener||A[O];return P}function _(A,P){return new Promise(function(O,k){function R(D){A.removeListener(P,I),k(D)}function I(){typeof A.removeListener=="function"&&A.removeListener("error",R),O([].slice.call(arguments))}S(A,P,I,{once:!0}),P!=="error"&&T(A,R,{once:!0})})}function T(A,P,O){typeof A.on=="function"&&S(A,"error",P,O)}function S(A,P,O,k){if(typeof A.on=="function")k.once?A.once(P,O):A.on(P,O);else if(typeof A.addEventListener=="function")A.addEventListener(P,function R(I){k.once&&A.removeEventListener(P,R),O(I)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A)}return km.exports}var ni=aoe();class iT extends ni.EventEmitter{constructor(e){super(),Object.defineProperties(this,{_attempts:{value:0,writable:!0},_duration:{enumerable:!1,get(){let n=this._min*Math.pow(this._factor,this._attempts);if(this._jitter){const r=Math.random(),i=Math.floor(r*this._jitter*n);n=(Math.floor(r*10)&1)===0?n-i:n+i}return Math.min(n,this._max)|0}},_factor:{value:e.factor||2},_jitter:{value:e.jitter>0&&e.jitter<=1?e.jitter:0},_max:{value:e.max||1e4},_min:{value:e.min||100},_timeoutID:{value:null,writable:!0}})}backoff(){const e=this._duration;this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null),this.emit("backoff",this._attempts,e),this._timeoutID=setTimeout(()=>{this.emit("ready",this._attempts,e),this._attempts++},e)}reset(){this._attempts=0,this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}var cg={exports:{}},loe=cg.exports,HI;function coe(){return HI||(HI=1,(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(loe,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],o={},s=null;function a(b,y){var _=b[y];if(typeof _.bind=="function")return _.bind(b);try{return Function.prototype.bind.call(_,b)}catch{return function(){return Function.prototype.apply.apply(_,[b,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(b){return b==="debug"&&(b="log"),typeof console===n?!1:b==="trace"&&r?c:console[b]!==void 0?a(console,b):console.log!==void 0?a(console,"log"):e}function f(){for(var b=this.getLevel(),y=0;y<i.length;y++){var _=i[y];this[_]=y<b?e:this.methodFactory(_,b,this.name)}if(this.log=this.debug,typeof console===n&&b<this.levels.SILENT)return"No console available for logging"}function h(b){return function(){typeof console!==n&&(f.call(this),this[b].apply(this,arguments))}}function p(b,y,_){return u(b)||h.apply(this,arguments)}function v(b,y){var _=this,T,S,A,P="loglevel";typeof b=="string"?P+=":"+b:typeof b=="symbol"&&(P=void 0);function O(M){var U=(i[M]||"silent").toUpperCase();if(!(typeof window===n||!P)){try{window.localStorage[P]=U;return}catch{}try{window.document.cookie=encodeURIComponent(P)+"="+U+";"}catch{}}}function k(){var M;if(!(typeof window===n||!P)){try{M=window.localStorage[P]}catch{}if(typeof M===n)try{var U=window.document.cookie,V=encodeURIComponent(P),Y=U.indexOf(V+"=");Y!==-1&&(M=/^([^;]+)/.exec(U.slice(Y+V.length+1))[1])}catch{}return _.levels[M]===void 0&&(M=void 0),M}}function R(){if(!(typeof window===n||!P)){try{window.localStorage.removeItem(P)}catch{}try{window.document.cookie=encodeURIComponent(P)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function I(M){var U=M;if(typeof U=="string"&&_.levels[U.toUpperCase()]!==void 0&&(U=_.levels[U.toUpperCase()]),typeof U=="number"&&U>=0&&U<=_.levels.SILENT)return U;throw new TypeError("log.setLevel() called with invalid level: "+M)}_.name=b,_.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},_.methodFactory=y||p,_.getLevel=function(){return A??S??T},_.setLevel=function(M,U){return A=I(M),U!==!1&&O(A),f.call(_)},_.setDefaultLevel=function(M){S=I(M),k()||_.setLevel(M,!1)},_.resetLevel=function(){A=null,R(),f.call(_)},_.enableAll=function(M){_.setLevel(_.levels.TRACE,M)},_.disableAll=function(M){_.setLevel(_.levels.SILENT,M)},_.rebuild=function(){if(s!==_&&(T=I(s.getLevel())),f.call(_),s===_)for(var M in o)o[M].rebuild()},T=I(s?s.getLevel():"WARN");var D=k();D!=null&&(A=I(D)),f.call(_)}s=new v,s.getLogger=function(y){if(typeof y!="symbol"&&typeof y!="string"||y==="")throw new TypeError("You must supply a name when creating a logger.");var _=o[y];return _||(_=o[y]=new v(y,s.methodFactory)),_};var x=typeof window!==n?window.log:void 0;return s.noConflict=function(){return typeof window!==n&&window.log===s&&(window.log=x),s},s.getLoggers=function(){return o},s.default=s,s})})(cg)),cg.exports}var Vf=coe();const uoe=st(Vf),doe=eC({__proto__:null,default:uoe},[Vf]);class Ke extends Error{constructor(e,n){super(),Object.setPrototypeOf(this,Ke.prototype);const r=typeof e=="string"?e:this.explanation,i=typeof e=="object"?e:n;this.message=`${this.name} (${this.code}): ${r}`,this.originalError=i}}var pn;(function(t){class e extends Ke{constructor(o,s){super(o,s),this.causes=[],this.code=20101,this.description="Invalid access token",this.explanation="Twilio was unable to validate your Access Token",this.name="AccessTokenInvalid",this.solutions=[],Object.setPrototypeOf(this,t.AccessTokenInvalid.prototype);const a=typeof o=="string"?o:this.explanation,c=typeof o=="object"?o:s;this.message=`${this.name} (${this.code}): ${a}`,this.originalError=c}}t.AccessTokenInvalid=e;class n extends Ke{constructor(o,s){super(o,s),this.causes=[],this.code=20104,this.description="Access token expired or expiration date invalid",this.explanation="The Access Token provided to the Twilio API has expired, the expiration time specified in the token was invalid, or the expiration time specified was too far in the future",this.name="AccessTokenExpired",this.solutions=[],Object.setPrototypeOf(this,t.AccessTokenExpired.prototype);const a=typeof o=="string"?o:this.explanation,c=typeof o=="object"?o:s;this.message=`${this.name} (${this.code}): ${a}`,this.originalError=c}}t.AccessTokenExpired=n;class r extends Ke{constructor(o,s){super(o,s),this.causes=[],this.code=20151,this.description="Authentication Failed",this.explanation="The Authentication with the provided JWT failed",this.name="AuthenticationFailed",this.solutions=[],Object.setPrototypeOf(this,t.AuthenticationFailed.prototype);const a=typeof o=="string"?o:this.explanation,c=typeof o=="object"?o:s;this.message=`${this.name} (${this.code}): ${a}`,this.originalError=c}}t.AuthenticationFailed=r})(pn||(pn={}));var oT;(function(t){class e extends Ke{constructor(r,i){super(r,i),this.causes=["The access token has an invalid Account SID, API Key, or API Key Secret."],this.code=31202,this.description="Signature validation failed.",this.explanation="The provided access token failed signature validation.",this.name="AccessTokenSignatureValidationFailed",this.solutions=["Ensure the Account SID, API Key, and API Key Secret are valid when generating your access token."],Object.setPrototypeOf(this,t.AccessTokenSignatureValidationFailed.prototype);const o=typeof r=="string"?r:this.explanation,s=typeof r=="object"?r:i;this.message=`${this.name} (${this.code}): ${o}`,this.originalError=s}}t.AccessTokenSignatureValidationFailed=e})(oT||(oT={}));var Ua;(function(t){class e extends Ke{constructor(s,a){super(s,a),this.causes=[],this.code=31400,this.description="Bad Request (HTTP/SIP)",this.explanation="The request could not be understood due to malformed syntax.",this.name="BadRequest",this.solutions=[],Object.setPrototypeOf(this,t.BadRequest.prototype);const c=typeof s=="string"?s:this.explanation,u=typeof s=="object"?s:a;this.message=`${this.name} (${this.code}): ${c}`,this.originalError=u}}t.BadRequest=e;class n extends Ke{constructor(s,a){super(s,a),this.causes=["The outbound call was made to an invalid phone number.","The TwiML application sid is missing a Voice URL."],this.code=31404,this.description="Not Found (HTTP/SIP)",this.explanation="The server has not found anything matching the request.",this.name="NotFound",this.solutions=["Ensure the phone number dialed is valid.","Ensure the TwiML application is configured correctly with a Voice URL link."],Object.setPrototypeOf(this,t.NotFound.prototype);const c=typeof s=="string"?s:this.explanation,u=typeof s=="object"?s:a;this.message=`${this.name} (${this.code}): ${c}`,this.originalError=u}}t.NotFound=n;class r extends Ke{constructor(s,a){super(s,a),this.causes=[],this.code=31480,this.description="Temporarily Unavailable (SIP)",this.explanation="The callee is currently unavailable.",this.name="TemporarilyUnavailable",this.solutions=[],Object.setPrototypeOf(this,t.TemporarilyUnavailable.prototype);const c=typeof s=="string"?s:this.explanation,u=typeof s=="object"?s:a;this.message=`${this.name} (${this.code}): ${c}`,this.originalError=u}}t.TemporarilyUnavailable=r;class i extends Ke{constructor(s,a){super(s,a),this.causes=[],this.code=31486,this.description="Busy Here (SIP)",this.explanation="The callee is busy.",this.name="BusyHere",this.solutions=[],Object.setPrototypeOf(this,t.BusyHere.prototype);const c=typeof s=="string"?s:this.explanation,u=typeof s=="object"?s:a;this.message=`${this.name} (${this.code}): ${c}`,this.originalError=u}}t.BusyHere=i})(Ua||(Ua={}));var sT;(function(t){class e extends Ke{constructor(r,i){super(r,i),this.causes=[],this.code=31603,this.description="Decline (SIP)",this.explanation="The callee does not wish to participate in the call.",this.name="Decline",this.solutions=[],Object.setPrototypeOf(this,t.Decline.prototype);const o=typeof r=="string"?r:this.explanation,s=typeof r=="object"?r:i;this.message=`${this.name} (${this.code}): ${o}`,this.originalError=s}}t.Decline=e})(sT||(sT={}));var Vn;(function(t){class e extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31e3,this.description="Unknown Error",this.explanation="An unknown error has occurred. See error details for more information.",this.name="UnknownError",this.solutions=[],Object.setPrototypeOf(this,t.UnknownError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.UnknownError=e;class n extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31001,this.description="Application Not Found",this.explanation="",this.name="ApplicationNotFoundError",this.solutions=[],Object.setPrototypeOf(this,t.ApplicationNotFoundError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.ApplicationNotFoundError=n;class r extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31002,this.description="Connection Declined",this.explanation="",this.name="ConnectionDeclinedError",this.solutions=[],Object.setPrototypeOf(this,t.ConnectionDeclinedError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.ConnectionDeclinedError=r;class i extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31003,this.description="Connection Timeout",this.explanation="The server could not produce a response within a suitable amount of time.",this.name="ConnectionTimeoutError",this.solutions=[],Object.setPrototypeOf(this,t.ConnectionTimeoutError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.ConnectionTimeoutError=i;class o extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31005,this.description="Connection error",this.explanation="A connection error occurred during the call",this.name="ConnectionError",this.solutions=[],Object.setPrototypeOf(this,t.ConnectionError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.ConnectionError=o;class s extends Ke{constructor(u,f){super(u,f),this.causes=["The incoming call was cancelled because it was not answered in time or it was accepted/rejected by another application instance registered with the same identity."],this.code=31008,this.description="Call cancelled",this.explanation="Unable to answer because the call has ended",this.name="CallCancelledError",this.solutions=[],Object.setPrototypeOf(this,t.CallCancelledError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.CallCancelledError=s;class a extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31009,this.description="Transport error",this.explanation="No transport available to send or receive messages",this.name="TransportError",this.solutions=[],Object.setPrototypeOf(this,t.TransportError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.TransportError=a})(Vn||(Vn={}));var So;(function(t){class e extends Ke{constructor(u,f){super(u,f),this.causes=["Invalid content or MessageType passed to sendMessage method."],this.code=31100,this.description="The request had malformed syntax.",this.explanation="The request could not be understood due to malformed syntax.",this.name="MalformedRequestError",this.solutions=["Ensure content and MessageType passed to sendMessage method are valid."],Object.setPrototypeOf(this,t.MalformedRequestError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.MalformedRequestError=e;class n extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31101,this.description="Missing parameter array in request",this.explanation="",this.name="MissingParameterArrayError",this.solutions=[],Object.setPrototypeOf(this,t.MissingParameterArrayError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.MissingParameterArrayError=n;class r extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31102,this.description="Authorization token missing in request.",this.explanation="",this.name="AuthorizationTokenMissingError",this.solutions=[],Object.setPrototypeOf(this,t.AuthorizationTokenMissingError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.AuthorizationTokenMissingError=r;class i extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31103,this.description="Maximum parameter length has been exceeded.",this.explanation="Length of parameters cannot exceed MAX_PARAM_LENGTH.",this.name="MaxParameterLengthExceededError",this.solutions=[],Object.setPrototypeOf(this,t.MaxParameterLengthExceededError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.MaxParameterLengthExceededError=i;class o extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31104,this.description="Invalid bridge token",this.explanation="",this.name="InvalidBridgeTokenError",this.solutions=[],Object.setPrototypeOf(this,t.InvalidBridgeTokenError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.InvalidBridgeTokenError=o;class s extends Ke{constructor(u,f){super(u,f),this.causes=["Client name contains invalid characters."],this.code=31105,this.description="Invalid client name",this.explanation="Client name should not contain control, space, delims, or unwise characters.",this.name="InvalidClientNameError",this.solutions=["Make sure that client name does not contain any of the invalid characters."],Object.setPrototypeOf(this,t.InvalidClientNameError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.InvalidClientNameError=s;class a extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31107,this.description="The reconnect parameter is invalid",this.explanation="",this.name="ReconnectParameterInvalidError",this.solutions=[],Object.setPrototypeOf(this,t.ReconnectParameterInvalidError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.ReconnectParameterInvalidError=a})(So||(So={}));(function(t){class e extends Ke{constructor(h,p){super(h,p),this.causes=[],this.code=31201,this.description="Authorization error",this.explanation="The request requires user authentication. The server understood the request, but is refusing to fulfill it.",this.name="AuthorizationError",this.solutions=[],Object.setPrototypeOf(this,t.AuthorizationError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:p;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.AuthorizationError=e;class n extends Ke{constructor(h,p){super(h,p),this.causes=[],this.code=31203,this.description="No valid account",this.explanation="",this.name="NoValidAccountError",this.solutions=[],Object.setPrototypeOf(this,t.NoValidAccountError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:p;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.NoValidAccountError=n;class r extends Ke{constructor(h,p){super(h,p),this.causes=[],this.code=31204,this.description="Invalid JWT token",this.explanation="",this.name="InvalidJWTTokenError",this.solutions=[],Object.setPrototypeOf(this,t.InvalidJWTTokenError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:p;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.InvalidJWTTokenError=r;class i extends Ke{constructor(h,p){super(h,p),this.causes=[],this.code=31205,this.description="JWT token expired",this.explanation="",this.name="JWTTokenExpiredError",this.solutions=[],Object.setPrototypeOf(this,t.JWTTokenExpiredError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:p;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.JWTTokenExpiredError=i;class o extends Ke{constructor(h,p){super(h,p),this.causes=["Rate limit exceeded."],this.code=31206,this.description="Rate exceeded authorized limit.",this.explanation="The request performed exceeds the authorized limit.",this.name="RateExceededError",this.solutions=["Ensure message send rate does not exceed authorized limits."],Object.setPrototypeOf(this,t.RateExceededError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:p;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.RateExceededError=o;class s extends Ke{constructor(h,p){super(h,p),this.causes=[],this.code=31207,this.description="JWT token expiration too long",this.explanation="",this.name="JWTTokenExpirationTooLongError",this.solutions=[],Object.setPrototypeOf(this,t.JWTTokenExpirationTooLongError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:p;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.JWTTokenExpirationTooLongError=s;class a extends Ke{constructor(h,p){super(h,p),this.causes=[],this.code=31209,this.description="Reconnect attempt is not authorized.",this.explanation="",this.name="ReconnectAttemptError",this.solutions=[],Object.setPrototypeOf(this,t.ReconnectAttemptError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:p;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.ReconnectAttemptError=a;class c extends Ke{constructor(h,p){super(h,p),this.causes=["The Call Message Event Type is invalid and is not understood by Twilio Voice."],this.code=31210,this.description="Call Message Event Type is invalid.",this.explanation="The Call Message Event Type is invalid and is not understood by Twilio Voice.",this.name="CallMessageEventTypeInvalidError",this.solutions=["Ensure the Call Message Event Type is Valid and understood by Twilio Voice and try again."],Object.setPrototypeOf(this,t.CallMessageEventTypeInvalidError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:p;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.CallMessageEventTypeInvalidError=c;class u extends Ke{constructor(h,p){super(h,p),this.causes=["The payload size of Call Message Event exceeds the authorized limit."],this.code=31212,this.description="Call Message Event Payload size exceeded authorized limit.",this.explanation="The request performed to send a Call Message Event exceeds the payload size authorized limit",this.name="PayloadSizeExceededError",this.solutions=["Reduce payload size of Call Message Event to be within the authorized limit and try again."],Object.setPrototypeOf(this,t.PayloadSizeExceededError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:p;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.PayloadSizeExceededError=u})(pn||(pn={}));var su;(function(t){class e extends Ke{constructor(i,o){super(i,o),this.causes=["The user denied the getUserMedia request.","The browser denied the getUserMedia request."],this.code=31401,this.description="UserMedia Permission Denied Error",this.explanation="The browser or end-user denied permissions to user media. Therefore we were unable to acquire input audio.",this.name="PermissionDeniedError",this.solutions=["The user should accept the request next time prompted. If the browser saved the deny, the user should change that permission in their browser.","The user should to verify that the browser has permission to access the microphone at this address."],Object.setPrototypeOf(this,t.PermissionDeniedError.prototype);const s=typeof i=="string"?i:this.explanation,a=typeof i=="object"?i:o;this.message=`${this.name} (${this.code}): ${s}`,this.originalError=a}}t.PermissionDeniedError=e;class n extends Ke{constructor(i,o){super(i,o),this.causes=["NotFoundError - The deviceID specified was not found.","The getUserMedia constraints were overconstrained and no devices matched."],this.code=31402,this.description="UserMedia Acquisition Failed Error",this.explanation="The browser and end-user allowed permissions, however getting the media failed. Usually this is due to bad constraints, but can sometimes fail due to browser, OS or hardware issues.",this.name="AcquisitionFailedError",this.solutions=["Ensure the deviceID being specified exists.","Try acquiring media with fewer constraints."],Object.setPrototypeOf(this,t.AcquisitionFailedError.prototype);const s=typeof i=="string"?i:this.explanation,a=typeof i=="object"?i:o;this.message=`${this.name} (${this.code}): ${s}`,this.originalError=a}}t.AcquisitionFailedError=n})(su||(su={}));var ei;(function(t){class e extends Ke{constructor(i,o){super(i,o),this.causes=[],this.code=53e3,this.description="Signaling connection error",this.explanation="Raised whenever a signaling connection error occurs that is not covered by a more specific error code.",this.name="ConnectionError",this.solutions=[],Object.setPrototypeOf(this,t.ConnectionError.prototype);const s=typeof i=="string"?i:this.explanation,a=typeof i=="object"?i:o;this.message=`${this.name} (${this.code}): ${s}`,this.originalError=a}}t.ConnectionError=e;class n extends Ke{constructor(i,o){super(i,o),this.causes=["The device running your application lost its Internet connection."],this.code=53001,this.description="Signaling connection disconnected",this.explanation="Raised whenever the signaling connection is unexpectedly disconnected.",this.name="ConnectionDisconnected",this.solutions=["Ensure the device running your application has access to a stable Internet connection."],Object.setPrototypeOf(this,t.ConnectionDisconnected.prototype);const s=typeof i=="string"?i:this.explanation,a=typeof i=="object"?i:o;this.message=`${this.name} (${this.code}): ${s}`,this.originalError=a}}t.ConnectionDisconnected=n})(ei||(ei={}));var Xi;(function(t){class e extends Ke{constructor(o,s){super(o,s),this.causes=["The Client may not be using a supported WebRTC implementation.","The Client may not have the necessary resources to create or apply a new media description."],this.code=53400,this.description="Client is unable to create or apply a local media description",this.explanation="Raised whenever a Client is unable to create or apply a local media description.",this.name="ClientLocalDescFailed",this.solutions=["If you are experiencing this error using the JavaScript SDK, ensure you are running it with a supported WebRTC implementation."],Object.setPrototypeOf(this,t.ClientLocalDescFailed.prototype);const a=typeof o=="string"?o:this.explanation,c=typeof o=="object"?o:s;this.message=`${this.name} (${this.code}): ${a}`,this.originalError=c}}t.ClientLocalDescFailed=e;class n extends Ke{constructor(o,s){super(o,s),this.causes=["The Client may not be using a supported WebRTC implementation.","The Client may be connecting peer-to-peer with another Participant that is not using a supported WebRTC implementation.","The Client may not have the necessary resources to apply a new media description."],this.code=53402,this.description="Client is unable to apply a remote media description",this.explanation="Raised whenever the Client receives a remote media description but is unable to apply it.",this.name="ClientRemoteDescFailed",this.solutions=["If you are experiencing this error using the JavaScript SDK, ensure you are running it with a supported WebRTC implementation."],Object.setPrototypeOf(this,t.ClientRemoteDescFailed.prototype);const a=typeof o=="string"?o:this.explanation,c=typeof o=="object"?o:s;this.message=`${this.name} (${this.code}): ${a}`,this.originalError=c}}t.ClientRemoteDescFailed=n;class r extends Ke{constructor(o,s){super(o,s),this.causes=["The Client was unable to establish a media connection.","A media connection which was active failed liveliness checks."],this.code=53405,this.description="Media connection failed",this.explanation="Raised by the Client or Server whenever a media connection fails.",this.name="ConnectionError",this.solutions=["If the problem persists, try connecting to another region.","Check your Client's network connectivity.","If you've provided custom ICE Servers then ensure that the URLs and credentials are valid."],Object.setPrototypeOf(this,t.ConnectionError.prototype);const a=typeof o=="string"?o:this.explanation,c=typeof o=="object"?o:s;this.message=`${this.name} (${this.code}): ${a}`,this.originalError=c}}t.ConnectionError=r})(Xi||(Xi={}));const sA=new Map([[20101,pn.AccessTokenInvalid],[20104,pn.AccessTokenExpired],[20151,pn.AuthenticationFailed],[31202,oT.AccessTokenSignatureValidationFailed],[31400,Ua.BadRequest],[31404,Ua.NotFound],[31480,Ua.TemporarilyUnavailable],[31486,Ua.BusyHere],[31603,sT.Decline],[31e3,Vn.UnknownError],[31001,Vn.ApplicationNotFoundError],[31002,Vn.ConnectionDeclinedError],[31003,Vn.ConnectionTimeoutError],[31005,Vn.ConnectionError],[31008,Vn.CallCancelledError],[31009,Vn.TransportError],[31100,So.MalformedRequestError],[31101,So.MissingParameterArrayError],[31102,So.AuthorizationTokenMissingError],[31103,So.MaxParameterLengthExceededError],[31104,So.InvalidBridgeTokenError],[31105,So.InvalidClientNameError],[31107,So.ReconnectParameterInvalidError],[31201,pn.AuthorizationError],[31203,pn.NoValidAccountError],[31204,pn.InvalidJWTTokenError],[31205,pn.JWTTokenExpiredError],[31206,pn.RateExceededError],[31207,pn.JWTTokenExpirationTooLongError],[31209,pn.ReconnectAttemptError],[31210,pn.CallMessageEventTypeInvalidError],[31212,pn.PayloadSizeExceededError],[31401,su.PermissionDeniedError],[31402,su.AcquisitionFailedError],[53e3,ei.ConnectionError],[53001,ei.ConnectionDisconnected],[53400,Xi.ClientLocalDescFailed],[53402,Xi.ClientRemoteDescFailed],[53405,Xi.ConnectionError]]);Object.freeze(sA);const foe=new Set([31001,31002,31003,31101,31102,31103,31104,31105,31107,31201,31202,31203,31204,31205,31207,31404,31480,31486,31603]);function aT(t,e){if(!(typeof e!="number"||!poe(e)||!(t||!foe.has(e))))return hoe(e)}class pt extends Error{constructor(e){super(e),this.name="InvalidArgumentError"}}class bi extends Error{constructor(e){super(e),this.name="InvalidStateError"}}class En extends Error{constructor(e){super(e),this.name="NotSupportedError"}}function hoe(t){const e=sA.get(t);if(!e)throw new pt(`Error code ${t} not found`);return e}function poe(t){return sA.has(t)}const Zq="@twilio/voice-sdk",Mc="2.17.0",aA="https://sdk.twilio.com/js/client/sounds/releases/1.0.0",moe=`${aA}/cowbell.mp3?cache=${Mc}`,goe=2e4;class gn{static getLogLevelInstance(e){if(!gn.loglevelInstance)try{gn.loglevelInstance=(e&&e.LogLevelModule?e.LogLevelModule:doe).getLogger(Zq)}catch{console.warn("Cannot create custom logger"),gn.loglevelInstance=console}return gn.loglevelInstance}constructor(e,n){this._log=gn.getLogLevelInstance(n),this._prefix=`[TwilioVoice][${e}]`}debug(...e){this._log.debug(this._prefix,...e)}error(...e){this._log.error(this._prefix,...e)}info(...e){this._log.info(this._prefix,...e)}setDefaultLevel(e){this._log.setDefaultLevel?this._log.setDefaultLevel(e):console.warn("Logger cannot setDefaultLevel")}warn(...e){this._log.warn(this._prefix,...e)}}gn.levels=Vf.levels;gn.getLogLevelInstance();const voe=`${aA}/outgoing.mp3`;class GI{constructor(e,n,r,i){this._name=e,this._availableDevices=n,this._beforeChange=r,this._isSupported=i,this._activeDevices=new Set,this._log=new gn("OutputDeviceCollection")}delete(e){this._log.debug(".delete",e);const n=!!this._activeDevices.delete(e),r=this._availableDevices.get("default")||Array.from(this._availableDevices.values())[0];!this._activeDevices.size&&r&&this._activeDevices.add(r);const i=Array.from(this._activeDevices.values()).map(o=>o.deviceId);return this._beforeChange(this._name,i),!!n}get(){return this._activeDevices}set(e){if(this._log.debug(".set",e),!this._isSupported)return Promise.reject(new En("This browser does not support audio output selection"));const n=Array.isArray(e)?e:[e];if(!n.length)return Promise.reject(new pt("Must specify at least one device to set"));const r=[],i=n.map(o=>{const s=this._availableDevices.get(o);return s||r.push(o),s});return r.length?Promise.reject(new pt(`Devices not found: ${r.join(", ")}`)):new Promise(o=>{o(this._beforeChange(this._name,n))}).then(()=>{this._activeDevices.clear(),i.forEach(this._activeDevices.add,this._activeDevices)})}test(e=voe){return this._isSupported?this._activeDevices.size?Promise.all(Array.from(this._activeDevices).map(n=>{let r;return new Promise(i=>{r=new Audio(e),r.oncanplay=i}).then(()=>r.setSinkId(n.deviceId).then(()=>r.play()))})):Promise.reject(new bi("No active output devices to test")):Promise.reject(new En("This browser does not support audio output selection"))}}class yoe{constructor(e){Object.defineProperties(this,{deviceId:{get(){return e.deviceId}},groupId:{get(){return e.groupId}},kind:{get(){return e.kind}},label:{get(){return e.label}}})}}function Ug(t){if(!(this instanceof Ug))return new Ug(t);this.message=t}Ug.prototype.toString=function(){return`Twilio.Exception: ${this.message}`};function Ef(t){return t&&t.length?t.reduce((e,n)=>e+n)/t.length:0}function lA(t,e,n){n=n||(i=>i);const r=new Set(e.map(n));return t.filter(i=>!r.has(n(i)))}function e6(t){return!!t.userAgent.match("Electron")}function cA(t,e){const n=!!e.userAgent.match("CriOS"),r=!!e.userAgent.match("HeadlessChrome"),i=typeof t.chrome<"u"&&e.vendor==="Google Inc."&&e.userAgent.indexOf("OPR")===-1&&e.userAgent.indexOf("Edge")===-1;return n||e6(e)||i||r}function boe(t){return t=t||(typeof window>"u"?global.navigator:window.navigator),!!t&&typeof t.userAgent=="string"&&/firefox|fxios/i.test(t.userAgent)}function ly(t){return t=t||(typeof window>"u"?global.navigator:window.navigator),!!t&&typeof t.userAgent=="string"&&/edge\/\d+/i.test(t.userAgent)}function woe(t){return!!t.vendor&&t.vendor.indexOf("Apple")!==-1&&t.userAgent&&t.userAgent.indexOf("CriOS")===-1&&t.userAgent.indexOf("FxiOS")===-1}function t6(t){return t?t.split("&").reduce((e,n)=>{const r=n.split("="),i=r[0],o=decodeURIComponent((r[1]||"").replace(/\+/g,"%20"));return i&&(e[i]=o),e},{}):""}function lT(t,e){const n=t instanceof Map||t instanceof Set?Array.from(t.values()):t;return e=e||(r=>r),n.reduce((r,i)=>{const o=e(i);return r.concat(o)},[])}function cT(t,e,n){return new Promise((r,i)=>{function o(){t.removeListener(n,s),r()}function s(){t.removeListener(e,o),i()}t.once(e,o),t.once(n,s)})}function n6(t,e){const n=e.map(r=>"audio/"+r.toLowerCase());return t.sort((r,i)=>{const o=n.indexOf(r.mimeType.toLowerCase()),s=n.indexOf(i.mimeType.toLowerCase()),a=o>=0?o:Number.MAX_VALUE,c=s>=0?s:Number.MAX_VALUE;return a-c})}const xoe=Ug,r6=Object.freeze(Object.defineProperty({__proto__:null,Exception:xoe,average:Ef,difference:lA,flatMap:lT,isChrome:cA,isElectron:e6,isFirefox:boe,isLegacyEdge:ly,isSafari:woe,promisifyEvents:cT,queryToJson:t6,sortByMimeTypes:n6},Symbol.toStringTag,{value:"Module"})),_oe={audioinput:"Audio Input",audiooutput:"Audio Output"};class uT extends ni.EventEmitter{get audioConstraints(){return this._audioConstraints}get inputDevice(){return this._inputDevice}get inputStream(){return this._localProcessedStream||this._selectedInputDeviceStream}get processedStream(){return this._log.warn("AudioHelper#processedStream is deprecated. Please use AudioHelper#localProcessedStream instead."),this._localProcessedStream}get localProcessedStream(){return this._localProcessedStream}get remoteProcessedStream(){return this._remoteProcessedStream}constructor(e,n,r){super(),this.availableInputDevices=new Map,this.availableOutputDevices=new Map,this._audioConstraints=null,this._defaultInputDeviceStream=null,this._enabledSounds={[_e.SoundName.Disconnect]:!0,[_e.SoundName.Incoming]:!0,[_e.SoundName.Outgoing]:!0},this._inputDevice=null,this._inputDevicePromise=null,this._isPollingInputVolume=!1,this._log=new gn("AudioHelper"),this._localProcessedStream=null,this._remoteProcessedStream=null,this._selectedInputDeviceStream=null,this._unknownDeviceIndexes={audioinput:{},audiooutput:{}},this._updateAvailableDevices=()=>!this._mediaDevices||!this._enumerateDevices?Promise.reject("Enumeration not supported"):this._enumerateDevices().then(a=>{this._updateDevices(a.filter(u=>u.kind==="audiooutput"),this.availableOutputDevices,this._removeLostOutput),this._updateDevices(a.filter(u=>u.kind==="audioinput"),this.availableInputDevices,this._removeLostInput);const c=this.availableOutputDevices.get("default")||Array.from(this.availableOutputDevices.values())[0];[this.speakerDevices,this.ringtoneDevices].forEach(u=>{!u.get().size&&this.availableOutputDevices.size&&this.isOutputSelectionSupported&&u.set(c.deviceId).catch(f=>{this._log.warn(`Unable to set audio output devices. ${f}`)})})}),this._removeLostInput=a=>{if(!this.inputDevice||this.inputDevice.deviceId!==a.deviceId)return!1;this._destroyLocalProcessedStream(),this._replaceStream(null),this._inputDevice=null,this._maybeStopPollingVolume();const c=this.availableInputDevices.get("default")||Array.from(this.availableInputDevices.values())[0];return c&&this.setInputDevice(c.deviceId),!0},this._removeLostOutput=a=>{const c=this.speakerDevices.delete(a),u=this.ringtoneDevices.delete(a);return c||u},r=Object.assign({AudioContext:typeof AudioContext<"u"&&AudioContext,setSinkId:typeof HTMLAudioElement<"u"&&HTMLAudioElement.prototype.setSinkId},r),this._beforeSetInputDevice=r.beforeSetInputDevice||(()=>Promise.resolve()),this._updateUserOptions(r),this._audioProcessorEventObserver=r.audioProcessorEventObserver,this._mediaDevices=r.mediaDevices||navigator.mediaDevices,this._onActiveInputChanged=n,this._enumerateDevices=typeof r.enumerateDevices=="function"?r.enumerateDevices:this._mediaDevices&&this._mediaDevices.enumerateDevices.bind(this._mediaDevices);const i=!!(r.AudioContext||r.audioContext),o=!!this._enumerateDevices;r.enabledSounds&&(this._enabledSounds=r.enabledSounds);const s=typeof r.setSinkId=="function";this.isOutputSelectionSupported=o&&s,this.isVolumeSupported=i,this.isVolumeSupported&&(this._audioContext=r.audioContext||r.AudioContext&&new r.AudioContext,this._audioContext&&(this._inputVolumeAnalyser=this._audioContext.createAnalyser(),this._inputVolumeAnalyser.fftSize=32,this._inputVolumeAnalyser.smoothingTimeConstant=.3)),this.ringtoneDevices=new GI("ringtone",this.availableOutputDevices,e,this.isOutputSelectionSupported),this.speakerDevices=new GI("speaker",this.availableOutputDevices,e,this.isOutputSelectionSupported),this.addListener("newListener",a=>{a==="inputVolume"&&this._maybeStartPollingVolume()}),this.addListener("removeListener",a=>{a==="inputVolume"&&this._maybeStopPollingVolume()}),this.once("newListener",()=>{this.isOutputSelectionSupported||this._log.warn("Warning: This browser does not support audio output selection."),this.isVolumeSupported||this._log.warn("Warning: This browser does not support Twilio's volume indicator feature.")}),o&&this._initializeEnumeration(),navigator&&navigator.permissions&&typeof navigator.permissions.query=="function"?navigator.permissions.query({name:"microphone"}).then(a=>{if(a.state!=="granted"){const c=()=>{this._updateAvailableDevices(),this._stopMicrophonePermissionListener()};a.addEventListener("change",c),this._microphonePermissionStatus=a,this._onMicrophonePermissionStatusChanged=c}}).catch(a=>this._log.warn(`Warning: unable to listen for microphone permission changes. ${a}`)):this._log.warn("Warning: current browser does not support permissions API.")}_destroy(){this._stopDefaultInputDeviceStream(),this._stopSelectedInputDeviceStream(),this._destroyLocalProcessedStream(),this._destroyRemoteProcessedStream(),this._maybeStopPollingVolume(),this.removeAllListeners(),this._stopMicrophonePermissionListener(),this._unbind()}_destroyRemoteProcessedStream(){if(this._remoteProcessor&&this._remoteProcessedStream){this._log.info("destroying remote processed stream");const e=this._remoteProcessedStream;this._remoteProcessedStream.getTracks().forEach(n=>n.stop()),this._remoteProcessedStream=null,this._remoteProcessor.destroyProcessedStream(e),this._audioProcessorEventObserver.emit("destroy",!0)}}_getInputDevicePromise(){return this._inputDevicePromise}_getAudioProcessorEventObserver(){return this._audioProcessorEventObserver}_maybeCreateRemoteProcessedStream(e){return this._remoteProcessor?(this._log.info("Creating remote processed stream"),this._remoteProcessor.createProcessedStream(e).then(n=>(this._remoteProcessedStream=n,this._audioProcessorEventObserver.emit("create",!0),this._remoteProcessedStream))):Promise.resolve(e)}_maybeStartPollingVolume(){if(!this.isVolumeSupported||!this.inputStream||(this._updateVolumeSource(),this._isPollingInputVolume||!this._inputVolumeAnalyser))return;const e=this._inputVolumeAnalyser.frequencyBinCount,n=new Uint8Array(e);this._isPollingInputVolume=!0;const r=()=>{if(this._isPollingInputVolume){if(this._inputVolumeAnalyser){this._inputVolumeAnalyser.getByteFrequencyData(n);const i=Ef(n);this.emit("inputVolume",i/255)}requestAnimationFrame(r)}};requestAnimationFrame(r)}_maybeStopPollingVolume(){this.isVolumeSupported&&(!this._isPollingInputVolume||this.inputStream&&this.listenerCount("inputVolume")||(this._inputVolumeSource&&(this._inputVolumeSource.disconnect(),delete this._inputVolumeSource),this._isPollingInputVolume=!1))}_openDefaultDeviceWithConstraints(e){return this._log.info("Opening default device with constraints",e),this._getUserMedia(e).then(n=>(this._log.info("Opened default device. Updating available devices."),this._updateAvailableDevices().catch(r=>{this._log.warn("Unable to updateAvailableDevices after gUM call",r)}),this._defaultInputDeviceStream=n,this._maybeCreateLocalProcessedStream(n)))}_stopDefaultInputDeviceStream(){this._defaultInputDeviceStream&&(this._log.info("stopping default device stream"),this._defaultInputDeviceStream.getTracks().forEach(e=>e.stop()),this._defaultInputDeviceStream=null,this._destroyLocalProcessedStream())}_unbind(){var e;!((e=this._mediaDevices)===null||e===void 0)&&e.removeEventListener&&this._mediaDevices.removeEventListener("devicechange",this._updateAvailableDevices)}_updateUserOptions(e){typeof e.enumerateDevices=="function"&&(this._enumerateDevices=e.enumerateDevices),typeof e.getUserMedia=="function"&&(this._getUserMedia=e.getUserMedia)}addProcessor(e,n=!1){if(this._log.debug(".addProcessor"),this._localProcessor&&!n)throw new En("Can only have one Local AudioProcessor at a time.");if(this._remoteProcessor&&n)throw new En("Can only have one Remote AudioProcessor at a time.");if(typeof e!="object"||e===null)throw new pt("Missing AudioProcessor argument.");if(typeof e.createProcessedStream!="function")throw new pt("Missing createProcessedStream() method.");if(typeof e.destroyProcessedStream!="function")throw new pt("Missing destroyProcessedStream() method.");return n?(this._remoteProcessor=e,this._audioProcessorEventObserver.emit("add",!0),Promise.resolve()):(this._localProcessor=e,this._audioProcessorEventObserver.emit("add",!1),this._restartInputStreams())}disconnect(e){return this._log.debug(".disconnect",e),this._maybeEnableSound(_e.SoundName.Disconnect,e)}incoming(e){return this._log.debug(".incoming",e),this._maybeEnableSound(_e.SoundName.Incoming,e)}outgoing(e){return this._log.debug(".outgoing",e),this._maybeEnableSound(_e.SoundName.Outgoing,e)}removeProcessor(e,n=!1){if(this._log.debug(".removeProcessor"),typeof e!="object"||e===null)throw new pt("Missing AudioProcessor argument.");if(this._localProcessor!==e&&!n)throw new pt("Cannot remove a Local AudioProcessor that has not been previously added.");if(this._remoteProcessor!==e&&n)throw new pt("Cannot remove a Remote AudioProcessor that has not been previously added.");return n?(this._destroyRemoteProcessedStream(),this._remoteProcessor=null,this._audioProcessorEventObserver.emit("remove",!0),Promise.resolve()):(this._destroyLocalProcessedStream(),this._localProcessor=null,this._audioProcessorEventObserver.emit("remove",!1),this._restartInputStreams())}setAudioConstraints(e){return this._log.debug(".setAudioConstraints",e),this._audioConstraints=Object.assign({},e),delete this._audioConstraints.deviceId,this.inputDevice?this._setInputDevice(this.inputDevice.deviceId,!0):Promise.resolve()}setInputDevice(e){return this._log.debug(".setInputDevice",e),this._setInputDevice(e,!1)}unsetAudioConstraints(){return this._log.debug(".unsetAudioConstraints"),this._audioConstraints=null,this.inputDevice?this._setInputDevice(this.inputDevice.deviceId,!0):Promise.resolve()}unsetInputDevice(){return this._log.debug(".unsetInputDevice",this.inputDevice),this.inputDevice?(this._destroyLocalProcessedStream(),this._onActiveInputChanged(null).then(()=>{this._replaceStream(null),this._inputDevice=null,this._maybeStopPollingVolume()})):Promise.resolve()}_destroyLocalProcessedStream(){if(this._localProcessor&&this._localProcessedStream){this._log.info("destroying local processed stream");const e=this._localProcessedStream;this._localProcessedStream.getTracks().forEach(n=>n.stop()),this._localProcessedStream=null,this._localProcessor.destroyProcessedStream(e),this._audioProcessorEventObserver.emit("destroy",!1)}}_getUnknownDeviceIndex(e){const n=e.deviceId,r=e.kind;let i=this._unknownDeviceIndexes[r][n];return i||(i=Object.keys(this._unknownDeviceIndexes[r]).length+1,this._unknownDeviceIndexes[r][n]=i),i}_initializeEnumeration(){if(!this._mediaDevices||!this._enumerateDevices)throw new En("Enumeration is not supported");this._mediaDevices.addEventListener&&this._mediaDevices.addEventListener("devicechange",this._updateAvailableDevices),this._updateAvailableDevices().then(()=>{this.isOutputSelectionSupported&&Promise.all([this.speakerDevices.set("default"),this.ringtoneDevices.set("default")]).catch(e=>{this._log.warn(`Warning: Unable to set audio output devices. ${e}`)})})}_maybeCreateLocalProcessedStream(e){return this._localProcessor?(this._log.info("Creating local processed stream"),this._localProcessor.createProcessedStream(e).then(n=>(this._localProcessedStream=n,this._audioProcessorEventObserver.emit("create",!1),this._localProcessedStream))):Promise.resolve(e)}_maybeEnableSound(e,n){return typeof n<"u"&&(this._enabledSounds[e]=n),this._enabledSounds[e]}_replaceStream(e){this._log.info("Replacing with new stream."),this._selectedInputDeviceStream&&(this._log.info("Old stream detected. Stopping tracks."),this._stopSelectedInputDeviceStream()),this._selectedInputDeviceStream=e}_restartInputStreams(){if(this.inputDevice&&this._selectedInputDeviceStream)return this._log.info("Restarting selected input device"),this._setInputDevice(this.inputDevice.deviceId,!0);if(this._defaultInputDeviceStream){const e=this.availableInputDevices.get("default")||Array.from(this.availableInputDevices.values())[0];return this._log.info("Restarting default input device, now becoming selected."),this._setInputDevice(e.deviceId,!0)}return Promise.resolve()}_setInputDevice(e,n){return ve(this,void 0,void 0,function*(){const r=()=>ve(this,void 0,void 0,function*(){if(yield this._beforeSetInputDevice(),typeof e!="string")return Promise.reject(new pt("Must specify the device to set"));const i=this.availableInputDevices.get(e);if(!i)return Promise.reject(new pt(`Device not found: ${e}`));if(this._log.info("Setting input device. ID: "+e),this._inputDevice&&this._inputDevice.deviceId===e&&this._selectedInputDeviceStream){if(!n)return Promise.resolve();this._log.info("Same track detected on setInputDevice, stopping old tracks."),this._stopSelectedInputDeviceStream()}this._stopDefaultInputDeviceStream();const o={audio:Object.assign({deviceId:{exact:e}},this.audioConstraints)};return this._log.info("setInputDevice: getting new tracks."),this._getUserMedia(o).then(s=>(this._destroyLocalProcessedStream(),this._maybeCreateLocalProcessedStream(s).then(a=>(this._log.info("setInputDevice: invoking _onActiveInputChanged."),this._onActiveInputChanged(a).then(()=>{this._replaceStream(s),this._inputDevice=i,this._maybeStartPollingVolume()})))))});return this._inputDevicePromise=r().finally(()=>{this._inputDevicePromise=null})})}_stopMicrophonePermissionListener(){var e;!((e=this._microphonePermissionStatus)===null||e===void 0)&&e.removeEventListener&&this._microphonePermissionStatus.removeEventListener("change",this._onMicrophonePermissionStatusChanged)}_stopSelectedInputDeviceStream(){this._selectedInputDeviceStream&&(this._log.info("Stopping selected device stream"),this._selectedInputDeviceStream.getTracks().forEach(e=>e.stop()))}_updateDevices(e,n,r){const i=e.map(u=>u.deviceId),o=Array.from(n.values()).map(u=>u.deviceId),s=[],a=lA(o,i);a.forEach(u=>{const f=n.get(u);f&&(n.delete(u),r(f)&&s.push(f))});let c=!1;if(e.forEach(u=>{const f=n.get(u.deviceId),h=this._wrapMediaDeviceInfo(u);(!f||f.label!==h.label)&&(n.set(u.deviceId,h),c=!0)}),c||a.length){const u="default",f=this.inputDevice&&this.inputDevice.deviceId===u,h=this._defaultInputDeviceStream&&this.availableInputDevices.get(u);(f||h)&&(this._log.warn("Calling getUserMedia after device change to ensure that the           tracks of the active device (default) have not gone stale."),setTimeout(()=>{this._setInputDevice(u,!0)},0)),this._log.debug("#deviceChange",s),this.emit("deviceChange",s)}}_updateVolumeSource(){if(!(!this.inputStream||!this._audioContext||!this._inputVolumeAnalyser)){this._inputVolumeSource&&this._inputVolumeSource.disconnect();try{this._inputVolumeSource=this._audioContext.createMediaStreamSource(this.inputStream),this._inputVolumeSource.connect(this._inputVolumeAnalyser)}catch(e){this._log.warn("Unable to update volume source",e),delete this._inputVolumeSource}}}_wrapMediaDeviceInfo(e){const n={deviceId:e.deviceId,groupId:e.groupId,kind:e.kind,label:e.label};if(!n.label)if(n.deviceId==="default")n.label="Default";else{const r=this._getUnknownDeviceIndex(e);n.label=`Unknown ${_oe[n.kind]} Device ${r}`}return new yoe(n)}}uT||(uT={});var Soe=uT;class Poe extends ni.EventEmitter{constructor(){super(),this._log=new gn("AudioProcessorEventObserver"),this._log.info("Creating AudioProcessorEventObserver instance"),this.on("enabled",e=>this._reEmitEvent("enabled",e)),this.on("add",e=>this._reEmitEvent("add",e)),this.on("remove",e=>this._reEmitEvent("remove",e)),this.on("create",e=>this._reEmitEvent("create-processed-stream",e)),this.on("destroy",e=>this._reEmitEvent("destroy-processed-stream",e))}destroy(){this.removeAllListeners()}_reEmitEvent(e,n){this._log.info(`${n?"Remote":"Local"} AudioProcessor:${e}`),this.emit("event",{name:e,group:"audio-processor",isRemote:n})}}const Toe={dtmf0:[1360,960],dtmf1:[1230,720],dtmf2:[1360,720],dtmf3:[1480,720],dtmf4:[1230,790],dtmf5:[1360,790],dtmf6:[1480,790],dtmf7:[1230,870],dtmf8:[1360,870],dtmf9:[1480,870],dtmfh:[1480,960],dtmfs:[1230,960]};class Eoe{constructor(e){this._context=e,this._gainNodes=[],this._gainNodes=[this._context.createGain(),this._context.createGain()],this._gainNodes.forEach(n=>{n.connect(this._context.destination),n.gain.value=.1,this._gainNodes.push(n)})}cleanup(){this._gainNodes.forEach(e=>{e.disconnect()})}play(e){const n=Toe[e];if(!n)throw new pt("Invalid DTMF sound name");[this._context.createOscillator(),this._context.createOscillator()].forEach((i,o)=>{i.type="sine",i.frequency.value=n[o],i.connect(this._gainNodes[o]),i.start(),i.stop(this._context.currentTime+.1),i.addEventListener("ended",()=>i.disconnect())})}}function Coe(t,e,n){const r=JSON.stringify(e.body||{}),i=new Headers;e.headers=e.headers||[],Object.entries(e.headers).forEach(([o,s])=>i.append(o,s)),fetch(e.url,{body:r,headers:i,method:t}).then(o=>o.text(),n).then(o=>n(null,o),n)}const uA=Coe;uA.get=function(e,n){return new this("GET",e,n)};uA.post=function(e,n){return new this("POST",e,n)};class ir extends ni.EventEmitter{constructor(e,n,r){if(super(),!(this instanceof ir))return new ir(e,n,r);r=Object.assign({defaultPayload(){return{}}},r);let i=r.defaultPayload;typeof i!="function"&&(i=()=>Object.assign({},r.defaultPayload));let o=!0;const s=Object.assign({app_name:void 0,app_version:void 0},r.metadata);Object.defineProperties(this,{_defaultPayload:{value:i},_host:{value:r.host,writable:!0},_isEnabled:{get(){return o},set(a){o=a}},_log:{value:new gn("EventPublisher")},_request:{value:r.request||uA,writable:!0},_token:{value:n,writable:!0},isEnabled:{enumerable:!0,get(){return o}},metadata:{enumerable:!0,get(){return s}},productName:{enumerable:!0,value:e},token:{enumerable:!0,get(){return this._token}}})}}ir.prototype._post=function(e,n,r,i,o,s,a){if(!this.isEnabled&&!a||!this._host)return this._log.debug("Publishing cancelled",JSON.stringify({isEnabled:this.isEnabled,force:a,host:this._host})),Promise.resolve();if(!s||(!s.parameters||!s.parameters.CallSid)&&!s.outboundConnectionId)return s?this._log.debug("Publishing cancelled. Missing connection info",JSON.stringify({outboundConnectionId:s.outboundConnectionId,parameters:s.parameters})):this._log.debug("Publishing cancelled. Missing connection object"),Promise.resolve();const c={group:r,level:n.toUpperCase(),name:i,payload:o&&o.forEach?o.slice(0):Object.assign(this._defaultPayload(s),o),payload_type:"application/json",private:!1,publisher:this.productName,timestamp:new Date().toISOString()};this.metadata&&(c.publisher_metadata=this.metadata),e==="EndpointEvents"&&this._log.debug("Publishing insights",JSON.stringify({endpointName:e,event:c,force:a,host:this._host}));const u={body:c,headers:{"Content-Type":"application/json","X-Twilio-Token":this.token},url:`https://${this._host}/v4/${e}`};return new Promise((f,h)=>{this._request.post(u,p=>{p?(this.emit("error",p),h(p)):f()})}).catch(f=>{this._log.error(`Unable to post ${r} ${i} event to Insights. Received error: ${f}`)})};ir.prototype.post=function(e,n,r,i,o,s){return this._post("EndpointEvents",e,n,r,i,o,s)};ir.prototype.debug=function(e,n,r,i){return this.post("debug",e,n,r,i)};ir.prototype.info=function(e,n,r,i){return this.post("info",e,n,r,i)};ir.prototype.warn=function(e,n,r,i){return this.post("warning",e,n,r,i)};ir.prototype.error=function(e,n,r,i){return this.post("error",e,n,r,i)};ir.prototype.postMetrics=function(e,n,r,i,o){return new Promise(s=>{const a=r.map(Aoe).map(c=>Object.assign(c,i));s(this._post("EndpointMetrics","info",e,n,a,o))})};ir.prototype.setHost=function(e){this._host=e};ir.prototype.setToken=function(e){this._token=e};ir.prototype.enable=function(){this._isEnabled=!0};ir.prototype.disable=function(){this._isEnabled=!1};function Aoe(t){return{audio_codec:t.codecName,audio_level_in:t.audioInputLevel,audio_level_out:t.audioOutputLevel,bytes_received:t.bytesReceived,bytes_sent:t.bytesSent,call_volume_input:t.inputVolume,call_volume_output:t.outputVolume,jitter:t.jitter,mos:t.mos&&Math.round(t.mos*100)/100,packets_lost:t.packetsLost,packets_lost_fraction:t.packetsLostFraction&&Math.round(t.packetsLostFraction*100)/100,packets_received:t.packetsReceived,rtt:t.rtt,timestamp:new Date(t.timestamp).toISOString(),total_bytes_received:t.totals.bytesReceived,total_bytes_sent:t.totals.bytesSent,total_packets_lost:t.totals.packetsLost,total_packets_received:t.totals.packetsReceived,total_packets_sent:t.totals.packetsSent}}const KI=32767,YI=typeof window<"u"?window.RTCStatsReport:void 0;function Ci(t){if(!(this instanceof Ci))return new Ci(t);const e=this;Object.defineProperties(this,{_map:{value:t},size:{enumerable:!0,get(){return e._map.size}}}),this[Symbol.iterator]=t[Symbol.iterator]}YI&&(Ci.prototype=Object.create(YI.prototype),Ci.prototype.constructor=Ci);["entries","forEach","get","has","keys","values"].forEach(t=>{Ci.prototype[t]=function(...e){return this._map[t](...e)}});Ci.fromArray=function(e){return new Ci(e.reduce((n,r)=>(n.set(r.id,r),n),new Map))};Ci.fromRTCStatsResponse=function(e){let n;const r=new Map,i=e.result().reduce((o,s)=>{const a=s.id;switch(s.type){case"googCertificate":o.set(a,Ioe(s));break;case"datachannel":o.set(a,Moe(s));break;case"googCandidatePair":o6(s,"googActiveConnection")&&(n=a),o.set(a,Noe(s));break;case"localcandidate":o.set(a,QI(s,!1));break;case"remotecandidate":o.set(a,QI(s,!0));break;case"ssrc":il(s,"packetsReceived")?o.set(`rtp-${a}`,joe(s)):o.set(`rtp-${a}`,Roe(s)),o.set(`track-${a}`,koe(s)),o.set(`codec-${a}`,Ooe(s));break;case"googComponent":const c=XI(s);r.set(c.selectedCandidatePairId,a),o.set(a,XI(s));break}return o},new Map);if(n){const o=r.get(n);o&&(i.get(o).dtlsState="connected")}return new Ci(i)};function XI(t){return{bytesReceived:void 0,bytesSent:void 0,dtlsState:void 0,id:t.id,localCertificateId:t.stat("localCertificateId"),remoteCertificateId:t.stat("remoteCertificateId"),rtcpTransportStatsId:void 0,selectedCandidatePairId:t.stat("selectedCandidatePairId"),timestamp:Date.parse(t.timestamp),type:"transport"}}function Ooe(t){return{channels:void 0,clockRate:void 0,id:t.id,implementation:void 0,mimeType:`${t.stat("mediaType")}/${t.stat("googCodecName")}`,payloadType:void 0,sdpFmtpLine:void 0,timestamp:Date.parse(t.timestamp),type:"codec"}}function koe(t){return{audioLevel:il(t,"audioOutputLevel")?bt(t,"audioOutputLevel")/KI:(bt(t,"audioInputLevel")||0)/KI,detached:void 0,echoReturnLoss:fT(t,"googEchoCancellationReturnLoss"),echoReturnLossEnhancement:fT(t,"googEchoCancellationReturnLossEnhancement"),ended:void 0,frameHeight:il(t,"googFrameHeightReceived")?bt(t,"googFrameHeightReceived"):bt(t,"googFrameHeightSent"),frameWidth:il(t,"googFrameWidthReceived")?bt(t,"googFrameWidthReceived"):bt(t,"googFrameWidthSent"),framesCorrupted:void 0,framesDecoded:bt(t,"framesDecoded"),framesDropped:void 0,framesPerSecond:void 0,framesReceived:void 0,framesSent:bt(t,"framesEncoded"),fullFramesLost:void 0,id:t.id,kind:t.stat("mediaType"),partialFramesLost:void 0,remoteSource:void 0,ssrcIds:void 0,timestamp:Date.parse(t.timestamp),trackIdentifier:t.stat("googTrackId"),type:"track"}}function i6(t,e){return{associateStatsId:void 0,codecId:`codec-${t.id}`,firCount:e?bt(t,"googFirsSent"):void 0,id:t.id,isRemote:void 0,mediaType:t.stat("mediaType"),nackCount:e?bt(t,"googNacksSent"):bt(t,"googNacksReceived"),pliCount:e?bt(t,"googPlisSent"):bt(t,"googPlisReceived"),qpSum:bt(t,"qpSum"),sliCount:void 0,ssrc:t.stat("ssrc"),timestamp:Date.parse(t.timestamp),trackId:`track-${t.id}`,transportId:t.stat("transportId")}}function joe(t){const e=i6(t,!0);return Object.assign(e,{burstDiscardCount:void 0,burstDiscardRate:void 0,burstLossCount:void 0,burstLossRate:void 0,burstPacketsDiscarded:void 0,burstPacketsLost:void 0,bytesReceived:bt(t,"bytesReceived"),fractionLost:void 0,framesDecoded:bt(t,"framesDecoded"),gapDiscardRate:void 0,gapLossRate:void 0,jitter:dT(t.stat("googJitterReceived")),packetsDiscarded:void 0,packetsLost:bt(t,"packetsLost"),packetsReceived:bt(t,"packetsReceived"),packetsRepaired:void 0,roundTripTime:dT(t.stat("googRtt")),type:"inbound-rtp"}),e}function Roe(t){const e=i6(t,!1);return Object.assign(e,{bytesSent:bt(t,"bytesSent"),framesEncoded:bt(t,"framesEncoded"),packetsSent:bt(t,"packetsSent"),remoteTimestamp:void 0,targetBitrate:void 0,type:"outbound-rtp"}),e}function QI(t,e){return{candidateType:Doe(t.stat("candidateType")),deleted:void 0,id:t.id,ip:t.stat("ipAddress"),isRemote:e,port:bt(t,"portNumber"),priority:fT(t,"priority"),protocol:t.stat("transport"),relayProtocol:void 0,timestamp:Date.parse(t.timestamp),transportId:void 0,type:e?"remote-candidate":"local-candidate",url:void 0}}function Noe(t){return{availableIncomingBitrate:void 0,availableOutgoingBitrate:void 0,bytesReceived:bt(t,"bytesReceived"),bytesSent:bt(t,"bytesSent"),consentRequestsSent:bt(t,"consentRequestsSent"),currentRoundTripTime:dT(t.stat("googRtt")),id:t.id,lastPacketReceivedTimestamp:void 0,lastPacketSentTimestamp:void 0,localCandidateId:t.stat("localCandidateId"),nominated:void 0,priority:void 0,readable:void 0,remoteCandidateId:t.stat("remoteCandidateId"),requestsReceived:bt(t,"requestsReceived"),requestsSent:bt(t,"requestsSent"),responsesReceived:bt(t,"responsesReceived"),responsesSent:bt(t,"responsesSent"),retransmissionsReceived:void 0,retransmissionsSent:void 0,state:void 0,timestamp:Date.parse(t.timestamp),totalRoundTripTime:void 0,transportId:t.stat("googChannelId"),type:"candidate-pair",writable:o6(t,"googWritable")}}function Ioe(t){return{base64Certificate:t.stat("googDerBase64"),fingerprint:t.stat("googFingerprint"),fingerprintAlgorithm:t.stat("googFingerprintAlgorithm"),id:t.id,issuerCertificateId:t.stat("googIssuerId"),timestamp:Date.parse(t.timestamp),type:"certificate"}}function Moe(t){return{bytesReceived:void 0,bytesSent:void 0,datachannelid:t.stat("datachannelid"),id:t.id,label:t.stat("label"),messagesReceived:void 0,messagesSent:void 0,protocol:t.stat("protocol"),state:t.stat("state"),timestamp:Date.parse(t.timestamp),transportId:t.stat("transportId"),type:"data-channel"}}function dT(t){return isNaN(t)||t===""?void 0:parseInt(t,10)/1e3}function Doe(t){switch(t){case"peerreflexive":return"prflx";case"serverreflexive":return"srflx";case"host":case"relay":default:return t}}function bt(t,e){const n=t.stat(e);return il(t,e)?parseInt(n,10):void 0}function fT(t,e){const n=t.stat(e);return il(t,e)?parseFloat(n):void 0}function o6(t,e){const n=t.stat(e);return il(t,e)?n==="true"||n===!0:void 0}function il(t,e){const n=t.stat(e);return typeof n<"u"&&n!==""}const $oe="PeerConnection is null",Loe="WebRTC statistics are unsupported";function cc(t,e){return typeof t.get=="function"?t.get(e):t.find(n=>n.id===e)}function s6(t){if(!t)return Promise.reject(new pt($oe));if(typeof t.getStats!="function")return Promise.reject(new En(Loe));let e;try{e=t.getStats()}catch{e=new Promise(r=>t.getStats(r)).then(Ci.fromRTCStatsResponse)}return e}function Foe(t,e){return e=Object.assign({createRTCSample:qoe},e),s6(t).then(e.createRTCSample)}function Boe(t){return s6(t).then(e=>{const{candidatePairs:n,localCandidates:r,remoteCandidates:i,transport:o}=Array.from(e.values()).reduce((c,u)=>{switch(["candidatePairs","localCandidates","remoteCandidates"].forEach(f=>{c[f]||(c[f]=[])}),u.type){case"candidate-pair":c.candidatePairs.push(u);break;case"local-candidate":c.localCandidates.push(u);break;case"remote-candidate":c.remoteCandidates.push(u);break;case"transport":u.selectedCandidatePairId&&(c.transport=u);break}return c},{}),s=n.find(c=>c.selected||o&&c.id===o.selectedCandidatePairId);let a;return s&&(a={localCandidate:r.find(c=>c.id===s.localCandidateId),remoteCandidate:i.find(c=>c.id===s.remoteCandidateId)}),{iceCandidateStats:[...r,...i],selectedIceCandidatePairStats:a}})}function Uoe(){}function qoe(t){let e=null;const n=new Uoe;let r;Array.from(t.values()).forEach(c=>{if(c.isRemote)return;const u=c.type.replace("-","");if(r=r||c.timestamp,c.remoteId){const f=cc(t,c.remoteId);f&&f.roundTripTime&&(n.rtt=f.roundTripTime*1e3)}switch(u){case"inboundrtp":n.timestamp=n.timestamp||c.timestamp,n.jitter=c.jitter*1e3,n.packetsLost=c.packetsLost,n.packetsReceived=c.packetsReceived,n.bytesReceived=c.bytesReceived;break;case"outboundrtp":if(n.timestamp=c.timestamp,n.packetsSent=c.packetsSent,n.bytesSent=c.bytesSent,c.codecId){const f=cc(t,c.codecId);n.codecName=f?f.mimeType&&f.mimeType.match(/(.*\/)?(.*)/)[2]:c.codecId}break;case"transport":e=c.id;break}}),n.timestamp||(n.timestamp=r);const i=cc(t,e);if(!i)return n;const o=cc(t,i.selectedCandidatePairId);if(!o)return n;const s=cc(t,o.localCandidateId),a=cc(t,o.remoteCandidateId);return n.rtt||(n.rtt=o&&o.currentRoundTripTime*1e3),Object.assign(n,{localAddress:s&&(s.address||s.ip),remoteAddress:a&&(a.address||a.ip)}),n}class $t extends ni.EventEmitter{constructor(e,n){super(),this._hasInsightsErrored=!1,this._log=new gn("PreflightTest"),this._networkTiming={},this._options={codecPreferences:[xe.Codec.PCMU,xe.Codec.Opus],edge:"roaming",fakeMicInput:!1,logLevel:"error",signalingTimeoutMs:1e4},this._status=$t.Status.Connecting,Object.assign(this._options,n),this._samples=[],this._warnings=[],this._startTime=Date.now(),this._initDevice(e,Object.assign(Object.assign({},this._options),{fileInputStream:this._options.fakeMicInput?this._getStreamFromFile():void 0}));const r=["codecPreferences","edge","fakeMicInput","logLevel","signalingTimeoutMs"],i=["audioContext","deviceFactory","fileInputStream","getRTCIceCandidateStatsReport","iceServers","rtcConfiguration"];if(typeof n=="object"){const o=Object.assign({},n);Object.keys(o).forEach(s=>{!r.includes(s)&&!i.includes(s)&&delete o[s],i.includes(s)&&(o[s]=!0)}),this._log.debug(".constructor",JSON.stringify(o))}}stop(){this._log.debug(".stop");const e=new Vn.CallCancelledError;this._device?(this._device.once(_e.EventName.Unregistered,()=>this._onFailed(e)),this._device.destroy()):this._onFailed(e)}_emitWarning(e,n,r){const i={name:e,description:n};r&&(i.rtcWarning=r),this._warnings.push(i),this._log.debug(`#${$t.Events.Warning}`,JSON.stringify(i)),this.emit($t.Events.Warning,i)}_getCallQuality(e){return e>4.2?$t.CallQuality.Excellent:e>=4.1&&e<=4.2?$t.CallQuality.Great:e>=3.7&&e<=4?$t.CallQuality.Good:e>=3.1&&e<=3.6?$t.CallQuality.Fair:$t.CallQuality.Degraded}_getReport(){var e,n,r;const i=this._getRTCStats(),o={start:this._startTime};this._endTime&&(o.end=this._endTime,o.duration=this._endTime-this._startTime);const s={callSid:this._callSid,edge:this._edge,iceCandidateStats:(n=(e=this._rtcIceCandidateStatsReport)===null||e===void 0?void 0:e.iceCandidateStats)!==null&&n!==void 0?n:[],networkTiming:this._networkTiming,samples:this._samples,selectedEdge:this._options.edge,stats:i,testTiming:o,totals:this._getRTCSampleTotals(),warnings:this._warnings},a=(r=this._rtcIceCandidateStatsReport)===null||r===void 0?void 0:r.selectedIceCandidatePairStats;return a&&(s.selectedIceCandidatePairStats=a,s.isTurnRequired=a.localCandidate.candidateType==="relay"||a.remoteCandidate.candidateType==="relay"),i&&(s.callQuality=this._getCallQuality(i.mos.average)),s}_getRTCSampleTotals(){if(this._latestSample)return Object.assign({},this._latestSample.totals)}_getRTCStats(){const e=this._samples.findIndex(r=>typeof r.mos=="number"&&r.mos>0),n=e>=0?this._samples.slice(e):[];if(!(!n||!n.length))return["jitter","mos","rtt"].reduce((r,i)=>{const o=n.map(s=>s[i]);return Object.assign(Object.assign({},r),{[i]:{average:Number((o.reduce((s,a)=>s+a)/o.length).toPrecision(5)),max:Math.max(...o),min:Math.min(...o)}})},{})}_getStreamFromFile(){const e=this._options.audioContext;if(!e)throw new En("Cannot fake input audio stream: AudioContext is not supported by this browser.");const n=new Audio(moe);n.addEventListener("canplaythrough",()=>n.play()),typeof n.setAttribute=="function"&&n.setAttribute("crossorigin","anonymous");const r=e.createMediaElementSource(n),i=e.createMediaStreamDestination();return r.connect(i),i.stream}_initDevice(e,n){try{this._device=new(n.deviceFactory||_e)(e,{chunderw:n.chunderw,codecPreferences:n.codecPreferences,edge:n.edge,eventgw:n.eventgw,fileInputStream:n.fileInputStream,logLevel:n.logLevel,preflight:!0}),this._device.once(_e.EventName.Registered,()=>{this._onDeviceRegistered()}),this._device.once(_e.EventName.Error,r=>{this._onDeviceError(r)}),this._device.register()}catch(r){setTimeout(()=>{this._onFailed(r)});return}this._signalingTimeoutTimer=setTimeout(()=>{this._onDeviceError(new ei.ConnectionError("WebSocket Connection Timeout"))},n.signalingTimeoutMs)}_onDeviceError(e){this._device.destroy(),this._onFailed(e)}_onDeviceRegistered(){return ve(this,void 0,void 0,function*(){if(clearTimeout(this._echoTimer),clearTimeout(this._signalingTimeoutTimer),this._call=yield this._device.connect({rtcConfiguration:this._options.rtcConfiguration}),this._networkTiming.signaling={start:Date.now()},this._setupCallHandlers(this._call),this._edge=this._device.edge||void 0,this._options.fakeMicInput){this._echoTimer=setTimeout(()=>this._device.disconnectAll(),goe);const n=this._device.audio;n&&(n.disconnect(!1),n.outgoing(!1))}this._call.once("disconnect",()=>{this._device.once(_e.EventName.Unregistered,()=>this._onUnregistered()),this._device.destroy()}),this._call._publisher.on("error",()=>{this._hasInsightsErrored||this._emitWarning("insights-connection-error","Received an error when attempting to connect to Insights gateway"),this._hasInsightsErrored=!0})})}_onFailed(e){clearTimeout(this._echoTimer),clearTimeout(this._signalingTimeoutTimer),this._releaseHandlers(),this._endTime=Date.now(),this._status=$t.Status.Failed,this._log.debug(`#${$t.Events.Failed}`,e),this.emit($t.Events.Failed,e)}_onUnregistered(){setTimeout(()=>{this._status!==$t.Status.Failed&&(clearTimeout(this._echoTimer),clearTimeout(this._signalingTimeoutTimer),this._releaseHandlers(),this._endTime=Date.now(),this._status=$t.Status.Completed,this._report=this._getReport(),this._log.debug(`#${$t.Events.Completed}`,JSON.stringify(this._report)),this.emit($t.Events.Completed,this._report))},10)}_releaseHandlers(){[this._device,this._call].forEach(e=>{e&&e.eventNames().forEach(n=>e.removeAllListeners(n))})}_setupCallHandlers(e){this._options.fakeMicInput&&e.once("volume",()=>{e._mediaHandler.outputs.forEach(n=>n.audio.muted=!0)}),e.on("warning",(n,r)=>{this._emitWarning(n,"Received an RTCWarning. See .rtcWarning for the RTCWarning",r)}),e.once("accept",()=>{this._callSid=e._mediaHandler.callSid,this._status=$t.Status.Connected,this._log.debug(`#${$t.Events.Connected}`),this.emit($t.Events.Connected)}),e.on("sample",n=>ve(this,void 0,void 0,function*(){this._latestSample||(this._rtcIceCandidateStatsReport=yield(this._options.getRTCIceCandidateStatsReport||Boe)(e._mediaHandler.version.pc)),this._latestSample=n,this._samples.push(n),this._log.debug(`#${$t.Events.Sample}`,JSON.stringify(n)),this.emit($t.Events.Sample,n)})),[{reportLabel:"peerConnection",type:"pcconnection"},{reportLabel:"ice",type:"iceconnection"},{reportLabel:"dtls",type:"dtlstransport"},{reportLabel:"signaling",type:"signaling"}].forEach(({type:n,reportLabel:r})=>{const i=`on${n}statechange`,o=e._mediaHandler[i];e._mediaHandler[i]=s=>{const a=this._networkTiming[r]=this._networkTiming[r]||{start:0};s==="connecting"||s==="checking"?a.start=Date.now():(s==="connected"||s==="stable")&&!a.duration&&(a.end=Date.now(),a.duration=a.end-a.start),o(s)}})}get callSid(){return this._callSid}get endTime(){return this._endTime}get latestSample(){return this._latestSample}get report(){return this._report}get startTime(){return this._startTime}get status(){return this._status}}(function(t){(function(e){e.Excellent="excellent",e.Great="great",e.Good="good",e.Fair="fair",e.Degraded="degraded"})(t.CallQuality||(t.CallQuality={})),(function(e){e.Completed="completed",e.Connected="connected",e.Failed="failed",e.Sample="sample",e.Warning="warning"})(t.Events||(t.Events={})),(function(e){e.Connecting="connecting",e.Connected="connected",e.Completed="completed",e.Failed="failed"})(t.Status||(t.Status={}))})($t||($t={}));const xc=globalThis.WebSocket,Voe=1e4,Woe=5e3,JI=15e3,zoe=15e3,Hoe=1/0,Goe=1e3,Koe=2e4;var Cr;(function(t){t.Connecting="connecting",t.Closed="closed",t.Open="open"})(Cr||(Cr={}));class cy extends ni.EventEmitter{constructor(e,n={}){super(),this.state=Cr.Closed,this._backoffStartTime={preferred:null,primary:null},this._connectedUri=null,this._log=new gn("WSTransport"),this._shouldFallback=!1,this._uriIndex=0,this._moveUriIndex=()=>{this._uriIndex++,this._uriIndex>=this._uris.length&&(this._uriIndex=0)},this._onSocketClose=r=>{if(this._log.error(`Received websocket close event code: ${r.code}. Reason: ${r.reason}`),r.code===1006||r.code===1015){this.emit("error",{code:31005,message:r.reason||"Websocket connection to Twilio's signaling servers were unexpectedly ended. If this is happening consistently, there may be an issue resolving the hostname provided. If a region or an edge is being specified in Device setup, ensure it is valid.",twilioError:new ei.ConnectionError});const i=this.state===Cr.Open||this._previousState===Cr.Open;(this._shouldFallback||!i)&&this._moveUriIndex(),this._shouldFallback=!0}this._closeSocket()},this._onSocketError=r=>{this._log.error(`WebSocket received error: ${r.message}`),this.emit("error",{code:31e3,message:r.message||"WSTransport socket error",twilioError:new ei.ConnectionDisconnected})},this._onSocketMessage=r=>{if(this._setHeartbeatTimeout(),this._socket&&r.data===`
`){this._socket.send(`
`),this._log.debug("heartbeat");return}r&&typeof r.data=="string"&&this._log.debug(`Received: ${r.data}`),this.emit("message",r)},this._onSocketOpen=()=>{this._log.info("WebSocket opened successfully."),this._timeOpened=Date.now(),this._shouldFallback=!1,this._setState(Cr.Open),clearTimeout(this._connectTimeout),this._resetBackoffs(),this._setHeartbeatTimeout(),this.emit("open")},this._options=Object.assign(Object.assign({},cy.defaultConstructorOptions),n),this._uris=e,this._backoff=this._setupBackoffs()}close(){this._log.info("WSTransport.close() called..."),this._close()}open(){if(this._log.info("WSTransport.open() called..."),this._socket&&(this._socket.readyState===xc.CONNECTING||this._socket.readyState===xc.OPEN)){this._log.info("WebSocket already open.");return}this._preferredUri?this._connect(this._preferredUri):this._connect(this._uris[this._uriIndex])}send(e){if(this._log.debug(`Sending: ${e}`),!this._socket||this._socket.readyState!==xc.OPEN)return this._log.debug("Cannot send message. WebSocket is not open."),!1;try{this._socket.send(e)}catch(n){return this._log.error("Error while sending message:",n.message),this._closeSocket(),!1}return!0}updatePreferredURI(e){this._preferredUri=e}updateURIs(e){typeof e=="string"&&(e=[e]),this._uris=e,this._uriIndex=0}_close(){this._setState(Cr.Closed),this._closeSocket()}_closeSocket(){if(clearTimeout(this._connectTimeout),clearTimeout(this._heartbeatTimeout),this._log.info("Closing and cleaning up WebSocket..."),!this._socket){this._log.info("No WebSocket to clean up.");return}this._socket.removeEventListener("close",this._onSocketClose),this._socket.removeEventListener("error",this._onSocketError),this._socket.removeEventListener("message",this._onSocketMessage),this._socket.removeEventListener("open",this._onSocketOpen),(this._socket.readyState===xc.CONNECTING||this._socket.readyState===xc.OPEN)&&this._socket.close(),this._timeOpened&&Date.now()-this._timeOpened>Voe&&this._resetBackoffs(),this.state!==Cr.Closed&&this._performBackoff(),delete this._socket,this.emit("close")}_connect(e,n){this._log.info(typeof n=="number"?`Attempting to reconnect (retry #${n})...`:"Attempting to connect..."),this._closeSocket(),this._setState(Cr.Connecting),this._connectedUri=e;try{this._socket=new this._options.WebSocket(this._connectedUri)}catch(r){this._log.error("Could not connect to endpoint:",r.message),this._close(),this.emit("error",{code:31e3,message:r.message||`Could not connect to ${this._connectedUri}`,twilioError:new ei.ConnectionDisconnected});return}this._socket.addEventListener("close",this._onSocketClose),this._socket.addEventListener("error",this._onSocketError),this._socket.addEventListener("message",this._onSocketMessage),this._socket.addEventListener("open",this._onSocketOpen),delete this._timeOpened,this._connectTimeout=setTimeout(()=>{this._log.info("WebSocket connection attempt timed out."),this._moveUriIndex(),this._closeSocket()},this._options.connectTimeoutMs)}_performBackoff(){this._preferredUri?(this._log.info("Preferred URI set; backing off."),this._backoff.preferred.backoff()):(this._log.info("Preferred URI not set; backing off."),this._backoff.primary.backoff())}_resetBackoffs(){this._backoff.preferred.reset(),this._backoff.primary.reset(),this._backoffStartTime.preferred=null,this._backoffStartTime.primary=null}_setHeartbeatTimeout(){clearTimeout(this._heartbeatTimeout),this._heartbeatTimeout=setTimeout(()=>{this._log.info(`No messages received in ${JI/1e3} seconds. Reconnecting...`),this._shouldFallback=!0,this._closeSocket()},JI)}_setState(e){this._previousState=this.state,this.state=e}_setupBackoffs(){const e={factor:2,jitter:.4,max:this._options.maxPreferredDelayMs,min:100};this._log.info("Initializing preferred transport backoff using config: ",e);const n=new iT(e);n.on("backoff",(o,s)=>{if(this.state===Cr.Closed){this._log.info("Preferred backoff initiated but transport state is closed; not attempting a connection.");return}this._log.info(`Will attempt to reconnect Websocket to preferred URI in ${s}ms`),o===0&&(this._backoffStartTime.preferred=Date.now(),this._log.info(`Preferred backoff start; ${this._backoffStartTime.preferred}`))}),n.on("ready",(o,s)=>{if(this.state===Cr.Closed){this._log.info("Preferred backoff ready but transport state is closed; not attempting a connection.");return}if(this._backoffStartTime.preferred===null){this._log.info("Preferred backoff start time invalid; not attempting a connection.");return}if(Date.now()-this._backoffStartTime.preferred>this._options.maxPreferredDurationMs){this._log.info("Max preferred backoff attempt time exceeded; falling back to primary backoff."),this._preferredUri=null,this._backoff.primary.backoff();return}if(typeof this._preferredUri!="string"){this._log.info("Preferred URI cleared; falling back to primary backoff."),this._preferredUri=null,this._backoff.primary.backoff();return}this._connect(this._preferredUri,o+1)});const r={factor:2,jitter:.4,max:this._options.maxPrimaryDelayMs,min:this._uris&&this._uris.length>1?Math.floor(Math.random()*4001)+1e3:100};this._log.info("Initializing primary transport backoff using config: ",r);const i=new iT(r);return i.on("backoff",(o,s)=>{if(this.state===Cr.Closed){this._log.info("Primary backoff initiated but transport state is closed; not attempting a connection.");return}this._log.info(`Will attempt to reconnect WebSocket in ${s}ms`),o===0&&(this._backoffStartTime.primary=Date.now(),this._log.info(`Primary backoff start; ${this._backoffStartTime.primary}`))}),i.on("ready",(o,s)=>{if(this.state===Cr.Closed){this._log.info("Primary backoff ready but transport state is closed; not attempting a connection.");return}if(this._backoffStartTime.primary===null){this._log.info("Primary backoff start time invalid; not attempting a connection.");return}if(Date.now()-this._backoffStartTime.primary>this._options.maxPrimaryDurationMs){this._log.info("Max primary backoff attempt time exceeded; not attempting a connection.");return}this._connect(this._uris[this._uriIndex],o+1)}),{preferred:n,primary:i}}get uri(){return this._connectedUri}}cy.defaultConstructorOptions={WebSocket:xc,connectTimeoutMs:Woe,maxPreferredDelayMs:Goe,maxPreferredDurationMs:zoe,maxPrimaryDelayMs:Koe,maxPrimaryDurationMs:Hoe};const Yoe="1.6",Xoe=30;class Rt extends ni.EventEmitter{constructor(e,n,r){if(super(),!(this instanceof Rt))return new Rt(e,n,r);const i={TransportFactory:cy};r=r||{};for(const s in i)s in r||(r[s]=i[s]);this.options=r,this.token=e||"",this.status="disconnected",this.gateway=null,this.region=null,this._messageQueue=[],this._preferredUri=null,this._uris=n,this._handleTransportClose=this._handleTransportClose.bind(this),this._handleTransportError=this._handleTransportError.bind(this),this._handleTransportMessage=this._handleTransportMessage.bind(this),this._handleTransportOpen=this._handleTransportOpen.bind(this),this._log=new gn("PStream"),this.on("error",()=>{this._log.warn("Unexpected error handled in pstream")});const o=this;return this.addListener("ready",()=>{o.status="ready"}),this.addListener("offline",()=>{o.status="offline"}),this.addListener("close",()=>{o._log.info('Received "close" from server. Destroying PStream...'),o._destroy()}),this.transport=new this.options.TransportFactory(this._uris,{backoffMaxMs:this.options.backoffMaxMs,maxPreferredDurationMs:this.options.maxPreferredDurationMs}),Object.defineProperties(this,{uri:{enumerable:!0,get(){return this.transport.uri}}}),this.transport.on("close",this._handleTransportClose),this.transport.on("error",this._handleTransportError),this.transport.on("message",this._handleTransportMessage),this.transport.on("open",this._handleTransportOpen),this.transport.open(),this}}Rt.prototype._handleTransportClose=function(){this.emit("transportClose"),this.status!=="disconnected"&&(this.status!=="offline"&&this.emit("offline",this),this.status="disconnected")};Rt.prototype._handleTransportError=function(t){if(!t){this.emit("error",{error:{code:31e3,message:"Websocket closed without a provided reason",twilioError:new ei.ConnectionDisconnected}});return}this.emit("error",typeof t.code<"u"?{error:t}:t)};Rt.prototype._handleTransportMessage=function(t){if(!t||!t.data||typeof t.data!="string")return;const{type:e,payload:n={}}=JSON.parse(t.data);this.gateway=n.gateway||this.gateway,this.region=n.region||this.region,e==="error"&&n.error&&(n.error.twilioError=new ei.ConnectionError),this.emit(e,n)};Rt.prototype._handleTransportOpen=function(){this.status="connected",this.setToken(this.token),this.emit("transportOpen"),this._messageQueue.splice(0,this._messageQueue.length).forEach(e=>this._publish(...e))};Rt.toString=()=>"[Twilio.PStream class]";Rt.prototype.toString=()=>"[Twilio.PStream instance]";Rt.prototype.setToken=function(t){this._log.info("Setting token and publishing listen"),this.token=t;let e=0;const n=this.options.maxPreferredDurationMs;this._log.info(`maxPreferredDurationMs:${n}`),typeof n=="number"&&n>=0&&(e=Math.min(Math.ceil(n/1e3),Xoe)),this._log.info(`reconnectTimeout:${e}`);const r={browserinfo:Qoe(),reconnectTimeout:e,token:t};this._publish("listen",r)};Rt.prototype.sendMessage=function(t,e,n="application/json",r,i){const o={callsid:t,content:e,contenttype:n,messagetype:r,voiceeventsid:i};this._publish("message",o,!0)};Rt.prototype.register=function(t){const e={media:t};this._publish("register",e,!0)};Rt.prototype.invite=function(t,e,n){const r={callsid:e,sdp:t,twilio:n?{params:n}:{}};this._publish("invite",r,!0)};Rt.prototype.reconnect=function(t,e,n){const r={callsid:e,reconnect:n,sdp:t,twilio:{}};this._publish("invite",r,!0)};Rt.prototype.answer=function(t,e){this._publish("answer",{sdp:t,callsid:e},!0)};Rt.prototype.dtmf=function(t,e){this._publish("dtmf",{callsid:t,dtmf:e},!0)};Rt.prototype.hangup=function(t,e){const n=e?{callsid:t,message:e}:{callsid:t};this._publish("hangup",n,!0)};Rt.prototype.reject=function(t){this._publish("reject",{callsid:t},!0)};Rt.prototype.reinvite=function(t,e){this._publish("reinvite",{sdp:t,callsid:e},!1)};Rt.prototype._destroy=function(){this.transport.removeListener("close",this._handleTransportClose),this.transport.removeListener("error",this._handleTransportError),this.transport.removeListener("message",this._handleTransportMessage),this.transport.removeListener("open",this._handleTransportOpen),this.transport.close(),this.emit("offline",this)};Rt.prototype.destroy=function(){return this._log.info("PStream.destroy() called..."),this._destroy(),this};Rt.prototype.updatePreferredURI=function(t){this._preferredUri=t,this.transport.updatePreferredURI(t)};Rt.prototype.updateURIs=function(t){this._uris=t,this.transport.updateURIs(this._uris)};Rt.prototype.publish=function(t,e){return this._publish(t,e,!0)};Rt.prototype._publish=function(t,e,n){const r=JSON.stringify({payload:e,type:t,version:Yoe});!!this.transport.send(r)||(this.emit("error",{error:{code:31009,message:"No transport available to send or receive messages",twilioError:new Vn.TransportError}}),n&&this._messageQueue.push([t,e,!0]))};function Qoe(){const t=typeof navigator<"u"?navigator:{};return{browser:{platform:t.platform||"unknown",userAgent:t.userAgent||"unknown"},p:"browser",plugin:"rtc",v:Mc}}var Wt;(function(t){t.Sydney="sydney",t.SaoPaulo="sao-paulo",t.Dublin="dublin",t.Frankfurt="frankfurt",t.Tokyo="tokyo",t.Singapore="singapore",t.Ashburn="ashburn",t.Umatilla="umatilla",t.Roaming="roaming",t.AshburnIx="ashburn-ix",t.SanJoseIx="san-jose-ix",t.LondonIx="london-ix",t.FrankfurtIx="frankfurt-ix",t.SingaporeIx="singapore-ix",t.SydneyIx="sydney-ix",t.TokyoIx="tokyo-ix"})(Wt||(Wt={}));var ht;(function(t){t.Au1="au1",t.Au1Ix="au1-ix",t.Br1="br1",t.De1="de1",t.De1Ix="de1-ix",t.Gll="gll",t.Ie1="ie1",t.Ie1Ix="ie1-ix",t.Ie1Tnx="ie1-tnx",t.Jp1="jp1",t.Jp1Ix="jp1-ix",t.Sg1="sg1",t.Sg1Ix="sg1-ix",t.Sg1Tnx="sg1-tnx",t.Us1="us1",t.Us1Ix="us1-ix",t.Us1Tnx="us1-tnx",t.Us2="us2",t.Us2Ix="us2-ix",t.Us2Tnx="us2-tnx"})(ht||(ht={}));const Joe={ASIAPAC_SINGAPORE:ht.Sg1,ASIAPAC_SYDNEY:ht.Au1,ASIAPAC_TOKYO:ht.Jp1,EU_FRANKFURT:ht.De1,EU_IRELAND:ht.Ie1,SOUTH_AMERICA_SAO_PAULO:ht.Br1,US_EAST_VIRGINIA:ht.Us1,US_WEST_OREGON:ht.Us2},Zoe={[ht.Au1]:Wt.Sydney,[ht.Br1]:Wt.SaoPaulo,[ht.Ie1]:Wt.Dublin,[ht.De1]:Wt.Frankfurt,[ht.Jp1]:Wt.Tokyo,[ht.Sg1]:Wt.Singapore,[ht.Us1]:Wt.Ashburn,[ht.Us2]:Wt.Umatilla,[ht.Gll]:Wt.Roaming,[ht.Us1Ix]:Wt.AshburnIx,[ht.Us2Ix]:Wt.SanJoseIx,[ht.Ie1Ix]:Wt.LondonIx,[ht.De1Ix]:Wt.FrankfurtIx,[ht.Sg1Ix]:Wt.SingaporeIx,[ht.Au1Ix]:Wt.SydneyIx,[ht.Jp1Ix]:Wt.TokyoIx,[ht.Us1Tnx]:Wt.AshburnIx,[ht.Us2Tnx]:Wt.AshburnIx,[ht.Ie1Tnx]:Wt.LondonIx,[ht.Sg1Tnx]:Wt.SingaporeIx},ese=Wt.Roaming,tse="eventgw.twilio.com";function ZI(t){return`voice-js.${t}.twilio.com`}function e2(t){return t?`eventgw.${t}.twilio.com`:tse}function t2(t){return`wss://${t}/signal`}function n2(t){if(t&&typeof t!="string"&&!Array.isArray(t))throw new pt("If `edge` is provided, it must be of type `string` or an array of strings.");let e;return t?e=(Array.isArray(t)?t:[t]).map(r=>ZI(r)):e=[ZI(ese)],e}function nse(t){return Joe[t]||null}const r2={0:"PCMU",8:"PCMA"},rse=111,ise=51e4,ose=6e3;function sse(t){const[,e,n]=/a=rtpmap:(\d+) (\S+)/m.exec(t)||[null,"",""],r=new RegExp(`a=fmtp:${e} (\\S+)`,"m"),[,i]=r.exec(t)||[null,""];return{codecName:n,codecParams:i}}function ase(t){return cA(window,window.navigator)?t.split(`
`).filter(e=>e.indexOf("a=ice-lite")===-1).join(`
`):t}function a6(t,e){if(typeof e!="number"||e<ose||e>ise)return t;const n=/a=rtpmap:(\d+) opus/m.exec(t),r=n&&n.length?n[1]:rse,i=new RegExp(`a=fmtp:${r}`);return t.split(`
`).map(s=>i.test(s)?s+`;maxaveragebitrate=${e}`:s).join(`
`)}function l6(t,e){const n=lse(t);return[t.split(`\r
m=`)[0]].concat(n.map(i=>{if(!/^m=(audio|video)/.test(i))return i;const o=i.match(/^m=(audio|video)/)[1],s=cse(i),a=use(s,e),c=dse(a,i),u=s.get("pcma")||[],f=s.get("pcmu")||[];return(o==="audio"?new Set(u.concat(f)):new Set).has(a[0])?c.replace(/\r\nb=(AS|TIAS):([0-9]+)/g,""):c})).join(`\r
`)}function lse(t,e,n){return t.replace(/\r\n\r\n$/,`\r
`).split(`\r
m=`).slice(1).map(r=>`m=${r}`).filter(r=>{const i=new RegExp("m=.*","gm"),o=new RegExp("a=.*","gm");return i.test(r)&&o.test(r)})}function cse(t){return Array.from(fse(t)).reduce((e,n)=>{const r=n[0],i=n[1],o=e.get(i)||[];return e.set(i,o.concat(r))},new Map)}function use(t,e){e=e.map(o=>o.toLowerCase());const n=lT(e,o=>t.get(o)||[]),r=lA(Array.from(t.keys()),e),i=lT(r,o=>t.get(o));return n.concat(i)}function dse(t,e){const n=e.split(`\r
`);let r=n[0];const i=n.slice(1);return r=r.replace(/([0-9]+\s?)+$/,t.join(" ")),[r].concat(i).join(`\r
`)}function fse(t){return hse(t).reduce((e,n)=>{const r=new RegExp(`a=rtpmap:${n} ([^/]+)`),i=t.match(r),o=i?i[1].toLowerCase():r2[n]?r2[n].toLowerCase():"";return e.set(n,o)},new Map)}function hse(t){const n=t.split(`\r
`)[0].match(/([0-9]+)/g);return n?n.slice(1).map(r=>parseInt(r,10)):[]}function Mr(t){if(this.log=new gn("RTCPC"),typeof window>"u"){this.log.info("No RTCPeerConnection implementation available. The window object was not found.");return}t&&t.RTCPeerConnection?this.RTCPeerConnection=t.RTCPeerConnection:typeof window.RTCPeerConnection=="function"?this.RTCPeerConnection=window.RTCPeerConnection:typeof window.webkitRTCPeerConnection=="function"?this.RTCPeerConnection=webkitRTCPeerConnection:typeof window.mozRTCPeerConnection=="function"?(this.RTCPeerConnection=mozRTCPeerConnection,window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate):this.log.info("No RTCPeerConnection implementation available")}Mr.prototype.create=function(t){this.pc=new this.RTCPeerConnection(t)};Mr.prototype.createModernConstraints=t=>{if(typeof t>"u")return null;const e=Object.assign({},t);return typeof webkitRTCPeerConnection<"u"&&!ly()?(e.mandatory={},typeof t.audio<"u"&&(e.mandatory.OfferToReceiveAudio=t.audio),typeof t.video<"u"&&(e.mandatory.OfferToReceiveVideo=t.video)):(typeof t.audio<"u"&&(e.offerToReceiveAudio=t.audio),typeof t.video<"u"&&(e.offerToReceiveVideo=t.video)),delete e.audio,delete e.video,e};Mr.prototype.createOffer=function(t,e,n,r){return e=this.createModernConstraints(e),u6(this.pc.createOffer,this.pc)(e).then(i=>{if(!this.pc)return Promise.resolve();const o=a6(i.sdp,t);return uy(this.pc.setLocalDescription,this.pc)(new RTCSessionDescription({sdp:o,type:"offer"}))}).then(n,r)};Mr.prototype.createAnswer=function(t,e,n,r){return e=this.createModernConstraints(e),u6(this.pc.createAnswer,this.pc)(e).then(i=>{if(!this.pc)return Promise.resolve();const o=a6(i.sdp,t);return uy(this.pc.setLocalDescription,this.pc)(new RTCSessionDescription({sdp:o,type:"answer"}))}).then(n,r)};Mr.prototype.processSDP=function(t,e,n,r,i,o){n=l6(n,e);const s=new RTCSessionDescription({sdp:n,type:"offer"});return uy(this.pc.setRemoteDescription,this.pc)(s).then(()=>{this.createAnswer(t,r,i,o)})};Mr.prototype.getSDP=function(){return this.pc.localDescription.sdp};Mr.prototype.processAnswer=function(t,e,n,r){return this.pc?(e=l6(e,t),uy(this.pc.setRemoteDescription,this.pc)(new RTCSessionDescription({sdp:e,type:"answer"})).then(n,r)):Promise.resolve()};Mr.test=()=>{if(typeof navigator=="object"){const t=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.getUserMedia;if(ly(navigator))return!1;if(t&&typeof window.RTCPeerConnection=="function")return!0;if(t&&typeof window.webkitRTCPeerConnection=="function")return!0;if(t&&typeof window.mozRTCPeerConnection=="function"){try{if(typeof new window.mozRTCPeerConnection().getLocalStreams!="function")return!1}catch{return!1}return!0}else if(typeof RTCIceGatherer<"u")return!0}return!1};function c6(t,e,n,r){return function(){const i=Array.prototype.slice.call(arguments);return new Promise(o=>{const s=t.apply(e,i);if(!r){o(s);return}if(typeof s=="object"&&typeof s.then=="function")o(s);else throw new Error}).catch(()=>new Promise((o,s)=>{t.apply(e,n?[o,s].concat(i):i.concat([o,s]))}))}}function u6(t,e){return c6(t,e,!0,!0)}function uy(t,e){return c6(t,e,!1,!1)}const pse=15e3,mse="none",gse="timeout",vse="new",i2=50;function Fe(t,e,n){if(!t||!e)throw new pt("Audiohelper, and pstream are required arguments");if(!(this instanceof Fe))return new Fe(t,e,n);this._log=new gn("PeerConnection");function r(){this._log.warn("Unexpected noop call in peerconnection")}this.onaudio=r,this.onopen=r,this.onerror=r,this.onclose=r,this.ondisconnected=r,this.onfailed=r,this.onconnected=r,this.onreconnected=r,this.onsignalingstatechange=r,this.ondtlstransportstatechange=r,this.onicegatheringfailure=r,this.onicegatheringstatechange=r,this.oniceconnectionstatechange=r,this.onpcconnectionstatechange=r,this.onicecandidate=r,this.onselectedcandidatepairchange=r,this.onvolume=r,this.version=null,this.pstream=e,this.stream=null,this.sinkIds=new Set(["default"]),this.outputs=new Map,this.status="connecting",this.callSid=null,this.isMuted=!1;const i=typeof window<"u"&&(window.AudioContext||window.webkitAudioContext);return this._isSinkSupported=!!i&&typeof HTMLAudioElement<"u"&&HTMLAudioElement.prototype.setSinkId,this._audioContext=i&&t._audioContext,this._audioHelper=t,this._audioProcessorEventObserver=t._getAudioProcessorEventObserver(),this._hasIceCandidates=!1,this._hasIceGatheringFailures=!1,this._iceGatheringTimeoutId=null,this._masterAudio=null,this._masterAudioDeviceId=null,this._mediaStreamSource=null,this._dtmfSender=null,this._dtmfSenderUnsupported=!1,this._callEvents=[],this._nextTimeToPublish=Date.now(),this._onAnswerOrRinging=r,this._onHangup=r,this._remoteStream=null,this._shouldManageStream=!0,this._iceState=vse,this.options=n=n||{},this.navigator=n.navigator||(typeof navigator<"u"?navigator:null),this.util=n.util||r6,this.codecPreferences=n.codecPreferences,this._onAudioProcessorAdded=o=>{this._handleAudioProcessorEvent(o,!0)},this._onAudioProcessorRemoved=o=>{this._handleAudioProcessorEvent(o,!1)},this._audioProcessorEventObserver.on("add",this._onAudioProcessorAdded),this._audioProcessorEventObserver.on("remove",this._onAudioProcessorRemoved),this}Fe.prototype.uri=function(){return this._uri};Fe.prototype.openDefaultDeviceWithConstraints=function(t){return this._audioHelper._openDefaultDeviceWithConstraints(t).then(this._setInputTracksFromStream.bind(this,!1))};Fe.prototype.setInputTracksFromStream=function(t){const e=this;return this._setInputTracksFromStream(!0,t).then(()=>{e._shouldManageStream=!1})};Fe.prototype._createAnalyser=(t,e)=>{e=Object.assign({fftSize:32,smoothingTimeConstant:.3},e);const n=t.createAnalyser();for(const r in e)n[r]=e[r];return n};Fe.prototype._setVolumeHandler=function(t){this.onvolume=t};Fe.prototype._startPollingVolume=function(){if(!this._audioContext||!this.stream||!this._remoteStream)return;const t=this._audioContext,n=(this._inputAnalyser=this._createAnalyser(t)).frequencyBinCount,r=new Uint8Array(n);this._inputAnalyser2=this._createAnalyser(t,{maxDecibels:0,minDecibels:-127,smoothingTimeConstant:0});const o=(this._outputAnalyser=this._createAnalyser(t)).frequencyBinCount,s=new Uint8Array(o);this._outputAnalyser2=this._createAnalyser(t,{maxDecibels:0,minDecibels:-127,smoothingTimeConstant:0}),this._updateInputStreamSource(this.stream),this._updateOutputStreamSource(this._remoteStream);const a=this;setTimeout(function c(){if(a._audioContext){if(a.status==="closed"){a._inputAnalyser.disconnect(),a._outputAnalyser.disconnect(),a._inputAnalyser2.disconnect(),a._outputAnalyser2.disconnect();return}}else return;a._inputAnalyser.getByteFrequencyData(r);const u=a.util.average(r);a._inputAnalyser2.getByteFrequencyData(r);const f=a.util.average(r);a._outputAnalyser.getByteFrequencyData(s);const h=a.util.average(s);a._outputAnalyser2.getByteFrequencyData(s);const p=a.util.average(s);a.onvolume(u/255,h/255,f,p),setTimeout(c,i2)},i2)};Fe.prototype._stopStream=function(){this._shouldManageStream&&this._audioHelper._stopDefaultInputDeviceStream()};Fe.prototype._updateInputStreamSource=function(t){this._inputStreamSource&&this._inputStreamSource.disconnect();try{this._inputStreamSource=this._audioContext.createMediaStreamSource(t),this._inputStreamSource.connect(this._inputAnalyser),this._inputStreamSource.connect(this._inputAnalyser2)}catch(e){this._log.warn("Unable to update input MediaStreamSource",e),this._inputStreamSource=null}};Fe.prototype._updateOutputStreamSource=function(t){this._outputStreamSource&&this._outputStreamSource.disconnect();try{this._outputStreamSource=this._audioContext.createMediaStreamSource(t),this._outputStreamSource.connect(this._outputAnalyser),this._outputStreamSource.connect(this._outputAnalyser2)}catch(e){this._log.warn("Unable to update output MediaStreamSource",e),this._outputStreamSource=null}};Fe.prototype._setInputTracksFromStream=function(t,e){if(!e)return Promise.reject(new pt("Can not set input stream to null while in a call"));if(!e.getAudioTracks().length)return Promise.reject(new pt("Supplied input stream has no audio tracks"));const n=this.stream,r=()=>(this.mute(this.isMuted),Promise.resolve(this.stream));if(!n)this.stream=t?o2(e,this.options.MediaStream):e;else return this._shouldManageStream&&this._stopStream(),this._sender||(this._sender=this.version.pc.getSenders()[0]),this._sender.replaceTrack(e.getAudioTracks()[0]).then(()=>(this._updateInputStreamSource(e),this.stream=t?o2(e,this.options.MediaStream):e,r()));return r()};Fe.prototype._onInputDevicesChanged=function(){if(!this.stream)return;this.stream.getAudioTracks().every(e=>e.readyState==="ended")&&this._shouldManageStream&&this.openDefaultDeviceWithConstraints({audio:!0})};Fe.prototype._onIceGatheringFailure=function(t){this._hasIceGatheringFailures=!0,this.onicegatheringfailure(t)};Fe.prototype._onMediaConnectionStateChange=function(t){const e=this._iceState;if(e===t||t!=="connected"&&t!=="disconnected"&&t!=="failed")return;this._iceState=t;let n;switch(t){case"connected":e==="disconnected"||e==="failed"?(n="ICE liveliness check succeeded. Connection with Twilio restored",this._log.info(n),this.onreconnected(n)):(n="Media connection established.",this._log.info(n),this.onconnected(n)),this._stopIceGatheringTimeout(),this._hasIceGatheringFailures=!1;break;case"disconnected":n="ICE liveliness check failed. May be having trouble connecting to Twilio",this._log.warn(n),this.ondisconnected(n);break;case"failed":n="Connection with Twilio was interrupted.",this._log.warn(n),this.onfailed(n);break}};Fe.prototype._setSinkIds=function(t){return this._isSinkSupported?(this.sinkIds=new Set(t.forEach?t:[t]),this.version?this._updateAudioOutputs():Promise.resolve()):Promise.reject(new En("Audio output selection is not supported by this browser"))};Fe.prototype._startIceGatheringTimeout=function(){this._stopIceGatheringTimeout(),this._iceGatheringTimeoutId=setTimeout(()=>{this._onIceGatheringFailure(gse)},pse)};Fe.prototype._stopIceGatheringTimeout=function(){clearInterval(this._iceGatheringTimeoutId)};Fe.prototype._updateAudioOutputs=function(){const e=Array.from(this.sinkIds).filter(function(o){return!this.outputs.has(o)},this),n=Array.from(this.outputs.keys()).filter(function(o){return!this.sinkIds.has(o)},this),r=this,i=e.map(this._createAudioOutput,this);return Promise.all(i).then(()=>Promise.all(n.map(r._removeAudioOutput,r)))};Fe.prototype._createAudio=function(e){const n=new Audio(e);return this.onaudio(n),n};Fe.prototype._createAudioOutput=function(e){let n=null;this._mediaStreamSource&&(n=this._audioContext.createMediaStreamDestination(),this._mediaStreamSource.connect(n));const r=this._createAudio();dy(r,n&&n.stream?n.stream:this.pcStream,this._audioHelper).catch(()=>this._log.error("Error attaching stream to element (_createAudioOutput)."));const i=this;return r.setSinkId(e).then(()=>r.play()).then(()=>{i.outputs.set(e,{audio:r,dest:n})})};Fe.prototype._removeAudioOutputs=function(){return this._masterAudio&&typeof this._masterAudioDeviceId<"u"&&(this._disableOutput(this,this._masterAudioDeviceId),this.outputs.delete(this._masterAudioDeviceId),this._masterAudioDeviceId=null,this._masterAudio.paused||this._masterAudio.pause(),typeof this._masterAudio.srcObject<"u"?this._masterAudio.srcObject=null:this._masterAudio.src="",this._masterAudio=null),Array.from(this.outputs.keys()).map(this._removeAudioOutput,this)};Fe.prototype._disableOutput=function(e,n){const r=e.outputs.get(n);r&&(r.audio&&(r.audio.pause(),r.audio.src=""),r.dest&&r.dest.disconnect())};Fe.prototype._reassignMasterOutput=function(e,n){const r=e.outputs.get(n);e.outputs.delete(n);const i=this,o=Array.from(e.outputs.keys())[0],s=typeof o=="string"?o:"default";return r.audio.setSinkId(s).then(()=>{i._disableOutput(e,s),e.outputs.set(s,r),e._masterAudioDeviceId=s}).catch(function(){e.outputs.set(n,r),i._log.info("Could not reassign master output. Attempted to roll back.")})};Fe.prototype._removeAudioOutput=function(e){return this._masterAudioDeviceId===e?this._reassignMasterOutput(this,e):(this._disableOutput(this,e),this.outputs.delete(e),Promise.resolve())};Fe.prototype._onAddTrack=function(e,n){const r=e._masterAudio=this._createAudio();dy(r,n,this._audioHelper).then(()=>r.play()).catch(()=>e._log.error("Error attaching stream to element (_onAddTrack)."));const i=Array.from(e.outputs.keys())[0],o=typeof i=="string"?i:"default";e._masterAudioDeviceId=o,e.outputs.set(o,{audio:r});try{e._mediaStreamSource=e._audioContext.createMediaStreamSource(n)}catch(s){this._log.warn("Unable to create a MediaStreamSource from onAddTrack",s),this._mediaStreamSource=null}e.pcStream=n,e._updateAudioOutputs()};Fe.prototype._fallbackOnAddTrack=function(e,n){const r=document&&document.createElement("audio");dy(r,n,this._audioHelper).then(()=>r.play()).catch(()=>e._log.error("Error attaching stream to element (_fallbackOnAddTrack).")),e.outputs.set("default",{audio:r})};Fe.prototype._setEncodingParameters=function(t){if(!t||!this._sender||typeof this._sender.getParameters!="function"||typeof this._sender.setParameters!="function")return;const e=this._sender.getParameters();!e.priority&&!(e.encodings&&e.encodings.length)||(e.priority="high",e.encodings&&e.encodings.length&&e.encodings.forEach(n=>{n.priority="high",n.networkPriority="high"}),this._sender.setParameters(e))};Fe.prototype._setupPeerConnection=function(t){const e=this,n=new(this.options.rtcpcFactory||Mr)({RTCPeerConnection:this.options.RTCPeerConnection});n.create(t),yse(n.pc,this.stream);const r=RTCRtpReceiver.getCapabilities("audio").codecs;this._log.debug("sorting codecs",r,this.codecPreferences);const i=n6(r,this.codecPreferences),[o]=n.pc.getTransceivers();this._log.debug("setting sorted codecs",i),o.setCodecPreferences(i);const s="ontrack"in n.pc?"ontrack":"onaddstream";return n.pc[s]=a=>{const c=e._remoteStream=a.stream||a.streams[0];typeof n.pc.getSenders=="function"&&(this._sender=n.pc.getSenders()[0]),e._isSinkSupported?e._onAddTrack(e,c):e._fallbackOnAddTrack(e,c),e._startPollingVolume()},n};Fe.prototype._maybeSetIceAggressiveNomination=function(t){return this.options.forceAggressiveIceNomination?ase(t):t};Fe.prototype._setupChannel=function(){const t=this.version.pc;this.version.pc.onopen=()=>{this.status="open",this.onopen()},this.version.pc.onstatechange=()=>{this.version.pc&&this.version.pc.readyState==="stable"&&(this.status="open",this.onopen())},this.version.pc.onsignalingstatechange=()=>{const e=t.signalingState;this._log.info(`signalingState is "${e}"`),this.version.pc&&this.version.pc.signalingState==="stable"&&(this.status="open",this.onopen()),this.onsignalingstatechange(t.signalingState)},t.onconnectionstatechange=e=>{let n=t.connectionState;if(!n&&e&&e.target){const r=e.target;n=r.connectionState||r.connectionState_,this._log.info(`pc.connectionState not detected. Using target PC. State=${n}`)}n?this._log.info(`pc.connectionState is "${n}"`):this._log.warn(`onconnectionstatechange detected but state is "${n}"`),this.onpcconnectionstatechange(n),this._onMediaConnectionStateChange(n)},t.onicecandidate=e=>{const{candidate:n}=e;n&&(this._hasIceCandidates=!0,this.onicecandidate(n),this._setupRTCIceTransportListener()),this._log.info(`ICE Candidate: ${JSON.stringify(n)}`)},t.onicegatheringstatechange=()=>{const e=t.iceGatheringState;e==="gathering"?this._startIceGatheringTimeout():e==="complete"&&(this._stopIceGatheringTimeout(),this._hasIceCandidates||this._onIceGatheringFailure(mse),this._hasIceCandidates&&this._hasIceGatheringFailures&&this._startIceGatheringTimeout()),this._log.info(`pc.iceGatheringState is "${t.iceGatheringState}"`),this.onicegatheringstatechange(e)},t.oniceconnectionstatechange=()=>{this._log.info(`pc.iceConnectionState is "${t.iceConnectionState}"`),this.oniceconnectionstatechange(t.iceConnectionState),this._onMediaConnectionStateChange(t.iceConnectionState)}};Fe.prototype._initializeMediaStream=function(t){return this.status==="open"?!1:this.pstream.status==="disconnected"?(this.onerror({info:{code:31e3,message:"Cannot establish connection. Client is disconnected",twilioError:new ei.ConnectionDisconnected}}),this.close(),!1):(this.version=this._setupPeerConnection(t),this._setupChannel(),!0)};Fe.prototype._removeReconnectionListeners=function(){this.pstream&&(this.pstream.removeListener("answer",this._onAnswerOrRinging),this.pstream.removeListener("hangup",this._onHangup))};Fe.prototype._setupRTCDtlsTransportListener=function(){const t=this.getRTCDtlsTransport();if(!t||t.onstatechange)return;const e=()=>{this._log.info(`dtlsTransportState is "${t.state}"`),this.ondtlstransportstatechange(t.state)};e(),t.onstatechange=e};Fe.prototype._setupRTCIceTransportListener=function(){const t=this._getRTCIceTransport();!t||t.onselectedcandidatepairchange||(t.onselectedcandidatepairchange=()=>this.onselectedcandidatepairchange(t.getSelectedCandidatePair()))};Fe.prototype.iceRestart=function(){this._log.info("Attempting to restart ICE..."),this._hasIceCandidates=!1,this.version.createOffer(this.options.maxAverageBitrate,{iceRestart:!0}).then(()=>{this._removeReconnectionListeners(),this._onAnswerOrRinging=t=>{if(this._removeReconnectionListeners(),!t.sdp||this.version.pc.signalingState!=="have-local-offer"){const n=`Invalid state or param during ICE Restart:hasSdp:${!!t.sdp}, signalingState:${this.version.pc.signalingState}`;this._log.warn(n);return}const e=this._maybeSetIceAggressiveNomination(t.sdp);this._answerSdp=e,this.status!=="closed"&&this.version.processAnswer(this.codecPreferences,e,null,n=>{const r=n&&n.message?n.message:n;this._log.error(`Failed to process answer during ICE Restart. Error: ${r}`)})},this._onHangup=()=>{this._log.info("Received hangup during ICE Restart"),this._removeReconnectionListeners()},this.pstream.on("answer",this._onAnswerOrRinging),this.pstream.on("hangup",this._onHangup),this.pstream.reinvite(this.version.getSDP(),this.callSid)}).catch(t=>{const e=t&&t.message?t.message:t;this._log.error(`Failed to createOffer during ICE Restart. Error: ${e}`),this.onfailed(e)})};Fe.prototype.makeOutgoingCall=function(t,e,n,r,i){if(!this._initializeMediaStream(r))return;const o=this;this.callSid=n;function s(){o.options&&o._setEncodingParameters(o.options.dscp),i(o.version.pc)}function a(f){const h=f.message||f;o.onerror({info:{code:31e3,message:`Error processing answer: ${h}`,twilioError:new Xi.ClientRemoteDescFailed}})}this._onAnswerOrRinging=f=>{if(!f.sdp)return;const h=this._maybeSetIceAggressiveNomination(f.sdp);o._answerSdp=h,o.status!=="closed"&&o.version.processAnswer(this.codecPreferences,h,s,a),o.pstream.removeListener("answer",o._onAnswerOrRinging),o.pstream.removeListener("ringing",o._onAnswerOrRinging)},this.pstream.on("answer",this._onAnswerOrRinging),this.pstream.on("ringing",this._onAnswerOrRinging);function c(){o.status!=="closed"&&(e?o.pstream.reconnect(o.version.getSDP(),o.callSid,e):o.pstream.invite(o.version.getSDP(),o.callSid,t),o._setupRTCDtlsTransportListener())}function u(f){const h=f.message||f;o.onerror({info:{code:31e3,message:`Error creating the offer: ${h}`,twilioError:new Xi.ClientLocalDescFailed}})}this.version.createOffer(this.options.maxAverageBitrate,{audio:!0},c,u)};Fe.prototype.answerIncomingCall=function(t,e,n,r){if(!this._initializeMediaStream(n))return;e=this._maybeSetIceAggressiveNomination(e),this._answerSdp=e.replace(/^a=setup:actpass$/gm,"a=setup:passive"),this.callSid=t;const i=this;function o(){i.status!=="closed"&&(i.pstream.answer(i.version.getSDP(),t),i.options&&i._setEncodingParameters(i.options.dscp),r(i.version.pc),i._setupRTCDtlsTransportListener())}function s(a){const c=a.message||a;i.onerror({info:{code:31e3,message:`Error creating the answer: ${c}`,twilioError:new Xi.ClientRemoteDescFailed}})}this.version.processSDP(this.options.maxAverageBitrate,this.codecPreferences,e,{audio:!0},o,s)};Fe.prototype.close=function(){this.version&&this.version.pc&&(this.version.pc.signalingState!=="closed"&&this.version.pc.close(),this.version.pc=null),this.stream&&(this.mute(!1),this._stopStream()),this.stream=null,this._removeReconnectionListeners(),this._stopIceGatheringTimeout(),this._audioHelper._destroyRemoteProcessedStream(),this._audioProcessorEventObserver.removeListener("add",this._onAudioProcessorAdded),this._audioProcessorEventObserver.removeListener("remove",this._onAudioProcessorRemoved),Promise.all(this._removeAudioOutputs()).catch(()=>{}),this._mediaStreamSource&&this._mediaStreamSource.disconnect(),this._inputAnalyser&&this._inputAnalyser.disconnect(),this._outputAnalyser&&this._outputAnalyser.disconnect(),this._inputAnalyser2&&this._inputAnalyser2.disconnect(),this._outputAnalyser2&&this._outputAnalyser2.disconnect(),this.status="closed",this.onclose()};Fe.prototype.reject=function(t){this.callSid=t};Fe.prototype.ignore=function(t){this.callSid=t};Fe.prototype.mute=function(t){this.isMuted=t,this.stream&&(this._sender&&this._sender.track?this._sender.track.enabled=!t:(typeof this.stream.getAudioTracks=="function"?this.stream.getAudioTracks():this.stream.audioTracks).forEach(n=>{n.enabled=!t}))};Fe.prototype.getOrCreateDTMFSender=function(){if(this._dtmfSender||this._dtmfSenderUnsupported)return this._dtmfSender||null;const e=this,n=this.version.pc;if(!n)return this._log.warn("No RTCPeerConnection available to call createDTMFSender on"),null;if(typeof n.getSenders=="function"&&(typeof RTCDTMFSender=="function"||typeof RTCDtmfSender=="function")){const r=n.getSenders().find(i=>i.dtmf);if(r)return this._log.info("Using RTCRtpSender#dtmf"),this._dtmfSender=r.dtmf,this._dtmfSender}if(typeof n.createDTMFSender=="function"&&typeof n.getLocalStreams=="function"){const r=n.getLocalStreams().map(i=>{const o=e._getAudioTracks(i);return o&&o[0]})[0];return r?(this._log.info("Creating RTCDTMFSender"),this._dtmfSender=n.createDTMFSender(r),this._dtmfSender):(this._log.warn("No local audio MediaStreamTrack available on the RTCPeerConnection to pass to createDTMFSender"),null)}return this._log.info("RTCPeerConnection does not support RTCDTMFSender"),this._dtmfSenderUnsupported=!0,null};Fe.prototype.getRTCDtlsTransport=function(){const e=this.version&&this.version.pc&&typeof this.version.pc.getSenders=="function"&&this.version.pc.getSenders()[0];return e&&e.transport||null};Fe.prototype._canStopMediaStreamTrack=()=>typeof MediaStreamTrack.prototype.stop=="function";Fe.prototype._getAudioTracks=t=>typeof t.getAudioTracks=="function"?t.getAudioTracks():t.audioTracks;Fe.prototype._getRTCIceTransport=function(){const e=this.getRTCDtlsTransport();return e&&e.iceTransport||null};Fe.protocol=Mr.test()?new Mr:null;Fe.prototype._handleAudioProcessorEvent=function(t,e){if(!t||!this._remoteStream)return;let n=null;this._masterAudio?(this._log.info("Setting audio source for master audio."),n=this._masterAudio):(this._log.info("No master audio. Setting audio source for default audio output."),n=this.outputs.get("default").audio),dy(n,this._remoteStream,this._audioHelper).then(()=>{const r=e?"Successfully updated audio source with processed stream":"Successfully reverted audio source to original stream";this._log.info(r),n.paused&&(this._log.info("Resuming audio playback"),n.play())}).catch(()=>{const r=e?"Failed to update audio source":"Failed to revert audio source";this._log.error(r)})};function yse(t,e){typeof t.addTrack=="function"?e.getAudioTracks().forEach(n=>{t.addTrack(n,e)}):t.addStream(e)}function o2(t,e){let n;return e?n=new e:typeof MediaStream<"u"?n=new MediaStream:n=new webkitMediaStream,t.getAudioTracks().forEach(n.addTrack,n),n}function dy(t,e,n){return n._maybeCreateRemoteProcessedStream(e).then(r=>{if(typeof t.srcObject<"u")t.srcObject=r;else if(typeof t.mozSrcObject<"u")t.mozSrcObject=r;else if(typeof t.src<"u"){const i=t.options.window||window;t.src=(i.URL||i.webkitURL).createObjectURL(r)}else return Promise.reject();return Promise.resolve()})}Fe.enabled=Mr.test();function bse(){return Mr.test()}function wse(){return typeof RTCIceGatherer<"u"?"ORTC":"WebRTC"}function xse(t,e){return e=e||{},e.util=e.util||r6,e.navigator=e.navigator||(typeof navigator<"u"?navigator:null),new Promise((n,r)=>{if(!e.navigator)throw new En("getUserMedia is not supported");switch("function"){case typeof(e.navigator.mediaDevices&&e.navigator.mediaDevices.getUserMedia):return n(e.navigator.mediaDevices.getUserMedia(t));case typeof e.navigator.webkitGetUserMedia:return e.navigator.webkitGetUserMedia(t,n,r);case typeof e.navigator.mozGetUserMedia:return e.navigator.mozGetUserMedia(t,n,r);case typeof e.navigator.getUserMedia:return e.navigator.getUserMedia(t,n,r);default:throw new En("getUserMedia is not supported")}}).catch(n=>{throw e.util.isFirefox()&&n.name==="NotReadableError"?new En(`Firefox does not currently support opening multiple audio input trackssimultaneously, even across different tabs.
Related Bugzilla thread: https://bugzilla.mozilla.org/show_bug.cgi?id=1299324`):n})}function _se(){if(typeof window!="object")throw new En("This platform is not supported.");const{crypto:t}=window;if(typeof t!="object")throw new En("The `crypto` module is not available on this platform.");if(typeof t.getRandomValues!="function")throw new En("The function `crypto.getRandomValues` is not available on this platform.");if(typeof window.Uint8Array!="function")throw new En("The `Uint8Array` module is not available on this platform.");return t.getRandomValues(new window.Uint8Array(16)).reduce((e,n)=>`${e}${n.toString(16).padStart(2,"0")}`,"")}function hT(){return`KX${_se()}`}let Sse=class{constructor(){this._promise=new Promise((e,n)=>{this._resolve=e,this._reject=n})}get promise(){return this._promise}reject(e){this._reject(e)}resolve(e){this._resolve(e)}};class Pse{constructor(){this._operations=[]}enqueue(e){const n=!!this._operations.length,r=new Sse;return this._operations.push({deferred:r,callback:e}),n||this._processQueue(),r.promise}_processQueue(){return ve(this,void 0,void 0,function*(){for(;this._operations.length;){const{deferred:e,callback:n}=this._operations[0];let r,i,o;try{r=yield n(),o=!0}catch(s){i=s}this._operations.shift(),o?e.resolve(r):e.reject(i)}})}}class Tse{get reject(){return this._reject}get resolve(){return this._resolve}constructor(){this.promise=new Promise((e,n)=>{this._resolve=e,this._reject=n})}}let Ese=class{constructor(){this._eventEmitter=new ni.EventEmitter}addEventListener(e,n){return this._eventEmitter.addListener(e,n)}dispatchEvent(e,...n){return this._eventEmitter.emit(e,...n)}removeEventListener(e,n){return this._eventEmitter.removeListener(e,n)}};class s2 extends Ese{get destination(){return this._destination}get loop(){return this._loop}set loop(e){const n=this;function r(){n._audioNode.removeEventListener("ended",r),n.pause()}!e&&this.loop&&!this.paused&&this._audioNode.addEventListener("ended",r),this._loop=e}get muted(){return this._gainNode.gain.value===0}set muted(e){this._gainNode.gain.value=e?0:1}get paused(){return this._audioNode===null}get src(){return this._src}set src(e){this._load(e)}get srcObject(){return this._audioElement.srcObject}set srcObject(e){this._audioElement.srcObject=e}get sinkId(){return this._sinkId}constructor(e,n={},r={}){super(),this._audioNode=null,this._loop=!1,this._pendingPlayDeferreds=[],this._sinkId="default",this._src="",typeof n!="string"&&(r=n),this._audioContext=e,this._audioElement=new(r.AudioFactory||Audio),this._bufferPromise=this._createPlayDeferred().promise,this._destination=this._audioContext.destination,this._gainNode=this._audioContext.createGain(),this._gainNode.connect(this._destination),this._XMLHttpRequest=r.XMLHttpRequestFactory||XMLHttpRequest,this.addEventListener("canplaythrough",()=>{this._resolvePlayDeferreds()}),typeof n=="string"&&(this.src=n)}load(){this._load(this._src)}pause(){this.paused||(this._audioElement.pause(),this._audioNode.stop(),this._audioNode.disconnect(this._gainNode),this._audioNode=null,this._rejectPlayDeferreds(new Error("The play() request was interrupted by a call to pause().")))}play(){return ve(this,void 0,void 0,function*(){if(!this.paused){if(yield this._bufferPromise,!this.paused)return;throw new Error("The play() request was interrupted by a call to pause().")}this._audioNode=this._audioContext.createBufferSource(),this._audioNode.loop=this.loop,this._audioNode.addEventListener("ended",()=>{this._audioNode&&this._audioNode.loop||this.dispatchEvent("ended")});const e=yield this._bufferPromise;if(this.paused)throw new Error("The play() request was interrupted by a call to pause().");if(this._audioNode.buffer=e,this._audioNode.connect(this._gainNode),this._audioNode.start(),this._audioElement.srcObject)return this._audioElement.play()})}setSinkId(e){return ve(this,void 0,void 0,function*(){if(typeof this._audioElement.setSinkId!="function")throw new Error("This browser does not support setSinkId.");if(e!==this.sinkId){if(e==="default"){this.paused||this._gainNode.disconnect(this._destination),this._audioElement.srcObject=null,this._destination=this._audioContext.destination,this._gainNode.connect(this._destination),this._sinkId=e;return}yield this._audioElement.setSinkId(e),!this._audioElement.srcObject&&(this._gainNode.disconnect(this._audioContext.destination),this._destination=this._audioContext.createMediaStreamDestination(),this._audioElement.srcObject=this._destination.stream,this._sinkId=e,this._gainNode.connect(this._destination))}})}_createPlayDeferred(){const e=new Tse;return this._pendingPlayDeferreds.push(e),e}_load(e){this._src&&this._src!==e&&this.pause(),this._src=e,this._bufferPromise=new Promise((n,r)=>ve(this,void 0,void 0,function*(){if(!e)return this._createPlayDeferred().promise;const i=yield Cse(this._audioContext,this._XMLHttpRequest,e);this.dispatchEvent("canplaythrough"),n(i)}))}_rejectPlayDeferreds(e){const n=this._pendingPlayDeferreds;n.splice(0,n.length).forEach(({reject:r})=>r(e))}_resolvePlayDeferreds(e){const n=this._pendingPlayDeferreds;n.splice(0,n.length).forEach(({resolve:r})=>r(e))}}function Cse(t,e,n){return ve(this,void 0,void 0,function*(){const r=new e;r.open("GET",n,!0),r.responseType="arraybuffer";const i=yield new Promise(o=>{r.addEventListener("load",o),r.send()});try{return t.decodeAudioData(i.target.response)}catch{return new Promise(s=>{t.decodeAudioData(i.target.response,s)})}})}function qo(t,e,n){if(!(this instanceof qo))return new qo(t,e,n);if(!t||!e)throw new pt("name and url are required arguments");n=Object.assign({AudioFactory:typeof Audio<"u"?Audio:null,maxDuration:0,shouldLoop:!1},n),n.AudioPlayer=n.audioContext?s2.bind(s2,n.audioContext):n.AudioFactory,Object.defineProperties(this,{_Audio:{value:n.AudioPlayer},_activeEls:{value:new Map},_isSinkSupported:{value:n.AudioFactory!==null&&typeof n.AudioFactory.prototype.setSinkId=="function"},_maxDuration:{value:n.maxDuration},_maxDurationTimeout:{value:null,writable:!0},_operations:{value:new Pse},_playPromise:{value:null,writable:!0},_shouldLoop:{value:n.shouldLoop},_sinkIds:{value:["default"]},isPlaying:{enumerable:!0,get(){return!!this._playPromise}},name:{enumerable:!0,value:t},url:{enumerable:!0,value:e}}),this._Audio&&this._play(!0,!1)}function d6(t){t&&(t.pause(),t.src="",t.srcObject=null,t.load())}qo.prototype._playAudioElement=function(e,n,r){const i=this._activeEls.get(e);if(!i)throw new pt(`sinkId: "${e}" doesn't have an audio element`);return i.muted=!!n,i.loop=!!r,i.play().then(()=>i).catch(o=>{throw d6(i),this._activeEls.delete(e),o})};qo.prototype._play=function(e,n){this.isPlaying&&this._stop(),this._maxDuration>0&&(this._maxDurationTimeout=setTimeout(this._stop.bind(this),this._maxDuration)),n=typeof n=="boolean"?n:this._shouldLoop;const r=this;return this._playPromise=Promise.all(this._sinkIds.map(function(s){if(!r._Audio)return Promise.resolve();let a=r._activeEls.get(s);return a?r._playAudioElement(s,e,n):(a=new r._Audio(r.url),typeof a.setAttribute=="function"&&a.setAttribute("crossorigin","anonymous"),new Promise(c=>{a.addEventListener("canplaythrough",c)}).then(()=>(r._isSinkSupported?a.setSinkId(s):Promise.resolve()).then(function(){return r._activeEls.set(s,a),r._playPromise?r._playAudioElement(s,e,n):Promise.resolve()})))}))};qo.prototype._stop=function(){this._activeEls.forEach((e,n)=>{this._sinkIds.includes(n)?(e.pause(),e.currentTime=0):(d6(e),this._activeEls.delete(n))}),clearTimeout(this._maxDurationTimeout),this._playPromise=null,this._maxDurationTimeout=null};qo.prototype.setSinkIds=function(e){this._isSinkSupported&&(e=e.forEach?e:[e],[].splice.apply(this._sinkIds,[0,this._sinkIds.length].concat(e)))};qo.prototype.stop=function(){this._operations.enqueue(()=>(this._stop(),Promise.resolve()))};qo.prototype.play=function(){return this._operations.enqueue(()=>this._play())};const Ase=3e4,Ose=2e3,kse="twilio-js-sdk",jse='Parameter "token" must be of type "string".';class _e extends ni.EventEmitter{static get audioContext(){return _e._audioContext}static get extension(){const e=typeof document<"u"?document.createElement("audio"):{canPlayType:!1};let n;try{n=e.canPlayType&&!!e.canPlayType("audio/mpeg").replace(/no/,"")}catch{n=!1}let r;try{r=e.canPlayType&&!!e.canPlayType("audio/ogg;codecs='vorbis'").replace(/no/,"")}catch{r=!1}return r&&!n?"ogg":"mp3"}static get isSupported(){return bse()}static get packageName(){return Zq}static runPreflight(e,n){return new $t(e,Object.assign({audioContext:_e._getOrCreateAudioContext()},n))}static toString(){return"[Twilio.Device class]"}static get version(){return Mc}static _getOrCreateAudioContext(){return _e._audioContext||(typeof AudioContext<"u"?_e._audioContext=new AudioContext:typeof webkitAudioContext<"u"&&(_e._audioContext=new webkitAudioContext)),_e._audioContext}constructor(e,n={}){if(super(),this._activeCall=null,this._audio=null,this._audioProcessorEventObserver=null,this._callInputStream=null,this._calls=[],this._callSinkIds=["default"],this._chunderURIs=[],this._defaultOptions={allowIncomingWhileBusy:!1,closeProtection:!1,codecPreferences:[xe.Codec.PCMU,xe.Codec.Opus],dscp:!0,enableImprovedSignalingErrorPrecision:!1,forceAggressiveIceNomination:!1,logLevel:Vf.levels.ERROR,maxCallSignalingTimeoutMs:0,preflight:!1,sounds:{},tokenRefreshMs:1e4,voiceEventSidGenerator:hT},this._edge=null,this._home=null,this._identity=null,this._log=new gn("Device"),this._makeCallPromise=null,this._options={},this._preferredURI=null,this._publisher=null,this._region=null,this._regTimer=null,this._shouldReRegister=!1,this._soundcache=new Map,this._state=_e.State.Unregistered,this._stateEventMapping={[_e.State.Destroyed]:_e.EventName.Destroyed,[_e.State.Unregistered]:_e.EventName.Unregistered,[_e.State.Registering]:_e.EventName.Registering,[_e.State.Registered]:_e.EventName.Registered},this._stream=null,this._streamConnectedPromise=null,this._tokenWillExpireTimeout=null,this._createDefaultPayload=o=>{const s={aggressive_nomination:this._options.forceAggressiveIceNomination,browser_extension:this._isBrowserExtension,dscp:!!this._options.dscp,ice_restart_enabled:!0,platform:wse(),sdk_version:Mc};function a(c,u){u&&(s[c]=u)}if(o){const c=o.parameters.CallSid;a("call_sid",/^TJ/.test(c)?void 0:c),a("temp_call_sid",o.outboundConnectionId),a("audio_codec",o.codec),s.direction=o.direction}return a("gateway",this._stream&&this._stream.gateway),a("region",this._stream&&this._stream.region),s},this._onSignalingClose=()=>{this._stream=null,this._streamConnectedPromise=null},this._onSignalingConnected=o=>{var s;const a=nse(o.region);if(this._edge=o.edge||Zoe[a]||o.region,this._region=a||o.region,this._home=o.home,(s=this._publisher)===null||s===void 0||s.setHost(e2(o.home)),o.token&&(this._identity=o.token.identity,typeof o.token.ttl=="number"&&typeof this._options.tokenRefreshMs=="number")){const u=o.token.ttl*1e3,f=Math.max(0,u-this._options.tokenRefreshMs);this._tokenWillExpireTimeout=setTimeout(()=>{this._log.debug("#tokenWillExpire"),this.emit("tokenWillExpire",this),this._tokenWillExpireTimeout&&(clearTimeout(this._tokenWillExpireTimeout),this._tokenWillExpireTimeout=null)},f)}const c=this._getChunderws()||n2(this._edge);if(c.length>0){const[u]=c;this._preferredURI=t2(u)}else this._log.warn("Could not parse a preferred URI from the stream#connected event.");this._shouldReRegister&&this.register()},this._onSignalingError=o=>{if(typeof o!="object"){this._log.warn("Invalid signaling error payload",o);return}const{error:s,callsid:a,voiceeventsid:c}=o;if(typeof s!="object"||c){this._log.warn("Ignoring signaling error payload",{originalError:s,voiceeventsid:c});return}const u=typeof a=="string"&&this._findCall(a)||void 0,{code:f,message:h}=s;let{twilioError:p}=s;if(typeof f=="number")if(f===31201)p=new pn.AuthenticationFailed(s);else if(f===31204)p=new pn.AccessTokenInvalid(s);else if(f===31205)this._stopRegistrationTimer(),p=new pn.AccessTokenExpired(s);else{const v=aT(!!this._options.enableImprovedSignalingErrorPrecision,f);typeof v<"u"&&(p=new v(s))}p||(this._log.error("Unknown signaling error: ",s),p=new Vn.UnknownError(h,s)),this._log.error("Received error: ",p),this._log.debug("#error",s),this.emit(_e.EventName.Error,p,u)},this._onSignalingInvite=o=>ve(this,void 0,void 0,function*(){var s;const a=!!this._activeCall;if(a&&!this._options.allowIncomingWhileBusy){this._log.info("Device busy; ignoring incoming invite");return}if(!o.callsid||!o.sdp){this._log.debug("#error",o),this.emit(_e.EventName.Error,new Ua.BadRequest("Malformed invite from gateway"));return}const c=o.parameters||{};c.CallSid=c.CallSid||o.callsid;const u=Object.assign({},t6(c.Params));this._makeCallPromise=this._makeCall(u,{callParameters:c,enableImprovedSignalingErrorPrecision:!!this._options.enableImprovedSignalingErrorPrecision,offerSdp:o.sdp,reconnectToken:o.reconnect,voiceEventSidGenerator:this._options.voiceEventSidGenerator});let f;try{f=yield this._makeCallPromise}finally{this._makeCallPromise=null}this._calls.push(f),f.once("accept",()=>{this._soundcache.get(_e.SoundName.Incoming).stop(),this._publishNetworkChange()});const h=!((s=this._audio)===null||s===void 0)&&s.incoming()&&!a?()=>this._soundcache.get(_e.SoundName.Incoming).play():()=>Promise.resolve();this._showIncomingCall(f,h)}),this._onSignalingOffline=()=>{this._log.info("Stream is offline"),this._edge=null,this._region=null,this._shouldReRegister=this.state!==_e.State.Unregistered,this._setState(_e.State.Unregistered)},this._onSignalingReady=()=>{this._log.info("Stream is ready"),this._setState(_e.State.Registered)},this._publishNetworkChange=()=>{this._activeCall&&this._networkInformation&&this._publisher.info("network-information","network-change",{connection_type:this._networkInformation.type,downlink:this._networkInformation.downlink,downlinkMax:this._networkInformation.downlinkMax,effective_type:this._networkInformation.effectiveType,rtt:this._networkInformation.rtt},this._activeCall)},this._updateInputStream=o=>{const s=this._activeCall;return s&&!o?Promise.reject(new bi("Cannot unset input device while a call is in progress.")):(this._callInputStream=o,s?s._setInputTracksFromStream(o):Promise.resolve())},this._updateSinkIds=(o,s)=>(o==="ringtone"?this._updateRingtoneSinkIds(s):this._updateSpeakerSinkIds(s)).then(()=>{this._publisher.info("audio",`${o}-devices-set`,{audio_device_ids:s},this._activeCall)},c=>{throw this._publisher.error("audio",`${o}-devices-set-failed`,{audio_device_ids:s,message:c.message},this._activeCall),c}),this._setupLoglevel(n.logLevel),this._logOptions("constructor",n),this.updateToken(e),ly())throw new En("Microsoft Edge Legacy (https://support.microsoft.com/en-us/help/4533505/what-is-microsoft-edge-legacy) is deprecated and will not be able to connect to Twilio to make or receive calls after September 1st, 2020. Please see this documentation for a list of supported browsers https://www.twilio.com/docs/voice/client/javascript#supported-browsers");if(!_e.isSupported&&n.ignoreBrowserSupport)throw window&&window.location&&window.location.protocol==="http:"?new En("twilio.js wasn't able to find WebRTC browser support.           This is most likely because this page is served over http rather than https,           which does not support WebRTC in many browsers. Please load this page over https and           try again."):new En("twilio.js 1.3+ SDKs require WebRTC browser support.         For more information, see <https://www.twilio.com/docs/api/client/twilio-js>.         If you have any questions about this announcement, please contact         Twilio Support at <help@twilio.com>.");const r=globalThis,i=r.msBrowser||r.browser||r.chrome;if(this._isBrowserExtension=!!i&&!!i.runtime&&!!i.runtime.id||!!r.safari&&!!r.safari.extension,this._isBrowserExtension&&this._log.info("Running as browser extension."),navigator){const o=navigator;this._networkInformation=o.connection||o.mozConnection||o.webkitConnection}this._networkInformation&&typeof this._networkInformation.addEventListener=="function"&&this._networkInformation.addEventListener("change",this._publishNetworkChange),_e._getOrCreateAudioContext(),_e._audioContext&&(_e._dialtonePlayer||(_e._dialtonePlayer=new Eoe(_e._audioContext))),this._boundDestroy=this.destroy.bind(this),this._boundConfirmClose=this._confirmClose.bind(this),typeof window<"u"&&window.addEventListener&&(window.addEventListener("unload",this._boundDestroy),window.addEventListener("pagehide",this._boundDestroy)),this.updateOptions(n)}get audio(){return this._audio}connect(){return ve(this,arguments,void 0,function*(e={}){if(this._log.debug(".connect",JSON.stringify(e)),this._throwIfDestroyed(),this._activeCall)throw new bi("A Call is already active");let n,r,i;if(e.connectToken){try{const u=JSON.parse(decodeURIComponent(atob(e.connectToken)));n=u.customParameters,r=u.parameters,i=u.signalingReconnectToken}catch{throw new pt("Cannot parse connectToken")}if(!r||!r.CallSid||!i)throw new pt("Invalid connectToken")}let o=!1,s={};const a={enableImprovedSignalingErrorPrecision:!!this._options.enableImprovedSignalingErrorPrecision,rtcConfiguration:e.rtcConfiguration,voiceEventSidGenerator:this._options.voiceEventSidGenerator};i&&r?(o=!0,a.callParameters=r,a.reconnectCallSid=r.CallSid,a.reconnectToken=i,s=n||s):s=e.params||s;let c;this._makeCallPromise=this._makeCall(s,a,o);try{c=this._activeCall=yield this._makeCallPromise}finally{this._makeCallPromise=null}return this._calls.splice(0).forEach(u=>u.ignore()),this._soundcache.get(_e.SoundName.Incoming).stop(),c.accept({rtcConstraints:e.rtcConstraints}),this._publishNetworkChange(),c})}get calls(){return this._calls}destroy(){var e;this._log.debug(".destroy"),this._log.debug("Rejecting any incoming calls"),this._calls.slice(0).forEach(r=>r.reject()),this.disconnectAll(),this._stopRegistrationTimer(),this._destroyStream(),this._destroyAudioHelper(),(e=this._audioProcessorEventObserver)===null||e===void 0||e.destroy(),this._destroyPublisher(),this._networkInformation&&typeof this._networkInformation.removeEventListener=="function"&&this._networkInformation.removeEventListener("change",this._publishNetworkChange),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("beforeunload",this._boundConfirmClose),window.removeEventListener("unload",this._boundDestroy),window.removeEventListener("pagehide",this._boundDestroy)),this._setState(_e.State.Destroyed),ni.EventEmitter.prototype.removeAllListeners.call(this)}disconnectAll(){this._log.debug(".disconnectAll"),this._calls.splice(0).forEach(n=>n.disconnect()),this._activeCall&&this._activeCall.disconnect()}get edge(){return this._edge}get home(){return this._home}get identity(){return this._identity}get isBusy(){return!!this._activeCall}register(){return ve(this,void 0,void 0,function*(){if(this._log.debug(".register"),this.state!==_e.State.Unregistered)throw new bi(`Attempt to register when device is in state "${this.state}". Must be "${_e.State.Unregistered}".`);this._shouldReRegister=!1,this._setState(_e.State.Registering),yield this._streamConnectedPromise||this._setupStream(),yield this._sendPresence(!0),yield cT(this,_e.State.Registered,_e.State.Unregistered)})}get state(){return this._state}get token(){return this._token}toString(){return"[Twilio.Device instance]"}unregister(){return ve(this,void 0,void 0,function*(){if(this._log.debug(".unregister"),this.state!==_e.State.Registered)throw new bi(`Attempt to unregister when device is in state "${this.state}". Must be "${_e.State.Registered}".`);this._shouldReRegister=!1;const e=yield this._streamConnectedPromise,n=new Promise(r=>{e.on("offline",r)});yield this._sendPresence(!1),yield n})}updateOptions(e={}){if(this._logOptions("updateOptions",e),this.state===_e.State.Destroyed)throw new bi(`Attempt to "updateOptions" when device is in state "${this.state}".`);this._options=Object.assign(Object.assign(Object.assign({},this._defaultOptions),this._options),e);const n=new Set(this._chunderURIs),r=this._chunderURIs=(this._getChunderws()||n2(this._options.edge)).map(t2);let i=n.size!==r.length;if(!i){for(const o of r)if(!n.has(o)){i=!0;break}}if(this.isBusy&&i)throw new bi("Cannot change Edge while on an active Call");this._setupLoglevel(this._options.logLevel);for(const o of Object.keys(_e._defaultSounds)){const s=_e._defaultSounds[o],a=`${aA}/${s.filename}.${_e.extension}?cache=${Mc}`,c=this._options.sounds&&this._options.sounds[o]||a,u=new(this._options.Sound||qo)(o,c,{audioContext:this._options.disableAudioContextSounds?null:_e.audioContext,maxDuration:s.maxDuration,shouldLoop:s.shouldLoop});this._soundcache.set(o,u)}this._setupAudioHelper(),this._setupPublisher(),i&&this._streamConnectedPromise&&this._setupStream(),typeof window<"u"&&typeof window.addEventListener=="function"&&this._options.closeProtection&&(window.removeEventListener("beforeunload",this._boundConfirmClose),window.addEventListener("beforeunload",this._boundConfirmClose))}updateToken(e){if(this._log.debug(".updateToken"),this.state===_e.State.Destroyed)throw new bi(`Attempt to "updateToken" when device is in state "${this.state}".`);if(typeof e!="string")throw new pt(jse);this._token=e,this._stream&&this._stream.setToken(this._token),this._publisher&&this._publisher.setToken(this._token)}_confirmClose(e){if(!this._activeCall)return"";const n=this._options.closeProtection||!1,r=typeof n!="string"?"A call is currently in-progress. Leaving or reloading this page will end the call.":n;return(e||window.event).returnValue=r,r}_destroyAudioHelper(){this._audio&&(this._audio._destroy(),this._audio=null)}_destroyPublisher(){this._publisher&&(this._publisher=null)}_destroyStream(){this._stream&&(this._stream.removeListener("close",this._onSignalingClose),this._stream.removeListener("connected",this._onSignalingConnected),this._stream.removeListener("error",this._onSignalingError),this._stream.removeListener("invite",this._onSignalingInvite),this._stream.removeListener("offline",this._onSignalingOffline),this._stream.removeListener("ready",this._onSignalingReady),this._stream.destroy(),this._stream=null),this._onSignalingOffline(),this._streamConnectedPromise=null}_findCall(e){return this._calls.find(n=>n.parameters.CallSid===e||n.outboundConnectionId===e)||null}_getChunderws(){return typeof this._options.chunderw=="string"?[this._options.chunderw]:Array.isArray(this._options.chunderw)?this._options.chunderw:null}_logOptions(e,n={}){const r=["allowIncomingWhileBusy","appName","appVersion","closeProtection","codecPreferences","disableAudioContextSounds","dscp","edge","enableImprovedSignalingErrorPrecision","forceAggressiveIceNomination","logLevel","maxAverageBitrate","maxCallSignalingTimeoutMs","sounds","tokenRefreshMs"],i=["RTCPeerConnection","enumerateDevices","getUserMedia","MediaStream"];if(typeof n=="object"){const o=Object.assign({},n);Object.keys(o).forEach(s=>{!r.includes(s)&&!i.includes(s)&&delete o[s],i.includes(s)&&(o[s]=!0)}),this._log.debug(`.${e}`,JSON.stringify(o))}}_makeCall(e,n){return ve(this,arguments,void 0,function*(r,i,o=!1){var s;const a=(s=this._audio)===null||s===void 0?void 0:s._getInputDevicePromise();a&&(this._log.debug("inputDevicePromise detected, waiting..."),yield a,this._log.debug("inputDevicePromise resolved"));const c={audioHelper:this._audio,onIgnore:()=>{this._soundcache.get(_e.SoundName.Incoming).stop()},pstream:yield this._streamConnectedPromise||this._setupStream(),publisher:this._publisher,soundcache:this._soundcache};i=Object.assign({MediaStream:this._options.MediaStream,RTCPeerConnection:this._options.RTCPeerConnection,beforeAccept:h=>{!this._activeCall||this._activeCall===h||(this._activeCall.disconnect(),this._removeCall(this._activeCall))},codecPreferences:this._options.codecPreferences,customSounds:this._options.sounds,dialtonePlayer:_e._dialtonePlayer,dscp:this._options.dscp,forceAggressiveIceNomination:this._options.forceAggressiveIceNomination,getInputStream:()=>this._options.fileInputStream||this._callInputStream,getSinkIds:()=>this._callSinkIds,maxAverageBitrate:this._options.maxAverageBitrate,preflight:this._options.preflight,rtcConstraints:this._options.rtcConstraints,shouldPlayDisconnect:()=>{var h;return(h=this._audio)===null||h===void 0?void 0:h.disconnect()},twimlParams:r,voiceEventSidGenerator:this._options.voiceEventSidGenerator},i);const u=()=>{if(!this._stream){this._log.warn("UnsetPreferredUri called without a stream");return}this._activeCall===null&&this._calls.length===0&&this._stream.updatePreferredURI(null)},f=new(this._options.Call||xe)(c,i);return this._publisher.info("settings","init",{MediaStream:!!this._options.MediaStream,RTCPeerConnection:!!this._options.RTCPeerConnection,enumerateDevices:!!this._options.enumerateDevices,getUserMedia:!!this._options.getUserMedia},f),f.once("accept",()=>{var h,p,v,x,b;this._stream.updatePreferredURI(this._preferredURI),this._removeCall(f),this._activeCall=f,this._audio&&this._audio._maybeStartPollingVolume(),f.direction===xe.CallDirection.Outgoing&&(!((h=this._audio)===null||h===void 0)&&h.outgoing())&&!o&&this._soundcache.get(_e.SoundName.Outgoing).play();const y={edge:this._edge||this._region};this._options.edge&&(y.selected_edge=Array.isArray(this._options.edge)?this._options.edge:[this._options.edge]),this._publisher.info("settings","edge",y,f),!((p=this._audio)===null||p===void 0)&&p.localProcessedStream&&((v=this._audioProcessorEventObserver)===null||v===void 0||v.emit("enabled",!1)),!((x=this._audio)===null||x===void 0)&&x.remoteProcessedStream&&((b=this._audioProcessorEventObserver)===null||b===void 0||b.emit("enabled",!0))}),f.addListener("error",h=>{f.status()==="closed"&&(this._removeCall(f),u()),this._audio&&this._audio._maybeStopPollingVolume(),this._maybeStopIncomingSound()}),f.once("cancel",()=>{this._log.info(`Canceled: ${f.parameters.CallSid}`),this._removeCall(f),u(),this._audio&&this._audio._maybeStopPollingVolume(),this._maybeStopIncomingSound()}),f.once("disconnect",()=>{this._audio&&this._audio._maybeStopPollingVolume(),this._removeCall(f),u(),this._maybeStopIncomingSound()}),f.once("reject",()=>{this._log.info(`Rejected: ${f.parameters.CallSid}`),this._audio&&this._audio._maybeStopPollingVolume(),this._removeCall(f),u(),this._maybeStopIncomingSound()}),f.on("transportClose",()=>{f.status()===xe.State.Pending&&(this._audio&&this._audio._maybeStopPollingVolume(),this._removeCall(f),this._maybeStopIncomingSound())}),f})}_maybeStopIncomingSound(){this._calls.length||this._soundcache.get(_e.SoundName.Incoming).stop()}_removeCall(e){this._activeCall===e&&(this._activeCall=null,this._makeCallPromise=null);for(let n=this._calls.length-1;n>=0;n--)e===this._calls[n]&&this._calls.splice(n,1)}_sendPresence(e){return ve(this,void 0,void 0,function*(){const n=yield this._streamConnectedPromise;n&&(n.register({audio:e}),e?this._startRegistrationTimer():this._stopRegistrationTimer())})}_setState(e){if(e===this.state)return;this._state=e;const n=this._stateEventMapping[e];this._log.debug(`#${n}`),this.emit(n)}_setupAudioHelper(){this._audioProcessorEventObserver||(this._audioProcessorEventObserver=new Poe,this._audioProcessorEventObserver.on("event",({name:n,group:r,isRemote:i})=>{this._publisher.info(r,n,{is_remote:i},this._activeCall)}));const e={audioContext:_e.audioContext,audioProcessorEventObserver:this._audioProcessorEventObserver,beforeSetInputDevice:()=>this._makeCallPromise?(this._log.debug("beforeSetInputDevice pause detected"),this._makeCallPromise):(this._log.debug("beforeSetInputDevice pause not detected, setting default"),Promise.resolve()),enumerateDevices:this._options.enumerateDevices,getUserMedia:this._options.getUserMedia||xse};if(this._audio){this._log.info("Found existing audio helper; updating options..."),this._audio._updateUserOptions(e);return}this._audio=new(this._options.AudioHelper||Soe)(this._updateSinkIds,this._updateInputStream,e),this._audio.on("deviceChange",n=>{const r=this._activeCall,i=n.map(o=>o.deviceId);this._publisher.info("audio","device-change",{lost_active_device_ids:i},r),r&&r._mediaHandler._onInputDevicesChanged()})}_setupLoglevel(e){const n=typeof e=="number"||typeof e=="string"?e:Vf.levels.ERROR;this._log.setDefaultLevel(n),this._log.info("Set logger default level to",n)}_setupPublisher(){this._publisher&&(this._log.info("Found existing publisher; destroying..."),this._destroyPublisher());const e={defaultPayload:this._createDefaultPayload,metadata:{app_name:this._options.appName,app_version:this._options.appVersion}};return this._options.eventgw&&(e.host=this._options.eventgw),this._home&&(e.host=e2(this._home)),this._publisher=new(this._options.Publisher||ir)(kse,this.token,e),this._options.publishEvents===!1?this._publisher.disable():this._publisher.on("error",n=>{this._log.warn("Cannot connect to insights.",n)}),this._publisher}_setupStream(){return this._stream&&(this._log.info("Found existing stream; destroying..."),this._destroyStream()),this._log.info("Setting up VSP"),this._stream=new(this._options.PStream||Rt)(this.token,this._chunderURIs,{backoffMaxMs:this._options.backoffMaxMs,maxPreferredDurationMs:this._options.maxCallSignalingTimeoutMs}),this._stream.addListener("close",this._onSignalingClose),this._stream.addListener("connected",this._onSignalingConnected),this._stream.addListener("error",this._onSignalingError),this._stream.addListener("invite",this._onSignalingInvite),this._stream.addListener("offline",this._onSignalingOffline),this._stream.addListener("ready",this._onSignalingReady),this._streamConnectedPromise=cT(this._stream,"connected","close").then(()=>this._stream)}_showIncomingCall(e,n){let r;return Promise.race([n(),new Promise((i,o)=>{r=setTimeout(()=>{const s="Playing incoming ringtone took too long; it might not play. Continuing execution...";o(new Error(s))},Ose)})]).catch(i=>{this._log.warn(i.message)}).then(()=>{clearTimeout(r),this._log.debug("#incoming",JSON.stringify({customParameters:e.customParameters,parameters:e.parameters})),this.emit(_e.EventName.Incoming,e)})}_startRegistrationTimer(){this._stopRegistrationTimer(),this._regTimer=setTimeout(()=>{this._sendPresence(!0)},Ase)}_stopRegistrationTimer(){this._regTimer&&clearTimeout(this._regTimer)}_throwIfDestroyed(){if(this.state===_e.State.Destroyed)throw new bi("Device has been destroyed.")}_updateRingtoneSinkIds(e){return Promise.resolve(this._soundcache.get(_e.SoundName.Incoming).setSinkIds(e))}_updateSpeakerSinkIds(e){Array.from(this._soundcache.entries()).filter(r=>r[0]!==_e.SoundName.Incoming).forEach(r=>r[1].setSinkIds(e)),this._callSinkIds=e;const n=this._activeCall;return n?n._setSinkIds(e):Promise.resolve()}}_e._defaultSounds={disconnect:{filename:"disconnect",maxDuration:3e3},dtmf0:{filename:"dtmf-0",maxDuration:1e3},dtmf1:{filename:"dtmf-1",maxDuration:1e3},dtmf2:{filename:"dtmf-2",maxDuration:1e3},dtmf3:{filename:"dtmf-3",maxDuration:1e3},dtmf4:{filename:"dtmf-4",maxDuration:1e3},dtmf5:{filename:"dtmf-5",maxDuration:1e3},dtmf6:{filename:"dtmf-6",maxDuration:1e3},dtmf7:{filename:"dtmf-7",maxDuration:1e3},dtmf8:{filename:"dtmf-8",maxDuration:1e3},dtmf9:{filename:"dtmf-9",maxDuration:1e3},dtmfh:{filename:"dtmf-hash",maxDuration:1e3},dtmfs:{filename:"dtmf-star",maxDuration:1e3},incoming:{filename:"incoming",shouldLoop:!0},outgoing:{filename:"outgoing",maxDuration:3e3}};(function(t){(function(e){e.Error="error",e.Incoming="incoming",e.Destroyed="destroyed",e.Unregistered="unregistered",e.Registering="registering",e.Registered="registered",e.TokenWillExpire="tokenWillExpire"})(t.EventName||(t.EventName={})),(function(e){e.Destroyed="destroyed",e.Unregistered="unregistered",e.Registering="registering",e.Registered="registered"})(t.State||(t.State={})),(function(e){e.Incoming="incoming",e.Outgoing="outgoing",e.Disconnect="disconnect",e.Dtmf0="dtmf0",e.Dtmf1="dtmf1",e.Dtmf2="dtmf2",e.Dtmf3="dtmf3",e.Dtmf4="dtmf4",e.Dtmf5="dtmf5",e.Dtmf6="dtmf6",e.Dtmf7="dtmf7",e.Dtmf8="dtmf8",e.Dtmf9="dtmf9",e.DtmfS="dtmfs",e.DtmfH="dtmfh"})(t.SoundName||(t.SoundName={}))})(_e||(_e={}));class kw{constructor(e,n=!1){this.deleted=!1;let r;const i=e.candidate.split("network-cost ");i[1]&&(r=parseInt(i[1],10)),this.candidateType=e.type,this.ip=e.ip||e.address,this.isRemote=n,this.networkCost=r,this.port=e.port,this.priority=e.priority,this.protocol=e.protocol,this.relatedAddress=e.relatedAddress,this.relatedPort=e.relatedPort,this.tcpType=e.tcpType,this.transportId=e.sdpMid}toPayload(){return{candidate_type:this.candidateType,deleted:this.deleted,ip:this.ip,is_remote:this.isRemote,"network-cost":this.networkCost,port:this.port,priority:this.priority,protocol:this.protocol,related_address:this.relatedAddress,related_port:this.relatedPort,tcp_type:this.tcpType,transport_id:this.transportId}}}const a2=94.768;function Rse(t,e,n){if(typeof t!="number"||typeof e!="number"||typeof n!="number"||!ug(t)||!ug(e)||!ug(n))return null;const r=t+e*2+10;let i=0;switch(!0){case r<160:i=a2-r/40;break;case r<1e3:i=a2-(r-120)/10;break}switch(!0){case n<=i/2.5:i=Math.max(i-n*2.5,6.52);break;default:i=0;break}return 1+.035*i+7e-6*i*(i-60)*(100-i)}function ug(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)&&t>=0}var Nse={calculate:Rse,isNonNegativeNumber:ug};const Ise=5,Mse=0,Dse=3,$se=1e3,Lse=5*1e3,Fse={audioInputLevel:{minStandardDeviation:327.67,sampleCount:10},audioOutputLevel:{minStandardDeviation:327.67,sampleCount:10},bytesReceived:{clearCount:2,min:1,raiseCount:3,sampleCount:3},bytesSent:{clearCount:2,min:1,raiseCount:3,sampleCount:3},jitter:{max:30},mos:{min:3},packetsLostFraction:[{max:1},{clearValue:1,maxAverage:3,sampleCount:7}],rtt:{max:400}};function Bse(t,e){return e.reduce((n,r)=>n+=r>t?1:0,0)}function Use(t,e){return e.reduce((n,r)=>n+=r<t?1:0,0)}function qse(t){if(t.length<=0)return null;const e=t.reduce((i,o)=>i+o,0)/t.length,n=t.map(i=>Math.pow(i-e,2));return Math.sqrt(n.reduce((i,o)=>i+o,0)/n.length)}function Vse(t){return t.reduce((e,n)=>[...e,...n],[])}class Wse extends ni.EventEmitter{constructor(e){super(),this._activeWarnings=new Map,this._currentStreaks=new Map,this._inputVolumes=[],this._outputVolumes=[],this._sampleBuffer=[],this._supplementalSampleBuffers={audioInputLevel:[],audioOutputLevel:[]},this._warningsEnabled=!0,e=e||{},this._getRTCStats=e.getRTCStats||Foe,this._mos=e.Mos||Nse,this._peerConnection=e.peerConnection,this._thresholds=Object.assign(Object.assign({},Fse),e.thresholds);const n=Object.values(this._thresholds).map(r=>r.sampleCount).filter(r=>!!r);this._maxSampleCount=Math.max(Ise,...n),this._peerConnection&&this.enable(this._peerConnection)}addVolumes(e,n){this._inputVolumes.push(e),this._outputVolumes.push(n)}disable(){return this._sampleInterval&&(clearInterval(this._sampleInterval),delete this._sampleInterval),this}disableWarnings(){return this._warningsEnabled&&this._activeWarnings.clear(),this._warningsEnabled=!1,this}enable(e){if(e){if(this._peerConnection&&e!==this._peerConnection)throw new pt("Attempted to replace an existing PeerConnection in StatsMonitor.enable");this._peerConnection=e}if(!this._peerConnection)throw new pt("Can not enable StatsMonitor without a PeerConnection");return this._sampleInterval=this._sampleInterval||setInterval(this._fetchSample.bind(this),$se),this}enableWarnings(){return this._warningsEnabled=!0,this}hasActiveWarning(e,n){const r=`${e}:${n}`;return!!this._activeWarnings.get(r)}_addSample(e){const n=this._sampleBuffer;n.push(e),n.length>this._maxSampleCount&&n.splice(0,n.length-this._maxSampleCount)}_clearWarning(e,n,r){const i=`${e}:${n}`,o=this._activeWarnings.get(i);!o||Date.now()-o.timeRaised<Lse||(this._activeWarnings.delete(i),this.emit("warning-cleared",Object.assign(Object.assign({},r),{name:e,threshold:{name:n,value:this._thresholds[e][n]}})))}_createSample(e,n){const r=n&&n.totals.bytesSent||0,i=n&&n.totals.bytesReceived||0,o=n&&n.totals.packetsSent||0,s=n&&n.totals.packetsReceived||0,a=n&&n.totals.packetsLost||0,c=e.bytesSent-r,u=e.bytesReceived-i,f=e.packetsSent-o,h=e.packetsReceived-s,p=e.packetsLost-a,v=h+p,x=v>0?p/v*100:0,b=e.packetsReceived+e.packetsLost,y=b>0?e.packetsLost/b*100:100,_=typeof e.rtt=="number"||!n?e.rtt:n.rtt,T=this._inputVolumes.splice(0);this._supplementalSampleBuffers.audioInputLevel.push(T);const S=this._outputVolumes.splice(0);return this._supplementalSampleBuffers.audioOutputLevel.push(S),{audioInputLevel:Math.round(Ef(T)),audioOutputLevel:Math.round(Ef(S)),bytesReceived:u,bytesSent:c,codecName:e.codecName,jitter:e.jitter,mos:this._mos.calculate(_,e.jitter,n&&x),packetsLost:p,packetsLostFraction:x,packetsReceived:h,packetsSent:f,rtt:_,timestamp:e.timestamp,totals:{bytesReceived:e.bytesReceived,bytesSent:e.bytesSent,packetsLost:e.packetsLost,packetsLostFraction:y,packetsReceived:e.packetsReceived,packetsSent:e.packetsSent}}}_fetchSample(){this._getSample().then(e=>{this._addSample(e),this._raiseWarnings(),this.emit("sample",e)}).catch(e=>{this.disable(),this.emit("error",e)})}_getSample(){return this._getRTCStats(this._peerConnection).then(e=>{let n=null;return this._sampleBuffer.length&&(n=this._sampleBuffer[this._sampleBuffer.length-1]),this._createSample(e,n)})}_raiseWarning(e,n,r){const i=`${e}:${n}`;if(this._activeWarnings.has(i))return;this._activeWarnings.set(i,{timeRaised:Date.now()});const o=this._thresholds[e];let s;if(Array.isArray(o)){const a=o.find(c=>n in c);a&&(s=a[n])}else s=this._thresholds[e][n];this.emit("warning",Object.assign(Object.assign({},r),{name:e,threshold:{name:n,value:s}}))}_raiseWarnings(){this._warningsEnabled&&Object.keys(this._thresholds).forEach(e=>this._raiseWarningsForStat(e))}_raiseWarningsForStat(e){(Array.isArray(this._thresholds[e])?this._thresholds[e]:[this._thresholds[e]]).forEach(r=>{const i=this._sampleBuffer,o=r.clearCount||Mse,s=r.raiseCount||Dse,a=r.sampleCount||this._maxSampleCount;let c=i.slice(-a);const u=c.map(p=>p[e]);if(u.some(p=>typeof p>"u"||p===null))return;let h;if(typeof r.max=="number"&&(h=Bse(r.max,u),h>=s?this._raiseWarning(e,"max",{values:u,samples:c}):h<=o&&this._clearWarning(e,"max",{values:u,samples:c})),typeof r.min=="number"&&(h=Use(r.min,u),h>=s?this._raiseWarning(e,"min",{values:u,samples:c}):h<=o&&this._clearWarning(e,"min",{values:u,samples:c})),typeof r.maxDuration=="number"&&i.length>1){c=i.slice(-2);const p=c[0][e],v=c[1][e],x=this._currentStreaks.get(e)||0,b=p===v?x+1:0;this._currentStreaks.set(e,b),b>=r.maxDuration?this._raiseWarning(e,"maxDuration",{value:b}):b===0&&this._clearWarning(e,"maxDuration",{value:x})}if(typeof r.minStandardDeviation=="number"){const p=this._supplementalSampleBuffers[e];if(!p||p.length<r.sampleCount)return;p.length>r.sampleCount&&p.splice(0,p.length-r.sampleCount);const v=Vse(p.slice(-a)),x=qse(v);if(typeof x!="number")return;x<r.minStandardDeviation?this._raiseWarning(e,"minStandardDeviation",{value:x}):this._clearWarning(e,"minStandardDeviation",{value:x})}[["maxAverage",(p,v)=>p>v],["minAverage",(p,v)=>p<v]].forEach(([p,v])=>{if(typeof r[p]=="number"&&u.length>=a){const x=Ef(u);v(x,r[p])?this._raiseWarning(e,p,{values:u,samples:c}):v(x,r.clearValue||r[p])||this._clearWarning(e,p,{values:u,samples:c})}})})}}const l2={factor:1.1,jitter:.5,max:3e4,min:1},zse=70,Hse=500,Gse=160,Kse=10,Yse=5e3,c2={disconnect:!0,info:{code:31003,message:"Connection with Twilio was interrupted.",twilioError:new Xi.ConnectionError}},u2={packetsLostFraction:{max:"packet-loss",maxAverage:"packets-lost-fraction"}},d2={audioInputLevel:"audio-input-level",audioOutputLevel:"audio-output-level",bytesReceived:"bytes-received",bytesSent:"bytes-sent",jitter:"jitter",mos:"mos",rtt:"rtt"},Xse={max:"high-",maxAverage:"high-",maxDuration:"constant-",min:"low-",minStandardDeviation:"constant-"};class xe extends ni.EventEmitter{get direction(){return this._direction}get codec(){return this._codec}get connectToken(){const e=this._signalingReconnectToken,n=this.parameters&&this.parameters.CallSid?this.parameters.CallSid:void 0;if(!e||!n)return;const r=this.customParameters&&typeof this.customParameters.keys=="function"?Array.from(this.customParameters.keys()).reduce((o,s)=>(o[s]=this.customParameters.get(s),o),{}):{},i=this.parameters||{};return btoa(encodeURIComponent(JSON.stringify({customParameters:r,parameters:i,signalingReconnectToken:e})))}constructor(e,n){super(),this.parameters={},this._inputVolumeStreak=0,this._isAnswered=!1,this._isCancelled=!1,this._isRejected=!1,this._latestInputVolume=0,this._latestOutputVolume=0,this._log=new gn("Call"),this._mediaStatus=xe.State.Pending,this._messages=new Map,this._metricsSamples=[],this._options={MediaHandler:Fe,MediaStream:null,enableImprovedSignalingErrorPrecision:!1,offerSdp:null,shouldPlayDisconnect:()=>!0,voiceEventSidGenerator:hT},this._outputVolumeStreak=0,this._shouldSendHangup=!0,this._signalingStatus=xe.State.Pending,this._soundcache=new Map,this._status=xe.State.Pending,this._wasConnected=!1,this.toString=()=>"[Twilio.Call instance]",this._emitWarning=(s,a,c,u,f,h)=>{const v=`${s}warning${f?"-cleared":"-raised"}`;if(a==="constant-audio-input-level"&&this.isMuted())return;let x=f?"info":"warning";a==="constant-audio-output-level"&&(x="info");const b={threshold:c};if(u&&(u instanceof Array?b.values=u.map(y=>typeof y=="number"?Math.round(y*100)/100:u):b.value=u),this._publisher.post(x,v,a,{data:b},this),a!=="constant-audio-output-level"){const y=f?"warning-cleared":"warning";this._log.debug(`#${y}`,a),this.emit(y,a,h&&!f?h:null)}},this._onAck=s=>{const{acktype:a,callsid:c,voiceeventsid:u}=s;if(this.parameters.CallSid!==c){this._log.warn(`Received ack from a different callsid: ${c}`);return}a==="message"&&this._onMessageSent(u)},this._onAnswer=s=>{typeof s.reconnect=="string"&&(this._signalingReconnectToken=s.reconnect),!(this._isAnswered&&this._status!==xe.State.Reconnecting)&&(this._setCallSid(s),this._isAnswered=!0,this._maybeTransitionToOpen())},this._onCancel=s=>{const a=s.callsid;this.parameters.CallSid===a&&(this._isCancelled=!0,this._publisher.info("connection","cancel",null,this),this._cleanupEventListeners(),this._mediaHandler.close(),this._status=xe.State.Closed,this._log.debug("#cancel"),this.emit("cancel"),this._pstream.removeListener("cancel",this._onCancel))},this._onConnected=()=>{this._log.info("Received connected from pstream"),this._signalingReconnectToken&&this._mediaHandler.version&&this._pstream.reconnect(this._mediaHandler.version.getSDP(),this.parameters.CallSid,this._signalingReconnectToken)},this._onHangup=s=>{if(this.status()!==xe.State.Closed){if(s.callsid&&(this.parameters.CallSid||this.outboundConnectionId)){if(s.callsid!==this.parameters.CallSid&&s.callsid!==this.outboundConnectionId)return}else if(s.callsid)return;if(this._log.info("Received HANGUP from gateway"),s.error){const a=s.error.code,c=aT(this._options.enableImprovedSignalingErrorPrecision,a),u=typeof c<"u"?new c(s.error.message):new Vn.ConnectionError("Error sent from gateway in HANGUP",s.error);this._log.error("Received an error from the gateway:",u),this._log.debug("#error",u),this.emit("error",u)}this._shouldSendHangup=!1,this._publisher.info("connection","disconnected-by-remote",null,this),this._disconnect(null,!0),this._cleanupEventListeners()}},this._onMediaFailure=s=>{const{ConnectionDisconnected:a,ConnectionFailed:c,IceGatheringFailed:u,LowBytes:f}=xe.MediaFailure,h=s===c||s===u;if(!cA(window,window.navigator)&&s===c)return this._mediaHandler.onerror(c2);if(this._mediaStatus===xe.State.Reconnecting){if(h){if(Date.now()-this._mediaReconnectStartTime>l2.max)return this._log.warn("Exceeded max ICE retries"),this._mediaHandler.onerror(c2);try{this._mediaReconnectBackoff.backoff()}catch(b){if(!(b.message&&b.message==="Backoff in progress."))throw b}}return}const p=this._mediaHandler.version.pc,v=p&&p.iceConnectionState==="disconnected",x=this._monitor.hasActiveWarning("bytesSent","min")||this._monitor.hasActiveWarning("bytesReceived","min");if(s===f&&v||s===a&&x||h){const b=new Xi.ConnectionError("Media connection failed.");this._log.warn("ICE Connection disconnected."),this._publisher.warn("connection","error",b,this),this._publisher.info("connection","reconnecting",null,this),this._mediaReconnectStartTime=Date.now(),this._status=xe.State.Reconnecting,this._mediaStatus=xe.State.Reconnecting,this._mediaReconnectBackoff.reset(),this._mediaReconnectBackoff.backoff(),this._log.debug("#reconnecting"),this.emit("reconnecting",b)}},this._onMediaReconnected=()=>{this._mediaStatus===xe.State.Reconnecting&&(this._log.info("ICE Connection reestablished."),this._mediaStatus=xe.State.Open,this._signalingStatus===xe.State.Open&&(this._publisher.info("connection","reconnected",null,this),this._log.debug("#reconnected"),this.emit("reconnected"),this._status=xe.State.Open))},this._onMessageReceived=s=>{const{callsid:a,content:c,contenttype:u,messagetype:f,voiceeventsid:h}=s;if(this.parameters.CallSid!==a){this._log.warn(`Received a message from a different callsid: ${a}`);return}const p={content:c,contentType:u,messageType:f,voiceEventSid:h};this._publisher.info("call-message",f,{content_type:u,event_type:"received",voice_event_sid:h},this),this._log.debug("#messageReceived",JSON.stringify(p)),this.emit("messageReceived",p)},this._onMessageSent=s=>{if(!this._messages.has(s)){this._log.warn(`Received a messageSent with a voiceEventSid that doesn't exists: ${s}`);return}const a=this._messages.get(s);this._messages.delete(s),this._publisher.info("call-message",a==null?void 0:a.messageType,{content_type:a==null?void 0:a.contentType,event_type:"sent",voice_event_sid:s},this),this._log.debug("#messageSent",JSON.stringify(a)),this.emit("messageSent",a)},this._onRinging=s=>{if(this._setCallSid(s),this._status!==xe.State.Connecting&&this._status!==xe.State.Ringing)return;const a=!!s.sdp;this._status=xe.State.Ringing,this._publisher.info("connection","outgoing-ringing",{hasEarlyMedia:a},this),this._log.debug("#ringing"),this.emit("ringing",a)},this._onRTCSample=s=>{const a=Object.assign(Object.assign({},s),{inputVolume:this._latestInputVolume,outputVolume:this._latestOutputVolume});this._codec=a.codecName,this._metricsSamples.push(a),this._metricsSamples.length>=Kse&&this._publishMetrics(),this.emit("sample",s)},this._onSignalingError=s=>{const{callsid:a,voiceeventsid:c,error:u}=s;if(this.parameters.CallSid!==a){this._log.warn(`Received an error from a different callsid: ${a}`);return}if(c&&this._messages.has(c)){this._messages.delete(c),this._log.warn("Received an error while sending a message.",s),this._publisher.error("call-message","error",{code:u.code,message:u.message,voice_event_sid:c},this);let f;const h=aT(!!this._options.enableImprovedSignalingErrorPrecision,u.code);typeof h<"u"&&(f=new h(u)),f||(this._log.error("Unknown Call Message Error: ",u),f=new Vn.UnknownError(u.message,u)),this._log.debug("#error",u,f),this.emit("error",f)}},this._onSignalingReconnected=()=>{this._signalingStatus===xe.State.Reconnecting&&(this._log.info("Signaling Connection reestablished."),this._signalingStatus=xe.State.Open,this._mediaStatus===xe.State.Open&&(this._publisher.info("connection","reconnected",null,this),this._log.debug("#reconnected"),this.emit("reconnected"),this._status=xe.State.Open))},this._onTransportClose=()=>{this._log.error("Received transportClose from pstream"),this._log.debug("#transportClose"),this.emit("transportClose"),this._signalingReconnectToken?(this._status=xe.State.Reconnecting,this._signalingStatus=xe.State.Reconnecting,this._publisher.info("connection","reconnecting",null,this),this._log.debug("#reconnecting"),this.emit("reconnecting",new ei.ConnectionDisconnected)):(this._status=xe.State.Closed,this._signalingStatus=xe.State.Closed)},this._reemitWarning=(s,a)=>{const c=/^audio/.test(s.name)?"audio-level-":"network-quality-",u=Xse[s.threshold.name];let f;s.name in u2?f=u2[s.name][s.threshold.name]:s.name in d2&&(f=d2[s.name]);const h=u+f;this._emitWarning(c,h,s.threshold.value,s.values||s.value,a,s)},this._reemitWarningCleared=s=>{this._reemitWarning(s,!0)},this._soundcache=e.soundcache,typeof e.onIgnore=="function"&&(this._onIgnore=e.onIgnore);const r=n&&n.twimlParams||{};this.customParameters=new Map(Object.entries(r).map(([s,a])=>[s,String(a)])),Object.assign(this._options,n),this._options.callParameters&&(this.parameters=this._options.callParameters),this._options.reconnectToken&&(this._signalingReconnectToken=this._options.reconnectToken),this._voiceEventSidGenerator=this._options.voiceEventSidGenerator||hT,this._direction=this.parameters.CallSid&&!this._options.reconnectCallSid?xe.CallDirection.Incoming:xe.CallDirection.Outgoing,this.parameters?this.callerInfo=this.parameters.StirStatus?{isVerified:this.parameters.StirStatus==="TN-Validation-Passed-A"}:null:this.callerInfo=null,this._mediaReconnectBackoff=new iT(l2),this._mediaReconnectBackoff.on("ready",()=>this._mediaHandler.iceRestart()),this.outboundConnectionId=Qse();const i=this._publisher=e.publisher;this._direction===xe.CallDirection.Incoming?i.info("connection","incoming",null,this):i.info("connection","outgoing",{preflight:this._options.preflight,reconnect:!!this._options.reconnectCallSid},this);const o=this._monitor=new(this._options.StatsMonitor||Wse);o.on("sample",this._onRTCSample),o.disableWarnings(),setTimeout(()=>o.enableWarnings(),Yse),o.on("warning",(s,a)=>{(s.name==="bytesSent"||s.name==="bytesReceived")&&this._onMediaFailure(xe.MediaFailure.LowBytes),this._reemitWarning(s,a)}),o.on("warning-cleared",s=>{this._reemitWarningCleared(s)}),this._mediaHandler=new this._options.MediaHandler(e.audioHelper,e.pstream,{MediaStream:this._options.MediaStream,RTCPeerConnection:this._options.RTCPeerConnection,codecPreferences:this._options.codecPreferences,dscp:this._options.dscp,forceAggressiveIceNomination:this._options.forceAggressiveIceNomination,maxAverageBitrate:this._options.maxAverageBitrate}),this.on("volume",(s,a)=>{this._inputVolumeStreak=this._checkVolume(s,this._inputVolumeStreak,this._latestInputVolume,"input"),this._outputVolumeStreak=this._checkVolume(a,this._outputVolumeStreak,this._latestOutputVolume,"output"),this._latestInputVolume=s,this._latestOutputVolume=a}),this._mediaHandler.onaudio=s=>{this._log.debug("#audio"),this.emit("audio",s)},this._mediaHandler.onvolume=(s,a,c,u)=>{o.addVolumes(c/255*32767,u/255*32767),this.emit("volume",s,a)},this._mediaHandler.ondtlstransportstatechange=s=>{const a=s==="failed"?"error":"debug";this._publisher.post(a,"dtls-transport-state",s,null,this)},this._mediaHandler.onpcconnectionstatechange=s=>{let a="debug";const c=this._mediaHandler.getRTCDtlsTransport();s==="failed"&&(a=c&&c.state==="failed"?"error":"warning"),this._publisher.post(a,"pc-connection-state",s,null,this)},this._mediaHandler.onicecandidate=s=>{const a=new kw(s).toPayload();this._publisher.debug("ice-candidate","ice-candidate",a,this)},this._mediaHandler.onselectedcandidatepairchange=s=>{const a=new kw(s.local).toPayload(),c=new kw(s.remote,!0).toPayload();this._publisher.debug("ice-candidate","selected-ice-candidate-pair",{local_candidate:a,remote_candidate:c},this)},this._mediaHandler.oniceconnectionstatechange=s=>{const a=s==="failed"?"error":"debug";this._publisher.post(a,"ice-connection-state",s,null,this)},this._mediaHandler.onicegatheringfailure=s=>{this._publisher.warn("ice-gathering-state",s,null,this),this._onMediaFailure(xe.MediaFailure.IceGatheringFailed)},this._mediaHandler.onicegatheringstatechange=s=>{this._publisher.debug("ice-gathering-state",s,null,this)},this._mediaHandler.onsignalingstatechange=s=>{this._publisher.debug("signaling-state",s,null,this)},this._mediaHandler.ondisconnected=s=>{this._log.warn(s),this._publisher.warn("network-quality-warning-raised","ice-connectivity-lost",{message:s},this),this._log.debug("#warning","ice-connectivity-lost"),this.emit("warning","ice-connectivity-lost"),this._onMediaFailure(xe.MediaFailure.ConnectionDisconnected)},this._mediaHandler.onfailed=s=>{this._onMediaFailure(xe.MediaFailure.ConnectionFailed)},this._mediaHandler.onconnected=()=>{this._status===xe.State.Reconnecting&&this._onMediaReconnected()},this._mediaHandler.onreconnected=s=>{this._log.info(s),this._publisher.info("network-quality-warning-cleared","ice-connectivity-lost",{message:s},this),this._log.debug("#warning-cleared","ice-connectivity-lost"),this.emit("warning-cleared","ice-connectivity-lost"),this._onMediaReconnected()},this._mediaHandler.onerror=s=>{s.disconnect===!0&&this._disconnect(s.info&&s.info.message);const a=s.info.twilioError||new Vn.UnknownError(s.info.message);this._log.error("Received an error from MediaStream:",s),this._log.debug("#error",a),this.emit("error",a)},this._mediaHandler.onopen=()=>{this._status===xe.State.Open||this._status===xe.State.Reconnecting||(this._status===xe.State.Ringing||this._status===xe.State.Connecting?(this.mute(this._mediaHandler.isMuted),this._mediaStatus=xe.State.Open,this._maybeTransitionToOpen()):this._mediaHandler.close())},this._mediaHandler.onclose=()=>{this._status=xe.State.Closed,this._options.shouldPlayDisconnect&&this._options.shouldPlayDisconnect()&&!this._isCancelled&&!this._isRejected&&this._soundcache.get(_e.SoundName.Disconnect).play(),o.disable(),this._publishMetrics(),!this._isCancelled&&!this._isRejected&&(this._log.debug("#disconnect"),this.emit("disconnect",this))},this._pstream=e.pstream,this._pstream.on("ack",this._onAck),this._pstream.on("cancel",this._onCancel),this._pstream.on("error",this._onSignalingError),this._pstream.on("ringing",this._onRinging),this._pstream.on("transportClose",this._onTransportClose),this._pstream.on("connected",this._onConnected),this._pstream.on("message",this._onMessageReceived),this.on("error",s=>{this._publisher.error("connection","error",{code:s.code,message:s.message},this),this._pstream&&this._pstream.status==="disconnected"&&this._cleanupEventListeners()}),this.on("disconnect",()=>{this._cleanupEventListeners()})}_setInputTracksFromStream(e){return this._mediaHandler.setInputTracksFromStream(e)}_setSinkIds(e){return this._mediaHandler._setSinkIds(e)}accept(e){if(this._log.debug(".accept",e),this._status!==xe.State.Pending){this._log.debug(`.accept noop. status is '${this._status}'`);return}e=e||{};const n=e.rtcConfiguration||this._options.rtcConfiguration,r=e.rtcConstraints||this._options.rtcConstraints||{},i={audio:typeof r.audio<"u"?r.audio:!0};this._status=xe.State.Connecting;const o=()=>{if(this._status!==xe.State.Connecting){this._cleanupEventListeners(),this._mediaHandler.close();return}const c=f=>{const h=this._direction===xe.CallDirection.Incoming?"accepted-by-local":"accepted-by-remote";this._publisher.info("connection",h,null,this);const{codecName:p,codecParams:v}=sse(this._mediaHandler.version.getSDP());this._publisher.info("settings","codec",{codec_params:v,selected_codec:p},this),this._monitor.enable(f)},u=typeof this._options.getSinkIds=="function"&&this._options.getSinkIds();if(Array.isArray(u)&&this._mediaHandler._setSinkIds(u).catch(()=>{}),this._pstream.addListener("hangup",this._onHangup),this._direction===xe.CallDirection.Incoming)this._isAnswered=!0,this._pstream.on("answer",this._onAnswer),this._mediaHandler.answerIncomingCall(this.parameters.CallSid,this._options.offerSdp,n,c);else{const f=Array.from(this.customParameters.entries()).map(h=>`${encodeURIComponent(h[0])}=${encodeURIComponent(h[1])}`).join("&");this._pstream.on("answer",this._onAnswer),this._mediaHandler.makeOutgoingCall(f,this._signalingReconnectToken,this._options.reconnectCallSid||this.outboundConnectionId,n,c)}};this._options.beforeAccept&&this._options.beforeAccept(this);const s=typeof this._options.getInputStream=="function"&&this._options.getInputStream();(s?this._mediaHandler.setInputTracksFromStream(s):this._mediaHandler.openDefaultDeviceWithConstraints(i)).then(()=>{this._publisher.info("get-user-media","succeeded",{data:{audioConstraints:i}},this),o()},c=>{let u;c.code===31208||["PermissionDeniedError","NotAllowedError"].indexOf(c.name)!==-1?(u=new su.PermissionDeniedError,this._publisher.error("get-user-media","denied",{data:{audioConstraints:i,error:c}},this)):(u=new su.AcquisitionFailedError,this._publisher.error("get-user-media","failed",{data:{audioConstraints:i,error:c}},this)),this._disconnect(),this._log.debug("#error",c),this.emit("error",u)})}disconnect(){this._log.debug(".disconnect"),this._disconnect()}getLocalStream(){return this._mediaHandler&&this._mediaHandler.stream}getRemoteStream(){return this._mediaHandler&&this._mediaHandler._remoteStream}ignore(){if(this._log.debug(".ignore"),this._status!==xe.State.Pending){this._log.debug(`.ignore noop. status is '${this._status}'`);return}this._status=xe.State.Closed,this._mediaHandler.ignore(this.parameters.CallSid),this._publisher.info("connection","ignored-by-local",null,this),this._onIgnore&&this._onIgnore()}isMuted(){return this._mediaHandler.isMuted}mute(e=!0){this._log.debug(".mute",e);const n=this._mediaHandler.isMuted;this._mediaHandler.mute(e);const r=this._mediaHandler.isMuted;n!==r&&(this._publisher.info("connection",r?"muted":"unmuted",null,this),this._log.debug("#mute",r),this.emit("mute",r,this))}postFeedback(e,n){if(typeof e>"u"||e===null)return this._postFeedbackDeclined();if(!Object.values(xe.FeedbackScore).includes(e))throw new pt(`Feedback score must be one of: ${Object.values(xe.FeedbackScore)}`);if(typeof n<"u"&&n!==null&&!Object.values(xe.FeedbackIssue).includes(n))throw new pt(`Feedback issue must be one of: ${Object.values(xe.FeedbackIssue)}`);return this._publisher.info("feedback","received",{issue_name:n,quality_score:e},this,!0)}reject(){if(this._log.debug(".reject"),this._status!==xe.State.Pending){this._log.debug(`.reject noop. status is '${this._status}'`);return}this._isRejected=!0,this._pstream.reject(this.parameters.CallSid),this._mediaHandler.reject(this.parameters.CallSid),this._publisher.info("connection","rejected-by-local",null,this),this._cleanupEventListeners(),this._mediaHandler.close(),this._status=xe.State.Closed,this._log.debug("#reject"),this.emit("reject")}sendDigits(e){if(this._log.debug(".sendDigits",e),e.match(/[^0-9*#w]/))throw new pt("Illegal character passed into sendDigits");const n=this._options.customSounds||{},r=[];e.split("").forEach(a=>{let c=a!=="w"?`dtmf${a}`:"";c==="dtmf*"&&(c="dtmfs"),c==="dtmf#"&&(c="dtmfh"),r.push(c)});const i=()=>{const a=r.shift();a&&(this._options.dialtonePlayer&&!n[a]?this._options.dialtonePlayer.play(a):this._soundcache.get(a).play()),r.length&&setTimeout(()=>i(),200)};i();const o=this._mediaHandler.getOrCreateDTMFSender();function s(a){if(!a.length)return;const c=a.shift();c&&c.length&&o.insertDTMF(c,Gse,zse),setTimeout(s.bind(null,a),Hse)}if(o){if(!("canInsertDTMF"in o)||o.canInsertDTMF){this._log.info("Sending digits using RTCDTMFSender"),s(e.split("w"));return}this._log.info("RTCDTMFSender cannot insert DTMF")}if(this._log.info("Sending digits over PStream"),this._pstream!==null&&this._pstream.status!=="disconnected")this._pstream.dtmf(this.parameters.CallSid,e);else{const a=new Vn.ConnectionError("Could not send DTMF: Signaling channel is disconnected");this._log.debug("#error",a),this.emit("error",a)}}sendMessage(e){this._log.debug(".sendMessage",JSON.stringify(e));const{content:n,contentType:r,messageType:i}=e;if(typeof n>"u"||n===null)throw new pt("`content` is empty");if(typeof i!="string")throw new pt("`messageType` must be a string.");if(i.length===0)throw new pt("`messageType` must be a non-empty string.");if(this._pstream===null)throw new bi("Could not send CallMessage; Signaling channel is disconnected");const o=this.parameters.CallSid;if(typeof this.parameters.CallSid>"u")throw new bi("Could not send CallMessage; Call has no CallSid");const s=this._voiceEventSidGenerator();return this._messages.set(s,{content:n,contentType:r,messageType:i,voiceEventSid:s}),this._pstream.sendMessage(o,n,r,i,s),s}status(){return this._status}_checkVolume(e,n,r,i){const o=n>=10;let s=0;return r===e&&(s=n),s>=10?this._emitWarning("audio-level-",`constant-audio-${i}-level`,10,s,!1):o&&this._emitWarning("audio-level-",`constant-audio-${i}-level`,10,s,!0),s}_cleanupEventListeners(){const e=()=>{this._pstream&&(this._pstream.removeListener("ack",this._onAck),this._pstream.removeListener("answer",this._onAnswer),this._pstream.removeListener("cancel",this._onCancel),this._pstream.removeListener("error",this._onSignalingError),this._pstream.removeListener("hangup",this._onHangup),this._pstream.removeListener("ringing",this._onRinging),this._pstream.removeListener("transportClose",this._onTransportClose),this._pstream.removeListener("connected",this._onConnected),this._pstream.removeListener("message",this._onMessageReceived))};e(),setTimeout(e,0)}_createMetricPayload(){const e={call_sid:this.parameters.CallSid,dscp:!!this._options.dscp,sdk_version:Mc};return this._options.gateway&&(e.gateway=this._options.gateway),e.direction=this._direction,e}_disconnect(e,n){if(e=typeof e=="string"?e:null,!(this._status!==xe.State.Open&&this._status!==xe.State.Connecting&&this._status!==xe.State.Reconnecting&&this._status!==xe.State.Ringing)){if(this._log.info("Disconnecting..."),this._pstream!==null&&this._pstream.status!=="disconnected"&&this._shouldSendHangup){const r=this.parameters.CallSid||this.outboundConnectionId;r&&this._pstream.hangup(r,e)}this._cleanupEventListeners(),this._mediaHandler.close(),n||this._publisher.info("connection","disconnected-by-local",null,this)}}_maybeTransitionToOpen(){this._wasConnected,this._isAnswered&&(this._onSignalingReconnected(),this._signalingStatus=xe.State.Open,this._mediaHandler&&this._mediaHandler.status==="open"&&(this._status=xe.State.Open,this._wasConnected||(this._wasConnected=!0,this._log.debug("#accept"),this.emit("accept",this))))}_postFeedbackDeclined(){return this._publisher.info("feedback","received-none",null,this,!0)}_publishMetrics(){this._metricsSamples.length!==0&&this._publisher.postMetrics("quality-metrics-samples","metrics-sample",this._metricsSamples.splice(0),this._createMetricPayload(),this).catch(e=>{this._log.warn("Unable to post metrics to Insights. Received error:",e)})}_setCallSid(e){const n=e.callsid;n&&(this.parameters.CallSid=n,this._mediaHandler.callSid=n)}}xe.toString=()=>"[Twilio.Call class]";(function(t){(function(e){e.Closed="closed",e.Connecting="connecting",e.Open="open",e.Pending="pending",e.Reconnecting="reconnecting",e.Ringing="ringing"})(t.State||(t.State={})),(function(e){e.AudioLatency="audio-latency",e.ChoppyAudio="choppy-audio",e.DroppedCall="dropped-call",e.Echo="echo",e.NoisyCall="noisy-call",e.OneWayAudio="one-way-audio"})(t.FeedbackIssue||(t.FeedbackIssue={})),(function(e){e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five"})(t.FeedbackScore||(t.FeedbackScore={})),(function(e){e.Incoming="INCOMING",e.Outgoing="OUTGOING"})(t.CallDirection||(t.CallDirection={})),(function(e){e.Opus="opus",e.PCMU="pcmu"})(t.Codec||(t.Codec={})),(function(e){e.None="none",e.Timeout="timeout"})(t.IceGatheringFailureReason||(t.IceGatheringFailureReason={})),(function(e){e.ConnectionDisconnected="ConnectionDisconnected",e.ConnectionFailed="ConnectionFailed",e.IceGatheringFailed="IceGatheringFailed",e.LowBytes="LowBytes"})(t.MediaFailure||(t.MediaFailure={}))})(xe||(xe={}));function Qse(){return"TJSxxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}class Jse{constructor(){this.device=null,this.activeCall=null,this.isInitialized=!1,this.onCallAnsweredCallback=null,this.onCallEndedCallback=null,this.onCallErrorCallback=null}async initialize(e="demo@example.com"){if(this.isInitialized&&this.device)return console.log("Twilio Client already initialized"),!0;try{const n=await Ei("twilioGenerateToken",{userEmail:e});return!n.success||!n.token?(console.warn("Twilio not configured, skipping client initialization"),!1):(this.device=new _e(n.token,{codecPreferences:["opus","pcmu"],enableImprovedSignalingErrorPrecision:!0,logLevel:1,maxAverageBitrate:16e3}),this.device.on("registered",()=>{console.log("Twilio Device ready to receive calls"),this.isInitialized=!0}),this.device.on("error",r=>{console.error("Twilio Device Error:",r),this.onCallErrorCallback&&this.onCallErrorCallback(r)}),this.device.on("incoming",r=>{console.log("Incoming call received"),this.activeCall=r,r.on("accept",()=>{console.log("Call accepted"),this.onCallAnsweredCallback&&this.onCallAnsweredCallback(r)}),r.on("disconnect",()=>{console.log("Call disconnected"),this.activeCall=null,this.onCallEndedCallback&&this.onCallEndedCallback()}),r.on("cancel",()=>{console.log("Call canceled"),this.activeCall=null,this.onCallEndedCallback&&this.onCallEndedCallback()}),r.on("reject",()=>{console.log("Call rejected"),this.activeCall=null,this.onCallEndedCallback&&this.onCallEndedCallback()}),r.accept()}),await this.device.register(),console.log("Twilio Client initialized successfully"),!0)}catch(n){return console.error("Error initializing Twilio Client:",n),this.isInitialized=!1,!1}}async getAudioDevices(){if(!this.device)throw new Error("Device not initialized");try{await this.device.audio.setInputDevice("default");const e=await navigator.mediaDevices.enumerateDevices(),n=e.filter(i=>i.kind==="audioinput").map(i=>({deviceId:i.deviceId,label:i.label||`Microphone ${i.deviceId.slice(0,5)}`})),r=e.filter(i=>i.kind==="audiooutput").map(i=>({deviceId:i.deviceId,label:i.label||`Speaker ${i.deviceId.slice(0,5)}`}));return{audioInputs:n,audioOutputs:r}}catch(e){return console.error("Error getting audio devices:",e),{audioInputs:[],audioOutputs:[]}}}async setInputDevice(e){if(!this.device)throw new Error("Device not initialized");try{await this.device.audio.setInputDevice(e),console.log("Input device set to:",e)}catch(n){throw console.error("Error setting input device:",n),n}}async setOutputDevice(e){if(!this.device)throw new Error("Device not initialized");try{await this.device.audio.speakerDevices.set(e),console.log("Output device set to:",e)}catch(n){throw console.error("Error setting output device:",n),n}}muteCall(){return this.activeCall?(this.activeCall.mute(!0),!0):!1}unmuteCall(){return this.activeCall?(this.activeCall.mute(!1),!0):!1}disconnectCall(){return this.activeCall?(this.activeCall.disconnect(),this.activeCall=null,!0):!1}onCallAnswered(e){this.onCallAnsweredCallback=e}onCallEnded(e){this.onCallEndedCallback=e}onCallError(e){this.onCallErrorCallback=e}async destroy(){this.activeCall&&(this.activeCall.disconnect(),this.activeCall=null),this.device&&(this.device.destroy(),this.device=null),this.isInitialized=!1}isReady(){return this.isInitialized&&this.device!==null}hasActiveCall(){return this.activeCall!==null}}const Wn=new Jse;function Zse(t,e){const[n,r]=E.useState(null),[i,o]=E.useState(!1),[s,a]=E.useState(null),c=E.useRef(null),u=E.useRef(!1),f=_=>["completed","ended","failed","busy","no-answer","canceled","voicemail_detected"].includes(_),h=_=>["dialing","queued","ringing","in-progress","connected","initiating"].includes(_),p=_=>({dialing:{label:"Dialing...",color:"text-blue-600",bgColor:"bg-blue-100"},initiating:{label:"Initiating...",color:"text-blue-600",bgColor:"bg-blue-100"},queued:{label:"Queued",color:"text-yellow-600",bgColor:"bg-yellow-100"},ringing:{label:"Ringing...",color:"text-indigo-600",bgColor:"bg-indigo-100"},"in-progress":{label:"Connected",color:"text-green-600",bgColor:"bg-green-100"},connected:{label:"Connected",color:"text-green-600",bgColor:"bg-green-100"},completed:{label:"Ended",color:"text-slate-600",bgColor:"bg-slate-100"},ended:{label:"Ended",color:"text-slate-600",bgColor:"bg-slate-100"},failed:{label:"Failed",color:"text-red-600",bgColor:"bg-red-100"},busy:{label:"Busy",color:"text-orange-600",bgColor:"bg-orange-100"},"no-answer":{label:"No Answer",color:"text-slate-600",bgColor:"bg-slate-100"},canceled:{label:"Canceled",color:"text-slate-600",bgColor:"bg-slate-100"},voicemail_detected:{label:"Voicemail",color:"text-purple-600",bgColor:"bg-purple-100"}})[_]||{label:_,color:"text-slate-600",bgColor:"bg-slate-100"},v=E.useCallback(_=>_?{..._,statusInfo:p(_.status),isActive:h(_.status),isTerminal:f(_.status),secondsSinceStart:_.started_at?Math.floor((Date.now()-new Date(_.started_at).getTime())/1e3):0}:null,[]),x=E.useCallback(async()=>{if(!(!e||u.current)){u.current=!0;try{const{data:_,error:T}=await Ie.from("active_calls").select("*").eq("user_email",t).eq("lead_id",e).order("started_at",{ascending:!1}).limit(1).maybeSingle();if(T)throw T;const S=v(_);r(S),a(null)}catch(_){console.error("Error fetching current call:",_),a(_.message)}finally{u.current=!1}}},[t,e,v]);E.useEffect(()=>{if(!e){r(null);return}x();const _=`call_${t}_${e}_${Date.now()}`,T=Ie.channel(_).on("postgres_changes",{event:"*",schema:"public",table:"active_calls",filter:`user_email=eq.${t}`},S=>{var A;if(console.log("Call update received:",S.eventType,(A=S.new)==null?void 0:A.status),S.eventType==="DELETE")S.old.lead_id===e&&r(null);else if(S.new&&S.new.lead_id===e){const P=v(S.new);r(P)}}).subscribe(S=>{console.log("Subscription status:",S),o(S==="SUBSCRIBED")});return c.current=T,()=>{c.current&&(Ie.removeChannel(c.current),c.current=null)}},[t,e,x,v]);const b=E.useCallback(async()=>{n!=null&&n.call_sid&&(await Ie.from("active_calls").delete().eq("call_sid",n.call_sid),r(null))},[n]),y=E.useCallback(async(_,T={})=>{if(!(n!=null&&n.call_sid))return;const{error:S}=await Ie.from("active_calls").update({status:_,...T}).eq("call_sid",n.call_sid);if(S)throw console.error("Error updating call status:",S),S},[n]);return{currentCall:n,isConnected:i,error:s,refresh:x,clearCall:b,updateCallStatus:y,isActive:(n==null?void 0:n.isActive)||!1,isTerminal:(n==null?void 0:n.isTerminal)||!1}}function nt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function eae(t,e){const n=E.createContext(e),r=o=>{const{children:s,...a}=o,c=E.useMemo(()=>a,Object.values(a));return g.jsx(n.Provider,{value:c,children:s})};r.displayName=t+"Provider";function i(o){const s=E.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function Al(t,e=[]){let n=[];function r(o,s){const a=E.createContext(s),c=n.length;n=[...n,s];const u=h=>{var _;const{scope:p,children:v,...x}=h,b=((_=p==null?void 0:p[t])==null?void 0:_[c])||a,y=E.useMemo(()=>x,Object.values(x));return g.jsx(b.Provider,{value:y,children:v})};u.displayName=o+"Provider";function f(h,p){var b;const v=((b=p==null?void 0:p[t])==null?void 0:b[c])||a,x=E.useContext(v);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,f]}const i=()=>{const o=n.map(s=>E.createContext(s));return function(a){const c=(a==null?void 0:a[t])||o;return E.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,tae(i,...e)]}function tae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...a,...h}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var Gn=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},nae=nC[" useId ".trim().toString()]||(()=>{}),rae=0;function zs(t){const[e,n]=E.useState(nae());return Gn(()=>{n(r=>r??String(rae++))},[t]),e?`radix-${e}`:""}var iae=nC[" useInsertionEffect ".trim().toString()]||Gn;function au({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,s]=oae({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:i;{const f=E.useRef(t!==void 0);E.useEffect(()=>{const h=f.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,r])}const u=E.useCallback(f=>{var h;if(a){const p=sae(f)?f(t):f;p!==t&&((h=s.current)==null||h.call(s,p))}else o(f)},[a,t,o,s]);return[c,u]}function oae({defaultProp:t,onChange:e}){const[n,r]=E.useState(t),i=E.useRef(n),o=E.useRef(e);return iae(()=>{o.current=e},[e]),E.useEffect(()=>{var s;i.current!==n&&((s=o.current)==null||s.call(o,n),i.current=n)},[n,i]),[n,r,o]}function sae(t){return typeof t=="function"}function aae(t){const e=lae(t),n=E.forwardRef((r,i)=>{const{children:o,...s}=r,a=E.Children.toArray(o),c=a.find(uae);if(c){const u=c.props.children,f=a.map(h=>h===c?E.Children.count(u)>1?E.Children.only(null):E.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...s,ref:i,children:E.isValidElement(u)?E.cloneElement(u,void 0,f):null})}return g.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function lae(t){const e=E.forwardRef((n,r)=>{const{children:i,...o}=n;if(E.isValidElement(i)){const s=fae(i),a=dae(o,i.props);return i.type!==E.Fragment&&(a.ref=r?zu(r,s):s),E.cloneElement(i,a)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cae=Symbol("radix.slottable");function uae(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cae}function dae(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const c=o(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function fae(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var hae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],it=hae.reduce((t,e)=>{const n=aae(`Primitive.${e}`),r=E.forwardRef((i,o)=>{const{asChild:s,...a}=i,c=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function pae(t,e){t&&Wh.flushSync(()=>t.dispatchEvent(e))}function Ys(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function mae(t,e=globalThis==null?void 0:globalThis.document){const n=Ys(t);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var gae="DismissableLayer",pT="dismissableLayer.update",vae="dismissableLayer.pointerDownOutside",yae="dismissableLayer.focusOutside",f2,f6=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dA=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...c}=t,u=E.useContext(f6),[f,h]=E.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=E.useState({}),x=Ut(e,k=>h(k)),b=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=b.indexOf(y),T=f?b.indexOf(f):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,A=T>=_,P=xae(k=>{const R=k.target,I=[...u.branches].some(D=>D.contains(R));!A||I||(i==null||i(k),s==null||s(k),k.defaultPrevented||a==null||a())},p),O=_ae(k=>{const R=k.target;[...u.branches].some(D=>D.contains(R))||(o==null||o(k),s==null||s(k),k.defaultPrevented||a==null||a())},p);return mae(k=>{T===u.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},p),E.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(f2=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),h2(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=f2)}},[f,p,n,u]),E.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),h2())},[f,u]),E.useEffect(()=>{const k=()=>v({});return document.addEventListener(pT,k),()=>document.removeEventListener(pT,k)},[]),g.jsx(it.div,{...c,ref:x,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:nt(t.onFocusCapture,O.onFocusCapture),onBlurCapture:nt(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:nt(t.onPointerDownCapture,P.onPointerDownCapture)})});dA.displayName=gae;var bae="DismissableLayerBranch",wae=E.forwardRef((t,e)=>{const n=E.useContext(f6),r=E.useRef(null),i=Ut(e,r);return E.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),g.jsx(it.div,{...t,ref:i})});wae.displayName=bae;function xae(t,e=globalThis==null?void 0:globalThis.document){const n=Ys(t),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){h6(vae,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function _ae(t,e=globalThis==null?void 0:globalThis.document){const n=Ys(t),r=E.useRef(!1);return E.useEffect(()=>{const i=o=>{o.target&&!r.current&&h6(yae,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function h2(){const t=new CustomEvent(pT);document.dispatchEvent(t)}function h6(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?pae(i,o):i.dispatchEvent(o)}var jw="focusScope.autoFocusOnMount",Rw="focusScope.autoFocusOnUnmount",p2={bubbles:!1,cancelable:!0},Sae="FocusScope",fA=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,c]=E.useState(null),u=Ys(i),f=Ys(o),h=E.useRef(null),p=Ut(e,b=>c(b)),v=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let b=function(S){if(v.paused||!a)return;const A=S.target;a.contains(A)?h.current=A:Ts(h.current,{select:!0})},y=function(S){if(v.paused||!a)return;const A=S.relatedTarget;A!==null&&(a.contains(A)||Ts(h.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const P of S)P.removedNodes.length>0&&Ts(a)};document.addEventListener("focusin",b),document.addEventListener("focusout",y);const T=new MutationObserver(_);return a&&T.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",y),T.disconnect()}}},[r,a,v.paused]),E.useEffect(()=>{if(a){g2.add(v);const b=document.activeElement;if(!a.contains(b)){const _=new CustomEvent(jw,p2);a.addEventListener(jw,u),a.dispatchEvent(_),_.defaultPrevented||(Pae(Oae(p6(a)),{select:!0}),document.activeElement===b&&Ts(a))}return()=>{a.removeEventListener(jw,u),setTimeout(()=>{const _=new CustomEvent(Rw,p2);a.addEventListener(Rw,f),a.dispatchEvent(_),_.defaultPrevented||Ts(b??document.body,{select:!0}),a.removeEventListener(Rw,f),g2.remove(v)},0)}}},[a,u,f,v]);const x=E.useCallback(b=>{if(!n&&!r||v.paused)return;const y=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,_=document.activeElement;if(y&&_){const T=b.currentTarget,[S,A]=Tae(T);S&&A?!b.shiftKey&&_===A?(b.preventDefault(),n&&Ts(S,{select:!0})):b.shiftKey&&_===S&&(b.preventDefault(),n&&Ts(A,{select:!0})):_===T&&b.preventDefault()}},[n,r,v.paused]);return g.jsx(it.div,{tabIndex:-1,...s,ref:p,onKeyDown:x})});fA.displayName=Sae;function Pae(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ts(r,{select:e}),document.activeElement!==n)return}function Tae(t){const e=p6(t),n=m2(e,t),r=m2(e.reverse(),t);return[n,r]}function p6(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function m2(t,e){for(const n of t)if(!Eae(n,{upTo:e}))return n}function Eae(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Cae(t){return t instanceof HTMLInputElement&&"select"in t}function Ts(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Cae(t)&&e&&t.select()}}var g2=Aae();function Aae(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=v2(t,e),t.unshift(e)},remove(e){var n;t=v2(t,e),(n=t[0])==null||n.resume()}}}function v2(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Oae(t){return t.filter(e=>e.tagName!=="A")}var kae="Portal",hA=E.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=E.useState(!1);Gn(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?rie.createPortal(g.jsx(it.div,{...r,ref:e}),s):null});hA.displayName=kae;function jae(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var zh=t=>{const{present:e,children:n}=t,r=Rae(e),i=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),o=Ut(r.ref,Nae(i));return typeof n=="function"||r.isPresent?E.cloneElement(i,{ref:o}):null};zh.displayName="Presence";function Rae(t){const[e,n]=E.useState(),r=E.useRef(null),i=E.useRef(t),o=E.useRef("none"),s=t?"mounted":"unmounted",[a,c]=jae(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const u=jm(r.current);o.current=a==="mounted"?u:"none"},[a]),Gn(()=>{const u=r.current,f=i.current;if(f!==t){const p=o.current,v=jm(u);t?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&p!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Gn(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,h=v=>{const b=jm(r.current).includes(CSS.escape(v.animationName));if(v.target===e&&b&&(c("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=v=>{v.target===e&&(o.current=jm(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function jm(t){return(t==null?void 0:t.animationName)||"none"}function Nae(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Nw=0;function m6(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??y2()),document.body.insertAdjacentElement("beforeend",t[1]??y2()),Nw++,()=>{Nw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Nw--}},[])}function y2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var dg="right-scroll-bar-position",fg="width-before-scroll-bar",Iae="with-scroll-bars-hidden",Mae="--removed-body-scroll-bar-size";function Iw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Dae(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var $ae=typeof window<"u"?E.useLayoutEffect:E.useEffect,b2=new WeakMap;function Lae(t,e){var n=Dae(null,function(r){return t.forEach(function(i){return Iw(i,r)})});return $ae(function(){var r=b2.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||Iw(a,null)}),o.forEach(function(a){i.has(a)||Iw(a,s)})}b2.set(n,t)},[t]),n}function Fae(t){return t}function Bae(t,e){e===void 0&&(e=Fae);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var c=function(){var f=s;s=[],f.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){s.push(f),u()},filter:function(f){return s=s.filter(f),n}}}};return i}function Uae(t){t===void 0&&(t={});var e=Bae(null);return e.options=Yr({async:!0,ssr:!1},t),e}var g6=function(t){var e=t.sideCar,n=ea(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Yr({},n))};g6.isSideCarExport=!0;function qae(t,e){return t.useMedium(e),g6}var v6=Uae(),Mw=function(){},fy=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:Mw,onWheelCapture:Mw,onTouchMoveCapture:Mw}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,f=t.enabled,h=t.shards,p=t.sideCar,v=t.noRelative,x=t.noIsolation,b=t.inert,y=t.allowPinchZoom,_=t.as,T=_===void 0?"div":_,S=t.gapMode,A=ea(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,O=Lae([n,e]),k=Yr(Yr({},A),i);return E.createElement(E.Fragment,null,f&&E.createElement(P,{sideCar:v6,removeScrollBar:u,shards:h,noRelative:v,noIsolation:x,inert:b,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:S}),s?E.cloneElement(E.Children.only(a),Yr(Yr({},k),{ref:O})):E.createElement(T,Yr({},k,{className:c,ref:O}),a))});fy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fy.classNames={fullWidth:fg,zeroRight:dg};var Vae=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Wae(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Vae();return e&&t.setAttribute("nonce",e),t}function zae(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Hae(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Gae=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Wae())&&(zae(e,n),Hae(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Kae=function(){var t=Gae();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},y6=function(){var t=Kae(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Yae={left:0,top:0,right:0,gap:0},Dw=function(t){return parseInt(t||"",10)||0},Xae=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Dw(n),Dw(r),Dw(i)]},Qae=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Yae;var e=Xae(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Jae=y6(),Dc="data-scroll-locked",Zae=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Iae,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Dc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dg,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(fg,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(dg," .").concat(dg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fg," .").concat(fg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Dc,`] {
    `).concat(Mae,": ").concat(a,`px;
  }
`)},w2=function(){var t=parseInt(document.body.getAttribute(Dc)||"0",10);return isFinite(t)?t:0},ele=function(){E.useEffect(function(){return document.body.setAttribute(Dc,(w2()+1).toString()),function(){var t=w2()-1;t<=0?document.body.removeAttribute(Dc):document.body.setAttribute(Dc,t.toString())}},[])},tle=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;ele();var o=E.useMemo(function(){return Qae(i)},[i]);return E.createElement(Jae,{styles:Zae(o,!e,i,n?"":"!important")})},mT=!1;if(typeof window<"u")try{var Rm=Object.defineProperty({},"passive",{get:function(){return mT=!0,!0}});window.addEventListener("test",Rm,Rm),window.removeEventListener("test",Rm,Rm)}catch{mT=!1}var uc=mT?{passive:!1}:!1,nle=function(t){return t.tagName==="TEXTAREA"},b6=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!nle(t)&&n[e]==="visible")},rle=function(t){return b6(t,"overflowY")},ile=function(t){return b6(t,"overflowX")},x2=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=w6(t,r);if(i){var o=x6(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ole=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},sle=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},w6=function(t,e){return t==="v"?rle(e):ile(e)},x6=function(t,e){return t==="v"?ole(e):sle(e)},ale=function(t,e){return t==="h"&&e==="rtl"?-1:1},lle=function(t,e,n,r,i){var o=ale(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,c=e.contains(a),u=!1,f=s>0,h=0,p=0;do{if(!a)break;var v=x6(t,a),x=v[0],b=v[1],y=v[2],_=b-y-o*x;(x||_)&&w6(t,a)&&(h+=_,p+=x);var T=a.parentNode;a=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(f&&Math.abs(h)<1||!f&&Math.abs(p)<1)&&(u=!0),u},Nm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_2=function(t){return[t.deltaX,t.deltaY]},S2=function(t){return t&&"current"in t?t.current:t},cle=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ule=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},dle=0,dc=[];function fle(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),i=E.useState(dle++)[0],o=E.useState(y6)[0],s=E.useRef(t);E.useEffect(function(){s.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=UC([t.lockRef.current],(t.shards||[]).map(S2),!0).filter(Boolean);return b.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=E.useCallback(function(b,y){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!s.current.allowPinchZoom;var _=Nm(b),T=n.current,S="deltaX"in b?b.deltaX:T[0]-_[0],A="deltaY"in b?b.deltaY:T[1]-_[1],P,O=b.target,k=Math.abs(S)>Math.abs(A)?"h":"v";if("touches"in b&&k==="h"&&O.type==="range")return!1;var R=window.getSelection(),I=R&&R.anchorNode,D=I?I===O||I.contains(O):!1;if(D)return!1;var M=x2(k,O);if(!M)return!0;if(M?P=k:(P=k==="v"?"h":"v",M=x2(k,O)),!M)return!1;if(!r.current&&"changedTouches"in b&&(S||A)&&(r.current=P),!P)return!0;var U=r.current||P;return lle(U,y,b,U==="h"?S:A)},[]),c=E.useCallback(function(b){var y=b;if(!(!dc.length||dc[dc.length-1]!==o)){var _="deltaY"in y?_2(y):Nm(y),T=e.current.filter(function(P){return P.name===y.type&&(P.target===y.target||y.target===P.shadowParent)&&cle(P.delta,_)})[0];if(T&&T.should){y.cancelable&&y.preventDefault();return}if(!T){var S=(s.current.shards||[]).map(S2).filter(Boolean).filter(function(P){return P.contains(y.target)}),A=S.length>0?a(y,S[0]):!s.current.noIsolation;A&&y.cancelable&&y.preventDefault()}}},[]),u=E.useCallback(function(b,y,_,T){var S={name:b,delta:y,target:_,should:T,shadowParent:hle(_)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(A){return A!==S})},1)},[]),f=E.useCallback(function(b){n.current=Nm(b),r.current=void 0},[]),h=E.useCallback(function(b){u(b.type,_2(b),b.target,a(b,t.lockRef.current))},[]),p=E.useCallback(function(b){u(b.type,Nm(b),b.target,a(b,t.lockRef.current))},[]);E.useEffect(function(){return dc.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,uc),document.addEventListener("touchmove",c,uc),document.addEventListener("touchstart",f,uc),function(){dc=dc.filter(function(b){return b!==o}),document.removeEventListener("wheel",c,uc),document.removeEventListener("touchmove",c,uc),document.removeEventListener("touchstart",f,uc)}},[]);var v=t.removeScrollBar,x=t.inert;return E.createElement(E.Fragment,null,x?E.createElement(o,{styles:ule(i)}):null,v?E.createElement(tle,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function hle(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ple=qae(v6,fle);var pA=E.forwardRef(function(t,e){return E.createElement(fy,Yr({},t,{ref:e,sideCar:ple}))});pA.classNames=fy.classNames;var mle=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},fc=new WeakMap,Im=new WeakMap,Mm={},$w=0,_6=function(t){return t&&(t.host||_6(t.parentNode))},gle=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=_6(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},vle=function(t,e,n,r){var i=gle(e,Array.isArray(t)?t:[t]);Mm[n]||(Mm[n]=new WeakMap);var o=Mm[n],s=[],a=new Set,c=new Set(i),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};i.forEach(u);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))f(p);else try{var v=p.getAttribute(r),x=v!==null&&v!=="false",b=(fc.get(p)||0)+1,y=(o.get(p)||0)+1;fc.set(p,b),o.set(p,y),s.push(p),b===1&&x&&Im.set(p,!0),y===1&&p.setAttribute(n,"true"),x||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return f(e),a.clear(),$w++,function(){s.forEach(function(h){var p=fc.get(h)-1,v=o.get(h)-1;fc.set(h,p),o.set(h,v),p||(Im.has(h)||h.removeAttribute(r),Im.delete(h)),v||h.removeAttribute(n)}),$w--,$w||(fc=new WeakMap,fc=new WeakMap,Im=new WeakMap,Mm={})}},S6=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=mle(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),vle(r,i,n,"aria-hidden")):function(){return null}};function yle(t){const e=ble(t),n=E.forwardRef((r,i)=>{const{children:o,...s}=r,a=E.Children.toArray(o),c=a.find(xle);if(c){const u=c.props.children,f=a.map(h=>h===c?E.Children.count(u)>1?E.Children.only(null):E.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...s,ref:i,children:E.isValidElement(u)?E.cloneElement(u,void 0,f):null})}return g.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function ble(t){const e=E.forwardRef((n,r)=>{const{children:i,...o}=n;if(E.isValidElement(i)){const s=Sle(i),a=_le(o,i.props);return i.type!==E.Fragment&&(a.ref=r?zu(r,s):s),E.cloneElement(i,a)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wle=Symbol("radix.slottable");function xle(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wle}function _le(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const c=o(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function Sle(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var hy="Dialog",[P6]=Al(hy),[Ple,Ni]=P6(hy),T6=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=E.useRef(null),c=E.useRef(null),[u,f]=au({prop:r,defaultProp:i??!1,onChange:o,caller:hy});return g.jsx(Ple,{scope:e,triggerRef:a,contentRef:c,contentId:zs(),titleId:zs(),descriptionId:zs(),open:u,onOpenChange:f,onOpenToggle:E.useCallback(()=>f(h=>!h),[f]),modal:s,children:n})};T6.displayName=hy;var E6="DialogTrigger",C6=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ni(E6,n),o=Ut(e,i.triggerRef);return g.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":vA(i.open),...r,ref:o,onClick:nt(t.onClick,i.onOpenToggle)})});C6.displayName=E6;var mA="DialogPortal",[Tle,A6]=P6(mA,{forceMount:void 0}),O6=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=Ni(mA,e);return g.jsx(Tle,{scope:e,forceMount:n,children:E.Children.map(r,s=>g.jsx(zh,{present:n||o.open,children:g.jsx(hA,{asChild:!0,container:i,children:s})}))})};O6.displayName=mA;var qg="DialogOverlay",k6=E.forwardRef((t,e)=>{const n=A6(qg,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Ni(qg,t.__scopeDialog);return o.modal?g.jsx(zh,{present:r||o.open,children:g.jsx(Cle,{...i,ref:e})}):null});k6.displayName=qg;var Ele=yle("DialogOverlay.RemoveScroll"),Cle=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ni(qg,n);return g.jsx(pA,{as:Ele,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(it.div,{"data-state":vA(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),hl="DialogContent",j6=E.forwardRef((t,e)=>{const n=A6(hl,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Ni(hl,t.__scopeDialog);return g.jsx(zh,{present:r||o.open,children:o.modal?g.jsx(Ale,{...i,ref:e}):g.jsx(Ole,{...i,ref:e})})});j6.displayName=hl;var Ale=E.forwardRef((t,e)=>{const n=Ni(hl,t.__scopeDialog),r=E.useRef(null),i=Ut(e,n.contentRef,r);return E.useEffect(()=>{const o=r.current;if(o)return S6(o)},[]),g.jsx(R6,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nt(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:nt(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:nt(t.onFocusOutside,o=>o.preventDefault())})}),Ole=E.forwardRef((t,e)=>{const n=Ni(hl,t.__scopeDialog),r=E.useRef(!1),i=E.useRef(!1);return g.jsx(R6,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),R6=E.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=Ni(hl,n),c=E.useRef(null),u=Ut(e,c);return m6(),g.jsxs(g.Fragment,{children:[g.jsx(fA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:g.jsx(dA,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":vA(a.open),...s,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(kle,{titleId:a.titleId}),g.jsx(Rle,{contentRef:c,descriptionId:a.descriptionId})]})]})}),gA="DialogTitle",N6=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ni(gA,n);return g.jsx(it.h2,{id:i.titleId,...r,ref:e})});N6.displayName=gA;var I6="DialogDescription",M6=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ni(I6,n);return g.jsx(it.p,{id:i.descriptionId,...r,ref:e})});M6.displayName=I6;var D6="DialogClose",$6=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ni(D6,n);return g.jsx(it.button,{type:"button",...r,ref:e,onClick:nt(t.onClick,()=>i.onOpenChange(!1))})});$6.displayName=D6;function vA(t){return t?"open":"closed"}var L6="DialogTitleWarning",[Dke,F6]=eae(L6,{contentName:hl,titleName:gA,docsSlug:"dialog"}),kle=({titleId:t})=>{const e=F6(L6),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},jle="DialogDescriptionWarning",Rle=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${F6(jle).contentName}}.`;return E.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Nle=T6,Ile=C6,Mle=O6,B6=k6,U6=j6,q6=N6,V6=M6,Dle=$6;const Wf=Nle,$le=Ile,Lle=Mle,W6=E.forwardRef(({className:t,...e},n)=>g.jsx(B6,{ref:n,className:et("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));W6.displayName=B6.displayName;const lu=E.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(Lle,{children:[g.jsx(W6,{}),g.jsxs(U6,{ref:r,className:et("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,g.jsxs(Dle,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[g.jsx(Bh,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));lu.displayName=U6.displayName;const cu=({className:t,...e})=>g.jsx("div",{className:et("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});cu.displayName="DialogHeader";const uu=E.forwardRef(({className:t,...e},n)=>g.jsx(q6,{ref:n,className:et("text-lg font-semibold leading-none tracking-tight",t),...e}));uu.displayName=q6.displayName;const yA=E.forwardRef(({className:t,...e},n)=>g.jsx(V6,{ref:n,className:et("text-sm text-muted-foreground",t),...e}));yA.displayName=V6.displayName;var Fle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ble=Fle.reduce((t,e)=>{const n=$q(`Primitive.${e}`),r=E.forwardRef((i,o)=>{const{asChild:s,...a}=i,c=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Ule="Label",z6=E.forwardRef((t,e)=>g.jsx(Ble.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));z6.displayName=Ule;var H6=z6;const qle=ay("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xt=E.forwardRef(({className:t,...e},n)=>g.jsx(H6,{ref:n,className:et(qle(),t),...e}));xt.displayName=H6.displayName;function P2(t,[e,n]){return Math.min(n,Math.max(e,t))}function T2(t){const e=Vle(t),n=E.forwardRef((r,i)=>{const{children:o,...s}=r,a=E.Children.toArray(o),c=a.find(zle);if(c){const u=c.props.children,f=a.map(h=>h===c?E.Children.count(u)>1?E.Children.only(null):E.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...s,ref:i,children:E.isValidElement(u)?E.cloneElement(u,void 0,f):null})}return g.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function Vle(t){const e=E.forwardRef((n,r)=>{const{children:i,...o}=n;if(E.isValidElement(i)){const s=Gle(i),a=Hle(o,i.props);return i.type!==E.Fragment&&(a.ref=r?zu(r,s):s),E.cloneElement(i,a)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Wle=Symbol("radix.slottable");function zle(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Wle}function Hle(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const c=o(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function Gle(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function G6(t){const e=t+"CollectionProvider",[n,r]=Al(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=b=>{const{scope:y,children:_}=b,T=W.useRef(null),S=W.useRef(new Map).current;return g.jsx(i,{scope:y,itemMap:S,collectionRef:T,children:_})};s.displayName=e;const a=t+"CollectionSlot",c=T2(a),u=W.forwardRef((b,y)=>{const{scope:_,children:T}=b,S=o(a,_),A=Ut(y,S.collectionRef);return g.jsx(c,{ref:A,children:T})});u.displayName=a;const f=t+"CollectionItemSlot",h="data-radix-collection-item",p=T2(f),v=W.forwardRef((b,y)=>{const{scope:_,children:T,...S}=b,A=W.useRef(null),P=Ut(y,A),O=o(f,_);return W.useEffect(()=>(O.itemMap.set(A,{ref:A,...S}),()=>void O.itemMap.delete(A))),g.jsx(p,{[h]:"",ref:P,children:T})});v.displayName=f;function x(b){const y=o(t+"CollectionConsumer",b);return W.useCallback(()=>{const T=y.collectionRef.current;if(!T)return[];const S=Array.from(T.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((O,k)=>S.indexOf(O.ref.current)-S.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:s,Slot:u,ItemSlot:v},x,r]}var Kle=E.createContext(void 0);function bA(t){const e=E.useContext(Kle);return t||e||"ltr"}const Yle=["top","right","bottom","left"],Xs=Math.min,kr=Math.max,Vg=Math.round,Dm=Math.floor,Qi=t=>({x:t,y:t}),Xle={left:"right",right:"left",bottom:"top",top:"bottom"},Qle={start:"end",end:"start"};function gT(t,e,n){return kr(t,Xs(e,n))}function Vo(t,e){return typeof t=="function"?t(e):t}function Wo(t){return t.split("-")[0]}function Ku(t){return t.split("-")[1]}function wA(t){return t==="x"?"y":"x"}function xA(t){return t==="y"?"height":"width"}const Jle=new Set(["top","bottom"]);function zi(t){return Jle.has(Wo(t))?"y":"x"}function _A(t){return wA(zi(t))}function Zle(t,e,n){n===void 0&&(n=!1);const r=Ku(t),i=_A(t),o=xA(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Wg(s)),[s,Wg(s)]}function ece(t){const e=Wg(t);return[vT(t),e,vT(e)]}function vT(t){return t.replace(/start|end/g,e=>Qle[e])}const E2=["left","right"],C2=["right","left"],tce=["top","bottom"],nce=["bottom","top"];function rce(t,e,n){switch(t){case"top":case"bottom":return n?e?C2:E2:e?E2:C2;case"left":case"right":return e?tce:nce;default:return[]}}function ice(t,e,n,r){const i=Ku(t);let o=rce(Wo(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(vT)))),o}function Wg(t){return t.replace(/left|right|bottom|top/g,e=>Xle[e])}function oce(t){return{top:0,right:0,bottom:0,left:0,...t}}function K6(t){return typeof t!="number"?oce(t):{top:t,right:t,bottom:t,left:t}}function zg(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function A2(t,e,n){let{reference:r,floating:i}=t;const o=zi(e),s=_A(e),a=xA(s),c=Wo(e),u=o==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let v;switch(c){case"top":v={x:f,y:r.y-i.height};break;case"bottom":v={x:f,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:h};break;case"left":v={x:r.x-i.width,y:h};break;default:v={x:r.x,y:r.y}}switch(Ku(e)){case"start":v[s]-=p*(n&&u?-1:1);break;case"end":v[s]+=p*(n&&u?-1:1);break}return v}const sce=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=A2(u,r,c),p=r,v={},x=0;for(let b=0;b<a.length;b++){const{name:y,fn:_}=a[b],{x:T,y:S,data:A,reset:P}=await _({x:f,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:v,rects:u,platform:s,elements:{reference:t,floating:e}});f=T??f,h=S??h,v={...v,[y]:{...v[y],...A}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(u=P.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:f,y:h}=A2(u,p,c)),b=-1)}return{x:f,y:h,placement:p,strategy:i,middlewareData:v}};async function zf(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:v=0}=Vo(e,t),x=K6(v),y=a[p?h==="floating"?"reference":"floating":h],_=zg(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:c})),T=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),A=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},P=zg(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:T,offsetParent:S,strategy:c}):T);return{top:(_.top-P.top+x.top)/A.y,bottom:(P.bottom-_.bottom+x.bottom)/A.y,left:(_.left-P.left+x.left)/A.x,right:(P.right-_.right+x.right)/A.x}}const ace=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:c}=e,{element:u,padding:f=0}=Vo(t,e)||{};if(u==null)return{};const h=K6(f),p={x:n,y:r},v=_A(i),x=xA(v),b=await s.getDimensions(u),y=v==="y",_=y?"top":"left",T=y?"bottom":"right",S=y?"clientHeight":"clientWidth",A=o.reference[x]+o.reference[v]-p[v]-o.floating[x],P=p[v]-o.reference[v],O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let k=O?O[S]:0;(!k||!await(s.isElement==null?void 0:s.isElement(O)))&&(k=a.floating[S]||o.floating[x]);const R=A/2-P/2,I=k/2-b[x]/2-1,D=Xs(h[_],I),M=Xs(h[T],I),U=D,V=k-b[x]-M,Y=k/2-b[x]/2+R,Q=gT(U,Y,V),K=!c.arrow&&Ku(i)!=null&&Y!==Q&&o.reference[x]/2-(Y<U?D:M)-b[x]/2<0,J=K?Y<U?Y-U:Y-V:0;return{[v]:p[v]+J,data:{[v]:Q,centerOffset:Y-Q-J,...K&&{alignmentOffset:J}},reset:K}}}),lce=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:b=!0,...y}=Vo(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const _=Wo(i),T=zi(a),S=Wo(a)===a,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),P=p||(S||!b?[Wg(a)]:ece(a)),O=x!=="none";!p&&O&&P.push(...ice(a,b,x,A));const k=[a,...P],R=await zf(e,y),I=[];let D=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&I.push(R[_]),h){const Y=Zle(i,s,A);I.push(R[Y[0]],R[Y[1]])}if(D=[...D,{placement:i,overflows:I}],!I.every(Y=>Y<=0)){var M,U;const Y=(((M=o.flip)==null?void 0:M.index)||0)+1,Q=k[Y];if(Q&&(!(h==="alignment"?T!==zi(Q):!1)||D.every(B=>zi(B.placement)===T?B.overflows[0]>0:!0)))return{data:{index:Y,overflows:D},reset:{placement:Q}};let K=(U=D.filter(J=>J.overflows[0]<=0).sort((J,B)=>J.overflows[1]-B.overflows[1])[0])==null?void 0:U.placement;if(!K)switch(v){case"bestFit":{var V;const J=(V=D.filter(B=>{if(O){const G=zi(B.placement);return G===T||G==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(G=>G>0).reduce((G,L)=>G+L,0)]).sort((B,G)=>B[1]-G[1])[0])==null?void 0:V[0];J&&(K=J);break}case"initialPlacement":K=a;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function O2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function k2(t){return Yle.some(e=>t[e]>=0)}const cce=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Vo(t,e);switch(r){case"referenceHidden":{const o=await zf(e,{...i,elementContext:"reference"}),s=O2(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:k2(s)}}}case"escaped":{const o=await zf(e,{...i,altBoundary:!0}),s=O2(o,n.floating);return{data:{escapedOffsets:s,escaped:k2(s)}}}default:return{}}}}},Y6=new Set(["left","top"]);async function uce(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Wo(n),a=Ku(n),c=zi(n)==="y",u=Y6.has(s)?-1:1,f=o&&c?-1:1,h=Vo(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof x=="number"&&(v=a==="end"?x*-1:x),c?{x:v*f,y:p*u}:{x:p*u,y:v*f}}const dce=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,c=await uce(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:s}}}}},fce=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:y=>{let{x:_,y:T}=y;return{x:_,y:T}}},...c}=Vo(t,e),u={x:n,y:r},f=await zf(e,c),h=zi(Wo(i)),p=wA(h);let v=u[p],x=u[h];if(o){const y=p==="y"?"top":"left",_=p==="y"?"bottom":"right",T=v+f[y],S=v-f[_];v=gT(T,v,S)}if(s){const y=h==="y"?"top":"left",_=h==="y"?"bottom":"right",T=x+f[y],S=x-f[_];x=gT(T,x,S)}const b=a.fn({...e,[p]:v,[h]:x});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[p]:o,[h]:s}}}}}},hce=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Vo(t,e),f={x:n,y:r},h=zi(i),p=wA(h);let v=f[p],x=f[h];const b=Vo(a,e),y=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(c){const S=p==="y"?"height":"width",A=o.reference[p]-o.floating[S]+y.mainAxis,P=o.reference[p]+o.reference[S]-y.mainAxis;v<A?v=A:v>P&&(v=P)}if(u){var _,T;const S=p==="y"?"width":"height",A=Y6.has(Wo(i)),P=o.reference[h]-o.floating[S]+(A&&((_=s.offset)==null?void 0:_[h])||0)+(A?0:y.crossAxis),O=o.reference[h]+o.reference[S]+(A?0:((T=s.offset)==null?void 0:T[h])||0)-(A?y.crossAxis:0);x<P?x=P:x>O&&(x=O)}return{[p]:v,[h]:x}}}},pce=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:c=()=>{},...u}=Vo(t,e),f=await zf(e,u),h=Wo(i),p=Ku(i),v=zi(i)==="y",{width:x,height:b}=o.floating;let y,_;h==="top"||h==="bottom"?(y=h,_=p===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,y=p==="end"?"top":"bottom");const T=b-f.top-f.bottom,S=x-f.left-f.right,A=Xs(b-f[y],T),P=Xs(x-f[_],S),O=!e.middlewareData.shift;let k=A,R=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=T),O&&!p){const D=kr(f.left,0),M=kr(f.right,0),U=kr(f.top,0),V=kr(f.bottom,0);v?R=x-2*(D!==0||M!==0?D+M:kr(f.left,f.right)):k=b-2*(U!==0||V!==0?U+V:kr(f.top,f.bottom))}await c({...e,availableWidth:R,availableHeight:k});const I=await s.getDimensions(a.floating);return x!==I.width||b!==I.height?{reset:{rects:!0}}:{}}}};function py(){return typeof window<"u"}function Yu(t){return X6(t)?(t.nodeName||"").toLowerCase():"#document"}function Nr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ro(t){var e;return(e=(X6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function X6(t){return py()?t instanceof Node||t instanceof Nr(t).Node:!1}function ki(t){return py()?t instanceof Element||t instanceof Nr(t).Element:!1}function eo(t){return py()?t instanceof HTMLElement||t instanceof Nr(t).HTMLElement:!1}function j2(t){return!py()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nr(t).ShadowRoot}const mce=new Set(["inline","contents"]);function Hh(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ji(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!mce.has(i)}const gce=new Set(["table","td","th"]);function vce(t){return gce.has(Yu(t))}const yce=[":popover-open",":modal"];function my(t){return yce.some(e=>{try{return t.matches(e)}catch{return!1}})}const bce=["transform","translate","scale","rotate","perspective"],wce=["transform","translate","scale","rotate","perspective","filter"],xce=["paint","layout","strict","content"];function SA(t){const e=PA(),n=ki(t)?ji(t):t;return bce.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||wce.some(r=>(n.willChange||"").includes(r))||xce.some(r=>(n.contain||"").includes(r))}function _ce(t){let e=Qs(t);for(;eo(e)&&!du(e);){if(SA(e))return e;if(my(e))return null;e=Qs(e)}return null}function PA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Sce=new Set(["html","body","#document"]);function du(t){return Sce.has(Yu(t))}function ji(t){return Nr(t).getComputedStyle(t)}function gy(t){return ki(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Qs(t){if(Yu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||j2(t)&&t.host||ro(t);return j2(e)?e.host:e}function Q6(t){const e=Qs(t);return du(e)?t.ownerDocument?t.ownerDocument.body:t.body:eo(e)&&Hh(e)?e:Q6(e)}function Hf(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Q6(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Nr(i);if(o){const a=yT(s);return e.concat(s,s.visualViewport||[],Hh(i)?i:[],a&&n?Hf(a):[])}return e.concat(i,Hf(i,[],n))}function yT(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function J6(t){const e=ji(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=eo(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Vg(n)!==o||Vg(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function TA(t){return ki(t)?t:t.contextElement}function $c(t){const e=TA(t);if(!eo(e))return Qi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=J6(e);let s=(o?Vg(n.width):n.width)/r,a=(o?Vg(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Pce=Qi(0);function Z6(t){const e=Nr(t);return!PA()||!e.visualViewport?Pce:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Tce(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nr(t)?!1:e}function pl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=TA(t);let s=Qi(1);e&&(r?ki(r)&&(s=$c(r)):s=$c(t));const a=Tce(o,n,r)?Z6(o):Qi(0);let c=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,f=i.width/s.x,h=i.height/s.y;if(o){const p=Nr(o),v=r&&ki(r)?Nr(r):r;let x=p,b=yT(x);for(;b&&r&&v!==x;){const y=$c(b),_=b.getBoundingClientRect(),T=ji(b),S=_.left+(b.clientLeft+parseFloat(T.paddingLeft))*y.x,A=_.top+(b.clientTop+parseFloat(T.paddingTop))*y.y;c*=y.x,u*=y.y,f*=y.x,h*=y.y,c+=S,u+=A,x=Nr(b),b=yT(x)}}return zg({width:f,height:h,x:c,y:u})}function vy(t,e){const n=gy(t).scrollLeft;return e?e.left+n:pl(ro(t)).left+n}function eV(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-vy(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function Ece(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=ro(r),a=e?my(e.floating):!1;if(r===s||a&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Qi(1);const f=Qi(0),h=eo(r);if((h||!h&&!o)&&((Yu(r)!=="body"||Hh(s))&&(c=gy(r)),eo(r))){const v=pl(r);u=$c(r),f.x=v.x+r.clientLeft,f.y=v.y+r.clientTop}const p=s&&!h&&!o?eV(s,c):Qi(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+p.x,y:n.y*u.y-c.scrollTop*u.y+f.y+p.y}}function Cce(t){return Array.from(t.getClientRects())}function Ace(t){const e=ro(t),n=gy(t),r=t.ownerDocument.body,i=kr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=kr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+vy(t);const a=-n.scrollTop;return ji(r).direction==="rtl"&&(s+=kr(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}const R2=25;function Oce(t,e){const n=Nr(t),r=ro(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;const f=PA();(!f||f&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}const u=vy(r);if(u<=0){const f=r.ownerDocument,h=f.body,p=getComputedStyle(h),v=f.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,x=Math.abs(r.clientWidth-h.clientWidth-v);x<=R2&&(o-=x)}else u<=R2&&(o+=u);return{width:o,height:s,x:a,y:c}}const kce=new Set(["absolute","fixed"]);function jce(t,e){const n=pl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=eo(t)?$c(t):Qi(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,c=i*o.x,u=r*o.y;return{width:s,height:a,x:c,y:u}}function N2(t,e,n){let r;if(e==="viewport")r=Oce(t,n);else if(e==="document")r=Ace(ro(t));else if(ki(e))r=jce(e,n);else{const i=Z6(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return zg(r)}function tV(t,e){const n=Qs(t);return n===e||!ki(n)||du(n)?!1:ji(n).position==="fixed"||tV(n,e)}function Rce(t,e){const n=e.get(t);if(n)return n;let r=Hf(t,[],!1).filter(a=>ki(a)&&Yu(a)!=="body"),i=null;const o=ji(t).position==="fixed";let s=o?Qs(t):t;for(;ki(s)&&!du(s);){const a=ji(s),c=SA(s);!c&&a.position==="fixed"&&(i=null),(o?!c&&!i:!c&&a.position==="static"&&!!i&&kce.has(i.position)||Hh(s)&&!c&&tV(t,s))?r=r.filter(f=>f!==s):i=a,s=Qs(s)}return e.set(t,r),r}function Nce(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?my(e)?[]:Rce(e,this._c):[].concat(n),r],a=s[0],c=s.reduce((u,f)=>{const h=N2(e,f,i);return u.top=kr(h.top,u.top),u.right=Xs(h.right,u.right),u.bottom=Xs(h.bottom,u.bottom),u.left=kr(h.left,u.left),u},N2(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Ice(t){const{width:e,height:n}=J6(t);return{width:e,height:n}}function Mce(t,e,n){const r=eo(e),i=ro(e),o=n==="fixed",s=pl(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const c=Qi(0);function u(){c.x=vy(i)}if(r||!r&&!o)if((Yu(e)!=="body"||Hh(i))&&(a=gy(e)),r){const v=pl(e,!0,o,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else i&&u();o&&!r&&i&&u();const f=i&&!r&&!o?eV(i,a):Qi(0),h=s.left+a.scrollLeft-c.x-f.x,p=s.top+a.scrollTop-c.y-f.y;return{x:h,y:p,width:s.width,height:s.height}}function Lw(t){return ji(t).position==="static"}function I2(t,e){if(!eo(t)||ji(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ro(t)===n&&(n=n.ownerDocument.body),n}function nV(t,e){const n=Nr(t);if(my(t))return n;if(!eo(t)){let i=Qs(t);for(;i&&!du(i);){if(ki(i)&&!Lw(i))return i;i=Qs(i)}return n}let r=I2(t,e);for(;r&&vce(r)&&Lw(r);)r=I2(r,e);return r&&du(r)&&Lw(r)&&!SA(r)?n:r||_ce(t)||n}const Dce=async function(t){const e=this.getOffsetParent||nV,n=this.getDimensions,r=await n(t.floating);return{reference:Mce(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $ce(t){return ji(t).direction==="rtl"}const Lce={convertOffsetParentRelativeRectToViewportRelativeRect:Ece,getDocumentElement:ro,getClippingRect:Nce,getOffsetParent:nV,getElementRects:Dce,getClientRects:Cce,getDimensions:Ice,getScale:$c,isElement:ki,isRTL:$ce};function rV(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Fce(t,e){let n=null,r;const i=ro(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const u=t.getBoundingClientRect(),{left:f,top:h,width:p,height:v}=u;if(a||e(),!p||!v)return;const x=Dm(h),b=Dm(i.clientWidth-(f+p)),y=Dm(i.clientHeight-(h+v)),_=Dm(f),S={rootMargin:-x+"px "+-b+"px "+-y+"px "+-_+"px",threshold:kr(0,Xs(1,c))||1};let A=!0;function P(O){const k=O[0].intersectionRatio;if(k!==c){if(!A)return s();k?s(!1,k):r=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!rV(u,t.getBoundingClientRect())&&s(),A=!1}try{n=new IntersectionObserver(P,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,S)}n.observe(t)}return s(!0),o}function Bce(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=TA(t),f=i||o?[...u?Hf(u):[],...Hf(e)]:[];f.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),o&&_.addEventListener("resize",n)});const h=u&&a?Fce(u,n):null;let p=-1,v=null;s&&(v=new ResizeObserver(_=>{let[T]=_;T&&T.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=v)==null||S.observe(e)})),n()}),u&&!c&&v.observe(u),v.observe(e));let x,b=c?pl(t):null;c&&y();function y(){const _=pl(t);b&&!rV(b,_)&&n(),b=_,x=requestAnimationFrame(y)}return n(),()=>{var _;f.forEach(T=>{i&&T.removeEventListener("scroll",n),o&&T.removeEventListener("resize",n)}),h==null||h(),(_=v)==null||_.disconnect(),v=null,c&&cancelAnimationFrame(x)}}const Uce=dce,qce=fce,Vce=lce,Wce=pce,zce=cce,M2=ace,Hce=hce,Gce=(t,e,n)=>{const r=new Map,i={platform:Lce,...n},o={...i.platform,_c:r};return sce(t,e,{...i,platform:o})};var Kce=typeof document<"u",Yce=function(){},hg=Kce?E.useLayoutEffect:Yce;function Hg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Hg(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Hg(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function iV(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function D2(t,e){const n=iV(t);return Math.round(e*n)/n}function Fw(t){const e=E.useRef(t);return hg(()=>{e.current=t}),e}function Xce(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[f,h]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=E.useState(r);Hg(p,r)||v(r);const[x,b]=E.useState(null),[y,_]=E.useState(null),T=E.useCallback(B=>{B!==O.current&&(O.current=B,b(B))},[]),S=E.useCallback(B=>{B!==k.current&&(k.current=B,_(B))},[]),A=o||x,P=s||y,O=E.useRef(null),k=E.useRef(null),R=E.useRef(f),I=c!=null,D=Fw(c),M=Fw(i),U=Fw(u),V=E.useCallback(()=>{if(!O.current||!k.current)return;const B={placement:e,strategy:n,middleware:p};M.current&&(B.platform=M.current),Gce(O.current,k.current,B).then(G=>{const L={...G,isPositioned:U.current!==!1};Y.current&&!Hg(R.current,L)&&(R.current=L,Wh.flushSync(()=>{h(L)}))})},[p,e,n,M,U]);hg(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(B=>({...B,isPositioned:!1})))},[u]);const Y=E.useRef(!1);hg(()=>(Y.current=!0,()=>{Y.current=!1}),[]),hg(()=>{if(A&&(O.current=A),P&&(k.current=P),A&&P){if(D.current)return D.current(A,P,V);V()}},[A,P,V,D,I]);const Q=E.useMemo(()=>({reference:O,floating:k,setReference:T,setFloating:S}),[T,S]),K=E.useMemo(()=>({reference:A,floating:P}),[A,P]),J=E.useMemo(()=>{const B={position:n,left:0,top:0};if(!K.floating)return B;const G=D2(K.floating,f.x),L=D2(K.floating,f.y);return a?{...B,transform:"translate("+G+"px, "+L+"px)",...iV(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:L}},[n,a,K.floating,f.x,f.y]);return E.useMemo(()=>({...f,update:V,refs:Q,elements:K,floatingStyles:J}),[f,V,Q,K,J])}const Qce=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?M2({element:r.current,padding:i}).fn(n):{}:r?M2({element:r,padding:i}).fn(n):{}}}},Jce=(t,e)=>({...Uce(t),options:[t,e]}),Zce=(t,e)=>({...qce(t),options:[t,e]}),eue=(t,e)=>({...Hce(t),options:[t,e]}),tue=(t,e)=>({...Vce(t),options:[t,e]}),nue=(t,e)=>({...Wce(t),options:[t,e]}),rue=(t,e)=>({...zce(t),options:[t,e]}),iue=(t,e)=>({...Qce(t),options:[t,e]});var oue="Arrow",oV=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return g.jsx(it.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});oV.displayName=oue;var sue=oV;function sV(t){const[e,n]=E.useState(void 0);return Gn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,a=u.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var EA="Popper",[aV,lV]=Al(EA),[aue,cV]=aV(EA),uV=t=>{const{__scopePopper:e,children:n}=t,[r,i]=E.useState(null);return g.jsx(aue,{scope:e,anchor:r,onAnchorChange:i,children:n})};uV.displayName=EA;var dV="PopperAnchor",fV=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=cV(dV,n),s=E.useRef(null),a=Ut(e,s),c=E.useRef(null);return E.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||s.current,u!==c.current&&o.onAnchorChange(c.current)}),r?null:g.jsx(it.div,{...i,ref:a})});fV.displayName=dV;var CA="PopperContent",[lue,cue]=aV(CA),hV=E.forwardRef((t,e)=>{var se,ge,oe,fe,ye,re;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:x,...b}=t,y=cV(CA,n),[_,T]=E.useState(null),S=Ut(e,ze=>T(ze)),[A,P]=E.useState(null),O=sV(A),k=(O==null?void 0:O.width)??0,R=(O==null?void 0:O.height)??0,I=r+(o!=="center"?"-"+o:""),D=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},M=Array.isArray(u)?u:[u],U=M.length>0,V={padding:D,boundary:M.filter(due),altBoundary:U},{refs:Y,floatingStyles:Q,placement:K,isPositioned:J,middlewareData:B}=Xce({strategy:"fixed",placement:I,whileElementsMounted:(...ze)=>Bce(...ze,{animationFrame:v==="always"}),elements:{reference:y.anchor},middleware:[Jce({mainAxis:i+R,alignmentAxis:s}),c&&Zce({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?eue():void 0,...V}),c&&tue({...V}),nue({...V,apply:({elements:ze,rects:Le,availableWidth:ct,availableHeight:ut})=>{const{width:Pt,height:Kn}=Le.reference,An=ze.floating.style;An.setProperty("--radix-popper-available-width",`${ct}px`),An.setProperty("--radix-popper-available-height",`${ut}px`),An.setProperty("--radix-popper-anchor-width",`${Pt}px`),An.setProperty("--radix-popper-anchor-height",`${Kn}px`)}}),A&&iue({element:A,padding:a}),fue({arrowWidth:k,arrowHeight:R}),p&&rue({strategy:"referenceHidden",...V})]}),[G,L]=gV(K),$=Ys(x);Gn(()=>{J&&($==null||$())},[J,$]);const F=(se=B.arrow)==null?void 0:se.x,Z=(ge=B.arrow)==null?void 0:ge.y,ae=((oe=B.arrow)==null?void 0:oe.centerOffset)!==0,[me,Te]=E.useState();return Gn(()=>{_&&Te(window.getComputedStyle(_).zIndex)},[_]),g.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:J?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(fe=B.transformOrigin)==null?void 0:fe.x,(ye=B.transformOrigin)==null?void 0:ye.y].join(" "),...((re=B.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(lue,{scope:n,placedSide:G,onArrowChange:P,arrowX:F,arrowY:Z,shouldHideArrow:ae,children:g.jsx(it.div,{"data-side":G,"data-align":L,...b,ref:S,style:{...b.style,animation:J?void 0:"none"}})})})});hV.displayName=CA;var pV="PopperArrow",uue={top:"bottom",right:"left",bottom:"top",left:"right"},mV=E.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=cue(pV,r),s=uue[o.placedSide];return g.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:g.jsx(sue,{...i,ref:n,style:{...i.style,display:"block"}})})});mV.displayName=pV;function due(t){return t!==null}var fue=t=>({name:"transformOrigin",options:t,fn(e){var y,_,T;const{placement:n,rects:r,middlewareData:i}=e,s=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=s?0:t.arrowWidth,c=s?0:t.arrowHeight,[u,f]=gV(n),h={start:"0%",center:"50%",end:"100%"}[f],p=(((_=i.arrow)==null?void 0:_.x)??0)+a/2,v=(((T=i.arrow)==null?void 0:T.y)??0)+c/2;let x="",b="";return u==="bottom"?(x=s?h:`${p}px`,b=`${-c}px`):u==="top"?(x=s?h:`${p}px`,b=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,b=s?h:`${v}px`):u==="left"&&(x=`${r.floating.width+c}px`,b=s?h:`${v}px`),{data:{x,y:b}}}});function gV(t){const[e,n="center"]=t.split("-");return[e,n]}var hue=uV,pue=fV,mue=hV,gue=mV;function vue(t){const e=yue(t),n=E.forwardRef((r,i)=>{const{children:o,...s}=r,a=E.Children.toArray(o),c=a.find(wue);if(c){const u=c.props.children,f=a.map(h=>h===c?E.Children.count(u)>1?E.Children.only(null):E.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...s,ref:i,children:E.isValidElement(u)?E.cloneElement(u,void 0,f):null})}return g.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function yue(t){const e=E.forwardRef((n,r)=>{const{children:i,...o}=n;if(E.isValidElement(i)){const s=_ue(i),a=xue(o,i.props);return i.type!==E.Fragment&&(a.ref=r?zu(r,s):s),E.cloneElement(i,a)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var bue=Symbol("radix.slottable");function wue(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===bue}function xue(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const c=o(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function _ue(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function vV(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var yV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Sue="VisuallyHidden",Pue=E.forwardRef((t,e)=>g.jsx(it.span,{...t,ref:e,style:{...yV,...t.style}}));Pue.displayName=Sue;var Tue=[" ","Enter","ArrowUp","ArrowDown"],Eue=[" ","Enter"],ml="Select",[yy,by,Cue]=G6(ml),[Xu]=Al(ml,[Cue,lV]),wy=lV(),[Aue,ta]=Xu(ml),[Oue,kue]=Xu(ml),bV=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:c,dir:u,name:f,autoComplete:h,disabled:p,required:v,form:x}=t,b=wy(e),[y,_]=E.useState(null),[T,S]=E.useState(null),[A,P]=E.useState(!1),O=bA(u),[k,R]=au({prop:r,defaultProp:i??!1,onChange:o,caller:ml}),[I,D]=au({prop:s,defaultProp:a,onChange:c,caller:ml}),M=E.useRef(null),U=y?x||!!y.closest("form"):!0,[V,Y]=E.useState(new Set),Q=Array.from(V).map(K=>K.props.value).join(";");return g.jsx(hue,{...b,children:g.jsxs(Aue,{required:v,scope:e,trigger:y,onTriggerChange:_,valueNode:T,onValueNodeChange:S,valueNodeHasChildren:A,onValueNodeHasChildrenChange:P,contentId:zs(),value:I,onValueChange:D,open:k,onOpenChange:R,dir:O,triggerPointerDownPosRef:M,disabled:p,children:[g.jsx(yy.Provider,{scope:e,children:g.jsx(Oue,{scope:t.__scopeSelect,onNativeOptionAdd:E.useCallback(K=>{Y(J=>new Set(J).add(K))},[]),onNativeOptionRemove:E.useCallback(K=>{Y(J=>{const B=new Set(J);return B.delete(K),B})},[]),children:n})}),U?g.jsxs(VV,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:h,value:I,onChange:K=>D(K.target.value),disabled:p,form:x,children:[I===void 0?g.jsx("option",{value:""}):null,Array.from(V)]},Q):null]})})};bV.displayName=ml;var wV="SelectTrigger",xV=E.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=wy(n),s=ta(wV,n),a=s.disabled||r,c=Ut(e,s.onTriggerChange),u=by(n),f=E.useRef("touch"),[h,p,v]=zV(b=>{const y=u().filter(S=>!S.disabled),_=y.find(S=>S.value===s.value),T=HV(y,b,_);T!==void 0&&s.onValueChange(T.value)}),x=b=>{a||(s.onOpenChange(!0),v()),b&&(s.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return g.jsx(pue,{asChild:!0,...o,children:g.jsx(it.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":WV(s.value)?"":void 0,...i,ref:c,onClick:nt(i.onClick,b=>{b.currentTarget.focus(),f.current!=="mouse"&&x(b)}),onPointerDown:nt(i.onPointerDown,b=>{f.current=b.pointerType;const y=b.target;y.hasPointerCapture(b.pointerId)&&y.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(x(b),b.preventDefault())}),onKeyDown:nt(i.onKeyDown,b=>{const y=h.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&p(b.key),!(y&&b.key===" ")&&Tue.includes(b.key)&&(x(),b.preventDefault())})})})});xV.displayName=wV;var _V="SelectValue",SV=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,c=ta(_V,n),{onValueNodeHasChildrenChange:u}=c,f=o!==void 0,h=Ut(e,c.onValueNodeChange);return Gn(()=>{u(f)},[u,f]),g.jsx(it.span,{...a,ref:h,style:{pointerEvents:"none"},children:WV(c.value)?g.jsx(g.Fragment,{children:s}):o})});SV.displayName=_V;var jue="SelectIcon",PV=E.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return g.jsx(it.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});PV.displayName=jue;var Rue="SelectPortal",TV=t=>g.jsx(hA,{asChild:!0,...t});TV.displayName=Rue;var gl="SelectContent",EV=E.forwardRef((t,e)=>{const n=ta(gl,t.__scopeSelect),[r,i]=E.useState();if(Gn(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Wh.createPortal(g.jsx(CV,{scope:t.__scopeSelect,children:g.jsx(yy.Slot,{scope:t.__scopeSelect,children:g.jsx("div",{children:t.children})})}),o):null}return g.jsx(AV,{...t,ref:e})});EV.displayName=gl;var vi=10,[CV,na]=Xu(gl),Nue="SelectContentImpl",Iue=vue("SelectContent.RemoveScroll"),AV=E.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:p,collisionPadding:v,sticky:x,hideWhenDetached:b,avoidCollisions:y,..._}=t,T=ta(gl,n),[S,A]=E.useState(null),[P,O]=E.useState(null),k=Ut(e,se=>A(se)),[R,I]=E.useState(null),[D,M]=E.useState(null),U=by(n),[V,Y]=E.useState(!1),Q=E.useRef(!1);E.useEffect(()=>{if(S)return S6(S)},[S]),m6();const K=E.useCallback(se=>{const[ge,...oe]=U().map(re=>re.ref.current),[fe]=oe.slice(-1),ye=document.activeElement;for(const re of se)if(re===ye||(re==null||re.scrollIntoView({block:"nearest"}),re===ge&&P&&(P.scrollTop=0),re===fe&&P&&(P.scrollTop=P.scrollHeight),re==null||re.focus(),document.activeElement!==ye))return},[U,P]),J=E.useCallback(()=>K([R,S]),[K,R,S]);E.useEffect(()=>{V&&J()},[V,J]);const{onOpenChange:B,triggerPointerDownPosRef:G}=T;E.useEffect(()=>{if(S){let se={x:0,y:0};const ge=fe=>{var ye,re;se={x:Math.abs(Math.round(fe.pageX)-(((ye=G.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((re=G.current)==null?void 0:re.y)??0))}},oe=fe=>{se.x<=10&&se.y<=10?fe.preventDefault():S.contains(fe.target)||B(!1),document.removeEventListener("pointermove",ge),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",oe,{capture:!0})}}},[S,B,G]),E.useEffect(()=>{const se=()=>B(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[B]);const[L,$]=zV(se=>{const ge=U().filter(ye=>!ye.disabled),oe=ge.find(ye=>ye.ref.current===document.activeElement),fe=HV(ge,se,oe);fe&&setTimeout(()=>fe.ref.current.focus())}),F=E.useCallback((se,ge,oe)=>{const fe=!Q.current&&!oe;(T.value!==void 0&&T.value===ge||fe)&&(I(se),fe&&(Q.current=!0))},[T.value]),Z=E.useCallback(()=>S==null?void 0:S.focus(),[S]),ae=E.useCallback((se,ge,oe)=>{const fe=!Q.current&&!oe;(T.value!==void 0&&T.value===ge||fe)&&M(se)},[T.value]),me=r==="popper"?bT:OV,Te=me===bT?{side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:p,collisionPadding:v,sticky:x,hideWhenDetached:b,avoidCollisions:y}:{};return g.jsx(CV,{scope:n,content:S,viewport:P,onViewportChange:O,itemRefCallback:F,selectedItem:R,onItemLeave:Z,itemTextRefCallback:ae,focusSelectedItem:J,selectedItemText:D,position:r,isPositioned:V,searchRef:L,children:g.jsx(pA,{as:Iue,allowPinchZoom:!0,children:g.jsx(fA,{asChild:!0,trapped:T.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:nt(i,se=>{var ge;(ge=T.trigger)==null||ge.focus({preventScroll:!0}),se.preventDefault()}),children:g.jsx(dA,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:g.jsx(me,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:se=>se.preventDefault(),..._,...Te,onPlaced:()=>Y(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:nt(_.onKeyDown,se=>{const ge=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!ge&&se.key.length===1&&$(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let fe=U().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(se.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const ye=se.target,re=fe.indexOf(ye);fe=fe.slice(re+1)}setTimeout(()=>K(fe)),se.preventDefault()}})})})})})})});AV.displayName=Nue;var Mue="SelectItemAlignedPosition",OV=E.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=ta(gl,n),s=na(gl,n),[a,c]=E.useState(null),[u,f]=E.useState(null),h=Ut(e,k=>f(k)),p=by(n),v=E.useRef(!1),x=E.useRef(!0),{viewport:b,selectedItem:y,selectedItemText:_,focusSelectedItem:T}=s,S=E.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&b&&y&&_){const k=o.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),D=_.getBoundingClientRect();if(o.dir!=="rtl"){const ye=D.left-R.left,re=I.left-ye,ze=k.left-re,Le=k.width+ze,ct=Math.max(Le,R.width),ut=window.innerWidth-vi,Pt=P2(re,[vi,Math.max(vi,ut-ct)]);a.style.minWidth=Le+"px",a.style.left=Pt+"px"}else{const ye=R.right-D.right,re=window.innerWidth-I.right-ye,ze=window.innerWidth-k.right-re,Le=k.width+ze,ct=Math.max(Le,R.width),ut=window.innerWidth-vi,Pt=P2(re,[vi,Math.max(vi,ut-ct)]);a.style.minWidth=Le+"px",a.style.right=Pt+"px"}const M=p(),U=window.innerHeight-vi*2,V=b.scrollHeight,Y=window.getComputedStyle(u),Q=parseInt(Y.borderTopWidth,10),K=parseInt(Y.paddingTop,10),J=parseInt(Y.borderBottomWidth,10),B=parseInt(Y.paddingBottom,10),G=Q+K+V+B+J,L=Math.min(y.offsetHeight*5,G),$=window.getComputedStyle(b),F=parseInt($.paddingTop,10),Z=parseInt($.paddingBottom,10),ae=k.top+k.height/2-vi,me=U-ae,Te=y.offsetHeight/2,se=y.offsetTop+Te,ge=Q+K+se,oe=G-ge;if(ge<=ae){const ye=M.length>0&&y===M[M.length-1].ref.current;a.style.bottom="0px";const re=u.clientHeight-b.offsetTop-b.offsetHeight,ze=Math.max(me,Te+(ye?Z:0)+re+J),Le=ge+ze;a.style.height=Le+"px"}else{const ye=M.length>0&&y===M[0].ref.current;a.style.top="0px";const ze=Math.max(ae,Q+b.offsetTop+(ye?F:0)+Te)+oe;a.style.height=ze+"px",b.scrollTop=ge-ae+b.offsetTop}a.style.margin=`${vi}px 0`,a.style.minHeight=L+"px",a.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[p,o.trigger,o.valueNode,a,u,b,y,_,o.dir,r]);Gn(()=>S(),[S]);const[A,P]=E.useState();Gn(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const O=E.useCallback(k=>{k&&x.current===!0&&(S(),T==null||T(),x.current=!1)},[S,T]);return g.jsx($ue,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:O,children:g.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:g.jsx(it.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});OV.displayName=Mue;var Due="SelectPopperPosition",bT=E.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=vi,...o}=t,s=wy(n);return g.jsx(mue,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bT.displayName=Due;var[$ue,AA]=Xu(gl,{}),wT="SelectViewport",kV=E.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=na(wT,n),s=AA(wT,n),a=Ut(e,o.onViewportChange),c=E.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(yy.Slot,{scope:n,children:g.jsx(it.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:nt(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=s;if(p!=null&&p.current&&h){const v=Math.abs(c.current-f.scrollTop);if(v>0){const x=window.innerHeight-vi*2,b=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),_=Math.max(b,y);if(_<x){const T=_+v,S=Math.min(x,T),A=T-S;h.style.height=S+"px",h.style.bottom==="0px"&&(f.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});kV.displayName=wT;var jV="SelectGroup",[Lue,Fue]=Xu(jV),Bue=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=zs();return g.jsx(Lue,{scope:n,id:i,children:g.jsx(it.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Bue.displayName=jV;var RV="SelectLabel",NV=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Fue(RV,n);return g.jsx(it.div,{id:i.id,...r,ref:e})});NV.displayName=RV;var Gg="SelectItem",[Uue,IV]=Xu(Gg),MV=E.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=ta(Gg,n),c=na(Gg,n),u=a.value===r,[f,h]=E.useState(o??""),[p,v]=E.useState(!1),x=Ut(e,T=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,T,r,i)}),b=zs(),y=E.useRef("touch"),_=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(Uue,{scope:n,value:r,disabled:i,textId:b,isSelected:u,onItemTextChange:E.useCallback(T=>{h(S=>S||((T==null?void 0:T.textContent)??"").trim())},[]),children:g.jsx(yy.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:g.jsx(it.div,{role:"option","aria-labelledby":b,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:x,onFocus:nt(s.onFocus,()=>v(!0)),onBlur:nt(s.onBlur,()=>v(!1)),onClick:nt(s.onClick,()=>{y.current!=="mouse"&&_()}),onPointerUp:nt(s.onPointerUp,()=>{y.current==="mouse"&&_()}),onPointerDown:nt(s.onPointerDown,T=>{y.current=T.pointerType}),onPointerMove:nt(s.onPointerMove,T=>{var S;y.current=T.pointerType,i?(S=c.onItemLeave)==null||S.call(c):y.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:nt(s.onPointerLeave,T=>{var S;T.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:nt(s.onKeyDown,T=>{var A;((A=c.searchRef)==null?void 0:A.current)!==""&&T.key===" "||(Eue.includes(T.key)&&_(),T.key===" "&&T.preventDefault())})})})})});MV.displayName=Gg;var gf="SelectItemText",DV=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=ta(gf,n),a=na(gf,n),c=IV(gf,n),u=kue(gf,n),[f,h]=E.useState(null),p=Ut(e,_=>h(_),c.onItemTextChange,_=>{var T;return(T=a.itemTextRefCallback)==null?void 0:T.call(a,_,c.value,c.disabled)}),v=f==null?void 0:f.textContent,x=E.useMemo(()=>g.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:b,onNativeOptionRemove:y}=u;return Gn(()=>(b(x),()=>y(x)),[b,y,x]),g.jsxs(g.Fragment,{children:[g.jsx(it.span,{id:c.textId,...o,ref:p}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Wh.createPortal(o.children,s.valueNode):null]})});DV.displayName=gf;var $V="SelectItemIndicator",LV=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return IV($V,n).isSelected?g.jsx(it.span,{"aria-hidden":!0,...r,ref:e}):null});LV.displayName=$V;var xT="SelectScrollUpButton",FV=E.forwardRef((t,e)=>{const n=na(xT,t.__scopeSelect),r=AA(xT,t.__scopeSelect),[i,o]=E.useState(!1),s=Ut(e,r.onScrollButtonChange);return Gn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?g.jsx(UV,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});FV.displayName=xT;var _T="SelectScrollDownButton",BV=E.forwardRef((t,e)=>{const n=na(_T,t.__scopeSelect),r=AA(_T,t.__scopeSelect),[i,o]=E.useState(!1),s=Ut(e,r.onScrollButtonChange);return Gn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;o(f)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?g.jsx(UV,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});BV.displayName=_T;var UV=E.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=na("SelectScrollButton",n),s=E.useRef(null),a=by(n),c=E.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return E.useEffect(()=>()=>c(),[c]),Gn(()=>{var f;const u=a().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),g.jsx(it.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:nt(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:nt(i.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:nt(i.onPointerLeave,()=>{c()})})}),que="SelectSeparator",qV=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return g.jsx(it.div,{"aria-hidden":!0,...r,ref:e})});qV.displayName=que;var ST="SelectArrow",Vue=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=wy(n),o=ta(ST,n),s=na(ST,n);return o.open&&s.position==="popper"?g.jsx(gue,{...i,...r,ref:e}):null});Vue.displayName=ST;var Wue="SelectBubbleInput",VV=E.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=E.useRef(null),o=Ut(r,i),s=vV(e);return E.useEffect(()=>{const a=i.current;if(!a)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==e&&f){const h=new Event("change",{bubbles:!0});f.call(a,e),a.dispatchEvent(h)}},[s,e]),g.jsx(it.select,{...n,style:{...yV,...n.style},ref:o,defaultValue:e})});VV.displayName=Wue;function WV(t){return t===""||t===void 0}function zV(t){const e=Ys(t),n=E.useRef(""),r=E.useRef(0),i=E.useCallback(s=>{const a=n.current+s;e(a),(function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(a)},[e]),o=E.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function HV(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=zue(t,Math.max(o,0));i.length===1&&(s=s.filter(u=>u!==n));const c=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function zue(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Hue=bV,GV=xV,Gue=SV,Kue=PV,Yue=TV,KV=EV,Xue=kV,YV=NV,XV=MV,Que=DV,Jue=LV,QV=FV,JV=BV,ZV=qV;const $2=Hue,L2=Gue,PT=E.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(GV,{ref:r,className:et("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,g.jsx(Kue,{asChild:!0,children:g.jsx(mq,{className:"h-4 w-4 opacity-50"})})]}));PT.displayName=GV.displayName;const eW=E.forwardRef(({className:t,...e},n)=>g.jsx(QV,{ref:n,className:et("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(hte,{className:"h-4 w-4"})}));eW.displayName=QV.displayName;const tW=E.forwardRef(({className:t,...e},n)=>g.jsx(JV,{ref:n,className:et("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(mq,{className:"h-4 w-4"})}));tW.displayName=JV.displayName;const TT=E.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>g.jsx(Yue,{children:g.jsxs(KV,{ref:i,className:et("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[g.jsx(eW,{}),g.jsx(Xue,{className:et("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),g.jsx(tW,{})]})}));TT.displayName=KV.displayName;const Zue=E.forwardRef(({className:t,...e},n)=>g.jsx(YV,{ref:n,className:et("px-2 py-1.5 text-sm font-semibold",t),...e}));Zue.displayName=YV.displayName;const vf=E.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(XV,{ref:r,className:et("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[g.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(Jue,{children:g.jsx(ate,{className:"h-4 w-4"})})}),g.jsx(Que,{children:e})]}));vf.displayName=XV.displayName;const ede=E.forwardRef(({className:t,...e},n)=>g.jsx(ZV,{ref:n,className:et("-mx-1 my-1 h-px bg-muted",t),...e}));ede.displayName=ZV.displayName;function tde(){const[t,e]=E.useState([]),[n,r]=E.useState([]),[i,o]=E.useState("default"),[s,a]=E.useState("default"),[c,u]=E.useState(!1);E.useEffect(()=>{c&&f()},[c]);const f=async()=>{try{const v=await Wn.getAudioDevices();e(v.audioInputs),r(v.audioOutputs)}catch(v){console.error("Failed to load audio devices:",v)}},h=async v=>{try{await Wn.setInputDevice(v),o(v)}catch(x){console.error("Failed to set input device:",x)}},p=async v=>{try{await Wn.setOutputDevice(v),a(v)}catch(x){console.error("Failed to set output device:",x)}};return g.jsxs(Wf,{open:c,onOpenChange:u,children:[g.jsx($le,{asChild:!0,children:g.jsx(Xe,{variant:"outline",size:"icon",className:"rounded-full",children:g.jsx(XC,{className:"w-4 h-4"})})}),g.jsxs(lu,{className:"sm:max-w-[425px]",children:[g.jsxs(cu,{children:[g.jsx(uu,{children:"Audio Device Settings"}),g.jsx(yA,{children:"Select your preferred microphone and speaker for calls"})]}),g.jsxs("div",{className:"space-y-6 py-4",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsxs(xt,{htmlFor:"input-device",className:"flex items-center gap-2",children:[g.jsx(ry,{className:"w-4 h-4"}),"Microphone"]}),g.jsxs($2,{value:i,onValueChange:h,children:[g.jsx(PT,{id:"input-device",children:g.jsx(L2,{placeholder:"Select microphone"})}),g.jsxs(TT,{children:[t.length===0&&g.jsx(vf,{value:"default",children:"Default Microphone"}),t.map(v=>g.jsx(vf,{value:v.deviceId,children:v.label},v.deviceId))]})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs(xt,{htmlFor:"output-device",className:"flex items-center gap-2",children:[g.jsx(Tne,{className:"w-4 h-4"}),"Speaker"]}),g.jsxs($2,{value:s,onValueChange:p,children:[g.jsx(PT,{id:"output-device",children:g.jsx(L2,{placeholder:"Select speaker"})}),g.jsxs(TT,{children:[n.length===0&&g.jsx(vf,{value:"default",children:"Default Speaker"}),n.map(v=>g.jsx(vf,{value:v.deviceId,children:v.label},v.deviceId))]})]})]}),g.jsx("div",{className:"pt-4 border-t",children:g.jsx("p",{className:"text-sm text-slate-500",children:"Make sure to allow microphone access when prompted by your browser"})})]})]})]})}const Bw=[{value:"appointment_set",label:"Appointment Set",icon:ny,points:100,color:"bg-emerald-500"},{value:"callback",label:"Callback Scheduled",icon:_t,points:25,color:"bg-blue-500"},{value:"not_interested",label:"Not Interested",icon:tte,points:10,color:"bg-orange-500"},{value:"no_answer",label:"No Answer",icon:Gte,points:5,color:"bg-slate-500"},{value:"voicemail",label:"Left Voicemail",icon:Sne,points:8,color:"bg-purple-500"},{value:"wrong_number",label:"Wrong Number",icon:Bh,points:2,color:"bg-red-500"}];function nde({lead:t,onClose:e,onComplete:n,onNext:r,onPrev:i,hasNext:o,hasPrev:s,userStats:a,sessionId:c=null,sessionManager:u=null}){var so;const{theme:f,currentTheme:h}=oA(),p="demo@example.com",{currentCall:v,isConnected:x,clearCall:b,updateCallStatus:y}=Zse(p,t==null?void 0:t.id),[_,T]=E.useState(null),[S,A]=E.useState(""),[P,O]=E.useState(""),[k,R]=E.useState(!1),[I,D]=E.useState(!1),[M,U]=E.useState(!1),[V,Y]=E.useState(""),[Q,K]=E.useState(""),[J,B]=E.useState(!1),[G,L]=E.useState(!1),[$,F]=E.useState(!1),[Z,ae]=E.useState(null),[me,Te]=E.useState(0),se=E.useRef(null),ge=(v==null?void 0:v.status)||"idle",oe=(v==null?void 0:v.isActive)||!1,fe=ge==="in-progress"||ge==="connected";E.useEffect(()=>((async()=>{const{data:an}=await Ie.from("dialer_settings").select("*").eq("user_email",p).maybeSingle();ae(an||{use_mock_dialer:!1})})(),(async()=>{const an=await Wn.initialize(p);B(!0),L(an),an&&(Wn.onCallAnswered(()=>{console.log("Twilio call answered in browser")}),Wn.onCallEnded(()=>{console.log("Twilio call ended")}),Wn.onCallError(oi=>{console.error("Twilio call error:",oi),K(`Call error: ${oi.message||"Unknown error"}`)}))})(),()=>{se.current&&clearInterval(se.current)}),[]),E.useEffect(()=>(fe?se.current||(se.current=setInterval(()=>{Te(Je=>Je+1)},1e3)):(se.current&&(clearInterval(se.current),se.current=null),(ge==="idle"||!v)&&Te(0)),()=>{se.current&&(clearInterval(se.current),se.current=null)}),[fe,ge,v]),E.useEffect(()=>{v!=null&&v.last_error&&K(v.last_error)},[v]);const ye=async()=>{if(oe){console.log("Call already in progress");return}K(""),Te(0);try{if((Z==null?void 0:Z.use_mock_dialer)||!1){console.log("Using mock dialer mode");const Tt=await Ei("mockDialerCall",{to:t.phone,leadId:t.id,leadName:t.name,userEmail:p,lineNumber:1,sessionId:c,mockConfig:(Z==null?void 0:Z.mock_config)||{}});if(!Tt.success)throw new Error(Tt.error||"Failed to initiate mock call")}else{console.log("Using real Twilio dialer");const Tt=await Ei("twilioInitiateCall",{to:t.phone,leadId:t.id,leadName:t.name,userEmail:p,lineNumber:1,enableAMD:(Z==null?void 0:Z.auto_detect_voicemail)||!1,amdSensitivity:(Z==null?void 0:Z.amd_sensitivity)||"medium",enableRecording:(Z==null?void 0:Z.enable_call_recording)||!1,sessionId:c});if(Tt.needsSetup)K("Twilio not configured. Enable Demo Mode in Settings to test without Twilio.");else if(!Tt.success)throw new Error(Tt.error||"Failed to initiate call")}}catch(Je){console.error("Error starting call:",Je),K(Je.message||"Failed to initiate call")}},re=async()=>{try{v!=null&&v.is_mock||(await Ei("twilioEndCall",{callSid:v==null?void 0:v.call_sid,userEmail:p}),Wn.disconnectCall()),await y("ended",{ended_at:new Date().toISOString()})}catch(Je){console.error("Error ending call:",Je),await y("ended",{ended_at:new Date().toISOString()})}se.current&&(clearInterval(se.current),se.current=null)},ze=async()=>{try{v!=null&&v.call_sid&&!(v!=null&&v.is_mock)&&await Ei("twilioEndCall",{callSid:v.call_sid,userEmail:p,leadId:t.id}),await b(),K("")}catch(Je){console.error("Error cancelling call:",Je),await b()}},Le=async()=>{oe&&await ze(),e()},ct=()=>{$?(Wn.unmuteCall(),F(!1)):(Wn.muteCall(),F(!0))},ut=Je=>{const Tt=Math.floor(Je/60),an=Je%60;return`${Tt.toString().padStart(2,"0")}:${an.toString().padStart(2,"0")}`},Pt=async Je=>{R(!0),D(!0);try{await new Promise(oi=>setTimeout(oi,1500));const an={appointment_set:`Successfully scheduled an appointment with ${t.name}. Prospect showed strong interest in our solution and agreed to a follow-up meeting. Next steps: Send calendar invite and preparation materials.`,callback:`${t.name} requested a callback at a later time. They seem interested but need more time to consider. Follow up within 24-48 hours to maintain momentum.`,not_interested:`Spoke with ${t.name} who indicated they're not currently interested in our services. They mentioned budget constraints and timing issues. Consider following up in 3-6 months.`,no_answer:`No answer on this call attempt. Phone rang but ${t.name} did not pick up. Recommend trying again at a different time of day, potentially early morning or late afternoon.`,voicemail:`Left a professional voicemail for ${t.name} introducing our services. Mentioned key value propositions and requested a callback. Track for response within 48 hours.`,wrong_number:`Incorrect contact information on file for ${t.name}. The number reached does not belong to the prospect. Data needs to be updated with correct contact details.`}[_]||`Call completed with ${t.name}. Duration: ${Math.floor(me/60)}m ${me%60}s.`;O(an)}finally{R(!1),U(!1)}},Kn=async()=>{if(!_){Y("Please select a call outcome first");return}U(!0),Y("");try{const Je=Bw.find(Mi=>Mi.value===_),{data:Tt,error:an}=await Ie.from("call_logs").insert({lead_id:t.id,lead_name:t.name,duration:me,outcome:_,points_earned:Je.points,notes:S,user_email:p,session_id:c,has_recording:(Z==null?void 0:Z.enable_call_recording)||!1}).select().single();if(an)throw an;const{error:oi}=await Ie.from("leads").update({status:_==="appointment_set"?"appointment_set":_==="not_interested"?"not_interested":_==="no_answer"?"no_answer":"contacted",last_called:new Date().toISOString(),last_called_at:new Date().toISOString(),last_called_by:p,call_count:(t.call_count||0)+1,notes:S?`${t.notes||""}
[${new Date().toLocaleDateString()}]: ${S}`:t.notes}).eq("id",t.id);if(oi)throw oi;if(a){const Mi=_==="appointment_set"?(a.current_streak||0)+1:0,{error:sd}=await Ie.from("user_stats").update({total_points:(a.total_points||0)+Je.points,calls_today:(a.calls_today||0)+1,appointments_today:_==="appointment_set"?(a.appointments_today||0)+1:a.appointments_today,current_streak:Mi,best_streak:Math.max(Mi,a.best_streak||0),mascot_mood:Mi>=3?"excited":(a.calls_today||0)+1>=10?"happy":"neutral"}).eq("id",a.id);if(sd)throw sd}await b(),Tt!=null&&Tt.id&&await Pt(Tt.id)}catch(Je){console.error("Error submitting call:",Je),Y(Je.message||"Failed to save call. Please try again."),U(!1)}},An=ge==="idle"||!v,xr=ge==="dialing"||ge==="initiating"||ge==="queued"||ge==="ringing",On=fe,_r=ge==="ended"||(v==null?void 0:v.isTerminal)&&ge!=="idle";return g.jsx(pe.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:g.jsxs(pe.div,{className:"rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden bg-white relative",initial:{scale:.9,y:20},animate:{scale:1,y:0},children:[g.jsxs("div",{className:"p-6 text-white relative bg-gradient-to-r from-blue-600 to-cyan-600",children:[g.jsxs("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 flex gap-2 z-30",children:[s&&g.jsx("button",{onClick:i,disabled:oe,className:"p-2 hover:bg-white/20 rounded-full transition-all disabled:opacity-30 disabled:cursor-not-allowed",children:g.jsx(ute,{className:"w-5 h-5"})}),o&&g.jsx("button",{onClick:r,disabled:oe,className:"p-2 hover:bg-white/20 rounded-full transition-all disabled:opacity-30 disabled:cursor-not-allowed",children:g.jsx(kI,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-30",children:[x?g.jsx(One,{className:"w-4 h-4 text-white/60",title:"Real-time connected"}):g.jsx(Cne,{className:"w-4 h-4 text-white/40",title:"Real-time disconnected"}),G&&g.jsx(tde,{}),g.jsx("button",{onClick:Le,className:"p-2 hover:bg-white/20 rounded-full transition-all",children:g.jsx(Bh,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-2xl font-bold",children:t==null?void 0:t.name}),g.jsx("p",{className:"text-white/80 mt-1",children:t==null?void 0:t.company}),g.jsx("p",{className:"text-xl font-mono mt-3",children:t==null?void 0:t.phone}),(v==null?void 0:v.is_mock)&&g.jsx("div",{className:"mt-2 inline-block px-3 py-1 bg-white/20 rounded-full text-xs",children:"Demo Mode"})]}),On&&g.jsx(pe.div,{className:"text-center mt-4",initial:{scale:0},animate:{scale:1},children:g.jsx("span",{className:"text-4xl font-mono font-bold",children:ut(me)})}),xr&&g.jsx(pe.div,{className:"text-center mt-4",initial:{opacity:0},animate:{opacity:1},children:g.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 rounded-full",children:[g.jsx(Tf,{className:"w-4 h-4 animate-spin"}),g.jsx("span",{className:"text-sm font-medium",children:((so=v==null?void 0:v.statusInfo)==null?void 0:so.label)||"Calling..."})]})})]}),g.jsxs("div",{className:"p-6",children:[An&&g.jsxs(pe.div,{className:"text-center space-y-4",children:[Q&&g.jsx(pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm",children:Q}),g.jsxs(Xe,{onClick:ye,className:"w-full h-16 text-xl font-semibold rounded-2xl shadow-lg bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 shadow-green-500/30",children:[g.jsx(_t,{className:"w-6 h-6 mr-3"}),"Start Call"]})]}),xr&&g.jsxs(pe.div,{className:"text-center py-6 space-y-4",initial:{opacity:0},animate:{opacity:1},children:[g.jsxs("p",{className:"text-slate-600 font-medium",children:["Connecting to ",t.name,"..."]}),g.jsx("p",{className:"text-slate-400 text-sm",children:"Please wait while we establish the connection"}),g.jsxs(Xe,{onClick:ze,variant:"outline",className:"border-red-500 text-red-500 hover:bg-red-50",children:[g.jsx(QP,{className:"w-4 h-4 mr-2"}),"Cancel Call"]})]}),On&&g.jsxs(pe.div,{className:"flex justify-center gap-4",initial:{opacity:0},animate:{opacity:1},children:[g.jsx(Xe,{onClick:ct,variant:"outline",className:"h-14 px-6 rounded-2xl",children:$?g.jsx(gq,{className:"w-5 h-5"}):g.jsx(ry,{className:"w-5 h-5"})}),g.jsxs(Xe,{onClick:re,className:"h-14 px-8 bg-gradient-to-r rounded-2xl shadow-lg from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 shadow-red-500/30",children:[g.jsx(QP,{className:"w-5 h-5 mr-2"}),"End Call"]})]}),_r&&g.jsxs(pe.div,{className:"space-y-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[g.jsx("h3",{className:"font-semibold text-slate-700 mb-3",children:"Call Outcome"}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:Bw.map(Je=>{const Tt=Je.icon,an=_===Je.value;return g.jsx(pe.button,{onClick:()=>T(Je.value),className:`
                        p-4 rounded-2xl border-2 transition-all text-left
                        ${an?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300"}
                      `,whileHover:{scale:1.02},whileTap:{scale:.98},children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-xl ${Je.color}`,children:g.jsx(Tt,{className:"w-4 h-4 text-white"})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-slate-700 text-sm",children:Je.label}),g.jsxs("p",{className:"text-xs text-emerald-600 font-semibold",children:["+",Je.points," pts"]})]})]})},Je.value)})}),g.jsx(Qq,{placeholder:"Add notes about the call...",value:S,onChange:Je=>A(Je.target.value),className:"rounded-2xl border-slate-200 resize-none h-24"}),V&&g.jsx(pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm",children:V}),g.jsx(Xe,{onClick:Kn,disabled:!_||M||k,className:"w-full h-14 bg-gradient-to-r rounded-2xl text-lg font-semibold shadow-lg disabled:opacity-50 from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 shadow-blue-500/30",children:M?g.jsxs(g.Fragment,{children:[g.jsx(Tf,{className:"w-5 h-5 mr-2 animate-spin"}),"Saving..."]}):g.jsxs(g.Fragment,{children:["Complete & Earn Points",g.jsx(kI,{className:"w-5 h-5 ml-2"})]})}),g.jsx(Pl,{children:I&&g.jsxs(pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-2xl",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g.jsx(QC,{className:"w-4 h-4 text-blue-600"}),g.jsx("h4",{className:"text-sm font-semibold text-blue-900",children:"AI Call Summary"})]}),k?g.jsxs("div",{className:"flex items-center gap-2 text-blue-600 text-sm",children:[g.jsx(Tf,{className:"w-4 h-4 animate-spin"}),g.jsx("span",{children:"Analyzing call..."})]}):g.jsxs(g.Fragment,{children:[g.jsx("p",{className:"text-slate-700 text-sm leading-relaxed mb-3",children:P}),g.jsx(Xe,{onClick:async()=>{var Tt;const Je=((Tt=Bw.find(an=>an.value===_))==null?void 0:Tt.points)||0;n(Je,c),await Le()},className:"w-full bg-blue-600 hover:bg-blue-700",children:"Done"})]})]})})]})]})]})})}function rde({points:t,isVisible:e,onComplete:n}){return g.jsx(Pl,{children:e&&g.jsxs(pe.div,{className:"fixed inset-0 flex items-center justify-center z-[60] pointer-events-none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onAnimationComplete:()=>{setTimeout(n,1500)},children:[g.jsx(pe.div,{className:"bg-gradient-to-br from-amber-400 via-yellow-400 to-orange-500 rounded-3xl p-8 shadow-2xl shadow-yellow-500/50",initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},exit:{scale:0,y:-100},transition:{type:"spring",damping:15},children:g.jsxs("div",{className:"flex flex-col items-center text-white",children:[g.jsx(pe.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5,repeat:2},children:g.jsx(QC,{className:"w-12 h-12 mb-2"})}),g.jsxs(pe.span,{className:"text-6xl font-bold",initial:{y:20},animate:{y:0},children:["+",t]}),g.jsx("span",{className:"text-xl font-semibold mt-1",children:"POINTS!"})]})}),[...Array(12)].map((r,i)=>g.jsx(pe.div,{className:"absolute w-4 h-4 rounded-full",style:{background:["#fbbf24","#f97316","#a855f7","#3b82f6","#10b981"][i%5]},initial:{x:0,y:0,scale:1},animate:{x:(Math.random()-.5)*400,y:(Math.random()-.5)*400,scale:0,opacity:0},transition:{duration:1,delay:i*.05,ease:"easeOut"}},i))]})})}function ide(){var a;const[t,e]=E.useState(0),{data:n,isLoading:r,error:i,refetch:o}=kt({queryKey:["performanceTips",t],queryFn:async()=>await Ei("generatePerformanceTips",{}),staleTime:300*1e3,retry:2}),s=()=>{e(c=>c+1),o()};return g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-indigo-500/30",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(QC,{className:"w-5 h-5 text-indigo-400"}),g.jsx("h3",{className:"text-lg font-bold text-white",children:"AI Performance Coach"})]}),g.jsx(Xe,{variant:"ghost",size:"icon",onClick:s,disabled:r,className:"text-indigo-400 hover:text-indigo-300 hover:bg-indigo-500/10",children:r?g.jsx(Tf,{className:"w-4 h-4 animate-spin"}):g.jsx(Jte,{className:"w-4 h-4"})})]}),g.jsx(Pl,{mode:"wait",children:r?g.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-8 text-center",children:[g.jsx(Tf,{className:"w-8 h-8 text-indigo-400 animate-spin mx-auto mb-2"}),g.jsx("p",{className:"text-purple-300 text-sm",children:"Analyzing your performance..."})]},"loading"):i?g.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-8 text-center",children:g.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl",children:[g.jsx("p",{className:"text-red-400 text-sm mb-3",children:"Failed to load performance tips"}),g.jsx(Xe,{onClick:s,size:"sm",className:"bg-red-500 hover:bg-red-600",children:"Try Again"})]})},"error"):g.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-3",children:[(a=n==null?void 0:n.tips)==null?void 0:a.map((c,u)=>g.jsxs(pe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.1},className:"flex items-start gap-3 p-4 bg-indigo-500/10 rounded-xl border border-indigo-500/20",children:[g.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full mt-2 flex-shrink-0"}),g.jsx("div",{children:g.jsx("p",{className:"text-purple-300 text-sm leading-relaxed",children:c})})]},u)),(n==null?void 0:n.metrics)&&g.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-900/30 rounded-xl mt-4",children:[g.jsx("span",{className:"text-purple-300 text-sm",children:"Overall Performance"}),g.jsxs("span",{className:"text-white font-semibold flex items-center gap-1",children:[g.jsx(Bo,{className:"w-4 h-4 text-emerald-400"}),n.metrics.successRate,"%"]})]})]},"tips")})]})}function mt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Js(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const nW=6048e5,ode=864e5,rW=6e4,iW=36e5,$m=43200,F2=1440;let sde={};function Gh(){return sde}function vl(t,e){var a,c,u,f;const n=Gh(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=mt(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Kg(t){return vl(t,{weekStartsOn:1})}function oW(t){const e=mt(t),n=e.getFullYear(),r=Js(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Kg(r),o=Js(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Kg(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function ET(t){const e=mt(t);return e.setHours(0,0,0,0),e}function Yg(t){const e=mt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ade(t,e){const n=ET(t),r=ET(e),i=+n-Yg(n),o=+r-Yg(r);return Math.round((i-o)/ode)}function lde(t){const e=oW(t),n=Js(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Kg(n)}function pg(t,e){const n=mt(t),r=mt(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function cde(t){return Js(t,Date.now())}function ude(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function dde(t){if(!ude(t)&&typeof t!="number")return!1;const e=mt(t);return!isNaN(Number(e))}function fde(t,e){const n=mt(t),r=mt(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function hde(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function pde(t,e){return+mt(t)-+mt(e)}function mde(t){const e=mt(t);return e.setHours(23,59,59,999),e}function gde(t){const e=mt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function vde(t){const e=mt(t);return+mde(e)==+gde(e)}function yde(t,e){const n=mt(t),r=mt(e),i=pg(n,r),o=Math.abs(fde(n,r));let s;if(o<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*o);let a=pg(n,r)===-i;vde(mt(t))&&o===1&&pg(t,r)===1&&(a=!1),s=i*(o-Number(a))}return s===0?0:s}function bde(t,e,n){const r=pde(t,e)/1e3;return hde(n==null?void 0:n.roundingMethod)(r)}function wde(t){const e=mt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function xde(t){const e=mt(t),n=Js(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const _de={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Sde=(t,e,n)=>{let r;const i=_de[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Uw(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Pde={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Tde={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ede={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cde={date:Uw({formats:Pde,defaultWidth:"full"}),time:Uw({formats:Tde,defaultWidth:"full"}),dateTime:Uw({formats:Ede,defaultWidth:"full"})},Ade={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ode=(t,e,n,r)=>Ade[t];function Qd(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const kde={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Rde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Nde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ide={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Mde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Dde=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$de={ordinalNumber:Dde,era:Qd({values:kde,defaultWidth:"wide"}),quarter:Qd({values:jde,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Qd({values:Rde,defaultWidth:"wide"}),day:Qd({values:Nde,defaultWidth:"wide"}),dayPeriod:Qd({values:Ide,defaultWidth:"wide",formattingValues:Mde,defaultFormattingWidth:"wide"})};function Jd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?Fde(a,h=>h.test(s)):Lde(a,h=>h.test(s));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const f=e.slice(s.length);return{value:u,rest:f}}}function Lde(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Fde(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Bde(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const Ude=/^(\d+)(th|st|nd|rd)?/i,qde=/\d+/i,Vde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Wde={any:[/^b/i,/^(a|c)/i]},zde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Hde={any:[/1/i,/2/i,/3/i,/4/i]},Gde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Kde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Yde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xde={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Qde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Jde={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zde={ordinalNumber:Bde({matchPattern:Ude,parsePattern:qde,valueCallback:t=>parseInt(t,10)}),era:Jd({matchPatterns:Vde,defaultMatchWidth:"wide",parsePatterns:Wde,defaultParseWidth:"any"}),quarter:Jd({matchPatterns:zde,defaultMatchWidth:"wide",parsePatterns:Hde,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Jd({matchPatterns:Gde,defaultMatchWidth:"wide",parsePatterns:Kde,defaultParseWidth:"any"}),day:Jd({matchPatterns:Yde,defaultMatchWidth:"wide",parsePatterns:Xde,defaultParseWidth:"any"}),dayPeriod:Jd({matchPatterns:Qde,defaultMatchWidth:"any",parsePatterns:Jde,defaultParseWidth:"any"})},sW={code:"en-US",formatDistance:Sde,formatLong:Cde,formatRelative:Ode,localize:$de,match:Zde,options:{weekStartsOn:0,firstWeekContainsDate:1}};function efe(t){const e=mt(t);return ade(e,xde(e))+1}function tfe(t){const e=mt(t),n=+Kg(e)-+lde(e);return Math.round(n/nW)+1}function aW(t,e){var f,h,p,v;const n=mt(t),r=n.getFullYear(),i=Gh(),o=(e==null?void 0:e.firstWeekContainsDate)??((h=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(p=i.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,s=Js(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=vl(s,e),c=Js(t,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const u=vl(c,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function nfe(t,e){var a,c,u,f;const n=Gh(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=aW(t,e),o=Js(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),vl(o,e)}function rfe(t,e){const n=mt(t),r=+vl(n,e)-+nfe(n,e);return Math.round(r/nW)+1}function yt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const _s={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return yt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):yt(n+1,2)},d(t,e){return yt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return yt(t.getHours()%12||12,e.length)},H(t,e){return yt(t.getHours(),e.length)},m(t,e){return yt(t.getMinutes(),e.length)},s(t,e){return yt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return yt(i,e.length)}},hc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},B2={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return _s.y(t,e)},Y:function(t,e,n,r){const i=aW(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return yt(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):yt(o,e.length)},R:function(t,e){const n=oW(t);return yt(n,e.length)},u:function(t,e){const n=t.getFullYear();return yt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return yt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return yt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return _s.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return yt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=rfe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):yt(i,e.length)},I:function(t,e,n){const r=tfe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):yt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):_s.d(t,e)},D:function(t,e,n){const r=efe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):yt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return yt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return yt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return yt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=hc.noon:r===0?i=hc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=hc.evening:r>=12?i=hc.afternoon:r>=4?i=hc.morning:i=hc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return _s.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):_s.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):_s.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):_s.s(t,e)},S:function(t,e){return _s.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return q2(r);case"XXXX":case"XX":return ja(r);case"XXXXX":case"XXX":default:return ja(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return q2(r);case"xxxx":case"xx":return ja(r);case"xxxxx":case"xxx":default:return ja(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+U2(r,":");case"OOOO":default:return"GMT"+ja(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+U2(r,":");case"zzzz":default:return"GMT"+ja(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return yt(r,e.length)},T:function(t,e,n){const r=t.getTime();return yt(r,e.length)}};function U2(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+yt(o,2)}function q2(t,e){return t%60===0?(t>0?"-":"+")+yt(Math.abs(t)/60,2):ja(t,e)}function ja(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=yt(Math.trunc(r/60),2),o=yt(r%60,2);return n+i+e+o}const V2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},lW=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ife=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return V2(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",V2(r,e)).replace("{{time}}",lW(i,e))},ofe={p:lW,P:ife},sfe=/^D+$/,afe=/^Y+$/,lfe=["D","DD","YY","YYYY"];function cfe(t){return sfe.test(t)}function ufe(t){return afe.test(t)}function dfe(t,e,n){const r=ffe(t,e,n);if(console.warn(r),lfe.includes(t))throw new RangeError(r)}function ffe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mfe=/^'([^]*?)'?$/,gfe=/''/g,vfe=/[a-zA-Z]/;function W2(t,e,n){var f,h,p,v;const r=Gh(),i=r.locale??sW,o=r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=r.weekStartsOn??((v=(p=r.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,a=mt(t);if(!dde(a))throw new RangeError("Invalid time value");let c=e.match(pfe).map(x=>{const b=x[0];if(b==="p"||b==="P"){const y=ofe[b];return y(x,i.formatLong)}return x}).join("").match(hfe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:yfe(x)};if(B2[b])return{isToken:!0,value:x};if(b.match(vfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(c=i.localize.preprocessor(a,c));const u={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(ufe(b)||cfe(b))&&dfe(b,e,String(t));const y=B2[b[0]];return y(a,b,i.localize,u)}).join("")}function yfe(t){const e=t.match(mfe);return e?e[1].replace(gfe,"'"):t}function bfe(t,e,n){const r=Gh(),i=(n==null?void 0:n.locale)??r.locale??sW,o=2520,s=pg(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s});let c,u;s>0?(c=mt(e),u=mt(t)):(c=mt(t),u=mt(e));const f=bde(u,c),h=(Yg(u)-Yg(c))/1e3,p=Math.round((f-h)/60);let v;if(p<2)return n!=null&&n.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,a):f<10?i.formatDistance("lessThanXSeconds",10,a):f<20?i.formatDistance("lessThanXSeconds",20,a):f<40?i.formatDistance("halfAMinute",0,a):f<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):p===0?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",p,a);if(p<45)return i.formatDistance("xMinutes",p,a);if(p<90)return i.formatDistance("aboutXHours",1,a);if(p<F2){const x=Math.round(p/60);return i.formatDistance("aboutXHours",x,a)}else{if(p<o)return i.formatDistance("xDays",1,a);if(p<$m){const x=Math.round(p/F2);return i.formatDistance("xDays",x,a)}else if(p<$m*2)return v=Math.round(p/$m),i.formatDistance("aboutXMonths",v,a)}if(v=yde(u,c),v<12){const x=Math.round(p/$m);return i.formatDistance("xMonths",x,a)}else{const x=v%12,b=Math.trunc(v/12);return x<3?i.formatDistance("aboutXYears",b,a):x<9?i.formatDistance("overXYears",b,a):i.formatDistance("almostXYears",b+1,a)}}function wfe(t,e){return bfe(t,cde(t),e)}function xfe(t,e){const n=mt(t),r=mt(e);return n.getTime()>r.getTime()}function qw(t,e){const r=Tfe(t);let i;if(r.date){const c=Efe(r.date,2);i=Cfe(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let s=0,a;if(r.time&&(s=Afe(r.time),isNaN(s)))return new Date(NaN);if(r.timezone){if(a=Ofe(r.timezone),isNaN(a))return new Date(NaN)}else{const c=new Date(o+s),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(o+s+a)}const Lm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},_fe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Sfe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Pfe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Tfe(t){const e={},n=t.split(Lm.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Lm.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Lm.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Lm.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function Efe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function Cfe(t,e){if(e===null)return new Date(NaN);const n=t.match(_fe);if(!n)return new Date(NaN);const r=!!n[4],i=Zd(n[1]),o=Zd(n[2])-1,s=Zd(n[3]),a=Zd(n[4]),c=Zd(n[5])-1;if(r)return Ife(e,a,c)?kfe(e,a,c):new Date(NaN);{const u=new Date(0);return!Rfe(e,o,s)||!Nfe(e,i)?new Date(NaN):(u.setUTCFullYear(e,o,Math.max(i,s)),u)}}function Zd(t){return t?parseInt(t):1}function Afe(t){const e=t.match(Sfe);if(!e)return NaN;const n=Vw(e[1]),r=Vw(e[2]),i=Vw(e[3]);return Mfe(n,r,i)?n*iW+r*rW+i*1e3:NaN}function Vw(t){return t&&parseFloat(t.replace(",","."))||0}function Ofe(t){if(t==="Z")return 0;const e=t.match(Pfe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Dfe(r,i)?n*(r*iW+i*rW):NaN}function kfe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const jfe=[31,null,31,30,31,30,31,31,30,31,30,31];function cW(t){return t%400===0||t%4===0&&t%100!==0}function Rfe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(jfe[e]||(cW(t)?29:28))}function Nfe(t,e){return e>=1&&e<=(cW(t)?366:365)}function Ife(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Mfe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function Dfe(t,e){return e>=0&&e<=59}function $fe({session:t,onResume:e,onDiscard:n,open:r}){if(!t)return null;const i=t.total_leads>0?Math.round(t.completed_leads/t.total_leads*100):0,o=t.last_activity_at?wfe(new Date(t.last_activity_at),{addSuffix:!0}):"Unknown";return g.jsx(Wf,{open:r,onOpenChange:s=>!s&&n(),children:g.jsxs(lu,{className:"sm:max-w-md bg-slate-900 border-slate-700",children:[g.jsxs(cu,{children:[g.jsxs(uu,{className:"text-2xl font-bold text-white flex items-center gap-2",children:[g.jsx(Ws,{className:"w-6 h-6 text-blue-400"}),"Resume Your Session?"]}),g.jsxs(yA,{className:"text-slate-300",children:["You have an unfinished dialing session from ",o]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-slate-800 rounded-lg p-4 space-y-3",children:[t.pipeline&&g.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[g.jsx(yq,{className:"w-4 h-4 text-purple-400"}),g.jsx("span",{className:"text-sm",children:"Pipeline:"}),g.jsx("span",{className:"font-semibold text-white",children:t.pipeline.name})]}),g.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[g.jsx(_t,{className:"w-4 h-4 text-emerald-400"}),g.jsx("span",{className:"text-sm",children:"Progress:"}),g.jsxs("span",{className:"font-semibold text-white",children:[t.completed_leads," / ",t.total_leads," leads"]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between text-sm text-slate-400",children:[g.jsx("span",{children:"Completion"}),g.jsxs("span",{children:[i,"%"]})]}),g.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2 overflow-hidden",children:g.jsx(pe.div,{initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5,ease:"easeOut"},className:"h-full bg-gradient-to-r from-blue-500 to-purple-500"})})]}),t.current_lead&&g.jsxs("div",{className:"pt-2 border-t border-slate-700",children:[g.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Next Lead:"}),g.jsx("p",{className:"text-sm font-medium text-white",children:t.current_lead.name}),t.current_lead.company&&g.jsx("p",{className:"text-xs text-slate-400",children:t.current_lead.company})]})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs(Xe,{onClick:e,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white",children:[g.jsx(mte,{className:"w-4 h-4 mr-2"}),"Resume Session"]}),g.jsxs(Xe,{onClick:n,variant:"outline",className:"flex-1 border-slate-600 text-slate-300 hover:bg-slate-800 hover:text-white",children:[g.jsx(vte,{className:"w-4 h-4 mr-2"}),"Start Fresh"]})]}),g.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Resuming will pick up exactly where you left off"})]})]})})}const Xt=E.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:et("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Xt.displayName="Input";var Ww="rovingFocusGroup.onEntryFocus",Lfe={bubbles:!1,cancelable:!0},Kh="RovingFocusGroup",[CT,uW,Ffe]=G6(Kh),[Bfe,dW]=Al(Kh,[Ffe]),[Ufe,qfe]=Bfe(Kh),fW=E.forwardRef((t,e)=>g.jsx(CT.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(CT.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(Vfe,{...t,ref:e})})}));fW.displayName=Kh;var Vfe=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=t,p=E.useRef(null),v=Ut(e,p),x=bA(o),[b,y]=au({prop:s,defaultProp:a??null,onChange:c,caller:Kh}),[_,T]=E.useState(!1),S=Ys(u),A=uW(n),P=E.useRef(!1),[O,k]=E.useState(0);return E.useEffect(()=>{const R=p.current;if(R)return R.addEventListener(Ww,S),()=>R.removeEventListener(Ww,S)},[S]),g.jsx(Ufe,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:b,onItemFocus:E.useCallback(R=>y(R),[y]),onItemShiftTab:E.useCallback(()=>T(!0),[]),onFocusableItemAdd:E.useCallback(()=>k(R=>R+1),[]),onFocusableItemRemove:E.useCallback(()=>k(R=>R-1),[]),children:g.jsx(it.div,{tabIndex:_||O===0?-1:0,"data-orientation":r,...h,ref:v,style:{outline:"none",...t.style},onMouseDown:nt(t.onMouseDown,()=>{P.current=!0}),onFocus:nt(t.onFocus,R=>{const I=!P.current;if(R.target===R.currentTarget&&I&&!_){const D=new CustomEvent(Ww,Lfe);if(R.currentTarget.dispatchEvent(D),!D.defaultPrevented){const M=A().filter(K=>K.focusable),U=M.find(K=>K.active),V=M.find(K=>K.id===b),Q=[U,V,...M].filter(Boolean).map(K=>K.ref.current);mW(Q,f)}}P.current=!1}),onBlur:nt(t.onBlur,()=>T(!1))})})}),hW="RovingFocusGroupItem",pW=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:s,...a}=t,c=zs(),u=o||c,f=qfe(hW,n),h=f.currentTabStopId===u,p=uW(n),{onFocusableItemAdd:v,onFocusableItemRemove:x,currentTabStopId:b}=f;return E.useEffect(()=>{if(r)return v(),()=>x()},[r,v,x]),g.jsx(CT.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:g.jsx(it.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...a,ref:e,onMouseDown:nt(t.onMouseDown,y=>{r?f.onItemFocus(u):y.preventDefault()}),onFocus:nt(t.onFocus,()=>f.onItemFocus(u)),onKeyDown:nt(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){f.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const _=Hfe(y,f.orientation,f.dir);if(_!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let S=p().filter(A=>A.focusable).map(A=>A.ref.current);if(_==="last")S.reverse();else if(_==="prev"||_==="next"){_==="prev"&&S.reverse();const A=S.indexOf(y.currentTarget);S=f.loop?Gfe(S,A+1):S.slice(A+1)}setTimeout(()=>mW(S))}}),children:typeof s=="function"?s({isCurrentTabStop:h,hasTabStop:b!=null}):s})})});pW.displayName=hW;var Wfe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zfe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Hfe(t,e,n){const r=zfe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Wfe[r]}function mW(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Gfe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Kfe=fW,Yfe=pW,xy="Tabs",[Xfe]=Al(xy,[dW]),gW=dW(),[Qfe,OA]=Xfe(xy),vW=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:c="automatic",...u}=t,f=bA(a),[h,p]=au({prop:r,onChange:i,defaultProp:o??"",caller:xy});return g.jsx(Qfe,{scope:n,baseId:zs(),value:h,onValueChange:p,orientation:s,dir:f,activationMode:c,children:g.jsx(it.div,{dir:f,"data-orientation":s,...u,ref:e})})});vW.displayName=xy;var yW="TabsList",bW=E.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=OA(yW,n),s=gW(n);return g.jsx(Kfe,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:g.jsx(it.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});bW.displayName=yW;var wW="TabsTrigger",xW=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,s=OA(wW,n),a=gW(n),c=PW(s.baseId,r),u=TW(s.baseId,r),f=r===s.value;return g.jsx(Yfe,{asChild:!0,...a,focusable:!i,active:f,children:g.jsx(it.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...o,ref:e,onMouseDown:nt(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?s.onValueChange(r):h.preventDefault()}),onKeyDown:nt(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&s.onValueChange(r)}),onFocus:nt(t.onFocus,()=>{const h=s.activationMode!=="manual";!f&&!i&&h&&s.onValueChange(r)})})})});xW.displayName=wW;var _W="TabsContent",SW=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...s}=t,a=OA(_W,n),c=PW(a.baseId,r),u=TW(a.baseId,r),f=r===a.value,h=E.useRef(f);return E.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),g.jsx(zh,{present:i||f,children:({present:p})=>g.jsx(it.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&o})})});SW.displayName=_W;function PW(t,e){return`${t}-trigger-${e}`}function TW(t,e){return`${t}-content-${e}`}var Jfe=vW,EW=bW,CW=xW,AW=SW;const OW=Jfe,kA=E.forwardRef(({className:t,...e},n)=>g.jsx(EW,{ref:n,className:et("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));kA.displayName=EW.displayName;const ol=E.forwardRef(({className:t,...e},n)=>g.jsx(CW,{ref:n,className:et("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));ol.displayName=CW.displayName;const sl=E.forwardRef(({className:t,...e},n)=>g.jsx(AW,{ref:n,className:et("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));sl.displayName=AW.displayName;function Lc(t,e="us"){if(!t)return"";const n=t.replace(/\D/g,"");return e==="us"?n.length===0?"":n.length<=3?n:n.length<=6?`(${n.slice(0,3)}) ${n.slice(3)}`:n.length<=10?`(${n.slice(0,3)}) ${n.slice(3,6)}-${n.slice(6)}`:`+${n.slice(0,n.length-10)} (${n.slice(-10,-7)}) ${n.slice(-7,-4)}-${n.slice(-4)}`:e==="international"?n.length===0?"":n.length<=11?`+${n}`:`+${n.slice(0,n.length-10)} ${n.slice(-10,-7)} ${n.slice(-7,-4)} ${n.slice(-4)}`:n}function Zfe(t){const e=t.replace(/\D/g,"");return e.length===0?{valid:!1,error:"Phone number is required"}:e.length<10?{valid:!1,error:"Phone number must be at least 10 digits"}:e.length>15?{valid:!1,error:"Phone number is too long"}:["911","112","999"].includes(e.slice(0,3))?{valid:!1,error:"Emergency numbers cannot be dialed from this app",isEmergency:!0}:{valid:!0,cleaned:e}}function z2(t,e="+1"){const n=t.replace(/\D/g,"");return n.startsWith("1")&&n.length===11?`+${n}`:n.length===10?`${e}${n}`:n.startsWith("+")?n:`+${n}`}function zw(t){return t.replace(/\D/g,"")}function Xg(t){if(!t||t<0)return"00:00";const e=Math.floor(t/3600),n=Math.floor(t%3600/60),r=t%60;return e>0?`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function kW(t){if(!t)return"?";const e=t.trim().split(" ");return e.length===1?e[0][0].toUpperCase():(e[0][0]+e[e.length-1][0]).toUpperCase()}function ehe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let AT=1;class the{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,o=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:AT++,s=this.toasts.find(c=>c.id===o),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),s?this.toasts=this.toasts.map(c=>c.id===o?(this.publish({...c,...e,id:o,title:r}),{...c,...e,id:o,dismissible:a,title:r}):c):this.addToast({title:r,...i,dismissible:a,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let o=r!==void 0,s;const a=i.then(async u=>{if(s=["resolve",u],W.isValidElement(u))o=!1,this.create({id:r,type:"default",message:u});else if(rhe(u)&&!u.ok){o=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,x=typeof h=="object"&&!W.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:p,...x})}else if(u instanceof Error){o=!1;const h=typeof n.error=="function"?await n.error(u):n.error,p=typeof n.description=="function"?await n.description(u):n.description,x=typeof h=="object"&&!W.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:p,...x})}else if(n.success!==void 0){o=!1;const h=typeof n.success=="function"?await n.success(u):n.success,p=typeof n.description=="function"?await n.description(u):n.description,x=typeof h=="object"&&!W.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:p,...x})}}).catch(async u=>{if(s=["reject",u],n.error!==void 0){o=!1;const f=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description,v=typeof f=="object"&&!W.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:h,...v})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,f)=>a.then(()=>s[0]==="reject"?f(s[1]):u(s[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||AT++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Hr=new the,nhe=(t,e)=>{const n=(e==null?void 0:e.id)||AT++;return Hr.addToast({title:t,...e,id:n}),n},rhe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",ihe=nhe,ohe=()=>Hr.toasts,she=()=>Hr.getActiveToasts(),Dn=Object.assign(ihe,{success:Hr.success,info:Hr.info,warning:Hr.warning,error:Hr.error,custom:Hr.custom,message:Hr.message,promise:Hr.promise,dismiss:Hr.dismiss,loading:Hr.loading},{getHistory:ohe,getToasts:she});ehe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const ahe={1:697,2:770,3:852,4:697,5:770,6:852,7:697,8:770,9:852,"*":941,0:941,"#":941};function jW({onClose:t,initialNumber:e="",userEmail:n="demo@example.com"}){const[r,i]=E.useState(e),[o,s]=E.useState(!1),[a,c]=E.useState("idle"),[u,f]=E.useState(0),[h,p]=E.useState(!1),[v,x]=E.useState(""),[b,y]=E.useState("dialer"),[_,T]=E.useState(null),S=E.useRef(null),A=E.useRef(null),P=Tl(),{data:O}=kt({queryKey:["dialerPreferences",n],queryFn:async()=>{const{data:F,error:Z}=await Ie.from("dialer_preferences").select("*").eq("user_email",n).maybeSingle();if(Z&&Z.code!=="PGRST116")throw Z;if(!F){const{data:ae,error:me}=await Ie.from("dialer_preferences").insert({user_email:n,default_country_code:"+1",number_format_preference:"us",enable_dial_tones:!0,enable_vibration:!0,save_to_history:!0}).select().single();if(me)throw me;return ae}return F}}),{data:k}=kt({queryKey:["dialerSettings",n],queryFn:async()=>{const{data:F,error:Z}=await Ie.from("dialer_settings").select("*").eq("user_email",n).maybeSingle();if(Z&&Z.code!=="PGRST116")throw Z;return F}}),{data:R=[]}=kt({queryKey:["dialerFavorites",n],queryFn:async()=>{const{data:F,error:Z}=await Ie.from("dialer_favorites").select("*").eq("user_email",n).order("sort_order",{ascending:!0});if(Z)throw Z;return F||[]}}),{data:I=[]}=kt({queryKey:["recentNumbers",n],queryFn:async()=>{const{data:F,error:Z}=await Ie.from("recent_numbers").select("*").eq("user_email",n).order("last_called_at",{ascending:!1}).limit(20);if(Z)throw Z;return F||[]}}),{data:D=[]}=kt({queryKey:["dialerCallHistory",n],queryFn:async()=>{const{data:F,error:Z}=await Ie.from("dialer_call_history").select("*").eq("user_email",n).order("started_at",{ascending:!1}).limit(50);if(Z)throw Z;return F||[]}}),M=Vs({mutationFn:async F=>{const{data:Z,error:ae}=await Ie.from("dialer_call_history").insert(F).select().single();if(ae)throw ae;return Z},onSuccess:()=>{P.invalidateQueries(["dialerCallHistory"]),P.invalidateQueries(["recentNumbers"])}});E.useEffect(()=>(o&&a==="connected"?A.current=setInterval(()=>{f(F=>F+1)},1e3):(A.current&&(clearInterval(A.current),A.current=null),a==="idle"&&f(0)),()=>{A.current&&clearInterval(A.current)}),[o,a]),E.useEffect(()=>()=>{S.current&&S.current.close()},[]);const U=E.useCallback(F=>{if(O!=null&&O.enable_dial_tones)try{S.current||(S.current=new(window.AudioContext||window.webkitAudioContext));const Z=S.current,ae=Z.createOscillator(),me=Z.createGain();ae.connect(me),me.connect(Z.destination),ae.frequency.value=ahe[F]||697,ae.type="sine",me.gain.setValueAtTime(.1,Z.currentTime),me.gain.exponentialRampToValueAtTime(.01,Z.currentTime+.1),ae.start(Z.currentTime),ae.stop(Z.currentTime+.1)}catch(Z){console.error("Error playing dial tone:",Z)}},[O]),V=E.useCallback(F=>{i(Z=>Z+F),U(F),O!=null&&O.enable_vibration&&navigator.vibrate&&navigator.vibrate(10)},[U,O]),Y=E.useCallback(()=>{i(F=>F.slice(0,-1))},[]),Q=E.useCallback(()=>{i("")},[]),K=async()=>{const F=Zfe(r);if(!F.valid){Dn.error(F.error||"Invalid phone number"),F.isEmergency&&Dn.error("Please dial emergency services directly from your phone");return}const Z=z2(F.cleaned,O==null?void 0:O.default_country_code),ae=(k==null?void 0:k.use_mock_dialer)||!1;try{s(!0),c("dialing"),f(0);const me=await M.mutateAsync({user_email:n,phone_number:Z,direction:"outbound",status:"initiated",started_at:new Date().toISOString()});if(ae){Dn.info("Demo Mode: Simulating call...");const se=await Ei("mockDialerCall",{to:Z,userEmail:n,leadId:null,leadName:null,lineNumber:1});if(!se.success)throw new Error(se.error||"Failed to initiate call");T(se.callSid),c("ringing"),setTimeout(()=>{c("connected"),Dn.success("Demo call connected")},2e3);return}const Te=await Ei("twilioInitiateCall",{to:Z,userEmail:n,leadId:null,leadName:null,lineNumber:1});if(!Te.success)throw new Error(Te.error||"Failed to initiate call");T(Te.callSid),c("ringing"),Wn.onCallAnswered(()=>{c("connected"),Dn.success("Call connected")}),Wn.onCallEnded(async()=>{await J()}),Wn.onCallError(se=>{Dn.error(`Call error: ${se.message}`),J()})}catch(me){console.error("Error initiating call:",me),Dn.error(me.message||"Failed to start call"),s(!1),c("idle")}},J=async()=>{const F=(k==null?void 0:k.use_mock_dialer)||!1;try{_&&!F&&await Ei("twilioEndCall",{callSid:_,userEmail:n}),F||Wn.disconnectCall();const Z=z2(r,O==null?void 0:O.default_country_code);await Ie.from("dialer_call_history").update({status:"completed",duration:u,ended_at:new Date().toISOString()}).eq("user_email",n).eq("phone_number",Z).is("ended_at",null),P.invalidateQueries(["dialerCallHistory"]),F&&Dn.success("Demo call ended")}catch(Z){console.error("Error ending call:",Z)}finally{s(!1),c("idle"),f(0),T(null),p(!1)}},B=()=>{const F=(k==null?void 0:k.use_mock_dialer)||!1;h?(F||Wn.unmuteCall(),p(!1),Dn.success(F?"Demo: Microphone unmuted":"Microphone unmuted")):(F||Wn.muteCall(),p(!0),Dn.success(F?"Demo: Microphone muted":"Microphone muted"))},G=F=>{i(zw(F)),y("dialer")},L=R.filter(F=>F.name.toLowerCase().includes(v.toLowerCase())||F.phone_number.includes(v)),$=D.filter(F=>{var Z;return((Z=F.contact_name)==null?void 0:Z.toLowerCase().includes(v.toLowerCase()))||""||F.phone_number.includes(v)});return g.jsx(pe.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:g.jsx(pe.div,{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden",initial:{scale:.9,y:20},animate:{scale:1,y:0},onClick:F=>F.stopPropagation(),children:g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Phone"}),g.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full transition-colors","aria-label":"Close dialer",children:g.jsx(Bh,{className:"w-5 h-5 text-slate-600"})})]}),(k==null?void 0:k.use_mock_dialer)&&g.jsxs("div",{className:"mb-4 p-3 bg-cyan-50 border border-cyan-200 rounded-xl flex items-center gap-2",children:[g.jsx("div",{className:"w-2 h-2 bg-cyan-500 rounded-full animate-pulse"}),g.jsx("span",{className:"text-sm font-medium text-cyan-700",children:"Demo Mode Active"}),g.jsx("span",{className:"text-xs text-cyan-600 ml-auto",children:"Calls are simulated"})]}),g.jsxs(OW,{value:b,onValueChange:y,className:"w-full",children:[g.jsxs(kA,{className:"grid w-full grid-cols-3 mb-6",children:[g.jsxs(ol,{value:"dialer",children:[g.jsx(_t,{className:"w-4 h-4 mr-2"}),"Dialer"]}),g.jsxs(ol,{value:"favorites",children:[g.jsx(fl,{className:"w-4 h-4 mr-2"}),"Favorites"]}),g.jsxs(ol,{value:"history",children:[g.jsx(Ws,{className:"w-4 h-4 mr-2"}),"History"]})]}),g.jsxs(sl,{value:"dialer",className:"space-y-6",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"mb-4 min-h-[60px] flex items-center justify-center",children:o?g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"text-sm text-slate-600 capitalize",children:a}),a==="connected"&&g.jsx("div",{className:"text-3xl font-mono font-bold text-slate-800",children:Xg(u)})]}):g.jsx("div",{className:"text-3xl font-mono font-semibold text-slate-800 tracking-wider",children:Lc(r,O==null?void 0:O.number_format_preference)||" "})}),!o&&r&&g.jsx(Xe,{variant:"ghost",size:"sm",onClick:Q,className:"text-red-500 hover:text-red-600 hover:bg-red-50",children:"Clear"})]}),o?g.jsx("div",{className:"flex items-center justify-center gap-4 py-8",children:g.jsx(Xe,{onClick:B,variant:"outline",size:"lg",className:"rounded-full h-16 w-16","aria-label":h?"Unmute":"Mute",children:h?g.jsx(gq,{className:"w-6 h-6"}):g.jsx(ry,{className:"w-6 h-6"})})}):g.jsx("div",{className:"grid grid-cols-3 gap-4",children:["1","2","3","4","5","6","7","8","9","*","0","#"].map(F=>g.jsx(pe.button,{onClick:()=>V(F),className:"aspect-square rounded-2xl bg-slate-100 hover:bg-slate-200 text-2xl font-semibold text-slate-800 transition-all active:scale-95",whileTap:{scale:.95},"aria-label":`Dial ${F}`,children:F},F))}),g.jsx("div",{className:"flex gap-3 justify-center",children:o?g.jsxs(Xe,{onClick:J,size:"lg",className:"rounded-full h-14 px-8 bg-red-600 hover:bg-red-700 text-white shadow-lg","aria-label":"End call",children:[g.jsx(QP,{className:"w-5 h-5 mr-2"}),"End Call"]}):g.jsxs(g.Fragment,{children:[r&&g.jsx(Xe,{variant:"outline",size:"lg",onClick:Y,className:"rounded-full h-14 w-14","aria-label":"Backspace",children:g.jsx(xte,{className:"w-5 h-5"})}),g.jsxs(Xe,{onClick:K,disabled:!r,size:"lg",className:"rounded-full h-14 px-8 bg-green-600 hover:bg-green-700 text-white shadow-lg disabled:opacity-50","aria-label":"Call",children:[g.jsx(_t,{className:"w-5 h-5 mr-2"}),"Call"]})]})})]}),g.jsxs(sl,{value:"favorites",className:"space-y-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx(JP,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),g.jsx(Xt,{placeholder:"Search favorites...",value:v,onChange:F=>x(F.target.value),className:"pl-10"})]}),g.jsx("div",{className:"max-h-[400px] overflow-y-auto space-y-2",children:L.length===0?g.jsxs("div",{className:"text-center py-12 text-slate-500",children:[g.jsx(fl,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),g.jsx("p",{children:"No favorites yet"}),g.jsx("p",{className:"text-sm mt-1",children:"Add contacts to quickly dial them"})]}):L.map(F=>g.jsxs(pe.div,{className:"flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>G(F.phone_number),whileHover:{scale:1.02},whileTap:{scale:.98},children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-white font-semibold",children:kW(F.name)}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"font-medium text-slate-800",children:F.name}),g.jsx("div",{className:"text-sm text-slate-500",children:Lc(F.phone_number)})]}),g.jsx(Xe,{variant:"ghost",size:"sm",onClick:Z=>{Z.stopPropagation(),i(zw(F.phone_number)),K()},className:"rounded-full",children:g.jsx(_t,{className:"w-4 h-4"})})]},F.id))})]}),g.jsxs(sl,{value:"history",className:"space-y-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx(JP,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),g.jsx(Xt,{placeholder:"Search history...",value:v,onChange:F=>x(F.target.value),className:"pl-10"})]}),g.jsx("div",{className:"max-h-[400px] overflow-y-auto space-y-2",children:$.length===0?g.jsxs("div",{className:"text-center py-12 text-slate-500",children:[g.jsx(Ws,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),g.jsx("p",{children:"No call history"})]}):$.map(F=>g.jsxs(pe.div,{className:"flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>G(F.phone_number),whileHover:{scale:1.02},whileTap:{scale:.98},children:[g.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${F.direction==="inbound"?"bg-blue-100":"bg-green-100"}`,children:g.jsx(_t,{className:`w-5 h-5 ${F.direction==="inbound"?"text-blue-600":"text-green-600"} ${F.direction==="inbound"?"rotate-180":""}`})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"font-medium text-slate-800",children:F.contact_name||Lc(F.phone_number)}),g.jsxs("div",{className:"text-sm text-slate-500",children:[F.duration>0?Xg(F.duration):"Missed","  ",new Date(F.started_at).toLocaleDateString()]})]}),g.jsx(Xe,{variant:"ghost",size:"sm",onClick:Z=>{Z.stopPropagation(),i(zw(F.phone_number)),y("dialer")},className:"rounded-full",children:g.jsx(_t,{className:"w-4 h-4"})})]},F.id))})]})]})]})})})}function lhe({userEmail:t="demo@example.com",className:e=""}){const[n,r]=E.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsx(pe.button,{onClick:()=>r(!0),className:`fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-br from-blue-600 to-cyan-600 rounded-full shadow-2xl flex items-center justify-center z-40 hover:shadow-blue-500/50 transition-shadow ${e}`,whileHover:{scale:1.1},whileTap:{scale:.95},initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},"aria-label":"Open phone dialer",children:g.jsx(_t,{className:"w-7 h-7 text-white"})}),g.jsx(Pl,{children:n&&g.jsx(jW,{onClose:()=>r(!1),userEmail:t})})]})}class che{constructor(e){this.userEmail=e,this.sessionId=null,this.autoSaveInterval=null,this.localStorageKey=`dialer_session_${e}`}async createSession(e,n,r){var i;try{const{data:o,error:s}=await Ie.from("dialer_sessions").insert({user_email:this.userEmail,pipeline_id:e,current_lead_index:0,current_lead_id:((i=n[0])==null?void 0:i.id)||null,total_leads:n.length,completed_leads:0,filter_settings:r||{},is_active:!0,started_at:new Date().toISOString(),last_activity_at:new Date().toISOString()}).select().single();if(s)throw s;return this.sessionId=o.id,this.saveToLocalStorage(o),this.startAutoSave(),o}catch(o){return console.error("Error creating session:",o),null}}async updateSession(e){if(!this.sessionId)return null;try{const{data:n,error:r}=await Ie.from("dialer_sessions").update({...e,last_activity_at:new Date().toISOString()}).eq("id",this.sessionId).select().single();if(r)throw r;return this.saveToLocalStorage(n),n}catch(n){console.error("Error updating session:",n);const r=this.getFromLocalStorage();return r?{...r,...e}:null}}async endSession(){if(this.sessionId){this.stopAutoSave();try{await Ie.from("dialer_sessions").update({is_active:!1,ended_at:new Date().toISOString(),last_activity_at:new Date().toISOString()}).eq("id",this.sessionId),this.clearLocalStorage(),this.sessionId=null}catch(e){console.error("Error ending session:",e)}}}async getActiveSession(){try{const{data:e,error:n}=await Ie.from("dialer_sessions").select(`
          *,
          pipeline:ghl_pipelines(id, name),
          current_lead:leads(id, name, phone, email, company)
        `).eq("user_email",this.userEmail).eq("is_active",!0).order("last_activity_at",{ascending:!1}).limit(1).maybeSingle();if(n&&n.code!=="PGRST116")throw n;if(e)return this.sessionId=e.id,this.saveToLocalStorage(e),e;const r=this.getFromLocalStorage();return r&&this.isSessionValid(r)?r:null}catch(e){console.error("Error getting active session:",e);const n=this.getFromLocalStorage();return n&&this.isSessionValid(n)?n:null}}async getSessionLeads(e){try{const n=e.filter_settings||{};let r=Ie.from("leads").select(`
          *,
          pipeline:ghl_pipelines(id, name)
        `);e.pipeline_id&&(r=r.eq("pipeline_id",e.pipeline_id)),n.status&&(r=r.eq("status",n.status)),n.tags&&n.tags.length>0&&(r=r.contains("tags",n.tags));const{data:i,error:o}=await r.order("created_at",{ascending:!1});if(o)throw o;return i||[]}catch(n){return console.error("Error getting session leads:",n),[]}}startAutoSave(){this.autoSaveInterval=setInterval(()=>{this.sessionId&&this.updateSession({})},3e4)}stopAutoSave(){this.autoSaveInterval&&(clearInterval(this.autoSaveInterval),this.autoSaveInterval=null)}saveToLocalStorage(e){try{localStorage.setItem(this.localStorageKey,JSON.stringify({...e,lastSaved:new Date().toISOString()}))}catch(n){console.error("Error saving to localStorage:",n)}}getFromLocalStorage(){try{const e=localStorage.getItem(this.localStorageKey);return e?JSON.parse(e):null}catch(e){return console.error("Error reading from localStorage:",e),null}}clearLocalStorage(){try{localStorage.removeItem(this.localStorageKey)}catch(e){console.error("Error clearing localStorage:",e)}}isSessionValid(e){if(!e||!e.last_activity_at)return!1;const n=new Date(e.last_activity_at);return(new Date-n)/(1e3*60*60)<24}async getSessionHistory(e=10){try{const{data:n,error:r}=await Ie.from("dialer_sessions").select(`
          *,
          pipeline:ghl_pipelines(id, name)
        `).eq("user_email",this.userEmail).order("started_at",{ascending:!1}).limit(e);if(r)throw r;return n||[]}catch(n){return console.error("Error getting session history:",n),[]}}cleanup(){this.stopAutoSave()}}const uhe=t=>new che(t);function OT(){const[t,e]=E.useState(null),[n,r]=E.useState(!1),[i,o]=E.useState(null),[s,a]=E.useState(!1),[c,u]=E.useState(0),[f,h]=E.useState("all"),[p,v]=E.useState(null),[x,b]=E.useState(!1),[y,_]=E.useState([]),T=E.useRef(null),S=Tl(),{theme:A}=oA();E.useEffect(()=>((async()=>{const L={email:"demo@example.com"};e(L),T.current=uhe(L.email);const $=await T.current.getActiveSession();$&&(v($),b(!0))})(),()=>{T.current&&T.current.cleanup()}),[]);const{data:P}=kt({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:G,error:L}=await Ie.from("user_stats").select().eq("user_email",t.email).maybeSingle();if(L&&L.code!=="PGRST116")throw L;if(!G){const{data:$,error:F}=await Ie.from("user_stats").insert({user_email:t.email,total_points:0,level:1,calls_today:0,appointments_today:0,current_streak:0,best_streak:0,daily_goal:50,mascot_mood:"neutral"}).select().single();if(F)throw F;return $}return G},enabled:!!(t!=null&&t.email)}),{data:O=[]}=kt({queryKey:["pipelines"],queryFn:async()=>{const{data:G,error:L}=await Ie.from("ghl_pipelines").select("*").order("name");if(L&&L.code!=="PGRST116")throw L;return G||[]}}),{data:k=[]}=kt({queryKey:["leads",f],queryFn:async()=>{let G=Ie.from("leads").select(`
          *,
          pipeline:ghl_pipelines(id, name)
        `).eq("status","new");f!=="all"&&(f==="none"?G=G.is("pipeline_id",null):G=G.eq("pipeline_id",f));const{data:L,error:$}=await G.order("created_at",{ascending:!1}).limit(100);if($)throw $;return L||[]}}),{data:R=[]}=kt({queryKey:["recentCalls"],queryFn:async()=>{const{data:G,error:L}=await Ie.from("call_logs").select("*").order("created_at",{ascending:!1}).limit(50);if(L&&L.code!=="PGRST116")throw L;return G||[]}}),I=G=>{G?(o(G),r(!0)):k.length>0&&(o(k[0]),r(!0))},D=()=>{if(!i||k.length<=1)return;const L=(k.findIndex($=>$.id===i.id)+1)%k.length;o(k[L])},M=()=>{if(!i||k.length<=1)return;const G=k.findIndex($=>$.id===i.id),L=G===0?k.length-1:G-1;o(k[L])},U=async(G,L)=>{r(!1),u(G),a(!0),S.invalidateQueries(["userStats"]),S.invalidateQueries(["leads"]),T.current&&L&&await T.current.updateSession({completed_leads:((p==null?void 0:p.completed_leads)||0)+1})},V=async()=>{if(!p||!T.current)return;b(!1);const G=await T.current.getSessionLeads(p);_(G);const L=p.current_lead_index||0;G[L]&&(o(G[L]),h(p.pipeline_id||"all"),r(!0))},Y=async()=>{T.current&&p&&await T.current.endSession(),v(null),b(!1)},Q=(P==null?void 0:P.level)||1,K=(P==null?void 0:P.total_points)||0,J=Q*500,B=R.reduce((G,L)=>(G[L.outcome]=(G[L.outcome]||0)+1,G),{});return g.jsxs("div",{className:`min-h-screen bg-gradient-to-br ${A.background} relative overflow-hidden`,children:[g.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[g.jsx("div",{className:`absolute top-1/4 left-1/4 w-96 h-96 ${A.primaryGlow} rounded-full blur-3xl`}),g.jsx("div",{className:`absolute bottom-1/4 right-1/4 w-96 h-96 ${A.secondaryGlow} rounded-full blur-3xl`})]}),g.jsxs("div",{className:"relative z-10 p-6 max-w-7xl mx-auto",children:[g.jsx(El,{userStats:P}),g.jsx("div",{className:"mb-6",children:g.jsx(Cl,{})}),O.length>0&&g.jsx(pe.div,{className:"mb-4",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(Ete,{className:"w-4 h-4 text-purple-400"}),g.jsxs("select",{value:f,onChange:G=>h(G.target.value),className:`px-4 py-2 ${A.cardBg} backdrop-blur-sm border ${A.borderColor} rounded-xl ${A.textPrimary} text-sm focus:outline-none focus:ring-2 focus:ring-${A.accentColor}-500`,children:[g.jsx("option",{value:"all",children:"All Leads"}),g.jsx("option",{value:"none",children:"No Pipeline"}),O.map(G=>g.jsx("option",{value:G.id,children:G.name},G.id))]})]})}),g.jsxs(pe.div,{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},children:[g.jsxs("div",{className:`${A.cardBg} backdrop-blur-sm rounded-2xl p-4 border border-emerald-500/20`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-emerald-300 text-sm",children:"Appointments"}),g.jsx(Tw,{className:"w-4 h-4 text-emerald-400"})]}),g.jsx("p",{className:"text-2xl font-bold text-white",children:B.appointment_set||0})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-4 border border-blue-500/20",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-blue-300 text-sm",children:"Callbacks"}),g.jsx(Tw,{className:"w-4 h-4 text-blue-400"})]}),g.jsx("p",{className:"text-2xl font-bold text-white",children:B.callback||0})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-4 border border-slate-500/20",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-slate-300 text-sm",children:"No Answer"}),g.jsx(Tw,{className:"w-4 h-4 text-slate-400"})]}),g.jsx("p",{className:"text-2xl font-bold text-white",children:B.no_answer||0})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-4 border border-purple-500/20",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-purple-300 text-sm",children:"Total Calls"}),g.jsx(pq,{className:"w-4 h-4 text-purple-400"})]}),g.jsx("p",{className:"text-2xl font-bold text-white",children:R.length})]})]}),g.jsx("div",{className:"mb-6",children:g.jsx(ooe,{level:Q,currentXP:K%J,nextLevelXP:J})}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-2",children:[g.jsx(roe,{lead:k[0],onStartCall:()=>I(k[0]),xpMultiplier:(P==null?void 0:P.current_streak)>=3?2:1}),g.jsx(ide,{})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsx(ioe,{stats:P}),g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:[g.jsxs("h3",{className:"text-lg font-bold text-white mb-4",children:["Level ",Q]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-900/30 rounded-xl",children:[g.jsx("span",{className:"text-purple-300 text-sm",children:"Current XP"}),g.jsx("span",{className:"text-white font-semibold",children:K%J})]}),g.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-900/30 rounded-xl",children:[g.jsx("span",{className:"text-purple-300 text-sm",children:"Next Level"}),g.jsx("span",{className:"text-white font-semibold",children:J})]})]})]})]})]})]}),g.jsx(Pl,{children:n&&i&&g.jsx(nde,{lead:i,userStats:P,onClose:()=>r(!1),onComplete:U,onNext:D,onPrev:M,hasNext:k.length>1,hasPrev:k.length>1,sessionId:p==null?void 0:p.id,sessionManager:T.current})}),g.jsx(rde,{points:c,isVisible:s,onComplete:()=>a(!1)}),g.jsx($fe,{session:p,onResume:V,onDiscard:Y,open:x}),g.jsx(lhe,{userEmail:t==null?void 0:t.email})]})}const kT=E.forwardRef(({className:t,...e},n)=>g.jsx("div",{className:"relative w-full overflow-auto",children:g.jsx("table",{ref:n,className:et("w-full caption-bottom text-sm",t),...e})}));kT.displayName="Table";const jT=E.forwardRef(({className:t,...e},n)=>g.jsx("thead",{ref:n,className:et("[&_tr]:border-b",t),...e}));jT.displayName="TableHeader";const RT=E.forwardRef(({className:t,...e},n)=>g.jsx("tbody",{ref:n,className:et("[&_tr:last-child]:border-0",t),...e}));RT.displayName="TableBody";const dhe=E.forwardRef(({className:t,...e},n)=>g.jsx("tfoot",{ref:n,className:et("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));dhe.displayName="TableFooter";const mg=E.forwardRef(({className:t,...e},n)=>g.jsx("tr",{ref:n,className:et("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));mg.displayName="TableRow";const dr=E.forwardRef(({className:t,...e},n)=>g.jsx("th",{ref:n,className:et("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));dr.displayName="TableHead";const fr=E.forwardRef(({className:t,...e},n)=>g.jsx("td",{ref:n,className:et("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));fr.displayName="TableCell";const fhe=E.forwardRef(({className:t,...e},n)=>g.jsx("caption",{ref:n,className:et("mt-4 text-sm text-muted-foreground",t),...e}));fhe.displayName="TableCaption";const H2={new:"bg-blue-100 text-blue-700",contacted:"bg-yellow-100 text-yellow-700",interested:"bg-purple-100 text-purple-700",appointment_set:"bg-emerald-100 text-emerald-700",not_interested:"bg-slate-100 text-slate-700",no_answer:"bg-orange-100 text-orange-700"};function RW(){var G;const[t,e]=E.useState(null),[n,r]=E.useState(!1),[i,o]=E.useState(!1),[s,a]=E.useState(""),[c,u]=E.useState({name:"",phone:"",email:"",company:""}),[f,h]=E.useState(""),[p,v]=E.useState(""),[x,b]=E.useState(!1),[y,_]=E.useState(null),T=Tl();E.useEffect(()=>{e({email:"demo@example.com"})},[]);const{data:S}=kt({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:L,error:$}=await Ie.from("user_stats").select("*").eq("user_email",t.email).maybeSingle();if($&&$.code!=="PGRST116")throw $;if(!L){const{data:F,error:Z}=await Ie.from("user_stats").insert({user_email:t.email,total_points:0,level:1,calls_today:0,appointments_today:0,current_streak:0,best_streak:0,daily_goal:50,mascot_mood:"neutral"}).select().single();if(Z)throw Z;return F}return L},enabled:!!(t!=null&&t.email)}),{data:A=[],isLoading:P}=kt({queryKey:["allLeads"],queryFn:async()=>{const{data:L,error:$}=await Ie.from("leads").select(`
          *,
          pipeline:ghl_pipelines(id, name, stages)
        `).order("created_at",{ascending:!1});if($)throw $;return L||[]}}),{data:O=[]}=kt({queryKey:["pipelines"],queryFn:async()=>{const{data:L,error:$}=await Ie.from("ghl_pipelines").select("*").order("name");if($&&$.code!=="PGRST116")throw $;return L||[]}}),k=Vs({mutationFn:async L=>{const{error:$}=await Ie.from("leads").insert({...L,status:"new",call_count:0});if($)throw $},onSuccess:()=>{T.invalidateQueries(["allLeads"]),T.invalidateQueries(["leads"]),r(!1),u({name:"",phone:"",email:"",company:""})},onError:L=>{alert("Failed to add lead: "+L.message)}}),R=Vs({mutationFn:async L=>{const{error:$}=await Ie.from("leads").delete().eq("id",L);if($)throw $},onSuccess:()=>{T.invalidateQueries(["allLeads"]),T.invalidateQueries(["leads"])},onError:L=>{alert("Failed to delete lead: "+L.message)}}),{data:I,isLoading:D,error:M}=kt({queryKey:["ghlPipelines"],queryFn:async()=>await Ei("ghlGetPipelines",{}),enabled:i}),U=(G=I==null?void 0:I.pipelines)==null?void 0:G.find(L=>L.id===f),V=U?{stages:U.stages||[]}:null,Y=async()=>{if(!(!f||!p||!(I!=null&&I.locationId))){b(!0);try{const L=await Ei("ghlImportLeads",{pipelineId:f,stageId:p,locationId:I.locationId});T.invalidateQueries(["allLeads"]),T.invalidateQueries(["leads"]),o(!1),h(""),v("");let $=`Import Complete!

`;$+=`Total Opportunities Found: ${L.total}
`,$+=`Pages Fetched: ${L.pages}

`,$+=` New Leads Imported: ${L.imported}
`,$+=` Existing Leads Updated: ${L.updated}
`,L.skipped>0&&($+=`
 Skipped: ${L.skipped}
`,L.skipReasons&&($+=`
Skip Reasons:
`,Object.entries(L.skipReasons).forEach(([F,Z])=>{$+=`   ${F}: ${Z}
`}))),alert($)}catch(L){alert("Failed to import leads: "+L.message)}finally{b(!1)}}},Q=async()=>{const L=[{name:"John Smith",phone:"+1 (555) 123-4567",email:"john@techcorp.com",company:"TechCorp Inc"},{name:"Sarah Johnson",phone:"+1 (555) 234-5678",email:"sarah@innovate.io",company:"Innovate.io"},{name:"Michael Brown",phone:"+1 (555) 345-6789",email:"michael@growthco.com",company:"GrowthCo"},{name:"Emily Davis",phone:"+1 (555) 456-7890",email:"emily@scaleup.com",company:"ScaleUp Solutions"},{name:"David Wilson",phone:"+1 (555) 567-8901",email:"david@nexgen.com",company:"NexGen Ventures"},{name:"Lisa Anderson",phone:"+1 (555) 678-9012",email:"lisa@primeco.com",company:"Prime Consulting"},{name:"James Taylor",phone:"+1 (555) 789-0123",email:"james@alphainc.com",company:"Alpha Industries"},{name:"Jennifer Martinez",phone:"+1 (555) 890-1234",email:"jennifer@betasoft.com",company:"BetaSoft"}].map($=>({...$,status:"new",call_count:0}));await Ie.from("leads").insert(L),T.invalidateQueries(["allLeads"]),T.invalidateQueries(["leads"])},K=A.filter(L=>{var F,Z,ae;const $=((F=L.name)==null?void 0:F.toLowerCase().includes(s.toLowerCase()))||((Z=L.company)==null?void 0:Z.toLowerCase().includes(s.toLowerCase()))||((ae=L.phone)==null?void 0:ae.includes(s));return y?$&&L.pipeline_id===y:$}),J=A.filter(L=>!L.pipeline_id),B=O.map(L=>({...L,leadCount:A.filter($=>$.pipeline_id===L.id).length})).filter(L=>L.leadCount>0);return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e] relative overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-600/20 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-indigo-600/20 rounded-full blur-3xl"})]}),g.jsxs("div",{className:"relative z-10 p-6 max-w-7xl mx-auto",children:[g.jsx(El,{userStats:S}),g.jsx("div",{className:"mb-6",children:g.jsx(Cl,{})}),g.jsxs(pe.div,{className:"flex items-center justify-between mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-white",children:"Leads"}),g.jsx("p",{className:"text-purple-300 mt-1",children:"Manage your sales prospects"})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs(Xe,{onClick:()=>o(!0),variant:"outline",className:"rounded-xl",children:[g.jsx(Pte,{className:"w-4 h-4 mr-2"}),"Import from GHL"]}),g.jsxs(Xe,{onClick:Q,variant:"outline",className:"rounded-xl",children:[g.jsx(yne,{className:"w-4 h-4 mr-2"}),"Add Sample Leads"]}),g.jsxs(Xe,{onClick:()=>r(!0),className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 rounded-xl shadow-lg shadow-indigo-500/20",children:[g.jsx(vq,{className:"w-4 h-4 mr-2"}),"Add Lead"]})]})]}),g.jsx(pe.div,{className:"mb-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:g.jsxs("div",{className:"relative",children:[g.jsx(JP,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-purple-400"}),g.jsx(Xt,{placeholder:"Search leads...",value:s,onChange:L=>a(L.target.value),className:"pl-12 h-12 rounded-2xl border-purple-500/20 bg-[#2d1f4a]/50 backdrop-blur-sm text-white placeholder:text-purple-400"})]})}),y?g.jsxs(g.Fragment,{children:[g.jsx(pe.div,{className:"mb-6",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:g.jsx(Xe,{variant:"outline",onClick:()=>_(null),className:"rounded-xl text-purple-300 border-purple-500/30",children:" Back to Pipelines"})}),g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl border border-purple-500/20 overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[g.jsxs(kT,{children:[g.jsx(jT,{children:g.jsxs(mg,{className:"border-purple-500/20",children:[g.jsx(dr,{className:"font-semibold text-purple-300",children:"Name"}),g.jsx(dr,{className:"font-semibold text-purple-300",children:"Company"}),g.jsx(dr,{className:"font-semibold text-purple-300",children:"Phone"}),g.jsx(dr,{className:"font-semibold text-purple-300",children:"Pipeline"}),g.jsx(dr,{className:"font-semibold text-purple-300",children:"Value"}),g.jsx(dr,{className:"font-semibold text-purple-300",children:"Status"}),g.jsx(dr,{className:"font-semibold text-purple-300",children:"Calls"}),g.jsx(dr,{className:"font-semibold text-purple-300 w-20"})]})}),g.jsx(RT,{children:g.jsx(Pl,{children:K.map((L,$)=>{var F,Z,ae,me;return g.jsxs(pe.tr,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{delay:$*.03},className:"hover:bg-purple-900/20 transition-colors border-purple-500/20",children:[g.jsx(fr,{children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white font-semibold",children:((Z=(F=L.name)==null?void 0:F[0])==null?void 0:Z.toUpperCase())||"?"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-white",children:L.name}),L.email&&g.jsxs("p",{className:"text-sm text-purple-300 flex items-center gap-1",children:[g.jsx(Dte,{className:"w-3 h-3"}),L.email]})]})]})}),g.jsx(fr,{children:g.jsxs("div",{className:"flex items-center gap-2 text-purple-200",children:[g.jsx(hq,{className:"w-4 h-4"}),L.company||"-"]})}),g.jsx(fr,{children:g.jsxs("div",{className:"flex items-center gap-2 text-purple-200 font-mono",children:[g.jsx(_t,{className:"w-4 h-4"}),L.phone]})}),g.jsx(fr,{children:(ae=L.pipeline)!=null&&ae.name?g.jsx("div",{className:"flex items-center gap-2",children:g.jsxs(mf,{variant:"outline",className:"text-emerald-400 border-emerald-500/30",children:[g.jsx(Bo,{className:"w-3 h-3 mr-1"}),L.pipeline.name]})}):g.jsx("span",{className:"text-purple-400 text-sm",children:"-"})}),g.jsx(fr,{children:L.opportunity_value?g.jsxs("div",{className:"flex items-center gap-1 text-emerald-400 font-semibold",children:[g.jsx(ou,{className:"w-4 h-4"}),parseFloat(L.opportunity_value).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}):g.jsx("span",{className:"text-purple-400 text-sm",children:"-"})}),g.jsx(fr,{children:g.jsx(mf,{className:`${H2[L.status]} capitalize`,children:((me=L.status)==null?void 0:me.replace("_"," "))||"new"})}),g.jsx(fr,{children:g.jsx("span",{className:"text-purple-200",children:L.call_count||0})}),g.jsx(fr,{children:g.jsx(Xe,{variant:"ghost",size:"icon",onClick:()=>R.mutate(L.id),className:"text-purple-400 hover:text-red-400",children:g.jsx(ZP,{className:"w-4 h-4"})})})]},L.id)})})})]}),K.length===0&&!P&&g.jsx("div",{className:"p-12 text-center",children:g.jsx("p",{className:"text-purple-300",children:"No leads found. Add some to get started!"})})]})]}):g.jsxs(g.Fragment,{children:[g.jsx(pe.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:B.map((L,$)=>g.jsxs(pe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:$*.1},onClick:()=>_(L.id),className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20 cursor-pointer hover:border-indigo-500/40 transition-all hover:scale-105",children:[g.jsx("div",{className:"flex items-center justify-between mb-4",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:g.jsx(Bo,{className:"w-6 h-6 text-white"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-white",children:L.name}),g.jsxs("p",{className:"text-purple-300 text-sm",children:[L.leadCount," leads"]})]})]})}),g.jsx("div",{className:"p-4 bg-indigo-500/10 rounded-xl border border-indigo-500/20",children:g.jsx("p",{className:"text-indigo-300 text-sm",children:"Click to view leads in this pipeline"})})]},L.id))}),J.length>0&&g.jsxs(pe.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-xl font-bold text-white",children:"Leads Without Pipeline"}),g.jsxs(mf,{variant:"outline",className:"text-purple-400 border-purple-500/30",children:[J.length," leads"]})]}),g.jsx("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl border border-purple-500/20 overflow-hidden",children:g.jsxs(kT,{children:[g.jsx(jT,{children:g.jsxs(mg,{className:"border-purple-500/20",children:[g.jsx(dr,{className:"font-semibold text-purple-300",children:"Name"}),g.jsx(dr,{className:"font-semibold text-purple-300",children:"Company"}),g.jsx(dr,{className:"font-semibold text-purple-300",children:"Phone"}),g.jsx(dr,{className:"font-semibold text-purple-300",children:"Status"}),g.jsx(dr,{className:"font-semibold text-purple-300 w-20"})]})}),g.jsx(RT,{children:J.map(L=>{var $,F,Z;return g.jsxs(mg,{className:"hover:bg-purple-900/20 transition-colors border-purple-500/20",children:[g.jsx(fr,{children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white font-semibold",children:((F=($=L.name)==null?void 0:$[0])==null?void 0:F.toUpperCase())||"?"}),g.jsx("p",{className:"font-medium text-white",children:L.name})]})}),g.jsx(fr,{className:"text-purple-200",children:L.company||"-"}),g.jsx(fr,{className:"text-purple-200 font-mono",children:L.phone}),g.jsx(fr,{children:g.jsx(mf,{className:`${H2[L.status]} capitalize`,children:((Z=L.status)==null?void 0:Z.replace("_"," "))||"new"})}),g.jsx(fr,{children:g.jsx(Xe,{variant:"ghost",size:"icon",onClick:()=>R.mutate(L.id),className:"text-purple-400 hover:text-red-400",children:g.jsx(ZP,{className:"w-4 h-4"})})})]},L.id)})})]})})]})]})]}),g.jsx(Wf,{open:n,onOpenChange:r,children:g.jsxs(lu,{className:"rounded-3xl",children:[g.jsx(cu,{children:g.jsx(uu,{className:"text-xl font-bold",children:"Add New Lead"})}),g.jsxs("div",{className:"space-y-4 mt-4",children:[g.jsx(Xt,{placeholder:"Full Name *",value:c.name,onChange:L=>u({...c,name:L.target.value}),className:"h-12 rounded-xl"}),g.jsx(Xt,{placeholder:"Phone Number *",value:c.phone,onChange:L=>u({...c,phone:L.target.value}),className:"h-12 rounded-xl"}),g.jsx(Xt,{placeholder:"Email",type:"email",value:c.email,onChange:L=>u({...c,email:L.target.value}),className:"h-12 rounded-xl"}),g.jsx(Xt,{placeholder:"Company",value:c.company,onChange:L=>u({...c,company:L.target.value}),className:"h-12 rounded-xl"}),(!c.name||!c.phone)&&g.jsx("p",{className:"text-red-500 text-sm",children:"* Name and Phone are required"}),g.jsx(Xe,{onClick:()=>k.mutate(c),disabled:!c.name||!c.phone||k.isPending,className:"w-full h-12 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:k.isPending?"Adding...":"Add Lead"})]})]})}),g.jsx(Wf,{open:i,onOpenChange:o,children:g.jsxs(lu,{className:"rounded-3xl",children:[g.jsx(cu,{children:g.jsx(uu,{className:"text-xl font-bold",children:"Import from GoHighLevel"})}),g.jsx("div",{className:"space-y-4 mt-4",children:D?g.jsx("div",{className:"py-8 text-center",children:g.jsx("p",{className:"text-slate-500",children:"Loading pipelines..."})}):I!=null&&I.pipelines?g.jsxs(g.Fragment,{children:[g.jsx("div",{children:g.jsxs("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:["Location: ",I.locationName]})}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Select Pipeline"}),g.jsxs("select",{value:f,onChange:L=>{h(L.target.value),v("")},className:"w-full h-12 rounded-xl border border-slate-200 px-4 bg-white",children:[g.jsx("option",{value:"",children:"Choose a pipeline..."}),I.pipelines.map(L=>g.jsx("option",{value:L.id,children:L.name},L.id))]})]}),f&&g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Select Stage"}),V!=null&&V.stages&&V.stages.length>0?g.jsxs("select",{value:p,onChange:L=>v(L.target.value),className:"w-full h-12 rounded-xl border border-slate-200 px-4 bg-white",children:[g.jsx("option",{value:"",children:"Choose a stage..."}),V.stages.map(L=>g.jsx("option",{value:L.id,children:L.name},L.id))]}):g.jsx("div",{className:"w-full h-12 rounded-xl border border-amber-200 px-4 bg-amber-50 flex items-center text-amber-700",children:"No stages found for this pipeline"})]}),g.jsx(Xe,{onClick:Y,disabled:!f||!p||x,className:"w-full h-12 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Importing All Leads...":"Import Leads"})]}):g.jsxs("div",{className:"py-8 text-center space-y-2",children:[g.jsx("p",{className:"text-red-500 font-medium",children:"Failed to load pipelines from GoHighLevel"}),M&&g.jsx("p",{className:"text-sm text-slate-500",children:M.message||"Please check your GHL API credentials"})]})})]})})]})}const pc={0:{bg:"bg-gradient-to-br from-yellow-400 to-amber-500",ring:"ring-yellow-400"},1:{bg:"bg-gradient-to-br from-slate-300 to-slate-400",ring:"ring-slate-300"},2:{bg:"bg-gradient-to-br from-amber-600 to-orange-700",ring:"ring-amber-500"}},hhe={bronze:{bg:"bg-gradient-to-br from-amber-700 to-orange-800",border:"border-amber-700",text:"text-amber-700",icon:YP},silver:{bg:"bg-gradient-to-br from-slate-300 to-slate-500",border:"border-slate-400",text:"text-slate-400",icon:fl},gold:{bg:"bg-gradient-to-br from-yellow-400 to-amber-500",border:"border-yellow-500",text:"text-yellow-500",icon:$g},platinum:{bg:"bg-gradient-to-br from-cyan-300 to-blue-500",border:"border-cyan-400",text:"text-cyan-400",icon:Mg},diamond:{bg:"bg-gradient-to-br from-blue-400 to-purple-600",border:"border-purple-500",text:"text-purple-400",icon:Mg}};function NW(){var c,u,f,h,p,v,x,b,y,_,T,S,A,P;const[t,e]=E.useState(null);E.useEffect(()=>{(async()=>{e({email:"demo@example.com"})})()},[]);const{data:n}=kt({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:O,error:k}=await Ie.from("user_stats").select().eq("user_email",t.email).maybeSingle();if(k&&k.code!=="PGRST116")throw k;if(!O){const{data:R,error:I}=await Ie.from("user_stats").insert({user_email:t.email,total_points:0,level:1,calls_today:0,appointments_today:0,current_streak:0,best_streak:0,daily_goal:50,mascot_mood:"neutral"}).select().single();if(I)throw I;return R}return O},enabled:!!(t!=null&&t.email)}),{data:r=[]}=kt({queryKey:["leaderboard"],queryFn:async()=>{const{data:O,error:k}=await Ie.from("user_stats").select().order("total_points",{ascending:!1});if(k)throw k;return O||[]}}),{data:i=[]}=kt({queryKey:["rankings"],queryFn:async()=>{await Ie.rpc("calculate_user_rankings").catch(()=>{});const{data:O,error:k}=await Ie.from("user_rankings").select().order("rank_position",{ascending:!0});if(k&&k.code!=="PGRST116")throw k;return O||[]}}),o=r.slice(0,3),s=r.slice(3),a={totalCalls:r.reduce((O,k)=>O+(k.calls_today||0),0),totalAppointments:r.reduce((O,k)=>O+(k.appointments_today||0),0),totalPoints:r.reduce((O,k)=>O+(k.total_points||0),0),totalCashCollected:r.reduce((O,k)=>O+(k.cash_collected||0),0),averageStreak:r.length>0?(r.reduce((O,k)=>O+(k.current_streak||0),0)/r.length).toFixed(1):0,teamMembers:r.length,topPerformer:((u=(c=r[0])==null?void 0:c.user_email)==null?void 0:u.split("@")[0])||"N/A",conversionRate:r.reduce((O,k)=>O+(k.calls_today||0),0)>0?(r.reduce((O,k)=>O+(k.appointments_today||0),0)/r.reduce((O,k)=>O+(k.calls_today||0),0)*100).toFixed(1):0};return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e] p-6",children:[g.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-600/20 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-indigo-600/20 rounded-full blur-3xl"})]}),g.jsxs("div",{className:"relative z-10 p-6 max-w-7xl mx-auto",children:[g.jsx(El,{userStats:n}),g.jsx("div",{className:"mb-6",children:g.jsx(Cl,{})}),g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsxs(pe.div,{className:"mb-10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[g.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[g.jsx($g,{className:"w-8 h-8 text-amber-500"}),"Team Leaderboard"]}),g.jsx("p",{className:"text-purple-300 mt-1",children:"Rankings and performance metrics"})]}),g.jsxs(pe.div,{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(_t,{className:"w-5 h-5 text-indigo-400"}),g.jsx("span",{className:"text-purple-300 text-sm",children:"Total Calls"})]}),g.jsx("p",{className:"text-3xl font-bold text-white",children:a.totalCalls}),g.jsxs("p",{className:"text-xs text-purple-400 mt-1",children:[a.teamMembers," members"]})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(XP,{className:"w-5 h-5 text-green-400"}),g.jsx("span",{className:"text-purple-300 text-sm",children:"Appointments"})]}),g.jsx("p",{className:"text-3xl font-bold text-white",children:a.totalAppointments}),g.jsxs("p",{className:"text-xs text-purple-400 mt-1",children:[a.conversionRate,"% conversion"]})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-emerald-500/20",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(ou,{className:"w-5 h-5 text-emerald-400"}),g.jsx("span",{className:"text-purple-300 text-sm",children:"Cash Collected"})]}),g.jsxs("p",{className:"text-3xl font-bold text-emerald-400",children:["$",a.totalCashCollected.toLocaleString()]}),g.jsx("p",{className:"text-xs text-emerald-300 mt-1",children:"Team revenue"})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(Bo,{className:"w-5 h-5 text-amber-400"}),g.jsx("span",{className:"text-purple-300 text-sm",children:"Total Points"})]}),g.jsx("p",{className:"text-3xl font-bold text-white",children:a.totalPoints.toLocaleString()}),g.jsx("p",{className:"text-xs text-purple-400 mt-1",children:"Team score"})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(Dg,{className:"w-5 h-5 text-orange-400"}),g.jsx("span",{className:"text-purple-300 text-sm",children:"Avg Streak"})]}),g.jsx("p",{className:"text-3xl font-bold text-white",children:a.averageStreak}),g.jsx("p",{className:"text-xs text-purple-400 mt-1",children:"days active"})]})]}),g.jsxs(pe.div,{className:"flex items-end justify-center gap-4 mb-12 h-80",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[o[1]&&g.jsxs(pe.div,{className:"flex flex-col items-center",initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:[g.jsx("div",{className:`w-20 h-20 rounded-full ${pc[1].bg} flex items-center justify-center text-white text-2xl font-bold shadow-xl mb-3 ring-4 ${pc[1].ring}`,children:((h=(f=o[1].user_email)==null?void 0:f[0])==null?void 0:h.toUpperCase())||"2"}),g.jsx("p",{className:"font-semibold text-white text-sm truncate max-w-24",children:(p=o[1].user_email)==null?void 0:p.split("@")[0]}),g.jsx("p",{className:"text-lg font-bold text-white",children:(v=o[1].total_points)==null?void 0:v.toLocaleString()}),g.jsx("div",{className:"w-28 h-32 bg-gradient-to-t from-slate-700 to-slate-600 rounded-t-xl mt-3 flex items-center justify-center",children:g.jsx("span",{className:"text-4xl font-bold text-slate-400",children:"2"})})]}),o[0]&&g.jsxs(pe.div,{className:"flex flex-col items-center",initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[g.jsx(pe.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:g.jsx("div",{className:`w-24 h-24 rounded-full ${pc[0].bg} flex items-center justify-center text-white text-3xl font-bold shadow-2xl mb-3 ring-4 ${pc[0].ring}`,children:((b=(x=o[0].user_email)==null?void 0:x[0])==null?void 0:b.toUpperCase())||"1"})}),g.jsx("p",{className:"font-semibold text-white truncate max-w-28",children:(y=o[0].user_email)==null?void 0:y.split("@")[0]}),g.jsx("p",{className:"text-xl font-bold text-white",children:(_=o[0].total_points)==null?void 0:_.toLocaleString()}),g.jsx("div",{className:"w-32 h-44 bg-gradient-to-t from-amber-500 to-yellow-500 rounded-t-xl mt-3 flex items-center justify-center shadow-lg",children:g.jsx("span",{className:"text-5xl font-bold text-amber-900",children:"1"})})]}),o[2]&&g.jsxs(pe.div,{className:"flex flex-col items-center",initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},children:[g.jsx("div",{className:`w-18 h-18 rounded-full ${pc[2].bg} flex items-center justify-center text-white text-xl font-bold shadow-xl mb-3 ring-4 ${pc[2].ring}`,children:((S=(T=o[2].user_email)==null?void 0:T[0])==null?void 0:S.toUpperCase())||"3"}),g.jsx("p",{className:"font-semibold text-white text-sm truncate max-w-24",children:(A=o[2].user_email)==null?void 0:A.split("@")[0]}),g.jsx("p",{className:"text-lg font-bold text-white",children:(P=o[2].total_points)==null?void 0:P.toLocaleString()}),g.jsx("div",{className:"w-28 h-24 bg-gradient-to-t from-orange-700 to-amber-700 rounded-t-xl mt-3 flex items-center justify-center",children:g.jsx("span",{className:"text-4xl font-bold text-orange-400",children:"3"})})]})]}),s.length>0&&g.jsx(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-xl rounded-3xl border border-purple-500/20 overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:s.map((O,k)=>{var I,D,M,U,V;const R=O.user_email===(t==null?void 0:t.email);return g.jsxs(pe.div,{className:`flex items-center p-4 border-b border-purple-500/10 last:border-0 ${R?"bg-purple-900/30":""}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+k*.05},children:[g.jsx("span",{className:"w-8 text-lg font-bold text-purple-400",children:k+4}),g.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-semibold mr-4",children:((D=(I=O.user_email)==null?void 0:I[0])==null?void 0:D.toUpperCase())||"?"}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("p",{className:"font-semibold text-white",children:[(M=O.user_email)==null?void 0:M.split("@")[0],R&&g.jsx("span",{className:"text-purple-400 ml-2",children:"(You)"})]}),g.jsxs("div",{className:"flex items-center gap-3 text-sm text-purple-300 mt-1",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(_t,{className:"w-3 h-3"}),O.calls_today||0]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(XP,{className:"w-3 h-3"}),O.appointments_today||0]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(ou,{className:"w-3 h-3 text-emerald-400"}),"$",((U=O.cash_collected)==null?void 0:U.toLocaleString())||0]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(Dg,{className:"w-3 h-3 text-orange-500"}),O.current_streak||0]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(YP,{className:"w-3 h-3 text-purple-400"}),"Lvl ",O.level||1]})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-xl font-bold text-white",children:(V=O.total_points)==null?void 0:V.toLocaleString()}),g.jsx("p",{className:"text-sm text-purple-400",children:"XP"})]})]},O.id)})}),r.length===0&&g.jsxs(pe.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},children:[g.jsx($g,{className:"w-16 h-16 text-purple-500/30 mx-auto mb-4"}),g.jsx("p",{className:"text-purple-300",children:"Start making calls to appear on the leaderboard!"})]}),i.length>0&&g.jsxs(pe.div,{className:"mt-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:[g.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[g.jsx(YP,{className:"w-6 h-6 text-purple-400"}),"Success Ratio Rankings"]}),g.jsx("p",{className:"text-purple-300 text-sm mb-6",children:"Rankings based on appointment success rate. Higher tiers indicate better conversion rates."}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map((O,k)=>{var M;const R=O.rank_tier||"bronze",I=hhe[R],D=I.icon;return g.jsxs(pe.div,{className:`bg-[#2d1f4a]/50 backdrop-blur-sm rounded-xl p-4 border-2 ${I.border}`,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.8+k*.05},children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`w-10 h-10 rounded-full ${I.bg} flex items-center justify-center`,children:g.jsx(D,{className:"w-5 h-5 text-white"})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-white text-sm",children:(M=O.user_email)==null?void 0:M.split("@")[0]}),g.jsx("p",{className:`text-xs font-bold ${I.text} uppercase`,children:R})]})]}),g.jsx("div",{className:"text-right",children:g.jsxs("p",{className:"text-sm font-bold text-white",children:["#",O.rank_position]})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-xs text-purple-300",children:"Success Rate:"}),g.jsxs("span",{className:"text-sm font-bold text-emerald-400",children:[O.success_ratio||0,"%"]})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-xs text-purple-300",children:"Total Calls:"}),g.jsx("span",{className:"text-sm font-semibold text-white",children:O.total_calls||0})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-xs text-purple-300",children:"Appointments:"}),g.jsx("span",{className:"text-sm font-semibold text-white",children:O.successful_calls||0})]})]}),g.jsx("div",{className:"mt-3 pt-3 border-t border-purple-500/20",children:g.jsx("div",{className:"w-full bg-slate-700 rounded-full h-1.5 overflow-hidden",children:g.jsx(pe.div,{initial:{width:0},animate:{width:`${Math.min(O.success_ratio||0,100)}%`},transition:{duration:1,delay:.8+k*.05},className:I.bg.replace("bg-gradient-to-br","bg-gradient-to-r"),style:{height:"100%"}})})})]},O.id)})}),g.jsxs(pe.div,{className:"mt-6 bg-[#2d1f4a]/30 backdrop-blur-sm rounded-xl p-4 border border-purple-500/20",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},children:[g.jsx("p",{className:"text-sm font-semibold text-purple-300 mb-3",children:"Tier Requirements:"}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-amber-700 to-orange-800"}),g.jsx("span",{className:"text-purple-200",children:"Bronze: <10%"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-slate-300 to-slate-500"}),g.jsx("span",{className:"text-purple-200",children:"Silver: 10-15%"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-yellow-400 to-amber-500"}),g.jsx("span",{className:"text-purple-200",children:"Gold: 15-20%"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-cyan-300 to-blue-500"}),g.jsx("span",{className:"text-purple-200",children:"Platinum: 20-30%"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-blue-400 to-purple-600"}),g.jsx("span",{className:"text-purple-200",children:"Diamond: 30%+"})]})]})]})]})]})]})]})}function mc({title:t,value:e,icon:n,trend:r,trendValue:i,delay:o=0}){const s=i>=0;return g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20 relative overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o},children:[g.jsxs("div",{className:"flex items-start justify-between mb-4",children:[g.jsx("div",{className:"w-10 h-10 bg-purple-500/20 rounded-xl flex items-center justify-center",children:g.jsx(n,{className:"w-5 h-5 text-purple-400"})}),r&&g.jsxs("div",{className:`flex items-center gap-1 text-xs font-semibold ${s?"text-emerald-400":"text-red-400"}`,children:[s?g.jsx(Bo,{className:"w-3 h-3"}):g.jsx(pne,{className:"w-3 h-3"}),r]})]}),g.jsx("div",{className:"text-4xl font-bold text-white mb-1",children:e}),g.jsx("div",{className:"text-purple-300 text-sm",children:t})]})}var Hw,G2;function wr(){if(G2)return Hw;G2=1;var t=Array.isArray;return Hw=t,Hw}var Gw,K2;function IW(){if(K2)return Gw;K2=1;var t=typeof um=="object"&&um&&um.Object===Object&&um;return Gw=t,Gw}var Kw,Y2;function io(){if(Y2)return Kw;Y2=1;var t=IW(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Kw=n,Kw}var Yw,X2;function Yh(){if(X2)return Yw;X2=1;var t=io(),e=t.Symbol;return Yw=e,Yw}var Xw,Q2;function phe(){if(Q2)return Xw;Q2=1;var t=Yh(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(s){var a=n.call(s,i),c=s[i];try{s[i]=void 0;var u=!0}catch{}var f=r.call(s);return u&&(a?s[i]=c:delete s[i]),f}return Xw=o,Xw}var Qw,J2;function mhe(){if(J2)return Qw;J2=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Qw=n,Qw}var Jw,Z2;function Jo(){if(Z2)return Jw;Z2=1;var t=Yh(),e=phe(),n=mhe(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?e(a):n(a)}return Jw=s,Jw}var Zw,eM;function Zo(){if(eM)return Zw;eM=1;function t(e){return e!=null&&typeof e=="object"}return Zw=t,Zw}var ex,tM;function Qu(){if(tM)return ex;tM=1;var t=Jo(),e=Zo(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return ex=r,ex}var tx,nM;function jA(){if(nM)return tx;nM=1;var t=wr(),e=Qu(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(t(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return tx=i,tx}var nx,rM;function ra(){if(rM)return nx;rM=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return nx=t,nx}var rx,iM;function RA(){if(iM)return rx;iM=1;var t=Jo(),e=ra(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!e(a))return!1;var c=t(a);return c==r||c==i||c==n||c==o}return rx=s,rx}var ix,oM;function ghe(){if(oM)return ix;oM=1;var t=io(),e=t["__core-js_shared__"];return ix=e,ix}var ox,sM;function vhe(){if(sM)return ox;sM=1;var t=ghe(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return ox=n,ox}var sx,aM;function MW(){if(aM)return sx;aM=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return sx=n,sx}var ax,lM;function yhe(){if(lM)return ax;lM=1;var t=RA(),e=vhe(),n=ra(),r=MW(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,c=s.toString,u=a.hasOwnProperty,f=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(p){if(!n(p)||e(p))return!1;var v=t(p)?f:o;return v.test(r(p))}return ax=h,ax}var lx,cM;function bhe(){if(cM)return lx;cM=1;function t(e,n){return e==null?void 0:e[n]}return lx=t,lx}var cx,uM;function Ol(){if(uM)return cx;uM=1;var t=yhe(),e=bhe();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return cx=n,cx}var ux,dM;function _y(){if(dM)return ux;dM=1;var t=Ol(),e=t(Object,"create");return ux=e,ux}var dx,fM;function whe(){if(fM)return dx;fM=1;var t=_y();function e(){this.__data__=t?t(null):{},this.size=0}return dx=e,dx}var fx,hM;function xhe(){if(hM)return fx;hM=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return fx=t,fx}var hx,pM;function _he(){if(pM)return hx;pM=1;var t=_y(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(t){var a=s[o];return a===e?void 0:a}return r.call(s,o)?s[o]:void 0}return hx=i,hx}var px,mM;function She(){if(mM)return px;mM=1;var t=_y(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return px=r,px}var mx,gM;function Phe(){if(gM)return mx;gM=1;var t=_y(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return mx=n,mx}var gx,vM;function The(){if(vM)return gx;vM=1;var t=whe(),e=xhe(),n=_he(),r=She(),i=Phe();function o(s){var a=-1,c=s==null?0:s.length;for(this.clear();++a<c;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,gx=o,gx}var vx,yM;function Ehe(){if(yM)return vx;yM=1;function t(){this.__data__=[],this.size=0}return vx=t,vx}var yx,bM;function NA(){if(bM)return yx;bM=1;function t(e,n){return e===n||e!==e&&n!==n}return yx=t,yx}var bx,wM;function Sy(){if(wM)return bx;wM=1;var t=NA();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return bx=e,bx}var wx,xM;function Che(){if(xM)return wx;xM=1;var t=Sy(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return wx=r,wx}var xx,_M;function Ahe(){if(_M)return xx;_M=1;var t=Sy();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return xx=e,xx}var _x,SM;function Ohe(){if(SM)return _x;SM=1;var t=Sy();function e(n){return t(this.__data__,n)>-1}return _x=e,_x}var Sx,PM;function khe(){if(PM)return Sx;PM=1;var t=Sy();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return Sx=e,Sx}var Px,TM;function Py(){if(TM)return Px;TM=1;var t=Ehe(),e=Che(),n=Ahe(),r=Ohe(),i=khe();function o(s){var a=-1,c=s==null?0:s.length;for(this.clear();++a<c;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Px=o,Px}var Tx,EM;function IA(){if(EM)return Tx;EM=1;var t=Ol(),e=io(),n=t(e,"Map");return Tx=n,Tx}var Ex,CM;function jhe(){if(CM)return Ex;CM=1;var t=The(),e=Py(),n=IA();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Ex=r,Ex}var Cx,AM;function Rhe(){if(AM)return Cx;AM=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Cx=t,Cx}var Ax,OM;function Ty(){if(OM)return Ax;OM=1;var t=Rhe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Ax=e,Ax}var Ox,kM;function Nhe(){if(kM)return Ox;kM=1;var t=Ty();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Ox=e,Ox}var kx,jM;function Ihe(){if(jM)return kx;jM=1;var t=Ty();function e(n){return t(this,n).get(n)}return kx=e,kx}var jx,RM;function Mhe(){if(RM)return jx;RM=1;var t=Ty();function e(n){return t(this,n).has(n)}return jx=e,jx}var Rx,NM;function Dhe(){if(NM)return Rx;NM=1;var t=Ty();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Rx=e,Rx}var Nx,IM;function MA(){if(IM)return Nx;IM=1;var t=jhe(),e=Nhe(),n=Ihe(),r=Mhe(),i=Dhe();function o(s){var a=-1,c=s==null?0:s.length;for(this.clear();++a<c;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Nx=o,Nx}var Ix,MM;function DW(){if(MM)return Ix;MM=1;var t=MA(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],c=o.cache;if(c.has(a))return c.get(a);var u=r.apply(this,s);return o.cache=c.set(a,u)||c,u};return o.cache=new(n.Cache||t),o}return n.Cache=t,Ix=n,Ix}var Mx,DM;function $he(){if(DM)return Mx;DM=1;var t=DW(),e=500;function n(r){var i=t(r,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return Mx=n,Mx}var Dx,$M;function Lhe(){if($M)return Dx;$M=1;var t=$he(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,a,c,u){o.push(c?u.replace(n,"$1"):a||s)}),o});return Dx=r,Dx}var $x,LM;function DA(){if(LM)return $x;LM=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return $x=t,$x}var Lx,FM;function Fhe(){if(FM)return Lx;FM=1;var t=Yh(),e=DA(),n=wr(),r=Qu(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return e(a,s)+"";if(r(a))return o?o.call(a):"";var c=a+"";return c=="0"&&1/a==-1/0?"-0":c}return Lx=s,Lx}var Fx,BM;function $W(){if(BM)return Fx;BM=1;var t=Fhe();function e(n){return n==null?"":t(n)}return Fx=e,Fx}var Bx,UM;function LW(){if(UM)return Bx;UM=1;var t=wr(),e=jA(),n=Lhe(),r=$W();function i(o,s){return t(o)?o:e(o,s)?[o]:n(r(o))}return Bx=i,Bx}var Ux,qM;function Ey(){if(qM)return Ux;qM=1;var t=Qu();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Ux=e,Ux}var qx,VM;function $A(){if(VM)return qx;VM=1;var t=LW(),e=Ey();function n(r,i){i=t(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[e(i[o++])];return o&&o==s?r:void 0}return qx=n,qx}var Vx,WM;function FW(){if(WM)return Vx;WM=1;var t=$A();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return Vx=e,Vx}var Bhe=FW();const Ir=st(Bhe);var Wx,zM;function Uhe(){if(zM)return Wx;zM=1;function t(e){return e==null}return Wx=t,Wx}var qhe=Uhe();const Ge=st(qhe);var zx,HM;function Vhe(){if(HM)return zx;HM=1;var t=Jo(),e=wr(),n=Zo(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return zx=i,zx}var Whe=Vhe();const yl=st(Whe);var zhe=RA();const qe=st(zhe);var Hhe=ra();const Ju=st(Hhe);var Hx={exports:{}},dt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GM;function Ghe(){if(GM)return dt;GM=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function b(y){if(typeof y=="object"&&y!==null){var _=y.$$typeof;switch(_){case t:switch(y=y.type,y){case n:case i:case r:case u:case f:return y;default:switch(y=y&&y.$$typeof,y){case a:case s:case c:case p:case h:case o:return y;default:return _}}case e:return _}}}return dt.ContextConsumer=s,dt.ContextProvider=o,dt.Element=t,dt.ForwardRef=c,dt.Fragment=n,dt.Lazy=p,dt.Memo=h,dt.Portal=e,dt.Profiler=i,dt.StrictMode=r,dt.Suspense=u,dt.SuspenseList=f,dt.isAsyncMode=function(){return!1},dt.isConcurrentMode=function(){return!1},dt.isContextConsumer=function(y){return b(y)===s},dt.isContextProvider=function(y){return b(y)===o},dt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},dt.isForwardRef=function(y){return b(y)===c},dt.isFragment=function(y){return b(y)===n},dt.isLazy=function(y){return b(y)===p},dt.isMemo=function(y){return b(y)===h},dt.isPortal=function(y){return b(y)===e},dt.isProfiler=function(y){return b(y)===i},dt.isStrictMode=function(y){return b(y)===r},dt.isSuspense=function(y){return b(y)===u},dt.isSuspenseList=function(y){return b(y)===f},dt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===r||y===u||y===f||y===v||typeof y=="object"&&y!==null&&(y.$$typeof===p||y.$$typeof===h||y.$$typeof===o||y.$$typeof===s||y.$$typeof===c||y.$$typeof===x||y.getModuleId!==void 0)},dt.typeOf=b,dt}var KM;function Khe(){return KM||(KM=1,Hx.exports=Ghe()),Hx.exports}var Yhe=Khe(),Gx,YM;function BW(){if(YM)return Gx;YM=1;var t=Jo(),e=Zo(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return Gx=r,Gx}var Kx,XM;function Xhe(){if(XM)return Kx;XM=1;var t=BW();function e(n){return t(n)&&n!=+n}return Kx=e,Kx}var Qhe=Xhe();const Zu=st(Qhe);var Jhe=BW();const Zhe=st(Jhe);var tr=function(e){return e===0?0:e>0?1:-1},qa=function(e){return yl(e)&&e.indexOf("%")===e.length-1},de=function(e){return Zhe(e)&&!Zu(e)},epe=function(e){return Ge(e)},yn=function(e){return de(e)||yl(e)},tpe=0,ed=function(e){var n=++tpe;return"".concat(e||"").concat(n)},nr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(e)&&!yl(e))return r;var o;if(qa(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Zu(o)&&(o=r),i&&o>n&&(o=n),o},ks=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},npe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},gr=function(e,n){return de(e)&&de(n)?function(r){return e+r*(n-e)}:function(){return n}};function Qg(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ir(r,e))===n})}var rpe=function(e,n){return de(e)&&de(n)?e-n:yl(e)&&yl(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Fc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function NT(t){"@babel/helpers - typeof";return NT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NT(t)}var ipe=["viewBox","children"],ope=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],QM=["points","pathLength"],Yx={svg:ipe,polygon:QM,polyline:QM},LA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Jg=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(E.isValidElement(e)&&(r=e.props),!Ju(r))return null;var i={};return Object.keys(r).forEach(function(o){LA.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},spe=function(e,n,r){return function(i){return e(n,r,i),null}},bl=function(e,n,r){if(!Ju(e)||NT(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];LA.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=spe(s,n,r))}),i},ape=["children"],lpe=["children"];function JM(t,e){if(t==null)return{};var n=cpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IT(t){"@babel/helpers - typeof";return IT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IT(t)}var ZM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Io=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},eD=null,Xx=null,FA=function t(e){if(e===eD&&Array.isArray(Xx))return Xx;var n=[];return E.Children.forEach(e,function(r){Ge(r)||(Yhe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Xx=n,eD=e,n};function ti(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Io(i)}):r=[Io(e)],FA(t).forEach(function(i){var o=Ir(i,"type.displayName")||Ir(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Or(t,e){var n=ti(t,e);return n&&n[0]}var tD=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!de(r)||r<=0||!de(i)||i<=0)},upe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],dpe=function(e){return e&&e.type&&yl(e.type)&&upe.indexOf(e.type)>=0},fpe=function(e){return e&&IT(e)==="object"&&"clipDot"in e},hpe=function(e,n,r,i){var o,s=(o=Yx==null?void 0:Yx[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!qe(e)&&(i&&s.includes(n)||ope.includes(n))||r&&LA.includes(n)},Me=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(E.isValidElement(e)&&(i=e.props),!Ju(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;hpe((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},MT=function t(e,n){if(e===n)return!0;var r=E.Children.count(e);if(r!==E.Children.count(n))return!1;if(r===0)return!0;if(r===1)return nD(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!nD(o,s))return!1}return!0},nD=function(e,n){if(Ge(e)&&Ge(n))return!0;if(!Ge(e)&&!Ge(n)){var r=e.props||{},i=r.children,o=JM(r,ape),s=n.props||{},a=s.children,c=JM(s,lpe);return i&&a?Fc(o,c)&&MT(i,a):!i&&!a?Fc(o,c):!1}return!1},rD=function(e,n){var r=[],i={};return FA(e).forEach(function(o,s){if(dpe(o))r.push(o);else if(o){var a=Io(o.type),c=n[a]||{},u=c.handler,f=c.once;if(u&&(!f||!i[a])){var h=u(o,a,s);r.push(h),i[a]=!0}}}),r},ppe=function(e){var n=e&&e.type;return n&&ZM[n]?ZM[n]:null},mpe=function(e,n){return FA(n).indexOf(e)},gpe=["children","width","height","viewBox","className","style","title","desc"];function DT(){return DT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DT.apply(this,arguments)}function vpe(t,e){if(t==null)return{};var n=ype(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ype(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $T(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,c=t.desc,u=vpe(t,gpe),f=i||{width:n,height:r,x:0,y:0},h=He("recharts-surface",o);return W.createElement("svg",DT({},Me(u,!0,"svg"),{className:h,width:n,height:r,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),W.createElement("title",null,a),W.createElement("desc",null,c),e)}var bpe=["children","className"];function LT(){return LT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LT.apply(this,arguments)}function wpe(t,e){if(t==null)return{};var n=xpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rt=W.forwardRef(function(t,e){var n=t.children,r=t.className,i=wpe(t,bpe),o=He("recharts-layer",r);return W.createElement("g",LT({className:o},Me(i,!0),{ref:e}),n)}),Ai=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},Qx,iD;function _pe(){if(iD)return Qx;iD=1;function t(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+n];return s}return Qx=t,Qx}var Jx,oD;function Spe(){if(oD)return Jx;oD=1;var t=_pe();function e(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:t(n,r,i)}return Jx=e,Jx}var Zx,sD;function UW(){if(sD)return Zx;sD=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",a=RegExp("["+s+t+i+o+"]");function c(u){return a.test(u)}return Zx=c,Zx}var e_,aD;function Ppe(){if(aD)return e_;aD=1;function t(e){return e.split("")}return e_=t,e_}var t_,lD;function Tpe(){if(lD)return t_;lD=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="["+t+"]",a="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+c+")",f="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",x=u+"?",b="["+o+"]?",y="(?:"+v+"(?:"+[f,h,p].join("|")+")"+b+x+")*",_=b+x+y,T="(?:"+[f+a+"?",a,h,p,s].join("|")+")",S=RegExp(c+"(?="+c+")|"+T+_,"g");function A(P){return P.match(S)||[]}return t_=A,t_}var n_,cD;function Epe(){if(cD)return n_;cD=1;var t=Ppe(),e=UW(),n=Tpe();function r(i){return e(i)?n(i):t(i)}return n_=r,n_}var r_,uD;function Cpe(){if(uD)return r_;uD=1;var t=Spe(),e=UW(),n=Epe(),r=$W();function i(o){return function(s){s=r(s);var a=e(s)?n(s):void 0,c=a?a[0]:s.charAt(0),u=a?t(a,1).join(""):s.slice(1);return c[o]()+u}}return r_=i,r_}var i_,dD;function Ape(){if(dD)return i_;dD=1;var t=Cpe(),e=t("toUpperCase");return i_=e,i_}var Ope=Ape();const Cy=st(Ope);function Ot(t){return function(){return t}}const qW=Math.cos,Zg=Math.sin,Ii=Math.sqrt,ev=Math.PI,Ay=2*ev,FT=Math.PI,BT=2*FT,Ra=1e-6,kpe=BT-Ra;function VW(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function jpe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return VW;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Rpe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?VW:jpe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,c=r-e,u=i-n,f=s-e,h=a-n,p=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Ra)if(!(Math.abs(h*c-u*f)>Ra)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-s,x=i-a,b=c*c+u*u,y=v*v+x*x,_=Math.sqrt(b),T=Math.sqrt(p),S=o*Math.tan((FT-Math.acos((b+p-y)/(2*_*T)))/2),A=S/T,P=S/_;Math.abs(A-1)>Ra&&this._append`L${e+A*f},${n+A*h}`,this._append`A${o},${o},0,0,${+(h*v>f*x)},${this._x1=e+P*c},${this._y1=n+P*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),c=r*Math.sin(i),u=e+a,f=n+c,h=1^s,p=s?i-o:o-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Ra||Math.abs(this._y1-f)>Ra)&&this._append`L${u},${f}`,r&&(p<0&&(p=p%BT+BT),p>kpe?this._append`A${r},${r},0,1,${h},${e-a},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=f}`:p>Ra&&this._append`A${r},${r},0,${+(p>=FT)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function BA(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Rpe(e)}function UA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function WW(t){this._context=t}WW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Oy(t){return new WW(t)}function zW(t){return t[0]}function HW(t){return t[1]}function GW(t,e){var n=Ot(!0),r=null,i=Oy,o=null,s=BA(a);t=typeof t=="function"?t:t===void 0?zW:Ot(t),e=typeof e=="function"?e:e===void 0?HW:Ot(e);function a(c){var u,f=(c=UA(c)).length,h,p=!1,v;for(r==null&&(o=i(v=s())),u=0;u<=f;++u)!(u<f&&n(h=c[u],u,c))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+t(h,u,c),+e(h,u,c));if(v)return o=null,v+""||null}return a.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ot(+c),a):t},a.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ot(+c),a):e},a.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ot(!!c),a):n},a.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),a):i},a.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),a):r},a}function Fm(t,e,n){var r=null,i=Ot(!0),o=null,s=Oy,a=null,c=BA(u);t=typeof t=="function"?t:t===void 0?zW:Ot(+t),e=typeof e=="function"?e:Ot(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?HW:Ot(+n);function u(h){var p,v,x,b=(h=UA(h)).length,y,_=!1,T,S=new Array(b),A=new Array(b);for(o==null&&(a=s(T=c())),p=0;p<=b;++p){if(!(p<b&&i(y=h[p],p,h))===_)if(_=!_)v=p,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),x=p-1;x>=v;--x)a.point(S[x],A[x]);a.lineEnd(),a.areaEnd()}_&&(S[p]=+t(y,p,h),A[p]=+e(y,p,h),a.point(r?+r(y,p,h):S[p],n?+n(y,p,h):A[p]))}if(T)return a=null,T+""||null}function f(){return GW().defined(i).curve(s).context(o)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Ot(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Ot(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ot(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Ot(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Ot(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ot(+h),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Ot(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,o!=null&&(a=s(o)),u):s},u.context=function(h){return arguments.length?(h==null?o=a=null:a=s(o=h),u):o},u}class KW{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Npe(t){return new KW(t,!0)}function Ipe(t){return new KW(t,!1)}const qA={draw(t,e){const n=Ii(e/ev);t.moveTo(n,0),t.arc(0,0,n,0,Ay)}},Mpe={draw(t,e){const n=Ii(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},YW=Ii(1/3),Dpe=YW*2,$pe={draw(t,e){const n=Ii(e/Dpe),r=n*YW;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Lpe={draw(t,e){const n=Ii(e),r=-n/2;t.rect(r,r,n,n)}},Fpe=.8908130915292852,XW=Zg(ev/10)/Zg(7*ev/10),Bpe=Zg(Ay/10)*XW,Upe=-qW(Ay/10)*XW,qpe={draw(t,e){const n=Ii(e*Fpe),r=Bpe*n,i=Upe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Ay*o/5,a=qW(s),c=Zg(s);t.lineTo(c*n,-a*n),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},o_=Ii(3),Vpe={draw(t,e){const n=-Ii(e/(o_*3));t.moveTo(0,n*2),t.lineTo(-o_*n,-n),t.lineTo(o_*n,-n),t.closePath()}},qr=-.5,Vr=Ii(3)/2,UT=1/Ii(12),Wpe=(UT/2+1)*3,zpe={draw(t,e){const n=Ii(e/Wpe),r=n/2,i=n*UT,o=r,s=n*UT+n,a=-o,c=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,c),t.lineTo(qr*r-Vr*i,Vr*r+qr*i),t.lineTo(qr*o-Vr*s,Vr*o+qr*s),t.lineTo(qr*a-Vr*c,Vr*a+qr*c),t.lineTo(qr*r+Vr*i,qr*i-Vr*r),t.lineTo(qr*o+Vr*s,qr*s-Vr*o),t.lineTo(qr*a+Vr*c,qr*c-Vr*a),t.closePath()}};function Hpe(t,e){let n=null,r=BA(i);t=typeof t=="function"?t:Ot(t||qA),e=typeof e=="function"?e:Ot(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ot(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ot(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function tv(){}function nv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function QW(t){this._context=t}QW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gpe(t){return new QW(t)}function JW(t){this._context=t}JW.prototype={areaStart:tv,areaEnd:tv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:nv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Kpe(t){return new JW(t)}function ZW(t){this._context=t}ZW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:nv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ype(t){return new ZW(t)}function ez(t){this._context=t}ez.prototype={areaStart:tv,areaEnd:tv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Xpe(t){return new ez(t)}function fD(t){return t<0?-1:1}function hD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(fD(o)+fD(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function pD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function s_(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function rv(t){this._context=t}rv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:s_(this,this._t0,pD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,s_(this,pD(this,n=hD(this,t,e)),n);break;default:s_(this,this._t0,n=hD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function tz(t){this._context=new nz(t)}(tz.prototype=Object.create(rv.prototype)).point=function(t,e){rv.prototype.point.call(this,e,t)};function nz(t){this._context=t}nz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Qpe(t){return new rv(t)}function Jpe(t){return new tz(t)}function rz(t){this._context=t}rz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=mD(t),i=mD(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function mD(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Zpe(t){return new rz(t)}function ky(t,e){this._context=t,this._t=e}ky.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function eme(t){return new ky(t,.5)}function tme(t){return new ky(t,0)}function nme(t){return new ky(t,1)}function fu(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function qT(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function rme(t,e){return t[e]}function ime(t){const e=[];return e.key=t,e}function ome(){var t=Ot([]),e=qT,n=fu,r=rme;function i(o){var s=Array.from(t.apply(this,arguments),ime),a,c=s.length,u=-1,f;for(const h of o)for(a=0,++u;a<c;++a)(s[a][u]=[0,+r(h,s[a].key,u,o)]).data=h;for(a=0,f=UA(e(s));a<c;++a)s[f[a]].index=a;return n(s,f),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ot(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ot(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?qT:typeof o=="function"?o:Ot(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??fu,i):n},i}function sme(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}fu(t,e)}}function ame(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}fu(t,e)}}function lme(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,c=0,u=0;a<s;++a){for(var f=t[e[a]],h=f[r][1]||0,p=f[r-1][1]||0,v=(h-p)/2,x=0;x<a;++x){var b=t[e[x]],y=b[r][1]||0,_=b[r-1][1]||0;v+=y-_}c+=h,u+=v*h}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,fu(t,e)}}function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}var cme=["type","size","sizeType"];function VT(){return VT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VT.apply(this,arguments)}function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){ume(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ume(t,e,n){return e=dme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dme(t){var e=fme(t,"string");return Gf(e)=="symbol"?e:e+""}function fme(t,e){if(Gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hme(t,e){if(t==null)return{};var n=pme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var iz={symbolCircle:qA,symbolCross:Mpe,symbolDiamond:$pe,symbolSquare:Lpe,symbolStar:qpe,symbolTriangle:Vpe,symbolWye:zpe},mme=Math.PI/180,gme=function(e){var n="symbol".concat(Cy(e));return iz[n]||qA},vme=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*mme;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},yme=function(e,n){iz["symbol".concat(Cy(e))]=n},VA=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,c=hme(e,cme),u=vD(vD({},c),{},{type:r,size:o,sizeType:a}),f=function(){var y=gme(r),_=Hpe().type(y).size(vme(o,a,r));return _()},h=u.className,p=u.cx,v=u.cy,x=Me(u,!0);return p===+p&&v===+v&&o===+o?W.createElement("path",VT({},x,{className:He("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(v,")"),d:f()})):null};VA.registerSymbol=yme;function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function WT(){return WT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WT.apply(this,arguments)}function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){Kf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sz(r.key),r)}}function _me(t,e,n){return e&&xme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sme(t,e,n){return e=iv(e),Pme(t,oz()?Reflect.construct(e,n||[],iv(t).constructor):e.apply(t,n))}function Pme(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tme(t)}function Tme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oz=function(){return!!t})()}function iv(t){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iv(t)}function Eme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zT(t,e)}function zT(t,e){return zT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zT(t,e)}function Kf(t,e,n){return e=sz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sz(t){var e=Cme(t,"string");return hu(e)=="symbol"?e:e+""}function Cme(t,e){if(hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wr=32,WA=(function(t){function e(){return wme(this,e),Sme(this,e,arguments)}return Eme(e,t),_me(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Wr/2,s=Wr/6,a=Wr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Wr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(Wr,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return W.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Wr/8,"h").concat(Wr,"v").concat(Wr*3/4,"h").concat(-Wr,"z"),className:"recharts-legend-icon"});if(W.isValidElement(r.legendIcon)){var u=bme({},r);return delete u.legendIcon,W.cloneElement(r.legendIcon,u)}return W.createElement(VA,{fill:c,cx:o,cy:o,size:Wr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,c=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:Wr,height:Wr},h={display:a==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(v,x){var b=v.formatter||c,y=He(Kf(Kf({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",v.inactive));if(v.type==="none")return null;var _=qe(v.value)?null:v.value;Ai(!qe(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var T=v.inactive?u:v.color;return W.createElement("li",WT({className:y,style:h,key:"legend-item-".concat(x)},bl(r.props,v,x)),W.createElement($T,{width:s,height:s,viewBox:f,style:p},r.renderIcon(v)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},b?b(_,v,x):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])})(E.PureComponent);Kf(WA,"displayName","Legend");Kf(WA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var a_,bD;function Ame(){if(bD)return a_;bD=1;var t=Py();function e(){this.__data__=new t,this.size=0}return a_=e,a_}var l_,wD;function Ome(){if(wD)return l_;wD=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return l_=t,l_}var c_,xD;function kme(){if(xD)return c_;xD=1;function t(e){return this.__data__.get(e)}return c_=t,c_}var u_,_D;function jme(){if(_D)return u_;_D=1;function t(e){return this.__data__.has(e)}return u_=t,u_}var d_,SD;function Rme(){if(SD)return d_;SD=1;var t=Py(),e=IA(),n=MA(),r=200;function i(o,s){var a=this.__data__;if(a instanceof t){var c=a.__data__;if(!e||c.length<r-1)return c.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(c)}return a.set(o,s),this.size=a.size,this}return d_=i,d_}var f_,PD;function az(){if(PD)return f_;PD=1;var t=Py(),e=Ame(),n=Ome(),r=kme(),i=jme(),o=Rme();function s(a){var c=this.__data__=new t(a);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,f_=s,f_}var h_,TD;function Nme(){if(TD)return h_;TD=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return h_=e,h_}var p_,ED;function Ime(){if(ED)return p_;ED=1;function t(e){return this.__data__.has(e)}return p_=t,p_}var m_,CD;function lz(){if(CD)return m_;CD=1;var t=MA(),e=Nme(),n=Ime();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,m_=r,m_}var g_,AD;function cz(){if(AD)return g_;AD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return g_=t,g_}var v_,OD;function uz(){if(OD)return v_;OD=1;function t(e,n){return e.has(n)}return v_=t,v_}var y_,kD;function dz(){if(kD)return y_;kD=1;var t=lz(),e=cz(),n=uz(),r=1,i=2;function o(s,a,c,u,f,h){var p=c&r,v=s.length,x=a.length;if(v!=x&&!(p&&x>v))return!1;var b=h.get(s),y=h.get(a);if(b&&y)return b==a&&y==s;var _=-1,T=!0,S=c&i?new t:void 0;for(h.set(s,a),h.set(a,s);++_<v;){var A=s[_],P=a[_];if(u)var O=p?u(P,A,_,a,s,h):u(A,P,_,s,a,h);if(O!==void 0){if(O)continue;T=!1;break}if(S){if(!e(a,function(k,R){if(!n(S,R)&&(A===k||f(A,k,c,u,h)))return S.push(R)})){T=!1;break}}else if(!(A===P||f(A,P,c,u,h))){T=!1;break}}return h.delete(s),h.delete(a),T}return y_=o,y_}var b_,jD;function Mme(){if(jD)return b_;jD=1;var t=io(),e=t.Uint8Array;return b_=e,b_}var w_,RD;function Dme(){if(RD)return w_;RD=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return w_=t,w_}var x_,ND;function zA(){if(ND)return x_;ND=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return x_=t,x_}var __,ID;function $me(){if(ID)return __;ID=1;var t=Yh(),e=Mme(),n=NA(),r=dz(),i=Dme(),o=zA(),s=1,a=2,c="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Map]",p="[object Number]",v="[object RegExp]",x="[object Set]",b="[object String]",y="[object Symbol]",_="[object ArrayBuffer]",T="[object DataView]",S=t?t.prototype:void 0,A=S?S.valueOf:void 0;function P(O,k,R,I,D,M,U){switch(R){case T:if(O.byteLength!=k.byteLength||O.byteOffset!=k.byteOffset)return!1;O=O.buffer,k=k.buffer;case _:return!(O.byteLength!=k.byteLength||!M(new e(O),new e(k)));case c:case u:case p:return n(+O,+k);case f:return O.name==k.name&&O.message==k.message;case v:case b:return O==k+"";case h:var V=i;case x:var Y=I&s;if(V||(V=o),O.size!=k.size&&!Y)return!1;var Q=U.get(O);if(Q)return Q==k;I|=a,U.set(O,k);var K=r(V(O),V(k),I,D,M,U);return U.delete(O),K;case y:if(A)return A.call(O)==A.call(k)}return!1}return __=P,__}var S_,MD;function fz(){if(MD)return S_;MD=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return S_=t,S_}var P_,DD;function Lme(){if(DD)return P_;DD=1;var t=fz(),e=wr();function n(r,i,o){var s=i(r);return e(r)?s:t(s,o(r))}return P_=n,P_}var T_,$D;function Fme(){if($D)return T_;$D=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,s=[];++r<i;){var a=e[r];n(a,r,e)&&(s[o++]=a)}return s}return T_=t,T_}var E_,LD;function Bme(){if(LD)return E_;LD=1;function t(){return[]}return E_=t,E_}var C_,FD;function Ume(){if(FD)return C_;FD=1;var t=Fme(),e=Bme(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(a){return r.call(s,a)}))}:e;return C_=o,C_}var A_,BD;function qme(){if(BD)return A_;BD=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return A_=t,A_}var O_,UD;function Vme(){if(UD)return O_;UD=1;var t=Jo(),e=Zo(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return O_=r,O_}var k_,qD;function HA(){if(qD)return k_;qD=1;var t=Vme(),e=Zo(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return k_=o,k_}var yf={exports:{}},j_,VD;function Wme(){if(VD)return j_;VD=1;function t(){return!1}return j_=t,j_}yf.exports;var WD;function hz(){return WD||(WD=1,(function(t,e){var n=io(),r=Wme(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,c=a?a.isBuffer:void 0,u=c||r;t.exports=u})(yf,yf.exports)),yf.exports}var R_,zD;function GA(){if(zD)return R_;zD=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return R_=n,R_}var N_,HD;function KA(){if(HD)return N_;HD=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return N_=e,N_}var I_,GD;function zme(){if(GD)return I_;GD=1;var t=Jo(),e=KA(),n=Zo(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",c="[object Function]",u="[object Map]",f="[object Number]",h="[object Object]",p="[object RegExp]",v="[object Set]",x="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",_="[object DataView]",T="[object Float32Array]",S="[object Float64Array]",A="[object Int8Array]",P="[object Int16Array]",O="[object Int32Array]",k="[object Uint8Array]",R="[object Uint8ClampedArray]",I="[object Uint16Array]",D="[object Uint32Array]",M={};M[T]=M[S]=M[A]=M[P]=M[O]=M[k]=M[R]=M[I]=M[D]=!0,M[r]=M[i]=M[y]=M[o]=M[_]=M[s]=M[a]=M[c]=M[u]=M[f]=M[h]=M[p]=M[v]=M[x]=M[b]=!1;function U(V){return n(V)&&e(V.length)&&!!M[t(V)]}return I_=U,I_}var M_,KD;function pz(){if(KD)return M_;KD=1;function t(e){return function(n){return e(n)}}return M_=t,M_}var bf={exports:{}};bf.exports;var YD;function Hme(){return YD||(YD=1,(function(t,e){var n=IW(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=a})(bf,bf.exports)),bf.exports}var D_,XD;function mz(){if(XD)return D_;XD=1;var t=zme(),e=pz(),n=Hme(),r=n&&n.isTypedArray,i=r?e(r):t;return D_=i,D_}var $_,QD;function Gme(){if(QD)return $_;QD=1;var t=qme(),e=HA(),n=wr(),r=hz(),i=GA(),o=mz(),s=Object.prototype,a=s.hasOwnProperty;function c(u,f){var h=n(u),p=!h&&e(u),v=!h&&!p&&r(u),x=!h&&!p&&!v&&o(u),b=h||p||v||x,y=b?t(u.length,String):[],_=y.length;for(var T in u)(f||a.call(u,T))&&!(b&&(T=="length"||v&&(T=="offset"||T=="parent")||x&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||i(T,_)))&&y.push(T);return y}return $_=c,$_}var L_,JD;function Kme(){if(JD)return L_;JD=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return L_=e,L_}var F_,ZD;function gz(){if(ZD)return F_;ZD=1;function t(e,n){return function(r){return e(n(r))}}return F_=t,F_}var B_,e$;function Yme(){if(e$)return B_;e$=1;var t=gz(),e=t(Object.keys,Object);return B_=e,B_}var U_,t$;function Xme(){if(t$)return U_;t$=1;var t=Kme(),e=Yme(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return U_=i,U_}var q_,n$;function Xh(){if(n$)return q_;n$=1;var t=RA(),e=KA();function n(r){return r!=null&&e(r.length)&&!t(r)}return q_=n,q_}var V_,r$;function jy(){if(r$)return V_;r$=1;var t=Gme(),e=Xme(),n=Xh();function r(i){return n(i)?t(i):e(i)}return V_=r,V_}var W_,i$;function Qme(){if(i$)return W_;i$=1;var t=Lme(),e=Ume(),n=jy();function r(i){return t(i,n,e)}return W_=r,W_}var z_,o$;function Jme(){if(o$)return z_;o$=1;var t=Qme(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,c,u,f){var h=a&e,p=t(o),v=p.length,x=t(s),b=x.length;if(v!=b&&!h)return!1;for(var y=v;y--;){var _=p[y];if(!(h?_ in s:r.call(s,_)))return!1}var T=f.get(o),S=f.get(s);if(T&&S)return T==s&&S==o;var A=!0;f.set(o,s),f.set(s,o);for(var P=h;++y<v;){_=p[y];var O=o[_],k=s[_];if(c)var R=h?c(k,O,_,s,o,f):c(O,k,_,o,s,f);if(!(R===void 0?O===k||u(O,k,a,c,f):R)){A=!1;break}P||(P=_=="constructor")}if(A&&!P){var I=o.constructor,D=s.constructor;I!=D&&"constructor"in o&&"constructor"in s&&!(typeof I=="function"&&I instanceof I&&typeof D=="function"&&D instanceof D)&&(A=!1)}return f.delete(o),f.delete(s),A}return z_=i,z_}var H_,s$;function Zme(){if(s$)return H_;s$=1;var t=Ol(),e=io(),n=t(e,"DataView");return H_=n,H_}var G_,a$;function ege(){if(a$)return G_;a$=1;var t=Ol(),e=io(),n=t(e,"Promise");return G_=n,G_}var K_,l$;function vz(){if(l$)return K_;l$=1;var t=Ol(),e=io(),n=t(e,"Set");return K_=n,K_}var Y_,c$;function tge(){if(c$)return Y_;c$=1;var t=Ol(),e=io(),n=t(e,"WeakMap");return Y_=n,Y_}var X_,u$;function nge(){if(u$)return X_;u$=1;var t=Zme(),e=IA(),n=ege(),r=vz(),i=tge(),o=Jo(),s=MW(),a="[object Map]",c="[object Object]",u="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",v=s(t),x=s(e),b=s(n),y=s(r),_=s(i),T=o;return(t&&T(new t(new ArrayBuffer(1)))!=p||e&&T(new e)!=a||n&&T(n.resolve())!=u||r&&T(new r)!=f||i&&T(new i)!=h)&&(T=function(S){var A=o(S),P=A==c?S.constructor:void 0,O=P?s(P):"";if(O)switch(O){case v:return p;case x:return a;case b:return u;case y:return f;case _:return h}return A}),X_=T,X_}var Q_,d$;function rge(){if(d$)return Q_;d$=1;var t=az(),e=dz(),n=$me(),r=Jme(),i=nge(),o=wr(),s=hz(),a=mz(),c=1,u="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype,v=p.hasOwnProperty;function x(b,y,_,T,S,A){var P=o(b),O=o(y),k=P?f:i(b),R=O?f:i(y);k=k==u?h:k,R=R==u?h:R;var I=k==h,D=R==h,M=k==R;if(M&&s(b)){if(!s(y))return!1;P=!0,I=!1}if(M&&!I)return A||(A=new t),P||a(b)?e(b,y,_,T,S,A):n(b,y,k,_,T,S,A);if(!(_&c)){var U=I&&v.call(b,"__wrapped__"),V=D&&v.call(y,"__wrapped__");if(U||V){var Y=U?b.value():b,Q=V?y.value():y;return A||(A=new t),S(Y,Q,_,T,A)}}return M?(A||(A=new t),r(b,y,_,T,S,A)):!1}return Q_=x,Q_}var J_,f$;function YA(){if(f$)return J_;f$=1;var t=rge(),e=Zo();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,s,n,a)}return J_=n,J_}var Z_,h$;function ige(){if(h$)return Z_;h$=1;var t=az(),e=YA(),n=1,r=2;function i(o,s,a,c){var u=a.length,f=u,h=!c;if(o==null)return!f;for(o=Object(o);u--;){var p=a[u];if(h&&p[2]?p[1]!==o[p[0]]:!(p[0]in o))return!1}for(;++u<f;){p=a[u];var v=p[0],x=o[v],b=p[1];if(h&&p[2]){if(x===void 0&&!(v in o))return!1}else{var y=new t;if(c)var _=c(x,b,v,o,s,y);if(!(_===void 0?e(b,x,n|r,c,y):_))return!1}}return!0}return Z_=i,Z_}var eS,p$;function yz(){if(p$)return eS;p$=1;var t=ra();function e(n){return n===n&&!t(n)}return eS=e,eS}var tS,m$;function oge(){if(m$)return tS;m$=1;var t=yz(),e=jy();function n(r){for(var i=e(r),o=i.length;o--;){var s=i[o],a=r[s];i[o]=[s,a,t(a)]}return i}return tS=n,tS}var nS,g$;function bz(){if(g$)return nS;g$=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return nS=t,nS}var rS,v$;function sge(){if(v$)return rS;v$=1;var t=ige(),e=oge(),n=bz();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return rS=r,rS}var iS,y$;function age(){if(y$)return iS;y$=1;function t(e,n){return e!=null&&n in Object(e)}return iS=t,iS}var oS,b$;function lge(){if(b$)return oS;b$=1;var t=LW(),e=HA(),n=wr(),r=GA(),i=KA(),o=Ey();function s(a,c,u){c=t(c,a);for(var f=-1,h=c.length,p=!1;++f<h;){var v=o(c[f]);if(!(p=a!=null&&u(a,v)))break;a=a[v]}return p||++f!=h?p:(h=a==null?0:a.length,!!h&&i(h)&&r(v,h)&&(n(a)||e(a)))}return oS=s,oS}var sS,w$;function cge(){if(w$)return sS;w$=1;var t=age(),e=lge();function n(r,i){return r!=null&&e(r,i,t)}return sS=n,sS}var aS,x$;function uge(){if(x$)return aS;x$=1;var t=YA(),e=FW(),n=cge(),r=jA(),i=yz(),o=bz(),s=Ey(),a=1,c=2;function u(f,h){return r(f)&&i(h)?o(s(f),h):function(p){var v=e(p,f);return v===void 0&&v===h?n(p,f):t(h,v,a|c)}}return aS=u,aS}var lS,_$;function td(){if(_$)return lS;_$=1;function t(e){return e}return lS=t,lS}var cS,S$;function dge(){if(S$)return cS;S$=1;function t(e){return function(n){return n==null?void 0:n[e]}}return cS=t,cS}var uS,P$;function fge(){if(P$)return uS;P$=1;var t=$A();function e(n){return function(r){return t(r,n)}}return uS=e,uS}var dS,T$;function hge(){if(T$)return dS;T$=1;var t=dge(),e=fge(),n=jA(),r=Ey();function i(o){return n(o)?t(r(o)):e(o)}return dS=i,dS}var fS,E$;function oo(){if(E$)return fS;E$=1;var t=sge(),e=uge(),n=td(),r=wr(),i=hge();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return fS=o,fS}var hS,C$;function wz(){if(C$)return hS;C$=1;function t(e,n,r,i){for(var o=e.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(e[s],s,e))return s;return-1}return hS=t,hS}var pS,A$;function pge(){if(A$)return pS;A$=1;function t(e){return e!==e}return pS=t,pS}var mS,O$;function mge(){if(O$)return mS;O$=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return mS=t,mS}var gS,k$;function gge(){if(k$)return gS;k$=1;var t=wz(),e=pge(),n=mge();function r(i,o,s){return o===o?n(i,o,s):t(i,e,s)}return gS=r,gS}var vS,j$;function vge(){if(j$)return vS;j$=1;var t=gge();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return vS=e,vS}var yS,R$;function yge(){if(R$)return yS;R$=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return yS=t,yS}var bS,N$;function bge(){if(N$)return bS;N$=1;function t(){}return bS=t,bS}var wS,I$;function wge(){if(I$)return wS;I$=1;var t=vz(),e=bge(),n=zA(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return wS=i,wS}var xS,M$;function xge(){if(M$)return xS;M$=1;var t=lz(),e=vge(),n=yge(),r=uz(),i=wge(),o=zA(),s=200;function a(c,u,f){var h=-1,p=e,v=c.length,x=!0,b=[],y=b;if(f)x=!1,p=n;else if(v>=s){var _=u?null:i(c);if(_)return o(_);x=!1,p=r,y=new t}else y=u?[]:b;e:for(;++h<v;){var T=c[h],S=u?u(T):T;if(T=f||T!==0?T:0,x&&S===S){for(var A=y.length;A--;)if(y[A]===S)continue e;u&&y.push(S),b.push(T)}else p(y,S,f)||(y!==b&&y.push(S),b.push(T))}return b}return xS=a,xS}var _S,D$;function _ge(){if(D$)return _S;D$=1;var t=oo(),e=xge();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return _S=n,_S}var Sge=_ge();const $$=st(Sge);function xz(t,e,n){return e===!0?$$(t,n):qe(e)?$$(t,e):t}function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}var Pge=["ref"];function L$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L$(Object(n),!0).forEach(function(r){Ry(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sz(r.key),r)}}function Ege(t,e,n){return e&&F$(t.prototype,e),n&&F$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cge(t,e,n){return e=ov(e),Age(t,_z()?Reflect.construct(e,n||[],ov(t).constructor):e.apply(t,n))}function Age(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oge(t)}function Oge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_z=function(){return!!t})()}function ov(t){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ov(t)}function kge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HT(t,e)}function HT(t,e){return HT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HT(t,e)}function Ry(t,e,n){return e=Sz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sz(t){var e=jge(t,"string");return pu(e)=="symbol"?e:e+""}function jge(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Rge(t,e){if(t==null)return{};var n=Nge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ige(t){return t.value}function Mge(t,e){if(W.isValidElement(t))return W.cloneElement(t,e);if(typeof t=="function")return W.createElement(t,e);e.ref;var n=Rge(e,Pge);return W.createElement(WA,n)}var B$=1,al=(function(t){function e(){var n;Tge(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Cge(this,e,[].concat(i)),Ry(n,"lastBoundingBox",{width:-1,height:-1}),n}return kge(e,t),Ege(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>B$||Math.abs(i.height-this.lastBoundingBox.height)>B$)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?bo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,c=i.margin,u=i.chartWidth,f=i.chartHeight,h,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var v=this.getBBoxSnapshot();h={left:((u||0)-v.width)/2}}else h=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var x=this.getBBoxSnapshot();p={top:((f||0)-x.height)/2}}else p=a==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return bo(bo({},h),p)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,h=bo(bo({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(c)),c);return W.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(v){r.wrapperNode=v}},Mge(o,bo(bo({},this.props),{},{payload:xz(f,u,Ige)})))}}],[{key:"getWithHeight",value:function(r,i){var o=bo(bo({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&de(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])})(E.PureComponent);Ry(al,"displayName","Legend");Ry(al,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var SS,U$;function Dge(){if(U$)return SS;U$=1;var t=Yh(),e=HA(),n=wr(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return SS=i,SS}var PS,q$;function Pz(){if(q$)return PS;q$=1;var t=fz(),e=Dge();function n(r,i,o,s,a){var c=-1,u=r.length;for(o||(o=e),a||(a=[]);++c<u;){var f=r[c];i>0&&o(f)?i>1?n(f,i-1,o,s,a):t(a,f):s||(a[a.length]=f)}return a}return PS=n,PS}var TS,V$;function $ge(){if(V$)return TS;V$=1;function t(e){return function(n,r,i){for(var o=-1,s=Object(n),a=i(n),c=a.length;c--;){var u=a[e?c:++o];if(r(s[u],u,s)===!1)break}return n}}return TS=t,TS}var ES,W$;function Lge(){if(W$)return ES;W$=1;var t=$ge(),e=t();return ES=e,ES}var CS,z$;function Tz(){if(z$)return CS;z$=1;var t=Lge(),e=jy();function n(r,i){return r&&t(r,i,e)}return CS=n,CS}var AS,H$;function Fge(){if(H$)return AS;H$=1;var t=Xh();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var s=i.length,a=r?s:-1,c=Object(i);(r?a--:++a<s)&&o(c[a],a,c)!==!1;);return i}}return AS=e,AS}var OS,G$;function XA(){if(G$)return OS;G$=1;var t=Tz(),e=Fge(),n=e(t);return OS=n,OS}var kS,K$;function Ez(){if(K$)return kS;K$=1;var t=XA(),e=Xh();function n(r,i){var o=-1,s=e(r)?Array(r.length):[];return t(r,function(a,c,u){s[++o]=i(a,c,u)}),s}return kS=n,kS}var jS,Y$;function Bge(){if(Y$)return jS;Y$=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return jS=t,jS}var RS,X$;function Uge(){if(X$)return RS;X$=1;var t=Qu();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,a=t(n),c=r!==void 0,u=r===null,f=r===r,h=t(r);if(!u&&!h&&!a&&n>r||a&&c&&f&&!u&&!h||o&&c&&f||!i&&f||!s)return 1;if(!o&&!a&&!h&&n<r||h&&i&&s&&!o&&!a||u&&i&&s||!c&&s||!f)return-1}return 0}return RS=e,RS}var NS,Q$;function qge(){if(Q$)return NS;Q$=1;var t=Uge();function e(n,r,i){for(var o=-1,s=n.criteria,a=r.criteria,c=s.length,u=i.length;++o<c;){var f=t(s[o],a[o]);if(f){if(o>=u)return f;var h=i[o];return f*(h=="desc"?-1:1)}}return n.index-r.index}return NS=e,NS}var IS,J$;function Vge(){if(J$)return IS;J$=1;var t=DA(),e=$A(),n=oo(),r=Ez(),i=Bge(),o=pz(),s=qge(),a=td(),c=wr();function u(f,h,p){h.length?h=t(h,function(b){return c(b)?function(y){return e(y,b.length===1?b[0]:b)}:b}):h=[a];var v=-1;h=t(h,o(n));var x=r(f,function(b,y,_){var T=t(h,function(S){return S(b)});return{criteria:T,index:++v,value:b}});return i(x,function(b,y){return s(b,y,p)})}return IS=u,IS}var MS,Z$;function Wge(){if(Z$)return MS;Z$=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return MS=t,MS}var DS,eL;function zge(){if(eL)return DS;eL=1;var t=Wge(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,a=-1,c=e(s.length-i,0),u=Array(c);++a<c;)u[a]=s[i+a];a=-1;for(var f=Array(i+1);++a<i;)f[a]=s[a];return f[i]=o(u),t(r,this,f)}}return DS=n,DS}var $S,tL;function Hge(){if(tL)return $S;tL=1;function t(e){return function(){return e}}return $S=t,$S}var LS,nL;function Cz(){if(nL)return LS;nL=1;var t=Ol(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return LS=e,LS}var FS,rL;function Gge(){if(rL)return FS;rL=1;var t=Hge(),e=Cz(),n=td(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return FS=r,FS}var BS,iL;function Kge(){if(iL)return BS;iL=1;var t=800,e=16,n=Date.now;function r(i){var o=0,s=0;return function(){var a=n(),c=e-(a-s);if(s=a,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return BS=r,BS}var US,oL;function Yge(){if(oL)return US;oL=1;var t=Gge(),e=Kge(),n=e(t);return US=n,US}var qS,sL;function Xge(){if(sL)return qS;sL=1;var t=td(),e=zge(),n=Yge();function r(i,o){return n(e(i,o,t),i+"")}return qS=r,qS}var VS,aL;function Ny(){if(aL)return VS;aL=1;var t=NA(),e=Xh(),n=GA(),r=ra();function i(o,s,a){if(!r(a))return!1;var c=typeof s;return(c=="number"?e(a)&&n(s,a.length):c=="string"&&s in a)?t(a[s],o):!1}return VS=i,VS}var WS,lL;function Qge(){if(lL)return WS;lL=1;var t=Pz(),e=Vge(),n=Xge(),r=Ny(),i=n(function(o,s){if(o==null)return[];var a=s.length;return a>1&&r(o,s[0],s[1])?s=[]:a>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(o,t(s,1),[])});return WS=i,WS}var Jge=Qge();const QA=st(Jge);function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function GT(){return GT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GT.apply(this,arguments)}function Zge(t,e){return rve(t)||nve(t,e)||tve(t,e)||eve()}function eve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tve(t,e){if(t){if(typeof t=="string")return cL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cL(t,e)}}function cL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function rve(t){if(Array.isArray(t))return t}function uL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(n),!0).forEach(function(r){ive(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ive(t,e,n){return e=ove(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ove(t){var e=sve(t,"string");return Yf(e)=="symbol"?e:e+""}function sve(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ave(t){return Array.isArray(t)&&yn(t[0])&&yn(t[1])?t.join(" ~ "):t}var lve=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,c=e.labelStyle,u=c===void 0?{}:c,f=e.payload,h=e.formatter,p=e.itemSorter,v=e.wrapperClassName,x=e.labelClassName,b=e.label,y=e.labelFormatter,_=e.accessibilityLayer,T=_===void 0?!1:_,S=function(){if(f&&f.length){var U={padding:0,margin:0},V=(p?QA(f,p):f).map(function(Y,Q){if(Y.type==="none")return null;var K=zS({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},a),J=Y.formatter||h||ave,B=Y.value,G=Y.name,L=B,$=G;if(J&&L!=null&&$!=null){var F=J(B,G,Y,Q,f);if(Array.isArray(F)){var Z=Zge(F,2);L=Z[0],$=Z[1]}else L=F}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:K},yn($)?W.createElement("span",{className:"recharts-tooltip-item-name"},$):null,yn($)?W.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,W.createElement("span",{className:"recharts-tooltip-item-value"},L),W.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:U},V)}return null},A=zS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),P=zS({margin:0},u),O=!Ge(b),k=O?b:"",R=He("recharts-default-tooltip",v),I=He("recharts-tooltip-label",x);O&&y&&f!==void 0&&f!==null&&(k=y(b,f));var D=T?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",GT({className:R,style:A},D),W.createElement("p",{className:I,style:P},W.isValidElement(k)?k:"".concat(k)),S())};function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function Bm(t,e,n){return e=cve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cve(t){var e=uve(t,"string");return Xf(e)=="symbol"?e:e+""}function uve(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ef="recharts-tooltip-wrapper",dve={visibility:"hidden"};function fve(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return He(ef,Bm(Bm(Bm(Bm({},"".concat(ef,"-right"),de(n)&&e&&de(e.x)&&n>=e.x),"".concat(ef,"-left"),de(n)&&e&&de(e.x)&&n<e.x),"".concat(ef,"-bottom"),de(r)&&e&&de(e.y)&&r>=e.y),"".concat(ef,"-top"),de(r)&&e&&de(e.y)&&r<e.y))}function dL(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(o&&de(o[r]))return o[r];var f=n[r]-a-i,h=n[r]+i;if(e[r])return s[r]?f:h;if(s[r]){var p=f,v=c[r];return p<v?Math.max(h,c[r]):Math.max(f,c[r])}var x=h+a,b=c[r]+u;return x>b?Math.max(f,c[r]):Math.max(h,c[r])}function hve(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function pve(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,c=t.viewBox,u,f,h;return s.height>0&&s.width>0&&n?(f=dL({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),h=dL({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=hve({translateX:f,translateY:h,useTranslate3d:a})):u=dve,{cssProperties:u,cssClasses:fve({translateX:f,translateY:h,coordinate:n})}}function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function fL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(n),!0).forEach(function(r){YT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oz(r.key),r)}}function vve(t,e,n){return e&&gve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yve(t,e,n){return e=sv(e),bve(t,Az()?Reflect.construct(e,n||[],sv(t).constructor):e.apply(t,n))}function bve(t,e){if(e&&(mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wve(t)}function wve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Az(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Az=function(){return!!t})()}function sv(t){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sv(t)}function xve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KT(t,e)}function KT(t,e){return KT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KT(t,e)}function YT(t,e,n){return e=Oz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oz(t){var e=_ve(t,"string");return mu(e)=="symbol"?e:e+""}function _ve(t,e){if(mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pL=1,Sve=(function(t){function e(){var n;mve(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=yve(this,e,[].concat(i)),YT(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),YT(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,c,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&a!==void 0?a:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return xve(e,t),vve(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>pL||Math.abs(r.height-this.state.lastBoundingBox.height)>pL)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,c=i.animationEasing,u=i.children,f=i.coordinate,h=i.hasPayload,p=i.isAnimationActive,v=i.offset,x=i.position,b=i.reverseDirection,y=i.useTranslate3d,_=i.viewBox,T=i.wrapperStyle,S=pve({allowEscapeViewBox:s,coordinate:f,offsetTopLeft:v,position:x,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:_}),A=S.cssClasses,P=S.cssProperties,O=hL(hL({transition:p&&o?"transform ".concat(a,"ms ").concat(c):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&h?"visible":"hidden",position:"absolute",top:0,left:0},T);return W.createElement("div",{tabIndex:-1,className:A,style:O,ref:function(R){r.wrapperNode=R}},u)}}])})(E.PureComponent),Pve=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},kl={isSsr:Pve()};function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function mL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(n),!0).forEach(function(r){JA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jz(r.key),r)}}function Cve(t,e,n){return e&&Eve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ave(t,e,n){return e=av(e),Ove(t,kz()?Reflect.construct(e,n||[],av(t).constructor):e.apply(t,n))}function Ove(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kve(t)}function kve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kz=function(){return!!t})()}function av(t){return av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},av(t)}function jve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XT(t,e)}function XT(t,e){return XT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XT(t,e)}function JA(t,e,n){return e=jz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jz(t){var e=Rve(t,"string");return gu(e)=="symbol"?e:e+""}function Rve(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nve(t){return t.dataKey}function Ive(t,e){return W.isValidElement(t)?W.cloneElement(t,e):typeof t=="function"?W.createElement(t,e):W.createElement(lve,e)}var Si=(function(t){function e(){return Tve(this,e),Ave(this,e,arguments)}return jve(e,t),Cve(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,c=i.animationEasing,u=i.content,f=i.coordinate,h=i.filterNull,p=i.isAnimationActive,v=i.offset,x=i.payload,b=i.payloadUniqBy,y=i.position,_=i.reverseDirection,T=i.useTranslate3d,S=i.viewBox,A=i.wrapperStyle,P=x??[];h&&P.length&&(P=xz(x.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),b,Nve));var O=P.length>0;return W.createElement(Sve,{allowEscapeViewBox:s,animationDuration:a,animationEasing:c,isAnimationActive:p,active:o,coordinate:f,hasPayload:O,offset:v,position:y,reverseDirection:_,useTranslate3d:T,viewBox:S,wrapperStyle:A},Ive(u,gL(gL({},this.props),{},{payload:P})))}}])})(E.PureComponent);JA(Si,"displayName","Tooltip");JA(Si,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!kl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var HS,vL;function Mve(){if(vL)return HS;vL=1;var t=io(),e=function(){return t.Date.now()};return HS=e,HS}var GS,yL;function Dve(){if(yL)return GS;yL=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return GS=e,GS}var KS,bL;function $ve(){if(bL)return KS;bL=1;var t=Dve(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return KS=n,KS}var YS,wL;function Rz(){if(wL)return YS;wL=1;var t=$ve(),e=ra(),n=Qu(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=e(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var h=o.test(u);return h||s.test(u)?a(u.slice(2),h?2:8):i.test(u)?r:+u}return YS=c,YS}var XS,xL;function Lve(){if(xL)return XS;xL=1;var t=ra(),e=Mve(),n=Rz(),r="Expected a function",i=Math.max,o=Math.min;function s(a,c,u){var f,h,p,v,x,b,y=0,_=!1,T=!1,S=!0;if(typeof a!="function")throw new TypeError(r);c=n(c)||0,t(u)&&(_=!!u.leading,T="maxWait"in u,p=T?i(n(u.maxWait)||0,c):p,S="trailing"in u?!!u.trailing:S);function A(V){var Y=f,Q=h;return f=h=void 0,y=V,v=a.apply(Q,Y),v}function P(V){return y=V,x=setTimeout(R,c),_?A(V):v}function O(V){var Y=V-b,Q=V-y,K=c-Y;return T?o(K,p-Q):K}function k(V){var Y=V-b,Q=V-y;return b===void 0||Y>=c||Y<0||T&&Q>=p}function R(){var V=e();if(k(V))return I(V);x=setTimeout(R,O(V))}function I(V){return x=void 0,S&&f?A(V):(f=h=void 0,v)}function D(){x!==void 0&&clearTimeout(x),y=0,f=b=h=x=void 0}function M(){return x===void 0?v:I(e())}function U(){var V=e(),Y=k(V);if(f=arguments,h=this,b=V,Y){if(x===void 0)return P(b);if(T)return clearTimeout(x),x=setTimeout(R,c),A(b)}return x===void 0&&(x=setTimeout(R,c)),v}return U.cancel=D,U.flush=M,U}return XS=s,XS}var QS,_L;function Fve(){if(_L)return QS;_L=1;var t=Lve(),e=ra(),n="Expected a function";function r(i,o,s){var a=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(a="leading"in s?!!s.leading:a,c="trailing"in s?!!s.trailing:c),t(i,o,{leading:a,maxWait:o,trailing:c})}return QS=r,QS}var Bve=Fve();const Nz=st(Bve);function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function SL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(n),!0).forEach(function(r){Uve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uve(t,e,n){return e=qve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qve(t){var e=Vve(t,"string");return Qf(e)=="symbol"?e:e+""}function Vve(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wve(t,e){return Kve(t)||Gve(t,e)||Hve(t,e)||zve()}function zve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hve(t,e){if(t){if(typeof t=="string")return PL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PL(t,e)}}function PL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Kve(t){if(Array.isArray(t))return t}var Iz=E.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,c=a===void 0?"100%":a,u=t.minWidth,f=u===void 0?0:u,h=t.minHeight,p=t.maxHeight,v=t.children,x=t.debounce,b=x===void 0?0:x,y=t.id,_=t.className,T=t.onResize,S=t.style,A=S===void 0?{}:S,P=E.useRef(null),O=E.useRef();O.current=T,E.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var k=E.useState({containerWidth:i.width,containerHeight:i.height}),R=Wve(k,2),I=R[0],D=R[1],M=E.useCallback(function(V,Y){D(function(Q){var K=Math.round(V),J=Math.round(Y);return Q.containerWidth===K&&Q.containerHeight===J?Q:{containerWidth:K,containerHeight:J}})},[]);E.useEffect(function(){var V=function(G){var L,$=G[0].contentRect,F=$.width,Z=$.height;M(F,Z),(L=O.current)===null||L===void 0||L.call(O,F,Z)};b>0&&(V=Nz(V,b,{trailing:!0,leading:!1}));var Y=new ResizeObserver(V),Q=P.current.getBoundingClientRect(),K=Q.width,J=Q.height;return M(K,J),Y.observe(P.current),function(){Y.disconnect()}},[M,b]);var U=E.useMemo(function(){var V=I.containerWidth,Y=I.containerHeight;if(V<0||Y<0)return null;Ai(qa(s)||qa(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Ai(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Q=qa(s)?V:s,K=qa(c)?Y:c;n&&n>0&&(Q?K=Q/n:K&&(Q=K*n),p&&K>p&&(K=p)),Ai(Q>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,K,s,c,f,h,n);var J=!Array.isArray(v)&&Io(v.type).endsWith("Chart");return W.Children.map(v,function(B){return W.isValidElement(B)?E.cloneElement(B,Um({width:Q,height:K},J?{style:Um({height:"100%",width:"100%",maxHeight:K,maxWidth:Q},B.props.style)}:{})):B})},[n,v,c,p,h,f,I,s]);return W.createElement("div",{id:y?"".concat(y):void 0,className:He("recharts-responsive-container",_),style:Um(Um({},A),{},{width:s,height:c,minWidth:f,minHeight:h,maxHeight:p}),ref:P},U)}),Iy=function(e){return null};Iy.displayName="Cell";function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function TL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(n),!0).forEach(function(r){Yve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yve(t,e,n){return e=Xve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xve(t){var e=Qve(t,"string");return Jf(e)=="symbol"?e:e+""}function Qve(t,e){if(Jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gc={widthCache:{},cacheCount:0},Jve=2e3,Zve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},EL="recharts_measurement_span";function eye(t){var e=QT({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Cf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||kl.isSsr)return{width:0,height:0};var r=eye(n),i=JSON.stringify({text:e,copyStyle:r});if(gc.widthCache[i])return gc.widthCache[i];try{var o=document.getElementById(EL);o||(o=document.createElement("span"),o.setAttribute("id",EL),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=QT(QT({},Zve),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),c={width:a.width,height:a.height};return gc.widthCache[i]=c,++gc.cacheCount>Jve&&(gc.cacheCount=0,gc.widthCache={}),c}catch{return{width:0,height:0}}},tye=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function lv(t,e){return oye(t)||iye(t,e)||rye(t,e)||nye()}function nye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rye(t,e){if(t){if(typeof t=="string")return CL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CL(t,e)}}function CL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function oye(t){if(Array.isArray(t))return t}function sye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lye(r.key),r)}}function aye(t,e,n){return e&&AL(t.prototype,e),n&&AL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lye(t){var e=cye(t,"string");return Zf(e)=="symbol"?e:e+""}function cye(t,e){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Mz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fye=Object.keys(Mz),Cc="NaN";function hye(t,e){return t*Mz[e]}var qm=(function(){function t(e,n){sye(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!uye.test(n)&&(this.num=NaN,this.unit=""),fye.includes(n)&&(this.num=hye(e,n),this.unit="px")}return aye(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=dye.exec(n))!==null&&r!==void 0?r:[],o=lv(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])})();function Dz(t){if(t.includes(Cc))return Cc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=OL.exec(e))!==null&&n!==void 0?n:[],i=lv(r,4),o=i[1],s=i[2],a=i[3],c=qm.parse(o??""),u=qm.parse(a??""),f=s==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Cc;e=e.replace(OL,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,p=(h=kL.exec(e))!==null&&h!==void 0?h:[],v=lv(p,4),x=v[1],b=v[2],y=v[3],_=qm.parse(x??""),T=qm.parse(y??""),S=b==="+"?_.add(T):_.subtract(T);if(S.isNaN())return Cc;e=e.replace(kL,S.toString())}return e}var jL=/\(([^()]*)\)/;function pye(t){for(var e=t;e.includes("(");){var n=jL.exec(e),r=lv(n,2),i=r[1];e=e.replace(jL,Dz(i))}return e}function mye(t){var e=t.replace(/\s+/g,"");return e=pye(e),e=Dz(e),e}function gye(t){try{return mye(t)}catch{return Cc}}function JS(t){var e=gye(t.slice(5,-1));return e===Cc?"":e}var vye=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],yye=["dx","dy","angle","className","breakAll"];function JT(){return JT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JT.apply(this,arguments)}function RL(t,e){if(t==null)return{};var n=bye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NL(t,e){return Sye(t)||_ye(t,e)||xye(t,e)||wye()}function wye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xye(t,e){if(t){if(typeof t=="string")return IL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IL(t,e)}}function IL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Sye(t){if(Array.isArray(t))return t}var $z=/[ \f\n\r\t\v\u2028\u2029]+/,Lz=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ge(n)||(r?o=n.toString().split(""):o=n.toString().split($z));var s=o.map(function(c){return{word:c,width:Cf(c,i).width}}),a=r?0:Cf("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Pye=function(e,n,r,i,o){var s=e.maxLines,a=e.children,c=e.style,u=e.breakAll,f=de(s),h=a,p=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce(function(K,J){var B=J.word,G=J.width,L=K[K.length-1];if(L&&(i==null||o||L.width+G+r<Number(i)))L.words.push(B),L.width+=G+r;else{var $={words:[B],width:G};K.push($)}return K},[])},v=p(n),x=function(Q){return Q.reduce(function(K,J){return K.width>J.width?K:J})};if(!f)return v;for(var b="",y=function(Q){var K=h.slice(0,Q),J=Lz({breakAll:u,style:c,children:K+b}).wordsWithComputedWidth,B=p(J),G=B.length>s||x(B).width>Number(i);return[G,B]},_=0,T=h.length-1,S=0,A;_<=T&&S<=h.length-1;){var P=Math.floor((_+T)/2),O=P-1,k=y(O),R=NL(k,2),I=R[0],D=R[1],M=y(P),U=NL(M,1),V=U[0];if(!I&&!V&&(_=P+1),I&&V&&(T=P-1),!I&&V){A=D;break}S++}return A||v},ML=function(e){var n=Ge(e)?[]:e.toString().split($z);return[{words:n}]},Tye=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!kl.isSsr){var c,u,f=Lz({breakAll:s,children:i,style:o});if(f){var h=f.wordsWithComputedWidth,p=f.spaceWidth;c=h,u=p}else return ML(i);return Pye({breakAll:s,children:i,maxLines:a,style:o},c,u,n,r)}return ML(i)},DL="#808080",wl=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,c=e.capHeight,u=c===void 0?"0.71em":c,f=e.scaleToFit,h=f===void 0?!1:f,p=e.textAnchor,v=p===void 0?"start":p,x=e.verticalAnchor,b=x===void 0?"end":x,y=e.fill,_=y===void 0?DL:y,T=RL(e,vye),S=E.useMemo(function(){return Tye({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:h,style:T.style,width:T.width})},[T.breakAll,T.children,T.maxLines,h,T.style,T.width]),A=T.dx,P=T.dy,O=T.angle,k=T.className,R=T.breakAll,I=RL(T,yye);if(!yn(r)||!yn(o))return null;var D=r+(de(A)?A:0),M=o+(de(P)?P:0),U;switch(b){case"start":U=JS("calc(".concat(u,")"));break;case"middle":U=JS("calc(".concat((S.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:U=JS("calc(".concat(S.length-1," * -").concat(a,")"));break}var V=[];if(h){var Y=S[0].width,Q=T.width;V.push("scale(".concat((de(Q)?Q/Y:1)/Y,")"))}return O&&V.push("rotate(".concat(O,", ").concat(D,", ").concat(M,")")),V.length&&(I.transform=V.join(" ")),W.createElement("text",JT({},Me(I,!0),{x:D,y:M,className:He("recharts-text",k),textAnchor:v,fill:_.includes("url")?DL:_}),S.map(function(K,J){var B=K.words.join(R?"":" ");return W.createElement("tspan",{x:D,dy:J===0?U:a,key:"".concat(B,"-").concat(J)},B)}))};function Hs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Eye(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ZA(t){let e,n,r;t.length!==2?(e=Hs,n=(a,c)=>Hs(t(a),c),r=(a,c)=>t(a)-c):(e=t===Hs||t===Eye?t:Cye,n=t,r=t);function i(a,c,u=0,f=a.length){if(u<f){if(e(c,c)!==0)return f;do{const h=u+f>>>1;n(a[h],c)<0?u=h+1:f=h}while(u<f)}return u}function o(a,c,u=0,f=a.length){if(u<f){if(e(c,c)!==0)return f;do{const h=u+f>>>1;n(a[h],c)<=0?u=h+1:f=h}while(u<f)}return u}function s(a,c,u=0,f=a.length){const h=i(a,c,u,f-1);return h>u&&r(a[h-1],c)>-r(a[h],c)?h-1:h}return{left:i,center:s,right:o}}function Cye(){return 0}function Fz(t){return t===null?NaN:+t}function*Aye(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Oye=ZA(Hs),Qh=Oye.right;ZA(Fz).center;class $L extends Map{constructor(e,n=Rye){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(LL(this,e))}has(e){return super.has(LL(this,e))}set(e,n){return super.set(kye(this,e),n)}delete(e){return super.delete(jye(this,e))}}function LL({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function kye({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function jye({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Rye(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Nye(t=Hs){if(t===Hs)return Bz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Bz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Iye=Math.sqrt(50),Mye=Math.sqrt(10),Dye=Math.sqrt(2);function cv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Iye?10:o>=Mye?5:o>=Dye?2:1;let a,c,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),c=Math.round(e*u),a/u<t&&++a,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),c=Math.round(e/u),a*u<t&&++a,c*u>e&&--c),c<a&&.5<=n&&n<2?cv(t,e,n*2):[a,c,u]}function ZT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?cv(e,t,n):cv(t,e,n);if(!(o>=i))return[];const a=o-i+1,c=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)c[u]=(o-u)/-s;else for(let u=0;u<a;++u)c[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)c[u]=(i+u)/-s;else for(let u=0;u<a;++u)c[u]=(i+u)*s;return c}function eE(t,e,n){return e=+e,t=+t,n=+n,cv(t,e,n)[2]}function tE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?eE(e,t,n):eE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function FL(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function BL(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Uz(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Bz:Nye(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,f=Math.log(c),h=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*h*(c-h)/c)*(u-c/2<0?-1:1),v=Math.max(n,Math.floor(e-u*h/c+p)),x=Math.min(r,Math.floor(e+(c-u)*h/c+p));Uz(t,e,v,x,i)}const o=t[e];let s=n,a=r;for(tf(t,n,e),i(t[r],o)>0&&tf(t,n,r);s<a;){for(tf(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?tf(t,n,a):(++a,tf(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function tf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function $ye(t,e,n){if(t=Float64Array.from(Aye(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return BL(t);if(e>=1)return FL(t);var r,i=(r-1)*e,o=Math.floor(i),s=FL(Uz(t,o).subarray(0,o+1)),a=BL(t.subarray(o+1));return s+(a-s)*(i-o)}}function Lye(t,e,n=Fz){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function Fye(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ii(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function es(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const nE=Symbol("implicit");function eO(){var t=new $L,e=[],n=[],r=nE;function i(o){let s=t.get(o);if(s===void 0){if(r!==nE)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new $L;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return eO(e,n).unknown(r)},ii.apply(i,arguments),i}function eh(){var t=eO().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,c=0,u=0,f=.5;delete t.unknown;function h(){var p=e().length,v=i<r,x=v?i:r,b=v?r:i;o=(b-x)/Math.max(1,p-c+u*2),a&&(o=Math.floor(o)),x+=(b-x-o*(p-c))*f,s=o*(1-c),a&&(x=Math.round(x),s=Math.round(s));var y=Fye(p).map(function(_){return x+o*_});return n(v?y.reverse():y)}return t.domain=function(p){return arguments.length?(e(p),h()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,a=!0,h()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(p){return arguments.length?(a=!!p,h()):a},t.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),h()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),h()):c},t.paddingOuter=function(p){return arguments.length?(u=+p,h()):u},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),h()):f},t.copy=function(){return eh(e(),[r,i]).round(a).paddingInner(c).paddingOuter(u).align(f)},ii.apply(h(),arguments)}function qz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return qz(e())},t}function Af(){return qz(eh.apply(null,arguments).paddingInner(1))}function tO(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Vz(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Jh(){}var th=.7,uv=1/th,Bc="\\s*([+-]?\\d+)\\s*",nh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ji="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bye=/^#([0-9a-f]{3,8})$/,Uye=new RegExp(`^rgb\\(${Bc},${Bc},${Bc}\\)$`),qye=new RegExp(`^rgb\\(${Ji},${Ji},${Ji}\\)$`),Vye=new RegExp(`^rgba\\(${Bc},${Bc},${Bc},${nh}\\)$`),Wye=new RegExp(`^rgba\\(${Ji},${Ji},${Ji},${nh}\\)$`),zye=new RegExp(`^hsl\\(${nh},${Ji},${Ji}\\)$`),Hye=new RegExp(`^hsla\\(${nh},${Ji},${Ji},${nh}\\)$`),UL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tO(Jh,rh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qL,formatHex:qL,formatHex8:Gye,formatHsl:Kye,formatRgb:VL,toString:VL});function qL(){return this.rgb().formatHex()}function Gye(){return this.rgb().formatHex8()}function Kye(){return Wz(this).formatHsl()}function VL(){return this.rgb().formatRgb()}function rh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Bye.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?WL(e):n===3?new br(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Vm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Vm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Uye.exec(t))?new br(e[1],e[2],e[3],1):(e=qye.exec(t))?new br(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Vye.exec(t))?Vm(e[1],e[2],e[3],e[4]):(e=Wye.exec(t))?Vm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=zye.exec(t))?GL(e[1],e[2]/100,e[3]/100,1):(e=Hye.exec(t))?GL(e[1],e[2]/100,e[3]/100,e[4]):UL.hasOwnProperty(t)?WL(UL[t]):t==="transparent"?new br(NaN,NaN,NaN,0):null}function WL(t){return new br(t>>16&255,t>>8&255,t&255,1)}function Vm(t,e,n,r){return r<=0&&(t=e=n=NaN),new br(t,e,n,r)}function Yye(t){return t instanceof Jh||(t=rh(t)),t?(t=t.rgb(),new br(t.r,t.g,t.b,t.opacity)):new br}function rE(t,e,n,r){return arguments.length===1?Yye(t):new br(t,e,n,r??1)}function br(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}tO(br,rE,Vz(Jh,{brighter(t){return t=t==null?uv:Math.pow(uv,t),new br(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?th:Math.pow(th,t),new br(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new br(ll(this.r),ll(this.g),ll(this.b),dv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zL,formatHex:zL,formatHex8:Xye,formatRgb:HL,toString:HL}));function zL(){return`#${Va(this.r)}${Va(this.g)}${Va(this.b)}`}function Xye(){return`#${Va(this.r)}${Va(this.g)}${Va(this.b)}${Va((isNaN(this.opacity)?1:this.opacity)*255)}`}function HL(){const t=dv(this.opacity);return`${t===1?"rgb(":"rgba("}${ll(this.r)}, ${ll(this.g)}, ${ll(this.b)}${t===1?")":`, ${t})`}`}function dv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ll(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Va(t){return t=ll(t),(t<16?"0":"")+t.toString(16)}function GL(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ti(t,e,n,r)}function Wz(t){if(t instanceof Ti)return new Ti(t.h,t.s,t.l,t.opacity);if(t instanceof Jh||(t=rh(t)),!t)return new Ti;if(t instanceof Ti)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,c=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new Ti(s,a,c,t.opacity)}function Qye(t,e,n,r){return arguments.length===1?Wz(t):new Ti(t,e,n,r??1)}function Ti(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}tO(Ti,Qye,Vz(Jh,{brighter(t){return t=t==null?uv:Math.pow(uv,t),new Ti(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?th:Math.pow(th,t),new Ti(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new br(ZS(t>=240?t-240:t+120,i,r),ZS(t,i,r),ZS(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ti(KL(this.h),Wm(this.s),Wm(this.l),dv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=dv(this.opacity);return`${t===1?"hsl(":"hsla("}${KL(this.h)}, ${Wm(this.s)*100}%, ${Wm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function KL(t){return t=(t||0)%360,t<0?t+360:t}function Wm(t){return Math.max(0,Math.min(1,t||0))}function ZS(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const nO=t=>()=>t;function Jye(t,e){return function(n){return t+n*e}}function Zye(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function e0e(t){return(t=+t)==1?zz:function(e,n){return n-e?Zye(e,n,t):nO(isNaN(e)?n:e)}}function zz(t,e){var n=e-t;return n?Jye(t,n):nO(isNaN(t)?e:t)}const YL=(function t(e){var n=e0e(e);function r(i,o){var s=n((i=rE(i)).r,(o=rE(o)).r),a=n(i.g,o.g),c=n(i.b,o.b),u=zz(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=a(f),i.b=c(f),i.opacity=u(f),i+""}}return r.gamma=t,r})(1);function t0e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function n0e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function r0e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=nd(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function i0e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function fv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function o0e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=nd(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var iE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,e1=new RegExp(iE.source,"g");function s0e(t){return function(){return t}}function a0e(t){return function(e){return t(e)+""}}function l0e(t,e){var n=iE.lastIndex=e1.lastIndex=0,r,i,o,s=-1,a=[],c=[];for(t=t+"",e=e+"";(r=iE.exec(t))&&(i=e1.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:fv(r,i)})),n=e1.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?a0e(c[0].x):s0e(e):(e=c.length,function(u){for(var f=0,h;f<e;++f)a[(h=c[f]).i]=h.x(u);return a.join("")})}function nd(t,e){var n=typeof e,r;return e==null||n==="boolean"?nO(e):(n==="number"?fv:n==="string"?(r=rh(e))?(e=r,YL):l0e:e instanceof rh?YL:e instanceof Date?i0e:n0e(e)?t0e:Array.isArray(e)?r0e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?o0e:fv)(t,e)}function rO(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function c0e(t,e){e===void 0&&(e=t,t=nd);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function u0e(t){return function(){return t}}function hv(t){return+t}var XL=[0,1];function rr(t){return t}function oE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:u0e(isNaN(e)?NaN:.5)}function d0e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function f0e(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=oE(i,r),o=n(s,o)):(r=oE(r,i),o=n(o,s)),function(a){return o(r(a))}}function h0e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=oE(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var c=Qh(t,a,1,r)-1;return o[c](i[c](a))}}function Zh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function My(){var t=XL,e=XL,n=nd,r,i,o,s=rr,a,c,u;function f(){var p=Math.min(t.length,e.length);return s!==rr&&(s=d0e(t[0],t[p-1])),a=p>2?h0e:f0e,c=u=null,h}function h(p){return p==null||isNaN(p=+p)?o:(c||(c=a(t.map(r),e,n)))(r(s(p)))}return h.invert=function(p){return s(i((u||(u=a(e,t.map(r),fv)))(p)))},h.domain=function(p){return arguments.length?(t=Array.from(p,hv),f()):t.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),n=rO,f()},h.clamp=function(p){return arguments.length?(s=p?!0:rr,f()):s!==rr},h.interpolate=function(p){return arguments.length?(n=p,f()):n},h.unknown=function(p){return arguments.length?(o=p,h):o},function(p,v){return r=p,i=v,f()}}function iO(){return My()(rr,rr)}function p0e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function pv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function vu(t){return t=pv(Math.abs(t)),t?t[1]:NaN}function m0e(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function g0e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var v0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ih(t){if(!(e=v0e.exec(t)))throw new Error("invalid format: "+t);var e;return new oO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ih.prototype=oO.prototype;function oO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}oO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function y0e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Hz;function b0e(t,e){var n=pv(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Hz=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+pv(t,Math.max(0,e+o-1))[0]}function QL(t,e){var n=pv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const JL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:p0e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>QL(t*100,e),r:QL,s:b0e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ZL(t){return t}var e3=Array.prototype.map,t3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function w0e(t){var e=t.grouping===void 0||t.thousands===void 0?ZL:m0e(e3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?ZL:g0e(e3.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=ih(h);var p=h.fill,v=h.align,x=h.sign,b=h.symbol,y=h.zero,_=h.width,T=h.comma,S=h.precision,A=h.trim,P=h.type;P==="n"?(T=!0,P="g"):JL[P]||(S===void 0&&(S=12),A=!0,P="g"),(y||p==="0"&&v==="=")&&(y=!0,p="0",v="=");var O=b==="$"?n:b==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",k=b==="$"?r:/[%p]/.test(P)?s:"",R=JL[P],I=/[defgprs%]/.test(P);S=S===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function D(M){var U=O,V=k,Y,Q,K;if(P==="c")V=R(M)+V,M="";else{M=+M;var J=M<0||1/M<0;if(M=isNaN(M)?c:R(Math.abs(M),S),A&&(M=y0e(M)),J&&+M==0&&x!=="+"&&(J=!1),U=(J?x==="("?x:a:x==="-"||x==="("?"":x)+U,V=(P==="s"?t3[8+Hz/3]:"")+V+(J&&x==="("?")":""),I){for(Y=-1,Q=M.length;++Y<Q;)if(K=M.charCodeAt(Y),48>K||K>57){V=(K===46?i+M.slice(Y+1):M.slice(Y))+V,M=M.slice(0,Y);break}}}T&&!y&&(M=e(M,1/0));var B=U.length+M.length+V.length,G=B<_?new Array(_-B+1).join(p):"";switch(T&&y&&(M=e(G+M,G.length?_-V.length:1/0),G=""),v){case"<":M=U+M+V+G;break;case"=":M=U+G+M+V;break;case"^":M=G.slice(0,B=G.length>>1)+U+M+V+G.slice(B);break;default:M=G+U+M+V;break}return o(M)}return D.toString=function(){return h+""},D}function f(h,p){var v=u((h=ih(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(vu(p)/3)))*3,b=Math.pow(10,-x),y=t3[8+x/3];return function(_){return v(b*_)+y}}return{format:u,formatPrefix:f}}var zm,sO,Gz;x0e({thousands:",",grouping:[3],currency:["$",""]});function x0e(t){return zm=w0e(t),sO=zm.format,Gz=zm.formatPrefix,zm}function _0e(t){return Math.max(0,-vu(Math.abs(t)))}function S0e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vu(e)/3)))*3-vu(Math.abs(t)))}function P0e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vu(e)-vu(t))+1}function Kz(t,e,n,r){var i=tE(t,e,n),o;switch(r=ih(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=S0e(i,s))&&(r.precision=o),Gz(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=P0e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=_0e(i))&&(r.precision=o-(r.type==="%")*2);break}}return sO(r)}function ia(t){var e=t.domain;return t.ticks=function(n){var r=e();return ZT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Kz(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],c,u,f=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);f-- >0;){if(u=eE(s,a,n),u===c)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;c=u}return t},t}function mv(){var t=iO();return t.copy=function(){return Zh(t,mv())},ii.apply(t,arguments),ia(t)}function Yz(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,hv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Yz(t).unknown(e)},t=arguments.length?Array.from(t,hv):[0,1],ia(n)}function Xz(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function n3(t){return Math.log(t)}function r3(t){return Math.exp(t)}function T0e(t){return-Math.log(-t)}function E0e(t){return-Math.exp(-t)}function C0e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function A0e(t){return t===10?C0e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function O0e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function i3(t){return(e,n)=>-t(-e,n)}function aO(t){const e=t(n3,r3),n=e.domain;let r=10,i,o;function s(){return i=O0e(r),o=A0e(r),n()[0]<0?(i=i3(i),o=i3(o),t(T0e,E0e)):t(n3,r3),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const c=n();let u=c[0],f=c[c.length-1];const h=f<u;h&&([u,f]=[f,u]);let p=i(u),v=i(f),x,b;const y=a==null?10:+a;let _=[];if(!(r%1)&&v-p<y){if(p=Math.floor(p),v=Math.ceil(v),u>0){for(;p<=v;++p)for(x=1;x<r;++x)if(b=p<0?x/o(-p):x*o(p),!(b<u)){if(b>f)break;_.push(b)}}else for(;p<=v;++p)for(x=r-1;x>=1;--x)if(b=p>0?x/o(-p):x*o(p),!(b<u)){if(b>f)break;_.push(b)}_.length*2<y&&(_=ZT(u,f,y))}else _=ZT(p,v,Math.min(v-p,y)).map(o);return h?_.reverse():_},e.tickFormat=(a,c)=>{if(a==null&&(a=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=ih(c)).precision==null&&(c.trim=!0),c=sO(c)),a===1/0)return c;const u=Math.max(1,r*a/e.ticks().length);return f=>{let h=f/o(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=u?c(f):""}},e.nice=()=>n(Xz(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function Qz(){const t=aO(My()).domain([1,10]);return t.copy=()=>Zh(t,Qz()).base(t.base()),ii.apply(t,arguments),t}function o3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function s3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function lO(t){var e=1,n=t(o3(e),s3(e));return n.constant=function(r){return arguments.length?t(o3(e=+r),s3(e)):e},ia(n)}function Jz(){var t=lO(My());return t.copy=function(){return Zh(t,Jz()).constant(t.constant())},ii.apply(t,arguments)}function a3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function k0e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function j0e(t){return t<0?-t*t:t*t}function cO(t){var e=t(rr,rr),n=1;function r(){return n===1?t(rr,rr):n===.5?t(k0e,j0e):t(a3(n),a3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ia(e)}function uO(){var t=cO(My());return t.copy=function(){return Zh(t,uO()).exponent(t.exponent())},ii.apply(t,arguments),t}function R0e(){return uO.apply(null,arguments).exponent(.5)}function l3(t){return Math.sign(t)*t*t}function N0e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Zz(){var t=iO(),e=[0,1],n=!1,r;function i(o){var s=N0e(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(l3(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,hv)).map(l3)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Zz(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ii.apply(i,arguments),ia(i)}function e8(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=Lye(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Qh(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Hs),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return e8().domain(t).range(e).unknown(r)},ii.apply(o,arguments)}function t8(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[Qh(r,c,0,n)]:o}function a(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,a()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,a()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return t8().domain([t,e]).range(i).unknown(o)},ii.apply(ia(s),arguments)}function n8(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Qh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return n8().domain(t).range(e).unknown(n)},ii.apply(i,arguments)}const t1=new Date,n1=new Date;function bn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const c=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return c;let u;do c.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return c},i.filter=o=>bn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(t1.setTime(+o),n1.setTime(+s),t(t1),t(n1),Math.floor(n(t1,n1))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const gv=bn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);gv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?bn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):gv);gv.range;const Oo=1e3,Jr=Oo*60,ko=Jr*60,zo=ko*24,dO=zo*7,c3=zo*30,r1=zo*365,Wa=bn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Oo)},(t,e)=>(e-t)/Oo,t=>t.getUTCSeconds());Wa.range;const fO=bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Oo)},(t,e)=>{t.setTime(+t+e*Jr)},(t,e)=>(e-t)/Jr,t=>t.getMinutes());fO.range;const hO=bn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Jr)},(t,e)=>(e-t)/Jr,t=>t.getUTCMinutes());hO.range;const pO=bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Oo-t.getMinutes()*Jr)},(t,e)=>{t.setTime(+t+e*ko)},(t,e)=>(e-t)/ko,t=>t.getHours());pO.range;const mO=bn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ko)},(t,e)=>(e-t)/ko,t=>t.getUTCHours());mO.range;const ep=bn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Jr)/zo,t=>t.getDate()-1);ep.range;const Dy=bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zo,t=>t.getUTCDate()-1);Dy.range;const r8=bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zo,t=>Math.floor(t/zo));r8.range;function jl(t){return bn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Jr)/dO)}const $y=jl(0),vv=jl(1),I0e=jl(2),M0e=jl(3),yu=jl(4),D0e=jl(5),$0e=jl(6);$y.range;vv.range;I0e.range;M0e.range;yu.range;D0e.range;$0e.range;function Rl(t){return bn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/dO)}const Ly=Rl(0),yv=Rl(1),L0e=Rl(2),F0e=Rl(3),bu=Rl(4),B0e=Rl(5),U0e=Rl(6);Ly.range;yv.range;L0e.range;F0e.range;bu.range;B0e.range;U0e.range;const gO=bn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());gO.range;const vO=bn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());vO.range;const Ho=bn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ho.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ho.range;const Go=bn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Go.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Go.range;function i8(t,e,n,r,i,o){const s=[[Wa,1,Oo],[Wa,5,5*Oo],[Wa,15,15*Oo],[Wa,30,30*Oo],[o,1,Jr],[o,5,5*Jr],[o,15,15*Jr],[o,30,30*Jr],[i,1,ko],[i,3,3*ko],[i,6,6*ko],[i,12,12*ko],[r,1,zo],[r,2,2*zo],[n,1,dO],[e,1,c3],[e,3,3*c3],[t,1,r1]];function a(u,f,h){const p=f<u;p&&([u,f]=[f,u]);const v=h&&typeof h.range=="function"?h:c(u,f,h),x=v?v.range(u,+f+1):[];return p?x.reverse():x}function c(u,f,h){const p=Math.abs(f-u)/h,v=ZA(([,,y])=>y).right(s,p);if(v===s.length)return t.every(tE(u/r1,f/r1,h));if(v===0)return gv.every(Math.max(tE(u,f,h),1));const[x,b]=s[p/s[v-1][2]<s[v][2]/p?v-1:v];return x.every(b)}return[a,c]}const[q0e,V0e]=i8(Go,vO,Ly,r8,mO,hO),[W0e,z0e]=i8(Ho,gO,$y,ep,pO,fO);function i1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function o1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function nf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function H0e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,c=t.shortMonths,u=rf(i),f=of(i),h=rf(o),p=of(o),v=rf(s),x=of(s),b=rf(a),y=of(a),_=rf(c),T=of(c),S={a:J,A:B,b:G,B:L,c:null,d:m3,e:m3,f:mbe,g:Tbe,G:Cbe,H:fbe,I:hbe,j:pbe,L:o8,m:gbe,M:vbe,p:$,q:F,Q:y3,s:b3,S:ybe,u:bbe,U:wbe,V:xbe,w:_be,W:Sbe,x:null,X:null,y:Pbe,Y:Ebe,Z:Abe,"%":v3},A={a:Z,A:ae,b:me,B:Te,c:null,d:g3,e:g3,f:Rbe,g:qbe,G:Wbe,H:Obe,I:kbe,j:jbe,L:a8,m:Nbe,M:Ibe,p:se,q:ge,Q:y3,s:b3,S:Mbe,u:Dbe,U:$be,V:Lbe,w:Fbe,W:Bbe,x:null,X:null,y:Ube,Y:Vbe,Z:zbe,"%":v3},P={a:D,A:M,b:U,B:V,c:Y,d:h3,e:h3,f:lbe,g:f3,G:d3,H:p3,I:p3,j:ibe,L:abe,m:rbe,M:obe,p:I,q:nbe,Q:ube,s:dbe,S:sbe,u:Q0e,U:J0e,V:Z0e,w:X0e,W:ebe,x:Q,X:K,y:f3,Y:d3,Z:tbe,"%":cbe};S.x=O(n,S),S.X=O(r,S),S.c=O(e,S),A.x=O(n,A),A.X=O(r,A),A.c=O(e,A);function O(oe,fe){return function(ye){var re=[],ze=-1,Le=0,ct=oe.length,ut,Pt,Kn;for(ye instanceof Date||(ye=new Date(+ye));++ze<ct;)oe.charCodeAt(ze)===37&&(re.push(oe.slice(Le,ze)),(Pt=u3[ut=oe.charAt(++ze)])!=null?ut=oe.charAt(++ze):Pt=ut==="e"?" ":"0",(Kn=fe[ut])&&(ut=Kn(ye,Pt)),re.push(ut),Le=ze+1);return re.push(oe.slice(Le,ze)),re.join("")}}function k(oe,fe){return function(ye){var re=nf(1900,void 0,1),ze=R(re,oe,ye+="",0),Le,ct;if(ze!=ye.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(fe&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Le=o1(nf(re.y,0,1)),ct=Le.getUTCDay(),Le=ct>4||ct===0?yv.ceil(Le):yv(Le),Le=Dy.offset(Le,(re.V-1)*7),re.y=Le.getUTCFullYear(),re.m=Le.getUTCMonth(),re.d=Le.getUTCDate()+(re.w+6)%7):(Le=i1(nf(re.y,0,1)),ct=Le.getDay(),Le=ct>4||ct===0?vv.ceil(Le):vv(Le),Le=ep.offset(Le,(re.V-1)*7),re.y=Le.getFullYear(),re.m=Le.getMonth(),re.d=Le.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),ct="Z"in re?o1(nf(re.y,0,1)).getUTCDay():i1(nf(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(ct+5)%7:re.w+re.U*7-(ct+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,o1(re)):i1(re)}}function R(oe,fe,ye,re){for(var ze=0,Le=fe.length,ct=ye.length,ut,Pt;ze<Le;){if(re>=ct)return-1;if(ut=fe.charCodeAt(ze++),ut===37){if(ut=fe.charAt(ze++),Pt=P[ut in u3?fe.charAt(ze++):ut],!Pt||(re=Pt(oe,ye,re))<0)return-1}else if(ut!=ye.charCodeAt(re++))return-1}return re}function I(oe,fe,ye){var re=u.exec(fe.slice(ye));return re?(oe.p=f.get(re[0].toLowerCase()),ye+re[0].length):-1}function D(oe,fe,ye){var re=v.exec(fe.slice(ye));return re?(oe.w=x.get(re[0].toLowerCase()),ye+re[0].length):-1}function M(oe,fe,ye){var re=h.exec(fe.slice(ye));return re?(oe.w=p.get(re[0].toLowerCase()),ye+re[0].length):-1}function U(oe,fe,ye){var re=_.exec(fe.slice(ye));return re?(oe.m=T.get(re[0].toLowerCase()),ye+re[0].length):-1}function V(oe,fe,ye){var re=b.exec(fe.slice(ye));return re?(oe.m=y.get(re[0].toLowerCase()),ye+re[0].length):-1}function Y(oe,fe,ye){return R(oe,e,fe,ye)}function Q(oe,fe,ye){return R(oe,n,fe,ye)}function K(oe,fe,ye){return R(oe,r,fe,ye)}function J(oe){return s[oe.getDay()]}function B(oe){return o[oe.getDay()]}function G(oe){return c[oe.getMonth()]}function L(oe){return a[oe.getMonth()]}function $(oe){return i[+(oe.getHours()>=12)]}function F(oe){return 1+~~(oe.getMonth()/3)}function Z(oe){return s[oe.getUTCDay()]}function ae(oe){return o[oe.getUTCDay()]}function me(oe){return c[oe.getUTCMonth()]}function Te(oe){return a[oe.getUTCMonth()]}function se(oe){return i[+(oe.getUTCHours()>=12)]}function ge(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var fe=O(oe+="",S);return fe.toString=function(){return oe},fe},parse:function(oe){var fe=k(oe+="",!1);return fe.toString=function(){return oe},fe},utcFormat:function(oe){var fe=O(oe+="",A);return fe.toString=function(){return oe},fe},utcParse:function(oe){var fe=k(oe+="",!0);return fe.toString=function(){return oe},fe}}}var u3={"-":"",_:" ",0:"0"},Cn=/^\s*\d+/,G0e=/^%/,K0e=/[\\^$*+?|[\]().{}]/g;function lt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Y0e(t){return t.replace(K0e,"\\$&")}function rf(t){return new RegExp("^(?:"+t.map(Y0e).join("|")+")","i")}function of(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function X0e(t,e,n){var r=Cn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Q0e(t,e,n){var r=Cn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function J0e(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Z0e(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ebe(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function d3(t,e,n){var r=Cn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function f3(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function tbe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nbe(t,e,n){var r=Cn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function rbe(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function h3(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ibe(t,e,n){var r=Cn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function p3(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function obe(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function sbe(t,e,n){var r=Cn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function abe(t,e,n){var r=Cn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function lbe(t,e,n){var r=Cn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function cbe(t,e,n){var r=G0e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ube(t,e,n){var r=Cn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function dbe(t,e,n){var r=Cn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function m3(t,e){return lt(t.getDate(),e,2)}function fbe(t,e){return lt(t.getHours(),e,2)}function hbe(t,e){return lt(t.getHours()%12||12,e,2)}function pbe(t,e){return lt(1+ep.count(Ho(t),t),e,3)}function o8(t,e){return lt(t.getMilliseconds(),e,3)}function mbe(t,e){return o8(t,e)+"000"}function gbe(t,e){return lt(t.getMonth()+1,e,2)}function vbe(t,e){return lt(t.getMinutes(),e,2)}function ybe(t,e){return lt(t.getSeconds(),e,2)}function bbe(t){var e=t.getDay();return e===0?7:e}function wbe(t,e){return lt($y.count(Ho(t)-1,t),e,2)}function s8(t){var e=t.getDay();return e>=4||e===0?yu(t):yu.ceil(t)}function xbe(t,e){return t=s8(t),lt(yu.count(Ho(t),t)+(Ho(t).getDay()===4),e,2)}function _be(t){return t.getDay()}function Sbe(t,e){return lt(vv.count(Ho(t)-1,t),e,2)}function Pbe(t,e){return lt(t.getFullYear()%100,e,2)}function Tbe(t,e){return t=s8(t),lt(t.getFullYear()%100,e,2)}function Ebe(t,e){return lt(t.getFullYear()%1e4,e,4)}function Cbe(t,e){var n=t.getDay();return t=n>=4||n===0?yu(t):yu.ceil(t),lt(t.getFullYear()%1e4,e,4)}function Abe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+lt(e/60|0,"0",2)+lt(e%60,"0",2)}function g3(t,e){return lt(t.getUTCDate(),e,2)}function Obe(t,e){return lt(t.getUTCHours(),e,2)}function kbe(t,e){return lt(t.getUTCHours()%12||12,e,2)}function jbe(t,e){return lt(1+Dy.count(Go(t),t),e,3)}function a8(t,e){return lt(t.getUTCMilliseconds(),e,3)}function Rbe(t,e){return a8(t,e)+"000"}function Nbe(t,e){return lt(t.getUTCMonth()+1,e,2)}function Ibe(t,e){return lt(t.getUTCMinutes(),e,2)}function Mbe(t,e){return lt(t.getUTCSeconds(),e,2)}function Dbe(t){var e=t.getUTCDay();return e===0?7:e}function $be(t,e){return lt(Ly.count(Go(t)-1,t),e,2)}function l8(t){var e=t.getUTCDay();return e>=4||e===0?bu(t):bu.ceil(t)}function Lbe(t,e){return t=l8(t),lt(bu.count(Go(t),t)+(Go(t).getUTCDay()===4),e,2)}function Fbe(t){return t.getUTCDay()}function Bbe(t,e){return lt(yv.count(Go(t)-1,t),e,2)}function Ube(t,e){return lt(t.getUTCFullYear()%100,e,2)}function qbe(t,e){return t=l8(t),lt(t.getUTCFullYear()%100,e,2)}function Vbe(t,e){return lt(t.getUTCFullYear()%1e4,e,4)}function Wbe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?bu(t):bu.ceil(t),lt(t.getUTCFullYear()%1e4,e,4)}function zbe(){return"+0000"}function v3(){return"%"}function y3(t){return+t}function b3(t){return Math.floor(+t/1e3)}var vc,c8,u8;Hbe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Hbe(t){return vc=H0e(t),c8=vc.format,vc.parse,u8=vc.utcFormat,vc.utcParse,vc}function Gbe(t){return new Date(t)}function Kbe(t){return t instanceof Date?+t:+new Date(+t)}function yO(t,e,n,r,i,o,s,a,c,u){var f=iO(),h=f.invert,p=f.domain,v=u(".%L"),x=u(":%S"),b=u("%I:%M"),y=u("%I %p"),_=u("%a %d"),T=u("%b %d"),S=u("%B"),A=u("%Y");function P(O){return(c(O)<O?v:a(O)<O?x:s(O)<O?b:o(O)<O?y:r(O)<O?i(O)<O?_:T:n(O)<O?S:A)(O)}return f.invert=function(O){return new Date(h(O))},f.domain=function(O){return arguments.length?p(Array.from(O,Kbe)):p().map(Gbe)},f.ticks=function(O){var k=p();return t(k[0],k[k.length-1],O??10)},f.tickFormat=function(O,k){return k==null?P:u(k)},f.nice=function(O){var k=p();return(!O||typeof O.range!="function")&&(O=e(k[0],k[k.length-1],O??10)),O?p(Xz(k,O)):f},f.copy=function(){return Zh(f,yO(t,e,n,r,i,o,s,a,c,u))},f}function Ybe(){return ii.apply(yO(W0e,z0e,Ho,gO,$y,ep,pO,fO,Wa,c8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xbe(){return ii.apply(yO(q0e,V0e,Go,vO,Ly,Dy,mO,hO,Wa,u8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fy(){var t=0,e=1,n,r,i,o,s=rr,a=!1,c;function u(h){return h==null||isNaN(h=+h)?c:s(i===0?.5:(h=(o(h)-n)*i,a?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(a=!!h,u):a},u.interpolator=function(h){return arguments.length?(s=h,u):s};function f(h){return function(p){var v,x;return arguments.length?([v,x]=p,s=h(v,x),u):[s(0),s(1)]}}return u.range=f(nd),u.rangeRound=f(rO),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function oa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function d8(){var t=ia(Fy()(rr));return t.copy=function(){return oa(t,d8())},es.apply(t,arguments)}function f8(){var t=aO(Fy()).domain([1,10]);return t.copy=function(){return oa(t,f8()).base(t.base())},es.apply(t,arguments)}function h8(){var t=lO(Fy());return t.copy=function(){return oa(t,h8()).constant(t.constant())},es.apply(t,arguments)}function bO(){var t=cO(Fy());return t.copy=function(){return oa(t,bO()).exponent(t.exponent())},es.apply(t,arguments)}function Qbe(){return bO.apply(null,arguments).exponent(.5)}function p8(){var t=[],e=rr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Qh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Hs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>$ye(t,o/r))},n.copy=function(){return p8(e).domain(t)},es.apply(n,arguments)}function By(){var t=0,e=.5,n=1,r=1,i,o,s,a,c,u=rr,f,h=!1,p;function v(b){return isNaN(b=+b)?p:(b=.5+((b=+f(b))-o)*(r*b<r*o?a:c),u(h?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([t,e,n]=b,i=f(t=+t),o=f(e=+e),s=f(n=+n),a=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,v):[t,e,n]},v.clamp=function(b){return arguments.length?(h=!!b,v):h},v.interpolator=function(b){return arguments.length?(u=b,v):u};function x(b){return function(y){var _,T,S;return arguments.length?([_,T,S]=y,u=c0e(b,[_,T,S]),v):[u(0),u(.5),u(1)]}}return v.range=x(nd),v.rangeRound=x(rO),v.unknown=function(b){return arguments.length?(p=b,v):p},function(b){return f=b,i=b(t),o=b(e),s=b(n),a=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,v}}function m8(){var t=ia(By()(rr));return t.copy=function(){return oa(t,m8())},es.apply(t,arguments)}function g8(){var t=aO(By()).domain([.1,1,10]);return t.copy=function(){return oa(t,g8()).base(t.base())},es.apply(t,arguments)}function v8(){var t=lO(By());return t.copy=function(){return oa(t,v8()).constant(t.constant())},es.apply(t,arguments)}function wO(){var t=cO(By());return t.copy=function(){return oa(t,wO()).exponent(t.exponent())},es.apply(t,arguments)}function Jbe(){return wO.apply(null,arguments).exponent(.5)}const w3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:eh,scaleDiverging:m8,scaleDivergingLog:g8,scaleDivergingPow:wO,scaleDivergingSqrt:Jbe,scaleDivergingSymlog:v8,scaleIdentity:Yz,scaleImplicit:nE,scaleLinear:mv,scaleLog:Qz,scaleOrdinal:eO,scalePoint:Af,scalePow:uO,scaleQuantile:e8,scaleQuantize:t8,scaleRadial:Zz,scaleSequential:d8,scaleSequentialLog:f8,scaleSequentialPow:bO,scaleSequentialQuantile:p8,scaleSequentialSqrt:Qbe,scaleSequentialSymlog:h8,scaleSqrt:R0e,scaleSymlog:Jz,scaleThreshold:n8,scaleTime:Ybe,scaleUtc:Xbe,tickFormat:Kz},Symbol.toStringTag,{value:"Module"}));var s1,x3;function Uy(){if(x3)return s1;x3=1;var t=Qu();function e(n,r,i){for(var o=-1,s=n.length;++o<s;){var a=n[o],c=r(a);if(c!=null&&(u===void 0?c===c&&!t(c):i(c,u)))var u=c,f=a}return f}return s1=e,s1}var a1,_3;function y8(){if(_3)return a1;_3=1;function t(e,n){return e>n}return a1=t,a1}var l1,S3;function Zbe(){if(S3)return l1;S3=1;var t=Uy(),e=y8(),n=td();function r(i){return i&&i.length?t(i,n,e):void 0}return l1=r,l1}var ewe=Zbe();const Bs=st(ewe);var c1,P3;function b8(){if(P3)return c1;P3=1;function t(e,n){return e<n}return c1=t,c1}var u1,T3;function twe(){if(T3)return u1;T3=1;var t=Uy(),e=b8(),n=td();function r(i){return i&&i.length?t(i,n,e):void 0}return u1=r,u1}var nwe=twe();const qy=st(nwe);var d1,E3;function rwe(){if(E3)return d1;E3=1;var t=DA(),e=oo(),n=Ez(),r=wr();function i(o,s){var a=r(o)?t:n;return a(o,e(s,3))}return d1=i,d1}var f1,C3;function iwe(){if(C3)return f1;C3=1;var t=Pz(),e=rwe();function n(r,i){return t(e(r,i),1)}return f1=n,f1}var owe=iwe();const swe=st(owe);var h1,A3;function awe(){if(A3)return h1;A3=1;var t=YA();function e(n,r){return t(n,r)}return h1=e,h1}var lwe=awe();const wu=st(lwe);var rd=1e9,cwe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_O,Bt=!0,ri="[DecimalError] ",cl=ri+"Invalid argument: ",xO=ri+"Exponent out of range: ",id=Math.floor,Na=Math.pow,uwe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rr,Pn=1e7,Mt=7,w8=9007199254740991,bv=id(w8/Mt),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Mt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(t){return Mo(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,n=e.constructor;return St(Mo(e,new n(t),0,1),n.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return sn(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Rr))throw Error(ri+"NaN");if(n.s<1)throw Error(ri+(n.s?"NaN":"-Infinity"));return n.eq(Rr)?new r(0):(Bt=!1,e=Mo(oh(n,o),oh(t,o),o),Bt=!0,St(e,i))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?S8(e,t):x8(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ri+"NaN");return n.s?(Bt=!1,e=Mo(n,t,0,1).times(t),Bt=!0,n.minus(e)):St(new r(n),i)};Pe.naturalExponential=Pe.exp=function(){return _8(this)};Pe.naturalLogarithm=Pe.ln=function(){return oh(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?x8(e,t):S8(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(cl+t);if(e=sn(i)+1,r=i.d.length-1,n=r*Mt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pe.squareRoot=Pe.sqrt=function(){var t,e,n,r,i,o,s,a=this,c=a.constructor;if(a.s<1){if(!a.s)return new c(0);throw Error(ri+"NaN")}for(t=sn(a),Bt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Hi(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=id((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(o=r,r=o.plus(Mo(a,o,s+2)).times(.5),Hi(o.d).slice(0,s)===(e=Hi(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(St(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return Bt=!0,St(r,n)};Pe.times=Pe.mul=function(t){var e,n,r,i,o,s,a,c,u,f=this,h=f.constructor,p=f.d,v=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,n=f.e+t.e,c=p.length,u=v.length,c<u&&(o=p,p=v,v=o,s=c,c=u,u=s),o=[],s=c+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)a=o[i]+v[r]*p[i-r-1]+e,o[i--]=a%Pn|0,e=a/Pn|0;o[i]=(o[i]+e)%Pn|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Bt?St(t,h.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(to(t,0,rd),e===void 0?e=r.rounding:to(e,0,8),St(n,t+sn(n)+1,e))};Pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=xl(r,!0):(to(t,0,rd),e===void 0?e=i.rounding:to(e,0,8),r=St(new i(r),t+1,e),n=xl(r,!0,t+1)),n};Pe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?xl(i):(to(t,0,rd),e===void 0?e=o.rounding:to(e,0,8),r=St(new o(i),t+sn(i)+1,e),n=xl(r.abs(),!1,t+sn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return St(new e(t),sn(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,n,r,i,o,s,a=this,c=a.constructor,u=12,f=+(t=new c(t));if(!t.s)return new c(Rr);if(a=new c(a),!a.s){if(t.s<1)throw Error(ri+"Infinity");return a}if(a.eq(Rr))return a;if(r=c.precision,t.eq(Rr))return St(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=f<0?-f:f)<=w8){for(i=new c(Rr),e=Math.ceil(r/Mt+4),Bt=!1;n%2&&(i=i.times(a),k3(i.d,e)),n=id(n/2),n!==0;)a=a.times(a),k3(a.d,e);return Bt=!0,t.s<0?new c(Rr).div(i):St(i,r)}}else if(o<0)throw Error(ri+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,Bt=!1,i=t.times(oh(a,r+u)),Bt=!0,i=_8(i),i.s=o,i};Pe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=sn(i),r=xl(i,n<=o.toExpNeg||n>=o.toExpPos)):(to(t,1,rd),e===void 0?e=o.rounding:to(e,0,8),i=St(new o(i),t,e),n=sn(i),r=xl(i,t<=n||n<=o.toExpNeg,t)),r};Pe.toSignificantDigits=Pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(to(t,1,rd),e===void 0?e=r.rounding:to(e,0,8)),St(new r(n),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=sn(t),n=t.constructor;return xl(t,e<=n.toExpNeg||e>=n.toExpPos)};function x8(t,e){var n,r,i,o,s,a,c,u,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Bt?St(e,h):e;if(c=t.d,u=e.d,s=t.e,i=e.e,c=c.slice(),o=s-i,o){for(o<0?(r=c,o=-o,a=u.length):(r=u,i=s,a=c.length),s=Math.ceil(h/Mt),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=c.length,o=u.length,a-o<0&&(o=a,r=u,u=c,c=r),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/Pn|0,c[o]%=Pn;for(n&&(c.unshift(n),++i),a=c.length;c[--a]==0;)c.pop();return e.d=c,e.e=i,Bt?St(e,h):e}function to(t,e,n){if(t!==~~t||t<e||t>n)throw Error(cl+t)}function Hi(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Mt-r.length,n&&(o+=Cs(n)),o+=r;s=t[e],r=s+"",n=Mt-r.length,n&&(o+=Cs(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Mo=(function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Pn|0,s=o/Pn|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,c;if(o!=s)c=o>s?1:-1;else for(a=c=0;a<o;a++)if(r[a]!=i[a]){c=r[a]>i[a]?1:-1;break}return c}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Pn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,c,u,f,h,p,v,x,b,y,_,T,S,A,P,O,k,R,I=r.constructor,D=r.s==i.s?1:-1,M=r.d,U=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(ri+"Division by zero");for(c=r.e-i.e,k=U.length,P=M.length,v=new I(D),x=v.d=[],u=0;U[u]==(M[u]||0);)++u;if(U[u]>(M[u]||0)&&--c,o==null?T=o=I.precision:s?T=o+(sn(r)-sn(i))+1:T=o,T<0)return new I(0);if(T=T/Mt+2|0,u=0,k==1)for(f=0,U=U[0],T++;(u<P||f)&&T--;u++)S=f*Pn+(M[u]||0),x[u]=S/U|0,f=S%U|0;else{for(f=Pn/(U[0]+1)|0,f>1&&(U=t(U,f),M=t(M,f),k=U.length,P=M.length),A=k,b=M.slice(0,k),y=b.length;y<k;)b[y++]=0;R=U.slice(),R.unshift(0),O=U[0],U[1]>=Pn/2&&++O;do f=0,a=e(U,b,k,y),a<0?(_=b[0],k!=y&&(_=_*Pn+(b[1]||0)),f=_/O|0,f>1?(f>=Pn&&(f=Pn-1),h=t(U,f),p=h.length,y=b.length,a=e(h,b,p,y),a==1&&(f--,n(h,k<p?R:U,p))):(f==0&&(a=f=1),h=U.slice()),p=h.length,p<y&&h.unshift(0),n(b,h,y),a==-1&&(y=b.length,a=e(U,b,k,y),a<1&&(f++,n(b,k<y?R:U,y))),y=b.length):a===0&&(f++,b=[0]),x[u++]=f,a&&b[0]?b[y++]=M[A]||0:(b=[M[A]],y=1);while((A++<P||b[0]!==void 0)&&T--)}return x[0]||x.shift(),v.e=c,St(v,s?o+sn(v)+1:o)}})();function _8(t,e){var n,r,i,o,s,a,c=0,u=0,f=t.constructor,h=f.precision;if(sn(t)>16)throw Error(xO+sn(t));if(!t.s)return new f(Rr);for(Bt=!1,a=h,s=new f(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Na(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new f(Rr),f.precision=a;;){if(i=St(i.times(t),a),n=n.times(++c),s=o.plus(Mo(i,n,a)),Hi(s.d).slice(0,a)===Hi(o.d).slice(0,a)){for(;u--;)o=St(o.times(o),a);return f.precision=h,e==null?(Bt=!0,St(o,h)):o}o=s}}function sn(t){for(var e=t.e*Mt,n=t.d[0];n>=10;n/=10)e++;return e}function p1(t,e,n){if(e>t.LN10.sd())throw Bt=!0,n&&(t.precision=n),Error(ri+"LN10 precision limit exceeded");return St(new t(t.LN10),e)}function Cs(t){for(var e="";t--;)e+="0";return e}function oh(t,e){var n,r,i,o,s,a,c,u,f,h=1,p=10,v=t,x=v.d,b=v.constructor,y=b.precision;if(v.s<1)throw Error(ri+(v.s?"NaN":"-Infinity"));if(v.eq(Rr))return new b(0);if(e==null?(Bt=!1,u=y):u=e,v.eq(10))return e==null&&(Bt=!0),p1(b,u);if(u+=p,b.precision=u,n=Hi(x),r=n.charAt(0),o=sn(v),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=Hi(v.d),r=n.charAt(0),h++;o=sn(v),r>1?(v=new b("0."+n),o++):v=new b(r+"."+n.slice(1))}else return c=p1(b,u+2,y).times(o+""),v=oh(new b(r+"."+n.slice(1)),u-p).plus(c),b.precision=y,e==null?(Bt=!0,St(v,y)):v;for(a=s=v=Mo(v.minus(Rr),v.plus(Rr),u),f=St(v.times(v),u),i=3;;){if(s=St(s.times(f),u),c=a.plus(Mo(s,new b(i),u)),Hi(c.d).slice(0,u)===Hi(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(p1(b,u+2,y).times(o+""))),a=Mo(a,new b(h),u),b.precision=y,e==null?(Bt=!0,St(a,y)):a;a=c,i+=2}}function O3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=id(n/Mt),t.d=[],r=(n+1)%Mt,n<0&&(r+=Mt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Mt;r<i;)t.d.push(+e.slice(r,r+=Mt));e=e.slice(r),r=Mt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Bt&&(t.e>bv||t.e<-bv))throw Error(xO+n)}else t.s=0,t.e=0,t.d=[0];return t}function St(t,e,n){var r,i,o,s,a,c,u,f,h=t.d;for(s=1,o=h[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Mt,i=e,u=h[f=0];else{if(f=Math.ceil((r+1)/Mt),o=h.length,f>=o)return t;for(u=o=h[f],s=1;o>=10;o/=10)s++;r%=Mt,i=r-Mt+s}if(n!==void 0&&(o=Na(10,s-i-1),a=u/o%10|0,c=e<0||h[f+1]!==void 0||u%o,c=n<4?(a||c)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||c||n==6&&(r>0?i>0?u/Na(10,s-i):0:h[f-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return c?(o=sn(t),h.length=1,e=e-o-1,h[0]=Na(10,(Mt-e%Mt)%Mt),t.e=id(-e/Mt)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=f,o=1,f--):(h.length=f+1,o=Na(10,Mt-r),h[f]=i>0?(u/Na(10,s-i)%Na(10,i)|0)*o:0),c)for(;;)if(f==0){(h[0]+=o)==Pn&&(h[0]=1,++t.e);break}else{if(h[f]+=o,h[f]!=Pn)break;h[f--]=0,o=1}for(r=h.length;h[--r]===0;)h.pop();if(Bt&&(t.e>bv||t.e<-bv))throw Error(xO+sn(t));return t}function S8(t,e){var n,r,i,o,s,a,c,u,f,h,p=t.constructor,v=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Bt?St(e,v):e;if(c=t.d,h=e.d,r=e.e,u=t.e,c=c.slice(),s=u-r,s){for(f=s<0,f?(n=c,s=-s,a=h.length):(n=h,r=u,a=c.length),i=Math.max(Math.ceil(v/Mt),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,a=h.length,f=i<a,f&&(a=i),i=0;i<a;i++)if(c[i]!=h[i]){f=c[i]<h[i];break}s=0}for(f&&(n=c,c=h,h=n,e.s=-e.s),a=c.length,i=h.length-a;i>0;--i)c[a++]=0;for(i=h.length;i>s;){if(c[--i]<h[i]){for(o=i;o&&c[--o]===0;)c[o]=Pn-1;--c[o],c[i]+=Pn}c[i]-=h[i]}for(;c[--a]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Bt?St(e,v):e):new p(0)}function xl(t,e,n){var r,i=sn(t),o=Hi(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Cs(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Cs(-i-1)+o,n&&(r=n-s)>0&&(o+=Cs(r))):i>=s?(o+=Cs(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Cs(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Cs(r))),t.s<0?"-"+o:o}function k3(t,e){if(t.length>e)return t.length=e,!0}function P8(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(cl+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return O3(s,o.toString())}else if(typeof o!="string")throw Error(cl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,uwe.test(o))O3(s,o);else throw Error(cl+o)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=P8,i.config=i.set=dwe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function dwe(t){if(!t||typeof t!="object")throw Error(ri+"Object expected");var e,n,r,i=["precision",1,rd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(id(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(cl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(cl+n+": "+r);return this}var _O=P8(cwe);Rr=new _O(1);const wt=_O;function fwe(t){return gwe(t)||mwe(t)||pwe(t)||hwe()}function hwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pwe(t,e){if(t){if(typeof t=="string")return sE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sE(t,e)}}function mwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function gwe(t){if(Array.isArray(t))return sE(t)}function sE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var vwe=function(e){return e},T8={},E8=function(e){return e===T8},j3=function(e){return function n(){return arguments.length===0||arguments.length===1&&E8(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},ywe=function t(e,n){return e===1?n:j3(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==T8}).length;return s>=e?n.apply(void 0,i):t(e-s,j3(function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];var f=i.map(function(h){return E8(h)?c.shift():h});return n.apply(void 0,fwe(f).concat(c))}))})},Vy=function(e){return ywe(e.length,e)},aE=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},bwe=Vy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),wwe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return vwe;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,c){return c(a)},o.apply(void 0,arguments))}},lE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},C8=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,c){return a===n[c]})||(n=o,r=e.apply(void 0,o)),r}};function xwe(t){var e;return t===0?e=1:e=Math.floor(new wt(t).abs().log(10).toNumber())+1,e}function _we(t,e,n){for(var r=new wt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Swe=Vy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Pwe=Vy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Twe=Vy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Wy={rangeStep:_we,getDigitCount:xwe,interpolateNumber:Swe,uninterpolateNumber:Pwe,uninterpolateTruncation:Twe};function cE(t){return Awe(t)||Cwe(t)||A8(t)||Ewe()}function Ewe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Awe(t){if(Array.isArray(t))return uE(t)}function sh(t,e){return jwe(t)||kwe(t,e)||A8(t,e)||Owe()}function Owe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A8(t,e){if(t){if(typeof t=="string")return uE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uE(t,e)}}function uE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kwe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,o=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function jwe(t){if(Array.isArray(t))return t}function O8(t){var e=sh(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function k8(t,e,n){if(t.lte(0))return new wt(0);var r=Wy.getDigitCount(t.toNumber()),i=new wt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new wt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),c=a.mul(i);return e?c:new wt(Math.ceil(c))}function Rwe(t,e,n){var r=1,i=new wt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new wt(10).pow(Wy.getDigitCount(t)-1),i=new wt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new wt(Math.floor(t)))}else t===0?i=new wt(Math.floor((e-1)/2)):n||(i=new wt(Math.floor(t)));var s=Math.floor((e-1)/2),a=wwe(bwe(function(c){return i.add(new wt(c-s).mul(r)).toNumber()}),aE);return a(0,e)}function j8(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new wt(0),tickMin:new wt(0),tickMax:new wt(0)};var o=k8(new wt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new wt(0):(s=new wt(t).add(e).div(2),s=s.sub(new wt(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new wt(e).sub(s).div(o).toNumber()),u=a+c+1;return u>n?j8(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new wt(a).mul(o)),tickMax:s.add(new wt(c).mul(o))})}function Nwe(t){var e=sh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=O8([n,r]),c=sh(a,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var h=f===1/0?[u].concat(cE(aE(0,i-1).map(function(){return 1/0}))):[].concat(cE(aE(0,i-1).map(function(){return-1/0})),[f]);return n>r?lE(h):h}if(u===f)return Rwe(u,i,o);var p=j8(u,f,s,o),v=p.step,x=p.tickMin,b=p.tickMax,y=Wy.rangeStep(x,b.add(new wt(.1).mul(v)),v);return n>r?lE(y):y}function Iwe(t,e){var n=sh(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=O8([r,i]),a=sh(s,2),c=a[0],u=a[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var f=Math.max(e,2),h=k8(new wt(u).sub(c).div(f-1),o,0),p=[].concat(cE(Wy.rangeStep(new wt(c),new wt(u).sub(new wt(.99).mul(h)),h)),[u]);return r>i?lE(p):p}var Mwe=C8(Nwe),Dwe=C8(Iwe),$we="Invariant failed";function _l(t,e){throw new Error($we)}var Lwe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function wv(){return wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wv.apply(this,arguments)}function Fwe(t,e){return Vwe(t)||qwe(t,e)||Uwe(t,e)||Bwe()}function Bwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uwe(t,e){if(t){if(typeof t=="string")return R3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R3(t,e)}}function R3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Vwe(t){if(Array.isArray(t))return t}function Wwe(t,e){if(t==null)return{};var n=zwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I8(r.key),r)}}function Kwe(t,e,n){return e&&Gwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ywe(t,e,n){return e=xv(e),Xwe(t,R8()?Reflect.construct(e,n||[],xv(t).constructor):e.apply(t,n))}function Xwe(t,e){if(e&&(xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qwe(t)}function Qwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R8=function(){return!!t})()}function xv(t){return xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xv(t)}function Jwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dE(t,e)}function dE(t,e){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dE(t,e)}function N8(t,e,n){return e=I8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I8(t){var e=Zwe(t,"string");return xu(e)=="symbol"?e:e+""}function Zwe(t,e){if(xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zy=(function(t){function e(){return Hwe(this,e),Ywe(this,e,arguments)}return Jwe(e,t),Kwe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,c=r.data,u=r.dataPointFormatter,f=r.xAxis,h=r.yAxis,p=Wwe(r,Lwe),v=Me(p,!1);this.props.direction==="x"&&f.type!=="number"&&_l();var x=c.map(function(b){var y=u(b,a),_=y.x,T=y.y,S=y.value,A=y.errorVal;if(!A)return null;var P=[],O,k;if(Array.isArray(A)){var R=Fwe(A,2);O=R[0],k=R[1]}else O=k=A;if(o==="vertical"){var I=f.scale,D=T+i,M=D+s,U=D-s,V=I(S-O),Y=I(S+k);P.push({x1:Y,y1:M,x2:Y,y2:U}),P.push({x1:V,y1:D,x2:Y,y2:D}),P.push({x1:V,y1:M,x2:V,y2:U})}else if(o==="horizontal"){var Q=h.scale,K=_+i,J=K-s,B=K+s,G=Q(S-O),L=Q(S+k);P.push({x1:J,y1:L,x2:B,y2:L}),P.push({x1:K,y1:G,x2:K,y2:L}),P.push({x1:J,y1:G,x2:B,y2:G})}return W.createElement(rt,wv({className:"recharts-errorBar",key:"bar-".concat(P.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},v),P.map(function($){return W.createElement("line",wv({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return W.createElement(rt,{className:"recharts-errorBars"},x)}}])})(W.Component);N8(zy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});N8(zy,"displayName","ErrorBar");function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function N3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N3(Object(n),!0).forEach(function(r){exe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function exe(t,e,n){return e=txe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function txe(t){var e=nxe(t,"string");return ah(e)=="symbol"?e:e+""}function nxe(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M8=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Or(n,al);if(!s)return null;var a=al.defaultProps,c=a!==void 0?Pa(Pa({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(f,h){var p=h.item,v=h.props,x=v.sectors||v.data||[];return f.concat(x.map(function(b){return{type:s.props.iconType||p.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(f){var h=f.item,p=h.type.defaultProps,v=p!==void 0?Pa(Pa({},p),h.props):{},x=v.dataKey,b=v.name,y=v.legendType,_=v.hide;return{inactive:_,dataKey:x,type:c.iconType||y||"square",color:SO(h),value:b||x,payload:v}}),Pa(Pa(Pa({},c),al.getWithHeight(s,i)),{},{payload:u,item:s})};function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function I3(t){return sxe(t)||oxe(t)||ixe(t)||rxe()}function rxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ixe(t,e){if(t){if(typeof t=="string")return fE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fE(t,e)}}function oxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sxe(t){if(Array.isArray(t))return fE(t)}function fE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M3(Object(n),!0).forEach(function(r){Uc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uc(t,e,n){return e=axe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function axe(t){var e=lxe(t,"string");return lh(e)=="symbol"?e:e+""}function lxe(t,e){if(lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vn(t,e,n){return Ge(t)||Ge(e)?n:yn(e)?Ir(t,e,n):qe(e)?e(t):n}function Of(t,e,n,r){var i=swe(t,function(a){return vn(a,e)});if(n==="number"){var o=i.filter(function(a){return de(a)||parseFloat(a)});return o.length?[qy(o),Bs(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Ge(a)}):i;return s.map(function(a){return yn(a)||a instanceof Date?a:""})}var cxe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,u=0;u<a;u++){var f=u>0?i[u-1].coordinate:i[a-1].coordinate,h=i[u].coordinate,p=u>=a-1?i[0].coordinate:i[u+1].coordinate,v=void 0;if(tr(h-f)!==tr(p-h)){var x=[];if(tr(p-h)===tr(c[1]-c[0])){v=p;var b=h+c[1]-c[0];x[0]=Math.min(b,(b+f)/2),x[1]=Math.max(b,(b+f)/2)}else{v=f;var y=p+c[1]-c[0];x[0]=Math.min(h,(y+h)/2),x[1]=Math.max(h,(y+h)/2)}var _=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>_[0]&&e<=_[1]||e>=x[0]&&e<=x[1]){s=i[u].index;break}}else{var T=Math.min(f,p),S=Math.max(f,p);if(e>(T+h)/2&&e<=(S+h)/2){s=i[u].index;break}}}else for(var A=0;A<a;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<a-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===a-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){s=r[A].index;break}return s},SO=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:a;break;default:c=a;break}return c},uxe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),c=0,u=a.length;c<u;c++)for(var f=o[a[c]].stackGroups,h=Object.keys(f),p=0,v=h.length;p<v;p++){var x=f[h[p]],b=x.items,y=x.cateAxisId,_=b.filter(function(k){return Io(k.type).indexOf("Bar")>=0});if(_&&_.length){var T=_[0].type.defaultProps,S=T!==void 0?Qt(Qt({},T),_[0].props):_[0].props,A=S.barSize,P=S[y];s[P]||(s[P]=[]);var O=Ge(A)?n:A;s[P].push({item:_[0],stackList:_.slice(1),barSize:Ge(O)?void 0:nr(O,r,0)})}}return s},dxe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,c=s.length;if(c<1)return null;var u=nr(n,i,0,!0),f,h=[];if(s[0].barSize===+s[0].barSize){var p=!1,v=i/c,x=s.reduce(function(A,P){return A+P.barSize||0},0);x+=(c-1)*u,x>=i&&(x-=(c-1)*u,u=0),x>=i&&v>0&&(p=!0,v*=.9,x=c*v);var b=(i-x)/2>>0,y={offset:b-u,size:0};f=s.reduce(function(A,P){var O={item:P.item,position:{offset:y.offset+y.size+u,size:p?v:P.barSize}},k=[].concat(I3(A),[O]);return y=k[k.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(R){k.push({item:R,position:y})}),k},h)}else{var _=nr(r,i,0,!0);i-2*_-(c-1)*u<=0&&(u=0);var T=(i-2*_-(c-1)*u)/c;T>1&&(T>>=0);var S=a===+a?Math.min(T,a):T;f=s.reduce(function(A,P,O){var k=[].concat(I3(A),[{item:P.item,position:{offset:_+(T+u)*O+(T-S)/2,size:S}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(R){k.push({item:R,position:k[k.length-1].position})}),k},h)}return f},fxe=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,c=s-(a.left||0)-(a.right||0),u=M8({children:o,legendWidth:c});if(u){var f=i||{},h=f.width,p=f.height,v=u.align,x=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&x==="middle")&&v!=="center"&&de(e[v]))return Qt(Qt({},e),{},Uc({},v,e[v]+(h||0)));if((b==="horizontal"||b==="vertical"&&v==="center")&&x!=="middle"&&de(e[x]))return Qt(Qt({},e),{},Uc({},x,e[x]+(p||0)))}return e},hxe=function(e,n,r){return Ge(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},D8=function(e,n,r,i,o){var s=n.props.children,a=ti(s,zy).filter(function(u){return hxe(i,o,u.props.direction)});if(a&&a.length){var c=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var h=vn(f,r);if(Ge(h))return u;var p=Array.isArray(h)?[qy(h),Bs(h)]:[h,h],v=c.reduce(function(x,b){var y=vn(f,b,0),_=p[0]-Math.abs(Array.isArray(y)?y[0]:y),T=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(_,x[0]),Math.max(T,x[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},pxe=function(e,n,r,i,o){var s=n.map(function(a){return D8(e,a,r,o,i)}).filter(function(a){return!Ge(a)});return s&&s.length?s.reduce(function(a,c){return[Math.min(a[0],c[0]),Math.max(a[1],c[1])]},[1/0,-1/0]):null},$8=function(e,n,r,i,o){var s=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&D8(e,c,u,i)||Of(e,u,r,o)});if(r==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(c,u){for(var f=0,h=u.length;f<h;f++)a[u[f]]||(a[u[f]]=!0,c.push(u[f]));return c},[])},L8=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},F8=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var o,s,a=e.map(function(c){return c.coordinate===n&&(o=!0),c.coordinate===r&&(s=!0),c.coordinate});return o||a.push(n),s||a.push(r),a},jo=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?tr(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(h){var p=o?o.indexOf(h):h;return{coordinate:i(p)+u,value:h,offset:u}});return f.filter(function(h){return!Zu(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,p){return{coordinate:i(h)+u,value:h,index:p,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,p){return{coordinate:i(h)+u,value:o?o[h]:h,index:p,offset:u}})},m1=new WeakMap,Hm=function(e,n){if(typeof n!="function")return e;m1.has(e)||m1.set(e,new WeakMap);var r=m1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},B8=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:eh(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:mv(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Af(),realScaleType:"point"}:o==="category"?{scale:eh(),realScaleType:"band"}:{scale:mv(),realScaleType:"linear"};if(yl(i)){var c="scale".concat(Cy(i));return{scale:(w3[c]||Af)(),realScaleType:w3[c]?c:"point"}}return qe(i)?{scale:i}:{scale:Af(),realScaleType:"point"}},D3=1e-4,U8=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-D3,s=Math.max(i[0],i[1])+D3,a=e(n[0]),c=e(n[r-1]);(a<o||a>s||c<o||c>s)&&e.domain([n[0],n[r-1]])}},mxe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},gxe=function(e,n){if(!n||n.length!==2||!de(n[0])||!de(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!de(e[0])||e[0]<r)&&(o[0]=r),(!de(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},vxe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var c=Zu(e[a][r][1])?e[a][r][0]:e[a][r][1];c>=0?(e[a][r][0]=o,e[a][r][1]=o+c,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+c,s=e[a][r][1])}},yxe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=Zu(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},bxe={sign:vxe,expand:sme,none:fu,silhouette:ame,wiggle:lme,positive:yxe},wxe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=bxe[r],s=ome().keys(i).value(function(a,c){return+vn(a,c,0)}).order(qT).offset(o);return s(e)},xxe=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,c={},u=a.reduce(function(h,p){var v,x=(v=p.type)!==null&&v!==void 0&&v.defaultProps?Qt(Qt({},p.type.defaultProps),p.props):p.props,b=x.stackId,y=x.hide;if(y)return h;var _=x[r],T=h[_]||{hasStack:!1,stackGroups:{}};if(yn(b)){var S=T.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(p),T.hasStack=!0,T.stackGroups[b]=S}else T.stackGroups[ed("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return Qt(Qt({},h),{},Uc({},_,T))},c),f={};return Object.keys(u).reduce(function(h,p){var v=u[p];if(v.hasStack){var x={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(b,y){var _=v.stackGroups[y];return Qt(Qt({},b),{},Uc({},y,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:wxe(e,_.items,o)}))},x)}return Qt(Qt({},h),{},Uc({},p,v))},f)},q8=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=Mwe(u,o,a);return e.domain([qy(f),Bs(f)]),{niceTicks:f}}if(o&&i==="number"){var h=e.domain(),p=Dwe(h,o,a);return{niceTicks:p}}return null};function $3(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ge(i[e.dataKey])){var a=Qg(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var c=vn(i,Ge(s)?e.dataKey:s);return Ge(c)?null:e.scale(c)}var L3=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var c=vn(s,n.dataKey,n.domain[a]);return Ge(c)?null:n.scale(c)-o/2+i},_xe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Sxe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(yn(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},Pxe=function(e){return e.reduce(function(n,r){return[qy(r.concat([n[0]]).filter(de)),Bs(r.concat([n[1]]).filter(de))]},[1/0,-1/0])},V8=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,c=a.reduce(function(u,f){var h=Pxe(f.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},F3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,B3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hE=function(e,n,r){if(qe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(de(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(F3.test(e[0])){var o=+F3.exec(e[0])[1];i[0]=n[0]-o}else qe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(de(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(B3.test(e[1])){var s=+B3.exec(e[1])[1];i[1]=n[1]+s}else qe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},_v=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=QA(n,function(h){return h.coordinate}),s=1/0,a=1,c=o.length;a<c;a++){var u=o[a],f=o[a-1];s=Math.min((u.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},U3=function(e,n,r){return!e||!e.length||wu(e,Ir(r,"type.defaultProps.domain"))?n:e},W8=function(e,n){var r=e.type.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,c=r.tooltipType,u=r.chartType,f=r.hide;return Qt(Qt({},Me(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:SO(e),value:vn(n,i),type:c,payload:n,chartType:u,hide:f})};function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Po(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q3(Object(n),!0).forEach(function(r){z8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z8(t,e,n){return e=Txe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Txe(t){var e=Exe(t,"string");return ch(e)=="symbol"?e:e+""}function Exe(t,e){if(ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cxe(t,e){return jxe(t)||kxe(t,e)||Oxe(t,e)||Axe()}function Axe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oxe(t,e){if(t){if(typeof t=="string")return V3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V3(t,e)}}function V3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function jxe(t){if(Array.isArray(t))return t}var Sv=Math.PI/180,Rxe=function(e){return e*180/Math.PI},jt=function(e,n,r,i){return{x:e+Math.cos(-Sv*i)*r,y:n+Math.sin(-Sv*i)*r}},H8=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Nxe=function(e,n,r,i,o){var s=e.width,a=e.height,c=e.startAngle,u=e.endAngle,f=nr(e.cx,s,s/2),h=nr(e.cy,a,a/2),p=H8(s,a,r),v=nr(e.innerRadius,p,0),x=nr(e.outerRadius,p,p*.8),b=Object.keys(n);return b.reduce(function(y,_){var T=n[_],S=T.domain,A=T.reversed,P;if(Ge(T.range))i==="angleAxis"?P=[c,u]:i==="radiusAxis"&&(P=[v,x]),A&&(P=[P[1],P[0]]);else{P=T.range;var O=P,k=Cxe(O,2);c=k[0],u=k[1]}var R=B8(T,o),I=R.realScaleType,D=R.scale;D.domain(S).range(P),U8(D);var M=q8(D,Po(Po({},T),{},{realScaleType:I})),U=Po(Po(Po({},T),M),{},{range:P,radius:x,realScaleType:I,scale:D,cx:f,cy:h,innerRadius:v,outerRadius:x,startAngle:c,endAngle:u});return Po(Po({},y),{},z8({},_,U))},{})},Ixe=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},Mxe=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=Ixe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var c=(r-o)/a,u=Math.acos(c);return i>s&&(u=2*Math.PI-u),{radius:a,angle:Rxe(u),angleInRadian:u}},Dxe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},$xe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},W3=function(e,n){var r=e.x,i=e.y,o=Mxe({x:r,y:i},n),s=o.radius,a=o.angle,c=n.innerRadius,u=n.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var f=Dxe(n),h=f.startAngle,p=f.endAngle,v=a,x;if(h<=p){for(;v>p;)v-=360;for(;v<h;)v+=360;x=v>=h&&v<=p}else{for(;v>h;)v-=360;for(;v<p;)v+=360;x=v>=p&&v<=h}return x?Po(Po({},n),{},{radius:s,angle:$xe(v,n)}):null},G8=function(e){return!E.isValidElement(e)&&!qe(e)&&typeof e!="boolean"?e.className:""};function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}var Lxe=["offset"];function Fxe(t){return Vxe(t)||qxe(t)||Uxe(t)||Bxe()}function Bxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uxe(t,e){if(t){if(typeof t=="string")return pE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pE(t,e)}}function qxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vxe(t){if(Array.isArray(t))return pE(t)}function pE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wxe(t,e){if(t==null)return{};var n=zxe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(n),!0).forEach(function(r){Hxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hxe(t,e,n){return e=Gxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gxe(t){var e=Kxe(t,"string");return uh(e)=="symbol"?e:e+""}function Kxe(t,e){if(uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dh.apply(this,arguments)}var Yxe=function(e){var n=e.value,r=e.formatter,i=Ge(e.children)?n:e.children;return qe(r)?r(i):i},Xxe=function(e,n){var r=tr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Qxe=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,c=o,u=c.cx,f=c.cy,h=c.innerRadius,p=c.outerRadius,v=c.startAngle,x=c.endAngle,b=c.clockWise,y=(h+p)/2,_=Xxe(v,x),T=_>=0?1:-1,S,A;i==="insideStart"?(S=v+T*s,A=b):i==="insideEnd"?(S=x-T*s,A=!b):i==="end"&&(S=x+T*s,A=b),A=_<=0?A:!A;var P=jt(u,f,y,S),O=jt(u,f,y,S+(A?1:-1)*359),k="M".concat(P.x,",").concat(P.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(A?0:1,`,
    `).concat(O.x,",").concat(O.y),R=Ge(e.id)?ed("recharts-radial-line-"):e.id;return W.createElement("text",dh({},r,{dominantBaseline:"central",className:He("recharts-radial-bar-label",a)}),W.createElement("defs",null,W.createElement("path",{id:R,d:k})),W.createElement("textPath",{xlinkHref:"#".concat(R)},n))},Jxe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,c=o.innerRadius,u=o.outerRadius,f=o.startAngle,h=o.endAngle,p=(f+h)/2;if(i==="outside"){var v=jt(s,a,u+r,p),x=v.x,b=v.y;return{x,y:b,textAnchor:x>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,_=jt(s,a,y,p),T=_.x,S=_.y;return{x:T,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Zxe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,c=s.y,u=s.width,f=s.height,h=f>=0?1:-1,p=h*i,v=h>0?"end":"start",x=h>0?"start":"end",b=u>=0?1:-1,y=b*i,_=b>0?"end":"start",T=b>0?"start":"end";if(o==="top"){var S={x:a+u/2,y:c-h*i,textAnchor:"middle",verticalAnchor:v};return fn(fn({},S),r?{height:Math.max(c-r.y,0),width:u}:{})}if(o==="bottom"){var A={x:a+u/2,y:c+f+p,textAnchor:"middle",verticalAnchor:x};return fn(fn({},A),r?{height:Math.max(r.y+r.height-(c+f),0),width:u}:{})}if(o==="left"){var P={x:a-y,y:c+f/2,textAnchor:_,verticalAnchor:"middle"};return fn(fn({},P),r?{width:Math.max(P.x-r.x,0),height:f}:{})}if(o==="right"){var O={x:a+u+y,y:c+f/2,textAnchor:T,verticalAnchor:"middle"};return fn(fn({},O),r?{width:Math.max(r.x+r.width-O.x,0),height:f}:{})}var k=r?{width:u,height:f}:{};return o==="insideLeft"?fn({x:a+y,y:c+f/2,textAnchor:T,verticalAnchor:"middle"},k):o==="insideRight"?fn({x:a+u-y,y:c+f/2,textAnchor:_,verticalAnchor:"middle"},k):o==="insideTop"?fn({x:a+u/2,y:c+p,textAnchor:"middle",verticalAnchor:x},k):o==="insideBottom"?fn({x:a+u/2,y:c+f-p,textAnchor:"middle",verticalAnchor:v},k):o==="insideTopLeft"?fn({x:a+y,y:c+p,textAnchor:T,verticalAnchor:x},k):o==="insideTopRight"?fn({x:a+u-y,y:c+p,textAnchor:_,verticalAnchor:x},k):o==="insideBottomLeft"?fn({x:a+y,y:c+f-p,textAnchor:T,verticalAnchor:v},k):o==="insideBottomRight"?fn({x:a+u-y,y:c+f-p,textAnchor:_,verticalAnchor:v},k):Ju(o)&&(de(o.x)||qa(o.x))&&(de(o.y)||qa(o.y))?fn({x:a+nr(o.x,u),y:c+nr(o.y,f),textAnchor:"end",verticalAnchor:"end"},k):fn({x:a+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},k)},e_e=function(e){return"cx"in e&&de(e.cx)};function Tn(t){var e=t.offset,n=e===void 0?5:e,r=Wxe(t,Lxe),i=fn({offset:n},r),o=i.viewBox,s=i.position,a=i.value,c=i.children,u=i.content,f=i.className,h=f===void 0?"":f,p=i.textBreakAll;if(!o||Ge(a)&&Ge(c)&&!E.isValidElement(u)&&!qe(u))return null;if(E.isValidElement(u))return E.cloneElement(u,i);var v;if(qe(u)){if(v=E.createElement(u,i),E.isValidElement(v))return v}else v=Yxe(i);var x=e_e(o),b=Me(i,!0);if(x&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Qxe(i,v,b);var y=x?Jxe(i):Zxe(i);return W.createElement(wl,dh({className:He("recharts-label",h)},b,y,{breakAll:p}),v)}Tn.displayName="Label";var K8=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,c=e.radius,u=e.innerRadius,f=e.outerRadius,h=e.x,p=e.y,v=e.top,x=e.left,b=e.width,y=e.height,_=e.clockWise,T=e.labelViewBox;if(T)return T;if(de(b)&&de(y)){if(de(h)&&de(p))return{x:h,y:p,width:b,height:y};if(de(v)&&de(x))return{x:v,y:x,width:b,height:y}}return de(h)&&de(p)?{x:h,y:p,width:0,height:0}:de(n)&&de(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:f||c||a||0,clockWise:_}:e.viewBox?e.viewBox:{}},t_e=function(e,n){return e?e===!0?W.createElement(Tn,{key:"label-implicit",viewBox:n}):yn(e)?W.createElement(Tn,{key:"label-implicit",viewBox:n,value:e}):E.isValidElement(e)?e.type===Tn?E.cloneElement(e,{key:"label-implicit",viewBox:n}):W.createElement(Tn,{key:"label-implicit",content:e,viewBox:n}):qe(e)?W.createElement(Tn,{key:"label-implicit",content:e,viewBox:n}):Ju(e)?W.createElement(Tn,dh({viewBox:n},e,{key:"label-implicit"})):null:null},n_e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=K8(e),s=ti(i,Tn).map(function(c,u){return E.cloneElement(c,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=t_e(e.label,n||o);return[a].concat(Fxe(s))};Tn.parseViewBox=K8;Tn.renderCallByParent=n_e;var g1,H3;function r_e(){if(H3)return g1;H3=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return g1=t,g1}var i_e=r_e();const o_e=st(i_e);function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}var s_e=["valueAccessor"],a_e=["data","dataKey","clockWise","id","textBreakAll"];function l_e(t){return f_e(t)||d_e(t)||u_e(t)||c_e()}function c_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u_e(t,e){if(t){if(typeof t=="string")return mE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mE(t,e)}}function d_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function f_e(t){if(Array.isArray(t))return mE(t)}function mE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(this,arguments)}function G3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G3(Object(n),!0).forEach(function(r){h_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h_e(t,e,n){return e=p_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p_e(t){var e=m_e(t,"string");return fh(e)=="symbol"?e:e+""}function m_e(t,e){if(fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y3(t,e){if(t==null)return{};var n=g_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function g_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var v_e=function(e){return Array.isArray(e.value)?o_e(e.value):e.value};function Do(t){var e=t.valueAccessor,n=e===void 0?v_e:e,r=Y3(t,s_e),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,c=r.textBreakAll,u=Y3(r,a_e);return!i||!i.length?null:W.createElement(rt,{className:"recharts-label-list"},i.map(function(f,h){var p=Ge(o)?n(f,h):vn(f&&f.payload,o),v=Ge(a)?{}:{id:"".concat(a,"-").concat(h)};return W.createElement(Tn,Pv({},Me(f,!0),u,v,{parentViewBox:f.parentViewBox,value:p,textBreakAll:c,viewBox:Tn.parseViewBox(Ge(s)?f:K3(K3({},f),{},{clockWise:s})),key:"label-".concat(h),index:h}))}))}Do.displayName="LabelList";function y_e(t,e){return t?t===!0?W.createElement(Do,{key:"labelList-implicit",data:e}):W.isValidElement(t)||qe(t)?W.createElement(Do,{key:"labelList-implicit",data:e,content:t}):Ju(t)?W.createElement(Do,Pv({data:e},t,{key:"labelList-implicit"})):null:null}function b_e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ti(r,Do).map(function(s,a){return E.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=y_e(t.label,e);return[o].concat(l_e(i))}Do.renderCallByParent=b_e;function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gE.apply(this,arguments)}function X3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(n),!0).forEach(function(r){w_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w_e(t,e,n){return e=x_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x_e(t){var e=__e(t,"string");return hh(e)=="symbol"?e:e+""}function __e(t,e){if(hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S_e=function(e,n){var r=tr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Gm=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,f=c*(a?1:-1)+i,h=Math.asin(c/f)/Sv,p=u?o:o+s*h,v=jt(n,r,f,p),x=jt(n,r,i,p),b=u?o-s*h:o,y=jt(n,r,f*Math.cos(h*Sv),b);return{center:v,circleTangency:x,lineTangency:y,theta:h}},Y8=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,c=S_e(s,a),u=s+c,f=jt(n,r,o,s),h=jt(n,r,o,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var v=jt(n,r,i,s),x=jt(n,r,i,u);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},P_e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,h=tr(f-u),p=Gm({cx:n,cy:r,radius:o,angle:u,sign:h,cornerRadius:s,cornerIsExternal:c}),v=p.circleTangency,x=p.lineTangency,b=p.theta,y=Gm({cx:n,cy:r,radius:o,angle:f,sign:-h,cornerRadius:s,cornerIsExternal:c}),_=y.circleTangency,T=y.lineTangency,S=y.theta,A=c?Math.abs(u-f):Math.abs(u-f)-b-S;if(A<0)return a?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Y8({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:f});var P="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(A>180),",").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
  `);if(i>0){var O=Gm({cx:n,cy:r,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),k=O.circleTangency,R=O.lineTangency,I=O.theta,D=Gm({cx:n,cy:r,radius:i,angle:f,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),M=D.circleTangency,U=D.lineTangency,V=D.theta,Y=c?Math.abs(u-f):Math.abs(u-f)-I-V;if(Y<0&&s===0)return"".concat(P,"L").concat(n,",").concat(r,"Z");P+="L".concat(U.x,",").concat(U.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Y>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,"Z")}else P+="L".concat(n,",").concat(r,"Z");return P},T_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},X8=function(e){var n=Q3(Q3({},T_e),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,h=n.endAngle,p=n.className;if(s<o||f===h)return null;var v=He("recharts-sector",p),x=s-o,b=nr(a,x,0,!0),y;return b>0&&Math.abs(f-h)<360?y=P_e({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(b,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:h}):y=Y8({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:f,endAngle:h}),W.createElement("path",gE({},Me(n,!0),{className:v,d:y,role:"img"}))};function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function vE(){return vE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vE.apply(this,arguments)}function J3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J3(Object(n),!0).forEach(function(r){E_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E_e(t,e,n){return e=C_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C_e(t){var e=A_e(t,"string");return ph(e)=="symbol"?e:e+""}function A_e(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eF={curveBasisClosed:Kpe,curveBasisOpen:Ype,curveBasis:Gpe,curveBumpX:Npe,curveBumpY:Ipe,curveLinearClosed:Xpe,curveLinear:Oy,curveMonotoneX:Qpe,curveMonotoneY:Jpe,curveNatural:Zpe,curveStep:eme,curveStepAfter:nme,curveStepBefore:tme},Km=function(e){return e.x===+e.x&&e.y===+e.y},sf=function(e){return e.x},af=function(e){return e.y},O_e=function(e,n){if(qe(e))return e;var r="curve".concat(Cy(e));return(r==="curveMonotone"||r==="curveBump")&&n?eF["".concat(r).concat(n==="vertical"?"Y":"X")]:eF[r]||Oy},k_e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,c=e.connectNulls,u=c===void 0?!1:c,f=O_e(r,a),h=u?o.filter(function(b){return Km(b)}):o,p;if(Array.isArray(s)){var v=u?s.filter(function(b){return Km(b)}):s,x=h.map(function(b,y){return Z3(Z3({},b),{},{base:v[y]})});return a==="vertical"?p=Fm().y(af).x1(sf).x0(function(b){return b.base.x}):p=Fm().x(sf).y1(af).y0(function(b){return b.base.y}),p.defined(Km).curve(f),p(x)}return a==="vertical"&&de(s)?p=Fm().y(af).x1(sf).x0(s):de(s)?p=Fm().x(sf).y1(af).y0(s):p=GW().x(sf).y(af),p.defined(Km).curve(f),p(h)},qc=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?k_e(e):i;return E.createElement("path",vE({},Me(e,!1),Jg(e),{className:He("recharts-curve",n),d:s,ref:o}))},v1={exports:{}},y1,tF;function j_e(){if(tF)return y1;tF=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return y1=t,y1}var b1,nF;function R_e(){if(nF)return b1;nF=1;var t=j_e();function e(){}function n(){}return n.resetWarningCache=e,b1=function(){function r(s,a,c,u,f,h){if(h!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},b1}var rF;function N_e(){return rF||(rF=1,v1.exports=R_e()()),v1.exports}var I_e=N_e();const ft=st(I_e),{getOwnPropertyNames:M_e,getOwnPropertySymbols:D_e}=Object,{hasOwnProperty:$_e}=Object.prototype;function w1(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Ym(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const c=t(n,r,i);return o.delete(n),o.delete(r),c}}function L_e(t){return t!=null?t[Symbol.toStringTag]:void 0}function iF(t){return M_e(t).concat(D_e(t))}const F_e=Object.hasOwn||((t,e)=>$_e.call(t,e));function Nl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const B_e="__v",U_e="__o",q_e="_owner",{getOwnPropertyDescriptor:oF,keys:sF}=Object;function V_e(t,e){return t.byteLength===e.byteLength&&Tv(new Uint8Array(t),new Uint8Array(e))}function W_e(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function z_e(t,e){return t.byteLength===e.byteLength&&Tv(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function H_e(t,e){return Nl(t.getTime(),e.getTime())}function G_e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function K_e(t,e){return t===e}function aF(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,c=0;for(;(s=o.next())&&!s.done;){const u=e.entries();let f=!1,h=0;for(;(a=u.next())&&!a.done;){if(i[h]){h++;continue}const p=s.value,v=a.value;if(n.equals(p[0],v[0],c,h,t,e,n)&&n.equals(p[1],v[1],p[0],v[0],t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1;c++}return!0}const Y_e=Nl;function X_e(t,e,n){const r=sF(t);let i=r.length;if(sF(e).length!==i)return!1;for(;i-- >0;)if(!Q8(t,e,n,r[i]))return!1;return!0}function lf(t,e,n){const r=iF(t);let i=r.length;if(iF(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!Q8(t,e,n,o)||(s=oF(t,o),a=oF(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Q_e(t,e){return Nl(t.valueOf(),e.valueOf())}function J_e(t,e){return t.source===e.source&&t.flags===e.flags}function lF(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const c=e.values();let u=!1,f=0;for(;(a=c.next())&&!a.done;){if(!i[f]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function Tv(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Z_e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Q8(t,e,n,r){return(r===q_e||r===U_e||r===B_e)&&(t.$$typeof||e.$$typeof)?!0:F_e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const eSe="[object ArrayBuffer]",tSe="[object Arguments]",nSe="[object Boolean]",rSe="[object DataView]",iSe="[object Date]",oSe="[object Error]",sSe="[object Map]",aSe="[object Number]",lSe="[object Object]",cSe="[object RegExp]",uSe="[object Set]",dSe="[object String]",fSe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},hSe="[object URL]",pSe=Object.prototype.toString;function mSe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:f,areSetsEqual:h,areTypedArraysEqual:p,areUrlsEqual:v,unknownTagComparators:x}){return function(y,_,T){if(y===_)return!0;if(y==null||_==null)return!1;const S=typeof y;if(S!==typeof _)return!1;if(S!=="object")return S==="number"?a(y,_,T):S==="function"?o(y,_,T):!1;const A=y.constructor;if(A!==_.constructor)return!1;if(A===Object)return c(y,_,T);if(Array.isArray(y))return e(y,_,T);if(A===Date)return r(y,_,T);if(A===RegExp)return f(y,_,T);if(A===Map)return s(y,_,T);if(A===Set)return h(y,_,T);const P=pSe.call(y);if(P===iSe)return r(y,_,T);if(P===cSe)return f(y,_,T);if(P===sSe)return s(y,_,T);if(P===uSe)return h(y,_,T);if(P===lSe)return typeof y.then!="function"&&typeof _.then!="function"&&c(y,_,T);if(P===hSe)return v(y,_,T);if(P===oSe)return i(y,_,T);if(P===tSe)return c(y,_,T);if(fSe[P])return p(y,_,T);if(P===eSe)return t(y,_,T);if(P===rSe)return n(y,_,T);if(P===nSe||P===aSe||P===dSe)return u(y,_,T);if(x){let O=x[P];if(!O){const k=L_e(y);k&&(O=x[k])}if(O)return O(y,_,T)}return!1}}function gSe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:V_e,areArraysEqual:n?lf:W_e,areDataViewsEqual:z_e,areDatesEqual:H_e,areErrorsEqual:G_e,areFunctionsEqual:K_e,areMapsEqual:n?w1(aF,lf):aF,areNumbersEqual:Y_e,areObjectsEqual:n?lf:X_e,arePrimitiveWrappersEqual:Q_e,areRegExpsEqual:J_e,areSetsEqual:n?w1(lF,lf):lF,areTypedArraysEqual:n?w1(Tv,lf):Tv,areUrlsEqual:Z_e,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Ym(r.areArraysEqual),o=Ym(r.areMapsEqual),s=Ym(r.areObjectsEqual),a=Ym(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function vSe(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function ySe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,c){const{cache:u=t?new WeakMap:void 0,meta:f}=n();return e(a,c,{cache:u,equals:r,meta:f,strict:i})};if(t)return function(a,c){return e(a,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,c){return e(a,c,o)}}const bSe=sa();sa({strict:!0});sa({circular:!0});sa({circular:!0,strict:!0});sa({createInternalComparator:()=>Nl});sa({strict:!0,createInternalComparator:()=>Nl});sa({circular:!0,createInternalComparator:()=>Nl});sa({circular:!0,createInternalComparator:()=>Nl,strict:!0});function sa(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=gSe(t),s=mSe(o),a=n?n(s):vSe(s);return ySe({circular:e,comparator:s,createState:r,equals:a,strict:i})}function wSe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function cF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):wSe(i)};requestAnimationFrame(r)}function yE(t){"@babel/helpers - typeof";return yE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yE(t)}function xSe(t){return TSe(t)||PSe(t)||SSe(t)||_Se()}function _Se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SSe(t,e){if(t){if(typeof t=="string")return uF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uF(t,e)}}function uF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TSe(t){if(Array.isArray(t))return t}function ESe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=xSe(s),c=a[0],u=a.slice(1);if(typeof c=="number"){cF(i.bind(null,u),c);return}i(c),cF(i.bind(null,u));return}yE(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function dF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dF(Object(n),!0).forEach(function(r){J8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J8(t,e,n){return e=CSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CSe(t){var e=ASe(t,"string");return mh(e)==="symbol"?e:String(e)}function ASe(t,e){if(mh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OSe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},kSe=function(e){return e},jSe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},kf=function(e,n){return Object.keys(n).reduce(function(r,i){return fF(fF({},r),{},J8({},i,e(i,n[i])))},{})},hF=function(e,n,r){return e.map(function(i){return"".concat(jSe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function RSe(t,e){return MSe(t)||ISe(t,e)||Z8(t,e)||NSe()}function NSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ISe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function MSe(t){if(Array.isArray(t))return t}function DSe(t){return FSe(t)||LSe(t)||Z8(t)||$Se()}function $Se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z8(t,e){if(t){if(typeof t=="string")return bE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bE(t,e)}}function LSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FSe(t){if(Array.isArray(t))return bE(t)}function bE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ev=1e-4,eH=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},tH=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},pF=function(e,n){return function(r){var i=eH(e,n);return tH(i,r)}},BSe=function(e,n){return function(r){var i=eH(e,n),o=[].concat(DSe(i.map(function(s,a){return s*a}).slice(1)),[0]);return tH(o,r)}},mF=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),f=RSe(u,4);i=f[0],o=f[1],s=f[2],a=f[3]}}}var h=pF(i,s),p=pF(o,a),v=BSe(i,s),x=function(_){return _>1?1:_<0?0:_},b=function(_){for(var T=_>1?1:_,S=T,A=0;A<8;++A){var P=h(S)-T,O=v(S);if(Math.abs(P-T)<Ev||O<Ev)return p(S);S=x(S-P/O)}return p(S)};return b.isStepper=!1,b},USe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,c=function(f,h,p){var v=-(f-h)*r,x=p*o,b=p+(v-x)*a/1e3,y=p*a/1e3+f;return Math.abs(y-h)<Ev&&Math.abs(b)<Ev?[h,0]:[y,b]};return c.isStepper=!0,c.dt=a,c},qSe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mF(i);case"spring":return USe();default:if(i.split("(")[0]==="cubic-bezier")return mF(i)}return typeof i=="function"?i:null};function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function gF(t){return zSe(t)||WSe(t)||nH(t)||VSe()}function VSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zSe(t){if(Array.isArray(t))return xE(t)}function vF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vF(Object(n),!0).forEach(function(r){wE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wE(t,e,n){return e=HSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HSe(t){var e=GSe(t,"string");return gh(e)==="symbol"?e:String(e)}function GSe(t,e){if(gh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KSe(t,e){return QSe(t)||XSe(t,e)||nH(t,e)||YSe()}function YSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nH(t,e){if(t){if(typeof t=="string")return xE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xE(t,e)}}function xE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function QSe(t){if(Array.isArray(t))return t}var Cv=function(e,n,r){return e+(n-e)*r},_E=function(e){var n=e.from,r=e.to;return n!==r},JSe=function t(e,n,r){var i=kf(function(o,s){if(_E(s)){var a=e(s.from,s.to,s.velocity),c=KSe(a,2),u=c[0],f=c[1];return In(In({},s),{},{from:u,velocity:f})}return s},n);return r<1?kf(function(o,s){return _E(s)?In(In({},s),{},{velocity:Cv(s.velocity,i[o].velocity,r),from:Cv(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const ZSe=(function(t,e,n,r,i){var o=OSe(t,e),s=o.reduce(function(y,_){return In(In({},y),{},wE({},_,[t[_],e[_]]))},{}),a=o.reduce(function(y,_){return In(In({},y),{},wE({},_,{from:t[_],velocity:0,to:e[_]}))},{}),c=-1,u,f,h=function(){return null},p=function(){return kf(function(_,T){return T.from},a)},v=function(){return!Object.values(a).filter(_E).length},x=function(_){u||(u=_);var T=_-u,S=T/n.dt;a=JSe(n,a,S),i(In(In(In({},t),e),p())),u=_,v()||(c=requestAnimationFrame(h))},b=function(_){f||(f=_);var T=(_-f)/r,S=kf(function(P,O){return Cv.apply(void 0,gF(O).concat([n(T)]))},s);if(i(In(In(In({},t),e),S)),T<1)c=requestAnimationFrame(h);else{var A=kf(function(P,O){return Cv.apply(void 0,gF(O).concat([n(1)]))},s);i(In(In(In({},t),e),A))}};return h=n.isStepper?x:b,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}});function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}var e1e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function t1e(t,e){if(t==null)return{};var n=n1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function n1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function x1(t){return s1e(t)||o1e(t)||i1e(t)||r1e()}function r1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i1e(t,e){if(t){if(typeof t=="string")return SE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SE(t,e)}}function o1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function s1e(t){if(Array.isArray(t))return SE(t)}function SE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(n),!0).forEach(function(r){wf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wf(t,e,n){return e=rH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rH(r.key),r)}}function c1e(t,e,n){return e&&l1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rH(t){var e=u1e(t,"string");return _u(e)==="symbol"?e:String(e)}function u1e(t,e){if(_u(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_u(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PE(t,e)}function PE(t,e){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PE(t,e)}function f1e(t){var e=h1e();return function(){var r=Av(t),i;if(e){var o=Av(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return TE(this,i)}}function TE(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EE(t)}function EE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Av(t){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Av(t)}var no=(function(t){d1e(n,t);var e=f1e(n);function n(r,i){var o;a1e(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,c=s.attributeName,u=s.from,f=s.to,h=s.steps,p=s.children,v=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(EE(o)),o.changeStyle=o.changeStyle.bind(EE(o)),!a||v<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:f}),TE(o);if(h&&h.length)o.state={style:h[0].style};else if(u){if(typeof p=="function")return o.state={style:u},TE(o);o.state={style:c?wf({},c,u):u}}else o.state={style:{}};return o}return c1e(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,c=o.attributeName,u=o.shouldReAnimate,f=o.to,h=o.from,p=this.state.style;if(a){if(!s){var v={style:c?wf({},c,f):f};this.state&&p&&(c&&p[c]!==f||!c&&p!==f)&&this.setState(v);return}if(!(bSe(i.to,f)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=x||u?h:i.to;if(this.state&&p){var y={style:c?wf({},c,b):b};(c&&p[c]!==b||!c&&p!==b)&&this.setState(y)}this.runAnimation(pi(pi({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,c=i.duration,u=i.easing,f=i.begin,h=i.onAnimationEnd,p=i.onAnimationStart,v=ZSe(s,a,qSe(u),c,this.changeStyle),x=function(){o.stopJSAnimation=v()};this.manager.start([p,f,x,c,h])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,c=i.onAnimationStart,u=s[0],f=u.style,h=u.duration,p=h===void 0?0:h,v=function(b,y,_){if(_===0)return b;var T=y.duration,S=y.easing,A=S===void 0?"ease":S,P=y.style,O=y.properties,k=y.onAnimationEnd,R=_>0?s[_-1]:y,I=O||Object.keys(P);if(typeof A=="function"||A==="spring")return[].concat(x1(b),[o.runJSAnimation.bind(o,{from:R.style,to:P,duration:T,easing:A}),T]);var D=hF(I,T,A),M=pi(pi(pi({},R.style),P),{},{transition:D});return[].concat(x1(b),[M,T,k]).filter(kSe)};return this.manager.start([c].concat(x1(s.reduce(v,[f,Math.max(p,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=ESe());var o=i.begin,s=i.duration,a=i.attributeName,c=i.to,u=i.easing,f=i.onAnimationStart,h=i.onAnimationEnd,p=i.steps,v=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var b=a?wf({},a,c):c,y=hF(Object.keys(b),s,u);x.start([f,o,pi(pi({},b),{},{transition:y}),s,h])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=t1e(i,e1e),u=E.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!a||u===0||s<=0)return o;var h=function(v){var x=v.props,b=x.style,y=b===void 0?{}:b,_=x.className,T=E.cloneElement(v,pi(pi({},c),{},{style:pi(pi({},y),f),className:_}));return T};return u===1?h(E.Children.only(o)):W.createElement("div",null,E.Children.map(o,function(p){return h(p)}))}}]),n})(E.PureComponent);no.displayName="Animate";no.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};no.propTypes={from:ft.oneOfType([ft.object,ft.string]),to:ft.oneOfType([ft.object,ft.string]),attributeName:ft.string,duration:ft.number,begin:ft.number,easing:ft.oneOfType([ft.string,ft.func]),steps:ft.arrayOf(ft.shape({duration:ft.number.isRequired,style:ft.object.isRequired,easing:ft.oneOfType([ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ft.func]),properties:ft.arrayOf("string"),onAnimationEnd:ft.func})),children:ft.oneOfType([ft.node,ft.func]),isActive:ft.bool,canBegin:ft.bool,onAnimationEnd:ft.func,shouldReAnimate:ft.bool,onAnimationStart:ft.func,onAnimationReStart:ft.func};function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ov.apply(this,arguments)}function p1e(t,e){return y1e(t)||v1e(t,e)||g1e(t,e)||m1e()}function m1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g1e(t,e){if(t){if(typeof t=="string")return bF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bF(t,e)}}function bF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function y1e(t){if(Array.isArray(t))return t}function wF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(n),!0).forEach(function(r){b1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b1e(t,e,n){return e=w1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w1e(t){var e=x1e(t,"string");return vh(e)=="symbol"?e:e+""}function x1e(t,e){if(vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _F=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(s>0&&o instanceof Array){for(var h=[0,0,0,0],p=0,v=4;p<v;p++)h[p]=o[p]>s?s:o[p];f="M".concat(e,",").concat(n+a*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+c*h[0],",").concat(n)),f+="L ".concat(e+r-c*h[1],",").concat(n),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*h[1])),f+="L ".concat(e+r,",").concat(n+i-a*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-c*h[2],",").concat(n+i)),f+="L ".concat(e+c*h[3],",").concat(n+i),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*h[3])),f+="Z"}else if(s>0&&o===+o&&o>0){var x=Math.min(s,o);f="M ".concat(e,",").concat(n+a*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+c*x,",").concat(n,`
            L `).concat(e+r-c*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*x,`
            L `).concat(e+r,",").concat(n+i-a*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r-c*x,",").concat(n+i,`
            L `).concat(e+c*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*x," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},_1e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,c=n.height;if(Math.abs(a)>0&&Math.abs(c)>0){var u=Math.min(o,o+a),f=Math.max(o,o+a),h=Math.min(s,s+c),p=Math.max(s,s+c);return r>=u&&r<=f&&i>=h&&i<=p}return!1},S1e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PO=function(e){var n=xF(xF({},S1e),e),r=E.useRef(),i=E.useState(-1),o=p1e(i,2),s=o[0],a=o[1];E.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&a(A)}catch{}},[]);var c=n.x,u=n.y,f=n.width,h=n.height,p=n.radius,v=n.className,x=n.animationEasing,b=n.animationDuration,y=n.animationBegin,_=n.isAnimationActive,T=n.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||h!==+h||f===0||h===0)return null;var S=He("recharts-rectangle",v);return T?W.createElement(no,{canBegin:s>0,from:{width:f,height:h,x:c,y:u},to:{width:f,height:h,x:c,y:u},duration:b,animationEasing:x,isActive:T},function(A){var P=A.width,O=A.height,k=A.x,R=A.y;return W.createElement(no,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:_,easing:x},W.createElement("path",Ov({},Me(n,!0),{className:S,d:_F(k,R,P,O,p),ref:r})))}):W.createElement("path",Ov({},Me(n,!0),{className:S,d:_F(c,u,f,h,p)}))},P1e=["points","className","baseLinePoints","connectNulls"];function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ac.apply(this,arguments)}function T1e(t,e){if(t==null)return{};var n=E1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function E1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function SF(t){return k1e(t)||O1e(t)||A1e(t)||C1e()}function C1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A1e(t,e){if(t){if(typeof t=="string")return CE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CE(t,e)}}function O1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k1e(t){if(Array.isArray(t))return CE(t)}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var PF=function(e){return e&&e.x===+e.x&&e.y===+e.y},j1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){PF(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),PF(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},jf=function(e,n){var r=j1e(e);n&&(r=[r.reduce(function(o,s){return[].concat(SF(o),SF(s))},[])]);var i=r.map(function(o){return o.reduce(function(s,a,c){return"".concat(s).concat(c===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},R1e=function(e,n,r){var i=jf(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(jf(n.reverse(),r).slice(1))},N1e=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,s=T1e(e,P1e);if(!n||!n.length)return null;var a=He("recharts-polygon",r);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",u=R1e(n,i,o);return W.createElement("g",{className:a},W.createElement("path",Ac({},Me(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?W.createElement("path",Ac({},Me(s,!0),{fill:"none",d:jf(n,o)})):null,c?W.createElement("path",Ac({},Me(s,!0),{fill:"none",d:jf(i,o)})):null)}var f=jf(n,o);return W.createElement("path",Ac({},Me(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",className:a,d:f}))};function AE(){return AE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AE.apply(this,arguments)}var Hy=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=He("recharts-dot",o);return n===+n&&r===+r&&i===+i?E.createElement("circle",AE({},Me(e,!1),Jg(e),{className:s,cx:n,cy:r,r:i})):null};function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}var I1e=["x","y","top","left","width","height","className"];function OE(){return OE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OE.apply(this,arguments)}function TF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(n),!0).forEach(function(r){D1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D1e(t,e,n){return e=$1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $1e(t){var e=L1e(t,"string");return yh(e)=="symbol"?e:e+""}function L1e(t,e){if(yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F1e(t,e){if(t==null)return{};var n=B1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function B1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var U1e=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},q1e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,c=e.left,u=c===void 0?0:c,f=e.width,h=f===void 0?0:f,p=e.height,v=p===void 0?0:p,x=e.className,b=F1e(e,I1e),y=M1e({x:r,y:o,top:a,left:u,width:h,height:v},b);return!de(r)||!de(o)||!de(h)||!de(v)||!de(a)||!de(u)?null:W.createElement("path",OE({},Me(y,!0),{className:He("recharts-cross",x),d:U1e(r,o,h,v,a,u)}))},_1,EF;function V1e(){if(EF)return _1;EF=1;var t=Uy(),e=y8(),n=oo();function r(i,o){return i&&i.length?t(i,n(o,2),e):void 0}return _1=r,_1}var W1e=V1e();const z1e=st(W1e);var S1,CF;function H1e(){if(CF)return S1;CF=1;var t=Uy(),e=oo(),n=b8();function r(i,o){return i&&i.length?t(i,e(o,2),n):void 0}return S1=r,S1}var G1e=H1e();const K1e=st(G1e);var Y1e=["cx","cy","angle","ticks","axisLine"],X1e=["ticks","tick","angle","tickFormatter","stroke"];function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function Rf(){return Rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rf.apply(this,arguments)}function AF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ta(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AF(Object(n),!0).forEach(function(r){Gy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OF(t,e){if(t==null)return{};var n=Q1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Q1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function J1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oH(r.key),r)}}function Z1e(t,e,n){return e&&kF(t.prototype,e),n&&kF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ePe(t,e,n){return e=kv(e),tPe(t,iH()?Reflect.construct(e,n||[],kv(t).constructor):e.apply(t,n))}function tPe(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nPe(t)}function nPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iH=function(){return!!t})()}function kv(t){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kv(t)}function rPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kE(t,e)}function kE(t,e){return kE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kE(t,e)}function Gy(t,e,n){return e=oH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oH(t){var e=iPe(t,"string");return Su(e)=="symbol"?e:e+""}function iPe(t,e){if(Su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ky=(function(t){function e(){return J1e(this,e),ePe(this,e,arguments)}return rPe(e,t),Z1e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,s=o.angle,a=o.cx,c=o.cy;return jt(a,c,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,c=z1e(a,function(f){return f.coordinate||0}),u=K1e(a,function(f){return f.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,c=r.axisLine,u=OF(r,Y1e),f=a.reduce(function(x,b){return[Math.min(x[0],b.coordinate),Math.max(x[1],b.coordinate)]},[1/0,-1/0]),h=jt(i,o,f[0],s),p=jt(i,o,f[1],s),v=Ta(Ta(Ta({},Me(u,!1)),{},{fill:"none"},Me(c,!1)),{},{x1:h.x,y1:h.y,x2:p.x,y2:p.y});return W.createElement("line",Rf({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.angle,c=i.tickFormatter,u=i.stroke,f=OF(i,X1e),h=this.getTickTextAnchor(),p=Me(f,!1),v=Me(s,!1),x=o.map(function(b,y){var _=r.getTickValueCoord(b),T=Ta(Ta(Ta(Ta({textAnchor:h,transform:"rotate(".concat(90-a,", ").concat(_.x,", ").concat(_.y,")")},p),{},{stroke:"none",fill:u},v),{},{index:y},_),{},{payload:b});return W.createElement(rt,Rf({className:He("recharts-polar-radius-axis-tick",G8(s)),key:"tick-".concat(b.coordinate)},bl(r.props,b,y)),e.renderTickItem(s,T,c?c(b.value,y):b.value))});return W.createElement(rt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,s=r.tick;return!i||!i.length?null:W.createElement(rt,{className:He("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),Tn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return W.isValidElement(r)?s=W.cloneElement(r,i):qe(r)?s=r(i):s=W.createElement(wl,Rf({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])})(E.PureComponent);Gy(Ky,"displayName","PolarRadiusAxis");Gy(Ky,"axisType","radiusAxis");Gy(Ky,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function Da(){return Da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Da.apply(this,arguments)}function jF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jF(Object(n),!0).forEach(function(r){Yy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aH(r.key),r)}}function sPe(t,e,n){return e&&RF(t.prototype,e),n&&RF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aPe(t,e,n){return e=jv(e),lPe(t,sH()?Reflect.construct(e,n||[],jv(t).constructor):e.apply(t,n))}function lPe(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cPe(t)}function cPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sH=function(){return!!t})()}function jv(t){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jv(t)}function uPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jE(t,e)}function jE(t,e){return jE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jE(t,e)}function Yy(t,e,n){return e=aH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aH(t){var e=dPe(t,"string");return Pu(e)=="symbol"?e:e+""}function dPe(t,e){if(Pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fPe=Math.PI/180,NF=1e-5,Xy=(function(t){function e(){return oPe(this,e),aPe(this,e,arguments)}return uPe(e,t),sPe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,s=i.cy,a=i.radius,c=i.orientation,u=i.tickSize,f=u||8,h=jt(o,s,a,r.coordinate),p=jt(o,s,a+(c==="inner"?-1:1)*f,r.coordinate);return{x1:h.x,y1:h.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*fPe),s;return o>NF?s=i==="outer"?"start":"end":o<-NF?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.radius,a=r.axisLine,c=r.axisLineType,u=Ea(Ea({},Me(this.props,!1)),{},{fill:"none"},Me(a,!1));if(c==="circle")return W.createElement(Hy,Da({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:s}));var f=this.props.ticks,h=f.map(function(p){return jt(i,o,s,p.coordinate)});return W.createElement(N1e,Da({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.tickLine,c=i.tickFormatter,u=i.stroke,f=Me(this.props,!1),h=Me(s,!1),p=Ea(Ea({},f),{},{fill:"none"},Me(a,!1)),v=o.map(function(x,b){var y=r.getTickLineCoord(x),_=r.getTickTextAnchor(x),T=Ea(Ea(Ea({textAnchor:_},f),{},{stroke:"none",fill:u},h),{},{index:b,payload:x,x:y.x2,y:y.y2});return W.createElement(rt,Da({className:He("recharts-polar-angle-axis-tick",G8(s)),key:"tick-".concat(x.coordinate)},bl(r.props,x,b)),a&&W.createElement("line",Da({className:"recharts-polar-angle-axis-tick-line"},p,y)),s&&e.renderTickItem(s,T,c?c(x.value,b):x.value))});return W.createElement(rt,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!i||!i.length?null:W.createElement(rt,{className:He("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var s;return W.isValidElement(r)?s=W.cloneElement(r,i):qe(r)?s=r(i):s=W.createElement(wl,Da({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])})(E.PureComponent);Yy(Xy,"displayName","PolarAngleAxis");Yy(Xy,"axisType","angleAxis");Yy(Xy,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var P1,IF;function hPe(){if(IF)return P1;IF=1;var t=gz(),e=t(Object.getPrototypeOf,Object);return P1=e,P1}var T1,MF;function pPe(){if(MF)return T1;MF=1;var t=Jo(),e=hPe(),n=Zo(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,c=s.call(Object);function u(f){if(!n(f)||t(f)!=r)return!1;var h=e(f);if(h===null)return!0;var p=a.call(h,"constructor")&&h.constructor;return typeof p=="function"&&p instanceof p&&s.call(p)==c}return T1=u,T1}var mPe=pPe();const gPe=st(mPe);var E1,DF;function vPe(){if(DF)return E1;DF=1;var t=Jo(),e=Zo(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return E1=r,E1}var yPe=vPe();const bPe=st(yPe);function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(this,arguments)}function wPe(t,e){return PPe(t)||SPe(t,e)||_Pe(t,e)||xPe()}function xPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Pe(t,e){if(t){if(typeof t=="string")return $F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $F(t,e)}}function $F(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function PPe(t){if(Array.isArray(t))return t}function LF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LF(Object(n),!0).forEach(function(r){TPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TPe(t,e,n){return e=EPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EPe(t){var e=CPe(t,"string");return bh(e)=="symbol"?e:e+""}function CPe(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BF=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},APe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OPe=function(e){var n=FF(FF({},APe),e),r=E.useRef(),i=E.useState(-1),o=wPe(i,2),s=o[0],a=o[1];E.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&a(S)}catch{}},[]);var c=n.x,u=n.y,f=n.upperWidth,h=n.lowerWidth,p=n.height,v=n.className,x=n.animationEasing,b=n.animationDuration,y=n.animationBegin,_=n.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||h!==+h||p!==+p||f===0&&h===0||p===0)return null;var T=He("recharts-trapezoid",v);return _?W.createElement(no,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:f,lowerWidth:h,height:p,x:c,y:u},duration:b,animationEasing:x,isActive:_},function(S){var A=S.upperWidth,P=S.lowerWidth,O=S.height,k=S.x,R=S.y;return W.createElement(no,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:x},W.createElement("path",Rv({},Me(n,!0),{className:T,d:BF(k,R,A,P,O),ref:r})))}):W.createElement("g",null,W.createElement("path",Rv({},Me(n,!0),{className:T,d:BF(c,u,f,h,p)})))},kPe=["option","shapeType","propTransformer","activeClassName","isActive"];function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function jPe(t,e){if(t==null)return{};var n=RPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UF(Object(n),!0).forEach(function(r){NPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NPe(t,e,n){return e=IPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IPe(t){var e=MPe(t,"string");return wh(e)=="symbol"?e:e+""}function MPe(t,e){if(wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DPe(t,e){return Nv(Nv({},e),t)}function $Pe(t,e){return t==="symbols"}function qF(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return W.createElement(PO,n);case"trapezoid":return W.createElement(OPe,n);case"sector":return W.createElement(X8,n);case"symbols":if($Pe(e))return W.createElement(VA,n);break;default:return null}}function LPe(t){return E.isValidElement(t)?t.props:t}function lH(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?DPe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,c=jPe(t,kPe),u;if(E.isValidElement(e))u=E.cloneElement(e,Nv(Nv({},c),LPe(e)));else if(qe(e))u=e(c);else if(gPe(e)&&!bPe(e)){var f=i(e,c);u=W.createElement(qF,{shapeType:n,elementProps:f})}else{var h=c;u=W.createElement(qF,{shapeType:n,elementProps:h})}return a?W.createElement(rt,{className:s},u):u}function Qy(t,e){return e!=null&&"trapezoids"in t.props}function Jy(t,e){return e!=null&&"sectors"in t.props}function xh(t,e){return e!=null&&"points"in t.props}function FPe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function BPe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function UPe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function qPe(t,e){var n;return Qy(t,e)?n=FPe:Jy(t,e)?n=BPe:xh(t,e)&&(n=UPe),n}function VPe(t,e){var n;return Qy(t,e)?n="trapezoids":Jy(t,e)?n="sectors":xh(t,e)&&(n="points"),n}function WPe(t,e){if(Qy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Jy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return xh(t,e)?e.payload:{}}function zPe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=VPe(n,e),o=WPe(n,e),s=r.filter(function(c,u){var f=wu(o,c),h=n.props[i].filter(function(x){var b=qPe(n,e);return b(x,e)}),p=n.props[i].indexOf(h[h.length-1]),v=u===p;return f&&v}),a=r.indexOf(s[s.length-1]);return a}var gg;function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oc.apply(this,arguments)}function VF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VF(Object(n),!0).forEach(function(r){Xr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uH(r.key),r)}}function GPe(t,e,n){return e&&WF(t.prototype,e),n&&WF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KPe(t,e,n){return e=Iv(e),YPe(t,cH()?Reflect.construct(e,n||[],Iv(t).constructor):e.apply(t,n))}function YPe(t,e){if(e&&(Tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XPe(t)}function XPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cH=function(){return!!t})()}function Iv(t){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iv(t)}function QPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RE(t,e)}function RE(t,e){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RE(t,e)}function Xr(t,e,n){return e=uH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uH(t){var e=JPe(t,"string");return Tu(e)=="symbol"?e:e+""}function JPe(t,e){if(Tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ts=(function(t){function e(n){var r;return HPe(this,e),r=KPe(this,e,[n]),Xr(r,"pieRef",null),Xr(r,"sectorRefs",[]),Xr(r,"id",ed("recharts-pie-")),Xr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),qe(i)&&i()}),Xr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),qe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return QPe(e,t),GPe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,a=o.labelLine,c=o.dataKey,u=o.valueKey,f=Me(this.props,!1),h=Me(s,!1),p=Me(a,!1),v=s&&s.offsetRadius||20,x=r.map(function(b,y){var _=(b.startAngle+b.endAngle)/2,T=jt(b.cx,b.cy,b.outerRadius+v,_),S=At(At(At(At({},f),b),{},{stroke:"none"},h),{},{index:y,textAnchor:e.getTextAnchor(T.x,b.cx)},T),A=At(At(At(At({},f),b),{},{fill:"none",stroke:b.fill},p),{},{index:y,points:[jt(b.cx,b.cy,b.outerRadius,_),T]}),P=c;return Ge(c)&&Ge(u)?P="value":Ge(c)&&(P=u),W.createElement(rt,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(y)},a&&e.renderLabelLineItem(a,A,"line"),e.renderLabelItem(s,S,vn(b,P)))});return W.createElement(rt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,s=o.activeShape,a=o.blendStroke,c=o.inactiveShape;return r.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(f),p=c&&i.hasActiveIndex()?c:null,v=h?s:p,x=At(At({},u),{},{stroke:a?u.fill:u.stroke,tabIndex:-1});return W.createElement(rt,Oc({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},bl(i.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),W.createElement(lH,Oc({option:v,isActive:h,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,s=i.isAnimationActive,a=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state,p=h.prevSectors,v=h.prevIsAnimationActive;return W.createElement(no,{begin:a,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var b=x.t,y=[],_=o&&o[0],T=_.startAngle;return o.forEach(function(S,A){var P=p&&p[A],O=A>0?Ir(S,"paddingAngle",0):0;if(P){var k=gr(P.endAngle-P.startAngle,S.endAngle-S.startAngle),R=At(At({},S),{},{startAngle:T+O,endAngle:T+k(b)+O});y.push(R),T=R.endAngle}else{var I=S.endAngle,D=S.startAngle,M=gr(0,I-D),U=M(b),V=At(At({},S),{},{startAngle:T+O,endAngle:T+U+O});y.push(V),T=V.endAngle}}),W.createElement(rt,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!wu(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,s=i.sectors,a=i.className,c=i.label,u=i.cx,f=i.cy,h=i.innerRadius,p=i.outerRadius,v=i.isAnimationActive,x=this.state.isAnimationFinished;if(o||!s||!s.length||!de(u)||!de(f)||!de(h)||!de(p))return null;var b=He("recharts-pie",a);return W.createElement(rt,{tabIndex:this.props.rootTabIndex,className:b,ref:function(_){r.pieRef=_}},this.renderSectors(),c&&this.renderLabels(s),Tn.renderCallByParent(this.props,null,!1),(!v||x)&&Do.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(W.isValidElement(r))return W.cloneElement(r,i);if(qe(r))return r(i);var s=He("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return W.createElement(qc,Oc({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,o){if(W.isValidElement(r))return W.cloneElement(r,i);var s=o;if(qe(r)&&(s=r(i),W.isValidElement(s)))return s;var a=He("recharts-pie-label-text",typeof r!="boolean"&&!qe(r)?r.className:"");return W.createElement(wl,Oc({},i,{alignmentBaseline:"middle",className:a}),s)}}])})(E.PureComponent);gg=ts;Xr(ts,"displayName","Pie");Xr(ts,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!kl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Xr(ts,"parseDeltaAngle",function(t,e){var n=tr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Xr(ts,"getRealPieData",function(t){var e=t.data,n=t.children,r=Me(t,!1),i=ti(n,Iy);return e&&e.length?e.map(function(o,s){return At(At(At({payload:o},r),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return At(At({},r),o.props)}):[]});Xr(ts,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,s=H8(i,o),a=r+nr(t.cx,i,i/2),c=n+nr(t.cy,o,o/2),u=nr(t.innerRadius,s,0),f=nr(t.outerRadius,s,s*.8),h=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:a,cy:c,innerRadius:u,outerRadius:f,maxRadius:h}});Xr(ts,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?At(At({},e.type.defaultProps),e.props):e.props,i=gg.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,s=r.startAngle,a=r.endAngle,c=r.paddingAngle,u=r.dataKey,f=r.nameKey,h=r.valueKey,p=r.tooltipType,v=Math.abs(r.minAngle),x=gg.parseCoordinateOfPie(r,n),b=gg.parseDeltaAngle(s,a),y=Math.abs(b),_=u;Ge(u)&&Ge(h)?(Ai(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):Ge(u)&&(Ai(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=h);var T=i.filter(function(R){return vn(R,_,0)!==0}).length,S=(y>=360?T:T-1)*c,A=y-T*v-S,P=i.reduce(function(R,I){var D=vn(I,_,0);return R+(de(D)?D:0)},0),O;if(P>0){var k;O=i.map(function(R,I){var D=vn(R,_,0),M=vn(R,f,I),U=(de(D)?D:0)/P,V;I?V=k.endAngle+tr(b)*c*(D!==0?1:0):V=s;var Y=V+tr(b)*((D!==0?v:0)+U*A),Q=(V+Y)/2,K=(x.innerRadius+x.outerRadius)/2,J=[{name:M,value:D,payload:R,dataKey:_,type:p}],B=jt(x.cx,x.cy,K,Q);return k=At(At(At({percent:U,cornerRadius:o,name:M,tooltipPayload:J,midAngle:Q,middleRadius:K,tooltipPosition:B},R),x),{},{value:vn(R,_),startAngle:V,endAngle:Y,payload:R,paddingAngle:tr(b)*c}),k})}return At(At({},x),{},{sectors:O,data:i})});var C1,zF;function ZPe(){if(zF)return C1;zF=1;var t=Math.ceil,e=Math.max;function n(r,i,o,s){for(var a=-1,c=e(t((i-r)/(o||1)),0),u=Array(c);c--;)u[s?c:++a]=r,r+=o;return u}return C1=n,C1}var A1,HF;function dH(){if(HF)return A1;HF=1;var t=Rz(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return A1=r,A1}var O1,GF;function eTe(){if(GF)return O1;GF=1;var t=ZPe(),e=Ny(),n=dH();function r(i){return function(o,s,a){return a&&typeof a!="number"&&e(o,s,a)&&(s=a=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),a=a===void 0?o<s?1:-1:n(a),t(o,s,a,i)}}return O1=r,O1}var k1,KF;function tTe(){if(KF)return k1;KF=1;var t=eTe(),e=t();return k1=e,k1}var nTe=tTe();const Mv=st(nTe);function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function YF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YF(Object(n),!0).forEach(function(r){fH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fH(t,e,n){return e=rTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rTe(t){var e=iTe(t,"string");return _h(e)=="symbol"?e:e+""}function iTe(t,e){if(_h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oTe=["Webkit","Moz","O","ms"],sTe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=oTe.reduce(function(o,s){return XF(XF({},o),{},fH({},s+r,n))},{});return i[e]=n,i};function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dv.apply(this,arguments)}function QF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QF(Object(n),!0).forEach(function(r){Ar(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pH(r.key),r)}}function lTe(t,e,n){return e&&JF(t.prototype,e),n&&JF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cTe(t,e,n){return e=$v(e),uTe(t,hH()?Reflect.construct(e,n||[],$v(t).constructor):e.apply(t,n))}function uTe(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dTe(t)}function dTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hH=function(){return!!t})()}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$v(t)}function fTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NE(t,e)}function NE(t,e){return NE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NE(t,e)}function Ar(t,e,n){return e=pH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pH(t){var e=hTe(t,"string");return Eu(e)=="symbol"?e:e+""}function hTe(t,e){if(Eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pTe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Af().domain(Mv(0,c)).range([o,o+s-a]),f=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},ZF=function(e){return e.changedTouches&&!!e.changedTouches.length},Cu=(function(t){function e(n){var r;return aTe(this,e),r=cTe(this,e,[n]),Ar(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ar(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ar(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Ar(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ar(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ar(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ar(r,"handleSlideDragStart",function(i){var o=ZF(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return fTe(e,t),lTe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,c=a.gap,u=a.data,f=u.length-1,h=Math.min(i,o),p=Math.max(i,o),v=e.getIndexInRange(s,h),x=e.getIndexInRange(s,p);return{startIndex:v-v%c,endIndex:x===f?f:x-x%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,c=vn(o[r],a,r);return qe(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,c=this.props,u=c.x,f=c.width,h=c.travellerWidth,p=c.startIndex,v=c.endIndex,x=c.onChange,b=r.pageX-o;b>0?b=Math.min(b,u+f-h-a,u+f-h-s):b<0&&(b=Math.max(b,u-s,u-a));var y=this.getIndex({startX:s+b,endX:a+b});(y.startIndex!==p||y.endIndex!==v)&&x&&x(y),this.setState({startX:s+b,endX:a+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=ZF(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,c=i.startX,u=this.state[s],f=this.props,h=f.x,p=f.width,v=f.travellerWidth,x=f.onChange,b=f.gap,y=f.data,_={startX:this.state.startX,endX:this.state.endX},T=r.pageX-o;T>0?T=Math.min(T,h+p-v-u):T<0&&(T=Math.max(T,h-u)),_[s]=u+T;var S=this.getIndex(_),A=S.startIndex,P=S.endIndex,O=function(){var R=y.length-1;return s==="startX"&&(a>c?A%b===0:P%b===0)||a<c&&P===R||s==="endX"&&(a>c?P%b===0:A%b===0)||a>c&&P===R};this.setState(Ar(Ar({},s,u+T),"brushMoveStartX",r.pageX),function(){x&&O()&&x(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,c=s.startX,u=s.endX,f=this.state[i],h=a.indexOf(f);if(h!==-1){var p=h+r;if(!(p===-1||p>=a.length)){var v=a[p];i==="startX"&&v>=u||i==="endX"&&v<=c||this.setState(Ar({},i,v),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,c=r.fill,u=r.stroke;return W.createElement("rect",{stroke:u,fill:c,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,c=r.data,u=r.children,f=r.padding,h=E.Children.only(u);return h?W.cloneElement(h,{x:i,y:o,width:s,height:a,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,c=this.props,u=c.y,f=c.travellerWidth,h=c.height,p=c.traveller,v=c.ariaLabel,x=c.data,b=c.startIndex,y=c.endIndex,_=Math.max(r,this.props.x),T=j1(j1({},Me(this.props,!1)),{},{x:_,y:u,width:f,height:h}),S=v||"Min value: ".concat((o=x[b])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=x[y])===null||s===void 0?void 0:s.name);return W.createElement(rt,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),a.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,T))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,c=o.stroke,u=o.travellerWidth,f=Math.min(r,i)+u,h=Math.max(Math.abs(i-r)-u,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:s,width:h,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,c=r.travellerWidth,u=r.stroke,f=this.state,h=f.startX,p=f.endX,v=5,x={pointerEvents:"none",fill:u};return W.createElement(rt,{className:"recharts-brush-texts"},W.createElement(wl,Dv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-v,y:s+a/2},x),this.getTextOfTick(i)),W.createElement(wl,Dv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+c+v,y:s+a/2},x),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,c=r.y,u=r.width,f=r.height,h=r.alwaysShowText,p=this.state,v=p.startX,x=p.endX,b=p.isTextActive,y=p.isSlideMoving,_=p.isTravellerMoving,T=p.isTravellerFocused;if(!i||!i.length||!de(a)||!de(c)||!de(u)||!de(f)||u<=0||f<=0)return null;var S=He("recharts-brush",o),A=W.Children.count(s)===1,P=sTe("userSelect","none");return W.createElement(rt,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(v,x),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(x,"endX"),(b||y||_||T||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,c=r.stroke,u=Math.floor(o+a/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:i,y:o,width:s,height:a,fill:c,stroke:"none"}),W.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return W.isValidElement(r)?o=W.cloneElement(r,i):qe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,c=r.travellerWidth,u=r.updateId,f=r.startIndex,h=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return j1({prevData:o,prevTravellerWidth:c,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?pTe({data:o,width:s,x:a,travellerWidth:c,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([a,a+s-c]);var p=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var c=Math.floor((s+a)/2);r[c]>i?a=c:s=c}return i>=r[a]?a:s}}])})(E.PureComponent);Ar(Cu,"displayName","Brush");Ar(Cu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var R1,e5;function mTe(){if(e5)return R1;e5=1;var t=XA();function e(n,r){var i;return t(n,function(o,s,a){return i=r(o,s,a),!i}),!!i}return R1=e,R1}var N1,t5;function gTe(){if(t5)return N1;t5=1;var t=cz(),e=oo(),n=mTe(),r=wr(),i=Ny();function o(s,a,c){var u=r(s)?t:n;return c&&i(s,a,c)&&(a=void 0),u(s,e(a,3))}return N1=o,N1}var vTe=gTe();const yTe=st(vTe);var Zi=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},I1,n5;function bTe(){if(n5)return I1;n5=1;var t=Cz();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return I1=e,I1}var M1,r5;function wTe(){if(r5)return M1;r5=1;var t=bTe(),e=Tz(),n=oo();function r(i,o){var s={};return o=n(o,3),e(i,function(a,c,u){t(s,c,o(a,c,u))}),s}return M1=r,M1}var xTe=wTe();const _Te=st(xTe);var D1,i5;function STe(){if(i5)return D1;i5=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return D1=t,D1}var $1,o5;function PTe(){if(o5)return $1;o5=1;var t=XA();function e(n,r){var i=!0;return t(n,function(o,s,a){return i=!!r(o,s,a),i}),i}return $1=e,$1}var L1,s5;function TTe(){if(s5)return L1;s5=1;var t=STe(),e=PTe(),n=oo(),r=wr(),i=Ny();function o(s,a,c){var u=r(s)?t:e;return c&&i(s,a,c)&&(a=void 0),u(s,n(a,3))}return L1=o,L1}var ETe=TTe();const mH=st(ETe);var CTe=["x","y"];function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function IE(){return IE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IE.apply(this,arguments)}function a5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a5(Object(n),!0).forEach(function(r){ATe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ATe(t,e,n){return e=OTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OTe(t){var e=kTe(t,"string");return Sh(e)=="symbol"?e:e+""}function kTe(t,e){if(Sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jTe(t,e){if(t==null)return{};var n=RTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NTe(t,e){var n=t.x,r=t.y,i=jTe(t,CTe),o="".concat(n),s=parseInt(o,10),a="".concat(r),c=parseInt(a,10),u="".concat(e.height||i.height),f=parseInt(u,10),h="".concat(e.width||i.width),p=parseInt(h,10);return cf(cf(cf(cf(cf({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:f,width:p,name:e.name,radius:e.radius})}function l5(t){return W.createElement(lH,IE({shapeType:"rectangle",propTransformer:NTe,activeClassName:"recharts-active-bar"},t))}var ITe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=de(r)||epe(r);return o?e(r,i):(o||_l(),n)}},MTe=["value","background"],gH;function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function DTe(t,e){if(t==null)return{};var n=$Te(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Te(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(this,arguments)}function c5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c5(Object(n),!0).forEach(function(r){Us(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yH(r.key),r)}}function FTe(t,e,n){return e&&u5(t.prototype,e),n&&u5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function BTe(t,e,n){return e=Fv(e),UTe(t,vH()?Reflect.construct(e,n||[],Fv(t).constructor):e.apply(t,n))}function UTe(t,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qTe(t)}function qTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vH=function(){return!!t})()}function Fv(t){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fv(t)}function VTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ME(t,e)}function ME(t,e){return ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ME(t,e)}function Us(t,e,n){return e=yH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yH(t){var e=WTe(t,"string");return Au(e)=="symbol"?e:e+""}function WTe(t,e){if(Au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tp=(function(t){function e(){var n;LTe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=BTe(this,e,[].concat(i)),Us(n,"state",{isAnimationFinished:!1}),Us(n,"id",ed("recharts-bar-")),Us(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Us(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return VTe(e,t),FTe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,c=o.activeIndex,u=o.activeBar,f=Me(this.props,!1);return r&&r.map(function(h,p){var v=p===c,x=v?u:s,b=nn(nn(nn({},f),h),{},{isActive:v,option:x,index:p,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return W.createElement(rt,Lv({className:"recharts-bar-rectangle"},bl(i.props,h,p),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(p)}),W.createElement(l5,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,f=i.animationEasing,h=i.animationId,p=this.state.prevData;return W.createElement(no,{begin:c,duration:u,isActive:a,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var x=v.t,b=o.map(function(y,_){var T=p&&p[_];if(T){var S=gr(T.x,y.x),A=gr(T.y,y.y),P=gr(T.width,y.width),O=gr(T.height,y.height);return nn(nn({},y),{},{x:S(x),y:A(x),width:P(x),height:O(x)})}if(s==="horizontal"){var k=gr(0,y.height),R=k(x);return nn(nn({},y),{},{y:y.y+y.height-R,height:R})}var I=gr(0,y.width),D=I(x);return nn(nn({},y),{},{width:D})});return W.createElement(rt,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!wu(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,c=Me(this.props.background,!1);return o.map(function(u,f){u.value;var h=u.background,p=DTe(u,MTe);if(!h)return null;var v=nn(nn(nn(nn(nn({},p),{},{fill:"#eee"},h),c),bl(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:f,className:"recharts-bar-background-rectangle"});return W.createElement(l5,Lv({key:"background-bar-".concat(f),option:r.props.background,isActive:f===a},v))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,c=o.yAxis,u=o.layout,f=o.children,h=ti(f,zy);if(!h)return null;var p=u==="vertical"?s[0].height/2:s[0].width/2,v=function(y,_){var T=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:T,errorVal:vn(y,_)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return W.createElement(rt,x,h.map(function(b){return W.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:s,xAxis:a,yAxis:c,layout:u,offset:p,dataPointFormatter:v})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,c=r.yAxis,u=r.left,f=r.top,h=r.width,p=r.height,v=r.isAnimationActive,x=r.background,b=r.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,_=He("recharts-bar",s),T=a&&a.allowDataOverflow,S=c&&c.allowDataOverflow,A=T||S,P=Ge(b)?this.id:b;return W.createElement(rt,{className:_},T||S?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(P)},W.createElement("rect",{x:T?u:u-h/2,y:S?f:f-p/2,width:T?h:h*2,height:S?p:p*2}))):null,W.createElement(rt,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(P,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,P),(!v||y)&&Do.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(E.PureComponent);gH=tp;Us(tp,"displayName","Bar");Us(tp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!kl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Us(tp,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,h=t.displayedData,p=t.offset,v=mxe(r,n);if(!v)return null;var x=e.layout,b=n.type.defaultProps,y=b!==void 0?nn(nn({},b),n.props):n.props,_=y.dataKey,T=y.children,S=y.minPointSize,A=x==="horizontal"?s:o,P=u?A.scale.domain():null,O=_xe({numericAxis:A}),k=ti(T,Iy),R=h.map(function(I,D){var M,U,V,Y,Q,K;u?M=gxe(u[f+D],P):(M=vn(I,_),Array.isArray(M)||(M=[O,M]));var J=ITe(S,gH.defaultProps.minPointSize)(M[1],D);if(x==="horizontal"){var B,G=[s.scale(M[0]),s.scale(M[1])],L=G[0],$=G[1];U=L3({axis:o,ticks:a,bandSize:i,offset:v.offset,entry:I,index:D}),V=(B=$??L)!==null&&B!==void 0?B:void 0,Y=v.size;var F=L-$;if(Q=Number.isNaN(F)?0:F,K={x:U,y:s.y,width:Y,height:s.height},Math.abs(J)>0&&Math.abs(Q)<Math.abs(J)){var Z=tr(Q||J)*(Math.abs(J)-Math.abs(Q));V-=Z,Q+=Z}}else{var ae=[o.scale(M[0]),o.scale(M[1])],me=ae[0],Te=ae[1];if(U=me,V=L3({axis:s,ticks:c,bandSize:i,offset:v.offset,entry:I,index:D}),Y=Te-me,Q=v.size,K={x:o.x,y:V,width:o.width,height:Q},Math.abs(J)>0&&Math.abs(Y)<Math.abs(J)){var se=tr(Y||J)*(Math.abs(J)-Math.abs(Y));Y+=se}}return nn(nn(nn({},I),{},{x:U,y:V,width:Y,height:Q,value:u?M:M[1],payload:I,background:K},k&&k[D]&&k[D].props),{},{tooltipPayload:[W8(n,I)],tooltipPosition:{x:U+Y/2,y:V+Q/2}})});return nn({data:R,layout:x},p)});function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function zTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bH(r.key),r)}}function HTe(t,e,n){return e&&d5(t.prototype,e),n&&d5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f5(Object(n),!0).forEach(function(r){Zy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zy(t,e,n){return e=bH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bH(t){var e=GTe(t,"string");return Ph(e)=="symbol"?e:e+""}function GTe(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KTe=function(e,n,r,i,o){var s=e.width,a=e.height,c=e.layout,u=e.children,f=Object.keys(n),h={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},p=!!Or(u,tp);return f.reduce(function(v,x){var b=n[x],y=b.orientation,_=b.domain,T=b.padding,S=T===void 0?{}:T,A=b.mirror,P=b.reversed,O="".concat(y).concat(A?"Mirror":""),k,R,I,D,M;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var U=_[1]-_[0],V=1/0,Y=b.categoricalDomain.sort(rpe);if(Y.forEach(function(ae,me){me>0&&(V=Math.min((ae||0)-(Y[me-1]||0),V))}),Number.isFinite(V)){var Q=V/U,K=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(k=Q*K/2),b.padding==="no-gap"){var J=nr(e.barCategoryGap,Q*K),B=Q*K/2;k=B-J-(B-J)/K*J}}}i==="xAxis"?R=[r.left+(S.left||0)+(k||0),r.left+r.width-(S.right||0)-(k||0)]:i==="yAxis"?R=c==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(k||0),r.top+r.height-(S.bottom||0)-(k||0)]:R=b.range,P&&(R=[R[1],R[0]]);var G=B8(b,o,p),L=G.scale,$=G.realScaleType;L.domain(_).range(R),U8(L);var F=q8(L,Pi(Pi({},b),{},{realScaleType:$}));i==="xAxis"?(M=y==="top"&&!A||y==="bottom"&&A,I=r.left,D=h[O]-M*b.height):i==="yAxis"&&(M=y==="left"&&!A||y==="right"&&A,I=h[O]-M*b.width,D=r.top);var Z=Pi(Pi(Pi({},b),F),{},{realScaleType:$,x:I,y:D,scale:L,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return Z.bandSize=_v(Z,F),!b.hide&&i==="xAxis"?h[O]+=(M?-1:1)*Z.height:b.hide||(h[O]+=(M?-1:1)*Z.width),Pi(Pi({},v),{},Zy({},x,Z))},{})},wH=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},YTe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return wH({x:n,y:r},{x:i,y:o})},xH=(function(){function t(e){zTe(this,t),this.scale=e}return HTe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();Zy(xH,"EPS",1e-4);var TO=function(e){var n=Object.keys(e).reduce(function(r,i){return Pi(Pi({},r),{},Zy({},i,xH.create(e[i])))},{});return Pi(Pi({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return _Te(i,function(c,u){return n[u].apply(c,{bandAware:s,position:a})})},isInRange:function(i){return mH(i,function(o,s){return n[s].isInRange(o)})}})};function XTe(t){return(t%180+180)%180}var QTe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=XTe(i),s=o*Math.PI/180,a=Math.atan(r/n),c=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},F1,h5;function JTe(){if(h5)return F1;h5=1;var t=oo(),e=Xh(),n=jy();function r(i){return function(o,s,a){var c=Object(o);if(!e(o)){var u=t(s,3);o=n(o),s=function(h){return u(c[h],h,c)}}var f=i(o,s,a);return f>-1?c[u?o[f]:f]:void 0}}return F1=r,F1}var B1,p5;function ZTe(){if(p5)return B1;p5=1;var t=dH();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return B1=e,B1}var U1,m5;function eEe(){if(m5)return U1;m5=1;var t=wz(),e=oo(),n=ZTe(),r=Math.max;function i(o,s,a){var c=o==null?0:o.length;if(!c)return-1;var u=a==null?0:n(a);return u<0&&(u=r(c+u,0)),t(o,e(s,3),u)}return U1=i,U1}var q1,g5;function tEe(){if(g5)return q1;g5=1;var t=JTe(),e=eEe(),n=t(e);return q1=n,q1}var nEe=tEe();const rEe=st(nEe);var iEe=DW();const oEe=st(iEe);var sEe=oEe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),EO=E.createContext(void 0),CO=E.createContext(void 0),_H=E.createContext(void 0),SH=E.createContext({}),PH=E.createContext(void 0),TH=E.createContext(0),EH=E.createContext(0),v5=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,c=e.width,u=e.height,f=sEe(o);return W.createElement(EO.Provider,{value:r},W.createElement(CO.Provider,{value:i},W.createElement(SH.Provider,{value:o},W.createElement(_H.Provider,{value:f},W.createElement(PH.Provider,{value:s},W.createElement(TH.Provider,{value:u},W.createElement(EH.Provider,{value:c},a)))))))},aEe=function(){return E.useContext(PH)},CH=function(e){var n=E.useContext(EO);n==null&&_l();var r=n[e];return r==null&&_l(),r},lEe=function(){var e=E.useContext(EO);return ks(e)},cEe=function(){var e=E.useContext(CO),n=rEe(e,function(r){return mH(r.domain,Number.isFinite)});return n||ks(e)},AH=function(e){var n=E.useContext(CO);n==null&&_l();var r=n[e];return r==null&&_l(),r},uEe=function(){var e=E.useContext(_H);return e},dEe=function(){return E.useContext(SH)},AO=function(){return E.useContext(EH)},OO=function(){return E.useContext(TH)};function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function fEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kH(r.key),r)}}function pEe(t,e,n){return e&&hEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mEe(t,e,n){return e=Bv(e),gEe(t,OH()?Reflect.construct(e,n||[],Bv(t).constructor):e.apply(t,n))}function gEe(t,e){if(e&&(Ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vEe(t)}function vEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OH=function(){return!!t})()}function Bv(t){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bv(t)}function yEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DE(t,e)}function DE(t,e){return DE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DE(t,e)}function y5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y5(Object(n),!0).forEach(function(r){kO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kO(t,e,n){return e=kH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kH(t){var e=bEe(t,"string");return Ou(e)=="symbol"?e:e+""}function bEe(t,e){if(Ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wEe(t,e){return PEe(t)||SEe(t,e)||_Ee(t,e)||xEe()}function xEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ee(t,e){if(t){if(typeof t=="string")return w5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w5(t,e)}}function w5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function PEe(t){if(Array.isArray(t))return t}function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$E.apply(this,arguments)}var TEe=function(e,n){var r;return W.isValidElement(e)?r=W.cloneElement(e,n):qe(e)?r=e(n):r=W.createElement("line",$E({},n,{className:"recharts-reference-line-line"})),r},EEe=function(e,n,r,i,o,s,a,c,u){var f=o.x,h=o.y,p=o.width,v=o.height;if(r){var x=u.y,b=e.y.apply(x,{position:s});if(Zi(u,"discard")&&!e.y.isInRange(b))return null;var y=[{x:f+p,y:b},{x:f,y:b}];return c==="left"?y.reverse():y}if(n){var _=u.x,T=e.x.apply(_,{position:s});if(Zi(u,"discard")&&!e.x.isInRange(T))return null;var S=[{x:T,y:h+v},{x:T,y:h}];return a==="top"?S.reverse():S}if(i){var A=u.segment,P=A.map(function(O){return e.apply(O,{position:s})});return Zi(u,"discard")&&yTe(P,function(O){return!e.isInRange(O)})?null:P}return null};function CEe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,c=t.alwaysShow,u=aEe(),f=CH(i),h=AH(o),p=uEe();if(!u||!p)return null;Ai(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=TO({x:f.scale,y:h.scale}),x=yn(e),b=yn(n),y=r&&r.length===2,_=EEe(v,x,b,y,p,t.position,f.orientation,h.orientation,t);if(!_)return null;var T=wEe(_,2),S=T[0],A=S.x,P=S.y,O=T[1],k=O.x,R=O.y,I=Zi(t,"hidden")?"url(#".concat(u,")"):void 0,D=b5(b5({clipPath:I},Me(t,!0)),{},{x1:A,y1:P,x2:k,y2:R});return W.createElement(rt,{className:He("recharts-reference-line",a)},TEe(s,D),Tn.renderCallByParent(t,YTe({x1:A,y1:P,x2:k,y2:R})))}var jO=(function(t){function e(){return fEe(this,e),mEe(this,e,arguments)}return yEe(e,t),pEe(e,[{key:"render",value:function(){return W.createElement(CEe,this.props)}}])})(W.Component);kO(jO,"displayName","ReferenceLine");kO(jO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function LE(){return LE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LE.apply(this,arguments)}function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function x5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x5(Object(n),!0).forEach(function(r){e0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RH(r.key),r)}}function kEe(t,e,n){return e&&OEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jEe(t,e,n){return e=Uv(e),REe(t,jH()?Reflect.construct(e,n||[],Uv(t).constructor):e.apply(t,n))}function REe(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NEe(t)}function NEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jH=function(){return!!t})()}function Uv(t){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uv(t)}function IEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FE(t,e)}function FE(t,e){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FE(t,e)}function e0(t,e,n){return e=RH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RH(t){var e=MEe(t,"string");return ku(e)=="symbol"?e:e+""}function MEe(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DEe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=TO({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Zi(e,"discard")&&!s.isInRange(a)?null:a},t0=(function(t){function e(){return AEe(this,e),jEe(this,e,arguments)}return IEe(e,t),kEe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,c=r.clipPathId,u=yn(i),f=yn(o);if(Ai(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var h=DEe(this.props);if(!h)return null;var p=h.x,v=h.y,x=this.props,b=x.shape,y=x.className,_=Zi(this.props,"hidden")?"url(#".concat(c,")"):void 0,T=_5(_5({clipPath:_},Me(this.props,!0)),{},{cx:p,cy:v});return W.createElement(rt,{className:He("recharts-reference-dot",y)},e.renderDot(b,T),Tn.renderCallByParent(this.props,{x:p-s,y:v-s,width:2*s,height:2*s}))}}])})(W.Component);e0(t0,"displayName","ReferenceDot");e0(t0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});e0(t0,"renderDot",function(t,e){var n;return W.isValidElement(t)?n=W.cloneElement(t,e):qe(t)?n=t(e):n=W.createElement(Hy,LE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function BE(){return BE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BE.apply(this,arguments)}function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function S5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S5(Object(n),!0).forEach(function(r){n0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IH(r.key),r)}}function FEe(t,e,n){return e&&LEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BEe(t,e,n){return e=qv(e),UEe(t,NH()?Reflect.construct(e,n||[],qv(t).constructor):e.apply(t,n))}function UEe(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qEe(t)}function qEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NH=function(){return!!t})()}function qv(t){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(t)}function VEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UE(t,e)}function UE(t,e){return UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UE(t,e)}function n0(t,e,n){return e=IH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IH(t){var e=WEe(t,"string");return ju(e)=="symbol"?e:e+""}function WEe(t,e){if(ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zEe=function(e,n,r,i,o){var s=o.x1,a=o.x2,c=o.y1,u=o.y2,f=o.xAxis,h=o.yAxis;if(!f||!h)return null;var p=TO({x:f.scale,y:h.scale}),v={x:e?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(c,{position:"start"}):p.y.rangeMin},x={x:n?p.x.apply(a,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Zi(o,"discard")&&(!p.isInRange(v)||!p.isInRange(x))?null:wH(v,x)},r0=(function(t){function e(){return $Ee(this,e),BEe(this,e,arguments)}return VEe(e,t),FEe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,c=r.className,u=r.alwaysShow,f=r.clipPathId;Ai(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=yn(i),p=yn(o),v=yn(s),x=yn(a),b=this.props.shape;if(!h&&!p&&!v&&!x&&!b)return null;var y=zEe(h,p,v,x,this.props);if(!y&&!b)return null;var _=Zi(this.props,"hidden")?"url(#".concat(f,")"):void 0;return W.createElement(rt,{className:He("recharts-reference-area",c)},e.renderRect(b,P5(P5({clipPath:_},Me(this.props,!0)),y)),Tn.renderCallByParent(this.props,y))}}])})(W.Component);n0(r0,"displayName","ReferenceArea");n0(r0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});n0(r0,"renderRect",function(t,e){var n;return W.isValidElement(t)?n=W.cloneElement(t,e):qe(t)?n=t(e):n=W.createElement(PO,BE({},e,{className:"recharts-reference-area-rect"})),n});function MH(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function HEe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return QTe(r,n)}function GEe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Vv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function KEe(t,e){return MH(t,e+1)}function YEe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,c=0,u=1,f=s,h=function(){var x=r==null?void 0:r[c];if(x===void 0)return{v:MH(r,u)};var b=c,y,_=function(){return y===void 0&&(y=n(x,b)),y},T=x.coordinate,S=c===0||Vv(t,T,_,f,a);S||(c=0,f=s,u+=1),S&&(f=T+t*(_()/2+i),c+=u)},p;u<=o.length;)if(p=h(),p)return p.v;return[]}function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function T5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T5(Object(n),!0).forEach(function(r){XEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XEe(t,e,n){return e=QEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QEe(t){var e=JEe(t,"string");return Th(e)=="symbol"?e:e+""}function JEe(t,e){if(Th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZEe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,c=e.end,u=function(p){var v=o[p],x,b=function(){return x===void 0&&(x=n(v,p)),x};if(p===s-1){var y=t*(v.coordinate+t*b()/2-c);o[p]=v=qn(qn({},v),{},{tickCoord:y>0?v.coordinate-y*t:v.coordinate})}else o[p]=v=qn(qn({},v),{},{tickCoord:v.coordinate});var _=Vv(t,v.tickCoord,b,a,c);_&&(c=v.tickCoord-t*(b()/2+i),o[p]=qn(qn({},v),{},{isShow:!0}))},f=s-1;f>=0;f--)u(f);return o}function eCe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,c=e.start,u=e.end;if(o){var f=r[a-1],h=n(f,a-1),p=t*(f.coordinate+t*h/2-u);s[a-1]=f=qn(qn({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate});var v=Vv(t,f.tickCoord,function(){return h},c,u);v&&(u=f.tickCoord-t*(h/2+i),s[a-1]=qn(qn({},f),{},{isShow:!0}))}for(var x=o?a-1:a,b=function(T){var S=s[T],A,P=function(){return A===void 0&&(A=n(S,T)),A};if(T===0){var O=t*(S.coordinate-t*P()/2-c);s[T]=S=qn(qn({},S),{},{tickCoord:O<0?S.coordinate-O*t:S.coordinate})}else s[T]=S=qn(qn({},S),{},{tickCoord:S.coordinate});var k=Vv(t,S.tickCoord,P,c,u);k&&(c=S.tickCoord+t*(P()/2+i),s[T]=qn(qn({},S),{},{isShow:!0}))},y=0;y<x;y++)b(y);return s}function RO(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,c=t.interval,u=t.tickFormatter,f=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(de(c)||kl.isSsr)return KEe(i,typeof c=="number"&&de(c)?c:0);var p=[],v=a==="top"||a==="bottom"?"width":"height",x=f&&v==="width"?Cf(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(S,A){var P=qe(u)?u(S.value,A):S.value;return v==="width"?HEe(Cf(P,{fontSize:e,letterSpacing:n}),x,h):Cf(P,{fontSize:e,letterSpacing:n})[v]},y=i.length>=2?tr(i[1].coordinate-i[0].coordinate):1,_=GEe(o,y,v);return c==="equidistantPreserveStart"?YEe(y,_,b,i,s):(c==="preserveStart"||c==="preserveStartEnd"?p=eCe(y,_,b,i,s,c==="preserveStartEnd"):p=ZEe(y,_,b,i,s),p.filter(function(T){return T.isShow}))}var tCe=["viewBox"],nCe=["viewBox"],rCe=["ticks"];function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kc.apply(this,arguments)}function E5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E5(Object(n),!0).forEach(function(r){NO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V1(t,e){if(t==null)return{};var n=iCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$H(r.key),r)}}function sCe(t,e,n){return e&&C5(t.prototype,e),n&&C5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aCe(t,e,n){return e=Wv(e),lCe(t,DH()?Reflect.construct(e,n||[],Wv(t).constructor):e.apply(t,n))}function lCe(t,e){if(e&&(Ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cCe(t)}function cCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DH=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(t)}function uCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qE(t,e)}function qE(t,e){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qE(t,e)}function NO(t,e,n){return e=$H(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $H(t){var e=dCe(t,"string");return Ru(e)=="symbol"?e:e+""}function dCe(t,e){if(Ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var od=(function(t){function e(n){var r;return oCe(this,e),r=aCe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return uCe(e,t),sCe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=V1(r,tCe),a=this.props,c=a.viewBox,u=V1(a,nCe);return!Fc(o,c)||!Fc(s,u)||!Fc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,c=i.height,u=i.orientation,f=i.tickSize,h=i.mirror,p=i.tickMargin,v,x,b,y,_,T,S=h?-1:1,A=r.tickSize||f,P=de(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":v=x=r.coordinate,y=s+ +!h*c,b=y-S*A,T=b-S*p,_=P;break;case"left":b=y=r.coordinate,x=o+ +!h*a,v=x-S*A,_=v-S*p,T=P;break;case"right":b=y=r.coordinate,x=o+ +h*a,v=x+S*A,_=v+S*p,T=P;break;default:v=x=r.coordinate,y=s+ +h*c,b=y+S*A,T=b+S*p,_=P;break}return{line:{x1:v,y1:b,x2:x,y2:y},tick:{x:_,y:T}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,c=r.orientation,u=r.mirror,f=r.axisLine,h=dn(dn(dn({},Me(this.props,!1)),Me(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);h=dn(dn({},h),{},{x1:i,y1:o+p*a,x2:i+s,y2:o+p*a})}else{var v=+(c==="left"&&!u||c==="right"&&u);h=dn(dn({},h),{},{x1:i+v*s,y1:o,x2:i+v*s,y2:o+a})}return W.createElement("line",kc({},h,{className:He("recharts-cartesian-axis-line",Ir(f,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,c=a.tickLine,u=a.stroke,f=a.tick,h=a.tickFormatter,p=a.unit,v=RO(dn(dn({},this.props),{},{ticks:r}),i,o),x=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=Me(this.props,!1),_=Me(f,!1),T=dn(dn({},y),{},{fill:"none"},Me(c,!1)),S=v.map(function(A,P){var O=s.getTickLineCoord(A),k=O.line,R=O.tick,I=dn(dn(dn(dn({textAnchor:x,verticalAnchor:b},y),{},{stroke:"none",fill:u},_),R),{},{index:P,payload:A,visibleTicksCount:v.length,tickFormatter:h});return W.createElement(rt,kc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},bl(s.props,A,P)),c&&W.createElement("line",kc({},T,k,{className:He("recharts-cartesian-axis-tick-line",Ir(c,"className"))})),f&&e.renderTickItem(f,I,"".concat(qe(h)?h(A.value,P):A.value).concat(p||"")))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,c=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var h=this.props,p=h.ticks,v=V1(h,rCe),x=p;return qe(c)&&(x=p&&p.length>0?c(this.props):c(v)),s<=0||a<=0||!x||!x.length?null:W.createElement(rt,{className:He("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Tn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=He(i.className,"recharts-cartesian-axis-tick-value");return W.isValidElement(r)?s=W.cloneElement(r,dn(dn({},i),{},{className:a})):qe(r)?s=r(dn(dn({},i),{},{className:a})):s=W.createElement(wl,kc({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])})(E.Component);NO(od,"displayName","CartesianAxis");NO(od,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var fCe=["x1","y1","x2","y2","key"],hCe=["offset"];function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function A5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A5(Object(n),!0).forEach(function(r){pCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pCe(t,e,n){return e=mCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mCe(t){var e=gCe(t,"string");return Sl(e)=="symbol"?e:e+""}function gCe(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function za(){return za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},za.apply(this,arguments)}function O5(t,e){if(t==null)return{};var n=vCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yCe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,c=e.ry;return W.createElement("rect",{x:i,y:o,ry:c,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function LH(t,e){var n;if(W.isValidElement(t))n=W.cloneElement(t,e);else if(qe(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,c=O5(e,fCe),u=Me(c,!1);u.offset;var f=O5(u,hCe);n=W.createElement("line",za({},f,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function bCe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,c){var u=zn(zn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(c),index:c});return LH(i,u)});return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function wCe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,c){var u=zn(zn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(c),index:c});return LH(i,u)});return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function xCe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var f=a.map(function(p){return Math.round(p+i-i)}).sort(function(p,v){return p-v});i!==f[0]&&f.unshift(0);var h=f.map(function(p,v){var x=!f[v+1],b=x?i+s-p:f[v+1]-p;if(b<=0)return null;var y=v%e.length;return W.createElement("rect",{key:"react-".concat(v),y:p,x:r,height:b,width:o,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function _Ce(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var f=u.map(function(p){return Math.round(p+o-o)}).sort(function(p,v){return p-v});o!==f[0]&&f.unshift(0);var h=f.map(function(p,v){var x=!f[v+1],b=x?o+a-p:f[v+1]-p;if(b<=0)return null;var y=v%r.length;return W.createElement("rect",{key:"react-".concat(v),x:p,y:s,width:b,height:c,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var SCe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return F8(RO(zn(zn(zn({},od.defaultProps),r),{},{ticks:jo(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},PCe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return F8(RO(zn(zn(zn({},od.defaultProps),r),{},{ticks:jo(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},yc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function FH(t){var e,n,r,i,o,s,a=AO(),c=OO(),u=dEe(),f=zn(zn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:yc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:yc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:yc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:yc.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:yc.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:yc.verticalFill,x:de(t.x)?t.x:u.left,y:de(t.y)?t.y:u.top,width:de(t.width)?t.width:u.width,height:de(t.height)?t.height:u.height}),h=f.x,p=f.y,v=f.width,x=f.height,b=f.syncWithTicks,y=f.horizontalValues,_=f.verticalValues,T=lEe(),S=cEe();if(!de(v)||v<=0||!de(x)||x<=0||!de(h)||h!==+h||!de(p)||p!==+p)return null;var A=f.verticalCoordinatesGenerator||SCe,P=f.horizontalCoordinatesGenerator||PCe,O=f.horizontalPoints,k=f.verticalPoints;if((!O||!O.length)&&qe(P)){var R=y&&y.length,I=P({yAxis:S?zn(zn({},S),{},{ticks:R?y:S.ticks}):void 0,width:a,height:c,offset:u},R?!0:b);Ai(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Sl(I),"]")),Array.isArray(I)&&(O=I)}if((!k||!k.length)&&qe(A)){var D=_&&_.length,M=A({xAxis:T?zn(zn({},T),{},{ticks:D?_:T.ticks}):void 0,width:a,height:c,offset:u},D?!0:b);Ai(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Sl(M),"]")),Array.isArray(M)&&(k=M)}return W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(yCe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),W.createElement(bCe,za({},f,{offset:u,horizontalPoints:O,xAxis:T,yAxis:S})),W.createElement(wCe,za({},f,{offset:u,verticalPoints:k,xAxis:T,yAxis:S})),W.createElement(xCe,za({},f,{horizontalPoints:O})),W.createElement(_Ce,za({},f,{verticalPoints:k})))}FH.displayName="CartesianGrid";var TCe=["layout","type","stroke","connectNulls","isRange","ref"],ECe=["key"],BH;function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function UH(t,e){if(t==null)return{};var n=CCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ha(){return Ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ha.apply(this,arguments)}function k5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Es(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k5(Object(n),!0).forEach(function(r){Gi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ACe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VH(r.key),r)}}function OCe(t,e,n){return e&&j5(t.prototype,e),n&&j5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kCe(t,e,n){return e=zv(e),jCe(t,qH()?Reflect.construct(e,n||[],zv(t).constructor):e.apply(t,n))}function jCe(t,e){if(e&&(Nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RCe(t)}function RCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qH=function(){return!!t})()}function zv(t){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zv(t)}function NCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VE(t,e)}function VE(t,e){return VE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VE(t,e)}function Gi(t,e,n){return e=VH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VH(t){var e=ICe(t,"string");return Nu(e)=="symbol"?e:e+""}function ICe(t,e){if(Nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ko=(function(t){function e(){var n;ACe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=kCe(this,e,[].concat(i)),Gi(n,"state",{isAnimationFinished:!0}),Gi(n,"id",ed("recharts-area-")),Gi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),qe(s)&&s()}),Gi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),qe(s)&&s()}),n}return NCe(e,t),OCe(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var c=this.props,u=c.dot,f=c.points,h=c.dataKey,p=Me(this.props,!1),v=Me(u,!0),x=f.map(function(y,_){var T=Es(Es(Es({key:"dot-".concat(_),r:3},p),v),{},{index:_,cx:y.x,cy:y.y,dataKey:h,value:y.value,payload:y.payload,points:f});return e.renderDotItem(u,T)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return W.createElement(rt,Ha({className:"recharts-area-dots"},b),x)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,c=s[0].x,u=s[s.length-1].x,f=r*Math.abs(c-u),h=Bs(s.map(function(p){return p.y||0}));return de(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(Bs(o.map(function(p){return p.y||0})),h)),de(h)?W.createElement("rect",{x:c<u?c:c-f,y:0,width:f,height:Math.floor(h+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,c=s[0].y,u=s[s.length-1].y,f=r*Math.abs(c-u),h=Bs(s.map(function(p){return p.x||0}));return de(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(Bs(o.map(function(p){return p.x||0})),h)),de(h)?W.createElement("rect",{x:0,y:c<u?c:c-f,width:h+(a?parseInt("".concat(a),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var a=this.props,c=a.layout,u=a.type,f=a.stroke,h=a.connectNulls,p=a.isRange;a.ref;var v=UH(a,TCe);return W.createElement(rt,{clipPath:o?"url(#clipPath-".concat(s,")"):null},W.createElement(qc,Ha({},Me(v,!0),{points:r,connectNulls:h,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&W.createElement(qc,Ha({},Me(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:r})),f!=="none"&&p&&W.createElement(qc,Ha({},Me(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,c=s.baseLine,u=s.isAnimationActive,f=s.animationBegin,h=s.animationDuration,p=s.animationEasing,v=s.animationId,x=this.state,b=x.prevPoints,y=x.prevBaseLine;return W.createElement(no,{begin:f,duration:h,isActive:u,easing:p,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var T=_.t;if(b){var S=b.length/a.length,A=a.map(function(R,I){var D=Math.floor(I*S);if(b[D]){var M=b[D],U=gr(M.x,R.x),V=gr(M.y,R.y);return Es(Es({},R),{},{x:U(T),y:V(T)})}return R}),P;if(de(c)&&typeof c=="number"){var O=gr(y,c);P=O(T)}else if(Ge(c)||Zu(c)){var k=gr(y,0);P=k(T)}else P=c.map(function(R,I){var D=Math.floor(I*S);if(y[D]){var M=y[D],U=gr(M.x,R.x),V=gr(M.y,R.y);return Es(Es({},R),{},{x:U(T),y:V(T)})}return R});return o.renderAreaStatically(A,P,r,i)}return W.createElement(rt,null,W.createElement("defs",null,W.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(T))),W.createElement(rt,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,c,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,a=o.baseLine,c=o.isAnimationActive,u=this.state,f=u.prevPoints,h=u.prevBaseLine,p=u.totalLength;return c&&s&&s.length&&(!f&&p>0||!wu(f,s)||!wu(h,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,c=i.className,u=i.top,f=i.left,h=i.xAxis,p=i.yAxis,v=i.width,x=i.height,b=i.isAnimationActive,y=i.id;if(o||!a||!a.length)return null;var _=this.state.isAnimationFinished,T=a.length===1,S=He("recharts-area",c),A=h&&h.allowDataOverflow,P=p&&p.allowDataOverflow,O=A||P,k=Ge(y)?this.id:y,R=(r=Me(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=R.r,D=I===void 0?3:I,M=R.strokeWidth,U=M===void 0?2:M,V=fpe(s)?s:{},Y=V.clipDot,Q=Y===void 0?!0:Y,K=D*2+U;return W.createElement(rt,{className:S},A||P?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(k)},W.createElement("rect",{x:A?f:f-v/2,y:P?u:u-x/2,width:A?v:v*2,height:P?x:x*2})),!Q&&W.createElement("clipPath",{id:"clipPath-dots-".concat(k)},W.createElement("rect",{x:f-K/2,y:u-K/2,width:v+K,height:x+K}))):null,T?null:this.renderArea(O,k),(s||T)&&this.renderDots(O,Q,k),(!b||_)&&Do.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(E.PureComponent);BH=Ko;Gi(Ko,"displayName","Area");Gi(Ko,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!kl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Gi(Ko,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(de(a)&&typeof a=="number")return a;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var f=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return a==="dataMin"?h:a==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});Gi(Ko,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,c=t.dataKey,u=t.stackedData,f=t.dataStartIndex,h=t.displayedData,p=t.offset,v=e.layout,x=u&&u.length,b=BH.getBaseValue(e,n,r,i),y=v==="horizontal",_=!1,T=h.map(function(A,P){var O;x?O=u[f+P]:(O=vn(A,c),Array.isArray(O)?_=!0:O=[b,O]);var k=O[1]==null||x&&vn(A,c)==null;return y?{x:$3({axis:r,ticks:o,bandSize:a,entry:A,index:P}),y:k?null:i.scale(O[1]),value:O,payload:A}:{x:k?null:r.scale(O[1]),y:$3({axis:i,ticks:s,bandSize:a,entry:A,index:P}),value:O,payload:A}}),S;return x||_?S=T.map(function(A){var P=Array.isArray(A.value)?A.value[0]:null;return y?{x:A.x,y:P!=null&&A.y!=null?i.scale(P):null}:{x:P!=null?r.scale(P):null,y:A.y}}):S=y?i.scale(b):r.scale(b),Es({points:T,baseLine:S,layout:v,isRange:_},p)});Gi(Ko,"renderDotItem",function(t,e){var n;if(W.isValidElement(t))n=W.cloneElement(t,e);else if(qe(t))n=t(e);else{var r=He("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=UH(e,ECe);n=W.createElement(Hy,Ha({},o,{key:i,className:r}))}return n});function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function MCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HH(r.key),r)}}function $Ce(t,e,n){return e&&DCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LCe(t,e,n){return e=Hv(e),FCe(t,WH()?Reflect.construct(e,n||[],Hv(t).constructor):e.apply(t,n))}function FCe(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BCe(t)}function BCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WH=function(){return!!t})()}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hv(t)}function UCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WE(t,e)}function WE(t,e){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WE(t,e)}function zH(t,e,n){return e=HH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HH(t){var e=qCe(t,"string");return Iu(e)=="symbol"?e:e+""}function qCe(t,e){if(Iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zE(){return zE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zE.apply(this,arguments)}function VCe(t){var e=t.xAxisId,n=AO(),r=OO(),i=CH(e);return i==null?null:E.createElement(od,zE({},i,{className:He("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return jo(s,!0)}}))}var i0=(function(t){function e(){return MCe(this,e),LCe(this,e,arguments)}return UCe(e,t),$Ce(e,[{key:"render",value:function(){return E.createElement(VCe,this.props)}}])})(E.Component);zH(i0,"displayName","XAxis");zH(i0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function WCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YH(r.key),r)}}function HCe(t,e,n){return e&&zCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GCe(t,e,n){return e=Gv(e),KCe(t,GH()?Reflect.construct(e,n||[],Gv(t).constructor):e.apply(t,n))}function KCe(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YCe(t)}function YCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GH=function(){return!!t})()}function Gv(t){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gv(t)}function XCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HE(t,e)}function HE(t,e){return HE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HE(t,e)}function KH(t,e,n){return e=YH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YH(t){var e=QCe(t,"string");return Mu(e)=="symbol"?e:e+""}function QCe(t,e){if(Mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(this,arguments)}var JCe=function(e){var n=e.yAxisId,r=AO(),i=OO(),o=AH(n);return o==null?null:E.createElement(od,GE({},o,{className:He("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return jo(a,!0)}}))},o0=(function(t){function e(){return WCe(this,e),GCe(this,e,arguments)}return XCe(e,t),HCe(e,[{key:"render",value:function(){return E.createElement(JCe,this.props)}}])})(E.Component);KH(o0,"displayName","YAxis");KH(o0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function R5(t){return nAe(t)||tAe(t)||eAe(t)||ZCe()}function ZCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eAe(t,e){if(t){if(typeof t=="string")return KE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KE(t,e)}}function tAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nAe(t){if(Array.isArray(t))return KE(t)}function KE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var YE=function(e,n,r,i,o){var s=ti(e,jO),a=ti(e,t0),c=[].concat(R5(s),R5(a)),u=ti(e,r0),f="".concat(i,"Id"),h=i[0],p=n;if(c.length&&(p=c.reduce(function(b,y){if(y.props[f]===r&&Zi(y.props,"extendDomain")&&de(y.props[h])){var _=y.props[h];return[Math.min(b[0],_),Math.max(b[1],_)]}return b},p)),u.length){var v="".concat(h,"1"),x="".concat(h,"2");p=u.reduce(function(b,y){if(y.props[f]===r&&Zi(y.props,"extendDomain")&&de(y.props[v])&&de(y.props[x])){var _=y.props[v],T=y.props[x];return[Math.min(b[0],_,T),Math.max(b[1],_,T)]}return b},p)}return o&&o.length&&(p=o.reduce(function(b,y){return de(y)?[Math.min(b[0],y),Math.max(b[1],y)]:b},p)),p},W1={exports:{}},N5;function rAe(){return N5||(N5=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function o(c,u,f,h,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,h||c,p),x=n?n+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],v]:c._events[x].push(v):(c._events[x]=v,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)e.call(f,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,v=h.length,x=new Array(v);p<v;p++)x[p]=h[p].fn;return x},a.prototype.listenerCount=function(u){var f=n?n+u:u,h=this._events[f];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,f,h,p,v,x){var b=n?n+u:u;if(!this._events[b])return!1;var y=this._events[b],_=arguments.length,T,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),_){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,h),!0;case 4:return y.fn.call(y.context,f,h,p),!0;case 5:return y.fn.call(y.context,f,h,p,v),!0;case 6:return y.fn.call(y.context,f,h,p,v,x),!0}for(S=1,T=new Array(_-1);S<_;S++)T[S-1]=arguments[S];y.fn.apply(y.context,T)}else{var A=y.length,P;for(S=0;S<A;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),_){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,f);break;case 3:y[S].fn.call(y[S].context,f,h);break;case 4:y[S].fn.call(y[S].context,f,h,p);break;default:if(!T)for(P=1,T=new Array(_-1);P<_;P++)T[P-1]=arguments[P];y[S].fn.apply(y[S].context,T)}}return!0},a.prototype.on=function(u,f,h){return o(this,u,f,h,!1)},a.prototype.once=function(u,f,h){return o(this,u,f,h,!0)},a.prototype.removeListener=function(u,f,h,p){var v=n?n+u:u;if(!this._events[v])return this;if(!f)return s(this,v),this;var x=this._events[v];if(x.fn)x.fn===f&&(!p||x.once)&&(!h||x.context===h)&&s(this,v);else{for(var b=0,y=[],_=x.length;b<_;b++)(x[b].fn!==f||p&&!x[b].once||h&&x[b].context!==h)&&y.push(x[b]);y.length?this._events[v]=y.length===1?y[0]:y:s(this,v)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(W1)),W1.exports}var iAe=rAe();const oAe=st(iAe);var z1=new oAe,H1="recharts.syncMouseEvents";function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function sAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XH(r.key),r)}}function lAe(t,e,n){return e&&aAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function G1(t,e,n){return e=XH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XH(t){var e=cAe(t,"string");return Eh(e)=="symbol"?e:e+""}function cAe(t,e){if(Eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uAe=(function(){function t(){sAe(this,t),G1(this,"activeIndex",0),G1(this,"coordinateList",[]),G1(this,"layout","horizontal")}return lAe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,c=n.layout,u=c===void 0?null:c,f=n.offset,h=f===void 0?null:f,p=n.mouseHandlerCallback,v=p===void 0?null:p;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=o+c+u,p=s+this.offset.top+a/2+f;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])})();function dAe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&de(r)&&de(i))return!0}return!1}function fAe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function QH(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=jt(e,n,r,i),a=jt(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function hAe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,c=e.cy,u=e.innerRadius,f=e.outerRadius,h=e.angle,p=jt(a,c,u,h),v=jt(a,c,f,h);r=p.x,i=p.y,o=v.x,s=v.y}else return QH(e);return[{x:r,y:i},{x:o,y:s}]}function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function I5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I5(Object(n),!0).forEach(function(r){pAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pAe(t,e,n){return e=mAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mAe(t){var e=gAe(t,"string");return Ch(e)=="symbol"?e:e+""}function gAe(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vAe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,c=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,h=t.layout,p=t.chartName,v=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!v||!o||!s||p!=="ScatterChart"&&i!=="axis")return null;var x,b=qc;if(p==="ScatterChart")x=s,b=q1e;else if(p==="BarChart")x=fAe(h,s,c,f),b=PO;else if(h==="radial"){var y=QH(s),_=y.cx,T=y.cy,S=y.radius,A=y.startAngle,P=y.endAngle;x={cx:_,cy:T,startAngle:A,endAngle:P,innerRadius:S,outerRadius:S},b=X8}else x={points:hAe(h,s,c)},b=qc;var O=Xm(Xm(Xm(Xm({stroke:"#ccc",pointerEvents:"none"},c),x),Me(v,!1)),{},{payload:a,payloadIndex:u,className:He("recharts-tooltip-cursor",v.className)});return E.isValidElement(v)?E.cloneElement(v,O):E.createElement(b,O)}var yAe=["item"],bAe=["children","className","width","height","style","compact","title","desc"];function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(this,arguments)}function M5(t,e){return _Ae(t)||xAe(t,e)||ZH(t,e)||wAe()}function wAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function _Ae(t){if(Array.isArray(t))return t}function D5(t,e){if(t==null)return{};var n=SAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e9(r.key),r)}}function EAe(t,e,n){return e&&TAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CAe(t,e,n){return e=Kv(e),AAe(t,JH()?Reflect.construct(e,n||[],Kv(t).constructor):e.apply(t,n))}function AAe(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OAe(t)}function OAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JH=function(){return!!t})()}function Kv(t){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kv(t)}function kAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XE(t,e)}function XE(t,e){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XE(t,e)}function $u(t){return NAe(t)||RAe(t)||ZH(t)||jAe()}function jAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZH(t,e){if(t){if(typeof t=="string")return QE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QE(t,e)}}function RAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NAe(t){if(Array.isArray(t))return QE(t)}function QE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$5(Object(n),!0).forEach(function(r){Be(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Be(t,e,n){return e=e9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e9(t){var e=IAe(t,"string");return Du(e)=="symbol"?e:e+""}function IAe(t,e){if(Du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MAe={xAxis:["bottom","top"],yAxis:["left","right"]},DAe={width:"100%",height:"100%"},t9={x:0,y:0};function Qm(t){return t}var $Ae=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},LAe=function(e,n,r,i){var o=n.find(function(f){return f&&f.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return ie(ie(ie({},i),jt(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var c=o.coordinate,u=i.angle;return ie(ie(ie({},i),jt(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return t9},s0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,c){var u=c.props.data;return u&&u.length?[].concat($u(a),$u(u)):a},[]);return s.length>0?s:e&&e.length&&de(i)&&de(o)?e.slice(i,o+1):[]};function n9(t){return t==="number"?[0,"auto"]:void 0}var JE=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=s0(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(c,u){var f,h=(f=u.props.data)!==null&&f!==void 0?f:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var v=h===void 0?a:h;p=Qg(v,s.dataKey,i)}else p=h&&h[r]||a[r];return p?[].concat($u(c),[W8(u,p)]):c},[])},L5=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=$Ae(o,r),a=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,f=cxe(s,a,u,c);if(f>=0&&u){var h=u[f]&&u[f].value,p=JE(e,n,f,h),v=LAe(r,a,f,o);return{activeTooltipIndex:f,activeLabel:h,activePayload:p,activeCoordinate:v}}return null},FAe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,h=e.children,p=e.stackOffset,v=L8(f,o);return r.reduce(function(x,b){var y,_=b.type.defaultProps!==void 0?ie(ie({},b.type.defaultProps),b.props):b.props,T=_.type,S=_.dataKey,A=_.allowDataOverflow,P=_.allowDuplicatedCategory,O=_.scale,k=_.ticks,R=_.includeHidden,I=_[s];if(x[I])return x;var D=s0(e.data,{graphicalItems:i.filter(function(F){var Z,ae=s in F.props?F.props[s]:(Z=F.type.defaultProps)===null||Z===void 0?void 0:Z[s];return ae===I}),dataStartIndex:c,dataEndIndex:u}),M=D.length,U,V,Y;dAe(_.domain,A,T)&&(U=hE(_.domain,null,A),v&&(T==="number"||O!=="auto")&&(Y=Of(D,S,"category")));var Q=n9(T);if(!U||U.length===0){var K,J=(K=_.domain)!==null&&K!==void 0?K:Q;if(S){if(U=Of(D,S,T),T==="category"&&v){var B=npe(U);P&&B?(V=U,U=Mv(0,M)):P||(U=U3(J,U,b).reduce(function(F,Z){return F.indexOf(Z)>=0?F:[].concat($u(F),[Z])},[]))}else if(T==="category")P?U=U.filter(function(F){return F!==""&&!Ge(F)}):U=U3(J,U,b).reduce(function(F,Z){return F.indexOf(Z)>=0||Z===""||Ge(Z)?F:[].concat($u(F),[Z])},[]);else if(T==="number"){var G=pxe(D,i.filter(function(F){var Z,ae,me=s in F.props?F.props[s]:(Z=F.type.defaultProps)===null||Z===void 0?void 0:Z[s],Te="hide"in F.props?F.props.hide:(ae=F.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return me===I&&(R||!Te)}),S,o,f);G&&(U=G)}v&&(T==="number"||O!=="auto")&&(Y=Of(D,S,"category"))}else v?U=Mv(0,M):a&&a[I]&&a[I].hasStack&&T==="number"?U=p==="expand"?[0,1]:V8(a[I].stackGroups,c,u):U=$8(D,i.filter(function(F){var Z=s in F.props?F.props[s]:F.type.defaultProps[s],ae="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return Z===I&&(R||!ae)}),T,f,!0);if(T==="number")U=YE(h,U,I,o,k),J&&(U=hE(J,U,A));else if(T==="category"&&J){var L=J,$=U.every(function(F){return L.indexOf(F)>=0});$&&(U=L)}}return ie(ie({},x),{},Be({},I,ie(ie({},_),{},{axisType:o,domain:U,categoricalDomain:Y,duplicateDomain:V,originalDomain:(y=_.domain)!==null&&y!==void 0?y:Q,isCategorical:v,layout:f})))},{})},BAe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,h=e.children,p=s0(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),v=p.length,x=L8(f,o),b=-1;return r.reduce(function(y,_){var T=_.type.defaultProps!==void 0?ie(ie({},_.type.defaultProps),_.props):_.props,S=T[s],A=n9("number");if(!y[S]){b++;var P;return x?P=Mv(0,v):a&&a[S]&&a[S].hasStack?(P=V8(a[S].stackGroups,c,u),P=YE(h,P,S,o)):(P=hE(A,$8(p,r.filter(function(O){var k,R,I=s in O.props?O.props[s]:(k=O.type.defaultProps)===null||k===void 0?void 0:k[s],D="hide"in O.props?O.props.hide:(R=O.type.defaultProps)===null||R===void 0?void 0:R.hide;return I===S&&!D}),"number",f),i.defaultProps.allowDataOverflow),P=YE(h,P,S,o)),ie(ie({},y),{},Be({},S,ie(ie({axisType:o},i.defaultProps),{},{hide:!0,orientation:Ir(MAe,"".concat(o,".").concat(b%2),null),domain:P,originalDomain:A,isCategorical:x,layout:f})))}return y},{})},UAe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=e.children,h="".concat(i,"Id"),p=ti(f,o),v={};return p&&p.length?v=FAe(e,{axes:p,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:a,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(v=BAe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:a,dataStartIndex:c,dataEndIndex:u})),v},qAe=function(e){var n=ks(e),r=jo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:QA(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:_v(n,r)}},F5=function(e){var n=e.children,r=e.defaultShowTooltip,i=Or(n,Cu),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},VAe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Io(n&&n.type);return r&&r.indexOf("Bar")>=0})},B5=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},WAe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,c=a===void 0?{}:a,u=r.width,f=r.height,h=r.children,p=r.margin||{},v=Or(h,Cu),x=Or(h,al),b=Object.keys(c).reduce(function(P,O){var k=c[O],R=k.orientation;return!k.mirror&&!k.hide?ie(ie({},P),{},Be({},R,P[R]+k.width)):P},{left:p.left||0,right:p.right||0}),y=Object.keys(s).reduce(function(P,O){var k=s[O],R=k.orientation;return!k.mirror&&!k.hide?ie(ie({},P),{},Be({},R,Ir(P,"".concat(R))+k.height)):P},{top:p.top||0,bottom:p.bottom||0}),_=ie(ie({},y),b),T=_.bottom;v&&(_.bottom+=v.props.height||Cu.defaultProps.height),x&&n&&(_=fxe(_,i,r,n));var S=u-_.left-_.right,A=f-_.top-_.bottom;return ie(ie({brushBottom:T},_),{},{width:Math.max(S,0),height:Math.max(A,0)})},zAe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},r9=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,p=function(_,T){var S=T.graphicalItems,A=T.stackGroups,P=T.offset,O=T.updateId,k=T.dataStartIndex,R=T.dataEndIndex,I=_.barSize,D=_.layout,M=_.barGap,U=_.barCategoryGap,V=_.maxBarSize,Y=B5(D),Q=Y.numericAxisName,K=Y.cateAxisName,J=VAe(S),B=[];return S.forEach(function(G,L){var $=s0(_.data,{graphicalItems:[G],dataStartIndex:k,dataEndIndex:R}),F=G.type.defaultProps!==void 0?ie(ie({},G.type.defaultProps),G.props):G.props,Z=F.dataKey,ae=F.maxBarSize,me=F["".concat(Q,"Id")],Te=F["".concat(K,"Id")],se={},ge=c.reduce(function(On,_r){var so=T["".concat(_r.axisType,"Map")],Je=F["".concat(_r.axisType,"Id")];so&&so[Je]||_r.axisType==="zAxis"||_l();var Tt=so[Je];return ie(ie({},On),{},Be(Be({},_r.axisType,Tt),"".concat(_r.axisType,"Ticks"),jo(Tt)))},se),oe=ge[K],fe=ge["".concat(K,"Ticks")],ye=A&&A[me]&&A[me].hasStack&&Sxe(G,A[me].stackGroups),re=Io(G.type).indexOf("Bar")>=0,ze=_v(oe,fe),Le=[],ct=J&&uxe({barSize:I,stackGroups:A,totalSize:zAe(ge,K)});if(re){var ut,Pt,Kn=Ge(ae)?V:ae,An=(ut=(Pt=_v(oe,fe,!0))!==null&&Pt!==void 0?Pt:Kn)!==null&&ut!==void 0?ut:0;Le=dxe({barGap:M,barCategoryGap:U,bandSize:An!==ze?An:ze,sizeList:ct[Te],maxBarSize:Kn}),An!==ze&&(Le=Le.map(function(On){return ie(ie({},On),{},{position:ie(ie({},On.position),{},{offset:On.position.offset-An/2})})}))}var xr=G&&G.type&&G.type.getComposedData;xr&&B.push({props:ie(ie({},xr(ie(ie({},ge),{},{displayedData:$,props:_,dataKey:Z,item:G,bandSize:ze,barPosition:Le,offset:P,stackedData:ye,layout:D,dataStartIndex:k,dataEndIndex:R}))),{},Be(Be(Be({key:G.key||"item-".concat(L)},Q,ge[Q]),K,ge[K]),"animationId",O)),childIndex:mpe(G,_.children),item:G})}),B},v=function(_,T){var S=_.props,A=_.dataStartIndex,P=_.dataEndIndex,O=_.updateId;if(!tD({props:S}))return null;var k=S.children,R=S.layout,I=S.stackOffset,D=S.data,M=S.reverseStackOrder,U=B5(R),V=U.numericAxisName,Y=U.cateAxisName,Q=ti(k,r),K=xxe(D,Q,"".concat(V,"Id"),"".concat(Y,"Id"),I,M),J=c.reduce(function(F,Z){var ae="".concat(Z.axisType,"Map");return ie(ie({},F),{},Be({},ae,UAe(S,ie(ie({},Z),{},{graphicalItems:Q,stackGroups:Z.axisType===V&&K,dataStartIndex:A,dataEndIndex:P}))))},{}),B=WAe(ie(ie({},J),{},{props:S,graphicalItems:Q}),T==null?void 0:T.legendBBox);Object.keys(J).forEach(function(F){J[F]=f(S,J[F],B,F.replace("Map",""),n)});var G=J["".concat(Y,"Map")],L=qAe(G),$=p(S,ie(ie({},J),{},{dataStartIndex:A,dataEndIndex:P,updateId:O,graphicalItems:Q,stackGroups:K,offset:B}));return ie(ie({formattedGraphicalItems:$,graphicalItems:Q,offset:B,stackGroups:K},L),J)},x=(function(y){function _(T){var S,A,P;return PAe(this,_),P=CAe(this,_,[T]),Be(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Be(P,"accessibilityManager",new uAe),Be(P,"handleLegendBBoxUpdate",function(O){if(O){var k=P.state,R=k.dataStartIndex,I=k.dataEndIndex,D=k.updateId;P.setState(ie({legendBBox:O},v({props:P.props,dataStartIndex:R,dataEndIndex:I,updateId:D},ie(ie({},P.state),{},{legendBBox:O}))))}}),Be(P,"handleReceiveSyncEvent",function(O,k,R){if(P.props.syncId===O){if(R===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(k)}}),Be(P,"handleBrushChange",function(O){var k=O.startIndex,R=O.endIndex;if(k!==P.state.dataStartIndex||R!==P.state.dataEndIndex){var I=P.state.updateId;P.setState(function(){return ie({dataStartIndex:k,dataEndIndex:R},v({props:P.props,dataStartIndex:k,dataEndIndex:R,updateId:I},P.state))}),P.triggerSyncEvent({dataStartIndex:k,dataEndIndex:R})}}),Be(P,"handleMouseEnter",function(O){var k=P.getMouseInfo(O);if(k){var R=ie(ie({},k),{},{isTooltipActive:!0});P.setState(R),P.triggerSyncEvent(R);var I=P.props.onMouseEnter;qe(I)&&I(R,O)}}),Be(P,"triggeredAfterMouseMove",function(O){var k=P.getMouseInfo(O),R=k?ie(ie({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(R),P.triggerSyncEvent(R);var I=P.props.onMouseMove;qe(I)&&I(R,O)}),Be(P,"handleItemMouseEnter",function(O){P.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Be(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),Be(P,"handleMouseMove",function(O){O.persist(),P.throttleTriggeredAfterMouseMove(O)}),Be(P,"handleMouseLeave",function(O){P.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};P.setState(k),P.triggerSyncEvent(k);var R=P.props.onMouseLeave;qe(R)&&R(k,O)}),Be(P,"handleOuterEvent",function(O){var k=ppe(O),R=Ir(P.props,"".concat(k));if(k&&qe(R)){var I,D;/.*touch.*/i.test(k)?D=P.getMouseInfo(O.changedTouches[0]):D=P.getMouseInfo(O),R((I=D)!==null&&I!==void 0?I:{},O)}}),Be(P,"handleClick",function(O){var k=P.getMouseInfo(O);if(k){var R=ie(ie({},k),{},{isTooltipActive:!0});P.setState(R),P.triggerSyncEvent(R);var I=P.props.onClick;qe(I)&&I(R,O)}}),Be(P,"handleMouseDown",function(O){var k=P.props.onMouseDown;if(qe(k)){var R=P.getMouseInfo(O);k(R,O)}}),Be(P,"handleMouseUp",function(O){var k=P.props.onMouseUp;if(qe(k)){var R=P.getMouseInfo(O);k(R,O)}}),Be(P,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Be(P,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&P.handleMouseDown(O.changedTouches[0])}),Be(P,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&P.handleMouseUp(O.changedTouches[0])}),Be(P,"handleDoubleClick",function(O){var k=P.props.onDoubleClick;if(qe(k)){var R=P.getMouseInfo(O);k(R,O)}}),Be(P,"handleContextMenu",function(O){var k=P.props.onContextMenu;if(qe(k)){var R=P.getMouseInfo(O);k(R,O)}}),Be(P,"triggerSyncEvent",function(O){P.props.syncId!==void 0&&z1.emit(H1,P.props.syncId,O,P.eventEmitterSymbol)}),Be(P,"applySyncEvent",function(O){var k=P.props,R=k.layout,I=k.syncMethod,D=P.state.updateId,M=O.dataStartIndex,U=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)P.setState(ie({dataStartIndex:M,dataEndIndex:U},v({props:P.props,dataStartIndex:M,dataEndIndex:U,updateId:D},P.state)));else if(O.activeTooltipIndex!==void 0){var V=O.chartX,Y=O.chartY,Q=O.activeTooltipIndex,K=P.state,J=K.offset,B=K.tooltipTicks;if(!J)return;if(typeof I=="function")Q=I(B,O);else if(I==="value"){Q=-1;for(var G=0;G<B.length;G++)if(B[G].value===O.activeLabel){Q=G;break}}var L=ie(ie({},J),{},{x:J.left,y:J.top}),$=Math.min(V,L.x+L.width),F=Math.min(Y,L.y+L.height),Z=B[Q]&&B[Q].value,ae=JE(P.state,P.props.data,Q),me=B[Q]?{x:R==="horizontal"?B[Q].coordinate:$,y:R==="horizontal"?F:B[Q].coordinate}:t9;P.setState(ie(ie({},O),{},{activeLabel:Z,activeCoordinate:me,activePayload:ae,activeTooltipIndex:Q}))}else P.setState(O)}),Be(P,"renderCursor",function(O){var k,R=P.state,I=R.isTooltipActive,D=R.activeCoordinate,M=R.activePayload,U=R.offset,V=R.activeTooltipIndex,Y=R.tooltipAxisBandSize,Q=P.getTooltipEventType(),K=(k=O.props.active)!==null&&k!==void 0?k:I,J=P.props.layout,B=O.key||"_recharts-cursor";return W.createElement(vAe,{key:B,activeCoordinate:D,activePayload:M,activeTooltipIndex:V,chartName:n,element:O,isActive:K,layout:J,offset:U,tooltipAxisBandSize:Y,tooltipEventType:Q})}),Be(P,"renderPolarAxis",function(O,k,R){var I=Ir(O,"type.axisType"),D=Ir(P.state,"".concat(I,"Map")),M=O.type.defaultProps,U=M!==void 0?ie(ie({},M),O.props):O.props,V=D&&D[U["".concat(I,"Id")]];return E.cloneElement(O,ie(ie({},V),{},{className:He(I,V.className),key:O.key||"".concat(k,"-").concat(R),ticks:jo(V,!0)}))}),Be(P,"renderPolarGrid",function(O){var k=O.props,R=k.radialLines,I=k.polarAngles,D=k.polarRadius,M=P.state,U=M.radiusAxisMap,V=M.angleAxisMap,Y=ks(U),Q=ks(V),K=Q.cx,J=Q.cy,B=Q.innerRadius,G=Q.outerRadius;return E.cloneElement(O,{polarAngles:Array.isArray(I)?I:jo(Q,!0).map(function(L){return L.coordinate}),polarRadius:Array.isArray(D)?D:jo(Y,!0).map(function(L){return L.coordinate}),cx:K,cy:J,innerRadius:B,outerRadius:G,key:O.key||"polar-grid",radialLines:R})}),Be(P,"renderLegend",function(){var O=P.state.formattedGraphicalItems,k=P.props,R=k.children,I=k.width,D=k.height,M=P.props.margin||{},U=I-(M.left||0)-(M.right||0),V=M8({children:R,formattedGraphicalItems:O,legendWidth:U,legendContent:u});if(!V)return null;var Y=V.item,Q=D5(V,yAe);return E.cloneElement(Y,ie(ie({},Q),{},{chartWidth:I,chartHeight:D,margin:M,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),Be(P,"renderTooltip",function(){var O,k=P.props,R=k.children,I=k.accessibilityLayer,D=Or(R,Si);if(!D)return null;var M=P.state,U=M.isTooltipActive,V=M.activeCoordinate,Y=M.activePayload,Q=M.activeLabel,K=M.offset,J=(O=D.props.active)!==null&&O!==void 0?O:U;return E.cloneElement(D,{viewBox:ie(ie({},K),{},{x:K.left,y:K.top}),active:J,label:Q,payload:J?Y:[],coordinate:V,accessibilityLayer:I})}),Be(P,"renderBrush",function(O){var k=P.props,R=k.margin,I=k.data,D=P.state,M=D.offset,U=D.dataStartIndex,V=D.dataEndIndex,Y=D.updateId;return E.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Hm(P.handleBrushChange,O.props.onChange),data:I,x:de(O.props.x)?O.props.x:M.left,y:de(O.props.y)?O.props.y:M.top+M.height+M.brushBottom-(R.bottom||0),width:de(O.props.width)?O.props.width:M.width,startIndex:U,endIndex:V,updateId:"brush-".concat(Y)})}),Be(P,"renderReferenceElement",function(O,k,R){if(!O)return null;var I=P,D=I.clipPathId,M=P.state,U=M.xAxisMap,V=M.yAxisMap,Y=M.offset,Q=O.type.defaultProps||{},K=O.props,J=K.xAxisId,B=J===void 0?Q.xAxisId:J,G=K.yAxisId,L=G===void 0?Q.yAxisId:G;return E.cloneElement(O,{key:O.key||"".concat(k,"-").concat(R),xAxis:U[B],yAxis:V[L],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:D})}),Be(P,"renderActivePoints",function(O){var k=O.item,R=O.activePoint,I=O.basePoint,D=O.childIndex,M=O.isRange,U=[],V=k.props.key,Y=k.item.type.defaultProps!==void 0?ie(ie({},k.item.type.defaultProps),k.item.props):k.item.props,Q=Y.activeDot,K=Y.dataKey,J=ie(ie({index:D,dataKey:K,cx:R.x,cy:R.y,r:4,fill:SO(k.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},Me(Q,!1)),Jg(Q));return U.push(_.renderActiveDot(Q,J,"".concat(V,"-activePoint-").concat(D))),I?U.push(_.renderActiveDot(Q,ie(ie({},J),{},{cx:I.x,cy:I.y}),"".concat(V,"-basePoint-").concat(D))):M&&U.push(null),U}),Be(P,"renderGraphicChild",function(O,k,R){var I=P.filterFormatItem(O,k,R);if(!I)return null;var D=P.getTooltipEventType(),M=P.state,U=M.isTooltipActive,V=M.tooltipAxis,Y=M.activeTooltipIndex,Q=M.activeLabel,K=P.props.children,J=Or(K,Si),B=I.props,G=B.points,L=B.isRange,$=B.baseLine,F=I.item.type.defaultProps!==void 0?ie(ie({},I.item.type.defaultProps),I.item.props):I.item.props,Z=F.activeDot,ae=F.hide,me=F.activeBar,Te=F.activeShape,se=!!(!ae&&U&&J&&(Z||me||Te)),ge={};D!=="axis"&&J&&J.props.trigger==="click"?ge={onClick:Hm(P.handleItemMouseEnter,O.props.onClick)}:D!=="axis"&&(ge={onMouseLeave:Hm(P.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Hm(P.handleItemMouseEnter,O.props.onMouseEnter)});var oe=E.cloneElement(O,ie(ie({},I.props),ge));function fe(_r){return typeof V.dataKey=="function"?V.dataKey(_r.payload):null}if(se)if(Y>=0){var ye,re;if(V.dataKey&&!V.allowDuplicatedCategory){var ze=typeof V.dataKey=="function"?fe:"payload.".concat(V.dataKey.toString());ye=Qg(G,ze,Q),re=L&&$&&Qg($,ze,Q)}else ye=G==null?void 0:G[Y],re=L&&$&&$[Y];if(Te||me){var Le=O.props.activeIndex!==void 0?O.props.activeIndex:Y;return[E.cloneElement(O,ie(ie(ie({},I.props),ge),{},{activeIndex:Le})),null,null]}if(!Ge(ye))return[oe].concat($u(P.renderActivePoints({item:I,activePoint:ye,basePoint:re,childIndex:Y,isRange:L})))}else{var ct,ut=(ct=P.getItemByXY(P.state.activeCoordinate))!==null&&ct!==void 0?ct:{graphicalItem:oe},Pt=ut.graphicalItem,Kn=Pt.item,An=Kn===void 0?O:Kn,xr=Pt.childIndex,On=ie(ie(ie({},I.props),ge),{},{activeIndex:xr});return[E.cloneElement(An,On),null,null]}return L?[oe,null,null]:[oe,null]}),Be(P,"renderCustomized",function(O,k,R){return E.cloneElement(O,ie(ie({key:"recharts-customized-".concat(R)},P.props),P.state))}),Be(P,"renderMap",{CartesianGrid:{handler:Qm,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Qm},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Qm},YAxis:{handler:Qm},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((S=T.id)!==null&&S!==void 0?S:ed("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=Nz(P.triggeredAfterMouseMove,(A=T.throttleDelay)!==null&&A!==void 0?A:1e3/60),P.state={},P}return kAe(_,y),EAe(_,[{key:"componentDidMount",value:function(){var S,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,A=S.children,P=S.data,O=S.height,k=S.layout,R=Or(A,Si);if(R){var I=R.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,M=JE(this.state,P,I,D),U=this.state.tooltipTicks[I].coordinate,V=(this.state.offset.top+O)/2,Y=k==="horizontal",Q=Y?{x:U,y:V}:{y:U,x:V},K=this.state.formattedGraphicalItems.find(function(B){var G=B.item;return G.type.name==="Scatter"});K&&(Q=ie(ie({},Q),K.props.points[I].tooltipPosition),M=K.props.points[I].tooltipPayload);var J={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:D,activePayload:M,activeCoordinate:Q};this.setState(J),this.renderCursor(R),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var P,O;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(S){MT([Or(S.children,Si)],[Or(this.props.children,Si)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Or(this.props.children,Si);if(S&&typeof S.props.shared=="boolean"){var A=S.props.shared?"axis":"item";return a.indexOf(A)>=0?A:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var A=this.container,P=A.getBoundingClientRect(),O=tye(P),k={chartX:Math.round(S.pageX-O.left),chartY:Math.round(S.pageY-O.top)},R=P.width/A.offsetWidth||1,I=this.inRange(k.chartX,k.chartY,R);if(!I)return null;var D=this.state,M=D.xAxisMap,U=D.yAxisMap,V=this.getTooltipEventType(),Y=L5(this.state,this.props.data,this.props.layout,I);if(V!=="axis"&&M&&U){var Q=ks(M).scale,K=ks(U).scale,J=Q&&Q.invert?Q.invert(k.chartX):null,B=K&&K.invert?K.invert(k.chartY):null;return ie(ie({},k),{},{xValue:J,yValue:B},Y)}return Y?ie(ie({},k),Y):null}},{key:"inRange",value:function(S,A){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,k=S/P,R=A/P;if(O==="horizontal"||O==="vertical"){var I=this.state.offset,D=k>=I.left&&k<=I.left+I.width&&R>=I.top&&R<=I.top+I.height;return D?{x:k,y:R}:null}var M=this.state,U=M.angleAxisMap,V=M.radiusAxisMap;if(U&&V){var Y=ks(U);return W3({x:k,y:R},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,A=this.getTooltipEventType(),P=Or(S,Si),O={};P&&A==="axis"&&(P.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Jg(this.props,this.handleOuterEvent);return ie(ie({},k),O)}},{key:"addListener",value:function(){z1.on(H1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){z1.removeListener(H1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,A,P){for(var O=this.state.formattedGraphicalItems,k=0,R=O.length;k<R;k++){var I=O[k];if(I.item===S||I.props.key===S.key||A===Io(I.item.type)&&P===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,A=this.state.offset,P=A.left,O=A.top,k=A.height,R=A.width;return W.createElement("defs",null,W.createElement("clipPath",{id:S},W.createElement("rect",{x:P,y:O,height:k,width:R})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(A,P){var O=M5(P,2),k=O[0],R=O[1];return ie(ie({},A),{},Be({},k,R.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(A,P){var O=M5(P,2),k=O[0],R=O[1];return ie(ie({},A),{},Be({},k,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(S){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(S){var A=this.state,P=A.formattedGraphicalItems,O=A.activeItem;if(P&&P.length)for(var k=0,R=P.length;k<R;k++){var I=P[k],D=I.props,M=I.item,U=M.type.defaultProps!==void 0?ie(ie({},M.type.defaultProps),M.props):M.props,V=Io(M.type);if(V==="Bar"){var Y=(D.data||[]).find(function(B){return _1e(S,B)});if(Y)return{graphicalItem:I,payload:Y}}else if(V==="RadialBar"){var Q=(D.data||[]).find(function(B){return W3(S,B)});if(Q)return{graphicalItem:I,payload:Q}}else if(Qy(I,O)||Jy(I,O)||xh(I,O)){var K=zPe({graphicalItem:I,activeTooltipItem:O,itemData:U.data}),J=U.activeIndex===void 0?K:U.activeIndex;return{graphicalItem:ie(ie({},I),{},{childIndex:J}),payload:xh(I,O)?U.data[K]:I.props.data[K]}}}return null}},{key:"render",value:function(){var S=this;if(!tD(this))return null;var A=this.props,P=A.children,O=A.className,k=A.width,R=A.height,I=A.style,D=A.compact,M=A.title,U=A.desc,V=D5(A,bAe),Y=Me(V,!1);if(D)return W.createElement(v5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement($T,jc({},Y,{width:k,height:R,title:M,desc:U}),this.renderClipPath(),rD(P,this.renderMap)));if(this.props.accessibilityLayer){var Q,K;Y.tabIndex=(Q=this.props.tabIndex)!==null&&Q!==void 0?Q:0,Y.role=(K=this.props.role)!==null&&K!==void 0?K:"application",Y.onKeyDown=function(B){S.accessibilityManager.keyboardEvent(B)},Y.onFocus=function(){S.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return W.createElement(v5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",jc({className:He("recharts-wrapper",O),style:ie({position:"relative",cursor:"default",width:k,height:R},I)},J,{ref:function(G){S.container=G}}),W.createElement($T,jc({},Y,{width:k,height:R,title:M,desc:U,style:DAe}),this.renderClipPath(),rD(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(E.Component);Be(x,"displayName",n),Be(x,"defaultProps",ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Be(x,"getDerivedStateFromProps",function(y,_){var T=y.dataKey,S=y.data,A=y.children,P=y.width,O=y.height,k=y.layout,R=y.stackOffset,I=y.margin,D=_.dataStartIndex,M=_.dataEndIndex;if(_.updateId===void 0){var U=F5(y);return ie(ie(ie({},U),{},{updateId:0},v(ie(ie({props:y},U),{},{updateId:0}),_)),{},{prevDataKey:T,prevData:S,prevWidth:P,prevHeight:O,prevLayout:k,prevStackOffset:R,prevMargin:I,prevChildren:A})}if(T!==_.prevDataKey||S!==_.prevData||P!==_.prevWidth||O!==_.prevHeight||k!==_.prevLayout||R!==_.prevStackOffset||!Fc(I,_.prevMargin)){var V=F5(y),Y={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},Q=ie(ie({},L5(_,S,k)),{},{updateId:_.updateId+1}),K=ie(ie(ie({},V),Y),Q);return ie(ie(ie({},K),v(ie({props:y},K),_)),{},{prevDataKey:T,prevData:S,prevWidth:P,prevHeight:O,prevLayout:k,prevStackOffset:R,prevMargin:I,prevChildren:A})}if(!MT(A,_.prevChildren)){var J,B,G,L,$=Or(A,Cu),F=$&&(J=(B=$.props)===null||B===void 0?void 0:B.startIndex)!==null&&J!==void 0?J:D,Z=$&&(G=(L=$.props)===null||L===void 0?void 0:L.endIndex)!==null&&G!==void 0?G:M,ae=F!==D||Z!==M,me=!Ge(S),Te=me&&!ae?_.updateId:_.updateId+1;return ie(ie({updateId:Te},v(ie(ie({props:y},_),{},{updateId:Te,dataStartIndex:F,dataEndIndex:Z}),_)),{},{prevChildren:A,dataStartIndex:F,dataEndIndex:Z})}return null}),Be(x,"renderActiveDot",function(y,_,T){var S;return E.isValidElement(y)?S=E.cloneElement(y,_):qe(y)?S=y(_):S=W.createElement(Hy,_),W.createElement(rt,{className:"recharts-active-dot",key:T},S)});var b=E.forwardRef(function(_,T){return W.createElement(x,jc({},_,{ref:T}))});return b.displayName=x.displayName,b},HAe=r9({chartName:"PieChart",GraphicalChild:ts,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Xy},{axisType:"radiusAxis",AxisComp:Ky}],formatAxisMap:Nxe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),GAe=r9({chartName:"AreaChart",GraphicalChild:Ko,axisComponents:[{axisType:"xAxis",AxisComp:i0},{axisType:"yAxis",AxisComp:o0}],formatAxisMap:KTe});function KAe({data:t}){return g.jsx("div",{className:"w-full h-80",children:g.jsx(Iz,{width:"100%",height:"100%",children:g.jsxs(GAe,{data:t,margin:{top:10,right:10,left:-20,bottom:0},children:[g.jsxs("defs",{children:[g.jsxs("linearGradient",{id:"colorCalls",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),g.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),g.jsxs("linearGradient",{id:"colorAppointments",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),g.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})]}),g.jsx(FH,{strokeDasharray:"3 3",stroke:"#ffffff10"}),g.jsx(i0,{dataKey:"name",stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12}}),g.jsx(o0,{stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12}}),g.jsx(Si,{contentStyle:{backgroundColor:"#1a0f2e",border:"1px solid #6b21a8",borderRadius:"12px",color:"#fff"}}),g.jsx(al,{wrapperStyle:{color:"#9ca3af"},iconType:"circle"}),g.jsx(Ko,{type:"monotone",dataKey:"totalCalls",name:"Total Calls",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorCalls)",strokeWidth:2}),g.jsx(Ko,{type:"monotone",dataKey:"appointments",name:"Appointments",stroke:"#10b981",fillOpacity:1,fill:"url(#colorAppointments)",strokeWidth:2})]})})})}const U5={appointment_set:"#10b981",callback:"#8b5cf6",voicemail:"#f59e0b",no_answer:"#6b7280",not_interested:"#ef4444",wrong_number:"#ec4899"},YAe={appointment_set:"Success",callback:"Callback",voicemail:"Voicemail",no_answer:"No Answer",not_interested:"Not Interested",wrong_number:"Wrong Number"};function XAe({data:t}){const e=t.map(n=>({name:YAe[n.outcome]||n.outcome,value:n.count,outcome:n.outcome}));return g.jsxs("div",{className:"w-full h-80 flex",children:[g.jsx("div",{className:"flex-1",children:g.jsx(Iz,{width:"100%",height:"100%",children:g.jsxs(HAe,{children:[g.jsx(ts,{data:e,cx:"50%",cy:"50%",innerRadius:80,outerRadius:120,paddingAngle:2,dataKey:"value",children:e.map((n,r)=>g.jsx(Iy,{fill:U5[n.outcome]||"#6b7280"},`cell-${r}`))}),g.jsx(Si,{contentStyle:{backgroundColor:"#1a0f2e",border:"1px solid #6b21a8",borderRadius:"12px",color:"#fff"}})]})})}),g.jsx("div",{className:"w-48 flex flex-col justify-center space-y-3",children:e.map((n,r)=>g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:U5[n.outcome]||"#6b7280"}}),g.jsx("span",{className:"text-purple-300 text-sm",children:n.name})]}),g.jsx("span",{className:"text-white font-semibold text-sm",children:n.value})]},r))})]})}function QAe({insights:t}){const e=[{title:"Best Day",value:t.bestDay,subtitle:t.bestDayDetail,icon:ny,color:"text-emerald-400",bgColor:"bg-emerald-500/10"},{title:"Peak Hour",value:t.peakHour,subtitle:t.peakHourDetail,icon:Ws,color:"text-blue-400",bgColor:"bg-blue-500/10"},{title:"This Week Goal",value:t.weekGoal,subtitle:t.weekGoalDetail,icon:yq,color:"text-purple-400",bgColor:"bg-purple-500/10"}];return g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((n,r)=>{const i=n.icon;return g.jsxs(pe.div,{className:"bg-[#1a0f2e] rounded-2xl p-6 border border-purple-500/10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},children:[g.jsx("div",{className:`w-10 h-10 ${n.bgColor} rounded-xl flex items-center justify-center mb-4`,children:g.jsx(i,{className:`w-5 h-5 ${n.color}`})}),g.jsx("h4",{className:"text-purple-400 text-sm mb-2",children:n.title}),g.jsx("p",{className:"text-2xl font-bold text-white mb-1",children:n.value}),n.subtitle&&g.jsx("p",{className:"text-emerald-400 text-sm",children:n.subtitle})]},n.title)})})}function i9(){const[t,e]=E.useState(null),[n,r]=E.useState("week");E.useEffect(()=>{(async()=>{e({email:"demo@example.com"})})()},[]);const{data:i}=kt({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:O,error:k}=await Ie.from("user_stats").select().eq("user_email",t.email).maybeSingle();if(k)throw k;return O||null},enabled:!!(t!=null&&t.email)}),{data:o=[]}=kt({queryKey:["allCallLogs"],queryFn:async()=>{const{data:O,error:k}=await Ie.from("call_logs").select().order("created_at",{ascending:!1}).limit(1e3);if(k)throw k;return O||[]}}),s=()=>{const O=new Date;return n==="today"?ET(O):n==="week"?vl(O):n==="month"?wde(O):vl(O)},a=o.filter(O=>{const k=qw(O.created_at);return xfe(k,s())}),c=a.length,u=a.filter(O=>O.outcome==="appointment_set").length,f=a.filter(O=>O.outcome!=="no_answer"&&O.outcome!=="wrong_number").length,h=c>0?(f/c*100).toFixed(1):"0.0",p=c>0?(u/c*100).toFixed(1):"0.0",v=a.reduce((O,k)=>O+(k.duration||0),0),x=c>0?Math.floor(v/c):0,b=O=>{const k=Math.floor(O/60),R=O%60;return`${k}m ${R}s`},y=()=>{const O={};return a.forEach(k=>{const R=W2(qw(k.created_at),n==="month"?"MMM d":"EEE");O[R]||(O[R]={name:R,totalCalls:0,appointments:0}),O[R].totalCalls++,k.outcome==="appointment_set"&&O[R].appointments++}),Object.values(O)},_=()=>{const O={};return a.forEach(k=>{const R=k.outcome||"unknown";O[R]=(O[R]||0)+1}),Object.entries(O).map(([k,R])=>({outcome:k,count:R}))},T=()=>{const O={},k={};a.forEach(U=>{const V=qw(U.created_at),Y=W2(V,"EEEE"),Q=V.getHours();O[Y]=(O[Y]||0)+1,k[Q]=(k[Q]||0)+1});const R=Object.entries(O).sort((U,V)=>V[1]-U[1])[0],I=Object.entries(k).sort((U,V)=>V[1]-U[1])[0],D=i!=null&&i.daily_goal?`${p}%`:"0%",M=i!=null&&i.daily_goal?`${u}/${i.daily_goal*7} calls`:"";return{bestDay:R?R[0]:"N/A",bestDayDetail:R?`${R[1]} calls made`:"",peakHour:I?`${I[0]}:00 - ${parseInt(I[0])+1}:00`:"N/A",peakHourDetail:I?"Highest conversion":"",weekGoal:D,weekGoalDetail:M}},S=y(),A=_(),P=T();return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e] p-6",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsx(El,{userStats:i}),g.jsx("div",{className:"mb-6",children:g.jsx(Cl,{})}),g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold text-white",children:"Performance Metrics"}),g.jsx("p",{className:"text-purple-300 text-sm",children:"Track your calling performance"})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(Xe,{onClick:()=>r("today"),variant:n==="today"?"default":"outline",className:n==="today"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-[#2d1f4a] border-purple-500/30 text-purple-300 hover:bg-purple-900/30",children:"Today"}),g.jsx(Xe,{onClick:()=>r("week"),variant:n==="week"?"default":"outline",className:n==="week"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-[#2d1f4a] border-purple-500/30 text-purple-300 hover:bg-purple-900/30",children:"This Week"}),g.jsx(Xe,{onClick:()=>r("month"),variant:n==="month"?"default":"outline",className:n==="month"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-[#2d1f4a] border-purple-500/30 text-purple-300 hover:bg-purple-900/30",children:"This Month"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[g.jsx(mc,{title:"Total Calls",value:c,icon:_t,trend:"+12%",trendValue:12,delay:0}),g.jsx(mc,{title:"Connection Rate",value:`${h}%`,icon:eT,trend:"+5%",trendValue:5,delay:.05}),g.jsx(mc,{title:"Success Rate",value:`${p}%`,icon:Bo,trend:"+8%",trendValue:8,delay:.1}),g.jsx(mc,{title:"Total Talk Time",value:b(v),icon:Ws,trend:"+2h",trendValue:120,delay:.15}),g.jsx(mc,{title:"Avg Call Duration",value:b(x),icon:OI,trend:"+30s",trendValue:30,delay:.2}),g.jsx(mc,{title:"Calls Recorded",value:c,icon:ry,trend:"+15",trendValue:15,delay:.25})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx(OI,{className:"w-5 h-5 text-purple-400"}),g.jsx("h3",{className:"text-xl font-bold text-white",children:"Call Volume"})]}),S.length>0?g.jsx(KAe,{data:S}):g.jsx("div",{className:"h-80 flex items-center justify-center text-purple-400",children:"No data available for this period"})]}),g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},children:[g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx(eT,{className:"w-5 h-5 text-purple-400"}),g.jsx("h3",{className:"text-xl font-bold text-white",children:"Call Outcomes"})]}),A.length>0?g.jsx(XAe,{data:A}):g.jsx("div",{className:"h-80 flex items-center justify-center text-purple-400",children:"No data available for this period"})]})]}),g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Quick Insights"}),g.jsx(QAe,{insights:P})]})]})})}const JAe=[{id:1,name:"First Blood",desc:"Make your very first call",icon:une,requirement:1,field:"calls_today",color:"text-blue-400",bgColor:"bg-blue-500/10"},{id:2,name:"The Talker",desc:"Make 10 calls in a day",icon:_t,requirement:10,field:"calls_today",color:"text-sky-400",bgColor:"bg-sky-500/10"},{id:3,name:"Call King",desc:"Make 50 calls in a day",icon:Mg,requirement:50,field:"calls_today",color:"text-yellow-400",bgColor:"bg-yellow-500/10"},{id:4,name:"Appointment Maker",desc:"Book your first appointment",icon:XP,requirement:1,field:"appointments_today",color:"text-emerald-400",bgColor:"bg-emerald-500/10"},{id:5,name:"Streak Starter",desc:"Achieve a 3-day call streak",icon:Dg,requirement:3,field:"current_streak",color:"text-red-400",bgColor:"bg-red-500/10"},{id:6,name:"Unstoppable",desc:"Achieve a 7-day call streak",icon:ene,requirement:7,field:"current_streak",color:"text-orange-400",bgColor:"bg-orange-500/10"},{id:7,name:"Point Collector",desc:"Earn 500 points",icon:Ote,requirement:500,field:"total_points",color:"text-purple-400",bgColor:"bg-purple-500/10"},{id:8,name:"Grand Master",desc:"Earn 2000 points",icon:sne,requirement:2e3,field:"total_points",color:"text-indigo-400",bgColor:"bg-indigo-500/10"},{id:9,name:"Level Up!",desc:"Reach Level 3",icon:Bo,requirement:3,field:"level",color:"text-pink-400",bgColor:"bg-pink-500/10"},{id:10,name:"Legendary Closer",desc:"Reach Level 5",icon:Mg,requirement:5,field:"level",color:"text-amber-400",bgColor:"bg-amber-500/10"}];function o9(){const[t,e]=E.useState(null);E.useEffect(()=>{(async()=>{e({email:"demo@example.com"})})()},[]);const{data:n}=kt({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:o,error:s}=await Ie.from("user_stats").select().eq("user_email",t.email).maybeSingle();if(s)throw s;return o||null},enabled:!!(t!=null&&t.email)}),r=o=>n?(n[o.field]||0)>=o.requirement:!1,i=o=>{if(!n)return 0;const s=n[o.field]||0;return Math.min(s/o.requirement*100,100)};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e] p-6",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsx(El,{userStats:n}),g.jsx("div",{className:"mb-6",children:g.jsx(Cl,{})}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:JAe.map((o,s)=>{const a=o.icon,c=r(o),u=i(o);return g.jsxs(pe.div,{className:`
                  bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border 
                  ${c?"border-amber-500/50 shadow-lg shadow-amber-500/20":"border-purple-500/20"}
                  relative overflow-hidden
                `,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:s*.1},children:[c&&g.jsx("div",{className:"absolute top-4 right-4",children:g.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-full flex items-center justify-center",children:g.jsx(fl,{className:"w-4 h-4 text-white fill-white"})})}),g.jsx("div",{className:`w-16 h-16 ${o.bgColor} rounded-2xl flex items-center justify-center mb-4`,children:g.jsx(a,{className:`w-8 h-8 ${c?o.color:"text-purple-600/50"}`})}),g.jsx("h3",{className:`text-xl font-bold mb-2 ${c?"text-white":"text-purple-300"}`,children:o.name}),g.jsx("p",{className:"text-purple-400 text-sm mb-4",children:o.desc}),g.jsx("div",{className:"w-full h-2 bg-[#1a0f2e] rounded-full overflow-hidden",children:g.jsx(pe.div,{className:`h-full rounded-full ${c?"bg-gradient-to-r from-amber-400 to-amber-600":"bg-gradient-to-r from-purple-500 to-indigo-500"}`,initial:{width:0},animate:{width:`${u}%`},transition:{duration:1,delay:s*.1}})}),g.jsx("p",{className:"text-purple-400 text-xs mt-2",children:c?"Unlocked!":`${(n==null?void 0:n[o.field])||0} / ${o.requirement}`})]},o.id)})})]})})}var a0="Switch",[ZAe]=Al(a0),[eOe,tOe]=ZAe(a0),s9=E.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:c="on",onCheckedChange:u,form:f,...h}=t,[p,v]=E.useState(null),x=Ut(e,S=>v(S)),b=E.useRef(!1),y=p?f||!!p.closest("form"):!0,[_,T]=au({prop:i,defaultProp:o??!1,onChange:u,caller:a0});return g.jsxs(eOe,{scope:n,checked:_,disabled:a,children:[g.jsx(it.button,{type:"button",role:"switch","aria-checked":_,"aria-required":s,"data-state":u9(_),"data-disabled":a?"":void 0,disabled:a,value:c,...h,ref:x,onClick:nt(t.onClick,S=>{T(A=>!A),y&&(b.current=S.isPropagationStopped(),b.current||S.stopPropagation())})}),y&&g.jsx(c9,{control:p,bubbles:!b.current,name:r,value:c,checked:_,required:s,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});s9.displayName=a0;var a9="SwitchThumb",l9=E.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=tOe(a9,n);return g.jsx(it.span,{"data-state":u9(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});l9.displayName=a9;var nOe="SwitchBubbleInput",c9=E.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},o)=>{const s=E.useRef(null),a=Ut(s,o),c=vV(n),u=sV(e);return E.useEffect(()=>{const f=s.current;if(!f)return;const h=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&v){const x=new Event("click",{bubbles:r});v.call(f,n),f.dispatchEvent(x)}},[c,n,r]),g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});c9.displayName=nOe;function u9(t){return t?"checked":"unchecked"}var d9=s9,rOe=l9;const _o=E.forwardRef(({className:t,...e},n)=>g.jsx(d9,{className:et("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:g.jsx(rOe,{className:et("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));_o.displayName=d9.displayName;function f9(){var _,T;const[t,e]=E.useState(null),[n,r]=E.useState({double_dial_enabled:!1,max_dialing_lines:1,auto_detect_voicemail:!1,timezone_protection:!0,timezone:"America/New_York",calling_hours_start:"09:00",calling_hours_end:"17:00",theme:"regular",calendly_url:""}),[i,o]=E.useState(1e4),s=Tl(),{currentTheme:a,changeTheme:c,themes:u}=oA();E.useEffect(()=>{(async()=>{e({email:"demo@example.com"})})()},[]);const{data:f}=kt({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:S,error:A}=await Ie.from("user_stats").select().eq("user_email",t.email).maybeSingle();if(A)throw A;return S||null},enabled:!!(t!=null&&t.email)}),{data:h}=kt({queryKey:["dialerSettings",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:S,error:A}=await Ie.from("dialer_settings").select().eq("user_email",t.email).maybeSingle();if(A&&A.code!=="PGRST116")throw A;return S?(r(S),S):null},enabled:!!(t!=null&&t.email)});E.useEffect(()=>{f!=null&&f.cash_collected_goal&&o(f.cash_collected_goal)},[f]);const p=Vs({mutationFn:async S=>{const{data:A,error:P}=await Ie.from("dialer_settings").upsert({user_email:t.email,...S,updated_at:new Date().toISOString()},{onConflict:"user_email"}).select().single();if(P)throw P;return A},onSuccess:()=>{s.invalidateQueries(["dialerSettings"])}}),v=Vs({mutationFn:async S=>{const{error:A}=await Ie.from("user_stats").update({cash_collected_goal:S}).eq("user_email",t.email);if(A)throw A},onSuccess:()=>{s.invalidateQueries(["userStats"])}}),x=(S,A)=>{const P={...n,[S]:A};r(P),p.mutate(P)},b=()=>{v.mutate(i)},y=()=>{window.location.href="/"};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e] p-6",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsx(El,{userStats:f}),g.jsx("div",{className:"mb-6",children:g.jsx(Cl,{})}),g.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx(wne,{className:"w-5 h-5 text-purple-400"}),g.jsx("h2",{className:"text-xl font-bold text-white",children:"Profile"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-purple-300 text-sm mb-2 block",children:"Name"}),g.jsx(Xt,{value:(t==null?void 0:t.full_name)||"",disabled:!0,className:"bg-[#1a0f2e] border-purple-500/20 text-white"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-purple-300 text-sm mb-2 block",children:"Email"}),g.jsx(Xt,{value:(t==null?void 0:t.email)||"",disabled:!0,className:"bg-[#1a0f2e] border-purple-500/20 text-white"})]})]})]}),g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx(_t,{className:"w-5 h-5 text-purple-400"}),g.jsx("h2",{className:"text-xl font-bold text-white",children:"Dialer Settings"})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"p-4 bg-cyan-500/10 border border-cyan-500/30 rounded-xl",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium",children:"Demo Mode"}),g.jsx("p",{className:"text-cyan-300 text-sm mt-1",children:"Test dialing without Twilio credentials"})]}),g.jsx(_o,{checked:n.use_mock_dialer,onCheckedChange:S=>x("use_mock_dialer",S)})]}),g.jsxs("div",{className:"text-cyan-400 text-xs space-y-1",children:[g.jsx("p",{children:" Perfect for testing and development"}),g.jsx("p",{children:" Simulates realistic call flow with status transitions"}),g.jsx("p",{children:" No Twilio account required"}),g.jsx("p",{children:" All features work as they would in production"})]})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium",children:"Double Dial"}),g.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Call two numbers simultaneously"})]}),g.jsx(_o,{checked:n.double_dial_enabled,onCheckedChange:S=>x("double_dial_enabled",S)})]}),g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium mb-2 block",children:"Max Dialing Lines"}),g.jsxs("select",{value:n.max_dialing_lines,onChange:S=>x("max_dialing_lines",parseInt(S.target.value)),className:"w-full p-2 bg-[#1a0f2e] border border-purple-500/20 rounded-xl text-white",children:[g.jsx("option",{value:"1",children:"1 Line"}),g.jsx("option",{value:"2",children:"2 Lines"}),g.jsx("option",{value:"3",children:"3 Lines"})]})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium",children:"Auto-Detect Voicemail"}),g.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Automatically detect and skip voicemails"})]}),g.jsx(_o,{checked:n.auto_detect_voicemail,onCheckedChange:S=>x("auto_detect_voicemail",S)})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium",children:"Timezone Protection"}),g.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Respect calling hours based on timezone"})]}),g.jsx(_o,{checked:n.timezone_protection,onCheckedChange:S=>x("timezone_protection",S)})]}),n.timezone_protection&&g.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-purple-500/30",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-purple-300 text-sm mb-2 block",children:"Timezone"}),g.jsxs("select",{value:n.timezone,onChange:S=>x("timezone",S.target.value),className:"w-full p-2 bg-[#1a0f2e] border border-purple-500/20 rounded-xl text-white",children:[g.jsx("option",{value:"America/New_York",children:"Eastern Time"}),g.jsx("option",{value:"America/Chicago",children:"Central Time"}),g.jsx("option",{value:"America/Denver",children:"Mountain Time"}),g.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-purple-300 text-sm mb-2 block",children:"Start Time"}),g.jsx(Xt,{type:"time",value:n.calling_hours_start,onChange:S=>x("calling_hours_start",S.target.value),className:"bg-[#1a0f2e] border-purple-500/20 text-white"})]}),g.jsxs("div",{children:[g.jsx(xt,{className:"text-purple-300 text-sm mb-2 block",children:"End Time"}),g.jsx(Xt,{type:"time",value:n.calling_hours_end,onChange:S=>x("calling_hours_end",S.target.value),className:"bg-[#1a0f2e] border-purple-500/20 text-white"})]})]})]})]})]}),g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx(XC,{className:"w-5 h-5 text-purple-400"}),g.jsx("h2",{className:"text-xl font-bold text-white",children:"Advanced Dialer Settings"})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium",children:"Call Recording"}),g.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Record all calls for quality and training"})]}),g.jsx(_o,{checked:n.enable_call_recording,onCheckedChange:S=>x("enable_call_recording",S)})]}),g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium mb-2 block",children:"Voicemail Detection Sensitivity"}),g.jsxs("select",{value:n.amd_sensitivity||"medium",onChange:S=>x("amd_sensitivity",S.target.value),className:"w-full p-2 bg-[#1a0f2e] border border-purple-500/20 rounded-xl text-white",children:[g.jsx("option",{value:"low",children:"Low (3 seconds)"}),g.jsx("option",{value:"medium",children:"Medium (5 seconds)"}),g.jsx("option",{value:"high",children:"High (7 seconds)"})]}),g.jsx("p",{className:"text-purple-400 text-xs mt-2",children:"Higher sensitivity takes longer but is more accurate"})]}),g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium mb-2 block",children:"Voicemail Detection Action"}),g.jsxs("select",{value:n.amd_action||"disconnect",onChange:S=>x("amd_action",S.target.value),className:"w-full p-2 bg-[#1a0f2e] border border-purple-500/20 rounded-xl text-white",children:[g.jsx("option",{value:"disconnect",children:"Disconnect immediately"}),g.jsx("option",{value:"continue",children:"Continue the call"}),g.jsx("option",{value:"notify",children:"Notify and let me decide"})]})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium",children:"Local Presence"}),g.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Use caller ID matching lead's area code"})]}),g.jsx(_o,{checked:n.local_presence_enabled,onCheckedChange:S=>x("local_presence_enabled",S)})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium",children:"Auto-Advance on Complete"}),g.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Automatically move to next lead after call"})]}),g.jsx(_o,{checked:n.auto_advance_on_complete!==!1,onCheckedChange:S=>x("auto_advance_on_complete",S)})]}),g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium mb-2 block",children:"Session Timeout (minutes)"}),g.jsx(Xt,{type:"number",value:n.session_timeout_minutes||60,onChange:S=>x("session_timeout_minutes",parseInt(S.target.value)),className:"bg-[#1a0f2e] border-purple-500/20 text-white",min:"15",max:"480"}),g.jsx("p",{className:"text-purple-400 text-xs mt-2",children:"Inactive sessions will expire after this time"})]})]})]}),g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.18},children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx(Bte,{className:"w-5 h-5 text-purple-400"}),g.jsx("h2",{className:"text-xl font-bold text-white",children:"Spotify Integration"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium",children:"Enable Spotify"}),g.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Play music during dialing sessions"})]}),g.jsx(_o,{checked:n.spotify_enabled,onCheckedChange:S=>x("spotify_enabled",S)})]}),n.spotify_enabled&&g.jsxs("div",{className:"pl-4 border-l-2 border-purple-500/30",children:[g.jsx(xt,{className:"text-purple-300 text-sm mb-2 block",children:"Playlist ID"}),g.jsx(Xt,{value:n.spotify_playlist_id||"",onChange:S=>x("spotify_playlist_id",S.target.value),placeholder:"37i9dQZF1DXcBWIGoYBM5M",className:"bg-[#1a0f2e] border-purple-500/20 text-white"}),g.jsx("p",{className:"text-purple-400 text-xs mt-2",children:"Enter the Spotify playlist ID from your playlist URL"})]})]})]}),g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx(qte,{className:"w-5 h-5 text-purple-400"}),g.jsx("h2",{className:"text-xl font-bold text-white",children:"Theme"})]}),g.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.keys(u).map(S=>g.jsx("button",{onClick:()=>c(S),className:`p-4 rounded-2xl border-2 transition-all capitalize ${a===S?"border-indigo-500 bg-indigo-50/10":"border-purple-500/20 hover:border-purple-500/40"}`,children:g.jsx("p",{className:"text-white font-medium",children:u[S].name})},S))})]}),g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx(ny,{className:"w-5 h-5 text-purple-400"}),g.jsx("h2",{className:"text-xl font-bold text-white",children:"Calendly Integration"})]}),g.jsxs("div",{children:[g.jsx(xt,{className:"text-purple-300 text-sm mb-2 block",children:"Calendly Booking URL"}),g.jsx(Xt,{value:n.calendly_url,onChange:S=>x("calendly_url",S.target.value),placeholder:"https://calendly.com/your-link",className:"bg-[#1a0f2e] border-purple-500/20 text-white"}),g.jsx("p",{className:"text-purple-400 text-xs mt-2",children:"Enter your Calendly link to enable quick appointment booking"})]})]}),g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx(ou,{className:"w-5 h-5 text-purple-400"}),g.jsx("h2",{className:"text-xl font-bold text-white",children:"Cash Goals"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-purple-300 text-sm mb-2 block",children:"Cash Collected Goal"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(Xt,{type:"number",value:i,onChange:S=>o(parseFloat(S.target.value)),className:"bg-[#1a0f2e] border-purple-500/20 text-white"}),g.jsx(Xe,{onClick:b,className:"bg-indigo-600 hover:bg-indigo-700",children:"Save"})]})]}),g.jsxs("div",{className:"p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-xl",children:[g.jsxs("p",{className:"text-emerald-400 text-sm",children:["Current: $",((_=f==null?void 0:f.cash_collected)==null?void 0:_.toLocaleString())||"0"]}),g.jsxs("p",{className:"text-emerald-300 font-semibold text-lg mt-1",children:["$",((T=f==null?void 0:f.cash_collected_goal)==null?void 0:T.toLocaleString())||"10,000"," Goal"]})]})]})]}),g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx(jte,{className:"w-5 h-5 text-purple-400"}),g.jsx("h2",{className:"text-xl font-bold text-white",children:"Quick Links"})]}),g.jsx("div",{className:"space-y-3",children:g.jsxs(sy,{to:Mq("Leads"),className:"block w-full p-4 bg-[#1a0f2e] rounded-xl border border-purple-500/10 hover:border-purple-500/30 transition-all",children:[g.jsx("p",{className:"text-white font-medium",children:"Manage Leads"}),g.jsx("p",{className:"text-purple-400 text-sm",children:"Add and organize your leads"})]})})]}),g.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:g.jsxs(Xe,{onClick:y,variant:"outline",className:"w-full h-14 bg-red-500/10 border-red-500/30 text-red-400 hover:bg-red-500/20 rounded-2xl",children:[g.jsx(Ite,{className:"w-5 h-5 mr-2"}),"Logout"]})})]})]})})}function iOe({userEmail:t="demo@example.com",favorites:e=[]}){const[n,r]=E.useState(!1),[i,o]=E.useState(null),[s,a]=E.useState({name:"",phone_number:"",company:"",email:"",notes:"",speed_dial_slot:null}),c=Tl(),u=Vs({mutationFn:async y=>{const{error:_}=await Ie.from("dialer_favorites").insert({...y,user_email:t});if(_)throw _},onSuccess:()=>{c.invalidateQueries(["dialerFavorites"]),Dn.success("Favorite added successfully"),r(!1),p()},onError:y=>{Dn.error(y.message||"Failed to add favorite")}}),f=Vs({mutationFn:async({id:y,data:_})=>{const{error:T}=await Ie.from("dialer_favorites").update(_).eq("id",y).eq("user_email",t);if(T)throw T},onSuccess:()=>{c.invalidateQueries(["dialerFavorites"]),Dn.success("Favorite updated successfully"),o(null),p()},onError:y=>{Dn.error(y.message||"Failed to update favorite")}}),h=Vs({mutationFn:async y=>{const{error:_}=await Ie.from("dialer_favorites").delete().eq("id",y).eq("user_email",t);if(_)throw _},onSuccess:()=>{c.invalidateQueries(["dialerFavorites"]),Dn.success("Favorite deleted")},onError:y=>{Dn.error(y.message||"Failed to delete favorite")}}),p=()=>{a({name:"",phone_number:"",company:"",email:"",notes:"",speed_dial_slot:null})},v=y=>{if(y.preventDefault(),!s.name||!s.phone_number){Dn.error("Name and phone number are required");return}i?f.mutate({id:i.id,data:s}):u.mutate(s)},x=y=>{o(y),a({name:y.name||"",phone_number:y.phone_number||"",company:y.company||"",email:y.email||"",notes:y.notes||"",speed_dial_slot:y.speed_dial_slot||null}),r(!0)},b=()=>{r(!1),o(null),p()};return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Favorite Contacts"}),g.jsxs(Xe,{onClick:()=>r(!0),size:"sm",className:"rounded-full",children:[g.jsx(vq,{className:"w-4 h-4 mr-2"}),"Add Favorite"]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(y=>g.jsxs(pe.div,{className:"bg-white border border-slate-200 rounded-2xl p-4 hover:shadow-lg transition-all",whileHover:{scale:1.02},children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-white font-semibold flex-shrink-0",children:kW(y.name)}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-start justify-between gap-2",children:[g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h4",{className:"font-semibold text-slate-800 truncate",children:y.name}),y.company&&g.jsx("p",{className:"text-sm text-slate-500 truncate",children:y.company})]}),y.speed_dial_slot&&g.jsx("div",{className:"w-6 h-6 rounded-full bg-amber-100 text-amber-600 flex items-center justify-center text-xs font-bold flex-shrink-0",children:y.speed_dial_slot})]}),g.jsx("p",{className:"text-sm text-slate-600 mt-1 font-mono",children:Lc(y.phone_number)}),y.email&&g.jsx("p",{className:"text-xs text-slate-400 mt-1 truncate",children:y.email}),y.call_count>0&&g.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Called ",y.call_count," time",y.call_count!==1?"s":""]})]})]}),g.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-slate-100",children:[g.jsxs(Xe,{variant:"ghost",size:"sm",onClick:()=>x(y),className:"flex-1",children:[g.jsx(Wte,{className:"w-3 h-3 mr-1"}),"Edit"]}),g.jsxs(Xe,{variant:"ghost",size:"sm",onClick:()=>h.mutate(y.id),className:"flex-1 text-red-600 hover:text-red-700 hover:bg-red-50",children:[g.jsx(ZP,{className:"w-3 h-3 mr-1"}),"Delete"]})]})]},y.id))}),e.length===0&&g.jsxs("div",{className:"text-center py-12 text-slate-500",children:[g.jsx(fl,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),g.jsx("p",{children:"No favorite contacts yet"}),g.jsx("p",{className:"text-sm mt-1",children:"Add contacts for quick access"})]}),g.jsx(Wf,{open:n,onOpenChange:b,children:g.jsxs(lu,{className:"rounded-3xl",children:[g.jsx(cu,{children:g.jsx(uu,{children:i?"Edit Favorite":"Add Favorite Contact"})}),g.jsxs("form",{onSubmit:v,className:"space-y-4 mt-4",children:[g.jsxs("div",{children:[g.jsx(xt,{htmlFor:"name",children:"Name *"}),g.jsx(Xt,{id:"name",value:s.name,onChange:y=>a({...s,name:y.target.value}),placeholder:"John Doe",required:!0,className:"mt-1"})]}),g.jsxs("div",{children:[g.jsx(xt,{htmlFor:"phone",children:"Phone Number *"}),g.jsx(Xt,{id:"phone",value:s.phone_number,onChange:y=>a({...s,phone_number:y.target.value}),placeholder:"+1 (555) 123-4567",required:!0,className:"mt-1"})]}),g.jsxs("div",{children:[g.jsx(xt,{htmlFor:"company",children:"Company"}),g.jsx(Xt,{id:"company",value:s.company,onChange:y=>a({...s,company:y.target.value}),placeholder:"Acme Inc.",className:"mt-1"})]}),g.jsxs("div",{children:[g.jsx(xt,{htmlFor:"email",children:"Email"}),g.jsx(Xt,{id:"email",type:"email",value:s.email,onChange:y=>a({...s,email:y.target.value}),placeholder:"john@example.com",className:"mt-1"})]}),g.jsxs("div",{children:[g.jsx(xt,{htmlFor:"speedDial",children:"Speed Dial Slot (1-9)"}),g.jsx(Xt,{id:"speedDial",type:"number",min:"1",max:"9",value:s.speed_dial_slot||"",onChange:y=>a({...s,speed_dial_slot:y.target.value?parseInt(y.target.value):null}),placeholder:"Optional",className:"mt-1"})]}),g.jsxs("div",{children:[g.jsx(xt,{htmlFor:"notes",children:"Notes"}),g.jsx(Xt,{id:"notes",value:s.notes,onChange:y=>a({...s,notes:y.target.value}),placeholder:"Additional notes...",className:"mt-1"})]}),g.jsxs("div",{className:"flex gap-2 pt-2",children:[g.jsx(Xe,{type:"button",variant:"outline",onClick:b,className:"flex-1",children:"Cancel"}),g.jsxs(Xe,{type:"submit",disabled:u.isPending||f.isPending,className:"flex-1",children:[g.jsx(nne,{className:"w-4 h-4 mr-2"}),i?"Update":"Add"," Favorite"]})]})]})]})})]})}function h9(){const[t,e]=E.useState(null),[n,r]=E.useState(!1);E.useEffect(()=>{(async()=>{e({email:"demo@example.com"})})()},[]);const{data:i}=kt({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:u,error:f}=await Ie.from("user_stats").select().eq("user_email",t.email).maybeSingle();if(f)throw f;return u||null},enabled:!!(t!=null&&t.email)}),{data:o=[]}=kt({queryKey:["dialerFavorites",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return[];const{data:u,error:f}=await Ie.from("dialer_favorites").select("*").eq("user_email",t.email).order("sort_order",{ascending:!0});if(f)throw f;return u||[]},enabled:!!(t!=null&&t.email)}),{data:s=[]}=kt({queryKey:["dialerCallHistory",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return[];const{data:u,error:f}=await Ie.from("dialer_call_history").select("*").eq("user_email",t.email).order("started_at",{ascending:!1}).limit(50);if(f)throw f;return u||[]},enabled:!!(t!=null&&t.email)}),{data:a=[]}=kt({queryKey:["recentNumbers",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return[];const{data:u,error:f}=await Ie.from("recent_numbers").select("*").eq("user_email",t.email).order("last_called_at",{ascending:!1}).limit(10);if(f)throw f;return u||[]},enabled:!!(t!=null&&t.email)}),c={totalCalls:s.length,completedCalls:s.filter(u=>u.status==="completed").length,totalDuration:s.reduce((u,f)=>u+(f.duration||0),0),missedCalls:s.filter(u=>u.is_missed).length};return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e] relative overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-600/20 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-indigo-600/20 rounded-full blur-3xl"})]}),g.jsxs("div",{className:"relative z-10 p-6 max-w-7xl mx-auto",children:[g.jsx(El,{userStats:i}),g.jsx("div",{className:"mb-6",children:g.jsx(Cl,{})}),g.jsxs(pe.div,{className:"flex items-center justify-between mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-white",children:"Phone Manager"}),g.jsx("p",{className:"text-purple-300 mt-1",children:"Manage contacts, view history, and make calls"})]}),g.jsxs(Xe,{onClick:()=>r(!0),className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 rounded-xl shadow-lg",children:[g.jsx(_t,{className:"w-4 h-4 mr-2"}),"Open Dialer"]})]}),g.jsxs(pe.div,{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-emerald-500/20",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-emerald-300 text-sm",children:"Total Calls"}),g.jsx(_t,{className:"w-4 h-4 text-emerald-400"})]}),g.jsx("p",{className:"text-3xl font-bold text-white",children:c.totalCalls})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-blue-500/20",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-blue-300 text-sm",children:"Completed"}),g.jsx(_t,{className:"w-4 h-4 text-blue-400"})]}),g.jsx("p",{className:"text-3xl font-bold text-white",children:c.completedCalls})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-purple-300 text-sm",children:"Total Time"}),g.jsx(Ws,{className:"w-4 h-4 text-purple-400"})]}),g.jsx("p",{className:"text-3xl font-bold text-white",children:Xg(c.totalDuration)})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-amber-500/20",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-amber-300 text-sm",children:"Favorites"}),g.jsx(fl,{className:"w-4 h-4 text-amber-400"})]}),g.jsx("p",{className:"text-3xl font-bold text-white",children:o.length})]})]}),g.jsxs(OW,{defaultValue:"favorites",className:"w-full",children:[g.jsxs(kA,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm border border-purple-500/20 mb-6",children:[g.jsxs(ol,{value:"favorites",className:"data-[state=active]:bg-purple-600",children:[g.jsx(fl,{className:"w-4 h-4 mr-2"}),"Favorites"]}),g.jsxs(ol,{value:"recent",className:"data-[state=active]:bg-purple-600",children:[g.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Recent"]}),g.jsxs(ol,{value:"history",className:"data-[state=active]:bg-purple-600",children:[g.jsx(_t,{className:"w-4 h-4 mr-2"}),"Call History"]})]}),g.jsx(sl,{value:"favorites",children:g.jsx(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:g.jsx(iOe,{userEmail:t==null?void 0:t.email,favorites:o})})}),g.jsx(sl,{value:"recent",children:g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[g.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Numbers"}),g.jsx("div",{className:"space-y-2",children:a.length===0?g.jsxs("div",{className:"text-center py-12 text-purple-300",children:[g.jsx(Ws,{className:"w-12 h-12 mx-auto mb-2 text-purple-500/30"}),g.jsx("p",{children:"No recent calls"})]}):a.map(u=>g.jsxs(pe.div,{className:"flex items-center justify-between p-4 rounded-xl bg-[#1a0f2e]/50 hover:bg-[#1a0f2e] transition-colors",whileHover:{scale:1.02},children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-medium text-white",children:u.contact_name||Lc(u.phone_number)}),g.jsxs("div",{className:"text-sm text-purple-300",children:["Called ",u.call_count," time",u.call_count!==1?"s":""]})]}),g.jsx(Xe,{size:"sm",onClick:()=>r(!0),className:"bg-blue-600 hover:bg-blue-700",children:g.jsx(_t,{className:"w-4 h-4"})})]},u.id))})]})}),g.jsx(sl,{value:"history",children:g.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[g.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Call History"}),g.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:s.length===0?g.jsxs("div",{className:"text-center py-12 text-purple-300",children:[g.jsx(_t,{className:"w-12 h-12 mx-auto mb-2 text-purple-500/30"}),g.jsx("p",{children:"No call history"})]}):s.map(u=>g.jsxs(pe.div,{className:"flex items-center gap-4 p-4 rounded-xl bg-[#1a0f2e]/50 hover:bg-[#1a0f2e] transition-colors",whileHover:{scale:1.01},children:[g.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${u.direction==="inbound"?"bg-blue-500/20":"bg-green-500/20"}`,children:g.jsx(_t,{className:`w-5 h-5 ${u.direction==="inbound"?"text-blue-400 rotate-180":"text-green-400"}`})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"font-medium text-white truncate",children:u.contact_name||Lc(u.phone_number)}),g.jsxs("div",{className:"text-sm text-purple-300",children:[u.status==="completed"?g.jsxs(g.Fragment,{children:["Duration: ",Xg(u.duration)]}):g.jsxs(g.Fragment,{children:["Status: ",u.status]}),u.is_missed&&g.jsx("span",{className:"text-red-400 ml-2",children:"(Missed)"})]})]}),g.jsxs("div",{className:"text-right text-sm text-purple-400 flex-shrink-0",children:[g.jsx("div",{children:new Date(u.started_at).toLocaleDateString()}),g.jsx("div",{children:new Date(u.started_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},u.id))})]})})]})]}),g.jsx(Pl,{children:n&&g.jsx(jW,{onClose:()=>r(!1),userEmail:t==null?void 0:t.email})})]})}const q5={Home:OT,Leads:RW,Leaderboard:NW,Metrics:i9,Achievements:o9,Settings:f9,PhoneManager:h9};function oOe(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(q5).find(r=>r.toLowerCase()===e.toLowerCase())||Object.keys(q5)[0]}function sOe(){const t=Qo(),e=oOe(t.pathname);return g.jsx(TG,{currentPageName:e,children:g.jsxs(Pre,{children:[g.jsx(xo,{path:"/",element:g.jsx(OT,{})}),g.jsx(xo,{path:"/Home",element:g.jsx(OT,{})}),g.jsx(xo,{path:"/Leads",element:g.jsx(RW,{})}),g.jsx(xo,{path:"/Leaderboard",element:g.jsx(NW,{})}),g.jsx(xo,{path:"/Metrics",element:g.jsx(i9,{})}),g.jsx(xo,{path:"/Achievements",element:g.jsx(o9,{})}),g.jsx(xo,{path:"/Settings",element:g.jsx(f9,{})}),g.jsx(xo,{path:"/PhoneManager",element:g.jsx(h9,{})})]})})}function aOe(){return g.jsx(Gre,{children:g.jsx(sOe,{})})}const lOe=20,cOe=1e6,Ro={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let K1=0;function uOe(){return K1=(K1+1)%Number.MAX_VALUE,K1.toString()}const Y1=new Map,V5=t=>{if(Y1.has(t))return;const e=setTimeout(()=>{Y1.delete(t),Nf({type:Ro.REMOVE_TOAST,toastId:t})},cOe);Y1.set(t,e)},dOe=(t,e)=>{switch(e.type){case Ro.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,lOe)};case Ro.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Ro.DISMISS_TOAST:{const{toastId:n}=e;return n?V5(n):t.toasts.forEach(r=>{V5(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Ro.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},vg=[];let yg={toasts:[]};function Nf(t){yg=dOe(yg,t),vg.forEach(e=>{e(yg)})}function fOe({...t}){const e=uOe(),n=i=>Nf({type:Ro.UPDATE_TOAST,toast:{...i,id:e}}),r=()=>Nf({type:Ro.DISMISS_TOAST,toastId:e});return Nf({type:Ro.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function hOe(){const[t,e]=E.useState(yg);return E.useEffect(()=>(vg.push(e),()=>{const n=vg.indexOf(e);n>-1&&vg.splice(n,1)}),[t]),{...t,toast:fOe,dismiss:n=>Nf({type:Ro.DISMISS_TOAST,toastId:n})}}const p9=E.forwardRef(({...t},e)=>g.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));p9.displayName="ToastProvider";const m9=E.forwardRef(({...t},e)=>g.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));m9.displayName="ToastViewport";const pOe=ay("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),g9=E.forwardRef(({className:t,variant:e,...n},r)=>g.jsx("div",{ref:r,className:et(pOe({variant:e}),t),...n}));g9.displayName="Toast";const mOe=E.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:et("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));mOe.displayName="ToastAction";const v9=E.forwardRef(({className:t,...e},n)=>g.jsx("button",{ref:n,className:et("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(Bh,{className:"h-4 w-4"})}));v9.displayName="ToastClose";const y9=E.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:et("text-sm font-semibold",t),...e}));y9.displayName="ToastTitle";const b9=E.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:et("text-sm opacity-90",t),...e}));b9.displayName="ToastDescription";function gOe(){const{toasts:t}=hOe();return g.jsxs(p9,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return g.jsxs(g9,{...o,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(y9,{children:n}),r&&g.jsx(b9,{children:r})]}),i,g.jsx(v9,{})]},e)}),g.jsx(m9,{})]})}const vOe=new EJ;function yOe(){return g.jsxs(CJ,{client:vOe,children:[g.jsx(aOe,{}),g.jsx(gOe,{})]})}PG.createRoot(document.getElementById("root")).render(g.jsx(soe,{children:g.jsx(yOe,{})}));
