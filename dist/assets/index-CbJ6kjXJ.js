var gR=t=>{throw TypeError(t)};var Yb=(t,e,n)=>e.has(t)||gR("Cannot "+n);var W=(t,e,n)=>(Yb(t,e,"read from private field"),n?n.call(t):e.get(t)),Ie=(t,e,n)=>e.has(t)?gR("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),be=(t,e,n,r)=>(Yb(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ye=(t,e,n)=>(Yb(t,e,"access private method"),n);var cm=(t,e,n,r)=>({set _(i){be(t,e,i,n)},get _(){return W(t,e,r)}});function QC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var um=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function st(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ih(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Xb={exports:{}},Hd={},Qb={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vR;function mG(){if(vR)return Je;vR=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function p($){return $===null||typeof $!="object"?null:($=h&&$[h]||$["@@iterator"],typeof $=="function"?$:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function y($,z,te){this.props=$,this.context=z,this.refs=b,this.updater=te||v}y.prototype.isReactComponent={},y.prototype.setState=function($,z){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,z,"setState")},y.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function _(){}_.prototype=y.prototype;function T($,z,te){this.props=$,this.context=z,this.refs=b,this.updater=te||v}var S=T.prototype=new _;S.constructor=T,x(S,y.prototype),S.isPureReactComponent=!0;var A=Array.isArray,P=Object.prototype.hasOwnProperty,O={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R($,z,te){var ue,ye={},Oe=null,se=null;if(z!=null)for(ue in z.ref!==void 0&&(se=z.ref),z.key!==void 0&&(Oe=""+z.key),z)P.call(z,ue)&&!k.hasOwnProperty(ue)&&(ye[ue]=z[ue]);var pe=arguments.length-2;if(pe===1)ye.children=te;else if(1<pe){for(var oe=Array(pe),fe=0;fe<pe;fe++)oe[fe]=arguments[fe+2];ye.children=oe}if($&&$.defaultProps)for(ue in pe=$.defaultProps,pe)ye[ue]===void 0&&(ye[ue]=pe[ue]);return{$$typeof:t,type:$,key:Oe,ref:se,props:ye,_owner:O.current}}function I($,z){return{$$typeof:t,type:$.type,key:z,ref:$.ref,props:$.props,_owner:$._owner}}function L($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function M($){var z={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(te){return z[te]})}var B=/\/+/g;function q($,z){return typeof $=="object"&&$!==null&&$.key!=null?M(""+$.key):z.toString(36)}function Y($,z,te,ue,ye){var Oe=typeof $;(Oe==="undefined"||Oe==="boolean")&&($=null);var se=!1;if($===null)se=!0;else switch(Oe){case"string":case"number":se=!0;break;case"object":switch($.$$typeof){case t:case e:se=!0}}if(se)return se=$,ye=ye(se),$=ue===""?"."+q(se,0):ue,A(ye)?(te="",$!=null&&(te=$.replace(B,"$&/")+"/"),Y(ye,z,te,"",function(fe){return fe})):ye!=null&&(L(ye)&&(ye=I(ye,te+(!ye.key||se&&se.key===ye.key?"":(""+ye.key).replace(B,"$&/")+"/")+$)),z.push(ye)),1;if(se=0,ue=ue===""?".":ue+":",A($))for(var pe=0;pe<$.length;pe++){Oe=$[pe];var oe=ue+q(Oe,pe);se+=Y(Oe,z,te,oe,ye)}else if(oe=p($),typeof oe=="function")for($=oe.call($),pe=0;!(Oe=$.next()).done;)Oe=Oe.value,oe=ue+q(Oe,pe++),se+=Y(Oe,z,te,oe,ye);else if(Oe==="object")throw z=String($),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return se}function Q($,z,te){if($==null)return $;var ue=[],ye=0;return Y($,ue,"","",function(Oe){return z.call(te,Oe,ye++)}),ue}function K($){if($._status===-1){var z=$._result;z=z(),z.then(function(te){($._status===0||$._status===-1)&&($._status=1,$._result=te)},function(te){($._status===0||$._status===-1)&&($._status=2,$._result=te)}),$._status===-1&&($._status=0,$._result=z)}if($._status===1)return $._result.default;throw $._result}var J={current:null},F={transition:null},G={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:F,ReactCurrentOwner:O};function D(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:Q,forEach:function($,z,te){Q($,function(){z.apply(this,arguments)},te)},count:function($){var z=0;return Q($,function(){z++}),z},toArray:function($){return Q($,function(z){return z})||[]},only:function($){if(!L($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Je.Component=y,Je.Fragment=n,Je.Profiler=i,Je.PureComponent=T,Je.StrictMode=r,Je.Suspense=c,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Je.act=D,Je.cloneElement=function($,z,te){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var ue=x({},$.props),ye=$.key,Oe=$.ref,se=$._owner;if(z!=null){if(z.ref!==void 0&&(Oe=z.ref,se=O.current),z.key!==void 0&&(ye=""+z.key),$.type&&$.type.defaultProps)var pe=$.type.defaultProps;for(oe in z)P.call(z,oe)&&!k.hasOwnProperty(oe)&&(ue[oe]=z[oe]===void 0&&pe!==void 0?pe[oe]:z[oe])}var oe=arguments.length-2;if(oe===1)ue.children=te;else if(1<oe){pe=Array(oe);for(var fe=0;fe<oe;fe++)pe[fe]=arguments[fe+2];ue.children=pe}return{$$typeof:t,type:$.type,key:ye,ref:Oe,props:ue,_owner:se}},Je.createContext=function($){return $={$$typeof:s,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:o,_context:$},$.Consumer=$},Je.createElement=R,Je.createFactory=function($){var z=R.bind(null,$);return z.type=$,z},Je.createRef=function(){return{current:null}},Je.forwardRef=function($){return{$$typeof:a,render:$}},Je.isValidElement=L,Je.lazy=function($){return{$$typeof:f,_payload:{_status:-1,_result:$},_init:K}},Je.memo=function($,z){return{$$typeof:u,type:$,compare:z===void 0?null:z}},Je.startTransition=function($){var z=F.transition;F.transition={};try{$()}finally{F.transition=z}},Je.unstable_act=D,Je.useCallback=function($,z){return J.current.useCallback($,z)},Je.useContext=function($){return J.current.useContext($)},Je.useDebugValue=function(){},Je.useDeferredValue=function($){return J.current.useDeferredValue($)},Je.useEffect=function($,z){return J.current.useEffect($,z)},Je.useId=function(){return J.current.useId()},Je.useImperativeHandle=function($,z,te){return J.current.useImperativeHandle($,z,te)},Je.useInsertionEffect=function($,z){return J.current.useInsertionEffect($,z)},Je.useLayoutEffect=function($,z){return J.current.useLayoutEffect($,z)},Je.useMemo=function($,z){return J.current.useMemo($,z)},Je.useReducer=function($,z,te){return J.current.useReducer($,z,te)},Je.useRef=function($){return J.current.useRef($)},Je.useState=function($){return J.current.useState($)},Je.useSyncExternalStore=function($,z,te){return J.current.useSyncExternalStore($,z,te)},Je.useTransition=function(){return J.current.useTransition()},Je.version="18.3.1",Je}var yR;function JC(){return yR||(yR=1,Qb.exports=mG()),Qb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bR;function gG(){if(bR)return Hd;bR=1;var t=JC(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,c,u){var f,h={},p=null,v=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(v=c.ref);for(f in c)r.call(c,f)&&!o.hasOwnProperty(f)&&(h[f]=c[f]);if(a&&a.defaultProps)for(f in c=a.defaultProps,c)h[f]===void 0&&(h[f]=c[f]);return{$$typeof:e,type:a,key:p,ref:v,props:h,_owner:i.current}}return Hd.Fragment=n,Hd.jsx=s,Hd.jsxs=s,Hd}var wR;function vG(){return wR||(wR=1,Xb.exports=gG()),Xb.exports}var g=vG(),C=JC();const V=st(C),ZC=QC({__proto__:null,default:V},[C]);var dm={},Jb={exports:{}},ur={},Zb={exports:{}},ew={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xR;function yG(){return xR||(xR=1,(function(t){function e(F,G){var D=F.length;F.push(G);e:for(;0<D;){var $=D-1>>>1,z=F[$];if(0<i(z,G))F[$]=G,F[D]=z,D=$;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var G=F[0],D=F.pop();if(D!==G){F[0]=D;e:for(var $=0,z=F.length,te=z>>>1;$<te;){var ue=2*($+1)-1,ye=F[ue],Oe=ue+1,se=F[Oe];if(0>i(ye,D))Oe<z&&0>i(se,ye)?(F[$]=se,F[Oe]=D,$=Oe):(F[$]=ye,F[ue]=D,$=ue);else if(Oe<z&&0>i(se,D))F[$]=se,F[Oe]=D,$=Oe;else break e}}return G}function i(F,G){var D=F.sortIndex-G.sortIndex;return D!==0?D:F.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var c=[],u=[],f=1,h=null,p=3,v=!1,x=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=F)r(u),G.sortIndex=G.expirationTime,e(c,G);else break;G=n(u)}}function A(F){if(b=!1,S(F),!x)if(n(c)!==null)x=!0,K(P);else{var G=n(u);G!==null&&J(A,G.startTime-F)}}function P(F,G){x=!1,b&&(b=!1,_(R),R=-1),v=!0;var D=p;try{for(S(G),h=n(c);h!==null&&(!(h.expirationTime>G)||F&&!M());){var $=h.callback;if(typeof $=="function"){h.callback=null,p=h.priorityLevel;var z=$(h.expirationTime<=G);G=t.unstable_now(),typeof z=="function"?h.callback=z:h===n(c)&&r(c),S(G)}else r(c);h=n(c)}if(h!==null)var te=!0;else{var ue=n(u);ue!==null&&J(A,ue.startTime-G),te=!1}return te}finally{h=null,p=D,v=!1}}var O=!1,k=null,R=-1,I=5,L=-1;function M(){return!(t.unstable_now()-L<I)}function B(){if(k!==null){var F=t.unstable_now();L=F;var G=!0;try{G=k(!0,F)}finally{G?q():(O=!1,k=null)}}else O=!1}var q;if(typeof T=="function")q=function(){T(B)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Q=Y.port2;Y.port1.onmessage=B,q=function(){Q.postMessage(null)}}else q=function(){y(B,0)};function K(F){k=F,O||(O=!0,q())}function J(F,G){R=y(function(){F(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,K(P))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var D=p;p=G;try{return F()}finally{p=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var D=p;p=F;try{return G()}finally{p=D}},t.unstable_scheduleCallback=function(F,G,D){var $=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?$+D:$):D=$,F){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=D+z,F={id:f++,callback:G,priorityLevel:F,startTime:D,expirationTime:z,sortIndex:-1},D>$?(F.sortIndex=D,e(u,F),n(c)===null&&F===n(u)&&(b?(_(R),R=-1):b=!0,J(A,D-$))):(F.sortIndex=z,e(c,F),x||v||(x=!0,K(P))),F},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(F){var G=p;return function(){var D=p;p=G;try{return F.apply(this,arguments)}finally{p=D}}}})(ew)),ew}var _R;function bG(){return _R||(_R=1,Zb.exports=yG()),Zb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SR;function wG(){if(SR)return ur;SR=1;var t=JC(),e=bG();function n(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(l,d){s(l,d),s(l+"Capture",d)}function s(l,d){for(i[l]=d,l=0;l<d.length;l++)r.add(d[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function p(l){return c.call(h,l)?!0:c.call(f,l)?!1:u.test(l)?h[l]=!0:(f[l]=!0,!1)}function v(l,d,m,w){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return w?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function x(l,d,m,w){if(d===null||typeof d>"u"||v(l,d,m,w))return!0;if(w)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function b(l,d,m,w,E,j,N){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=w,this.attributeNamespace=E,this.mustUseProperty=m,this.propertyName=l,this.type=d,this.sanitizeURL=j,this.removeEmptyString=N}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){y[l]=new b(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];y[d]=new b(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){y[l]=new b(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){y[l]=new b(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){y[l]=new b(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){y[l]=new b(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){y[l]=new b(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){y[l]=new b(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){y[l]=new b(l,5,!1,l.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function T(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(_,T);y[d]=new b(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(_,T);y[d]=new b(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(_,T);y[d]=new b(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){y[l]=new b(l,1,!1,l.toLowerCase(),null,!1,!1)}),y.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){y[l]=new b(l,1,!1,l.toLowerCase(),null,!0,!0)});function S(l,d,m,w){var E=y.hasOwnProperty(d)?y[d]:null;(E!==null?E.type!==0:w||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(x(d,m,E,w)&&(m=null),w||E===null?p(d)&&(m===null?l.removeAttribute(d):l.setAttribute(d,""+m)):E.mustUseProperty?l[E.propertyName]=m===null?E.type===3?!1:"":m:(d=E.attributeName,w=E.attributeNamespace,m===null?l.removeAttribute(d):(E=E.type,m=E===3||E===4&&m===!0?"":""+m,w?l.setAttributeNS(w,d,m):l.setAttribute(d,m))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),O=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),M=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),F=Symbol.iterator;function G(l){return l===null||typeof l!="object"?null:(l=F&&l[F]||l["@@iterator"],typeof l=="function"?l:null)}var D=Object.assign,$;function z(l){if($===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);$=d&&d[1]||""}return`
`+$+l}var te=!1;function ue(l,d){if(!l||te)return"";te=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(ne){var w=ne}Reflect.construct(l,[],d)}else{try{d.call()}catch(ne){w=ne}l.call(d.prototype)}else{try{throw Error()}catch(ne){w=ne}l()}}catch(ne){if(ne&&w&&typeof ne.stack=="string"){for(var E=ne.stack.split(`
`),j=w.stack.split(`
`),N=E.length-1,U=j.length-1;1<=N&&0<=U&&E[N]!==j[U];)U--;for(;1<=N&&0<=U;N--,U--)if(E[N]!==j[U]){if(N!==1||U!==1)do if(N--,U--,0>U||E[N]!==j[U]){var H=`
`+E[N].replace(" at new "," at ");return l.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",l.displayName)),H}while(1<=N&&0<=U);break}}}finally{te=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?z(l):""}function ye(l){switch(l.tag){case 5:return z(l.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return l=ue(l.type,!1),l;case 11:return l=ue(l.type.render,!1),l;case 1:return l=ue(l.type,!0),l;default:return""}}function Oe(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case k:return"Fragment";case O:return"Portal";case I:return"Profiler";case R:return"StrictMode";case q:return"Suspense";case Y:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case M:return(l.displayName||"Context")+".Consumer";case L:return(l._context.displayName||"Context")+".Provider";case B:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Q:return d=l.displayName||null,d!==null?d:Oe(l.type)||"Memo";case K:d=l._payload,l=l._init;try{return Oe(l(d))}catch{}}return null}function se(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(d);case 8:return d===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function pe(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function oe(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function fe(l){var d=oe(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),w=""+l[d];if(!l.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,j=m.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return E.call(this)},set:function(N){w=""+N,j.call(this,N)}}),Object.defineProperty(l,d,{enumerable:m.enumerable}),{getValue:function(){return w},setValue:function(N){w=""+N},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function ve(l){l._valueTracker||(l._valueTracker=fe(l))}function re(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var m=d.getValue(),w="";return l&&(w=oe(l)?l.checked?"true":"false":l.value),l=w,l!==m?(d.setValue(l),!0):!1}function ze(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Le(l,d){var m=d.checked;return D({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function ct(l,d){var m=d.defaultValue==null?"":d.defaultValue,w=d.checked!=null?d.checked:d.defaultChecked;m=pe(d.value!=null?d.value:m),l._wrapperState={initialChecked:w,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function ut(l,d){d=d.checked,d!=null&&S(l,"checked",d,!1)}function Pt(l,d){ut(l,d);var m=pe(d.value),w=d.type;if(m!=null)w==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(w==="submit"||w==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?On(l,d.type,m):d.hasOwnProperty("defaultValue")&&On(l,d.type,pe(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function Kn(l,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var w=d.type;if(!(w!=="submit"&&w!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,m||d===l.value||(l.value=d),l.defaultValue=d}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function On(l,d,m){(d!=="number"||ze(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var xr=Array.isArray;function kn(l,d,m,w){if(l=l.options,d){d={};for(var E=0;E<m.length;E++)d["$"+m[E]]=!0;for(m=0;m<l.length;m++)E=d.hasOwnProperty("$"+l[m].value),l[m].selected!==E&&(l[m].selected=E),E&&w&&(l[m].defaultSelected=!0)}else{for(m=""+pe(m),d=null,E=0;E<l.length;E++){if(l[E].value===m){l[E].selected=!0,w&&(l[E].defaultSelected=!0);return}d!==null||l[E].disabled||(d=l[E])}d!==null&&(d.selected=!0)}}function _r(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return D({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function oo(l,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(n(92));if(xr(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),m=d}l._wrapperState={initialValue:pe(m)}}function Qe(l,d){var m=pe(d.value),w=pe(d.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),d.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),w!=null&&(l.defaultValue=""+w)}function Tt(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function ln(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oi(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?ln(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Ii,ad=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,w,E){MSApp.execUnsafeLocalFunction(function(){return l(d,m,w,E)})}:l})(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(Ii=Ii||document.createElement("div"),Ii.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Ii.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function ld(l,d){if(d){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=d;return}}l.textContent=d}var cd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},b9=["Webkit","ms","Moz","O"];Object.keys(cd).forEach(function(l){b9.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),cd[d]=cd[l]})});function jO(l,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||cd.hasOwnProperty(l)&&cd[l]?(""+d).trim():d+"px"}function RO(l,d){l=l.style;for(var m in d)if(d.hasOwnProperty(m)){var w=m.indexOf("--")===0,E=jO(m,d[m],w);m==="float"&&(m="cssFloat"),w?l.setProperty(m,E):l[m]=E}}var w9=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a0(l,d){if(d){if(w9[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function l0(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c0=null;function u0(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var d0=null,Il=null,Ml=null;function NO(l){if(l=jd(l)){if(typeof d0!="function")throw Error(n(280));var d=l.stateNode;d&&(d=Pp(d),d0(l.stateNode,l.type,d))}}function IO(l){Il?Ml?Ml.push(l):Ml=[l]:Il=l}function MO(){if(Il){var l=Il,d=Ml;if(Ml=Il=null,NO(l),d)for(l=0;l<d.length;l++)NO(d[l])}}function DO(l,d){return l(d)}function $O(){}var f0=!1;function LO(l,d,m){if(f0)return l(d,m);f0=!0;try{return DO(l,d,m)}finally{f0=!1,(Il!==null||Ml!==null)&&($O(),MO())}}function ud(l,d){var m=l.stateNode;if(m===null)return null;var w=Pp(m);if(w===null)return null;m=w[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(l=l.type,w=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!w;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var h0=!1;if(a)try{var dd={};Object.defineProperty(dd,"passive",{get:function(){h0=!0}}),window.addEventListener("test",dd,dd),window.removeEventListener("test",dd,dd)}catch{h0=!1}function x9(l,d,m,w,E,j,N,U,H){var ne=Array.prototype.slice.call(arguments,3);try{d.apply(m,ne)}catch(le){this.onError(le)}}var fd=!1,np=null,rp=!1,p0=null,_9={onError:function(l){fd=!0,np=l}};function S9(l,d,m,w,E,j,N,U,H){fd=!1,np=null,x9.apply(_9,arguments)}function P9(l,d,m,w,E,j,N,U,H){if(S9.apply(this,arguments),fd){if(fd){var ne=np;fd=!1,np=null}else throw Error(n(198));rp||(rp=!0,p0=ne)}}function sa(l){var d=l,m=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(m=d.return),l=d.return;while(l)}return d.tag===3?m:null}function FO(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function BO(l){if(sa(l)!==l)throw Error(n(188))}function T9(l){var d=l.alternate;if(!d){if(d=sa(l),d===null)throw Error(n(188));return d!==l?null:l}for(var m=l,w=d;;){var E=m.return;if(E===null)break;var j=E.alternate;if(j===null){if(w=E.return,w!==null){m=w;continue}break}if(E.child===j.child){for(j=E.child;j;){if(j===m)return BO(E),l;if(j===w)return BO(E),d;j=j.sibling}throw Error(n(188))}if(m.return!==w.return)m=E,w=j;else{for(var N=!1,U=E.child;U;){if(U===m){N=!0,m=E,w=j;break}if(U===w){N=!0,w=E,m=j;break}U=U.sibling}if(!N){for(U=j.child;U;){if(U===m){N=!0,m=j,w=E;break}if(U===w){N=!0,w=j,m=E;break}U=U.sibling}if(!N)throw Error(n(189))}}if(m.alternate!==w)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?l:d}function UO(l){return l=T9(l),l!==null?qO(l):null}function qO(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=qO(l);if(d!==null)return d;l=l.sibling}return null}var VO=e.unstable_scheduleCallback,WO=e.unstable_cancelCallback,C9=e.unstable_shouldYield,E9=e.unstable_requestPaint,Jt=e.unstable_now,A9=e.unstable_getCurrentPriorityLevel,m0=e.unstable_ImmediatePriority,zO=e.unstable_UserBlockingPriority,ip=e.unstable_NormalPriority,O9=e.unstable_LowPriority,HO=e.unstable_IdlePriority,op=null,Mi=null;function k9(l){if(Mi&&typeof Mi.onCommitFiberRoot=="function")try{Mi.onCommitFiberRoot(op,l,void 0,(l.current.flags&128)===128)}catch{}}var si=Math.clz32?Math.clz32:N9,j9=Math.log,R9=Math.LN2;function N9(l){return l>>>=0,l===0?32:31-(j9(l)/R9|0)|0}var sp=64,ap=4194304;function hd(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function lp(l,d){var m=l.pendingLanes;if(m===0)return 0;var w=0,E=l.suspendedLanes,j=l.pingedLanes,N=m&268435455;if(N!==0){var U=N&~E;U!==0?w=hd(U):(j&=N,j!==0&&(w=hd(j)))}else N=m&~E,N!==0?w=hd(N):j!==0&&(w=hd(j));if(w===0)return 0;if(d!==0&&d!==w&&(d&E)===0&&(E=w&-w,j=d&-d,E>=j||E===16&&(j&4194240)!==0))return d;if((w&4)!==0&&(w|=m&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=w;0<d;)m=31-si(d),E=1<<m,w|=l[m],d&=~E;return w}function I9(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M9(l,d){for(var m=l.suspendedLanes,w=l.pingedLanes,E=l.expirationTimes,j=l.pendingLanes;0<j;){var N=31-si(j),U=1<<N,H=E[N];H===-1?((U&m)===0||(U&w)!==0)&&(E[N]=I9(U,d)):H<=d&&(l.expiredLanes|=U),j&=~U}}function g0(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function GO(){var l=sp;return sp<<=1,(sp&4194240)===0&&(sp=64),l}function v0(l){for(var d=[],m=0;31>m;m++)d.push(l);return d}function pd(l,d,m){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-si(d),l[d]=m}function D9(l,d){var m=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var w=l.eventTimes;for(l=l.expirationTimes;0<m;){var E=31-si(m),j=1<<E;d[E]=0,w[E]=-1,l[E]=-1,m&=~j}}function y0(l,d){var m=l.entangledLanes|=d;for(l=l.entanglements;m;){var w=31-si(m),E=1<<w;E&d|l[w]&d&&(l[w]|=d),m&=~E}}var vt=0;function KO(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var YO,b0,XO,QO,JO,w0=!1,cp=[],ts=null,ns=null,rs=null,md=new Map,gd=new Map,is=[],$9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZO(l,d){switch(l){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":md.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":gd.delete(d.pointerId)}}function vd(l,d,m,w,E,j){return l===null||l.nativeEvent!==j?(l={blockedOn:d,domEventName:m,eventSystemFlags:w,nativeEvent:j,targetContainers:[E]},d!==null&&(d=jd(d),d!==null&&b0(d)),l):(l.eventSystemFlags|=w,d=l.targetContainers,E!==null&&d.indexOf(E)===-1&&d.push(E),l)}function L9(l,d,m,w,E){switch(d){case"focusin":return ts=vd(ts,l,d,m,w,E),!0;case"dragenter":return ns=vd(ns,l,d,m,w,E),!0;case"mouseover":return rs=vd(rs,l,d,m,w,E),!0;case"pointerover":var j=E.pointerId;return md.set(j,vd(md.get(j)||null,l,d,m,w,E)),!0;case"gotpointercapture":return j=E.pointerId,gd.set(j,vd(gd.get(j)||null,l,d,m,w,E)),!0}return!1}function ek(l){var d=aa(l.target);if(d!==null){var m=sa(d);if(m!==null){if(d=m.tag,d===13){if(d=FO(m),d!==null){l.blockedOn=d,JO(l.priority,function(){XO(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function up(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var m=_0(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var w=new m.constructor(m.type,m);c0=w,m.target.dispatchEvent(w),c0=null}else return d=jd(m),d!==null&&b0(d),l.blockedOn=m,!1;d.shift()}return!0}function tk(l,d,m){up(l)&&m.delete(d)}function F9(){w0=!1,ts!==null&&up(ts)&&(ts=null),ns!==null&&up(ns)&&(ns=null),rs!==null&&up(rs)&&(rs=null),md.forEach(tk),gd.forEach(tk)}function yd(l,d){l.blockedOn===d&&(l.blockedOn=null,w0||(w0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,F9)))}function bd(l){function d(E){return yd(E,l)}if(0<cp.length){yd(cp[0],l);for(var m=1;m<cp.length;m++){var w=cp[m];w.blockedOn===l&&(w.blockedOn=null)}}for(ts!==null&&yd(ts,l),ns!==null&&yd(ns,l),rs!==null&&yd(rs,l),md.forEach(d),gd.forEach(d),m=0;m<is.length;m++)w=is[m],w.blockedOn===l&&(w.blockedOn=null);for(;0<is.length&&(m=is[0],m.blockedOn===null);)ek(m),m.blockedOn===null&&is.shift()}var Dl=A.ReactCurrentBatchConfig,dp=!0;function B9(l,d,m,w){var E=vt,j=Dl.transition;Dl.transition=null;try{vt=1,x0(l,d,m,w)}finally{vt=E,Dl.transition=j}}function U9(l,d,m,w){var E=vt,j=Dl.transition;Dl.transition=null;try{vt=4,x0(l,d,m,w)}finally{vt=E,Dl.transition=j}}function x0(l,d,m,w){if(dp){var E=_0(l,d,m,w);if(E===null)F0(l,d,w,fp,m),ZO(l,w);else if(L9(E,l,d,m,w))w.stopPropagation();else if(ZO(l,w),d&4&&-1<$9.indexOf(l)){for(;E!==null;){var j=jd(E);if(j!==null&&YO(j),j=_0(l,d,m,w),j===null&&F0(l,d,w,fp,m),j===E)break;E=j}E!==null&&w.stopPropagation()}else F0(l,d,w,null,m)}}var fp=null;function _0(l,d,m,w){if(fp=null,l=u0(w),l=aa(l),l!==null)if(d=sa(l),d===null)l=null;else if(m=d.tag,m===13){if(l=FO(d),l!==null)return l;l=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return fp=l,null}function nk(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A9()){case m0:return 1;case zO:return 4;case ip:case O9:return 16;case HO:return 536870912;default:return 16}default:return 16}}var os=null,S0=null,hp=null;function rk(){if(hp)return hp;var l,d=S0,m=d.length,w,E="value"in os?os.value:os.textContent,j=E.length;for(l=0;l<m&&d[l]===E[l];l++);var N=m-l;for(w=1;w<=N&&d[m-w]===E[j-w];w++);return hp=E.slice(l,1<w?1-w:void 0)}function pp(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function mp(){return!0}function ik(){return!1}function Sr(l){function d(m,w,E,j,N){this._reactName=m,this._targetInst=E,this.type=w,this.nativeEvent=j,this.target=N,this.currentTarget=null;for(var U in l)l.hasOwnProperty(U)&&(m=l[U],this[U]=m?m(j):j[U]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?mp:ik,this.isPropagationStopped=ik,this}return D(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=mp)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=mp)},persist:function(){},isPersistent:mp}),d}var $l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},P0=Sr($l),wd=D({},$l,{view:0,detail:0}),q9=Sr(wd),T0,C0,xd,gp=D({},wd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:A0,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==xd&&(xd&&l.type==="mousemove"?(T0=l.screenX-xd.screenX,C0=l.screenY-xd.screenY):C0=T0=0,xd=l),T0)},movementY:function(l){return"movementY"in l?l.movementY:C0}}),ok=Sr(gp),V9=D({},gp,{dataTransfer:0}),W9=Sr(V9),z9=D({},wd,{relatedTarget:0}),E0=Sr(z9),H9=D({},$l,{animationName:0,elapsedTime:0,pseudoElement:0}),G9=Sr(H9),K9=D({},$l,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Y9=Sr(K9),X9=D({},$l,{data:0}),sk=Sr(X9),Q9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e7(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=Z9[l])?!!d[l]:!1}function A0(){return e7}var t7=D({},wd,{key:function(l){if(l.key){var d=Q9[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=pp(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?J9[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:A0,charCode:function(l){return l.type==="keypress"?pp(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?pp(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),n7=Sr(t7),r7=D({},gp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ak=Sr(r7),i7=D({},wd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:A0}),o7=Sr(i7),s7=D({},$l,{propertyName:0,elapsedTime:0,pseudoElement:0}),a7=Sr(s7),l7=D({},gp,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),c7=Sr(l7),u7=[9,13,27,32],O0=a&&"CompositionEvent"in window,_d=null;a&&"documentMode"in document&&(_d=document.documentMode);var d7=a&&"TextEvent"in window&&!_d,lk=a&&(!O0||_d&&8<_d&&11>=_d),ck=" ",uk=!1;function dk(l,d){switch(l){case"keyup":return u7.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fk(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ll=!1;function f7(l,d){switch(l){case"compositionend":return fk(d);case"keypress":return d.which!==32?null:(uk=!0,ck);case"textInput":return l=d.data,l===ck&&uk?null:l;default:return null}}function h7(l,d){if(Ll)return l==="compositionend"||!O0&&dk(l,d)?(l=rk(),hp=S0=os=null,Ll=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return lk&&d.locale!=="ko"?null:d.data;default:return null}}var p7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hk(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!p7[l.type]:d==="textarea"}function pk(l,d,m,w){IO(w),d=xp(d,"onChange"),0<d.length&&(m=new P0("onChange","change",null,m,w),l.push({event:m,listeners:d}))}var Sd=null,Pd=null;function m7(l){Rk(l,0)}function vp(l){var d=Vl(l);if(re(d))return l}function g7(l,d){if(l==="change")return d}var mk=!1;if(a){var k0;if(a){var j0="oninput"in document;if(!j0){var gk=document.createElement("div");gk.setAttribute("oninput","return;"),j0=typeof gk.oninput=="function"}k0=j0}else k0=!1;mk=k0&&(!document.documentMode||9<document.documentMode)}function vk(){Sd&&(Sd.detachEvent("onpropertychange",yk),Pd=Sd=null)}function yk(l){if(l.propertyName==="value"&&vp(Pd)){var d=[];pk(d,Pd,l,u0(l)),LO(m7,d)}}function v7(l,d,m){l==="focusin"?(vk(),Sd=d,Pd=m,Sd.attachEvent("onpropertychange",yk)):l==="focusout"&&vk()}function y7(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return vp(Pd)}function b7(l,d){if(l==="click")return vp(d)}function w7(l,d){if(l==="input"||l==="change")return vp(d)}function x7(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var ai=typeof Object.is=="function"?Object.is:x7;function Td(l,d){if(ai(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var m=Object.keys(l),w=Object.keys(d);if(m.length!==w.length)return!1;for(w=0;w<m.length;w++){var E=m[w];if(!c.call(d,E)||!ai(l[E],d[E]))return!1}return!0}function bk(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function wk(l,d){var m=bk(l);l=0;for(var w;m;){if(m.nodeType===3){if(w=l+m.textContent.length,l<=d&&w>=d)return{node:m,offset:d-l};l=w}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=bk(m)}}function xk(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?xk(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function _k(){for(var l=window,d=ze();d instanceof l.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)l=d.contentWindow;else break;d=ze(l.document)}return d}function R0(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function _7(l){var d=_k(),m=l.focusedElem,w=l.selectionRange;if(d!==m&&m&&m.ownerDocument&&xk(m.ownerDocument.documentElement,m)){if(w!==null&&R0(m)){if(d=w.start,l=w.end,l===void 0&&(l=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(l,m.value.length);else if(l=(d=m.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var E=m.textContent.length,j=Math.min(w.start,E);w=w.end===void 0?j:Math.min(w.end,E),!l.extend&&j>w&&(E=w,w=j,j=E),E=wk(m,j);var N=wk(m,w);E&&N&&(l.rangeCount!==1||l.anchorNode!==E.node||l.anchorOffset!==E.offset||l.focusNode!==N.node||l.focusOffset!==N.offset)&&(d=d.createRange(),d.setStart(E.node,E.offset),l.removeAllRanges(),j>w?(l.addRange(d),l.extend(N.node,N.offset)):(d.setEnd(N.node,N.offset),l.addRange(d)))}}for(d=[],l=m;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)l=d[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var S7=a&&"documentMode"in document&&11>=document.documentMode,Fl=null,N0=null,Cd=null,I0=!1;function Sk(l,d,m){var w=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;I0||Fl==null||Fl!==ze(w)||(w=Fl,"selectionStart"in w&&R0(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Cd&&Td(Cd,w)||(Cd=w,w=xp(N0,"onSelect"),0<w.length&&(d=new P0("onSelect","select",null,d,m),l.push({event:d,listeners:w}),d.target=Fl)))}function yp(l,d){var m={};return m[l.toLowerCase()]=d.toLowerCase(),m["Webkit"+l]="webkit"+d,m["Moz"+l]="moz"+d,m}var Bl={animationend:yp("Animation","AnimationEnd"),animationiteration:yp("Animation","AnimationIteration"),animationstart:yp("Animation","AnimationStart"),transitionend:yp("Transition","TransitionEnd")},M0={},Pk={};a&&(Pk=document.createElement("div").style,"AnimationEvent"in window||(delete Bl.animationend.animation,delete Bl.animationiteration.animation,delete Bl.animationstart.animation),"TransitionEvent"in window||delete Bl.transitionend.transition);function bp(l){if(M0[l])return M0[l];if(!Bl[l])return l;var d=Bl[l],m;for(m in d)if(d.hasOwnProperty(m)&&m in Pk)return M0[l]=d[m];return l}var Tk=bp("animationend"),Ck=bp("animationiteration"),Ek=bp("animationstart"),Ak=bp("transitionend"),Ok=new Map,kk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(l,d){Ok.set(l,d),o(d,[l])}for(var D0=0;D0<kk.length;D0++){var $0=kk[D0],P7=$0.toLowerCase(),T7=$0[0].toUpperCase()+$0.slice(1);ss(P7,"on"+T7)}ss(Tk,"onAnimationEnd"),ss(Ck,"onAnimationIteration"),ss(Ek,"onAnimationStart"),ss("dblclick","onDoubleClick"),ss("focusin","onFocus"),ss("focusout","onBlur"),ss(Ak,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ed));function jk(l,d,m){var w=l.type||"unknown-event";l.currentTarget=m,P9(w,d,void 0,l),l.currentTarget=null}function Rk(l,d){d=(d&4)!==0;for(var m=0;m<l.length;m++){var w=l[m],E=w.event;w=w.listeners;e:{var j=void 0;if(d)for(var N=w.length-1;0<=N;N--){var U=w[N],H=U.instance,ne=U.currentTarget;if(U=U.listener,H!==j&&E.isPropagationStopped())break e;jk(E,U,ne),j=H}else for(N=0;N<w.length;N++){if(U=w[N],H=U.instance,ne=U.currentTarget,U=U.listener,H!==j&&E.isPropagationStopped())break e;jk(E,U,ne),j=H}}}if(rp)throw l=p0,rp=!1,p0=null,l}function Rt(l,d){var m=d[z0];m===void 0&&(m=d[z0]=new Set);var w=l+"__bubble";m.has(w)||(Nk(d,l,2,!1),m.add(w))}function L0(l,d,m){var w=0;d&&(w|=4),Nk(m,l,w,d)}var wp="_reactListening"+Math.random().toString(36).slice(2);function Ad(l){if(!l[wp]){l[wp]=!0,r.forEach(function(m){m!=="selectionchange"&&(C7.has(m)||L0(m,!1,l),L0(m,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[wp]||(d[wp]=!0,L0("selectionchange",!1,d))}}function Nk(l,d,m,w){switch(nk(d)){case 1:var E=B9;break;case 4:E=U9;break;default:E=x0}m=E.bind(null,d,m,l),E=void 0,!h0||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(E=!0),w?E!==void 0?l.addEventListener(d,m,{capture:!0,passive:E}):l.addEventListener(d,m,!0):E!==void 0?l.addEventListener(d,m,{passive:E}):l.addEventListener(d,m,!1)}function F0(l,d,m,w,E){var j=w;if((d&1)===0&&(d&2)===0&&w!==null)e:for(;;){if(w===null)return;var N=w.tag;if(N===3||N===4){var U=w.stateNode.containerInfo;if(U===E||U.nodeType===8&&U.parentNode===E)break;if(N===4)for(N=w.return;N!==null;){var H=N.tag;if((H===3||H===4)&&(H=N.stateNode.containerInfo,H===E||H.nodeType===8&&H.parentNode===E))return;N=N.return}for(;U!==null;){if(N=aa(U),N===null)return;if(H=N.tag,H===5||H===6){w=j=N;continue e}U=U.parentNode}}w=w.return}LO(function(){var ne=j,le=u0(m),ce=[];e:{var ae=Ok.get(l);if(ae!==void 0){var we=P0,Te=l;switch(l){case"keypress":if(pp(m)===0)break e;case"keydown":case"keyup":we=n7;break;case"focusin":Te="focus",we=E0;break;case"focusout":Te="blur",we=E0;break;case"beforeblur":case"afterblur":we=E0;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=ok;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=W9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=o7;break;case Tk:case Ck:case Ek:we=G9;break;case Ak:we=a7;break;case"scroll":we=q9;break;case"wheel":we=c7;break;case"copy":case"cut":case"paste":we=Y9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=ak}var Ae=(d&4)!==0,Zt=!Ae&&l==="scroll",Z=Ae?ae!==null?ae+"Capture":null:ae;Ae=[];for(var X=ne,ee;X!==null;){ee=X;var he=ee.stateNode;if(ee.tag===5&&he!==null&&(ee=he,Z!==null&&(he=ud(X,Z),he!=null&&Ae.push(Od(X,he,ee)))),Zt)break;X=X.return}0<Ae.length&&(ae=new we(ae,Te,null,m,le),ce.push({event:ae,listeners:Ae}))}}if((d&7)===0){e:{if(ae=l==="mouseover"||l==="pointerover",we=l==="mouseout"||l==="pointerout",ae&&m!==c0&&(Te=m.relatedTarget||m.fromElement)&&(aa(Te)||Te[so]))break e;if((we||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,we?(Te=m.relatedTarget||m.toElement,we=ne,Te=Te?aa(Te):null,Te!==null&&(Zt=sa(Te),Te!==Zt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(we=null,Te=ne),we!==Te)){if(Ae=ok,he="onMouseLeave",Z="onMouseEnter",X="mouse",(l==="pointerout"||l==="pointerover")&&(Ae=ak,he="onPointerLeave",Z="onPointerEnter",X="pointer"),Zt=we==null?ae:Vl(we),ee=Te==null?ae:Vl(Te),ae=new Ae(he,X+"leave",we,m,le),ae.target=Zt,ae.relatedTarget=ee,he=null,aa(le)===ne&&(Ae=new Ae(Z,X+"enter",Te,m,le),Ae.target=ee,Ae.relatedTarget=Zt,he=Ae),Zt=he,we&&Te)t:{for(Ae=we,Z=Te,X=0,ee=Ae;ee;ee=Ul(ee))X++;for(ee=0,he=Z;he;he=Ul(he))ee++;for(;0<X-ee;)Ae=Ul(Ae),X--;for(;0<ee-X;)Z=Ul(Z),ee--;for(;X--;){if(Ae===Z||Z!==null&&Ae===Z.alternate)break t;Ae=Ul(Ae),Z=Ul(Z)}Ae=null}else Ae=null;we!==null&&Ik(ce,ae,we,Ae,!1),Te!==null&&Zt!==null&&Ik(ce,Zt,Te,Ae,!0)}}e:{if(ae=ne?Vl(ne):window,we=ae.nodeName&&ae.nodeName.toLowerCase(),we==="select"||we==="input"&&ae.type==="file")var ke=g7;else if(hk(ae))if(mk)ke=w7;else{ke=y7;var De=v7}else(we=ae.nodeName)&&we.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(ke=b7);if(ke&&(ke=ke(l,ne))){pk(ce,ke,m,le);break e}De&&De(l,ae,ne),l==="focusout"&&(De=ae._wrapperState)&&De.controlled&&ae.type==="number"&&On(ae,"number",ae.value)}switch(De=ne?Vl(ne):window,l){case"focusin":(hk(De)||De.contentEditable==="true")&&(Fl=De,N0=ne,Cd=null);break;case"focusout":Cd=N0=Fl=null;break;case"mousedown":I0=!0;break;case"contextmenu":case"mouseup":case"dragend":I0=!1,Sk(ce,m,le);break;case"selectionchange":if(S7)break;case"keydown":case"keyup":Sk(ce,m,le)}var $e;if(O0)e:{switch(l){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Ll?dk(l,m)&&(We="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(We="onCompositionStart");We&&(lk&&m.locale!=="ko"&&(Ll||We!=="onCompositionStart"?We==="onCompositionEnd"&&Ll&&($e=rk()):(os=le,S0="value"in os?os.value:os.textContent,Ll=!0)),De=xp(ne,We),0<De.length&&(We=new sk(We,l,null,m,le),ce.push({event:We,listeners:De}),$e?We.data=$e:($e=fk(m),$e!==null&&(We.data=$e)))),($e=d7?f7(l,m):h7(l,m))&&(ne=xp(ne,"onBeforeInput"),0<ne.length&&(le=new sk("onBeforeInput","beforeinput",null,m,le),ce.push({event:le,listeners:ne}),le.data=$e))}Rk(ce,d)})}function Od(l,d,m){return{instance:l,listener:d,currentTarget:m}}function xp(l,d){for(var m=d+"Capture",w=[];l!==null;){var E=l,j=E.stateNode;E.tag===5&&j!==null&&(E=j,j=ud(l,m),j!=null&&w.unshift(Od(l,j,E)),j=ud(l,d),j!=null&&w.push(Od(l,j,E))),l=l.return}return w}function Ul(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Ik(l,d,m,w,E){for(var j=d._reactName,N=[];m!==null&&m!==w;){var U=m,H=U.alternate,ne=U.stateNode;if(H!==null&&H===w)break;U.tag===5&&ne!==null&&(U=ne,E?(H=ud(m,j),H!=null&&N.unshift(Od(m,H,U))):E||(H=ud(m,j),H!=null&&N.push(Od(m,H,U)))),m=m.return}N.length!==0&&l.push({event:d,listeners:N})}var E7=/\r\n?/g,A7=/\u0000|\uFFFD/g;function Mk(l){return(typeof l=="string"?l:""+l).replace(E7,`
`).replace(A7,"")}function _p(l,d,m){if(d=Mk(d),Mk(l)!==d&&m)throw Error(n(425))}function Sp(){}var B0=null,U0=null;function q0(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var V0=typeof setTimeout=="function"?setTimeout:void 0,O7=typeof clearTimeout=="function"?clearTimeout:void 0,Dk=typeof Promise=="function"?Promise:void 0,k7=typeof queueMicrotask=="function"?queueMicrotask:typeof Dk<"u"?function(l){return Dk.resolve(null).then(l).catch(j7)}:V0;function j7(l){setTimeout(function(){throw l})}function W0(l,d){var m=d,w=0;do{var E=m.nextSibling;if(l.removeChild(m),E&&E.nodeType===8)if(m=E.data,m==="/$"){if(w===0){l.removeChild(E),bd(d);return}w--}else m!=="$"&&m!=="$?"&&m!=="$!"||w++;m=E}while(m);bd(d)}function as(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function $k(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return l;d--}else m==="/$"&&d++}l=l.previousSibling}return null}var ql=Math.random().toString(36).slice(2),Di="__reactFiber$"+ql,kd="__reactProps$"+ql,so="__reactContainer$"+ql,z0="__reactEvents$"+ql,R7="__reactListeners$"+ql,N7="__reactHandles$"+ql;function aa(l){var d=l[Di];if(d)return d;for(var m=l.parentNode;m;){if(d=m[so]||m[Di]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(l=$k(l);l!==null;){if(m=l[Di])return m;l=$k(l)}return d}l=m,m=l.parentNode}return null}function jd(l){return l=l[Di]||l[so],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Vl(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function Pp(l){return l[kd]||null}var H0=[],Wl=-1;function ls(l){return{current:l}}function Nt(l){0>Wl||(l.current=H0[Wl],H0[Wl]=null,Wl--)}function Ct(l,d){Wl++,H0[Wl]=l.current,l.current=d}var cs={},Ln=ls(cs),or=ls(!1),la=cs;function zl(l,d){var m=l.type.contextTypes;if(!m)return cs;var w=l.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===d)return w.__reactInternalMemoizedMaskedChildContext;var E={},j;for(j in m)E[j]=d[j];return w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=E),E}function sr(l){return l=l.childContextTypes,l!=null}function Tp(){Nt(or),Nt(Ln)}function Lk(l,d,m){if(Ln.current!==cs)throw Error(n(168));Ct(Ln,d),Ct(or,m)}function Fk(l,d,m){var w=l.stateNode;if(d=d.childContextTypes,typeof w.getChildContext!="function")return m;w=w.getChildContext();for(var E in w)if(!(E in d))throw Error(n(108,se(l)||"Unknown",E));return D({},m,w)}function Cp(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||cs,la=Ln.current,Ct(Ln,l),Ct(or,or.current),!0}function Bk(l,d,m){var w=l.stateNode;if(!w)throw Error(n(169));m?(l=Fk(l,d,la),w.__reactInternalMemoizedMergedChildContext=l,Nt(or),Nt(Ln),Ct(Ln,l)):Nt(or),Ct(or,m)}var ao=null,Ep=!1,G0=!1;function Uk(l){ao===null?ao=[l]:ao.push(l)}function I7(l){Ep=!0,Uk(l)}function us(){if(!G0&&ao!==null){G0=!0;var l=0,d=vt;try{var m=ao;for(vt=1;l<m.length;l++){var w=m[l];do w=w(!0);while(w!==null)}ao=null,Ep=!1}catch(E){throw ao!==null&&(ao=ao.slice(l+1)),VO(m0,us),E}finally{vt=d,G0=!1}}return null}var Hl=[],Gl=0,Ap=null,Op=0,Dr=[],$r=0,ca=null,lo=1,co="";function ua(l,d){Hl[Gl++]=Op,Hl[Gl++]=Ap,Ap=l,Op=d}function qk(l,d,m){Dr[$r++]=lo,Dr[$r++]=co,Dr[$r++]=ca,ca=l;var w=lo;l=co;var E=32-si(w)-1;w&=~(1<<E),m+=1;var j=32-si(d)+E;if(30<j){var N=E-E%5;j=(w&(1<<N)-1).toString(32),w>>=N,E-=N,lo=1<<32-si(d)+E|m<<E|w,co=j+l}else lo=1<<j|m<<E|w,co=l}function K0(l){l.return!==null&&(ua(l,1),qk(l,1,0))}function Y0(l){for(;l===Ap;)Ap=Hl[--Gl],Hl[Gl]=null,Op=Hl[--Gl],Hl[Gl]=null;for(;l===ca;)ca=Dr[--$r],Dr[$r]=null,co=Dr[--$r],Dr[$r]=null,lo=Dr[--$r],Dr[$r]=null}var Pr=null,Tr=null,$t=!1,li=null;function Vk(l,d){var m=Ur(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=l,d=l.deletions,d===null?(l.deletions=[m],l.flags|=16):d.push(m)}function Wk(l,d){switch(l.tag){case 5:var m=l.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,Pr=l,Tr=as(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,Pr=l,Tr=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=ca!==null?{id:lo,overflow:co}:null,l.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=Ur(18,null,null,0),m.stateNode=d,m.return=l,l.child=m,Pr=l,Tr=null,!0):!1;default:return!1}}function X0(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Q0(l){if($t){var d=Tr;if(d){var m=d;if(!Wk(l,d)){if(X0(l))throw Error(n(418));d=as(m.nextSibling);var w=Pr;d&&Wk(l,d)?Vk(w,m):(l.flags=l.flags&-4097|2,$t=!1,Pr=l)}}else{if(X0(l))throw Error(n(418));l.flags=l.flags&-4097|2,$t=!1,Pr=l}}}function zk(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Pr=l}function kp(l){if(l!==Pr)return!1;if(!$t)return zk(l),$t=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!q0(l.type,l.memoizedProps)),d&&(d=Tr)){if(X0(l))throw Hk(),Error(n(418));for(;d;)Vk(l,d),d=as(d.nextSibling)}if(zk(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(d===0){Tr=as(l.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}l=l.nextSibling}Tr=null}}else Tr=Pr?as(l.stateNode.nextSibling):null;return!0}function Hk(){for(var l=Tr;l;)l=as(l.nextSibling)}function Kl(){Tr=Pr=null,$t=!1}function J0(l){li===null?li=[l]:li.push(l)}var M7=A.ReactCurrentBatchConfig;function Rd(l,d,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var w=m.stateNode}if(!w)throw Error(n(147,l));var E=w,j=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===j?d.ref:(d=function(N){var U=E.refs;N===null?delete U[j]:U[j]=N},d._stringRef=j,d)}if(typeof l!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,l))}return l}function jp(l,d){throw l=Object.prototype.toString.call(d),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function Gk(l){var d=l._init;return d(l._payload)}function Kk(l){function d(Z,X){if(l){var ee=Z.deletions;ee===null?(Z.deletions=[X],Z.flags|=16):ee.push(X)}}function m(Z,X){if(!l)return null;for(;X!==null;)d(Z,X),X=X.sibling;return null}function w(Z,X){for(Z=new Map;X!==null;)X.key!==null?Z.set(X.key,X):Z.set(X.index,X),X=X.sibling;return Z}function E(Z,X){return Z=ys(Z,X),Z.index=0,Z.sibling=null,Z}function j(Z,X,ee){return Z.index=ee,l?(ee=Z.alternate,ee!==null?(ee=ee.index,ee<X?(Z.flags|=2,X):ee):(Z.flags|=2,X)):(Z.flags|=1048576,X)}function N(Z){return l&&Z.alternate===null&&(Z.flags|=2),Z}function U(Z,X,ee,he){return X===null||X.tag!==6?(X=Vb(ee,Z.mode,he),X.return=Z,X):(X=E(X,ee),X.return=Z,X)}function H(Z,X,ee,he){var ke=ee.type;return ke===k?le(Z,X,ee.props.children,he,ee.key):X!==null&&(X.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===K&&Gk(ke)===X.type)?(he=E(X,ee.props),he.ref=Rd(Z,X,ee),he.return=Z,he):(he=tm(ee.type,ee.key,ee.props,null,Z.mode,he),he.ref=Rd(Z,X,ee),he.return=Z,he)}function ne(Z,X,ee,he){return X===null||X.tag!==4||X.stateNode.containerInfo!==ee.containerInfo||X.stateNode.implementation!==ee.implementation?(X=Wb(ee,Z.mode,he),X.return=Z,X):(X=E(X,ee.children||[]),X.return=Z,X)}function le(Z,X,ee,he,ke){return X===null||X.tag!==7?(X=ya(ee,Z.mode,he,ke),X.return=Z,X):(X=E(X,ee),X.return=Z,X)}function ce(Z,X,ee){if(typeof X=="string"&&X!==""||typeof X=="number")return X=Vb(""+X,Z.mode,ee),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case P:return ee=tm(X.type,X.key,X.props,null,Z.mode,ee),ee.ref=Rd(Z,null,X),ee.return=Z,ee;case O:return X=Wb(X,Z.mode,ee),X.return=Z,X;case K:var he=X._init;return ce(Z,he(X._payload),ee)}if(xr(X)||G(X))return X=ya(X,Z.mode,ee,null),X.return=Z,X;jp(Z,X)}return null}function ae(Z,X,ee,he){var ke=X!==null?X.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ke!==null?null:U(Z,X,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case P:return ee.key===ke?H(Z,X,ee,he):null;case O:return ee.key===ke?ne(Z,X,ee,he):null;case K:return ke=ee._init,ae(Z,X,ke(ee._payload),he)}if(xr(ee)||G(ee))return ke!==null?null:le(Z,X,ee,he,null);jp(Z,ee)}return null}function we(Z,X,ee,he,ke){if(typeof he=="string"&&he!==""||typeof he=="number")return Z=Z.get(ee)||null,U(X,Z,""+he,ke);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case P:return Z=Z.get(he.key===null?ee:he.key)||null,H(X,Z,he,ke);case O:return Z=Z.get(he.key===null?ee:he.key)||null,ne(X,Z,he,ke);case K:var De=he._init;return we(Z,X,ee,De(he._payload),ke)}if(xr(he)||G(he))return Z=Z.get(ee)||null,le(X,Z,he,ke,null);jp(X,he)}return null}function Te(Z,X,ee,he){for(var ke=null,De=null,$e=X,We=X=0,Sn=null;$e!==null&&We<ee.length;We++){$e.index>We?(Sn=$e,$e=null):Sn=$e.sibling;var at=ae(Z,$e,ee[We],he);if(at===null){$e===null&&($e=Sn);break}l&&$e&&at.alternate===null&&d(Z,$e),X=j(at,X,We),De===null?ke=at:De.sibling=at,De=at,$e=Sn}if(We===ee.length)return m(Z,$e),$t&&ua(Z,We),ke;if($e===null){for(;We<ee.length;We++)$e=ce(Z,ee[We],he),$e!==null&&(X=j($e,X,We),De===null?ke=$e:De.sibling=$e,De=$e);return $t&&ua(Z,We),ke}for($e=w(Z,$e);We<ee.length;We++)Sn=we($e,Z,We,ee[We],he),Sn!==null&&(l&&Sn.alternate!==null&&$e.delete(Sn.key===null?We:Sn.key),X=j(Sn,X,We),De===null?ke=Sn:De.sibling=Sn,De=Sn);return l&&$e.forEach(function(bs){return d(Z,bs)}),$t&&ua(Z,We),ke}function Ae(Z,X,ee,he){var ke=G(ee);if(typeof ke!="function")throw Error(n(150));if(ee=ke.call(ee),ee==null)throw Error(n(151));for(var De=ke=null,$e=X,We=X=0,Sn=null,at=ee.next();$e!==null&&!at.done;We++,at=ee.next()){$e.index>We?(Sn=$e,$e=null):Sn=$e.sibling;var bs=ae(Z,$e,at.value,he);if(bs===null){$e===null&&($e=Sn);break}l&&$e&&bs.alternate===null&&d(Z,$e),X=j(bs,X,We),De===null?ke=bs:De.sibling=bs,De=bs,$e=Sn}if(at.done)return m(Z,$e),$t&&ua(Z,We),ke;if($e===null){for(;!at.done;We++,at=ee.next())at=ce(Z,at.value,he),at!==null&&(X=j(at,X,We),De===null?ke=at:De.sibling=at,De=at);return $t&&ua(Z,We),ke}for($e=w(Z,$e);!at.done;We++,at=ee.next())at=we($e,Z,We,at.value,he),at!==null&&(l&&at.alternate!==null&&$e.delete(at.key===null?We:at.key),X=j(at,X,We),De===null?ke=at:De.sibling=at,De=at);return l&&$e.forEach(function(pG){return d(Z,pG)}),$t&&ua(Z,We),ke}function Zt(Z,X,ee,he){if(typeof ee=="object"&&ee!==null&&ee.type===k&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case P:e:{for(var ke=ee.key,De=X;De!==null;){if(De.key===ke){if(ke=ee.type,ke===k){if(De.tag===7){m(Z,De.sibling),X=E(De,ee.props.children),X.return=Z,Z=X;break e}}else if(De.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===K&&Gk(ke)===De.type){m(Z,De.sibling),X=E(De,ee.props),X.ref=Rd(Z,De,ee),X.return=Z,Z=X;break e}m(Z,De);break}else d(Z,De);De=De.sibling}ee.type===k?(X=ya(ee.props.children,Z.mode,he,ee.key),X.return=Z,Z=X):(he=tm(ee.type,ee.key,ee.props,null,Z.mode,he),he.ref=Rd(Z,X,ee),he.return=Z,Z=he)}return N(Z);case O:e:{for(De=ee.key;X!==null;){if(X.key===De)if(X.tag===4&&X.stateNode.containerInfo===ee.containerInfo&&X.stateNode.implementation===ee.implementation){m(Z,X.sibling),X=E(X,ee.children||[]),X.return=Z,Z=X;break e}else{m(Z,X);break}else d(Z,X);X=X.sibling}X=Wb(ee,Z.mode,he),X.return=Z,Z=X}return N(Z);case K:return De=ee._init,Zt(Z,X,De(ee._payload),he)}if(xr(ee))return Te(Z,X,ee,he);if(G(ee))return Ae(Z,X,ee,he);jp(Z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,X!==null&&X.tag===6?(m(Z,X.sibling),X=E(X,ee),X.return=Z,Z=X):(m(Z,X),X=Vb(ee,Z.mode,he),X.return=Z,Z=X),N(Z)):m(Z,X)}return Zt}var Yl=Kk(!0),Yk=Kk(!1),Rp=ls(null),Np=null,Xl=null,Z0=null;function eb(){Z0=Xl=Np=null}function tb(l){var d=Rp.current;Nt(Rp),l._currentValue=d}function nb(l,d,m){for(;l!==null;){var w=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,w!==null&&(w.childLanes|=d)):w!==null&&(w.childLanes&d)!==d&&(w.childLanes|=d),l===m)break;l=l.return}}function Ql(l,d){Np=l,Z0=Xl=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(ar=!0),l.firstContext=null)}function Lr(l){var d=l._currentValue;if(Z0!==l)if(l={context:l,memoizedValue:d,next:null},Xl===null){if(Np===null)throw Error(n(308));Xl=l,Np.dependencies={lanes:0,firstContext:l}}else Xl=Xl.next=l;return d}var da=null;function rb(l){da===null?da=[l]:da.push(l)}function Xk(l,d,m,w){var E=d.interleaved;return E===null?(m.next=m,rb(d)):(m.next=E.next,E.next=m),d.interleaved=m,uo(l,w)}function uo(l,d){l.lanes|=d;var m=l.alternate;for(m!==null&&(m.lanes|=d),m=l,l=l.return;l!==null;)l.childLanes|=d,m=l.alternate,m!==null&&(m.childLanes|=d),m=l,l=l.return;return m.tag===3?m.stateNode:null}var ds=!1;function ib(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qk(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function fo(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function fs(l,d,m){var w=l.updateQueue;if(w===null)return null;if(w=w.shared,(ot&2)!==0){var E=w.pending;return E===null?d.next=d:(d.next=E.next,E.next=d),w.pending=d,uo(l,m)}return E=w.interleaved,E===null?(d.next=d,rb(w)):(d.next=E.next,E.next=d),w.interleaved=d,uo(l,m)}function Ip(l,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var w=d.lanes;w&=l.pendingLanes,m|=w,d.lanes=m,y0(l,m)}}function Jk(l,d){var m=l.updateQueue,w=l.alternate;if(w!==null&&(w=w.updateQueue,m===w)){var E=null,j=null;if(m=m.firstBaseUpdate,m!==null){do{var N={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};j===null?E=j=N:j=j.next=N,m=m.next}while(m!==null);j===null?E=j=d:j=j.next=d}else E=j=d;m={baseState:w.baseState,firstBaseUpdate:E,lastBaseUpdate:j,shared:w.shared,effects:w.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=d}function Mp(l,d,m,w){var E=l.updateQueue;ds=!1;var j=E.firstBaseUpdate,N=E.lastBaseUpdate,U=E.shared.pending;if(U!==null){E.shared.pending=null;var H=U,ne=H.next;H.next=null,N===null?j=ne:N.next=ne,N=H;var le=l.alternate;le!==null&&(le=le.updateQueue,U=le.lastBaseUpdate,U!==N&&(U===null?le.firstBaseUpdate=ne:U.next=ne,le.lastBaseUpdate=H))}if(j!==null){var ce=E.baseState;N=0,le=ne=H=null,U=j;do{var ae=U.lane,we=U.eventTime;if((w&ae)===ae){le!==null&&(le=le.next={eventTime:we,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Te=l,Ae=U;switch(ae=d,we=m,Ae.tag){case 1:if(Te=Ae.payload,typeof Te=="function"){ce=Te.call(we,ce,ae);break e}ce=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ae.payload,ae=typeof Te=="function"?Te.call(we,ce,ae):Te,ae==null)break e;ce=D({},ce,ae);break e;case 2:ds=!0}}U.callback!==null&&U.lane!==0&&(l.flags|=64,ae=E.effects,ae===null?E.effects=[U]:ae.push(U))}else we={eventTime:we,lane:ae,tag:U.tag,payload:U.payload,callback:U.callback,next:null},le===null?(ne=le=we,H=ce):le=le.next=we,N|=ae;if(U=U.next,U===null){if(U=E.shared.pending,U===null)break;ae=U,U=ae.next,ae.next=null,E.lastBaseUpdate=ae,E.shared.pending=null}}while(!0);if(le===null&&(H=ce),E.baseState=H,E.firstBaseUpdate=ne,E.lastBaseUpdate=le,d=E.shared.interleaved,d!==null){E=d;do N|=E.lane,E=E.next;while(E!==d)}else j===null&&(E.shared.lanes=0);pa|=N,l.lanes=N,l.memoizedState=ce}}function Zk(l,d,m){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var w=l[d],E=w.callback;if(E!==null){if(w.callback=null,w=m,typeof E!="function")throw Error(n(191,E));E.call(w)}}}var Nd={},$i=ls(Nd),Id=ls(Nd),Md=ls(Nd);function fa(l){if(l===Nd)throw Error(n(174));return l}function ob(l,d){switch(Ct(Md,d),Ct(Id,l),Ct($i,Nd),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:oi(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=oi(d,l)}Nt($i),Ct($i,d)}function Jl(){Nt($i),Nt(Id),Nt(Md)}function ej(l){fa(Md.current);var d=fa($i.current),m=oi(d,l.type);d!==m&&(Ct(Id,l),Ct($i,m))}function sb(l){Id.current===l&&(Nt($i),Nt(Id))}var Vt=ls(0);function Dp(l){for(var d=l;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var ab=[];function lb(){for(var l=0;l<ab.length;l++)ab[l]._workInProgressVersionPrimary=null;ab.length=0}var $p=A.ReactCurrentDispatcher,cb=A.ReactCurrentBatchConfig,ha=0,Wt=null,cn=null,xn=null,Lp=!1,Dd=!1,$d=0,D7=0;function Fn(){throw Error(n(321))}function ub(l,d){if(d===null)return!1;for(var m=0;m<d.length&&m<l.length;m++)if(!ai(l[m],d[m]))return!1;return!0}function db(l,d,m,w,E,j){if(ha=j,Wt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,$p.current=l===null||l.memoizedState===null?B7:U7,l=m(w,E),Dd){j=0;do{if(Dd=!1,$d=0,25<=j)throw Error(n(301));j+=1,xn=cn=null,d.updateQueue=null,$p.current=q7,l=m(w,E)}while(Dd)}if($p.current=Up,d=cn!==null&&cn.next!==null,ha=0,xn=cn=Wt=null,Lp=!1,d)throw Error(n(300));return l}function fb(){var l=$d!==0;return $d=0,l}function Li(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Wt.memoizedState=xn=l:xn=xn.next=l,xn}function Fr(){if(cn===null){var l=Wt.alternate;l=l!==null?l.memoizedState:null}else l=cn.next;var d=xn===null?Wt.memoizedState:xn.next;if(d!==null)xn=d,cn=l;else{if(l===null)throw Error(n(310));cn=l,l={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},xn===null?Wt.memoizedState=xn=l:xn=xn.next=l}return xn}function Ld(l,d){return typeof d=="function"?d(l):d}function hb(l){var d=Fr(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var w=cn,E=w.baseQueue,j=m.pending;if(j!==null){if(E!==null){var N=E.next;E.next=j.next,j.next=N}w.baseQueue=E=j,m.pending=null}if(E!==null){j=E.next,w=w.baseState;var U=N=null,H=null,ne=j;do{var le=ne.lane;if((ha&le)===le)H!==null&&(H=H.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),w=ne.hasEagerState?ne.eagerState:l(w,ne.action);else{var ce={lane:le,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};H===null?(U=H=ce,N=w):H=H.next=ce,Wt.lanes|=le,pa|=le}ne=ne.next}while(ne!==null&&ne!==j);H===null?N=w:H.next=U,ai(w,d.memoizedState)||(ar=!0),d.memoizedState=w,d.baseState=N,d.baseQueue=H,m.lastRenderedState=w}if(l=m.interleaved,l!==null){E=l;do j=E.lane,Wt.lanes|=j,pa|=j,E=E.next;while(E!==l)}else E===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function pb(l){var d=Fr(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var w=m.dispatch,E=m.pending,j=d.memoizedState;if(E!==null){m.pending=null;var N=E=E.next;do j=l(j,N.action),N=N.next;while(N!==E);ai(j,d.memoizedState)||(ar=!0),d.memoizedState=j,d.baseQueue===null&&(d.baseState=j),m.lastRenderedState=j}return[j,w]}function tj(){}function nj(l,d){var m=Wt,w=Fr(),E=d(),j=!ai(w.memoizedState,E);if(j&&(w.memoizedState=E,ar=!0),w=w.queue,mb(oj.bind(null,m,w,l),[l]),w.getSnapshot!==d||j||xn!==null&&xn.memoizedState.tag&1){if(m.flags|=2048,Fd(9,ij.bind(null,m,w,E,d),void 0,null),_n===null)throw Error(n(349));(ha&30)!==0||rj(m,d,E)}return E}function rj(l,d,m){l.flags|=16384,l={getSnapshot:d,value:m},d=Wt.updateQueue,d===null?(d={lastEffect:null,stores:null},Wt.updateQueue=d,d.stores=[l]):(m=d.stores,m===null?d.stores=[l]:m.push(l))}function ij(l,d,m,w){d.value=m,d.getSnapshot=w,sj(d)&&aj(l)}function oj(l,d,m){return m(function(){sj(d)&&aj(l)})}function sj(l){var d=l.getSnapshot;l=l.value;try{var m=d();return!ai(l,m)}catch{return!0}}function aj(l){var d=uo(l,1);d!==null&&fi(d,l,1,-1)}function lj(l){var d=Li();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ld,lastRenderedState:l},d.queue=l,l=l.dispatch=F7.bind(null,Wt,l),[d.memoizedState,l]}function Fd(l,d,m,w){return l={tag:l,create:d,destroy:m,deps:w,next:null},d=Wt.updateQueue,d===null?(d={lastEffect:null,stores:null},Wt.updateQueue=d,d.lastEffect=l.next=l):(m=d.lastEffect,m===null?d.lastEffect=l.next=l:(w=m.next,m.next=l,l.next=w,d.lastEffect=l)),l}function cj(){return Fr().memoizedState}function Fp(l,d,m,w){var E=Li();Wt.flags|=l,E.memoizedState=Fd(1|d,m,void 0,w===void 0?null:w)}function Bp(l,d,m,w){var E=Fr();w=w===void 0?null:w;var j=void 0;if(cn!==null){var N=cn.memoizedState;if(j=N.destroy,w!==null&&ub(w,N.deps)){E.memoizedState=Fd(d,m,j,w);return}}Wt.flags|=l,E.memoizedState=Fd(1|d,m,j,w)}function uj(l,d){return Fp(8390656,8,l,d)}function mb(l,d){return Bp(2048,8,l,d)}function dj(l,d){return Bp(4,2,l,d)}function fj(l,d){return Bp(4,4,l,d)}function hj(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function pj(l,d,m){return m=m!=null?m.concat([l]):null,Bp(4,4,hj.bind(null,d,l),m)}function gb(){}function mj(l,d){var m=Fr();d=d===void 0?null:d;var w=m.memoizedState;return w!==null&&d!==null&&ub(d,w[1])?w[0]:(m.memoizedState=[l,d],l)}function gj(l,d){var m=Fr();d=d===void 0?null:d;var w=m.memoizedState;return w!==null&&d!==null&&ub(d,w[1])?w[0]:(l=l(),m.memoizedState=[l,d],l)}function vj(l,d,m){return(ha&21)===0?(l.baseState&&(l.baseState=!1,ar=!0),l.memoizedState=m):(ai(m,d)||(m=GO(),Wt.lanes|=m,pa|=m,l.baseState=!0),d)}function $7(l,d){var m=vt;vt=m!==0&&4>m?m:4,l(!0);var w=cb.transition;cb.transition={};try{l(!1),d()}finally{vt=m,cb.transition=w}}function yj(){return Fr().memoizedState}function L7(l,d,m){var w=gs(l);if(m={lane:w,action:m,hasEagerState:!1,eagerState:null,next:null},bj(l))wj(d,m);else if(m=Xk(l,d,m,w),m!==null){var E=Xn();fi(m,l,w,E),xj(m,d,w)}}function F7(l,d,m){var w=gs(l),E={lane:w,action:m,hasEagerState:!1,eagerState:null,next:null};if(bj(l))wj(d,E);else{var j=l.alternate;if(l.lanes===0&&(j===null||j.lanes===0)&&(j=d.lastRenderedReducer,j!==null))try{var N=d.lastRenderedState,U=j(N,m);if(E.hasEagerState=!0,E.eagerState=U,ai(U,N)){var H=d.interleaved;H===null?(E.next=E,rb(d)):(E.next=H.next,H.next=E),d.interleaved=E;return}}catch{}finally{}m=Xk(l,d,E,w),m!==null&&(E=Xn(),fi(m,l,w,E),xj(m,d,w))}}function bj(l){var d=l.alternate;return l===Wt||d!==null&&d===Wt}function wj(l,d){Dd=Lp=!0;var m=l.pending;m===null?d.next=d:(d.next=m.next,m.next=d),l.pending=d}function xj(l,d,m){if((m&4194240)!==0){var w=d.lanes;w&=l.pendingLanes,m|=w,d.lanes=m,y0(l,m)}}var Up={readContext:Lr,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},B7={readContext:Lr,useCallback:function(l,d){return Li().memoizedState=[l,d===void 0?null:d],l},useContext:Lr,useEffect:uj,useImperativeHandle:function(l,d,m){return m=m!=null?m.concat([l]):null,Fp(4194308,4,hj.bind(null,d,l),m)},useLayoutEffect:function(l,d){return Fp(4194308,4,l,d)},useInsertionEffect:function(l,d){return Fp(4,2,l,d)},useMemo:function(l,d){var m=Li();return d=d===void 0?null:d,l=l(),m.memoizedState=[l,d],l},useReducer:function(l,d,m){var w=Li();return d=m!==void 0?m(d):d,w.memoizedState=w.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},w.queue=l,l=l.dispatch=L7.bind(null,Wt,l),[w.memoizedState,l]},useRef:function(l){var d=Li();return l={current:l},d.memoizedState=l},useState:lj,useDebugValue:gb,useDeferredValue:function(l){return Li().memoizedState=l},useTransition:function(){var l=lj(!1),d=l[0];return l=$7.bind(null,l[1]),Li().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,m){var w=Wt,E=Li();if($t){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),_n===null)throw Error(n(349));(ha&30)!==0||rj(w,d,m)}E.memoizedState=m;var j={value:m,getSnapshot:d};return E.queue=j,uj(oj.bind(null,w,j,l),[l]),w.flags|=2048,Fd(9,ij.bind(null,w,j,m,d),void 0,null),m},useId:function(){var l=Li(),d=_n.identifierPrefix;if($t){var m=co,w=lo;m=(w&~(1<<32-si(w)-1)).toString(32)+m,d=":"+d+"R"+m,m=$d++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=D7++,d=":"+d+"r"+m.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},U7={readContext:Lr,useCallback:mj,useContext:Lr,useEffect:mb,useImperativeHandle:pj,useInsertionEffect:dj,useLayoutEffect:fj,useMemo:gj,useReducer:hb,useRef:cj,useState:function(){return hb(Ld)},useDebugValue:gb,useDeferredValue:function(l){var d=Fr();return vj(d,cn.memoizedState,l)},useTransition:function(){var l=hb(Ld)[0],d=Fr().memoizedState;return[l,d]},useMutableSource:tj,useSyncExternalStore:nj,useId:yj,unstable_isNewReconciler:!1},q7={readContext:Lr,useCallback:mj,useContext:Lr,useEffect:mb,useImperativeHandle:pj,useInsertionEffect:dj,useLayoutEffect:fj,useMemo:gj,useReducer:pb,useRef:cj,useState:function(){return pb(Ld)},useDebugValue:gb,useDeferredValue:function(l){var d=Fr();return cn===null?d.memoizedState=l:vj(d,cn.memoizedState,l)},useTransition:function(){var l=pb(Ld)[0],d=Fr().memoizedState;return[l,d]},useMutableSource:tj,useSyncExternalStore:nj,useId:yj,unstable_isNewReconciler:!1};function ci(l,d){if(l&&l.defaultProps){d=D({},d),l=l.defaultProps;for(var m in l)d[m]===void 0&&(d[m]=l[m]);return d}return d}function vb(l,d,m,w){d=l.memoizedState,m=m(w,d),m=m==null?d:D({},d,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var qp={isMounted:function(l){return(l=l._reactInternals)?sa(l)===l:!1},enqueueSetState:function(l,d,m){l=l._reactInternals;var w=Xn(),E=gs(l),j=fo(w,E);j.payload=d,m!=null&&(j.callback=m),d=fs(l,j,E),d!==null&&(fi(d,l,E,w),Ip(d,l,E))},enqueueReplaceState:function(l,d,m){l=l._reactInternals;var w=Xn(),E=gs(l),j=fo(w,E);j.tag=1,j.payload=d,m!=null&&(j.callback=m),d=fs(l,j,E),d!==null&&(fi(d,l,E,w),Ip(d,l,E))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var m=Xn(),w=gs(l),E=fo(m,w);E.tag=2,d!=null&&(E.callback=d),d=fs(l,E,w),d!==null&&(fi(d,l,w,m),Ip(d,l,w))}};function _j(l,d,m,w,E,j,N){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,j,N):d.prototype&&d.prototype.isPureReactComponent?!Td(m,w)||!Td(E,j):!0}function Sj(l,d,m){var w=!1,E=cs,j=d.contextType;return typeof j=="object"&&j!==null?j=Lr(j):(E=sr(d)?la:Ln.current,w=d.contextTypes,j=(w=w!=null)?zl(l,E):cs),d=new d(m,j),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qp,l.stateNode=d,d._reactInternals=l,w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=E,l.__reactInternalMemoizedMaskedChildContext=j),d}function Pj(l,d,m,w){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,w),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,w),d.state!==l&&qp.enqueueReplaceState(d,d.state,null)}function yb(l,d,m,w){var E=l.stateNode;E.props=m,E.state=l.memoizedState,E.refs={},ib(l);var j=d.contextType;typeof j=="object"&&j!==null?E.context=Lr(j):(j=sr(d)?la:Ln.current,E.context=zl(l,j)),E.state=l.memoizedState,j=d.getDerivedStateFromProps,typeof j=="function"&&(vb(l,d,j,m),E.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(d=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),d!==E.state&&qp.enqueueReplaceState(E,E.state,null),Mp(l,m,E,w),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308)}function Zl(l,d){try{var m="",w=d;do m+=ye(w),w=w.return;while(w);var E=m}catch(j){E=`
Error generating stack: `+j.message+`
`+j.stack}return{value:l,source:d,stack:E,digest:null}}function bb(l,d,m){return{value:l,source:null,stack:m??null,digest:d??null}}function wb(l,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var V7=typeof WeakMap=="function"?WeakMap:Map;function Tj(l,d,m){m=fo(-1,m),m.tag=3,m.payload={element:null};var w=d.value;return m.callback=function(){Yp||(Yp=!0,Mb=w),wb(l,d)},m}function Cj(l,d,m){m=fo(-1,m),m.tag=3;var w=l.type.getDerivedStateFromError;if(typeof w=="function"){var E=d.value;m.payload=function(){return w(E)},m.callback=function(){wb(l,d)}}var j=l.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(m.callback=function(){wb(l,d),typeof w!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var N=d.stack;this.componentDidCatch(d.value,{componentStack:N!==null?N:""})}),m}function Ej(l,d,m){var w=l.pingCache;if(w===null){w=l.pingCache=new V7;var E=new Set;w.set(d,E)}else E=w.get(d),E===void 0&&(E=new Set,w.set(d,E));E.has(m)||(E.add(m),l=rG.bind(null,l,d,m),d.then(l,l))}function Aj(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function Oj(l,d,m,w,E){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=fo(-1,1),d.tag=2,fs(m,d,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=E,l)}var W7=A.ReactCurrentOwner,ar=!1;function Yn(l,d,m,w){d.child=l===null?Yk(d,null,m,w):Yl(d,l.child,m,w)}function kj(l,d,m,w,E){m=m.render;var j=d.ref;return Ql(d,E),w=db(l,d,m,w,j,E),m=fb(),l!==null&&!ar?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~E,ho(l,d,E)):($t&&m&&K0(d),d.flags|=1,Yn(l,d,w,E),d.child)}function jj(l,d,m,w,E){if(l===null){var j=m.type;return typeof j=="function"&&!qb(j)&&j.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=j,Rj(l,d,j,w,E)):(l=tm(m.type,null,w,d,d.mode,E),l.ref=d.ref,l.return=d,d.child=l)}if(j=l.child,(l.lanes&E)===0){var N=j.memoizedProps;if(m=m.compare,m=m!==null?m:Td,m(N,w)&&l.ref===d.ref)return ho(l,d,E)}return d.flags|=1,l=ys(j,w),l.ref=d.ref,l.return=d,d.child=l}function Rj(l,d,m,w,E){if(l!==null){var j=l.memoizedProps;if(Td(j,w)&&l.ref===d.ref)if(ar=!1,d.pendingProps=w=j,(l.lanes&E)!==0)(l.flags&131072)!==0&&(ar=!0);else return d.lanes=l.lanes,ho(l,d,E)}return xb(l,d,m,w,E)}function Nj(l,d,m){var w=d.pendingProps,E=w.children,j=l!==null?l.memoizedState:null;if(w.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(tc,Cr),Cr|=m;else{if((m&1073741824)===0)return l=j!==null?j.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,Ct(tc,Cr),Cr|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=j!==null?j.baseLanes:m,Ct(tc,Cr),Cr|=w}else j!==null?(w=j.baseLanes|m,d.memoizedState=null):w=m,Ct(tc,Cr),Cr|=w;return Yn(l,d,E,m),d.child}function Ij(l,d){var m=d.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function xb(l,d,m,w,E){var j=sr(m)?la:Ln.current;return j=zl(d,j),Ql(d,E),m=db(l,d,m,w,j,E),w=fb(),l!==null&&!ar?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~E,ho(l,d,E)):($t&&w&&K0(d),d.flags|=1,Yn(l,d,m,E),d.child)}function Mj(l,d,m,w,E){if(sr(m)){var j=!0;Cp(d)}else j=!1;if(Ql(d,E),d.stateNode===null)Wp(l,d),Sj(d,m,w),yb(d,m,w,E),w=!0;else if(l===null){var N=d.stateNode,U=d.memoizedProps;N.props=U;var H=N.context,ne=m.contextType;typeof ne=="object"&&ne!==null?ne=Lr(ne):(ne=sr(m)?la:Ln.current,ne=zl(d,ne));var le=m.getDerivedStateFromProps,ce=typeof le=="function"||typeof N.getSnapshotBeforeUpdate=="function";ce||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(U!==w||H!==ne)&&Pj(d,N,w,ne),ds=!1;var ae=d.memoizedState;N.state=ae,Mp(d,w,N,E),H=d.memoizedState,U!==w||ae!==H||or.current||ds?(typeof le=="function"&&(vb(d,m,le,w),H=d.memoizedState),(U=ds||_j(d,m,U,w,ae,H,ne))?(ce||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(d.flags|=4194308)):(typeof N.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=w,d.memoizedState=H),N.props=w,N.state=H,N.context=ne,w=U):(typeof N.componentDidMount=="function"&&(d.flags|=4194308),w=!1)}else{N=d.stateNode,Qk(l,d),U=d.memoizedProps,ne=d.type===d.elementType?U:ci(d.type,U),N.props=ne,ce=d.pendingProps,ae=N.context,H=m.contextType,typeof H=="object"&&H!==null?H=Lr(H):(H=sr(m)?la:Ln.current,H=zl(d,H));var we=m.getDerivedStateFromProps;(le=typeof we=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(U!==ce||ae!==H)&&Pj(d,N,w,H),ds=!1,ae=d.memoizedState,N.state=ae,Mp(d,w,N,E);var Te=d.memoizedState;U!==ce||ae!==Te||or.current||ds?(typeof we=="function"&&(vb(d,m,we,w),Te=d.memoizedState),(ne=ds||_j(d,m,ne,w,ae,Te,H)||!1)?(le||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(w,Te,H),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(w,Te,H)),typeof N.componentDidUpdate=="function"&&(d.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof N.componentDidUpdate!="function"||U===l.memoizedProps&&ae===l.memoizedState||(d.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||U===l.memoizedProps&&ae===l.memoizedState||(d.flags|=1024),d.memoizedProps=w,d.memoizedState=Te),N.props=w,N.state=Te,N.context=H,w=ne):(typeof N.componentDidUpdate!="function"||U===l.memoizedProps&&ae===l.memoizedState||(d.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||U===l.memoizedProps&&ae===l.memoizedState||(d.flags|=1024),w=!1)}return _b(l,d,m,w,j,E)}function _b(l,d,m,w,E,j){Ij(l,d);var N=(d.flags&128)!==0;if(!w&&!N)return E&&Bk(d,m,!1),ho(l,d,j);w=d.stateNode,W7.current=d;var U=N&&typeof m.getDerivedStateFromError!="function"?null:w.render();return d.flags|=1,l!==null&&N?(d.child=Yl(d,l.child,null,j),d.child=Yl(d,null,U,j)):Yn(l,d,U,j),d.memoizedState=w.state,E&&Bk(d,m,!0),d.child}function Dj(l){var d=l.stateNode;d.pendingContext?Lk(l,d.pendingContext,d.pendingContext!==d.context):d.context&&Lk(l,d.context,!1),ob(l,d.containerInfo)}function $j(l,d,m,w,E){return Kl(),J0(E),d.flags|=256,Yn(l,d,m,w),d.child}var Sb={dehydrated:null,treeContext:null,retryLane:0};function Pb(l){return{baseLanes:l,cachePool:null,transitions:null}}function Lj(l,d,m){var w=d.pendingProps,E=Vt.current,j=!1,N=(d.flags&128)!==0,U;if((U=N)||(U=l!==null&&l.memoizedState===null?!1:(E&2)!==0),U?(j=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(E|=1),Ct(Vt,E&1),l===null)return Q0(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(N=w.children,l=w.fallback,j?(w=d.mode,j=d.child,N={mode:"hidden",children:N},(w&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=N):j=nm(N,w,0,null),l=ya(l,w,m,null),j.return=d,l.return=d,j.sibling=l,d.child=j,d.child.memoizedState=Pb(m),d.memoizedState=Sb,l):Tb(d,N));if(E=l.memoizedState,E!==null&&(U=E.dehydrated,U!==null))return z7(l,d,N,w,U,E,m);if(j){j=w.fallback,N=d.mode,E=l.child,U=E.sibling;var H={mode:"hidden",children:w.children};return(N&1)===0&&d.child!==E?(w=d.child,w.childLanes=0,w.pendingProps=H,d.deletions=null):(w=ys(E,H),w.subtreeFlags=E.subtreeFlags&14680064),U!==null?j=ys(U,j):(j=ya(j,N,m,null),j.flags|=2),j.return=d,w.return=d,w.sibling=j,d.child=w,w=j,j=d.child,N=l.child.memoizedState,N=N===null?Pb(m):{baseLanes:N.baseLanes|m,cachePool:null,transitions:N.transitions},j.memoizedState=N,j.childLanes=l.childLanes&~m,d.memoizedState=Sb,w}return j=l.child,l=j.sibling,w=ys(j,{mode:"visible",children:w.children}),(d.mode&1)===0&&(w.lanes=m),w.return=d,w.sibling=null,l!==null&&(m=d.deletions,m===null?(d.deletions=[l],d.flags|=16):m.push(l)),d.child=w,d.memoizedState=null,w}function Tb(l,d){return d=nm({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function Vp(l,d,m,w){return w!==null&&J0(w),Yl(d,l.child,null,m),l=Tb(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function z7(l,d,m,w,E,j,N){if(m)return d.flags&256?(d.flags&=-257,w=bb(Error(n(422))),Vp(l,d,N,w)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(j=w.fallback,E=d.mode,w=nm({mode:"visible",children:w.children},E,0,null),j=ya(j,E,N,null),j.flags|=2,w.return=d,j.return=d,w.sibling=j,d.child=w,(d.mode&1)!==0&&Yl(d,l.child,null,N),d.child.memoizedState=Pb(N),d.memoizedState=Sb,j);if((d.mode&1)===0)return Vp(l,d,N,null);if(E.data==="$!"){if(w=E.nextSibling&&E.nextSibling.dataset,w)var U=w.dgst;return w=U,j=Error(n(419)),w=bb(j,w,void 0),Vp(l,d,N,w)}if(U=(N&l.childLanes)!==0,ar||U){if(w=_n,w!==null){switch(N&-N){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(w.suspendedLanes|N))!==0?0:E,E!==0&&E!==j.retryLane&&(j.retryLane=E,uo(l,E),fi(w,l,E,-1))}return Ub(),w=bb(Error(n(421))),Vp(l,d,N,w)}return E.data==="$?"?(d.flags|=128,d.child=l.child,d=iG.bind(null,l),E._reactRetry=d,null):(l=j.treeContext,Tr=as(E.nextSibling),Pr=d,$t=!0,li=null,l!==null&&(Dr[$r++]=lo,Dr[$r++]=co,Dr[$r++]=ca,lo=l.id,co=l.overflow,ca=d),d=Tb(d,w.children),d.flags|=4096,d)}function Fj(l,d,m){l.lanes|=d;var w=l.alternate;w!==null&&(w.lanes|=d),nb(l.return,d,m)}function Cb(l,d,m,w,E){var j=l.memoizedState;j===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:w,tail:m,tailMode:E}:(j.isBackwards=d,j.rendering=null,j.renderingStartTime=0,j.last=w,j.tail=m,j.tailMode=E)}function Bj(l,d,m){var w=d.pendingProps,E=w.revealOrder,j=w.tail;if(Yn(l,d,w.children,m),w=Vt.current,(w&2)!==0)w=w&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Fj(l,m,d);else if(l.tag===19)Fj(l,m,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}w&=1}if(Ct(Vt,w),(d.mode&1)===0)d.memoizedState=null;else switch(E){case"forwards":for(m=d.child,E=null;m!==null;)l=m.alternate,l!==null&&Dp(l)===null&&(E=m),m=m.sibling;m=E,m===null?(E=d.child,d.child=null):(E=m.sibling,m.sibling=null),Cb(d,!1,E,m,j);break;case"backwards":for(m=null,E=d.child,d.child=null;E!==null;){if(l=E.alternate,l!==null&&Dp(l)===null){d.child=E;break}l=E.sibling,E.sibling=m,m=E,E=l}Cb(d,!0,m,null,j);break;case"together":Cb(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Wp(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function ho(l,d,m){if(l!==null&&(d.dependencies=l.dependencies),pa|=d.lanes,(m&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(n(153));if(d.child!==null){for(l=d.child,m=ys(l,l.pendingProps),d.child=m,m.return=d;l.sibling!==null;)l=l.sibling,m=m.sibling=ys(l,l.pendingProps),m.return=d;m.sibling=null}return d.child}function H7(l,d,m){switch(d.tag){case 3:Dj(d),Kl();break;case 5:ej(d);break;case 1:sr(d.type)&&Cp(d);break;case 4:ob(d,d.stateNode.containerInfo);break;case 10:var w=d.type._context,E=d.memoizedProps.value;Ct(Rp,w._currentValue),w._currentValue=E;break;case 13:if(w=d.memoizedState,w!==null)return w.dehydrated!==null?(Ct(Vt,Vt.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?Lj(l,d,m):(Ct(Vt,Vt.current&1),l=ho(l,d,m),l!==null?l.sibling:null);Ct(Vt,Vt.current&1);break;case 19:if(w=(m&d.childLanes)!==0,(l.flags&128)!==0){if(w)return Bj(l,d,m);d.flags|=128}if(E=d.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Ct(Vt,Vt.current),w)break;return null;case 22:case 23:return d.lanes=0,Nj(l,d,m)}return ho(l,d,m)}var Uj,Eb,qj,Vj;Uj=function(l,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Eb=function(){},qj=function(l,d,m,w){var E=l.memoizedProps;if(E!==w){l=d.stateNode,fa($i.current);var j=null;switch(m){case"input":E=Le(l,E),w=Le(l,w),j=[];break;case"select":E=D({},E,{value:void 0}),w=D({},w,{value:void 0}),j=[];break;case"textarea":E=_r(l,E),w=_r(l,w),j=[];break;default:typeof E.onClick!="function"&&typeof w.onClick=="function"&&(l.onclick=Sp)}a0(m,w);var N;m=null;for(ne in E)if(!w.hasOwnProperty(ne)&&E.hasOwnProperty(ne)&&E[ne]!=null)if(ne==="style"){var U=E[ne];for(N in U)U.hasOwnProperty(N)&&(m||(m={}),m[N]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?j||(j=[]):(j=j||[]).push(ne,null));for(ne in w){var H=w[ne];if(U=E!=null?E[ne]:void 0,w.hasOwnProperty(ne)&&H!==U&&(H!=null||U!=null))if(ne==="style")if(U){for(N in U)!U.hasOwnProperty(N)||H&&H.hasOwnProperty(N)||(m||(m={}),m[N]="");for(N in H)H.hasOwnProperty(N)&&U[N]!==H[N]&&(m||(m={}),m[N]=H[N])}else m||(j||(j=[]),j.push(ne,m)),m=H;else ne==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,U=U?U.__html:void 0,H!=null&&U!==H&&(j=j||[]).push(ne,H)):ne==="children"?typeof H!="string"&&typeof H!="number"||(j=j||[]).push(ne,""+H):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(ne)?(H!=null&&ne==="onScroll"&&Rt("scroll",l),j||U===H||(j=[])):(j=j||[]).push(ne,H))}m&&(j=j||[]).push("style",m);var ne=j;(d.updateQueue=ne)&&(d.flags|=4)}},Vj=function(l,d,m,w){m!==w&&(d.flags|=4)};function Bd(l,d){if(!$t)switch(l.tailMode){case"hidden":d=l.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function Bn(l){var d=l.alternate!==null&&l.alternate.child===l.child,m=0,w=0;if(d)for(var E=l.child;E!==null;)m|=E.lanes|E.childLanes,w|=E.subtreeFlags&14680064,w|=E.flags&14680064,E.return=l,E=E.sibling;else for(E=l.child;E!==null;)m|=E.lanes|E.childLanes,w|=E.subtreeFlags,w|=E.flags,E.return=l,E=E.sibling;return l.subtreeFlags|=w,l.childLanes=m,d}function G7(l,d,m){var w=d.pendingProps;switch(Y0(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(d),null;case 1:return sr(d.type)&&Tp(),Bn(d),null;case 3:return w=d.stateNode,Jl(),Nt(or),Nt(Ln),lb(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(l===null||l.child===null)&&(kp(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,li!==null&&(Lb(li),li=null))),Eb(l,d),Bn(d),null;case 5:sb(d);var E=fa(Md.current);if(m=d.type,l!==null&&d.stateNode!=null)qj(l,d,m,w,E),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!w){if(d.stateNode===null)throw Error(n(166));return Bn(d),null}if(l=fa($i.current),kp(d)){w=d.stateNode,m=d.type;var j=d.memoizedProps;switch(w[Di]=d,w[kd]=j,l=(d.mode&1)!==0,m){case"dialog":Rt("cancel",w),Rt("close",w);break;case"iframe":case"object":case"embed":Rt("load",w);break;case"video":case"audio":for(E=0;E<Ed.length;E++)Rt(Ed[E],w);break;case"source":Rt("error",w);break;case"img":case"image":case"link":Rt("error",w),Rt("load",w);break;case"details":Rt("toggle",w);break;case"input":ct(w,j),Rt("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!j.multiple},Rt("invalid",w);break;case"textarea":oo(w,j),Rt("invalid",w)}a0(m,j),E=null;for(var N in j)if(j.hasOwnProperty(N)){var U=j[N];N==="children"?typeof U=="string"?w.textContent!==U&&(j.suppressHydrationWarning!==!0&&_p(w.textContent,U,l),E=["children",U]):typeof U=="number"&&w.textContent!==""+U&&(j.suppressHydrationWarning!==!0&&_p(w.textContent,U,l),E=["children",""+U]):i.hasOwnProperty(N)&&U!=null&&N==="onScroll"&&Rt("scroll",w)}switch(m){case"input":ve(w),Kn(w,j,!0);break;case"textarea":ve(w),Tt(w);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(w.onclick=Sp)}w=E,d.updateQueue=w,w!==null&&(d.flags|=4)}else{N=E.nodeType===9?E:E.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=ln(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=N.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof w.is=="string"?l=N.createElement(m,{is:w.is}):(l=N.createElement(m),m==="select"&&(N=l,w.multiple?N.multiple=!0:w.size&&(N.size=w.size))):l=N.createElementNS(l,m),l[Di]=d,l[kd]=w,Uj(l,d,!1,!1),d.stateNode=l;e:{switch(N=l0(m,w),m){case"dialog":Rt("cancel",l),Rt("close",l),E=w;break;case"iframe":case"object":case"embed":Rt("load",l),E=w;break;case"video":case"audio":for(E=0;E<Ed.length;E++)Rt(Ed[E],l);E=w;break;case"source":Rt("error",l),E=w;break;case"img":case"image":case"link":Rt("error",l),Rt("load",l),E=w;break;case"details":Rt("toggle",l),E=w;break;case"input":ct(l,w),E=Le(l,w),Rt("invalid",l);break;case"option":E=w;break;case"select":l._wrapperState={wasMultiple:!!w.multiple},E=D({},w,{value:void 0}),Rt("invalid",l);break;case"textarea":oo(l,w),E=_r(l,w),Rt("invalid",l);break;default:E=w}a0(m,E),U=E;for(j in U)if(U.hasOwnProperty(j)){var H=U[j];j==="style"?RO(l,H):j==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&ad(l,H)):j==="children"?typeof H=="string"?(m!=="textarea"||H!=="")&&ld(l,H):typeof H=="number"&&ld(l,""+H):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?H!=null&&j==="onScroll"&&Rt("scroll",l):H!=null&&S(l,j,H,N))}switch(m){case"input":ve(l),Kn(l,w,!1);break;case"textarea":ve(l),Tt(l);break;case"option":w.value!=null&&l.setAttribute("value",""+pe(w.value));break;case"select":l.multiple=!!w.multiple,j=w.value,j!=null?kn(l,!!w.multiple,j,!1):w.defaultValue!=null&&kn(l,!!w.multiple,w.defaultValue,!0);break;default:typeof E.onClick=="function"&&(l.onclick=Sp)}switch(m){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Bn(d),null;case 6:if(l&&d.stateNode!=null)Vj(l,d,l.memoizedProps,w);else{if(typeof w!="string"&&d.stateNode===null)throw Error(n(166));if(m=fa(Md.current),fa($i.current),kp(d)){if(w=d.stateNode,m=d.memoizedProps,w[Di]=d,(j=w.nodeValue!==m)&&(l=Pr,l!==null))switch(l.tag){case 3:_p(w.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&_p(w.nodeValue,m,(l.mode&1)!==0)}j&&(d.flags|=4)}else w=(m.nodeType===9?m:m.ownerDocument).createTextNode(w),w[Di]=d,d.stateNode=w}return Bn(d),null;case 13:if(Nt(Vt),w=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if($t&&Tr!==null&&(d.mode&1)!==0&&(d.flags&128)===0)Hk(),Kl(),d.flags|=98560,j=!1;else if(j=kp(d),w!==null&&w.dehydrated!==null){if(l===null){if(!j)throw Error(n(318));if(j=d.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Di]=d}else Kl(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Bn(d),j=!1}else li!==null&&(Lb(li),li=null),j=!0;if(!j)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(w=w!==null,w!==(l!==null&&l.memoizedState!==null)&&w&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(Vt.current&1)!==0?un===0&&(un=3):Ub())),d.updateQueue!==null&&(d.flags|=4),Bn(d),null);case 4:return Jl(),Eb(l,d),l===null&&Ad(d.stateNode.containerInfo),Bn(d),null;case 10:return tb(d.type._context),Bn(d),null;case 17:return sr(d.type)&&Tp(),Bn(d),null;case 19:if(Nt(Vt),j=d.memoizedState,j===null)return Bn(d),null;if(w=(d.flags&128)!==0,N=j.rendering,N===null)if(w)Bd(j,!1);else{if(un!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(N=Dp(l),N!==null){for(d.flags|=128,Bd(j,!1),w=N.updateQueue,w!==null&&(d.updateQueue=w,d.flags|=4),d.subtreeFlags=0,w=m,m=d.child;m!==null;)j=m,l=w,j.flags&=14680066,N=j.alternate,N===null?(j.childLanes=0,j.lanes=l,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=N.childLanes,j.lanes=N.lanes,j.child=N.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=N.memoizedProps,j.memoizedState=N.memoizedState,j.updateQueue=N.updateQueue,j.type=N.type,l=N.dependencies,j.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return Ct(Vt,Vt.current&1|2),d.child}l=l.sibling}j.tail!==null&&Jt()>nc&&(d.flags|=128,w=!0,Bd(j,!1),d.lanes=4194304)}else{if(!w)if(l=Dp(N),l!==null){if(d.flags|=128,w=!0,m=l.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),Bd(j,!0),j.tail===null&&j.tailMode==="hidden"&&!N.alternate&&!$t)return Bn(d),null}else 2*Jt()-j.renderingStartTime>nc&&m!==1073741824&&(d.flags|=128,w=!0,Bd(j,!1),d.lanes=4194304);j.isBackwards?(N.sibling=d.child,d.child=N):(m=j.last,m!==null?m.sibling=N:d.child=N,j.last=N)}return j.tail!==null?(d=j.tail,j.rendering=d,j.tail=d.sibling,j.renderingStartTime=Jt(),d.sibling=null,m=Vt.current,Ct(Vt,w?m&1|2:m&1),d):(Bn(d),null);case 22:case 23:return Bb(),w=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==w&&(d.flags|=8192),w&&(d.mode&1)!==0?(Cr&1073741824)!==0&&(Bn(d),d.subtreeFlags&6&&(d.flags|=8192)):Bn(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function K7(l,d){switch(Y0(d),d.tag){case 1:return sr(d.type)&&Tp(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return Jl(),Nt(or),Nt(Ln),lb(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return sb(d),null;case 13:if(Nt(Vt),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Kl()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return Nt(Vt),null;case 4:return Jl(),null;case 10:return tb(d.type._context),null;case 22:case 23:return Bb(),null;case 24:return null;default:return null}}var zp=!1,Un=!1,Y7=typeof WeakSet=="function"?WeakSet:Set,Se=null;function ec(l,d){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(w){Kt(l,d,w)}else m.current=null}function Ab(l,d,m){try{m()}catch(w){Kt(l,d,w)}}var Wj=!1;function X7(l,d){if(B0=dp,l=_k(),R0(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var w=m.getSelection&&m.getSelection();if(w&&w.rangeCount!==0){m=w.anchorNode;var E=w.anchorOffset,j=w.focusNode;w=w.focusOffset;try{m.nodeType,j.nodeType}catch{m=null;break e}var N=0,U=-1,H=-1,ne=0,le=0,ce=l,ae=null;t:for(;;){for(var we;ce!==m||E!==0&&ce.nodeType!==3||(U=N+E),ce!==j||w!==0&&ce.nodeType!==3||(H=N+w),ce.nodeType===3&&(N+=ce.nodeValue.length),(we=ce.firstChild)!==null;)ae=ce,ce=we;for(;;){if(ce===l)break t;if(ae===m&&++ne===E&&(U=N),ae===j&&++le===w&&(H=N),(we=ce.nextSibling)!==null)break;ce=ae,ae=ce.parentNode}ce=we}m=U===-1||H===-1?null:{start:U,end:H}}else m=null}m=m||{start:0,end:0}}else m=null;for(U0={focusedElem:l,selectionRange:m},dp=!1,Se=d;Se!==null;)if(d=Se,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,Se=l;else for(;Se!==null;){d=Se;try{var Te=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Ae=Te.memoizedProps,Zt=Te.memoizedState,Z=d.stateNode,X=Z.getSnapshotBeforeUpdate(d.elementType===d.type?Ae:ci(d.type,Ae),Zt);Z.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var ee=d.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){Kt(d,d.return,he)}if(l=d.sibling,l!==null){l.return=d.return,Se=l;break}Se=d.return}return Te=Wj,Wj=!1,Te}function Ud(l,d,m){var w=d.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var E=w=w.next;do{if((E.tag&l)===l){var j=E.destroy;E.destroy=void 0,j!==void 0&&Ab(d,m,j)}E=E.next}while(E!==w)}}function Hp(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&l)===l){var w=m.create;m.destroy=w()}m=m.next}while(m!==d)}}function Ob(l){var d=l.ref;if(d!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof d=="function"?d(l):d.current=l}}function zj(l){var d=l.alternate;d!==null&&(l.alternate=null,zj(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[Di],delete d[kd],delete d[z0],delete d[R7],delete d[N7])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Hj(l){return l.tag===5||l.tag===3||l.tag===4}function Gj(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Hj(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function kb(l,d,m){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(l,d):m.insertBefore(l,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(l,m)):(d=m,d.appendChild(l)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Sp));else if(w!==4&&(l=l.child,l!==null))for(kb(l,d,m),l=l.sibling;l!==null;)kb(l,d,m),l=l.sibling}function jb(l,d,m){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?m.insertBefore(l,d):m.appendChild(l);else if(w!==4&&(l=l.child,l!==null))for(jb(l,d,m),l=l.sibling;l!==null;)jb(l,d,m),l=l.sibling}var jn=null,ui=!1;function hs(l,d,m){for(m=m.child;m!==null;)Kj(l,d,m),m=m.sibling}function Kj(l,d,m){if(Mi&&typeof Mi.onCommitFiberUnmount=="function")try{Mi.onCommitFiberUnmount(op,m)}catch{}switch(m.tag){case 5:Un||ec(m,d);case 6:var w=jn,E=ui;jn=null,hs(l,d,m),jn=w,ui=E,jn!==null&&(ui?(l=jn,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):jn.removeChild(m.stateNode));break;case 18:jn!==null&&(ui?(l=jn,m=m.stateNode,l.nodeType===8?W0(l.parentNode,m):l.nodeType===1&&W0(l,m),bd(l)):W0(jn,m.stateNode));break;case 4:w=jn,E=ui,jn=m.stateNode.containerInfo,ui=!0,hs(l,d,m),jn=w,ui=E;break;case 0:case 11:case 14:case 15:if(!Un&&(w=m.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){E=w=w.next;do{var j=E,N=j.destroy;j=j.tag,N!==void 0&&((j&2)!==0||(j&4)!==0)&&Ab(m,d,N),E=E.next}while(E!==w)}hs(l,d,m);break;case 1:if(!Un&&(ec(m,d),w=m.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=m.memoizedProps,w.state=m.memoizedState,w.componentWillUnmount()}catch(U){Kt(m,d,U)}hs(l,d,m);break;case 21:hs(l,d,m);break;case 22:m.mode&1?(Un=(w=Un)||m.memoizedState!==null,hs(l,d,m),Un=w):hs(l,d,m);break;default:hs(l,d,m)}}function Yj(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new Y7),d.forEach(function(w){var E=oG.bind(null,l,w);m.has(w)||(m.add(w),w.then(E,E))})}}function di(l,d){var m=d.deletions;if(m!==null)for(var w=0;w<m.length;w++){var E=m[w];try{var j=l,N=d,U=N;e:for(;U!==null;){switch(U.tag){case 5:jn=U.stateNode,ui=!1;break e;case 3:jn=U.stateNode.containerInfo,ui=!0;break e;case 4:jn=U.stateNode.containerInfo,ui=!0;break e}U=U.return}if(jn===null)throw Error(n(160));Kj(j,N,E),jn=null,ui=!1;var H=E.alternate;H!==null&&(H.return=null),E.return=null}catch(ne){Kt(E,d,ne)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)Xj(d,l),d=d.sibling}function Xj(l,d){var m=l.alternate,w=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(di(d,l),Fi(l),w&4){try{Ud(3,l,l.return),Hp(3,l)}catch(Ae){Kt(l,l.return,Ae)}try{Ud(5,l,l.return)}catch(Ae){Kt(l,l.return,Ae)}}break;case 1:di(d,l),Fi(l),w&512&&m!==null&&ec(m,m.return);break;case 5:if(di(d,l),Fi(l),w&512&&m!==null&&ec(m,m.return),l.flags&32){var E=l.stateNode;try{ld(E,"")}catch(Ae){Kt(l,l.return,Ae)}}if(w&4&&(E=l.stateNode,E!=null)){var j=l.memoizedProps,N=m!==null?m.memoizedProps:j,U=l.type,H=l.updateQueue;if(l.updateQueue=null,H!==null)try{U==="input"&&j.type==="radio"&&j.name!=null&&ut(E,j),l0(U,N);var ne=l0(U,j);for(N=0;N<H.length;N+=2){var le=H[N],ce=H[N+1];le==="style"?RO(E,ce):le==="dangerouslySetInnerHTML"?ad(E,ce):le==="children"?ld(E,ce):S(E,le,ce,ne)}switch(U){case"input":Pt(E,j);break;case"textarea":Qe(E,j);break;case"select":var ae=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!j.multiple;var we=j.value;we!=null?kn(E,!!j.multiple,we,!1):ae!==!!j.multiple&&(j.defaultValue!=null?kn(E,!!j.multiple,j.defaultValue,!0):kn(E,!!j.multiple,j.multiple?[]:"",!1))}E[kd]=j}catch(Ae){Kt(l,l.return,Ae)}}break;case 6:if(di(d,l),Fi(l),w&4){if(l.stateNode===null)throw Error(n(162));E=l.stateNode,j=l.memoizedProps;try{E.nodeValue=j}catch(Ae){Kt(l,l.return,Ae)}}break;case 3:if(di(d,l),Fi(l),w&4&&m!==null&&m.memoizedState.isDehydrated)try{bd(d.containerInfo)}catch(Ae){Kt(l,l.return,Ae)}break;case 4:di(d,l),Fi(l);break;case 13:di(d,l),Fi(l),E=l.child,E.flags&8192&&(j=E.memoizedState!==null,E.stateNode.isHidden=j,!j||E.alternate!==null&&E.alternate.memoizedState!==null||(Ib=Jt())),w&4&&Yj(l);break;case 22:if(le=m!==null&&m.memoizedState!==null,l.mode&1?(Un=(ne=Un)||le,di(d,l),Un=ne):di(d,l),Fi(l),w&8192){if(ne=l.memoizedState!==null,(l.stateNode.isHidden=ne)&&!le&&(l.mode&1)!==0)for(Se=l,le=l.child;le!==null;){for(ce=Se=le;Se!==null;){switch(ae=Se,we=ae.child,ae.tag){case 0:case 11:case 14:case 15:Ud(4,ae,ae.return);break;case 1:ec(ae,ae.return);var Te=ae.stateNode;if(typeof Te.componentWillUnmount=="function"){w=ae,m=ae.return;try{d=w,Te.props=d.memoizedProps,Te.state=d.memoizedState,Te.componentWillUnmount()}catch(Ae){Kt(w,m,Ae)}}break;case 5:ec(ae,ae.return);break;case 22:if(ae.memoizedState!==null){Zj(ce);continue}}we!==null?(we.return=ae,Se=we):Zj(ce)}le=le.sibling}e:for(le=null,ce=l;;){if(ce.tag===5){if(le===null){le=ce;try{E=ce.stateNode,ne?(j=E.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(U=ce.stateNode,H=ce.memoizedProps.style,N=H!=null&&H.hasOwnProperty("display")?H.display:null,U.style.display=jO("display",N))}catch(Ae){Kt(l,l.return,Ae)}}}else if(ce.tag===6){if(le===null)try{ce.stateNode.nodeValue=ne?"":ce.memoizedProps}catch(Ae){Kt(l,l.return,Ae)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===l)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===l)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===l)break e;le===ce&&(le=null),ce=ce.return}le===ce&&(le=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:di(d,l),Fi(l),w&4&&Yj(l);break;case 21:break;default:di(d,l),Fi(l)}}function Fi(l){var d=l.flags;if(d&2){try{e:{for(var m=l.return;m!==null;){if(Hj(m)){var w=m;break e}m=m.return}throw Error(n(160))}switch(w.tag){case 5:var E=w.stateNode;w.flags&32&&(ld(E,""),w.flags&=-33);var j=Gj(l);jb(l,j,E);break;case 3:case 4:var N=w.stateNode.containerInfo,U=Gj(l);kb(l,U,N);break;default:throw Error(n(161))}}catch(H){Kt(l,l.return,H)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function Q7(l,d,m){Se=l,Qj(l)}function Qj(l,d,m){for(var w=(l.mode&1)!==0;Se!==null;){var E=Se,j=E.child;if(E.tag===22&&w){var N=E.memoizedState!==null||zp;if(!N){var U=E.alternate,H=U!==null&&U.memoizedState!==null||Un;U=zp;var ne=Un;if(zp=N,(Un=H)&&!ne)for(Se=E;Se!==null;)N=Se,H=N.child,N.tag===22&&N.memoizedState!==null?eR(E):H!==null?(H.return=N,Se=H):eR(E);for(;j!==null;)Se=j,Qj(j),j=j.sibling;Se=E,zp=U,Un=ne}Jj(l)}else(E.subtreeFlags&8772)!==0&&j!==null?(j.return=E,Se=j):Jj(l)}}function Jj(l){for(;Se!==null;){var d=Se;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Un||Hp(5,d);break;case 1:var w=d.stateNode;if(d.flags&4&&!Un)if(m===null)w.componentDidMount();else{var E=d.elementType===d.type?m.memoizedProps:ci(d.type,m.memoizedProps);w.componentDidUpdate(E,m.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var j=d.updateQueue;j!==null&&Zk(d,j,w);break;case 3:var N=d.updateQueue;if(N!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}Zk(d,N,m)}break;case 5:var U=d.stateNode;if(m===null&&d.flags&4){m=U;var H=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&m.focus();break;case"img":H.src&&(m.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var ne=d.alternate;if(ne!==null){var le=ne.memoizedState;if(le!==null){var ce=le.dehydrated;ce!==null&&bd(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Un||d.flags&512&&Ob(d)}catch(ae){Kt(d,d.return,ae)}}if(d===l){Se=null;break}if(m=d.sibling,m!==null){m.return=d.return,Se=m;break}Se=d.return}}function Zj(l){for(;Se!==null;){var d=Se;if(d===l){Se=null;break}var m=d.sibling;if(m!==null){m.return=d.return,Se=m;break}Se=d.return}}function eR(l){for(;Se!==null;){var d=Se;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{Hp(4,d)}catch(H){Kt(d,m,H)}break;case 1:var w=d.stateNode;if(typeof w.componentDidMount=="function"){var E=d.return;try{w.componentDidMount()}catch(H){Kt(d,E,H)}}var j=d.return;try{Ob(d)}catch(H){Kt(d,j,H)}break;case 5:var N=d.return;try{Ob(d)}catch(H){Kt(d,N,H)}}}catch(H){Kt(d,d.return,H)}if(d===l){Se=null;break}var U=d.sibling;if(U!==null){U.return=d.return,Se=U;break}Se=d.return}}var J7=Math.ceil,Gp=A.ReactCurrentDispatcher,Rb=A.ReactCurrentOwner,Br=A.ReactCurrentBatchConfig,ot=0,_n=null,tn=null,Rn=0,Cr=0,tc=ls(0),un=0,qd=null,pa=0,Kp=0,Nb=0,Vd=null,lr=null,Ib=0,nc=1/0,po=null,Yp=!1,Mb=null,ps=null,Xp=!1,ms=null,Qp=0,Wd=0,Db=null,Jp=-1,Zp=0;function Xn(){return(ot&6)!==0?Jt():Jp!==-1?Jp:Jp=Jt()}function gs(l){return(l.mode&1)===0?1:(ot&2)!==0&&Rn!==0?Rn&-Rn:M7.transition!==null?(Zp===0&&(Zp=GO()),Zp):(l=vt,l!==0||(l=window.event,l=l===void 0?16:nk(l.type)),l)}function fi(l,d,m,w){if(50<Wd)throw Wd=0,Db=null,Error(n(185));pd(l,m,w),((ot&2)===0||l!==_n)&&(l===_n&&((ot&2)===0&&(Kp|=m),un===4&&vs(l,Rn)),cr(l,w),m===1&&ot===0&&(d.mode&1)===0&&(nc=Jt()+500,Ep&&us()))}function cr(l,d){var m=l.callbackNode;M9(l,d);var w=lp(l,l===_n?Rn:0);if(w===0)m!==null&&WO(m),l.callbackNode=null,l.callbackPriority=0;else if(d=w&-w,l.callbackPriority!==d){if(m!=null&&WO(m),d===1)l.tag===0?I7(nR.bind(null,l)):Uk(nR.bind(null,l)),k7(function(){(ot&6)===0&&us()}),m=null;else{switch(KO(w)){case 1:m=m0;break;case 4:m=zO;break;case 16:m=ip;break;case 536870912:m=HO;break;default:m=ip}m=uR(m,tR.bind(null,l))}l.callbackPriority=d,l.callbackNode=m}}function tR(l,d){if(Jp=-1,Zp=0,(ot&6)!==0)throw Error(n(327));var m=l.callbackNode;if(rc()&&l.callbackNode!==m)return null;var w=lp(l,l===_n?Rn:0);if(w===0)return null;if((w&30)!==0||(w&l.expiredLanes)!==0||d)d=em(l,w);else{d=w;var E=ot;ot|=2;var j=iR();(_n!==l||Rn!==d)&&(po=null,nc=Jt()+500,ga(l,d));do try{tG();break}catch(U){rR(l,U)}while(!0);eb(),Gp.current=j,ot=E,tn!==null?d=0:(_n=null,Rn=0,d=un)}if(d!==0){if(d===2&&(E=g0(l),E!==0&&(w=E,d=$b(l,E))),d===1)throw m=qd,ga(l,0),vs(l,w),cr(l,Jt()),m;if(d===6)vs(l,w);else{if(E=l.current.alternate,(w&30)===0&&!Z7(E)&&(d=em(l,w),d===2&&(j=g0(l),j!==0&&(w=j,d=$b(l,j))),d===1))throw m=qd,ga(l,0),vs(l,w),cr(l,Jt()),m;switch(l.finishedWork=E,l.finishedLanes=w,d){case 0:case 1:throw Error(n(345));case 2:va(l,lr,po);break;case 3:if(vs(l,w),(w&130023424)===w&&(d=Ib+500-Jt(),10<d)){if(lp(l,0)!==0)break;if(E=l.suspendedLanes,(E&w)!==w){Xn(),l.pingedLanes|=l.suspendedLanes&E;break}l.timeoutHandle=V0(va.bind(null,l,lr,po),d);break}va(l,lr,po);break;case 4:if(vs(l,w),(w&4194240)===w)break;for(d=l.eventTimes,E=-1;0<w;){var N=31-si(w);j=1<<N,N=d[N],N>E&&(E=N),w&=~j}if(w=E,w=Jt()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*J7(w/1960))-w,10<w){l.timeoutHandle=V0(va.bind(null,l,lr,po),w);break}va(l,lr,po);break;case 5:va(l,lr,po);break;default:throw Error(n(329))}}}return cr(l,Jt()),l.callbackNode===m?tR.bind(null,l):null}function $b(l,d){var m=Vd;return l.current.memoizedState.isDehydrated&&(ga(l,d).flags|=256),l=em(l,d),l!==2&&(d=lr,lr=m,d!==null&&Lb(d)),l}function Lb(l){lr===null?lr=l:lr.push.apply(lr,l)}function Z7(l){for(var d=l;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var w=0;w<m.length;w++){var E=m[w],j=E.getSnapshot;E=E.value;try{if(!ai(j(),E))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function vs(l,d){for(d&=~Nb,d&=~Kp,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var m=31-si(d),w=1<<m;l[m]=-1,d&=~w}}function nR(l){if((ot&6)!==0)throw Error(n(327));rc();var d=lp(l,0);if((d&1)===0)return cr(l,Jt()),null;var m=em(l,d);if(l.tag!==0&&m===2){var w=g0(l);w!==0&&(d=w,m=$b(l,w))}if(m===1)throw m=qd,ga(l,0),vs(l,d),cr(l,Jt()),m;if(m===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,va(l,lr,po),cr(l,Jt()),null}function Fb(l,d){var m=ot;ot|=1;try{return l(d)}finally{ot=m,ot===0&&(nc=Jt()+500,Ep&&us())}}function ma(l){ms!==null&&ms.tag===0&&(ot&6)===0&&rc();var d=ot;ot|=1;var m=Br.transition,w=vt;try{if(Br.transition=null,vt=1,l)return l()}finally{vt=w,Br.transition=m,ot=d,(ot&6)===0&&us()}}function Bb(){Cr=tc.current,Nt(tc)}function ga(l,d){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,O7(m)),tn!==null)for(m=tn.return;m!==null;){var w=m;switch(Y0(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Tp();break;case 3:Jl(),Nt(or),Nt(Ln),lb();break;case 5:sb(w);break;case 4:Jl();break;case 13:Nt(Vt);break;case 19:Nt(Vt);break;case 10:tb(w.type._context);break;case 22:case 23:Bb()}m=m.return}if(_n=l,tn=l=ys(l.current,null),Rn=Cr=d,un=0,qd=null,Nb=Kp=pa=0,lr=Vd=null,da!==null){for(d=0;d<da.length;d++)if(m=da[d],w=m.interleaved,w!==null){m.interleaved=null;var E=w.next,j=m.pending;if(j!==null){var N=j.next;j.next=E,w.next=N}m.pending=w}da=null}return l}function rR(l,d){do{var m=tn;try{if(eb(),$p.current=Up,Lp){for(var w=Wt.memoizedState;w!==null;){var E=w.queue;E!==null&&(E.pending=null),w=w.next}Lp=!1}if(ha=0,xn=cn=Wt=null,Dd=!1,$d=0,Rb.current=null,m===null||m.return===null){un=1,qd=d,tn=null;break}e:{var j=l,N=m.return,U=m,H=d;if(d=Rn,U.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var ne=H,le=U,ce=le.tag;if((le.mode&1)===0&&(ce===0||ce===11||ce===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var we=Aj(N);if(we!==null){we.flags&=-257,Oj(we,N,U,j,d),we.mode&1&&Ej(j,ne,d),d=we,H=ne;var Te=d.updateQueue;if(Te===null){var Ae=new Set;Ae.add(H),d.updateQueue=Ae}else Te.add(H);break e}else{if((d&1)===0){Ej(j,ne,d),Ub();break e}H=Error(n(426))}}else if($t&&U.mode&1){var Zt=Aj(N);if(Zt!==null){(Zt.flags&65536)===0&&(Zt.flags|=256),Oj(Zt,N,U,j,d),J0(Zl(H,U));break e}}j=H=Zl(H,U),un!==4&&(un=2),Vd===null?Vd=[j]:Vd.push(j),j=N;do{switch(j.tag){case 3:j.flags|=65536,d&=-d,j.lanes|=d;var Z=Tj(j,H,d);Jk(j,Z);break e;case 1:U=H;var X=j.type,ee=j.stateNode;if((j.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(ps===null||!ps.has(ee)))){j.flags|=65536,d&=-d,j.lanes|=d;var he=Cj(j,U,d);Jk(j,he);break e}}j=j.return}while(j!==null)}sR(m)}catch(ke){d=ke,tn===m&&m!==null&&(tn=m=m.return);continue}break}while(!0)}function iR(){var l=Gp.current;return Gp.current=Up,l===null?Up:l}function Ub(){(un===0||un===3||un===2)&&(un=4),_n===null||(pa&268435455)===0&&(Kp&268435455)===0||vs(_n,Rn)}function em(l,d){var m=ot;ot|=2;var w=iR();(_n!==l||Rn!==d)&&(po=null,ga(l,d));do try{eG();break}catch(E){rR(l,E)}while(!0);if(eb(),ot=m,Gp.current=w,tn!==null)throw Error(n(261));return _n=null,Rn=0,un}function eG(){for(;tn!==null;)oR(tn)}function tG(){for(;tn!==null&&!C9();)oR(tn)}function oR(l){var d=cR(l.alternate,l,Cr);l.memoizedProps=l.pendingProps,d===null?sR(l):tn=d,Rb.current=null}function sR(l){var d=l;do{var m=d.alternate;if(l=d.return,(d.flags&32768)===0){if(m=G7(m,d,Cr),m!==null){tn=m;return}}else{if(m=K7(m,d),m!==null){m.flags&=32767,tn=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{un=6,tn=null;return}}if(d=d.sibling,d!==null){tn=d;return}tn=d=l}while(d!==null);un===0&&(un=5)}function va(l,d,m){var w=vt,E=Br.transition;try{Br.transition=null,vt=1,nG(l,d,m,w)}finally{Br.transition=E,vt=w}return null}function nG(l,d,m,w){do rc();while(ms!==null);if((ot&6)!==0)throw Error(n(327));m=l.finishedWork;var E=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var j=m.lanes|m.childLanes;if(D9(l,j),l===_n&&(tn=_n=null,Rn=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Xp||(Xp=!0,uR(ip,function(){return rc(),null})),j=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||j){j=Br.transition,Br.transition=null;var N=vt;vt=1;var U=ot;ot|=4,Rb.current=null,X7(l,m),Xj(m,l),_7(U0),dp=!!B0,U0=B0=null,l.current=m,Q7(m),E9(),ot=U,vt=N,Br.transition=j}else l.current=m;if(Xp&&(Xp=!1,ms=l,Qp=E),j=l.pendingLanes,j===0&&(ps=null),k9(m.stateNode),cr(l,Jt()),d!==null)for(w=l.onRecoverableError,m=0;m<d.length;m++)E=d[m],w(E.value,{componentStack:E.stack,digest:E.digest});if(Yp)throw Yp=!1,l=Mb,Mb=null,l;return(Qp&1)!==0&&l.tag!==0&&rc(),j=l.pendingLanes,(j&1)!==0?l===Db?Wd++:(Wd=0,Db=l):Wd=0,us(),null}function rc(){if(ms!==null){var l=KO(Qp),d=Br.transition,m=vt;try{if(Br.transition=null,vt=16>l?16:l,ms===null)var w=!1;else{if(l=ms,ms=null,Qp=0,(ot&6)!==0)throw Error(n(331));var E=ot;for(ot|=4,Se=l.current;Se!==null;){var j=Se,N=j.child;if((Se.flags&16)!==0){var U=j.deletions;if(U!==null){for(var H=0;H<U.length;H++){var ne=U[H];for(Se=ne;Se!==null;){var le=Se;switch(le.tag){case 0:case 11:case 15:Ud(8,le,j)}var ce=le.child;if(ce!==null)ce.return=le,Se=ce;else for(;Se!==null;){le=Se;var ae=le.sibling,we=le.return;if(zj(le),le===ne){Se=null;break}if(ae!==null){ae.return=we,Se=ae;break}Se=we}}}var Te=j.alternate;if(Te!==null){var Ae=Te.child;if(Ae!==null){Te.child=null;do{var Zt=Ae.sibling;Ae.sibling=null,Ae=Zt}while(Ae!==null)}}Se=j}}if((j.subtreeFlags&2064)!==0&&N!==null)N.return=j,Se=N;else e:for(;Se!==null;){if(j=Se,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Ud(9,j,j.return)}var Z=j.sibling;if(Z!==null){Z.return=j.return,Se=Z;break e}Se=j.return}}var X=l.current;for(Se=X;Se!==null;){N=Se;var ee=N.child;if((N.subtreeFlags&2064)!==0&&ee!==null)ee.return=N,Se=ee;else e:for(N=X;Se!==null;){if(U=Se,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Hp(9,U)}}catch(ke){Kt(U,U.return,ke)}if(U===N){Se=null;break e}var he=U.sibling;if(he!==null){he.return=U.return,Se=he;break e}Se=U.return}}if(ot=E,us(),Mi&&typeof Mi.onPostCommitFiberRoot=="function")try{Mi.onPostCommitFiberRoot(op,l)}catch{}w=!0}return w}finally{vt=m,Br.transition=d}}return!1}function aR(l,d,m){d=Zl(m,d),d=Tj(l,d,1),l=fs(l,d,1),d=Xn(),l!==null&&(pd(l,1,d),cr(l,d))}function Kt(l,d,m){if(l.tag===3)aR(l,l,m);else for(;d!==null;){if(d.tag===3){aR(d,l,m);break}else if(d.tag===1){var w=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(ps===null||!ps.has(w))){l=Zl(m,l),l=Cj(d,l,1),d=fs(d,l,1),l=Xn(),d!==null&&(pd(d,1,l),cr(d,l));break}}d=d.return}}function rG(l,d,m){var w=l.pingCache;w!==null&&w.delete(d),d=Xn(),l.pingedLanes|=l.suspendedLanes&m,_n===l&&(Rn&m)===m&&(un===4||un===3&&(Rn&130023424)===Rn&&500>Jt()-Ib?ga(l,0):Nb|=m),cr(l,d)}function lR(l,d){d===0&&((l.mode&1)===0?d=1:(d=ap,ap<<=1,(ap&130023424)===0&&(ap=4194304)));var m=Xn();l=uo(l,d),l!==null&&(pd(l,d,m),cr(l,m))}function iG(l){var d=l.memoizedState,m=0;d!==null&&(m=d.retryLane),lR(l,m)}function oG(l,d){var m=0;switch(l.tag){case 13:var w=l.stateNode,E=l.memoizedState;E!==null&&(m=E.retryLane);break;case 19:w=l.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(d),lR(l,m)}var cR;cR=function(l,d,m){if(l!==null)if(l.memoizedProps!==d.pendingProps||or.current)ar=!0;else{if((l.lanes&m)===0&&(d.flags&128)===0)return ar=!1,H7(l,d,m);ar=(l.flags&131072)!==0}else ar=!1,$t&&(d.flags&1048576)!==0&&qk(d,Op,d.index);switch(d.lanes=0,d.tag){case 2:var w=d.type;Wp(l,d),l=d.pendingProps;var E=zl(d,Ln.current);Ql(d,m),E=db(null,d,w,l,E,m);var j=fb();return d.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,sr(w)?(j=!0,Cp(d)):j=!1,d.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,ib(d),E.updater=qp,d.stateNode=E,E._reactInternals=d,yb(d,w,l,m),d=_b(null,d,w,!0,j,m)):(d.tag=0,$t&&j&&K0(d),Yn(null,d,E,m),d=d.child),d;case 16:w=d.elementType;e:{switch(Wp(l,d),l=d.pendingProps,E=w._init,w=E(w._payload),d.type=w,E=d.tag=aG(w),l=ci(w,l),E){case 0:d=xb(null,d,w,l,m);break e;case 1:d=Mj(null,d,w,l,m);break e;case 11:d=kj(null,d,w,l,m);break e;case 14:d=jj(null,d,w,ci(w.type,l),m);break e}throw Error(n(306,w,""))}return d;case 0:return w=d.type,E=d.pendingProps,E=d.elementType===w?E:ci(w,E),xb(l,d,w,E,m);case 1:return w=d.type,E=d.pendingProps,E=d.elementType===w?E:ci(w,E),Mj(l,d,w,E,m);case 3:e:{if(Dj(d),l===null)throw Error(n(387));w=d.pendingProps,j=d.memoizedState,E=j.element,Qk(l,d),Mp(d,w,null,m);var N=d.memoizedState;if(w=N.element,j.isDehydrated)if(j={element:w,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},d.updateQueue.baseState=j,d.memoizedState=j,d.flags&256){E=Zl(Error(n(423)),d),d=$j(l,d,w,m,E);break e}else if(w!==E){E=Zl(Error(n(424)),d),d=$j(l,d,w,m,E);break e}else for(Tr=as(d.stateNode.containerInfo.firstChild),Pr=d,$t=!0,li=null,m=Yk(d,null,w,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Kl(),w===E){d=ho(l,d,m);break e}Yn(l,d,w,m)}d=d.child}return d;case 5:return ej(d),l===null&&Q0(d),w=d.type,E=d.pendingProps,j=l!==null?l.memoizedProps:null,N=E.children,q0(w,E)?N=null:j!==null&&q0(w,j)&&(d.flags|=32),Ij(l,d),Yn(l,d,N,m),d.child;case 6:return l===null&&Q0(d),null;case 13:return Lj(l,d,m);case 4:return ob(d,d.stateNode.containerInfo),w=d.pendingProps,l===null?d.child=Yl(d,null,w,m):Yn(l,d,w,m),d.child;case 11:return w=d.type,E=d.pendingProps,E=d.elementType===w?E:ci(w,E),kj(l,d,w,E,m);case 7:return Yn(l,d,d.pendingProps,m),d.child;case 8:return Yn(l,d,d.pendingProps.children,m),d.child;case 12:return Yn(l,d,d.pendingProps.children,m),d.child;case 10:e:{if(w=d.type._context,E=d.pendingProps,j=d.memoizedProps,N=E.value,Ct(Rp,w._currentValue),w._currentValue=N,j!==null)if(ai(j.value,N)){if(j.children===E.children&&!or.current){d=ho(l,d,m);break e}}else for(j=d.child,j!==null&&(j.return=d);j!==null;){var U=j.dependencies;if(U!==null){N=j.child;for(var H=U.firstContext;H!==null;){if(H.context===w){if(j.tag===1){H=fo(-1,m&-m),H.tag=2;var ne=j.updateQueue;if(ne!==null){ne=ne.shared;var le=ne.pending;le===null?H.next=H:(H.next=le.next,le.next=H),ne.pending=H}}j.lanes|=m,H=j.alternate,H!==null&&(H.lanes|=m),nb(j.return,m,d),U.lanes|=m;break}H=H.next}}else if(j.tag===10)N=j.type===d.type?null:j.child;else if(j.tag===18){if(N=j.return,N===null)throw Error(n(341));N.lanes|=m,U=N.alternate,U!==null&&(U.lanes|=m),nb(N,m,d),N=j.sibling}else N=j.child;if(N!==null)N.return=j;else for(N=j;N!==null;){if(N===d){N=null;break}if(j=N.sibling,j!==null){j.return=N.return,N=j;break}N=N.return}j=N}Yn(l,d,E.children,m),d=d.child}return d;case 9:return E=d.type,w=d.pendingProps.children,Ql(d,m),E=Lr(E),w=w(E),d.flags|=1,Yn(l,d,w,m),d.child;case 14:return w=d.type,E=ci(w,d.pendingProps),E=ci(w.type,E),jj(l,d,w,E,m);case 15:return Rj(l,d,d.type,d.pendingProps,m);case 17:return w=d.type,E=d.pendingProps,E=d.elementType===w?E:ci(w,E),Wp(l,d),d.tag=1,sr(w)?(l=!0,Cp(d)):l=!1,Ql(d,m),Sj(d,w,E),yb(d,w,E,m),_b(null,d,w,!0,l,m);case 19:return Bj(l,d,m);case 22:return Nj(l,d,m)}throw Error(n(156,d.tag))};function uR(l,d){return VO(l,d)}function sG(l,d,m,w){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(l,d,m,w){return new sG(l,d,m,w)}function qb(l){return l=l.prototype,!(!l||!l.isReactComponent)}function aG(l){if(typeof l=="function")return qb(l)?1:0;if(l!=null){if(l=l.$$typeof,l===B)return 11;if(l===Q)return 14}return 2}function ys(l,d){var m=l.alternate;return m===null?(m=Ur(l.tag,d,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=d,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,d=l.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function tm(l,d,m,w,E,j){var N=2;if(w=l,typeof l=="function")qb(l)&&(N=1);else if(typeof l=="string")N=5;else e:switch(l){case k:return ya(m.children,E,j,d);case R:N=8,E|=8;break;case I:return l=Ur(12,m,d,E|2),l.elementType=I,l.lanes=j,l;case q:return l=Ur(13,m,d,E),l.elementType=q,l.lanes=j,l;case Y:return l=Ur(19,m,d,E),l.elementType=Y,l.lanes=j,l;case J:return nm(m,E,j,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case L:N=10;break e;case M:N=9;break e;case B:N=11;break e;case Q:N=14;break e;case K:N=16,w=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return d=Ur(N,m,d,E),d.elementType=l,d.type=w,d.lanes=j,d}function ya(l,d,m,w){return l=Ur(7,l,w,d),l.lanes=m,l}function nm(l,d,m,w){return l=Ur(22,l,w,d),l.elementType=J,l.lanes=m,l.stateNode={isHidden:!1},l}function Vb(l,d,m){return l=Ur(6,l,null,d),l.lanes=m,l}function Wb(l,d,m){return d=Ur(4,l.children!==null?l.children:[],l.key,d),d.lanes=m,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function lG(l,d,m,w,E){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=v0(0),this.expirationTimes=v0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=v0(0),this.identifierPrefix=w,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function zb(l,d,m,w,E,j,N,U,H){return l=new lG(l,d,m,U,H),d===1?(d=1,j===!0&&(d|=8)):d=0,j=Ur(3,null,null,d),l.current=j,j.stateNode=l,j.memoizedState={element:w,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},ib(j),l}function cG(l,d,m){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:w==null?null:""+w,children:l,containerInfo:d,implementation:m}}function dR(l){if(!l)return cs;l=l._reactInternals;e:{if(sa(l)!==l||l.tag!==1)throw Error(n(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(sr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(l.tag===1){var m=l.type;if(sr(m))return Fk(l,m,d)}return d}function fR(l,d,m,w,E,j,N,U,H){return l=zb(m,w,!0,l,E,j,N,U,H),l.context=dR(null),m=l.current,w=Xn(),E=gs(m),j=fo(w,E),j.callback=d??null,fs(m,j,E),l.current.lanes=E,pd(l,E,w),cr(l,w),l}function rm(l,d,m,w){var E=d.current,j=Xn(),N=gs(E);return m=dR(m),d.context===null?d.context=m:d.pendingContext=m,d=fo(j,N),d.payload={element:l},w=w===void 0?null:w,w!==null&&(d.callback=w),l=fs(E,d,N),l!==null&&(fi(l,E,N,j),Ip(l,E,N)),N}function im(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function hR(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<d?m:d}}function Hb(l,d){hR(l,d),(l=l.alternate)&&hR(l,d)}function uG(){return null}var pR=typeof reportError=="function"?reportError:function(l){console.error(l)};function Gb(l){this._internalRoot=l}om.prototype.render=Gb.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(n(409));rm(l,d,null,null)},om.prototype.unmount=Gb.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;ma(function(){rm(null,l,null,null)}),d[so]=null}};function om(l){this._internalRoot=l}om.prototype.unstable_scheduleHydration=function(l){if(l){var d=QO();l={blockedOn:null,target:l,priority:d};for(var m=0;m<is.length&&d!==0&&d<is[m].priority;m++);is.splice(m,0,l),m===0&&ek(l)}};function Kb(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function sm(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function mR(){}function dG(l,d,m,w,E){if(E){if(typeof w=="function"){var j=w;w=function(){var ne=im(N);j.call(ne)}}var N=fR(d,w,l,0,null,!1,!1,"",mR);return l._reactRootContainer=N,l[so]=N.current,Ad(l.nodeType===8?l.parentNode:l),ma(),N}for(;E=l.lastChild;)l.removeChild(E);if(typeof w=="function"){var U=w;w=function(){var ne=im(H);U.call(ne)}}var H=zb(l,0,!1,null,null,!1,!1,"",mR);return l._reactRootContainer=H,l[so]=H.current,Ad(l.nodeType===8?l.parentNode:l),ma(function(){rm(d,H,m,w)}),H}function am(l,d,m,w,E){var j=m._reactRootContainer;if(j){var N=j;if(typeof E=="function"){var U=E;E=function(){var H=im(N);U.call(H)}}rm(d,N,l,E)}else N=dG(m,d,l,E,w);return im(N)}YO=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var m=hd(d.pendingLanes);m!==0&&(y0(d,m|1),cr(d,Jt()),(ot&6)===0&&(nc=Jt()+500,us()))}break;case 13:ma(function(){var w=uo(l,1);if(w!==null){var E=Xn();fi(w,l,1,E)}}),Hb(l,1)}},b0=function(l){if(l.tag===13){var d=uo(l,134217728);if(d!==null){var m=Xn();fi(d,l,134217728,m)}Hb(l,134217728)}},XO=function(l){if(l.tag===13){var d=gs(l),m=uo(l,d);if(m!==null){var w=Xn();fi(m,l,d,w)}Hb(l,d)}},QO=function(){return vt},JO=function(l,d){var m=vt;try{return vt=l,d()}finally{vt=m}},d0=function(l,d,m){switch(d){case"input":if(Pt(l,m),d=m.name,m.type==="radio"&&d!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var w=m[d];if(w!==l&&w.form===l.form){var E=Pp(w);if(!E)throw Error(n(90));re(w),Pt(w,E)}}}break;case"textarea":Qe(l,m);break;case"select":d=m.value,d!=null&&kn(l,!!m.multiple,d,!1)}},DO=Fb,$O=ma;var fG={usingClientEntryPoint:!1,Events:[jd,Vl,Pp,IO,MO,Fb]},zd={findFiberByHostInstance:aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hG={bundleType:zd.bundleType,version:zd.version,rendererPackageName:zd.rendererPackageName,rendererConfig:zd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=UO(l),l===null?null:l.stateNode},findFiberByHostInstance:zd.findFiberByHostInstance||uG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lm.isDisabled&&lm.supportsFiber)try{op=lm.inject(hG),Mi=lm}catch{}}return ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fG,ur.createPortal=function(l,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kb(d))throw Error(n(200));return cG(l,d,null,m)},ur.createRoot=function(l,d){if(!Kb(l))throw Error(n(299));var m=!1,w="",E=pR;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(E=d.onRecoverableError)),d=zb(l,1,!1,null,null,m,!1,w,E),l[so]=d.current,Ad(l.nodeType===8?l.parentNode:l),new Gb(d)},ur.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=UO(d),l=l===null?null:l.stateNode,l},ur.flushSync=function(l){return ma(l)},ur.hydrate=function(l,d,m){if(!sm(d))throw Error(n(200));return am(null,l,d,!0,m)},ur.hydrateRoot=function(l,d,m){if(!Kb(l))throw Error(n(405));var w=m!=null&&m.hydratedSources||null,E=!1,j="",N=pR;if(m!=null&&(m.unstable_strictMode===!0&&(E=!0),m.identifierPrefix!==void 0&&(j=m.identifierPrefix),m.onRecoverableError!==void 0&&(N=m.onRecoverableError)),d=fR(d,null,l,1,m??null,E,!1,j,N),l[so]=d.current,Ad(l),w)for(l=0;l<w.length;l++)m=w[l],E=m._getVersion,E=E(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,E]:d.mutableSourceEagerHydrationData.push(m,E);return new om(d)},ur.render=function(l,d,m){if(!sm(d))throw Error(n(200));return am(null,l,d,!1,m)},ur.unmountComponentAtNode=function(l){if(!sm(l))throw Error(n(40));return l._reactRootContainer?(ma(function(){am(null,null,l,!1,function(){l._reactRootContainer=null,l[so]=null})}),!0):!1},ur.unstable_batchedUpdates=Fb,ur.unstable_renderSubtreeIntoContainer=function(l,d,m,w){if(!sm(m))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return am(l,d,m,!1,w)},ur.version="18.3.1-next-f1338f8080-20240426",ur}var PR;function J5(){if(PR)return Jb.exports;PR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jb.exports=wG(),Jb.exports}var TR;function xG(){if(TR)return dm;TR=1;var t=J5();return dm.createRoot=t.createRoot,dm.hydrateRoot=t.hydrateRoot,dm}var _G=xG();const SG=st(_G);function PG({children:t}){return g.jsx("div",{children:t})}const eE=C.createContext({});function tE(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const nE=typeof window<"u",Z5=nE?C.useLayoutEffect:C.useEffect,Kv=C.createContext(null);function rE(t,e){t.indexOf(e)===-1&&t.push(e)}function iE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const $o=(t,e,n)=>n>e?e:n<t?t:n;let oE=()=>{};const Lo={},e4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function t4(t){return typeof t=="object"&&t!==null}const n4=t=>/^0[^.\s]+$/u.test(t);function sE(t){let e;return()=>(e===void 0&&(e=t()),e)}const Zr=t=>t,TG=(t,e)=>n=>e(t(n)),Mh=(...t)=>t.reduce(TG),Mf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class aE{constructor(){this.subscriptions=[]}add(e){return rE(this.subscriptions,e),()=>iE(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gi=t=>t*1e3,Qr=t=>t/1e3;function r4(t,e){return e?t*(1e3/e):0}const i4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,CG=1e-7,EG=12;function AG(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=i4(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>CG&&++a<EG);return s}function Dh(t,e,n,r){if(t===e&&n===r)return Zr;const i=o=>AG(o,0,1,t,n);return o=>o===0||o===1?o:i4(i(o),e,r)}const o4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,s4=t=>e=>1-t(1-e),a4=Dh(.33,1.53,.69,.99),lE=s4(a4),l4=o4(lE),c4=t=>(t*=2)<1?.5*lE(t):.5*(2-Math.pow(2,-10*(t-1))),cE=t=>1-Math.sin(Math.acos(t)),u4=s4(cE),d4=o4(cE),OG=Dh(.42,0,1,1),kG=Dh(0,0,.58,1),f4=Dh(.42,0,.58,1),jG=t=>Array.isArray(t)&&typeof t[0]!="number",h4=t=>Array.isArray(t)&&typeof t[0]=="number",RG={linear:Zr,easeIn:OG,easeInOut:f4,easeOut:kG,circIn:cE,circInOut:d4,circOut:u4,backIn:lE,backInOut:l4,backOut:a4,anticipate:c4},NG=t=>typeof t=="string",CR=t=>{if(h4(t)){oE(t.length===4);const[e,n,r,i]=t;return Dh(e,n,r,i)}else if(NG(t))return RG[t];return t},fm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function IG(t,e){let n=new Set,r=new Set,i=!1,o=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(f){s.has(f)&&(u.schedule(f),t()),f(a)}const u={schedule:(f,h=!1,p=!1)=>{const x=p&&i?n:r;return h&&s.add(f),x.has(f)||x.add(f),f},cancel:f=>{r.delete(f),s.delete(f)},process:f=>{if(a=f,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,o&&(o=!1,u.process(f))}};return u}const MG=40;function p4(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=fm.reduce((S,A)=>(S[A]=IG(o),S),{}),{setup:a,read:c,resolveKeyframes:u,preUpdate:f,update:h,preRender:p,render:v,postRender:x}=s,b=()=>{const S=Lo.useManualTiming?i.timestamp:performance.now();n=!1,Lo.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(S-i.timestamp,MG),1)),i.timestamp=S,i.isProcessing=!0,a.process(i),c.process(i),u.process(i),f.process(i),h.process(i),p.process(i),v.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(b))},y=()=>{n=!0,r=!0,i.isProcessing||t(b)};return{schedule:fm.reduce((S,A)=>{const P=s[A];return S[A]=(O,k=!1,R=!1)=>(n||y(),P.schedule(O,k,R)),S},{}),cancel:S=>{for(let A=0;A<fm.length;A++)s[fm[A]].cancel(S)},state:i,steps:s}}const{schedule:Bt,cancel:Hs,state:Dn,steps:tw}=p4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zr,!0);let Jm;function DG(){Jm=void 0}const yr={now:()=>(Jm===void 0&&yr.set(Dn.isProcessing||Lo.useManualTiming?Dn.timestamp:performance.now()),Jm),set:t=>{Jm=t,queueMicrotask(DG)}},m4=t=>e=>typeof e=="string"&&e.startsWith(t),g4=m4("--"),$G=m4("var(--"),uE=t=>$G(t)?LG.test(t.split("/*")[0].trim()):!1,LG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Df={...Fu,transform:t=>$o(0,1,t)},hm={...Fu,default:1},_f=t=>Math.round(t*1e5)/1e5,dE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function FG(t){return t==null}const BG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fE=(t,e)=>n=>!!(typeof n=="string"&&BG.test(n)&&n.startsWith(t)||e&&!FG(n)&&Object.prototype.hasOwnProperty.call(n,e)),v4=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,a]=r.match(dE);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},UG=t=>$o(0,255,t),nw={...Fu,transform:t=>Math.round(UG(t))},Da={test:fE("rgb","red"),parse:v4("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+nw.transform(t)+", "+nw.transform(e)+", "+nw.transform(n)+", "+_f(Df.transform(r))+")"};function qG(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const K1={test:fE("#"),parse:qG,transform:Da.transform},$h=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),_s=$h("deg"),Ki=$h("%"),Ve=$h("px"),VG=$h("vh"),WG=$h("vw"),ER={...Ki,parse:t=>Ki.parse(t)/100,transform:t=>Ki.transform(t*100)},_c={test:fE("hsl","hue"),parse:v4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ki.transform(_f(e))+", "+Ki.transform(_f(n))+", "+_f(Df.transform(r))+")"},sn={test:t=>Da.test(t)||K1.test(t)||_c.test(t),parse:t=>Da.test(t)?Da.parse(t):_c.test(t)?_c.parse(t):K1.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Da.transform(t):_c.transform(t),getAnimatableNone:t=>{const e=sn.parse(t);return e.alpha=0,sn.transform(e)}},zG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function HG(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(dE))==null?void 0:e.length)||0)+(((n=t.match(zG))==null?void 0:n.length)||0)>0}const y4="number",b4="color",GG="var",KG="var(",AR="${}",YG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $f(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=e.replace(YG,c=>(sn.test(c)?(r.color.push(o),i.push(b4),n.push(sn.parse(c))):c.startsWith(KG)?(r.var.push(o),i.push(GG),n.push(c)):(r.number.push(o),i.push(y4),n.push(parseFloat(c))),++o,AR)).split(AR);return{values:n,split:a,indexes:r,types:i}}function w4(t){return $f(t).values}function x4(t){const{split:e,types:n}=$f(t),r=e.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=e[s],i[s]!==void 0){const a=n[s];a===y4?o+=_f(i[s]):a===b4?o+=sn.transform(i[s]):o+=i[s]}return o}}const XG=t=>typeof t=="number"?0:sn.test(t)?sn.getAnimatableNone(t):t;function QG(t){const e=w4(t);return x4(t)(e.map(XG))}const Gs={test:HG,parse:w4,createTransformer:x4,getAnimatableNone:QG};function rw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function JG({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;i=rw(c,a,t+1/3),o=rw(c,a,t),s=rw(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function bg(t,e){return n=>n>0?e:t}const Ht=(t,e,n)=>t+(e-t)*n,iw=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},ZG=[K1,Da,_c],eK=t=>ZG.find(e=>e.test(t));function OR(t){const e=eK(t);if(!e)return!1;let n=e.parse(t);return e===_c&&(n=JG(n)),n}const kR=(t,e)=>{const n=OR(t),r=OR(e);if(!n||!r)return bg(t,e);const i={...n};return o=>(i.red=iw(n.red,r.red,o),i.green=iw(n.green,r.green,o),i.blue=iw(n.blue,r.blue,o),i.alpha=Ht(n.alpha,r.alpha,o),Da.transform(i))},Y1=new Set(["none","hidden"]);function tK(t,e){return Y1.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function nK(t,e){return n=>Ht(t,e,n)}function hE(t){return typeof t=="number"?nK:typeof t=="string"?uE(t)?bg:sn.test(t)?kR:oK:Array.isArray(t)?_4:typeof t=="object"?sn.test(t)?kR:rK:bg}function _4(t,e){const n=[...t],r=n.length,i=t.map((o,s)=>hE(o)(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function rK(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=hE(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function iK(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],s=t.indexes[o][r[o]],a=t.values[s]??0;n[i]=a,r[o]++}return n}const oK=(t,e)=>{const n=Gs.createTransformer(e),r=$f(t),i=$f(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Y1.has(t)&&!i.values.length||Y1.has(e)&&!r.values.length?tK(t,e):Mh(_4(iK(r,i),i.values),n):bg(t,e)};function S4(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ht(t,e,n):hE(t)(t,e)}const sK=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Bt.update(e,n),stop:()=>Hs(e),now:()=>Dn.isProcessing?Dn.timestamp:yr.now()}},P4=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},wg=2e4;function pE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<wg;)e+=n,r=t.next(e);return e>=wg?1/0:e}function aK(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(pE(r),wg);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:Qr(i)}}const lK=5;function T4(t,e,n){const r=Math.max(e-lK,0);return r4(n-t(r),e-r)}const Xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ow=.001;function cK({duration:t=Xt.duration,bounce:e=Xt.bounce,velocity:n=Xt.velocity,mass:r=Xt.mass}){let i,o,s=1-e;s=$o(Xt.minDamping,Xt.maxDamping,s),t=$o(Xt.minDuration,Xt.maxDuration,Qr(t)),s<1?(i=u=>{const f=u*s,h=f*t,p=f-n,v=X1(u,s),x=Math.exp(-h);return ow-p/v*x},o=u=>{const h=u*s*t,p=h*n+n,v=Math.pow(s,2)*Math.pow(u,2)*t,x=Math.exp(-h),b=X1(Math.pow(u,2),s);return(-i(u)+ow>0?-1:1)*((p-v)*x)/b}):(i=u=>{const f=Math.exp(-u*t),h=(u-n)*t+1;return-ow+f*h},o=u=>{const f=Math.exp(-u*t),h=(n-u)*(t*t);return f*h});const a=5/t,c=dK(i,o,a);if(t=Gi(t),isNaN(c))return{stiffness:Xt.stiffness,damping:Xt.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:t}}}const uK=12;function dK(t,e,n){let r=n;for(let i=1;i<uK;i++)r=r-t(r)/e(r);return r}function X1(t,e){return t*Math.sqrt(1-e*e)}const fK=["duration","bounce"],hK=["stiffness","damping","mass"];function jR(t,e){return e.some(n=>t[n]!==void 0)}function pK(t){let e={velocity:Xt.velocity,stiffness:Xt.stiffness,damping:Xt.damping,mass:Xt.mass,isResolvedFromDuration:!1,...t};if(!jR(t,hK)&&jR(t,fK))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*$o(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Xt.mass,stiffness:i,damping:o}}else{const n=cK(t);e={...e,...n,mass:Xt.mass},e.isResolvedFromDuration=!0}return e}function xg(t=Xt.visualDuration,e=Xt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:c,damping:u,mass:f,duration:h,velocity:p,isResolvedFromDuration:v}=pK({...n,velocity:-Qr(n.velocity||0)}),x=p||0,b=u/(2*Math.sqrt(c*f)),y=s-o,_=Qr(Math.sqrt(c/f)),T=Math.abs(y)<5;r||(r=T?Xt.restSpeed.granular:Xt.restSpeed.default),i||(i=T?Xt.restDelta.granular:Xt.restDelta.default);let S;if(b<1){const P=X1(_,b);S=O=>{const k=Math.exp(-b*_*O);return s-k*((x+b*_*y)/P*Math.sin(P*O)+y*Math.cos(P*O))}}else if(b===1)S=P=>s-Math.exp(-_*P)*(y+(x+_*y)*P);else{const P=_*Math.sqrt(b*b-1);S=O=>{const k=Math.exp(-b*_*O),R=Math.min(P*O,300);return s-k*((x+b*_*y)*Math.sinh(R)+P*y*Math.cosh(R))/P}}const A={calculatedDuration:v&&h||null,next:P=>{const O=S(P);if(v)a.done=P>=h;else{let k=P===0?x:0;b<1&&(k=P===0?Gi(x):T4(S,P,O));const R=Math.abs(k)<=r,I=Math.abs(s-O)<=i;a.done=R&&I}return a.value=a.done?s:O,a},toString:()=>{const P=Math.min(pE(A),wg),O=P4(k=>A.next(P*k).value,P,30);return P+"ms "+O},toTransition:()=>{}};return A}xg.applyToOptions=t=>{const e=aK(t,100,xg);return t.ease=e.ease,t.duration=Gi(e.duration),t.type="keyframes",t};function Q1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:c,restDelta:u=.5,restSpeed:f}){const h=t[0],p={done:!1,value:h},v=R=>a!==void 0&&R<a||c!==void 0&&R>c,x=R=>a===void 0?c:c===void 0||Math.abs(a-R)<Math.abs(c-R)?a:c;let b=n*e;const y=h+b,_=s===void 0?y:s(y);_!==y&&(b=_-h);const T=R=>-b*Math.exp(-R/r),S=R=>_+T(R),A=R=>{const I=T(R),L=S(R);p.done=Math.abs(I)<=u,p.value=p.done?_:L};let P,O;const k=R=>{v(p.value)&&(P=R,O=xg({keyframes:[p.value,x(p.value)],velocity:T4(S,R,p.value),damping:i,stiffness:o,restDelta:u,restSpeed:f}))};return k(0),{calculatedDuration:null,next:R=>{let I=!1;return!O&&P===void 0&&(I=!0,A(R),k(R)),P!==void 0&&R>=P?O.next(R-P):(!I&&A(R),p)}}}function mK(t,e,n){const r=[],i=n||Lo.mix||S4,o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const c=Array.isArray(e)?e[s]||Zr:e;a=Mh(c,a)}r.push(a)}return r}function gK(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(oE(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=mK(e,r,i),c=a.length,u=f=>{if(s&&f<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(f<t[h+1]);h++);const p=Mf(t[h],t[h+1],f);return a[h](p)};return n?f=>u($o(t[0],t[o-1],f)):u}function vK(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Mf(0,e,r);t.push(Ht(n,1,i))}}function yK(t){const e=[0];return vK(e,t.length-1),e}function bK(t,e){return t.map(n=>n*e)}function wK(t,e){return t.map(()=>e||f4).splice(0,t.length-1)}function Sf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=jG(r)?r.map(CR):CR(r),o={done:!1,value:e[0]},s=bK(n&&n.length===e.length?n:yK(e),t),a=gK(s,e,{ease:Array.isArray(i)?i:wK(e,i)});return{calculatedDuration:t,next:c=>(o.value=a(c),o.done=c>=t,o)}}const xK=t=>t!==null;function mE(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(xK),a=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!a||r===void 0?o[a]:r}const _K={decay:Q1,inertia:Q1,tween:Sf,keyframes:Sf,spring:xg};function C4(t){typeof t.type=="string"&&(t.type=_K[t.type])}class gE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const SK=t=>t/100;class vE extends gE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==yr.now()&&this.tick(yr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;C4(e);const{type:n=Sf,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=e;let{keyframes:a}=e;const c=n||Sf;c!==Sf&&typeof a[0]!="number"&&(this.mixKeyframes=Mh(SK,S4(a[0],a[1])),a=[0,100]);const u=c({...e,keyframes:a});o==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...a].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=pE(u));const{calculatedDuration:f}=u;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:f,repeat:h,repeatType:p,repeatDelay:v,type:x,onUpdate:b,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-u*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let S=this.currentTime,A=r;if(h){const R=Math.min(this.currentTime,i)/a;let I=Math.floor(R),L=R%1;!L&&R>=1&&(L=1),L===1&&I--,I=Math.min(I,h+1),!!(I%2)&&(p==="reverse"?(L=1-L,v&&(L-=v/a)):p==="mirror"&&(A=s)),S=$o(0,1,L)*a}const P=T?{done:!1,value:f[0]}:A.next(S);o&&(P.value=o(P.value));let{done:O}=P;!T&&c!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return k&&x!==Q1&&(P.value=mE(f,this.options,y,this.speed)),b&&b(P.value),k&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return Qr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qr(e)}get time(){return Qr(this.currentTime)}set time(e){var n;e=Gi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(yr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Qr(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:e=sK,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function PK(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const $a=t=>t*180/Math.PI,J1=t=>{const e=$a(Math.atan2(t[1],t[0]));return Z1(e)},TK={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:J1,rotateZ:J1,skewX:t=>$a(Math.atan(t[1])),skewY:t=>$a(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Z1=t=>(t=t%360,t<0&&(t+=360),t),RR=J1,NR=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),IR=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),CK={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:NR,scaleY:IR,scale:t=>(NR(t)+IR(t))/2,rotateX:t=>Z1($a(Math.atan2(t[6],t[5]))),rotateY:t=>Z1($a(Math.atan2(-t[2],t[0]))),rotateZ:RR,rotate:RR,skewX:t=>$a(Math.atan(t[4])),skewY:t=>$a(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function eP(t){return t.includes("scale")?1:0}function tP(t,e){if(!t||t==="none")return eP(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=CK,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=TK,i=a}if(!i)return eP(e);const o=r[e],s=i[1].split(",").map(AK);return typeof o=="function"?o(s):s[o]}const EK=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return tP(n,e)};function AK(t){return parseFloat(t.trim())}const Bu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Uu=new Set(Bu),MR=t=>t===Fu||t===Ve,OK=new Set(["x","y","z"]),kK=Bu.filter(t=>!OK.has(t));function jK(t){const e=[];return kK.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const nl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>tP(e,"x"),y:(t,{transform:e})=>tP(e,"y")};nl.translateX=nl.x;nl.translateY=nl.y;const rl=new Set;let nP=!1,rP=!1,iP=!1;function E4(){if(rP){const t=Array.from(rl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=jK(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))==null||a.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}rP=!1,nP=!1,rl.forEach(t=>t.complete(iP)),rl.clear()}function A4(){rl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(rP=!0)})}function RK(){iP=!0,A4(),E4(),iP=!1}class yE{constructor(e,n,r,i,o,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(rl.add(this),nP||(nP=!0,Bt.read(A4),Bt.resolveKeyframes(E4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),s=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const a=r.readValue(n,s);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=s),i&&o===void 0&&i.set(e[0])}PK(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),rl.delete(this)}cancel(){this.state==="scheduled"&&(rl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const NK=t=>t.startsWith("--");function IK(t,e,n){NK(e)?t.style.setProperty(e,n):t.style[e]=n}const MK=sE(()=>window.ScrollTimeline!==void 0),DK={};function $K(t,e){const n=sE(t);return()=>DK[e]??n()}const O4=$K(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),df=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,DR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:df([0,.65,.55,1]),circOut:df([.55,0,1,.45]),backIn:df([.31,.01,.66,-.59]),backOut:df([.33,1.53,.69,.99])};function k4(t,e){if(t)return typeof t=="function"?O4()?P4(t,e):"ease-out":h4(t)?df(t):Array.isArray(t)?t.map(n=>k4(n,e)||DR.easeOut):DR[t]}function LK(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeOut",times:c}={},u=void 0){const f={[e]:n};c&&(f.offset=c);const h=k4(a,i);Array.isArray(h)&&(f.easing=h);const p={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),t.animate(f,p)}function j4(t){return typeof t=="function"&&"applyToOptions"in t}function FK({type:t,...e}){return j4(t)&&O4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class BK extends gE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:s=!1,finalKeyframe:a,onComplete:c}=e;this.isPseudoElement=!!o,this.allowFlatten=s,this.options=e,oE(typeof e.type!="string");const u=FK(e);this.animation=LK(n,r,i,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const f=mE(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(f):IK(n,r,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Qr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qr(e)}get time(){return Qr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Gi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&MK()?(this.animation.timeline=e,Zr):n(this)}}const R4={anticipate:c4,backInOut:l4,circInOut:d4};function UK(t){return t in R4}function qK(t){typeof t.ease=="string"&&UK(t.ease)&&(t.ease=R4[t.ease])}const $R=10;class VK extends BK{constructor(e){qK(e),C4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...s}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new vE({...s,autoplay:!1}),c=Gi(this.finishedTime??this.time);n.setWithVelocity(a.sample(c-$R).value,a.sample(c).value,$R),a.stop()}}const LR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gs.test(t)||t==="0")&&!t.startsWith("url("));function WK(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function zK(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],s=LR(i,e),a=LR(o,e);return!s||!a?!1:WK(t)||(n==="spring"||j4(n))&&r}function oP(t){t.duration=0,t.type="keyframes"}const HK=new Set(["opacity","clipPath","filter","transform"]),GK=sE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function KK(t){var f;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:s}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return GK()&&n&&HK.has(n)&&(n!=="transform"||!u)&&!c&&!r&&i!=="mirror"&&o!==0&&s!=="inertia"}const YK=40;class XK extends gE{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",keyframes:a,name:c,motionValue:u,element:f,...h}){var x;super(),this.stop=()=>{var b,y;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=yr.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,name:c,motionValue:u,element:f,...h},v=(f==null?void 0:f.KeyframeResolver)||yE;this.keyframeResolver=new v(a,(b,y,_)=>this.onKeyframesResolved(b,y,p,!_),c,u,f),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:o,type:s,velocity:a,delay:c,isHandoff:u,onUpdate:f}=r;this.resolvedAt=yr.now(),zK(e,o,s,a)||((Lo.instantAnimations||!c)&&(f==null||f(mE(e,r,n))),e[0]=e[e.length-1],oP(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>YK?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!u&&KK(p)?new VK({...p,element:p.motionValue.owner.current}):new vE(p);v.finished.then(()=>this.notifyFinished()).catch(Zr),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),RK()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const QK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JK(t){const e=QK.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function N4(t,e,n=1){const[r,i]=JK(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return e4(s)?parseFloat(s):s}return uE(i)?N4(i,e,n+1):i}function bE(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const I4=new Set(["width","height","top","left","right","bottom",...Bu]),ZK={test:t=>t==="auto",parse:t=>t},M4=t=>e=>e.test(t),D4=[Fu,Ve,Ki,_s,WG,VG,ZK],FR=t=>D4.find(M4(t));function eY(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||n4(t):!0}const tY=new Set(["brightness","contrast","saturate","opacity"]);function nY(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(dE)||[];if(!r)return t;const i=n.replace(r,"");let o=tY.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const rY=/\b([a-z-]*)\(.*?\)/gu,sP={...Gs,getAnimatableNone:t=>{const e=t.match(rY);return e?e.map(nY).join(" "):t}},BR={...Fu,transform:Math.round},iY={rotate:_s,rotateX:_s,rotateY:_s,rotateZ:_s,scale:hm,scaleX:hm,scaleY:hm,scaleZ:hm,skew:_s,skewX:_s,skewY:_s,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:Df,originX:ER,originY:ER,originZ:Ve},wE={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve,...iY,zIndex:BR,fillOpacity:Df,strokeOpacity:Df,numOctaves:BR},oY={...wE,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:sP,WebkitFilter:sP},$4=t=>oY[t];function L4(t,e){let n=$4(t);return n!==sP&&(n=Gs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const sY=new Set(["auto","none","0"]);function aY(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!sY.has(o)&&$f(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=L4(n,i)}class lY extends yE{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),uE(u))){const f=N4(u,n.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!I4.has(r)||e.length!==2)return;const[i,o]=e,s=FR(i),a=FR(o);if(s!==a)if(MR(s)&&MR(a))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else nl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||eY(e[i]))&&r.push(i);r.length&&aY(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,s=r[o];r[o]=nl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function cY(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const F4=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function B4(t){return t4(t)&&"offsetHeight"in t}const UR=30,uY=t=>!isNaN(parseFloat(t));class dY{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const i=yr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=yr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=uY(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new aE);const r=this.events[e].add(n);return e==="change"?()=>{r(),Bt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>UR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,UR);return r4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eu(t,e){return new dY(t,e)}const{schedule:xE}=p4(queueMicrotask,!1),gi={x:!1,y:!1};function U4(){return gi.x||gi.y}function fY(t){return t==="x"||t==="y"?gi[t]?null:(gi[t]=!0,()=>{gi[t]=!1}):gi.x||gi.y?null:(gi.x=gi.y=!0,()=>{gi.x=gi.y=!1})}function q4(t,e){const n=cY(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function qR(t){return!(t.pointerType==="touch"||U4())}function hY(t,e,n={}){const[r,i,o]=q4(t,n),s=a=>{if(!qR(a))return;const{target:c}=a,u=e(c,a);if(typeof u!="function"||!c)return;const f=h=>{qR(h)&&(u(h),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return r.forEach(a=>{a.addEventListener("pointerenter",s,i)}),o}const V4=(t,e)=>e?t===e?!0:V4(t,e.parentElement):!1,_E=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,pY=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mY(t){return pY.has(t.tagName)||t.tabIndex!==-1}const Zm=new WeakSet;function VR(t){return e=>{e.key==="Enter"&&t(e)}}function sw(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const gY=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=VR(()=>{if(Zm.has(n))return;sw(n,"down");const i=VR(()=>{sw(n,"up")}),o=()=>sw(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function WR(t){return _E(t)&&!U4()}function vY(t,e,n={}){const[r,i,o]=q4(t,n),s=a=>{const c=a.currentTarget;if(!WR(a))return;Zm.add(c);const u=e(c,a),f=(v,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),Zm.has(c)&&Zm.delete(c),WR(v)&&typeof u=="function"&&u(v,{success:x})},h=v=>{f(v,c===window||c===document||n.useGlobalTarget||V4(c,v.target))},p=v=>{f(v,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",s,i),B4(a)&&(a.addEventListener("focus",u=>gY(u,i)),!mY(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),o}function W4(t){return t4(t)&&"ownerSVGElement"in t}function yY(t){return W4(t)&&t.tagName==="svg"}const Hn=t=>!!(t&&t.getVelocity),bY=[...D4,sn,Gs],wY=t=>bY.find(M4(t)),SE=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function zR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function xY(...t){return e=>{let n=!1;const r=t.map(i=>{const o=zR(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():zR(t[i],null)}}}}function _Y(...t){return C.useCallback(xY(...t),t)}class SY extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=B4(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PY({children:t,isPresent:e,anchorX:n,root:r}){const i=C.useId(),o=C.useRef(null),s=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=C.useContext(SE),c=_Y(o,t==null?void 0:t.ref);return C.useInsertionEffect(()=>{const{width:u,height:f,top:h,left:p,right:v}=s.current;if(e||!o.current||!u||!f)return;const x=n==="left"?`left: ${p}`:`right: ${v}`;o.current.dataset.motionPopId=i;const b=document.createElement("style");a&&(b.nonce=a);const y=r??document.head;return y.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${x}px !important;
            top: ${h}px !important;
          }
        `),()=>{y.contains(b)&&y.removeChild(b)}},[e]),g.jsx(SY,{isPresent:e,childRef:o,sizeRef:s,children:C.cloneElement(t,{ref:c})})}const TY=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s,anchorX:a,root:c})=>{const u=tE(CY),f=C.useId();let h=!0,p=C.useMemo(()=>(h=!1,{id:f,initial:e,isPresent:n,custom:i,onExitComplete:v=>{u.set(v,!0);for(const x of u.values())if(!x)return;r&&r()},register:v=>(u.set(v,!1),()=>u.delete(v))}),[n,u,r]);return o&&h&&(p={...p}),C.useMemo(()=>{u.forEach((v,x)=>u.set(x,!1))},[n]),C.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),s==="popLayout"&&(t=g.jsx(PY,{isPresent:n,anchorX:a,root:c,children:t})),g.jsx(Kv.Provider,{value:p,children:t})};function CY(){return new Map}function z4(t=!0){const e=C.useContext(Kv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=C.useId();C.useEffect(()=>{if(t)return i(o)},[t]);const s=C.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,s]:[!0]}const pm=t=>t.key||"";function HR(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const Pl=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1,anchorX:a="left",root:c})=>{const[u,f]=z4(s),h=C.useMemo(()=>HR(t),[t]),p=s&&!u?[]:h.map(pm),v=C.useRef(!0),x=C.useRef(h),b=tE(()=>new Map),[y,_]=C.useState(h),[T,S]=C.useState(h);Z5(()=>{v.current=!1,x.current=h;for(let O=0;O<T.length;O++){const k=pm(T[O]);p.includes(k)?b.delete(k):b.get(k)!==!0&&b.set(k,!1)}},[T,p.length,p.join("-")]);const A=[];if(h!==y){let O=[...h];for(let k=0;k<T.length;k++){const R=T[k],I=pm(R);p.includes(I)||(O.splice(k,0,R),A.push(R))}return o==="wait"&&A.length&&(O=A),S(HR(O)),_(h),null}const{forceRender:P}=C.useContext(eE);return g.jsx(g.Fragment,{children:T.map(O=>{const k=pm(O),R=s&&!u?!1:h===T||p.includes(k),I=()=>{if(b.has(k))b.set(k,!0);else return;let L=!0;b.forEach(M=>{M||(L=!1)}),L&&(P==null||P(),S(x.current),s&&(f==null||f()),r&&r())};return g.jsx(TY,{isPresent:R,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:c,onExitComplete:R?void 0:I,anchorX:a,children:O},k)})})},H4=C.createContext({strict:!1}),GR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tu={};for(const t in GR)tu[t]={isEnabled:e=>GR[t].some(n=>!!e[n])};function EY(t){for(const e in t)tu[e]={...tu[e],...t[e]}}const AY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _g(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||AY.has(t)}let G4=t=>!_g(t);function OY(t){typeof t=="function"&&(G4=e=>e.startsWith("on")?!_g(e):t(e))}try{OY(require("@emotion/is-prop-valid").default)}catch{}function kY(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(G4(i)||n===!0&&_g(i)||!e&&!_g(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Yv=C.createContext({});function Xv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Lf(t){return typeof t=="string"||Array.isArray(t)}const PE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],TE=["initial",...PE];function Qv(t){return Xv(t.animate)||TE.some(e=>Lf(t[e]))}function K4(t){return!!(Qv(t)||t.variants)}function jY(t,e){if(Qv(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Lf(n)?n:void 0,animate:Lf(r)?r:void 0}}return t.inherit!==!1?e:{}}function RY(t){const{initial:e,animate:n}=jY(t,C.useContext(Yv));return C.useMemo(()=>({initial:e,animate:n}),[KR(e),KR(n)])}function KR(t){return Array.isArray(t)?t.join(" "):t}function YR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Gd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ve.test(t))t=parseFloat(t);else return t;const n=YR(t,e.target.x),r=YR(t,e.target.y);return`${n}% ${r}%`}},NY={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Gs.parse(t);if(i.length>5)return r;const o=Gs.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=c;const u=Ht(a,c,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}},aP={borderRadius:{...Gd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gd,borderTopRightRadius:Gd,borderBottomLeftRadius:Gd,borderBottomRightRadius:Gd,boxShadow:NY};function Y4(t,{layout:e,layoutId:n}){return Uu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!aP[t]||t==="opacity")}const IY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MY=Bu.length;function DY(t,e,n){let r="",i=!0;for(let o=0;o<MY;o++){const s=Bu[o],a=t[s];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(s.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=F4(a,wE[s]);if(!c){i=!1;const f=IY[s]||s;r+=`${f}(${u}) `}n&&(e[s]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function CE(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let s=!1,a=!1;for(const c in e){const u=e[c];if(Uu.has(c)){s=!0;continue}else if(g4(c)){i[c]=u;continue}else{const f=F4(u,wE[c]);c.startsWith("origin")?(a=!0,o[c]=f):r[c]=f}}if(e.transform||(s||n?r.transform=DY(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:f=0}=o;r.transformOrigin=`${c} ${u} ${f}`}}const EE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function X4(t,e,n){for(const r in e)!Hn(e[r])&&!Y4(r,n)&&(t[r]=e[r])}function $Y({transformTemplate:t},e){return C.useMemo(()=>{const n=EE();return CE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function LY(t,e){const n=t.style||{},r={};return X4(r,n,t),Object.assign(r,$Y(t,e)),r}function FY(t,e){const n={},r=LY(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const BY={offset:"stroke-dashoffset",array:"stroke-dasharray"},UY={offset:"strokeDashoffset",array:"strokeDasharray"};function qY(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?BY:UY;t[o.offset]=Ve.transform(-r);const s=Ve.transform(e),a=Ve.transform(n);t[o.array]=`${s} ${a}`}function Q4(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:s=0,...a},c,u,f){if(CE(t,a,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p}=t;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&qY(h,i,o,s,!1)}const J4=()=>({...EE(),attrs:{}}),Z4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function VY(t,e,n,r){const i=C.useMemo(()=>{const o=J4();return Q4(o,e,Z4(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};X4(o,t.style,t),i.style={...o,...i.style}}return i}const WY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function AE(t){return typeof t!="string"||t.includes("-")?!1:!!(WY.indexOf(t)>-1||/[A-Z]/u.test(t))}function zY(t,e,n,{latestValues:r},i,o=!1){const a=(AE(t)?VY:FY)(e,r,i,t),c=kY(e,typeof t=="string",o),u=t!==C.Fragment?{...c,...a,ref:n}:{},{children:f}=e,h=C.useMemo(()=>Hn(f)?f.get():f,[f]);return C.createElement(t,{...u,children:h})}function XR(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function OE(t,e,n,r){if(typeof e=="function"){const[i,o]=XR(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=XR(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function eg(t){return Hn(t)?t.get():t}function HY({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:GY(n,r,i,t),renderState:e()}}function GY(t,e,n,r){const i={},o=r(t,{});for(const p in o)i[p]=eg(o[p]);let{initial:s,animate:a}=t;const c=Qv(t),u=K4(t);e&&u&&!c&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let f=n?n.initial===!1:!1;f=f||s===!1;const h=f?a:s;if(h&&typeof h!="boolean"&&!Xv(h)){const p=Array.isArray(h)?h:[h];for(let v=0;v<p.length;v++){const x=OE(t,p[v]);if(x){const{transitionEnd:b,transition:y,..._}=x;for(const T in _){let S=_[T];if(Array.isArray(S)){const A=f?S.length-1:0;S=S[A]}S!==null&&(i[T]=S)}for(const T in b)i[T]=b[T]}}}return i}const eB=t=>(e,n)=>{const r=C.useContext(Yv),i=C.useContext(Kv),o=()=>HY(t,e,r,i);return n?o():tE(o)};function kE(t,e,n){var o;const{style:r}=t,i={};for(const s in r)(Hn(r[s])||e.style&&Hn(e.style[s])||Y4(s,t)||((o=n==null?void 0:n.getValue(s))==null?void 0:o.liveStyle)!==void 0)&&(i[s]=r[s]);return i}const KY=eB({scrapeMotionValuesFromProps:kE,createRenderState:EE});function tB(t,e,n){const r=kE(t,e,n);for(const i in t)if(Hn(t[i])||Hn(e[i])){const o=Bu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const YY=eB({scrapeMotionValuesFromProps:tB,createRenderState:J4}),XY=Symbol.for("motionComponentSymbol");function Sc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function QY(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Sc(n)&&(n.current=r))},[e])}const jE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JY="framerAppearId",nB="data-"+jE(JY),rB=C.createContext({});function ZY(t,e,n,r,i){var b,y;const{visualElement:o}=C.useContext(Yv),s=C.useContext(H4),a=C.useContext(Kv),c=C.useContext(SE).reducedMotion,u=C.useRef(null);r=r||s.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const f=u.current,h=C.useContext(rB);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&eX(u.current,n,i,h);const p=C.useRef(!1);C.useInsertionEffect(()=>{f&&p.current&&f.update(n,a)});const v=n[nB],x=C.useRef(!!v&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,v))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,v)));return Z5(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),x.current&&f.animationState&&f.animationState.animateChanges())}),C.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,v)}),x.current=!1),f.enteringChildren=void 0)}),f}function eX(t,e,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:iB(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&Sc(a),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:c,layoutRoot:u})}function iB(t){if(t)return t.options.allowProjection!==!1?t.projection:iB(t.parent)}function aw(t,{forwardMotionProps:e=!1}={},n,r){n&&EY(n);const i=AE(t)?YY:KY;function o(a,c){let u;const f={...C.useContext(SE),...a,layoutId:tX(a)},{isStatic:h}=f,p=RY(a),v=i(a,h);if(!h&&nE){nX();const x=rX(f);u=x.MeasureLayout,p.visualElement=ZY(t,v,f,r,x.ProjectionNode)}return g.jsxs(Yv.Provider,{value:p,children:[u&&p.visualElement?g.jsx(u,{visualElement:p.visualElement,...f}):null,zY(t,a,QY(v,p.visualElement,c),v,h,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const s=C.forwardRef(o);return s[XY]=t,s}function tX({layoutId:t}){const e=C.useContext(eE).id;return e&&t!==void 0?e+"-"+t:t}function nX(t,e){C.useContext(H4).strict}function rX(t){const{drag:e,layout:n}=tu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function iX(t,e){if(typeof Proxy>"u")return aw;const n=new Map,r=(o,s)=>aw(o,s,t,e),i=(o,s)=>r(o,s);return new Proxy(i,{get:(o,s)=>s==="create"?r:(n.has(s)||n.set(s,aw(s,void 0,t,e)),n.get(s))})}function oB({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function oX({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function sX(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function lw(t){return t===void 0||t===1}function lP({scale:t,scaleX:e,scaleY:n}){return!lw(t)||!lw(e)||!lw(n)}function Ca(t){return lP(t)||sB(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function sB(t){return QR(t.x)||QR(t.y)}function QR(t){return t&&t!=="0%"}function Sg(t,e,n){const r=t-n,i=e*r;return n+i}function JR(t,e,n,r,i){return i!==void 0&&(t=Sg(t,i,r)),Sg(t,n,r)+e}function cP(t,e=0,n=1,r,i){t.min=JR(t.min,e,n,r,i),t.max=JR(t.max,e,n,r,i)}function aB(t,{x:e,y:n}){cP(t.x,e.translate,e.scale,e.originPoint),cP(t.y,n.translate,n.scale,n.originPoint)}const ZR=.999999999999,eN=1.0000000000001;function aX(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Tc(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,aB(t,s)),r&&Ca(o.latestValues)&&Tc(t,o.latestValues))}e.x<eN&&e.x>ZR&&(e.x=1),e.y<eN&&e.y>ZR&&(e.y=1)}function Pc(t,e){t.min=t.min+e,t.max=t.max+e}function tN(t,e,n,r,i=.5){const o=Ht(t.min,t.max,i);cP(t,e,n,o,r)}function Tc(t,e){tN(t.x,e.x,e.scaleX,e.scale,e.originX),tN(t.y,e.y,e.scaleY,e.scale,e.originY)}function lB(t,e){return oB(sX(t.getBoundingClientRect(),e))}function lX(t,e,n){const r=lB(t,n),{scroll:i}=e;return i&&(Pc(r.x,i.offset.x),Pc(r.y,i.offset.y)),r}const nN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cc=()=>({x:nN(),y:nN()}),rN=()=>({min:0,max:0}),pn=()=>({x:rN(),y:rN()}),uP={current:null},cB={current:!1};function cX(){if(cB.current=!0,!!nE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>uP.current=t.matches;t.addEventListener("change",e),e()}else uP.current=!1}const uX=new WeakMap;function dX(t,e,n){for(const r in e){const i=e[r],o=n[r];if(Hn(i))t.addValue(r,i);else if(Hn(o))t.addValue(r,eu(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,eu(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const iN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fX{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=yr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Bt.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=s;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=Qv(n),this.isVariantNode=K4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const v=h[p];c[p]!==void 0&&Hn(v)&&v.set(c[p])}}mount(e){var n;this.current=e,uX.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),cB.current||cX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uP.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Hs(this.notifyUpdate),Hs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Uu.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Bt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in tu){const n=tu[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<iN.length;r++){const i=iN[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=e[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=dX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=eu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(e4(r)||n4(r))?r=parseFloat(r):!wY(r)&&Gs.test(n)&&(r=L4(e,n)),this.setBaseTarget(e,Hn(r)?r.get():r)),Hn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=OE(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Hn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new aE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){xE.render(this.render)}}class uB extends fX{constructor(){super(...arguments),this.KeyframeResolver=lY}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function dB(t,{style:e,vars:n},r,i){const o=t.style;let s;for(s in e)o[s]=e[s];i==null||i.applyProjectionStyles(o,r);for(s in n)o.setProperty(s,n[s])}function hX(t){return window.getComputedStyle(t)}class pX extends uB{constructor(){super(...arguments),this.type="html",this.renderInstance=dB}readValueFromInstance(e,n){var r;if(Uu.has(n))return(r=this.projection)!=null&&r.isProjecting?eP(n):EK(e,n);{const i=hX(e),o=(g4(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return lB(e,n)}build(e,n,r){CE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return kE(e,n,r)}}const fB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mX(t,e,n,r){dB(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(fB.has(i)?i:jE(i),e.attrs[i])}class gX extends uB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Uu.has(n)){const r=$4(n);return r&&r.default||0}return n=fB.has(n)?n:jE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return tB(e,n,r)}build(e,n,r){Q4(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){mX(e,n,r,i)}mount(e){this.isSVGTag=Z4(e.tagName),super.mount(e)}}const vX=(t,e)=>AE(t)?new gX(e):new pX(e,{allowProjection:t!==C.Fragment});function Rc(t,e,n){const r=t.getProps();return OE(r,e,n!==void 0?n:r.custom,t)}const dP=t=>Array.isArray(t);function yX(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,eu(n))}function bX(t){return dP(t)?t[t.length-1]||0:t}function wX(t,e){const n=Rc(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=bX(o[s]);yX(t,s,a)}}function xX(t){return!!(Hn(t)&&t.add)}function fP(t,e){const n=t.getValue("willChange");if(xX(n))return n.add(e);if(!n&&Lo.WillChange){const r=new Lo.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function hB(t){return t.props[nB]}const _X=t=>t!==null;function SX(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(_X),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const PX={type:"spring",stiffness:500,damping:25,restSpeed:10},TX=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),CX={type:"keyframes",duration:.8},EX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AX=(t,{keyframes:e})=>e.length>2?CX:Uu.has(t)?t.startsWith("scale")?TX(e[1]):PX:EX;function OX({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:c,elapsed:u,...f}){return!!Object.keys(f).length}const RE=(t,e,n,r={},i,o)=>s=>{const a=bE(r,t)||{},c=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Gi(c);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:i};OX(a)||Object.assign(f,AX(t,f)),f.duration&&(f.duration=Gi(f.duration)),f.repeatDelay&&(f.repeatDelay=Gi(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(oP(f),f.delay===0&&(h=!0)),(Lo.instantAnimations||Lo.skipAnimations)&&(h=!0,oP(f),f.delay=0),f.allowFlatten=!a.type&&!a.ease,h&&!o&&e.get()!==void 0){const p=SX(f.keyframes,a);if(p!==void 0){Bt.update(()=>{f.onUpdate(p),f.onComplete()});return}}return a.isSync?new vE(f):new XK(f)};function kX({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function pB(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=e;r&&(o=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const h=t.getValue(f,t.latestValues[f]??null),p=a[f];if(p===void 0||u&&kX(u,f))continue;const v={delay:n,...bE(o||{},f)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===x&&!v.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const _=hB(t);if(_){const T=window.MotionHandoffAnimation(_,f,Bt);T!==null&&(v.startTime=T,b=!0)}}fP(t,f),h.start(RE(f,h,p,t.shouldReduceMotion&&I4.has(f)?{type:!1}:v,t,b));const y=h.animation;y&&c.push(y)}return s&&Promise.all(c).then(()=>{Bt.update(()=>{s&&wX(t,s)})}),c}function mB(t,e,n,r=0,i=1){const o=Array.from(t).sort((u,f)=>u.sortNodePosition(f)).indexOf(e),s=t.size,a=(s-1)*r;return typeof n=="function"?n(o,s):i===1?o*r:a-o*r}function hP(t,e,n={}){var c;const r=Rc(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(pB(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:p}=i;return jX(t,e,u,f,h,p,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,f]=a==="beforeChildren"?[o,s]:[s,o];return u().then(()=>f())}else return Promise.all([o(),s(n.delay)])}function jX(t,e,n=0,r=0,i=0,o=1,s){const a=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),a.push(hP(c,e,{...s,delay:n+(typeof r=="function"?0:r)+mB(t.variantChildren,c,r,i,o)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(a)}function RX(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>hP(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=hP(t,e,n);else{const i=typeof e=="function"?Rc(t,e,n.custom):e;r=Promise.all(pB(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function gB(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const NX=TE.length;function vB(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?vB(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<NX;n++){const r=TE[n],i=t.props[r];(Lf(i)||i===!1)&&(e[r]=i)}return e}const IX=[...PE].reverse(),MX=PE.length;function DX(t){return e=>Promise.all(e.map(({animation:n,options:r})=>RX(t,n,r)))}function $X(t){let e=DX(t),n=oN(),r=!0;const i=c=>(u,f)=>{var p;const h=Rc(t,f,c==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:v,transitionEnd:x,...b}=h;u={...u,...b,...x}}return u};function o(c){e=c(t)}function s(c){const{props:u}=t,f=vB(t.parent)||{},h=[],p=new Set;let v={},x=1/0;for(let y=0;y<MX;y++){const _=IX[y],T=n[_],S=u[_]!==void 0?u[_]:f[_],A=Lf(S),P=_===c?T.isActive:null;P===!1&&(x=y);let O=S===f[_]&&S!==u[_]&&A;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),T.protectedKeys={...v},!T.isActive&&P===null||!S&&!T.prevProp||Xv(S)||typeof S=="boolean")continue;const k=LX(T.prevProp,S);let R=k||_===c&&T.isActive&&!O&&A||y>x&&A,I=!1;const L=Array.isArray(S)?S:[S];let M=L.reduce(i(_),{});P===!1&&(M={});const{prevResolvedValues:B={}}=T,q={...B,...M},Y=J=>{R=!0,p.has(J)&&(I=!0,p.delete(J)),T.needsAnimating[J]=!0;const F=t.getValue(J);F&&(F.liveStyle=!1)};for(const J in q){const F=M[J],G=B[J];if(v.hasOwnProperty(J))continue;let D=!1;dP(F)&&dP(G)?D=!gB(F,G):D=F!==G,D?F!=null?Y(J):p.add(J):F!==void 0&&p.has(J)?Y(J):T.protectedKeys[J]=!0}T.prevProp=S,T.prevResolvedValues=M,T.isActive&&(v={...v,...M}),r&&t.blockInitialAnimation&&(R=!1);const Q=O&&k;R&&(!Q||I)&&h.push(...L.map(J=>{const F={type:_};if(typeof J=="string"&&r&&!Q&&t.manuallyAnimateOnMount&&t.parent){const{parent:G}=t,D=Rc(G,J);if(G.enteringChildren&&D){const{delayChildren:$}=D.transition||{};F.delay=mB(G.enteringChildren,t,$)}}return{animation:J,options:F}}))}if(p.size){const y={};if(typeof u.initial!="boolean"){const _=Rc(t,Array.isArray(u.initial)?u.initial[0]:u.initial);_&&_.transition&&(y.transition=_.transition)}p.forEach(_=>{const T=t.getBaseTarget(_),S=t.getValue(_);S&&(S.liveStyle=!0),y[_]=T??null}),h.push({animation:y})}let b=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(h):Promise.resolve()}function a(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(p=>{var v;return(v=p.animationState)==null?void 0:v.setActive(c,u)}),n[c].isActive=u;const f=s(c);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=oN()}}}function LX(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!gB(e,t):!1}function ba(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oN(){return{animate:ba(!0),whileInView:ba(),whileHover:ba(),whileTap:ba(),whileDrag:ba(),whileFocus:ba(),exit:ba()}}class Js{constructor(e){this.isMounted=!1,this.node=e}update(){}}class FX extends Js{constructor(e){super(e),e.animationState||(e.animationState=$X(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Xv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let BX=0;class UX extends Js{constructor(){super(...arguments),this.id=BX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const qX={animation:{Feature:FX},exit:{Feature:UX}};function Ff(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Lh(t){return{point:{x:t.pageX,y:t.pageY}}}const VX=t=>e=>_E(e)&&t(e,Lh(e));function Pf(t,e,n,r){return Ff(t,e,VX(n),r)}const yB=1e-4,WX=1-yB,zX=1+yB,bB=.01,HX=0-bB,GX=0+bB;function er(t){return t.max-t.min}function KX(t,e,n){return Math.abs(t-e)<=n}function sN(t,e,n,r=.5){t.origin=r,t.originPoint=Ht(e.min,e.max,t.origin),t.scale=er(n)/er(e),t.translate=Ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=WX&&t.scale<=zX||isNaN(t.scale))&&(t.scale=1),(t.translate>=HX&&t.translate<=GX||isNaN(t.translate))&&(t.translate=0)}function Tf(t,e,n,r){sN(t.x,e.x,n.x,r?r.originX:void 0),sN(t.y,e.y,n.y,r?r.originY:void 0)}function aN(t,e,n){t.min=n.min+e.min,t.max=t.min+er(e)}function YX(t,e,n){aN(t.x,e.x,n.x),aN(t.y,e.y,n.y)}function lN(t,e,n){t.min=e.min-n.min,t.max=t.min+er(e)}function Pg(t,e,n){lN(t.x,e.x,n.x),lN(t.y,e.y,n.y)}function zr(t){return[t("x"),t("y")]}const wB=({current:t})=>t?t.ownerDocument.defaultView:null,cN=(t,e)=>Math.abs(t-e);function XX(t,e){const n=cN(t.x,e.x),r=cN(t.y,e.y);return Math.sqrt(n**2+r**2)}class xB{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=uw(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=XX(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!x)return;const{point:b}=p,{timestamp:y}=Dn;this.history.push({...b,timestamp:y});const{onStart:_,onMove:T}=this.handlers;v||(_&&_(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=cw(v,this.transformPagePoint),Bt.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:x,onSessionEnd:b,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=uw(p.type==="pointercancel"?this.lastMoveEventInfo:cw(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,_),b&&b(p,_)},!_E(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=i||window;const a=Lh(e),c=cw(a,this.transformPagePoint),{point:u}=c,{timestamp:f}=Dn;this.history=[{...u,timestamp:f}];const{onSessionStart:h}=n;h&&h(e,uw(c,this.history)),this.removeListeners=Mh(Pf(this.contextWindow,"pointermove",this.handlePointerMove),Pf(this.contextWindow,"pointerup",this.handlePointerUp),Pf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Hs(this.updatePoint)}}function cw(t,e){return e?{point:e(t.point)}:t}function uN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function uw({point:t},e){return{point:t,delta:uN(t,_B(e)),offset:uN(t,QX(e)),velocity:JX(e,.1)}}function QX(t){return t[0]}function _B(t){return t[t.length-1]}function JX(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=_B(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Gi(e)));)n--;if(!r)return{x:0,y:0};const o=Qr(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ZX(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ht(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ht(n,t,r.max):Math.min(t,n)),t}function dN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function eQ(t,{top:e,left:n,bottom:r,right:i}){return{x:dN(t.x,n,i),y:dN(t.y,e,r)}}function fN(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function tQ(t,e){return{x:fN(t.x,e.x),y:fN(t.y,e.y)}}function nQ(t,e){let n=.5;const r=er(t),i=er(e);return i>r?n=Mf(e.min,e.max-r,t.min):r>i&&(n=Mf(t.min,t.max-i,e.min)),$o(0,1,n)}function rQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const pP=.35;function iQ(t=pP){return t===!1?t=0:t===!0&&(t=pP),{x:hN(t,"left","right"),y:hN(t,"top","bottom")}}function hN(t,e,n){return{min:pN(t,e),max:pN(t,n)}}function pN(t,e){return typeof t=="number"?t:t[e]||0}const oQ=new WeakMap;class sQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lh(h).point)},s=(h,p)=>{const{drag:v,dragPropagation:x,onDragStart:b}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fY(v),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zr(_=>{let T=this.getAxisMotionValue(_).get()||0;if(Ki.test(T)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[_];A&&(T=er(A)*(parseFloat(T)/100))}}this.originPoint[_]=T}),b&&Bt.postRender(()=>b(h,p)),fP(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:b,onDrag:y}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:_}=p;if(x&&this.currentDirection===null){this.currentDirection=aQ(_),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",p.point,_),this.updateAxis("y",p.point,_),this.visualElement.render(),y&&y(h,p)},c=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>zr(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new xB(e,{onSessionStart:o,onStart:s,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:wB(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Bt.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!mm(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=ZX(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&Sc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=eQ(r.layoutBox,e):this.constraints=!1,this.elastic=iQ(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&zr(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=rQ(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Sc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=lX(r,i.root,this.visualElement.getTransformPagePoint());let s=tQ(i.layout.layoutBox,o);if(n){const a=n(oX(s));this.hasMutatedConstraints=!!a,a&&(s=oB(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=zr(f=>{if(!mm(f,n,this.currentDirection))return;let h=c&&c[f]||{};s&&(h={min:0,max:0});const p=i?200:1e6,v=i?40:1e7,x={type:"inertia",velocity:r?e[f]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(f,x)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return fP(this.visualElement,e),r.start(RE(e,r,0,n,this.visualElement,!1))}stopAnimation(){zr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){zr(n=>{const{drag:r}=this.getProps();if(!mm(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-Ht(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Sc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};zr(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const c=a.get();i[s]=nQ({min:c,max:c},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zr(s=>{if(!mm(s,e,null))return;const a=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];a.set(Ht(c,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;oQ.set(this.visualElement,this);const e=this.visualElement.current,n=Pf(e,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Sc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Bt.read(r);const s=Ff(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(zr(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=c[f].translate,h.set(h.get()+c[f].translate))}),this.visualElement.render())}));return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=pP,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function mm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function aQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class lQ extends Js{constructor(e){super(e),this.removeGroupControls=Zr,this.removeListeners=Zr,this.controls=new sQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zr}unmount(){this.removeGroupControls(),this.removeListeners()}}const mN=t=>(e,n)=>{t&&Bt.postRender(()=>t(e,n))};class cQ extends Js{constructor(){super(...arguments),this.removePointerDownListener=Zr}onPointerDown(e){this.session=new xB(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wB(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:mN(e),onStart:mN(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Bt.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=Pf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let dw=!1;class uQ extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),dw&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),tg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:s}=r;return s&&(s.isPresent=o,dw=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Bt.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;dw=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SB(t){const[e,n]=z4(),r=C.useContext(eE);return g.jsx(uQ,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(rB),isPresent:e,safeToRemove:n})}function dQ(t,e,n){const r=Hn(t)?t:eu(t);return r.start(RE("",r,e,n)),r.animation}const fQ=(t,e)=>t.depth-e.depth;class hQ{constructor(){this.children=[],this.isDirty=!1}add(e){rE(this.children,e),this.isDirty=!0}remove(e){iE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fQ),this.isDirty=!1,this.children.forEach(e)}}function pQ(t,e){const n=yr.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Hs(r),t(o-e))};return Bt.setup(r,!0),()=>Hs(r)}const PB=["TopLeft","TopRight","BottomLeft","BottomRight"],mQ=PB.length,gN=t=>typeof t=="string"?parseFloat(t):t,vN=t=>typeof t=="number"||Ve.test(t);function gQ(t,e,n,r,i,o){i?(t.opacity=Ht(0,n.opacity??1,vQ(r)),t.opacityExit=Ht(e.opacity??1,0,yQ(r))):o&&(t.opacity=Ht(e.opacity??1,n.opacity??1,r));for(let s=0;s<mQ;s++){const a=`border${PB[s]}Radius`;let c=yN(e,a),u=yN(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||vN(c)===vN(u)?(t[a]=Math.max(Ht(gN(c),gN(u),r),0),(Ki.test(u)||Ki.test(c))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Ht(e.rotate||0,n.rotate||0,r))}function yN(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const vQ=TB(0,.5,u4),yQ=TB(.5,.95,Zr);function TB(t,e,n){return r=>r<t?0:r>e?1:n(Mf(t,e,r))}function bN(t,e){t.min=e.min,t.max=e.max}function hi(t,e){bN(t.x,e.x),bN(t.y,e.y)}function wN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function xN(t,e,n,r,i){return t-=e,t=Sg(t,1/n,r),i!==void 0&&(t=Sg(t,1/i,r)),t}function bQ(t,e=0,n=1,r=.5,i,o=t,s=t){if(Ki.test(e)&&(e=parseFloat(e),e=Ht(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=Ht(o.min,o.max,r);t===o&&(a-=e),t.min=xN(t.min,e,n,a,i),t.max=xN(t.max,e,n,a,i)}function _N(t,e,[n,r,i],o,s){bQ(t,e[n],e[r],e[i],e.scale,o,s)}const wQ=["x","scaleX","originX"],xQ=["y","scaleY","originY"];function SN(t,e,n,r){_N(t.x,e,wQ,n?n.x:void 0,r?r.x:void 0),_N(t.y,e,xQ,n?n.y:void 0,r?r.y:void 0)}function PN(t){return t.translate===0&&t.scale===1}function CB(t){return PN(t.x)&&PN(t.y)}function TN(t,e){return t.min===e.min&&t.max===e.max}function _Q(t,e){return TN(t.x,e.x)&&TN(t.y,e.y)}function CN(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function EB(t,e){return CN(t.x,e.x)&&CN(t.y,e.y)}function EN(t){return er(t.x)/er(t.y)}function AN(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class SQ{constructor(){this.members=[]}add(e){rE(this.members,e),e.scheduleRender()}remove(e){if(iE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function PQ(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:f,rotateX:h,rotateY:p,skewX:v,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),f&&(r+=`rotate(${f}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),v&&(r+=`skewX(${v}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const fw=["","X","Y","Z"],TQ=1e3;let CQ=0;function hw(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function AB(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=hB(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Bt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&AB(r)}function OB({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=CQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(OQ),this.nodes.forEach(NQ),this.nodes.forEach(IQ),this.nodes.forEach(kQ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new hQ)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new aE),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const c=this.eventHandlers.get(s);c&&c.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=W4(s)&&!yY(s),this.instance=s;const{layoutId:a,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),t){let f,h=0;const p=()=>this.root.updateBlockedByResize=!1;Bt.read(()=>{h=window.innerWidth}),t(s,()=>{const v=window.innerWidth;v!==h&&(h=v,this.root.updateBlockedByResize=!0,f&&f(),f=pQ(p,250),tg.hasAnimatedSinceResize&&(tg.hasAnimatedSinceResize=!1,this.nodes.forEach(jN)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||FQ,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=u.getProps(),_=!this.targetLayout||!EB(this.targetLayout,v),T=!h&&p;if(this.options.layoutRoot||this.resumeFrom||T||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...bE(x,"layout"),onPlay:b,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(f,T)}else h||jN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MQ),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&AB(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ON);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(kN);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(RQ),this.nodes.forEach(EQ),this.nodes.forEach(AQ)):this.nodes.forEach(kN),this.clearAllSnapshots();const a=yr.now();Dn.delta=$o(0,1e3/60,a-Dn.timestamp),Dn.timestamp=a,Dn.isProcessing=!0,tw.update.process(Dn),tw.preRender.process(Dn),tw.render.process(Dn),Dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jQ),this.sharedNodes.forEach(DQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!er(this.snapshot.measuredBox.x)&&!er(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!CB(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;s&&this.instance&&(a||Ca(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return s&&(c=this.removeTransform(c)),BQ(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return pn();const a=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(UQ))){const{scroll:f}=this.root;f&&(Pc(a.x,f.offset.x),Pc(a.y,f.offset.y))}return a}removeElementScroll(s){var c;const a=pn();if(hi(a,s),(c=this.scroll)!=null&&c.wasRoot)return a;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:h,options:p}=f;f!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&hi(a,s),Pc(a.x,h.offset.x),Pc(a.y,h.offset.y))}return a}applyTransform(s,a=!1){const c=pn();hi(c,s);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Tc(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Ca(f.latestValues)&&Tc(c,f.latestValues)}return Ca(this.latestValues)&&Tc(c,this.latestValues),c}removeTransform(s){const a=pn();hi(a,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ca(u.latestValues))continue;lP(u.latestValues)&&u.updateSnapshot();const f=pn(),h=u.measurePageBox();hi(f,h),SN(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Ca(this.latestValues)&&SN(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var v;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!this.layout||!(f||h))return;this.resolvedRelativeTargetAt=Dn.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pn(),this.targetWithTransforms=pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),YX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hi(this.target,this.layout.layoutBox),aB(this.target,this.targetDelta)):hi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||lP(this.parent.latestValues)||sB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,a,c){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pn(),this.relativeTargetOrigin=pn(),Pg(this.relativeTargetOrigin,a,c),hi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const s=this.getLead(),a=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Dn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;hi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;aX(this.layoutCorrected,this.treeScale,this.path,a),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=pn());const{target:v}=s;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wN(this.prevProjectionDelta.x,this.projectionDelta.x),wN(this.prevProjectionDelta.y,this.projectionDelta.y)),Tf(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!AN(this.projectionDelta.x,this.prevProjectionDelta.x)||!AN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Cc(),this.projectionDelta=Cc(),this.projectionDeltaWithTransform=Cc()}setAnimationOrigin(s,a=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},h=Cc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=pn(),v=c?c.source:void 0,x=this.layout?this.layout.source:void 0,b=v!==x,y=this.getStack(),_=!y||y.members.length<=1,T=!!(b&&!_&&this.options.crossfade===!0&&!this.path.some(LQ));this.animationProgress=0;let S;this.mixTargetDelta=A=>{const P=A/1e3;RN(h.x,s.x,P),RN(h.y,s.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pg(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$Q(this.relativeTarget,this.relativeTargetOrigin,p,P),S&&_Q(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=pn()),hi(S,this.relativeTarget)),b&&(this.animationValues=f,gQ(f,u,this.latestValues,P,T,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var a,c,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bt.update(()=>{tg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=eu(0)),this.currentAnimation=dQ(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),s.onUpdate&&s.onUpdate(f)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(TQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:f}=s;if(!(!a||!c||!u)){if(this!==s&&this.layout&&u&&kB(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||pn();const h=er(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+h;const p=er(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+p}hi(a,c),Tc(a,f),Tf(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new SQ),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&hw("z",s,u,this.animationValues);for(let f=0;f<fw.length;f++)hw(`rotate${fw[f]}`,s,u,this.animationValues),hw(`skew${fw[f]}`,s,u,this.animationValues);s.render();for(const f in u)s.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);s.scheduleRender()}applyProjectionStyles(s,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=eg(a==null?void 0:a.pointerEvents)||"",s.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=eg(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ca(this.latestValues)&&(s.transform=c?c({},""):"none",this.hasProjected=!1);return}s.visibility="";const f=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=PQ(this.projectionDeltaWithTransform,this.treeScale,f);c&&(h=c(f,h)),s.transform=h;const{x:p,y:v}=this.projectionDelta;s.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,u.animationValues?s.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:s.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in aP){if(f[x]===void 0)continue;const{correct:b,applyTo:y,isCSSVariable:_}=aP[x],T=h==="none"?f[x]:b(f[x],u);if(y){const S=y.length;for(let A=0;A<S;A++)s[y[A]]=T}else _?this.options.visualElement.renderState.vars[x]=T:s[x]=T}this.options.layoutId&&(s.pointerEvents=u===this?eg(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(ON),this.root.sharedNodes.clear()}}}function EQ(t){t.updateLayout()}function AQ(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=e.source!==t.layout.source;o==="size"?zr(h=>{const p=s?e.measuredBox[h]:e.layoutBox[h],v=er(p);p.min=r[h].min,p.max=p.min+v}):kB(o,e.layoutBox,r)&&zr(h=>{const p=s?e.measuredBox[h]:e.layoutBox[h],v=er(r[h]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+v)});const a=Cc();Tf(a,r,e.layoutBox);const c=Cc();s?Tf(c,t.applyTransform(i,!0),e.measuredBox):Tf(c,r,e.layoutBox);const u=!CB(a);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:v}=h;if(p&&v){const x=pn();Pg(x,e.layoutBox,p.layoutBox);const b=pn();Pg(b,r,v.layoutBox),EB(x,b)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function OQ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function jQ(t){t.clearSnapshot()}function ON(t){t.clearMeasurements()}function kN(t){t.isLayoutDirty=!1}function RQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function jN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function NQ(t){t.resolveTargetDelta()}function IQ(t){t.calcProjection()}function MQ(t){t.resetSkewAndRotation()}function DQ(t){t.removeLeadSnapshot()}function RN(t,e,n){t.translate=Ht(e.translate,0,n),t.scale=Ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function NN(t,e,n,r){t.min=Ht(e.min,n.min,r),t.max=Ht(e.max,n.max,r)}function $Q(t,e,n,r){NN(t.x,e.x,n.x,r),NN(t.y,e.y,n.y,r)}function LQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const FQ={duration:.45,ease:[.4,0,.1,1]},IN=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),MN=IN("applewebkit/")&&!IN("chrome/")?Math.round:Zr;function DN(t){t.min=MN(t.min),t.max=MN(t.max)}function BQ(t){DN(t.x),DN(t.y)}function kB(t,e,n){return t==="position"||t==="preserve-aspect"&&!KX(EN(e),EN(n),.2)}function UQ(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const qQ=OB({attachResizeListener:(t,e)=>Ff(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pw={current:void 0},jB=OB({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!pw.current){const t=new qQ({});t.mount(window),t.setOptions({layoutScroll:!0}),pw.current=t}return pw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),VQ={pan:{Feature:cQ},drag:{Feature:lQ,ProjectionNode:jB,MeasureLayout:SB}};function $N(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Bt.postRender(()=>o(e,Lh(e)))}class WQ extends Js{mount(){const{current:e}=this.node;e&&(this.unmount=hY(e,(n,r)=>($N(this.node,r,"Start"),i=>$N(this.node,i,"End"))))}unmount(){}}class zQ extends Js{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mh(Ff(this.node.current,"focus",()=>this.onFocus()),Ff(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function LN(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Bt.postRender(()=>o(e,Lh(e)))}class HQ extends Js{mount(){const{current:e}=this.node;e&&(this.unmount=vY(e,(n,r)=>(LN(this.node,r,"Start"),(i,{success:o})=>LN(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mP=new WeakMap,mw=new WeakMap,GQ=t=>{const e=mP.get(t.target);e&&e(t)},KQ=t=>{t.forEach(GQ)};function YQ({root:t,...e}){const n=t||document;mw.has(n)||mw.set(n,{});const r=mw.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(KQ,{root:t,...e})),r[i]}function XQ(t,e,n){const r=YQ(e);return mP.set(t,n),r.observe(t),()=>{mP.delete(t),r.unobserve(t)}}const QQ={some:0,all:1};class JQ extends Js{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:QQ[i]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),p=u?f:h;p&&p(c)};return XQ(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ZQ(e,n))&&this.startObserver()}unmount(){}}function ZQ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const eJ={inView:{Feature:JQ},tap:{Feature:HQ},focus:{Feature:zQ},hover:{Feature:WQ}},tJ={layout:{ProjectionNode:jB,MeasureLayout:SB}},nJ={...qX,...eJ,...VQ,...tJ},me=iX(nJ,vX);var qu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rJ={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ks,XC,U5,iJ=(U5=class{constructor(){Ie(this,ks,rJ);Ie(this,XC,!1)}setTimeoutProvider(t){be(this,ks,t)}setTimeout(t,e){return W(this,ks).setTimeout(t,e)}clearTimeout(t){W(this,ks).clearTimeout(t)}setInterval(t,e){return W(this,ks).setInterval(t,e)}clearInterval(t){W(this,ks).clearInterval(t)}},ks=new WeakMap,XC=new WeakMap,U5),La=new iJ;function oJ(t){setTimeout(t,0)}var dl=typeof window>"u"||"Deno"in globalThis;function Zn(){}function sJ(t,e){return typeof t=="function"?t(e):t}function gP(t){return typeof t=="number"&&t>=0&&t!==1/0}function RB(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Us(t,e){return typeof t=="function"?t(e):t}function Kr(t,e){return typeof t=="function"?t(e):t}function FN(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==NE(s,e.options))return!1}else if(!Bf(e.queryKey,s))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function BN(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(fl(e.options.mutationKey)!==fl(o))return!1}else if(!Bf(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function NE(t,e){return((e==null?void 0:e.queryKeyHashFn)||fl)(t)}function fl(t){return JSON.stringify(t,(e,n)=>vP(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Bf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Bf(t[n],e[n])):!1}var aJ=Object.prototype.hasOwnProperty;function NB(t,e){if(t===e)return t;const n=UN(t)&&UN(e);if(!n&&!(vP(t)&&vP(e)))return e;const i=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),s=o.length,a=n?new Array(s):{};let c=0;for(let u=0;u<s;u++){const f=n?u:o[u],h=t[f],p=e[f];if(h===p){a[f]=h,(n?u<i:aJ.call(t,f))&&c++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){a[f]=p;continue}const v=NB(h,p);a[f]=v,v===h&&c++}return i===s&&c===i?t:a}function Tg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function UN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function vP(t){if(!qN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!qN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function qN(t){return Object.prototype.toString.call(t)==="[object Object]"}function lJ(t){return new Promise(e=>{La.setTimeout(e,t)})}function yP(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?NB(t,e):e}function cJ(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function uJ(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var IE=Symbol();function IB(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===IE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function MB(t,e){return typeof t=="function"?t(...e):!!t}var Ga,js,qc,q5,dJ=(q5=class extends qu{constructor(){super();Ie(this,Ga);Ie(this,js);Ie(this,qc);be(this,qc,e=>{if(!dl&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,js)||this.setEventListener(W(this,qc))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,js))==null||e.call(this),be(this,js,void 0))}setEventListener(e){var n;be(this,qc,e),(n=W(this,js))==null||n.call(this),be(this,js,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){W(this,Ga)!==e&&(be(this,Ga,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof W(this,Ga)=="boolean"?W(this,Ga):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ga=new WeakMap,js=new WeakMap,qc=new WeakMap,q5),ME=new dJ;function bP(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var fJ=oJ;function hJ(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=fJ;const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||s()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var gn=hJ(),Vc,Rs,Wc,V5,pJ=(V5=class extends qu{constructor(){super();Ie(this,Vc,!0);Ie(this,Rs);Ie(this,Wc);be(this,Wc,e=>{if(!dl&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,Rs)||this.setEventListener(W(this,Wc))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,Rs))==null||e.call(this),be(this,Rs,void 0))}setEventListener(e){var n;be(this,Wc,e),(n=W(this,Rs))==null||n.call(this),be(this,Rs,e(this.setOnline.bind(this)))}setOnline(e){W(this,Vc)!==e&&(be(this,Vc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return W(this,Vc)}},Vc=new WeakMap,Rs=new WeakMap,Wc=new WeakMap,V5),Cg=new pJ;function mJ(t){return Math.min(1e3*2**t,3e4)}function DB(t){return(t??"online")==="online"?Cg.isOnline():!0}var wP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function $B(t){let e=!1,n=0,r;const i=bP(),o=()=>i.status!=="pending",s=b=>{var y;if(!o()){const _=new wP(b);p(_),(y=t.onCancel)==null||y.call(t,_)}},a=()=>{e=!0},c=()=>{e=!1},u=()=>ME.isFocused()&&(t.networkMode==="always"||Cg.isOnline())&&t.canRun(),f=()=>DB(t.networkMode)&&t.canRun(),h=b=>{o()||(r==null||r(),i.resolve(b))},p=b=>{o()||(r==null||r(),i.reject(b))},v=()=>new Promise(b=>{var y;r=_=>{(o()||u())&&b(_)},(y=t.onPause)==null||y.call(t)}).then(()=>{var b;r=void 0,o()||(b=t.onContinue)==null||b.call(t)}),x=()=>{if(o())return;let b;const y=n===0?t.initialPromise:void 0;try{b=y??t.fn()}catch(_){b=Promise.reject(_)}Promise.resolve(b).then(h).catch(_=>{var O;if(o())return;const T=t.retry??(dl?0:3),S=t.retryDelay??mJ,A=typeof S=="function"?S(n,_):S,P=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,_);if(e||!P){p(_);return}n++,(O=t.onFail)==null||O.call(t,n,_),lJ(A).then(()=>u()?void 0:v()).then(()=>{e?p(_):x()})})};return{promise:i,status:()=>i.status,cancel:s,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?x():v().then(x),i)}}var Ka,W5,LB=(W5=class{constructor(){Ie(this,Ka)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gP(this.gcTime)&&be(this,Ka,La.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(dl?1/0:300*1e3))}clearGcTimeout(){W(this,Ka)&&(La.clearTimeout(W(this,Ka)),be(this,Ka,void 0))}},Ka=new WeakMap,W5),Ya,zc,Gr,Xa,Pn,Oh,Qa,wi,bo,z5,gJ=(z5=class extends LB{constructor(e){super();Ie(this,wi);Ie(this,Ya);Ie(this,zc);Ie(this,Gr);Ie(this,Xa);Ie(this,Pn);Ie(this,Oh);Ie(this,Qa);be(this,Qa,!1),be(this,Oh,e.defaultOptions),this.setOptions(e.options),this.observers=[],be(this,Xa,e.client),be(this,Gr,W(this,Xa).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,be(this,Ya,WN(this.options)),this.state=e.state??W(this,Ya),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=W(this,Pn))==null?void 0:e.promise}setOptions(e){if(this.options={...W(this,Oh),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=WN(this.options);n.data!==void 0&&(this.setState(VN(n.data,n.dataUpdatedAt)),be(this,Ya,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,Gr).remove(this)}setData(e,n){const r=yP(this.state.data,e,this.options);return Ye(this,wi,bo).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ye(this,wi,bo).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=W(this,Pn))==null?void 0:r.promise;return(i=W(this,Pn))==null||i.cancel(e),n?n.then(Zn).catch(Zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,Ya))}isActive(){return this.observers.some(e=>Kr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===IE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Us(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!RB(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=W(this,Pn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=W(this,Pn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),W(this,Gr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(W(this,Pn)&&(W(this,Qa)?W(this,Pn).cancel({revert:!0}):W(this,Pn).cancelRetry()),this.scheduleGc()),W(this,Gr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ye(this,wi,bo).call(this,{type:"invalidate"})}async fetch(e,n){var c,u,f,h,p,v,x,b,y,_,T,S;if(this.state.fetchStatus!=="idle"&&((c=W(this,Pn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(W(this,Pn))return W(this,Pn).continueRetry(),W(this,Pn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const A=this.observers.find(P=>P.options.queryFn);A&&this.setOptions(A.options)}const r=new AbortController,i=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(be(this,Qa,!0),r.signal)})},o=()=>{const A=IB(this.options,n),O=(()=>{const k={client:W(this,Xa),queryKey:this.queryKey,meta:this.meta};return i(k),k})();return be(this,Qa,!1),this.options.persister?this.options.persister(A,O,this):A(O)},a=(()=>{const A={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:W(this,Xa),state:this.state,fetchFn:o};return i(A),A})();(u=this.options.behavior)==null||u.onFetch(a,this),be(this,zc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Ye(this,wi,bo).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),be(this,Pn,$B({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:A=>{A instanceof wP&&A.revert&&this.setState({...W(this,zc),fetchStatus:"idle"}),r.abort()},onFail:(A,P)=>{Ye(this,wi,bo).call(this,{type:"failed",failureCount:A,error:P})},onPause:()=>{Ye(this,wi,bo).call(this,{type:"pause"})},onContinue:()=>{Ye(this,wi,bo).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const A=await W(this,Pn).start();if(A===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(A),(v=(p=W(this,Gr).config).onSuccess)==null||v.call(p,A,this),(b=(x=W(this,Gr).config).onSettled)==null||b.call(x,A,this.state.error,this),A}catch(A){if(A instanceof wP){if(A.silent)return W(this,Pn).promise;if(A.revert){if(this.state.data===void 0)throw A;return this.state.data}}throw Ye(this,wi,bo).call(this,{type:"error",error:A}),(_=(y=W(this,Gr).config).onError)==null||_.call(y,A,this),(S=(T=W(this,Gr).config).onSettled)==null||S.call(T,this.state.data,A,this),A}finally{this.scheduleGc()}}},Ya=new WeakMap,zc=new WeakMap,Gr=new WeakMap,Xa=new WeakMap,Pn=new WeakMap,Oh=new WeakMap,Qa=new WeakMap,wi=new WeakSet,bo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...FB(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...VN(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return be(this,zc,e.manual?i:void 0),i;case"error":const o=e.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),gn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),W(this,Gr).notify({query:this,type:"updated",action:e})})},z5);function FB(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DB(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function VN(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function WN(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var pr,tt,kh,Qn,Ja,Hc,Po,Ns,jh,Gc,Kc,Za,el,Is,Yc,gt,ff,xP,_P,SP,PP,TP,CP,EP,BB,H5,vJ=(H5=class extends qu{constructor(e,n){super();Ie(this,gt);Ie(this,pr);Ie(this,tt);Ie(this,kh);Ie(this,Qn);Ie(this,Ja);Ie(this,Hc);Ie(this,Po);Ie(this,Ns);Ie(this,jh);Ie(this,Gc);Ie(this,Kc);Ie(this,Za);Ie(this,el);Ie(this,Is);Ie(this,Yc,new Set);this.options=n,be(this,pr,e),be(this,Ns,null),be(this,Po,bP()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(W(this,tt).addObserver(this),zN(W(this,tt),this.options)?Ye(this,gt,ff).call(this):this.updateResult(),Ye(this,gt,PP).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return AP(W(this,tt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return AP(W(this,tt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ye(this,gt,TP).call(this),Ye(this,gt,CP).call(this),W(this,tt).removeObserver(this)}setOptions(e){const n=this.options,r=W(this,tt);if(this.options=W(this,pr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Kr(this.options.enabled,W(this,tt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ye(this,gt,EP).call(this),W(this,tt).setOptions(this.options),n._defaulted&&!Tg(this.options,n)&&W(this,pr).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,tt),observer:this});const i=this.hasListeners();i&&HN(W(this,tt),r,this.options,n)&&Ye(this,gt,ff).call(this),this.updateResult(),i&&(W(this,tt)!==r||Kr(this.options.enabled,W(this,tt))!==Kr(n.enabled,W(this,tt))||Us(this.options.staleTime,W(this,tt))!==Us(n.staleTime,W(this,tt)))&&Ye(this,gt,xP).call(this);const o=Ye(this,gt,_P).call(this);i&&(W(this,tt)!==r||Kr(this.options.enabled,W(this,tt))!==Kr(n.enabled,W(this,tt))||o!==W(this,Is))&&Ye(this,gt,SP).call(this,o)}getOptimisticResult(e){const n=W(this,pr).getQueryCache().build(W(this,pr),e),r=this.createResult(n,e);return bJ(this,r)&&(be(this,Qn,r),be(this,Hc,this.options),be(this,Ja,W(this,tt).state)),r}getCurrentResult(){return W(this,Qn)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&W(this,Po).status==="pending"&&W(this,Po).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){W(this,Yc).add(e)}getCurrentQuery(){return W(this,tt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=W(this,pr).defaultQueryOptions(e),r=W(this,pr).getQueryCache().build(W(this,pr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ye(this,gt,ff).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),W(this,Qn)))}createResult(e,n){var I;const r=W(this,tt),i=this.options,o=W(this,Qn),s=W(this,Ja),a=W(this,Hc),u=e!==r?e.state:W(this,kh),{state:f}=e;let h={...f},p=!1,v;if(n._optimisticResults){const L=this.hasListeners(),M=!L&&zN(e,n),B=L&&HN(e,r,n,i);(M||B)&&(h={...h,...FB(f.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:y}=h;v=h.data;let _=!1;if(n.placeholderData!==void 0&&v===void 0&&y==="pending"){let L;o!=null&&o.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(L=o.data,_=!0):L=typeof n.placeholderData=="function"?n.placeholderData((I=W(this,Kc))==null?void 0:I.state.data,W(this,Kc)):n.placeholderData,L!==void 0&&(y="success",v=yP(o==null?void 0:o.data,L,n),p=!0)}if(n.select&&v!==void 0&&!_)if(o&&v===(s==null?void 0:s.data)&&n.select===W(this,jh))v=W(this,Gc);else try{be(this,jh,n.select),v=n.select(v),v=yP(o==null?void 0:o.data,v,n),be(this,Gc,v),be(this,Ns,null)}catch(L){be(this,Ns,L)}W(this,Ns)&&(x=W(this,Ns),v=W(this,Gc),b=Date.now(),y="error");const T=h.fetchStatus==="fetching",S=y==="pending",A=y==="error",P=S&&T,O=v!==void 0,R={status:y,fetchStatus:h.fetchStatus,isPending:S,isSuccess:y==="success",isError:A,isInitialLoading:P,isLoading:P,data:v,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:T,isRefetching:T&&!S,isLoadingError:A&&!O,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&O,isStale:DE(e,n),refetch:this.refetch,promise:W(this,Po),isEnabled:Kr(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const L=q=>{R.status==="error"?q.reject(R.error):R.data!==void 0&&q.resolve(R.data)},M=()=>{const q=be(this,Po,R.promise=bP());L(q)},B=W(this,Po);switch(B.status){case"pending":e.queryHash===r.queryHash&&L(B);break;case"fulfilled":(R.status==="error"||R.data!==B.value)&&M();break;case"rejected":(R.status!=="error"||R.error!==B.reason)&&M();break}}return R}updateResult(){const e=W(this,Qn),n=this.createResult(W(this,tt),this.options);if(be(this,Ja,W(this,tt).state),be(this,Hc,this.options),W(this,Ja).data!==void 0&&be(this,Kc,W(this,tt)),Tg(n,e))return;be(this,Qn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!W(this,Yc).size)return!0;const s=new Set(o??W(this,Yc));return this.options.throwOnError&&s.add("error"),Object.keys(W(this,Qn)).some(a=>{const c=a;return W(this,Qn)[c]!==e[c]&&s.has(c)})};Ye(this,gt,BB).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ye(this,gt,PP).call(this)}},pr=new WeakMap,tt=new WeakMap,kh=new WeakMap,Qn=new WeakMap,Ja=new WeakMap,Hc=new WeakMap,Po=new WeakMap,Ns=new WeakMap,jh=new WeakMap,Gc=new WeakMap,Kc=new WeakMap,Za=new WeakMap,el=new WeakMap,Is=new WeakMap,Yc=new WeakMap,gt=new WeakSet,ff=function(e){Ye(this,gt,EP).call(this);let n=W(this,tt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Zn)),n},xP=function(){Ye(this,gt,TP).call(this);const e=Us(this.options.staleTime,W(this,tt));if(dl||W(this,Qn).isStale||!gP(e))return;const r=RB(W(this,Qn).dataUpdatedAt,e)+1;be(this,Za,La.setTimeout(()=>{W(this,Qn).isStale||this.updateResult()},r))},_P=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(W(this,tt)):this.options.refetchInterval)??!1},SP=function(e){Ye(this,gt,CP).call(this),be(this,Is,e),!(dl||Kr(this.options.enabled,W(this,tt))===!1||!gP(W(this,Is))||W(this,Is)===0)&&be(this,el,La.setInterval(()=>{(this.options.refetchIntervalInBackground||ME.isFocused())&&Ye(this,gt,ff).call(this)},W(this,Is)))},PP=function(){Ye(this,gt,xP).call(this),Ye(this,gt,SP).call(this,Ye(this,gt,_P).call(this))},TP=function(){W(this,Za)&&(La.clearTimeout(W(this,Za)),be(this,Za,void 0))},CP=function(){W(this,el)&&(La.clearInterval(W(this,el)),be(this,el,void 0))},EP=function(){const e=W(this,pr).getQueryCache().build(W(this,pr),this.options);if(e===W(this,tt))return;const n=W(this,tt);be(this,tt,e),be(this,kh,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},BB=function(e){gn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(W(this,Qn))}),W(this,pr).getQueryCache().notify({query:W(this,tt),type:"observerResultsUpdated"})})},H5);function yJ(t,e){return Kr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function zN(t,e){return yJ(t,e)||t.state.data!==void 0&&AP(t,e,e.refetchOnMount)}function AP(t,e,n){if(Kr(e.enabled,t)!==!1&&Us(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&DE(t,e)}return!1}function HN(t,e,n,r){return(t!==e||Kr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&DE(t,n)}function DE(t,e){return Kr(e.enabled,t)!==!1&&t.isStaleByTime(Us(e.staleTime,t))}function bJ(t,e){return!Tg(t.getCurrentResult(),e)}function GN(t){return{onFetch:(e,n)=>{var f,h,p,v,x;const r=e.options,i=(p=(h=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,o=((v=e.state.data)==null?void 0:v.pages)||[],s=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let b=!1;const y=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},_=IB(e.options,e.fetchOptions),T=async(S,A,P)=>{if(b)return Promise.reject();if(A==null&&S.pages.length)return Promise.resolve(S);const k=(()=>{const M={client:e.client,queryKey:e.queryKey,pageParam:A,direction:P?"backward":"forward",meta:e.options.meta};return y(M),M})(),R=await _(k),{maxPages:I}=e.options,L=P?uJ:cJ;return{pages:L(S.pages,R,I),pageParams:L(S.pageParams,A,I)}};if(i&&o.length){const S=i==="backward",A=S?wJ:KN,P={pages:o,pageParams:s},O=A(r,P);a=await T(P,O,S)}else{const S=t??o.length;do{const A=c===0?s[0]??r.initialPageParam:KN(r,a);if(c>0&&A==null)break;a=await T(a,A),c++}while(c<S)}return a};e.options.persister?e.fetchFn=()=>{var b,y;return(y=(b=e.options).persister)==null?void 0:y.call(b,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function KN(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function wJ(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Rh,Ui,Jn,tl,qi,Ss,G5,xJ=(G5=class extends LB{constructor(e){super();Ie(this,qi);Ie(this,Rh);Ie(this,Ui);Ie(this,Jn);Ie(this,tl);be(this,Rh,e.client),this.mutationId=e.mutationId,be(this,Jn,e.mutationCache),be(this,Ui,[]),this.state=e.state||UB(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){W(this,Ui).includes(e)||(W(this,Ui).push(e),this.clearGcTimeout(),W(this,Jn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){be(this,Ui,W(this,Ui).filter(n=>n!==e)),this.scheduleGc(),W(this,Jn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){W(this,Ui).length||(this.state.status==="pending"?this.scheduleGc():W(this,Jn).remove(this))}continue(){var e;return((e=W(this,tl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,a,c,u,f,h,p,v,x,b,y,_,T,S,A,P,O,k,R,I;const n=()=>{Ye(this,qi,Ss).call(this,{type:"continue"})},r={client:W(this,Rh),meta:this.options.meta,mutationKey:this.options.mutationKey};be(this,tl,$B({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(L,M)=>{Ye(this,qi,Ss).call(this,{type:"failed",failureCount:L,error:M})},onPause:()=>{Ye(this,qi,Ss).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,Jn).canRun(this)}));const i=this.state.status==="pending",o=!W(this,tl).canStart();try{if(i)n();else{Ye(this,qi,Ss).call(this,{type:"pending",variables:e,isPaused:o}),await((a=(s=W(this,Jn).config).onMutate)==null?void 0:a.call(s,e,this,r));const M=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,r));M!==this.state.context&&Ye(this,qi,Ss).call(this,{type:"pending",context:M,variables:e,isPaused:o})}const L=await W(this,tl).start();return await((h=(f=W(this,Jn).config).onSuccess)==null?void 0:h.call(f,L,e,this.state.context,this,r)),await((v=(p=this.options).onSuccess)==null?void 0:v.call(p,L,e,this.state.context,r)),await((b=(x=W(this,Jn).config).onSettled)==null?void 0:b.call(x,L,null,this.state.variables,this.state.context,this,r)),await((_=(y=this.options).onSettled)==null?void 0:_.call(y,L,null,e,this.state.context,r)),Ye(this,qi,Ss).call(this,{type:"success",data:L}),L}catch(L){try{throw await((S=(T=W(this,Jn).config).onError)==null?void 0:S.call(T,L,e,this.state.context,this,r)),await((P=(A=this.options).onError)==null?void 0:P.call(A,L,e,this.state.context,r)),await((k=(O=W(this,Jn).config).onSettled)==null?void 0:k.call(O,void 0,L,this.state.variables,this.state.context,this,r)),await((I=(R=this.options).onSettled)==null?void 0:I.call(R,void 0,L,e,this.state.context,r)),L}finally{Ye(this,qi,Ss).call(this,{type:"error",error:L})}}finally{W(this,Jn).runNext(this)}}},Rh=new WeakMap,Ui=new WeakMap,Jn=new WeakMap,tl=new WeakMap,qi=new WeakSet,Ss=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),gn.batch(()=>{W(this,Ui).forEach(r=>{r.onMutationUpdate(e)}),W(this,Jn).notify({mutation:this,type:"updated",action:e})})},G5);function UB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var To,xi,Nh,K5,_J=(K5=class extends qu{constructor(e={}){super();Ie(this,To);Ie(this,xi);Ie(this,Nh);this.config=e,be(this,To,new Set),be(this,xi,new Map),be(this,Nh,0)}build(e,n,r){const i=new xJ({client:e,mutationCache:this,mutationId:++cm(this,Nh)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){W(this,To).add(e);const n=gm(e);if(typeof n=="string"){const r=W(this,xi).get(n);r?r.push(e):W(this,xi).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(W(this,To).delete(e)){const n=gm(e);if(typeof n=="string"){const r=W(this,xi).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&W(this,xi).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=gm(e);if(typeof n=="string"){const r=W(this,xi).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=gm(e);if(typeof n=="string"){const i=(r=W(this,xi).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){gn.batch(()=>{W(this,To).forEach(e=>{this.notify({type:"removed",mutation:e})}),W(this,To).clear(),W(this,xi).clear()})}getAll(){return Array.from(W(this,To))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>BN(n,r))}findAll(e={}){return this.getAll().filter(n=>BN(e,n))}notify(e){gn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return gn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Zn))))}},To=new WeakMap,xi=new WeakMap,Nh=new WeakMap,K5);function gm(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Co,Ms,mr,Eo,Do,ng,OP,Y5,SJ=(Y5=class extends qu{constructor(n,r){super();Ie(this,Do);Ie(this,Co);Ie(this,Ms);Ie(this,mr);Ie(this,Eo);be(this,Co,n),this.setOptions(r),this.bindMethods(),Ye(this,Do,ng).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=W(this,Co).defaultMutationOptions(n),Tg(this.options,r)||W(this,Co).getMutationCache().notify({type:"observerOptionsUpdated",mutation:W(this,mr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&fl(r.mutationKey)!==fl(this.options.mutationKey)?this.reset():((i=W(this,mr))==null?void 0:i.state.status)==="pending"&&W(this,mr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=W(this,mr))==null||n.removeObserver(this)}onMutationUpdate(n){Ye(this,Do,ng).call(this),Ye(this,Do,OP).call(this,n)}getCurrentResult(){return W(this,Ms)}reset(){var n;(n=W(this,mr))==null||n.removeObserver(this),be(this,mr,void 0),Ye(this,Do,ng).call(this),Ye(this,Do,OP).call(this)}mutate(n,r){var i;return be(this,Eo,r),(i=W(this,mr))==null||i.removeObserver(this),be(this,mr,W(this,Co).getMutationCache().build(W(this,Co),this.options)),W(this,mr).addObserver(this),W(this,mr).execute(n)}},Co=new WeakMap,Ms=new WeakMap,mr=new WeakMap,Eo=new WeakMap,Do=new WeakSet,ng=function(){var r;const n=((r=W(this,mr))==null?void 0:r.state)??UB();be(this,Ms,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},OP=function(n){gn.batch(()=>{var r,i,o,s,a,c,u,f;if(W(this,Eo)&&this.hasListeners()){const h=W(this,Ms).variables,p=W(this,Ms).context,v={client:W(this,Co),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=W(this,Eo)).onSuccess)==null||i.call(r,n.data,h,p,v),(s=(o=W(this,Eo)).onSettled)==null||s.call(o,n.data,null,h,p,v)):(n==null?void 0:n.type)==="error"&&((c=(a=W(this,Eo)).onError)==null||c.call(a,n.error,h,p,v),(f=(u=W(this,Eo)).onSettled)==null||f.call(u,void 0,n.error,h,p,v))}this.listeners.forEach(h=>{h(W(this,Ms))})})},Y5),Vi,X5,PJ=(X5=class extends qu{constructor(e={}){super();Ie(this,Vi);this.config=e,be(this,Vi,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??NE(i,n);let s=this.get(o);return s||(s=new gJ({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){W(this,Vi).has(e.queryHash)||(W(this,Vi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=W(this,Vi).get(e.queryHash);n&&(e.destroy(),n===e&&W(this,Vi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){gn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return W(this,Vi).get(e)}getAll(){return[...W(this,Vi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>FN(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>FN(e,r)):n}notify(e){gn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){gn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){gn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Vi=new WeakMap,X5),Yt,Ds,$s,Xc,Qc,Ls,Jc,Zc,Q5,TJ=(Q5=class{constructor(t={}){Ie(this,Yt);Ie(this,Ds);Ie(this,$s);Ie(this,Xc);Ie(this,Qc);Ie(this,Ls);Ie(this,Jc);Ie(this,Zc);be(this,Yt,t.queryCache||new PJ),be(this,Ds,t.mutationCache||new _J),be(this,$s,t.defaultOptions||{}),be(this,Xc,new Map),be(this,Qc,new Map),be(this,Ls,0)}mount(){cm(this,Ls)._++,W(this,Ls)===1&&(be(this,Jc,ME.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Yt).onFocus())})),be(this,Zc,Cg.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Yt).onOnline())})))}unmount(){var t,e;cm(this,Ls)._--,W(this,Ls)===0&&((t=W(this,Jc))==null||t.call(this),be(this,Jc,void 0),(e=W(this,Zc))==null||e.call(this),be(this,Zc,void 0))}isFetching(t){return W(this,Yt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return W(this,Ds).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,Yt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=W(this,Yt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Us(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return W(this,Yt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=W(this,Yt).get(r.queryHash),o=i==null?void 0:i.state.data,s=sJ(e,o);if(s!==void 0)return W(this,Yt).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return gn.batch(()=>W(this,Yt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,Yt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=W(this,Yt);gn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=W(this,Yt);return gn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=gn.batch(()=>W(this,Yt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Zn).catch(Zn)}invalidateQueries(t,e={}){return gn.batch(()=>(W(this,Yt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=gn.batch(()=>W(this,Yt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Zn)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Zn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=W(this,Yt).build(this,e);return n.isStaleByTime(Us(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Zn).catch(Zn)}fetchInfiniteQuery(t){return t.behavior=GN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Zn).catch(Zn)}ensureInfiniteQueryData(t){return t.behavior=GN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Cg.isOnline()?W(this,Ds).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,Yt)}getMutationCache(){return W(this,Ds)}getDefaultOptions(){return W(this,$s)}setDefaultOptions(t){be(this,$s,t)}setQueryDefaults(t,e){W(this,Xc).set(fl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...W(this,Xc).values()],n={};return e.forEach(r=>{Bf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){W(this,Qc).set(fl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...W(this,Qc).values()],n={};return e.forEach(r=>{Bf(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...W(this,$s).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=NE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===IE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...W(this,$s).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){W(this,Yt).clear(),W(this,Ds).clear()}},Yt=new WeakMap,Ds=new WeakMap,$s=new WeakMap,Xc=new WeakMap,Qc=new WeakMap,Ls=new WeakMap,Jc=new WeakMap,Zc=new WeakMap,Q5),qB=C.createContext(void 0),Tl=t=>{const e=C.useContext(qB);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},CJ=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(qB.Provider,{value:t,children:e})),VB=C.createContext(!1),EJ=()=>C.useContext(VB);VB.Provider;function AJ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var OJ=C.createContext(AJ()),kJ=()=>C.useContext(OJ),jJ=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},RJ=t=>{C.useEffect(()=>{t.clearReset()},[t])},NJ=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||MB(n,[t.error,r])),IJ=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},MJ=(t,e)=>t.isLoading&&t.isFetching&&!e,DJ=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,YN=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function $J(t,e,n){var h,p,v,x,b;const r=EJ(),i=kJ(),o=Tl(),s=o.defaultQueryOptions(t);(p=(h=o.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,s),s._optimisticResults=r?"isRestoring":"optimistic",IJ(s),jJ(s,i),RJ(i);const a=!o.getQueryCache().get(s.queryHash),[c]=C.useState(()=>new e(o,s)),u=c.getOptimisticResult(s),f=!r&&t.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(y=>{const _=f?c.subscribe(gn.batchCalls(y)):Zn;return c.updateResult(),_},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),C.useEffect(()=>{c.setOptions(s)},[s,c]),DJ(s,u))throw YN(s,c,i);if(NJ({result:u,errorResetBoundary:i,throwOnError:s.throwOnError,query:o.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((x=(v=o.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||x.call(v,s,u),s.experimental_prefetchInRender&&!dl&&MJ(u,r)){const y=a?YN(s,c,i):(b=o.getQueryCache().get(s.queryHash))==null?void 0:b.promise;y==null||y.catch(Zn).finally(()=>{c.updateResult()})}return s.notifyOnChangeProps?u:c.trackResult(u)}function Dt(t,e){return $J(t,vJ)}function il(t,e){const n=Tl(),[r]=C.useState(()=>new SJ(n,t));C.useEffect(()=>{r.setOptions(t)},[r,t]);const i=C.useSyncExternalStore(C.useCallback(s=>r.subscribe(gn.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=C.useCallback((s,a)=>{r.mutate(s,a).catch(Zn)},[r]);if(i.error&&MB(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}var mo={},vm={},kP=function(t,e){return kP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},kP(t,e)};function WB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");kP(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Yr=function(){return Yr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Yr.apply(this,arguments)};function Zs(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zB(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function HB(t,e){return function(n,r){e(n,r,t)}}function GB(t,e,n,r,i,o){function s(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,f=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h,p=!1,v=n.length-1;v>=0;v--){var x={};for(var b in r)x[b]=b==="access"?{}:r[b];for(var b in r.access)x.access[b]=r.access[b];x.addInitializer=function(_){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(_||null))};var y=(0,n[v])(a==="accessor"?{get:f.get,set:f.set}:f[c],x);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=s(y.get))&&(f.get=h),(h=s(y.set))&&(f.set=h),(h=s(y.init))&&i.unshift(h)}else(h=s(y))&&(a==="field"?i.unshift(h):f[c]=h)}u&&Object.defineProperty(u,r.name,f),p=!0}function KB(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function YB(t){return typeof t=="symbol"?t:"".concat(t)}function XB(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function QB(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ge(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{u(r.next(f))}catch(h){s(h)}}function c(f){try{u(r.throw(f))}catch(h){s(h)}}function u(f){f.done?o(f.value):i(f.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function JB(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(f){return c([u,f])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(f){u=[6,f],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Jv=Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]});function ZB(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Jv(e,t,n)}function Eg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $E(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function eU(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($E(arguments[e]));return t}function tU(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function LE(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function nu(t){return this instanceof nu?(this.v=t,this):new nu(t)}function nU(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(x){return Promise.resolve(x).then(v,h)}}function a(v,x){r[v]&&(i[v]=function(b){return new Promise(function(y,_){o.push([v,b,y,_])>1||c(v,b)})},x&&(i[v]=x(i[v])))}function c(v,x){try{u(r[v](x))}catch(b){p(o[0][3],b)}}function u(v){v.value instanceof nu?Promise.resolve(v.value.v).then(f,h):p(o[0][2],v)}function f(v){c("next",v)}function h(v){c("throw",v)}function p(v,x){v(x),o.shift(),o.length&&c(o[0][0],o[0][1])}}function rU(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(s){return(n=!n)?{value:nu(t[i](s)),done:!1}:o?o(s):s}:o}}function iU(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Eg=="function"?Eg(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}function oU(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var LJ=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},jP=function(t){return jP=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},jP(t)};function sU(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=jP(t),r=0;r<n.length;r++)n[r]!=="default"&&Jv(e,t,n[r]);return LJ(e,t),e}function aU(t){return t&&t.__esModule?t:{default:t}}function lU(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function cU(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function uU(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function dU(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var FJ=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function fU(t){function e(o){t.error=t.hasError?new FJ(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(s){return e(s),i()})}else r|=1}catch(s){e(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function hU(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,o,s){return r?e?".jsx":".js":i&&(!o||!s)?n:i+o+"."+s.toLowerCase()+"js"}):t}const BJ={__extends:WB,__assign:Yr,__rest:Zs,__decorate:zB,__param:HB,__esDecorate:GB,__runInitializers:KB,__propKey:YB,__setFunctionName:XB,__metadata:QB,__awaiter:ge,__generator:JB,__createBinding:Jv,__exportStar:ZB,__values:Eg,__read:$E,__spread:eU,__spreadArrays:tU,__spreadArray:LE,__await:nu,__asyncGenerator:nU,__asyncDelegator:rU,__asyncValues:iU,__makeTemplateObject:oU,__importStar:sU,__importDefault:aU,__classPrivateFieldGet:lU,__classPrivateFieldSet:cU,__classPrivateFieldIn:uU,__addDisposableResource:dU,__disposeResources:fU,__rewriteRelativeImportExtension:hU},UJ=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:dU,get __assign(){return Yr},__asyncDelegator:rU,__asyncGenerator:nU,__asyncValues:iU,__await:nu,__awaiter:ge,__classPrivateFieldGet:lU,__classPrivateFieldIn:uU,__classPrivateFieldSet:cU,__createBinding:Jv,__decorate:zB,__disposeResources:fU,__esDecorate:GB,__exportStar:ZB,__extends:WB,__generator:JB,__importDefault:aU,__importStar:sU,__makeTemplateObject:oU,__metadata:QB,__param:HB,__propKey:YB,__read:$E,__rest:Zs,__rewriteRelativeImportExtension:hU,__runInitializers:KB,__setFunctionName:XB,__spread:eU,__spreadArray:LE,__spreadArrays:tU,__values:Eg,default:BJ},Symbol.toStringTag,{value:"Module"})),qJ=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let Zv=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},pU=class extends Zv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},RP=class extends Zv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},NP=class extends Zv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Ag;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ag||(Ag={}));class VJ{constructor(e,{headers:n={},customFetch:r,region:i=Ag.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=qJ(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ge(this,arguments,void 0,function*(n,r={}){var i;let o,s;try{const{headers:a,method:c,body:u,signal:f,timeout:h}=r;let p={},{region:v}=r;v||(v=this.region);const x=new URL(`${this.url}/${n}`);v&&v!=="any"&&(p["x-region"]=v,x.searchParams.set("forceFunctionRegion",v));let b;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",b=u):typeof u=="string"?(p["Content-Type"]="text/plain",b=u):typeof FormData<"u"&&u instanceof FormData?b=u:(p["Content-Type"]="application/json",b=JSON.stringify(u)):b=u;let y=f;h&&(s=new AbortController,o=setTimeout(()=>s.abort(),h),f?(y=s.signal,f.addEventListener("abort",()=>s.abort())):y=s.signal);const _=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:b,signal:y}).catch(P=>{throw new pU(P)}),T=_.headers.get("x-relay-error");if(T&&T==="true")throw new RP(_);if(!_.ok)throw new NP(_);let S=((i=_.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),A;return S==="application/json"?A=yield _.json():S==="application/octet-stream"||S==="application/pdf"?A=yield _.blob():S==="text/event-stream"?A=_:S==="multipart/form-data"?A=yield _.formData():A=yield _.text(),{data:A,error:null,response:_}}catch(a){return{data:null,error:a,response:a instanceof NP||a instanceof RP?a.context:void 0}}finally{o&&clearTimeout(o)}})}}const WJ=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Ag},FunctionsClient:VJ,FunctionsError:Zv,FunctionsFetchError:pU,FunctionsHttpError:NP,FunctionsRelayError:RP},Symbol.toStringTag,{value:"Module"})),mU=Ih(WJ);var qn={};const Vu=Ih(UJ);var ym={},bm={},wm={},xm={},_m={},Sm={},XN;function gU(){if(XN)return Sm;XN=1,Object.defineProperty(Sm,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Sm.default=t,Sm}var QN;function vU(){if(QN)return _m;QN=1,Object.defineProperty(_m,"__esModule",{value:!0});const e=Vu.__importDefault(gU());let n=class{constructor(i){var o,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,f,h,p;let v=null,x=null,b=null,y=c.status,_=c.statusText;if(c.ok){if(this.method!=="HEAD"){const P=await c.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?x=P:x=JSON.parse(P))}const S=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),A=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");S&&A&&A.length>1&&(b=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,b=null,y=406,_="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const S=await c.text();try{v=JSON.parse(S),Array.isArray(v)&&c.status===404&&(x=[],v=null,y=200,_="OK")}catch{c.status===404&&S===""?(y=204,_="No Content"):v={message:S}}if(v&&this.isMaybeSingle&&(!((p=v==null?void 0:v.details)===null||p===void 0)&&p.includes("0 rows"))&&(v=null,y=200,_="OK"),v&&this.shouldThrowOnError)throw new e.default(v)}return{error:v,data:x,count:b,status:y,statusText:_}});return this.shouldThrowOnError||(a=a.catch(c=>{var u,f,h,p,v,x;let b="";const y=c==null?void 0:c.cause;if(y){const _=(u=y==null?void 0:y.message)!==null&&u!==void 0?u:"",T=(f=y==null?void 0:y.code)!==null&&f!==void 0?f:"";b=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,b+=`

Caused by: ${(p=y==null?void 0:y.name)!==null&&p!==void 0?p:"Error"}: ${_}`,T&&(b+=` (${T})`),y!=null&&y.stack&&(b+=`
${y.stack}`)}else b=(v=c==null?void 0:c.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(x=c==null?void 0:c.name)!==null&&x!==void 0?x:"FetchError"}: ${c==null?void 0:c.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(i,o)}returns(){return this}overrideTypes(){return this}};return _m.default=n,_m}var JN;function yU(){if(JN)return xm;JN=1,Object.defineProperty(xm,"__esModule",{value:!0});const e=Vu.__importDefault(vU());let n=class extends e.default{select(i){let o=!1;const s=(i??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:s,foreignTable:a,referencedTable:c=a}={}){const u=c?`${c}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${i}.${o?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:s=o}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,o,{foreignTable:s,referencedTable:a=s}={}){const c=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:s=!1,buffers:a=!1,wal:c=!1,format:u="text"}={}){var f;const h=[i?"analyze":null,o?"verbose":null,s?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return xm.default=n,xm}var ZN;function FE(){if(ZN)return wm;ZN=1,Object.defineProperty(wm,"__esModule",{value:!0});const e=Vu.__importDefault(yU()),n=new RegExp("[,()]");let r=class extends e.default{eq(o,s){return this.url.searchParams.append(o,`eq.${s}`),this}neq(o,s){return this.url.searchParams.append(o,`neq.${s}`),this}gt(o,s){return this.url.searchParams.append(o,`gt.${s}`),this}gte(o,s){return this.url.searchParams.append(o,`gte.${s}`),this}lt(o,s){return this.url.searchParams.append(o,`lt.${s}`),this}lte(o,s){return this.url.searchParams.append(o,`lte.${s}`),this}like(o,s){return this.url.searchParams.append(o,`like.${s}`),this}likeAllOf(o,s){return this.url.searchParams.append(o,`like(all).{${s.join(",")}}`),this}likeAnyOf(o,s){return this.url.searchParams.append(o,`like(any).{${s.join(",")}}`),this}ilike(o,s){return this.url.searchParams.append(o,`ilike.${s}`),this}ilikeAllOf(o,s){return this.url.searchParams.append(o,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(o,s){return this.url.searchParams.append(o,`ilike(any).{${s.join(",")}}`),this}regexMatch(o,s){return this.url.searchParams.append(o,`match.${s}`),this}regexIMatch(o,s){return this.url.searchParams.append(o,`imatch.${s}`),this}is(o,s){return this.url.searchParams.append(o,`is.${s}`),this}isDistinct(o,s){return this.url.searchParams.append(o,`isdistinct.${s}`),this}in(o,s){const a=Array.from(new Set(s)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(o,`in.(${a})`),this}contains(o,s){return typeof s=="string"?this.url.searchParams.append(o,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(o,`cs.{${s.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(s)}`),this}containedBy(o,s){return typeof s=="string"?this.url.searchParams.append(o,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(o,`cd.{${s.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(s)}`),this}rangeGt(o,s){return this.url.searchParams.append(o,`sr.${s}`),this}rangeGte(o,s){return this.url.searchParams.append(o,`nxl.${s}`),this}rangeLt(o,s){return this.url.searchParams.append(o,`sl.${s}`),this}rangeLte(o,s){return this.url.searchParams.append(o,`nxr.${s}`),this}rangeAdjacent(o,s){return this.url.searchParams.append(o,`adj.${s}`),this}overlaps(o,s){return typeof s=="string"?this.url.searchParams.append(o,`ov.${s}`):this.url.searchParams.append(o,`ov.{${s.join(",")}}`),this}textSearch(o,s,{config:a,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const f=a===void 0?"":`(${a})`;return this.url.searchParams.append(o,`${u}fts${f}.${s}`),this}match(o){return Object.entries(o).forEach(([s,a])=>{this.url.searchParams.append(s,`eq.${a}`)}),this}not(o,s,a){return this.url.searchParams.append(o,`not.${s}.${a}`),this}or(o,{foreignTable:s,referencedTable:a=s}={}){const c=a?`${a}.or`:"or";return this.url.searchParams.append(c,`(${o})`),this}filter(o,s,a){return this.url.searchParams.append(o,`${s}.${a}`),this}};return wm.default=r,wm}var eI;function bU(){if(eI)return bm;eI=1,Object.defineProperty(bm,"__esModule",{value:!0});const e=Vu.__importDefault(FE());let n=class{constructor(i,{headers:o={},schema:s,fetch:a}){this.url=i,this.headers=new Headers(o),this.schema=s,this.fetch=a}select(i,o){const{head:s=!1,count:a}=o??{},c=s?"HEAD":"GET";let u=!1;const f=(i??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",f),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:s=!0}={}){var a;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(u.length>0){const f=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:s=!1,count:a,defaultToNull:c=!0}={}){var u;const f="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(h.length>0){const p=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:o}={}){var s;const a="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var o;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};return bm.default=n,bm}var tI;function zJ(){if(tI)return ym;tI=1,Object.defineProperty(ym,"__esModule",{value:!0});const t=Vu,e=t.__importDefault(bU()),n=t.__importDefault(FE());let r=class wU{constructor(o,{headers:s={},schema:a,fetch:c}={}){this.url=o,this.headers=new Headers(s),this.schemaName=a,this.fetch=c}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const s=new URL(`${this.url}/${o}`);return new e.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new wU(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,s={},{head:a=!1,get:c=!1,count:u}={}){var f;let h;const p=new URL(`${this.url}/rpc/${o}`);let v;a||c?(h=a?"HEAD":"GET",Object.entries(s).filter(([b,y])=>y!==void 0).map(([b,y])=>[b,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([b,y])=>{p.searchParams.append(b,y)})):(h="POST",v=s);const x=new Headers(this.headers);return u&&x.set("Prefer",`count=${u}`),new n.default({method:h,url:p,headers:x,schema:this.schemaName,body:v,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};return ym.default=r,ym}var nI;function xU(){if(nI)return qn;nI=1,Object.defineProperty(qn,"__esModule",{value:!0}),qn.PostgrestError=qn.PostgrestBuilder=qn.PostgrestTransformBuilder=qn.PostgrestFilterBuilder=qn.PostgrestQueryBuilder=qn.PostgrestClient=void 0;const t=Vu,e=t.__importDefault(zJ());qn.PostgrestClient=e.default;const n=t.__importDefault(bU());qn.PostgrestQueryBuilder=n.default;const r=t.__importDefault(FE());qn.PostgrestFilterBuilder=r.default;const i=t.__importDefault(yU());qn.PostgrestTransformBuilder=i.default;const o=t.__importDefault(vU());qn.PostgrestBuilder=o.default;const s=t.__importDefault(gU());return qn.PostgrestError=s.default,qn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:s.default},qn}class _U{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const HJ="2.87.1",GJ=`realtime-js/${HJ}`,SU="1.0.0",KJ="2.0.0",rI=SU,IP=1e4,YJ=1e3,XJ=100;var Na;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Na||(Na={}));var nn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(nn||(nn={}));var _i;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(_i||(_i={}));var MP;(function(t){t.websocket="websocket"})(MP||(MP={}));var Ia;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ia||(Ia={}));class QJ{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,n,r){var i,o;const s=e.topic,a=(i=e.ref)!==null&&i!==void 0?i:"",c=(o=e.join_ref)!==null&&o!==void 0?o:"",u=e.payload.event,f=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(f).length===0?"":JSON.stringify(f);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+u.length+h.length,v=new ArrayBuffer(this.HEADER_LENGTH+p);let x=new DataView(v),b=0;x.setUint8(b++,this.KINDS.userBroadcastPush),x.setUint8(b++,c.length),x.setUint8(b++,a.length),x.setUint8(b++,s.length),x.setUint8(b++,u.length),x.setUint8(b++,h.length),x.setUint8(b++,n),Array.from(c,_=>x.setUint8(b++,_.charCodeAt(0))),Array.from(a,_=>x.setUint8(b++,_.charCodeAt(0))),Array.from(s,_=>x.setUint8(b++,_.charCodeAt(0))),Array.from(u,_=>x.setUint8(b++,_.charCodeAt(0))),Array.from(h,_=>x.setUint8(b++,_.charCodeAt(0)));var y=new Uint8Array(v.byteLength+r.byteLength);return y.set(new Uint8Array(v),0),y.set(new Uint8Array(r),v.byteLength),y.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,s,a,c]=r;return n({join_ref:i,ref:o,topic:s,event:a,payload:c})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(e.slice(c,c+i));c=c+i;const f=r.decode(e.slice(c,c+o));c=c+o;const h=r.decode(e.slice(c,c+s));c=c+s;const p=e.slice(c,e.byteLength),v=a===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,x={type:this.BROADCAST_EVENT,event:f,payload:v};return s>0&&(x.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class PU{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Et;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Et||(Et={}));const iI=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,s)=>(o[s]=JJ(s,t,e,i),o),{}):{}},JJ=(t,e,n,r)=>{const i=e.find(a=>a.name===t),o=i==null?void 0:i.type,s=n[t];return o&&!r.includes(o)?TU(o,s):DP(s)},TU=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return nZ(e,n)}switch(t){case Et.bool:return ZJ(e);case Et.float4:case Et.float8:case Et.int2:case Et.int4:case Et.int8:case Et.numeric:case Et.oid:return eZ(e);case Et.json:case Et.jsonb:return tZ(e);case Et.timestamp:return rZ(e);case Et.abstime:case Et.date:case Et.daterange:case Et.int4range:case Et.int8range:case Et.money:case Et.reltime:case Et.text:case Et.time:case Et.timestamptz:case Et.timetz:case Et.tsrange:case Et.tstzrange:return DP(e);default:return DP(e)}},DP=t=>t,ZJ=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},eZ=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},tZ=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},nZ=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const s=t.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>TU(e,a))}return t},rZ=t=>typeof t=="string"?t.replace(" ","T"):t,CU=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class gw{constructor(e,n,r={},i=IP){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var $P;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})($P||($P={}));let EU=class rg{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rg.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=rg.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=rg.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),s=this.transformState(n),a={},c={};return this.map(o,(u,f)=>{s[u]||(c[u]=f)}),this.map(s,(u,f)=>{const h=o[u];if(h){const p=f.map(y=>y.presence_ref),v=h.map(y=>y.presence_ref),x=f.filter(y=>v.indexOf(y.presence_ref)<0),b=h.filter(y=>p.indexOf(y.presence_ref)<0);x.length>0&&(a[u]=x),b.length>0&&(c[u]=b)}else a[u]=f}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var u;const f=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(c),f.length>0){const h=e[a].map(v=>v.presence_ref),p=f.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...p)}r(a,f,c)}),this.map(s,(a,c)=>{let u=e[a];if(!u)return;const f=c.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),e[a]=u,i(a,u,c),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var LP;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(LP||(LP={}));var Nc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Nc||(Nc={}));var Bi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Bi||(Bi={}));const iZ=nn;let AU=class hf{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=nn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new gw(this,_i.join,this.params,this.timeout),this.rejoinTimer=new PU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=nn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=nn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_i.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new EU(this),this.broadcastEndpointURL=CU(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==nn.closed){const{config:{broadcast:s,presence:a,private:c}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Nc.PRESENCE]&&this.bindings[Nc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},p={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:f}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(Bi.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Bi.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e==null||e(Bi.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,y=(x=b==null?void 0:b.length)!==null&&x!==void 0?x:0,_=[];for(let T=0;T<y;T++){const S=b[T],{filter:{event:A,schema:P,table:O,filter:k}}=S,R=v&&v[T];if(R&&R.event===A&&hf.isFilterValueEqual(R.schema,P)&&hf.isFilterValueEqual(R.table,O)&&hf.isFilterValueEqual(R.filter,k))_.push(Object.assign(Object.assign({},S),{id:R.id}));else{this.unsubscribe(),this.state=nn.errored,e==null||e(Bi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Bi.SUBSCRIBED);return}}).receive("error",v=>{this.state=nn.errored,e==null||e(Bi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Bi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===nn.joined&&e===Nc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:s}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=nn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_i.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new gw(this,_i.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=nn.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new gw(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>XJ){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const s=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:f}=_i;if(r&&[a,c,u,f].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var x,b,y;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(b=v.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(v=>v.callback(p,r)):(o=this.bindings[s])===null||o===void 0||o.filter(v=>{var x,b,y,_,T,S;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in v){const A=v.id,P=(x=v.filter)===null||x===void 0?void 0:x.event;return A&&((b=n.ids)===null||b===void 0?void 0:b.includes(A))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const A=(T=(_=v==null?void 0:v.filter)===null||_===void 0?void 0:_.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return A==="*"||A===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===s}).map(v=>{if(typeof p=="object"&&"ids"in p){const x=p.data,{schema:b,table:y,commit_timestamp:_,type:T,errors:S}=x;p=Object.assign(Object.assign({},{schema:b,table:y,commit_timestamp:_,eventType:T,new:{},old:{},errors:S}),this._getPayloadRecords(x))}v.callback(p,r)})}_isClosed(){return this.state===nn.closed}_isJoined(){return this.state===nn.joined}_isJoining(){return this.state===nn.joining}_isLeaving(){return this.state===nn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&hf.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_i.close,{},e)}_onError(e){this._on(_i.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=iI(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=iI(e.columns,e.old_record)),n}};const vw=()=>{},Pm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oZ=[1e3,2e3,5e3,1e4],sZ=1e4,aZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let lZ=class{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=IP,this.transport=null,this.heartbeatIntervalMs=Pm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vw,this.ref=0,this.reconnectTimer=null,this.vsn=rI,this.logger=vw,this.conn=null,this.sendBuffer=[],this.serializer=new QJ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${MP.websocket}`,this.httpEndpoint=CU(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_U.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Na.connecting:return Ia.Connecting;case Na.open:return Ia.Open;case Na.closing:return Ia.Closing;default:return Ia.Closed}}isConnected(){return this.connectionState()===Ia.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new AU(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(YJ,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Pm.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:s}=n,a=s?`(${s})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Na.open||this.conn.readyState===Na.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(_i.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([aZ],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:GJ};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(_i.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new PU(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,s,a,c,u,f,h,p,v;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:IP,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Pm.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:vw,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:rI,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:(x=>oZ[x-1]||sZ),this.vsn){case SU:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:((x,b)=>b(JSON.stringify(x))),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:((x,b)=>b(JSON.parse(x)));break;case KJ:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const cZ=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:iZ,get REALTIME_LISTEN_TYPES(){return Nc},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return LP},get REALTIME_PRESENCE_LISTEN_EVENTS(){return $P},get REALTIME_SUBSCRIBE_STATES(){return Bi},RealtimeChannel:AU,RealtimeClient:lZ,RealtimePresence:EU,WebSocketFactory:_U},Symbol.toStringTag,{value:"Module"})),OU=Ih(cZ);class Fh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ft(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class kU extends Fh{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Og extends Fh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const BE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),uZ=()=>Response,FP=t=>{if(Array.isArray(t))return t.map(n=>FP(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=FP(r)}),e},dZ=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},fZ=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),yw=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},hZ=(t,e,n)=>ge(void 0,void 0,void 0,function*(){const r=yield uZ();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const o=t.status||500,s=(i==null?void 0:i.statusCode)||o+"";e(new kU(yw(i),o,s))}).catch(i=>{e(new Og(yw(i),i))}):e(new Og(yw(t),t))}),pZ=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(dZ(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Bh(t,e,n,r,i,o){return ge(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,pZ(e,r,i,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>hZ(c,a,r))})})}function Uf(t,e,n,r){return ge(this,void 0,void 0,function*(){return Bh(t,"GET",e,n,r)})}function yi(t,e,n,r,i){return ge(this,void 0,void 0,function*(){return Bh(t,"POST",e,r,i,n)})}function BP(t,e,n,r,i){return ge(this,void 0,void 0,function*(){return Bh(t,"PUT",e,r,i,n)})}function mZ(t,e,n,r){return ge(this,void 0,void 0,function*(){return Bh(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function UE(t,e,n,r,i){return ge(this,void 0,void 0,function*(){return Bh(t,"DELETE",e,r,i,n)})}class gZ{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return ge(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ft(e))return{data:null,error:e};throw e}})}}var jU;class vZ{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[jU]="BlobDownloadBuilder",this.promise=null}asStream(){return new gZ(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ge(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ft(e))return{data:null,error:e};throw e}})}}jU=Symbol.toStringTag;const yZ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},oI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bZ{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=BE(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return ge(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},oI),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),c&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),h=yield(e=="PUT"?BP:yi)(this.fetch,`${this.url}/object/${f}`,o,Object.assign({headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ft(o))return{data:null,error:o};throw o}})}upload(e,n,r){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return ge(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:oI.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield BP(this.fetch,a.toString(),c,{headers:f});return{data:{path:o,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ft(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return ge(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield yi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Fh("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}update(e,n,r){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ge(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}copy(e,n,r){return ge(this,void 0,void 0,function*(){try{return{data:{path:(yield yi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return ge(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield yi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return ge(this,void 0,void 0,function*(){try{const i=yield yi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=o?`?${o}`:"",a=this._getFinalPath(e),c=()=>Uf(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new vZ(c,this.shouldThrowOnError)}info(e){return ge(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Uf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:FP(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}exists(e){return ge(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield mZ(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r)&&r instanceof Og){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return ge(this,void 0,void 0,function*(){try{return{data:yield UE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}list(e,n,r){return ge(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},yZ),n),{prefix:e||""});return{data:yield yi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}listV2(e,n){return ge(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield yi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const RU="2.87.1",NU={"X-Client-Info":`storage-js/${RU}`};class wZ{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},NU),n),this.fetch=BE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ge(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Uf(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}getBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield Uf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}createBucket(e){return ge(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield yi(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return ge(this,void 0,void 0,function*(){try{return{data:yield BP(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield UE(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var qf=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function xZ(t,e,n){const r=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function _Z(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function SZ(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:s}){const a=xZ(t.baseUrl,r,i),c=await _Z(t.auth),u=await e(a,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...c,...s},body:o?JSON.stringify(o):void 0}),f=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),p=h&&f?JSON.parse(f):f;if(!u.ok){const v=h?p:void 0,x=v==null?void 0:v.error;throw new qf((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:v})}return{status:u.status,headers:u.headers,data:p}}}}function Tm(t){return t.join("")}var PZ=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Tm(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Tm(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tm(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Tm(t.namespace)}`}),!0}catch(e){if(e instanceof qf&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof qf&&n.status===409)return;throw n}}};function ic(t){return t.join("")}var TZ=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ic(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ic(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ic(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ic(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ic(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ic(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof qf&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof qf&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},CZ=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=SZ({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new PZ(this.client,e),this.tableOps=new TZ(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class IU{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},NU),n),this.fetch=BE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}listBuckets(e){return ge(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Uf(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield UE(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}from(e){if(!fZ(e))throw new Fh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new CZ({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>ge(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(o,s){const a=o[s];return typeof a!="function"?a:(...c)=>ge(this,void 0,void 0,function*(){try{return{data:yield a.apply(o,c),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}})}})}}const qE={"X-Client-Info":`storage-js/${RU}`,"Content-Type":"application/json"};class VE extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function vr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class ig extends VE{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class MU extends VE{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var UP;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(UP||(UP={}));const ey=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),EZ=()=>Response,DU=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},AZ=t=>Array.from(new Float32Array(t)),OZ=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},sI=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kZ=(t,e,n)=>ge(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(s=>{const a=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";e(new ig(sI(s),i,a))}).catch(()=>{const s=i+"",a=o.statusText||`HTTP ${i} error`;e(new ig(a,i,s))});else{const s=i+"",a=o.statusText||`HTTP ${i} error`;e(new ig(a,i,s))}}else e(new MU(sI(t),t))}),jZ=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(DU(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function RZ(t,e,n,r,i,o){return ge(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,jZ(e,r,i,o)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>kZ(c,a,r))})})}function jr(t,e,n,r,i){return ge(this,void 0,void 0,function*(){return RZ(t,"POST",e,r,i,n)})}class $U{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qE),n),this.fetch=ey(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ge(this,void 0,void 0,function*(){try{return{data:(yield jr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}getIndex(e,n){return ge(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vr(r))return{data:null,error:r};throw r}})}listIndexes(e){return ge(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return ge(this,void 0,void 0,function*(){try{return{data:(yield jr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vr(r))return{data:null,error:r};throw r}})}}class LU{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qE),n),this.fetch=ey(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ge(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield jr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}getVectors(e){return ge(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}listVectors(e){return ge(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield jr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}queryVectors(e){return ge(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}deleteVectors(e){return ge(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield jr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}}class FU{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qE),n),this.fetch=ey(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:(yield jr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}getBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}listBuckets(){return ge(this,arguments,void 0,function*(e={}){try{return{data:yield jr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:(yield jr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vr(n))return{data:null,error:n};throw n}})}}class BU extends FU{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new UU(this.url,this.headers,e,this.fetch)}createBucket(e){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ge(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ge(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ge(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ge(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}}class UU extends $U{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ge(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ge(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ge(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ge(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new qU(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class qU extends LU{constructor(e,n,r,i,o){super(e,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ge(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ge(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ge(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ge(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ge(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class NZ extends wZ{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new bZ(this.url,this.headers,e,this.fetch)}get vectors(){return new BU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new IU(this.url+"/iceberg",this.headers,this.fetch)}}const IZ=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:IU,StorageApiError:kU,StorageClient:NZ,StorageError:Fh,StorageUnknownError:Og,StorageVectorsApiError:ig,StorageVectorsClient:BU,StorageVectorsError:VE,get StorageVectorsErrorCode(){return UP},StorageVectorsUnknownError:MU,VectorBucketApi:FU,VectorBucketScope:UU,VectorDataApi:LU,VectorIndexApi:$U,VectorIndexScope:qU,isPlainObject:DU,isStorageError:Ft,isStorageVectorsError:vr,normalizeToFloat32:AZ,resolveFetch:ey,resolveResponse:EZ,validateVectorDimension:OZ},Symbol.toStringTag,{value:"Module"})),MZ=Ih(IZ);var bw={},Kd={},aI;function DZ(){return aI||(aI=1,Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.version=void 0,Kd.version="2.87.1"),Kd}var lI;function $Z(){return lI||(lI=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=DZ();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(bw)),bw}var ww={},cI;function LZ(){return cI||(cI=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=i=>i?(...o)=>i(...o):(...o)=>fetch(...o);t.resolveFetch=e;const n=()=>Headers;t.resolveHeadersConstructor=n;const r=(i,o,s)=>{const a=(0,t.resolveFetch)(s),c=(0,t.resolveHeadersConstructor)();return async(u,f)=>{var h;const p=(h=await o())!==null&&h!==void 0?h:i;let v=new c(f==null?void 0:f.headers);return v.has("apikey")||v.set("apikey",i),v.has("Authorization")||v.set("Authorization",`Bearer ${p}`),a(u,Object.assign(Object.assign({},f),{headers:v}))}};t.fetchWithAuth=r})(ww)),ww}var go={},uI;function FZ(){if(uI)return go;uI=1,Object.defineProperty(go,"__esModule",{value:!0}),go.isBrowser=void 0,go.uuid=t,go.ensureTrailingSlash=e,go.applySettingDefaults=r,go.validateSupabaseUrl=i;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var s=Math.random()*16|0,a=o=="x"?s:s&3|8;return a.toString(16)})}function e(o){return o.endsWith("/")?o:o+"/"}const n=()=>typeof window<"u";go.isBrowser=n;function r(o,s){var a,c;const{db:u,auth:f,realtime:h,global:p}=o,{db:v,auth:x,realtime:b,global:y}=s,_={db:Object.assign(Object.assign({},v),u),auth:Object.assign(Object.assign({},x),f),realtime:Object.assign(Object.assign({},b),h),storage:{},global:Object.assign(Object.assign(Object.assign({},y),p),{headers:Object.assign(Object.assign({},(a=y==null?void 0:y.headers)!==null&&a!==void 0?a:{}),(c=p==null?void 0:p.headers)!==null&&c!==void 0?c:{})}),accessToken:async()=>""};return o.accessToken?_.accessToken=o.accessToken:delete _.accessToken,_}function i(o){const s=o==null?void 0:o.trim();if(!s)throw new Error("supabaseUrl is required.");if(!s.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(s))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return go}var Yd={};const VU="2.87.1",bc=30*1e3,qP=3,xw=qP*bc,BZ="http://localhost:9999",UZ="supabase.auth.token",qZ={"X-Client-Info":`gotrue-js/${VU}`},VP="X-Supabase-Api-Version",WU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},VZ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,WZ=600*1e3;let ru=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function je(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let zU=class extends ru{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function HU(t){return je(t)&&t.name==="AuthApiError"}let Es=class extends ru{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},Ko=class extends ru{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}},hr=class extends Ko{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function GU(t){return je(t)&&t.name==="AuthSessionMissingError"}let Ea=class extends Ko{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},pf=class extends Ko{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},mf=class extends Ko{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function KU(t){return je(t)&&t.name==="AuthImplicitGrantRedirectError"}let WP=class extends Ko{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},kg=class extends Ko{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function og(t){return je(t)&&t.name==="AuthRetryableFetchError"}let zP=class extends Ko{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function zZ(t){return je(t)&&t.name==="AuthWeakPasswordError"}let jg=class extends Ko{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Rg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dI=` 	
\r=`.split(""),HZ=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<dI.length;e+=1)t[dI[e].charCodeAt(0)]=-2;for(let e=0;e<Rg.length;e+=1)t[Rg[e].charCodeAt(0)]=e;return t})();function fI(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Rg[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Rg[r]),e.queuedBits-=6}}function YU(t,e,n){const r=HZ[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function hI(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{YZ(s,r,n)};for(let s=0;s<t.length;s+=1)YU(t.charCodeAt(s),i,o);return e.join("")}function GZ(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function KZ(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}GZ(r,e)}}function YZ(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ic(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)YU(t.charCodeAt(i),n,r);return new Uint8Array(e)}function XZ(t){const e=[];return KZ(t,n=>e.push(n)),new Uint8Array(e)}function Fa(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>fI(i,n,r)),fI(null,n,r),e.join("")}function QZ(t){return Math.round(Date.now()/1e3)+t}function JZ(){return Symbol("auth-callback")}const In=()=>typeof window<"u"&&typeof document<"u",wa={tested:!1,writable:!1},XU=()=>{if(!In())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wa.tested)return wa.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),wa.tested=!0,wa.writable=!0}catch{wa.tested=!0,wa.writable=!1}return wa.writable};function ZZ(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const QU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),eee=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},xa=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Nn=async(t,e)=>{await t.removeItem(e)};let JU=class ZU{constructor(){this.promise=new ZU.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};JU.promiseConstructor=Promise;function _w(t){const e=t.split(".");if(e.length!==3)throw new jg("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!VZ.test(e[r]))throw new jg("JWT not in base64url format");return{header:JSON.parse(hI(e[0])),payload:JSON.parse(hI(e[1])),signature:Ic(e[2]),raw:{header:e[0],payload:e[1]}}}async function tee(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function nee(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const s=await t(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})()})}function ree(t){return("0"+t.toString(16)).substr(-2)}function iee(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,ree).join("")}async function oee(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function see(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await oee(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oc(t,e,n=!1){const r=iee();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await wc(t,`${e}-code-verifier`,i);const o=await see(r);return[o,r===o?"plain":"s256"]}const aee=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lee(t){const e=t.headers.get(VP);if(!e||!e.match(aee))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function cee(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function uee(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const dee=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function sc(t){if(!dee.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sw(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fee(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function pI(t){return JSON.parse(JSON.stringify(t))}const Aa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hee=[502,503,504];async function mI(t){var e;if(!eee(t))throw new kg(Aa(t),0);if(hee.includes(t.status))throw new kg(Aa(t),t.status);let n;try{n=await t.json()}catch(o){throw new Es(Aa(o),o)}let r;const i=lee(t);if(i&&i.getTime()>=WU["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new zP(Aa(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new hr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new zP(Aa(n),t.status,n.weak_password.reasons);throw new zU(Aa(n),t.status||500,r)}const pee=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ue(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[VP]||(o[VP]=WU["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await mee(t,e,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function mee(t,e,n,r,i,o){const s=pee(e,r,i,o);let a;try{a=await t(n,Object.assign({},s))}catch(c){throw console.error(c),new kg(Aa(c),0)}if(a.ok||await mI(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await mI(c)}}function mi(t){var e;let n=null;yee(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=QZ(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function gI(t){const e=mi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function As(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function gee(t){return{data:t,error:null}}function vee(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,s=Zs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function vI(t){return t}function yee(t){return t.access_token&&t.refresh_token&&t.expires_in}const sg=["global","local","others"];let WE=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=QU(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=sg[0]){if(sg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sg.join(", ")}`);try{return await Ue(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:As})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Zs(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:vee,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(je(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ue(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:As})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,s,a,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:vI});if(f.error)throw f.error;const h=await f.json(),p=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,v=(c=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(je(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){sc(e);try{return await Ue(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:As})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){sc(e);try{return await Ue(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:As})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){sc(e);try{return await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:As})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){sc(e.userId);try{const{data:n,error:r}=await Ue(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(je(n))return{data:null,error:n};throw n}}async _deleteFactor(e){sc(e.userId),sc(e.id);try{return{data:await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,s,a,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:vI});if(f.error)throw f.error;const h=await f.json(),p=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,v=(c=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(je(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await Ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}};function yI(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Oa={debug:!!(globalThis&&XU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zE extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let eq=class extends zE{};class bee extends zE{}async function tq(t,e,n){Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new eq(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Oa.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const bI={};async function wee(t,e,n){var r;const i=(r=bI[t])!==null&&r!==void 0?r:Promise.resolve(),o=Promise.race([i.catch(()=>null),e>=0?new Promise((s,a)=>{setTimeout(()=>{a(new bee(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(async()=>await n());return bI[t]=o.catch(async s=>{if(s&&s.isAcquireTimeout)return await i,null;throw s}),await o}function xee(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function nq(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function _ee(t){return parseInt(t,16)}function See(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Pee(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:c,resources:u,scheme:f,uri:h,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=nq(t.address),x=f?`${f}://${r}`:r,b=t.statement?`${t.statement}
`:"",y=`${x} wants you to sign in with your Ethereum account:
${v}

${b}`;let _=`URI: ${h}
Version: ${p}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(_+=`
Expiration Time: ${i.toISOString()}`),a&&(_+=`
Not Before: ${a.toISOString()}`),c&&(_+=`
Request ID: ${c}`),u){let T=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);T+=`
- ${S}`}_+=T}return`${y}
${_}`}class on extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Ng extends on{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Tee({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new on({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new on({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new on({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new on({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new on({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new on({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new on({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new on({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(rq(s)){if(o.rp.id!==s)return new on({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new on({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new on({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new on({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new on({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Cee({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new on({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new on({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(rq(r)){if(n.rpId!==r)return new on({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new on({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new on({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new on({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Eee{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Aee=new Eee;function Oee(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Zs(t,["challenge","user","excludeCredentials"]),o=Ic(e).buffer,s=Object.assign(Object.assign({},n),{id:Ic(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ic(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function kee(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Zs(t,["challenge","allowCredentials"]),i=Ic(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const a=n[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Ic(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function jee(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Fa(new Uint8Array(t.response.attestationObject)),clientDataJSON:Fa(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ree(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Fa(new Uint8Array(i.authenticatorData)),clientDataJSON:Fa(new Uint8Array(i.clientDataJSON)),signature:Fa(new Uint8Array(i.signature)),userHandle:i.userHandle?Fa(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function rq(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function wI(){var t,e;return!!(In()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Nee(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ng("Browser returned unexpected credential type",e)}:{data:null,error:new Ng("Empty credential response",e)}}catch(e){return{data:null,error:Tee({error:e,options:t})}}}async function Iee(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ng("Browser returned unexpected credential type",e)}:{data:null,error:new Ng("Empty credential response",e)}}catch(e){return{data:null,error:Cee({error:e,options:t})}}}const Mee={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Dee={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ig(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(n(s))r[o]=s;else if(e(s)){const a=r[o];e(a)?r[o]=Ig(a,s):r[o]=Ig(s)}else r[o]=s}return r}function $ee(t,e){return Ig(Mee,t,e||{})}function Lee(t,e){return Ig(Dee,t,e||{})}class Fee{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:s,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!s)return{data:null,error:a};const c=i??Aee.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=$ee(s.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:f,error:h}=await Nee({publicKey:u,signal:c});return f?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const u=Lee(s.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:f,error:h}=await Iee(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return f?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(s){return je(s)?{data:null,error:s}:{data:null,error:new Es("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new ru("rpId is required for WebAuthn authentication")};try{if(!wI())return{data:null,error:new Es("Browser does not support WebAuthn",null)};const{data:s,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!s)return{data:null,error:a};const{webauthn:c}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return je(s)?{data:null,error:s}:{data:null,error:new Es("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new ru("rpId is required for WebAuthn registration")};try{if(!wI())return{data:null,error:new Es("Browser does not support WebAuthn",null)};const{data:s,error:a}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(f=>{var h;return(h=f.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:a};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return je(s)?{data:null,error:s}:{data:null,error:new Es("Unexpected error in register",s)}}}}xee();const Bee={url:BZ,storageKey:UZ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qZ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function xI(t,e,n){return await n()}const ac={};let HE=class HP{get jwks(){var e,n;return(n=(e=ac[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ac[this.storageKey]=Object.assign(Object.assign({},ac[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ac[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ac[this.storageKey]=Object.assign(Object.assign({},ac[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Bee),e);if(this.storageKey=o.storageKey,this.instanceID=(n=HP.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,HP.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&In()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new WE({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=QU(o.fetch),this.lock=o.lock||xI,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&In()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=tq:this.lock=xI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Fee(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:XU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yI(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=yI(this.memoryStorage)),In()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${VU}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(In()&&(n=ZZ(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),In()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),KU(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:s,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return je(n)?this._returnResult({error:n}):this._returnResult({error:new Es("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:mi}),{data:s,error:a}=o;if(a||!s)return this._returnResult({data:{user:null,session:null},error:a});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(je(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:f,password:h,options:p}=e;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await oc(this.storage,this.storageKey)),o=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:f,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:x},xform:mi})}else if("phone"in e){const{phone:f,password:h,options:p}=e;o=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:mi})}else throw new pf("You must provide either an email or phone number and a password");const{data:s,error:a}=o;if(a||!s)return await Nn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(await Nn(this.storage,`${this.storageKey}-code-verifier`),je(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:s,options:a}=e;n=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gI})}else if("phone"in e){const{phone:o,password:s,options:a}=e;n=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gI})}else throw new pf("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new Ea;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(je(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,s,a,c,u,f,h,p;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:b,wallet:y,statement:_,options:T}=e;let S;if(In())if(typeof y=="object")S=y;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")S=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const A=new URL((n=T==null?void 0:T.url)!==null&&n!==void 0?n:window.location.href),P=await S.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=nq(P[0]);let k=(r=T==null?void 0:T.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const I=await S.request({method:"eth_chainId"});k=_ee(I)}const R={domain:A.host,address:O,statement:_,uri:A.href,version:"1",chainId:k,nonce:(i=T==null?void 0:T.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(o=T==null?void 0:T.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(a=T==null?void 0:T.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=T==null?void 0:T.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=T==null?void 0:T.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=T==null?void 0:T.signInWithEthereum)===null||f===void 0?void 0:f.resources};v=Pee(R),x=await S.request({method:"personal_sign",params:[See(v),O]})}try{const{data:b,error:y}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:x},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:mi});if(y)throw y;if(!b||!b.session||!b.user){const _=new Ea;return this._returnResult({data:{user:null,session:null},error:_})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(je(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var n,r,i,o,s,a,c,u,f,h,p,v;let x,b;if("message"in e)x=e.message,b=e.signature;else{const{chain:y,wallet:_,statement:T,options:S}=e;let A;if(In())if(typeof _=="object")A=_;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))A=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=_}const P=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const O=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),T?{statement:T}:null));let k;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")k=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)k=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)x=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),b=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${P.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((h=(f=S==null?void 0:S.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...S.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const O=await A.signMessage(new TextEncoder().encode(x),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=O}}try{const{data:y,error:_}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Fa(b)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:mi});if(_)throw _;if(!y||!y.session||!y.user){const T=new Ea;return this._returnResult({data:{user:null,session:null},error:T})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:_})}catch(y){if(je(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const n=await xa(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:s}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:mi});if(await Nn(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!o||!o.session||!o.user){const a=new Ea;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:s})}catch(o){if(await Nn(this.storage,`${this.storageKey}-code-verifier`),je(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:s}=e,a=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:mi}),{data:c,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const f=new Ea;return this._returnResult({data:{user:null,session:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(je(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,s;try{if("email"in e){const{email:a,options:c}=e;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await oc(this.storage,this.storageKey));const{error:h}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:c}=e,{data:u,error:f}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f})}throw new pf("You must provide either an email or phone number.")}catch(a){if(await Nn(this.storage,`${this.storageKey}-code-verifier`),je(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:a}=await Ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:mi});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,s;try{let a=null,c=null;this.flowType==="pkce"&&([a,c]=await oc(this.storage,this.storageKey));const u=await Ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:gee});return!((o=u.data)===null||o===void 0)&&o.url&&In()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await Nn(this.storage,`${this.storageKey}-code-verifier`),je(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new hr;const{error:i}=await Ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(je(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:s}=await Ue(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:s,error:a}=await Ue(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a})}throw new pf("You must provide either an email or phone number and a type")}catch(n){if(je(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await xa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<xw:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const s=await xa(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=Sw()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=fee(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:As}):await this._useSession(async n=>{var r,i,o;const{data:s,error:a}=n;if(a)throw a;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hr}:await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:As})})}catch(n){if(je(n))return GU(n)&&(await this._removeSession(),await Nn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new hr;const s=i.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await oc(this.storage,this.storageKey));const{data:u,error:f}=await Ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:s.access_token,xform:As});if(f)throw f;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(await Nn(this.storage,`${this.storageKey}-code-verifier`),je(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new hr;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:s}=_w(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{data:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(je(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:a}=n;if(a)throw a;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new hr;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(je(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!In())throw new mf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new mf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new WP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new WP("No code detected.");const{data:T,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:s,expires_in:a,expires_at:c,token_type:u}=e;if(!o||!a||!s||!u)throw new mf("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(a);let p=f+h;c&&(p=parseInt(c));const v=p-f;v*1e3<=bc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const x=p-h;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,p,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,p,f);const{data:b,error:y}=await this._getUser(o);if(y)throw y;const _={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:h,expires_at:p,refresh_token:s,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:e.type},error:null})}catch(r){if(je(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await xa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:a}=await this.admin.signOut(s,e);if(a&&!(HU(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Nn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=JZ(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await oc(this.storage,this.storageKey,!0));try{return await Ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await Nn(this.storage,`${this.storageKey}-code-verifier`),je(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var s,a,c,u,f;const{data:h,error:p}=o;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ue(this.fetch,"GET",v,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return In()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(je(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:s,provider:a,token:c,access_token:u,nonce:f}=e,h=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:c,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:mi}),{data:p,error:v}=h;return v?this._returnResult({data:{user:null,session:null},error:v}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Ea}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:v}))}catch(i){if(await Nn(this.storage,`${this.storageKey}-code-verifier`),je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)throw s;return await Ue(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await nee(async i=>(i>0&&await tee(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mi})),(i,o)=>{const s=200*Math.pow(2,i);return o&&og(o)&&Date.now()+s-r<bc})}catch(r){if(this._debug(n,"error",r),je(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),In()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await xa(this.storage,this.storageKey);if(i&&this.userStorage){let s=await xa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await wc(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:Sw()}else if(i&&!i.user&&!i.user){const s=await xa(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Nn(this.storage,this.storageKey+"-user"),await wc(this.storage,this.storageKey,i)):i.user=Sw()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<xw;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${xw}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),og(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:a}=await this._getUser(i.access_token);!a&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new hr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new JU;const{data:o,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!o.session)throw new hr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),je(o)){const s={data:null,error:o};return og(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(c){o.push(c)}});if(await Promise.all(s),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Nn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await wc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=pI(i);await wc(this.storage,this.storageKey,o)}else{const i=pI(n);await wc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Nn(this.storage,this.storageKey),await Nn(this.storage,this.storageKey+"-code-verifier"),await Nn(this.storage,this.storageKey+"-user"),this.userStorage&&await Nn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&In()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),bc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/bc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${bc}ms, refresh threshold is ${qP} ticks`),i<=qP&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zE)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!In()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,s]=await oc(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await Ue(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await Ue(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?jee(e.webauthn.credential_response):Ree(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:c}=await Ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:c}))})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const s=await Ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;const{data:a}=s;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Oee(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:kee(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=_w(r.access_token);let s=null;o.aal&&(s=o.aal);let a=s;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=o.amr||[];return{data:{currentLevel:s,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new hr})})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new hr});const s=await Ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return s.data&&s.data.redirect_url&&In()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new hr});const s=await Ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return s.data&&s.data.redirect_url&&In()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await Ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new hr})})}catch(e){if(je(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new hr})})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+WZ>i)return r;const{data:o,error:s}=await Ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:x}=await this.getSession();if(x||!v.session)return this._returnResult({data:null,error:x});r=v.session.access_token}const{header:i,payload:o,signature:s,raw:{header:a,payload:c}}=_w(r);n!=null&&n.allowExpired||cee(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:o,header:i,signature:s},error:null}}const f=uee(i.alg),h=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,s,XZ(`${a}.${c}`)))throw new jg("Invalid JWT signature");return{data:{claims:o,header:i,signature:s},error:null}}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}};HE.nextInstanceID={};const Uee=WE,qee=HE,Vee=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:Uee,AuthApiError:zU,AuthClient:qee,AuthError:ru,AuthImplicitGrantRedirectError:mf,AuthInvalidCredentialsError:pf,AuthInvalidJwtError:jg,AuthInvalidTokenResponseError:Ea,AuthPKCEGrantCodeExchangeError:WP,AuthRetryableFetchError:kg,AuthSessionMissingError:hr,AuthUnknownError:Es,AuthWeakPasswordError:zP,CustomAuthError:Ko,GoTrueAdminApi:WE,GoTrueClient:HE,NavigatorLockAcquireTimeoutError:eq,SIGN_OUT_SCOPES:sg,isAuthApiError:HU,isAuthError:je,isAuthImplicitGrantRedirectError:KU,isAuthRetryableFetchError:og,isAuthSessionMissingError:GU,isAuthWeakPasswordError:zZ,lockInternals:Oa,navigatorLock:tq,processLock:wee},Symbol.toStringTag,{value:"Module"})),iq=Ih(Vee);var _I;function Wee(){if(_I)return Yd;_I=1,Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.SupabaseAuthClient=void 0;const t=iq;let e=class extends t.AuthClient{constructor(r){super(r)}};return Yd.SupabaseAuthClient=e,Yd}var SI;function PI(){if(SI)return vm;SI=1,Object.defineProperty(vm,"__esModule",{value:!0});const t=mU,e=xU(),n=OU,r=MZ,i=$Z(),o=LZ(),s=FZ(),a=Wee();class c{constructor(f,h,p){var v,x,b;this.supabaseUrl=f,this.supabaseKey=h;const y=(0,s.validateSupabaseUrl)(f);if(!h)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",y),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",y),this.storageUrl=new URL("storage/v1",y),this.functionsUrl=new URL("functions/v1",y);const _=`sb-${y.hostname.split(".")[0]}-auth-token`,T={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:_}),global:i.DEFAULT_GLOBAL_OPTIONS},S=(0,s.applySettingDefaults)(p??{},T);this.storageKey=(v=S.auth.storageKey)!==null&&v!==void 0?v:"",this.headers=(x=S.global.headers)!==null&&x!==void 0?x:{},S.accessToken?(this.accessToken=S.accessToken,this.auth=new Proxy({},{get:(A,P)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(P)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((b=S.auth)!==null&&b!==void 0?b:{},this.headers,S.global.fetch),this.fetch=(0,o.fetchWithAuth)(h,this._getAccessToken.bind(this),S.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},S.realtime)),this.accessToken&&this.accessToken().then(A=>this.realtime.setAuth(A)).catch(A=>console.warn("Failed to set initial Realtime auth token:",A)),this.rest=new e.PostgrestClient(new URL("rest/v1",y).href,{headers:this.headers,schema:S.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,p==null?void 0:p.storage),S.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(f){return this.rest.from(f)}schema(f){return this.rest.schema(f)}rpc(f,h={},p={head:!1,get:!1,count:void 0}){return this.rest.rpc(f,h,p)}channel(f,h={config:{}}){return this.realtime.channel(f,h)}getChannels(){return this.realtime.getChannels()}removeChannel(f){return this.realtime.removeChannel(f)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var f,h;if(this.accessToken)return await this.accessToken();const{data:p}=await this.auth.getSession();return(h=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:f,persistSession:h,detectSessionInUrl:p,storage:v,userStorage:x,storageKey:b,flowType:y,lock:_,debug:T,throwOnError:S},A,P){const O={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new a.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},O),A),storageKey:b,autoRefreshToken:f,persistSession:h,detectSessionInUrl:p,storage:v,userStorage:x,flowType:y,lock:_,debug:T,throwOnError:S,fetch:P,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(f){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},f),{params:Object.assign({apikey:this.supabaseKey},f==null?void 0:f.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((h,p)=>{this._handleTokenChanged(h,"CLIENT",p==null?void 0:p.access_token)})}_handleTokenChanged(f,h,p){(f==="TOKEN_REFRESHED"||f==="SIGNED_IN")&&this.changedAccessToken!==p?(this.changedAccessToken=p,this.realtime.setAuth(p)):f==="SIGNED_OUT"&&(this.realtime.setAuth(),h=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return vm.default=c,vm}var TI;function zee(){return TI||(TI=1,(function(t){var e=mo&&mo.__createBinding||(Object.create?(function(f,h,p,v){v===void 0&&(v=p);var x=Object.getOwnPropertyDescriptor(h,p);(!x||("get"in x?!h.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return h[p]}}),Object.defineProperty(f,v,x)}):(function(f,h,p,v){v===void 0&&(v=p),f[v]=h[p]})),n=mo&&mo.__exportStar||function(f,h){for(var p in f)p!=="default"&&!Object.prototype.hasOwnProperty.call(h,p)&&e(h,f,p)},r=mo&&mo.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const i=r(PI());n(iq,t);var o=xU();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return o.PostgrestError}});var s=mU;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return s.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return s.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return s.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return s.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return s.FunctionRegion}}),n(OU,t);var a=PI();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return r(a).default}});const c=(f,h,p)=>new i.default(f,h,p);t.createClient=c;function u(){if(typeof window<"u"||typeof process>"u")return!1;const f=process.version;if(f==null)return!1;const h=f.match(/^v(\d+)\./);return h?parseInt(h[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(mo)),mo}var oq=zee();const sq=st(oq),Hee=QC({__proto__:null,default:sq},[oq]),{PostgrestError:GOe,FunctionsHttpError:KOe,FunctionsFetchError:YOe,FunctionsRelayError:XOe,FunctionsError:QOe,FunctionRegion:JOe,SupabaseClient:ZOe,createClient:Gee,GoTrueAdminApi:eke,GoTrueClient:tke,AuthAdminApi:nke,AuthClient:rke,navigatorLock:ike,NavigatorLockAcquireTimeoutError:oke,lockInternals:ske,processLock:ake,SIGN_OUT_SCOPES:lke,AuthError:cke,AuthApiError:uke,AuthUnknownError:dke,CustomAuthError:fke,AuthSessionMissingError:hke,AuthInvalidTokenResponseError:pke,AuthInvalidCredentialsError:mke,AuthImplicitGrantRedirectError:gke,AuthPKCEGrantCodeExchangeError:vke,AuthRetryableFetchError:yke,AuthWeakPasswordError:bke,AuthInvalidJwtError:wke,isAuthError:xke,isAuthApiError:_ke,isAuthSessionMissingError:Ske,isAuthImplicitGrantRedirectError:Pke,isAuthRetryableFetchError:Tke,isAuthWeakPasswordError:Cke,RealtimePresence:Eke,RealtimeChannel:Ake,RealtimeClient:Oke,REALTIME_LISTEN_TYPES:kke,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:jke,REALTIME_PRESENCE_LISTEN_EVENTS:Rke,REALTIME_SUBSCRIBE_STATES:Nke,REALTIME_CHANNEL_STATES:Ike}=sq||Hee,aq="https://amtxxigpbfsbvalnwpml.supabase.co",lq="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFtdHh4aWdwYmZzYnZhbG53cG1sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2NzEzNTYsImV4cCI6MjA4MTI0NzM1Nn0.XbHJoNQHJOqvRDs0LgvY2M4TXRN-RjZPqfYRdedYmx4",Ne=Gee(aq,lq);async function iu(t,e={}){const n=await fetch(`${aq}/functions/v1/${t}`,{method:"POST",headers:{Authorization:`Bearer ${lq}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.text();throw new Error(`Edge function error: ${r}`)}return n.json()}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kee=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cq=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xee=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},c)=>C.createElement("svg",{ref:c,...Yee,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:cq("lucide",i),...a},[...s.map(([u,f])=>C.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(t,e)=>{const n=C.forwardRef(({className:r,...i},o)=>C.createElement(Xee,{ref:o,iconNode:e,className:cq(`lucide-${Kee(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qee=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],CI=Re("Activity",Qee);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jee=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],GP=Re("Award",Jee);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],ete=Re("Ban",Zee);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tte=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],uq=Re("Building2",tte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],KP=Re("CalendarCheck",nte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ty=Re("Calendar",rte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],dq=Re("ChartColumn",ite);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ote=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ste=Re("Check",ote);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],fq=Re("ChevronDown",ate);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],cte=Re("ChevronLeft",lte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],EI=Re("ChevronRight",ute);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fte=Re("ChevronUp",dte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],pte=Re("CirclePlay",hte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],gte=Re("CircleX",mte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],qs=Re("Clock",vte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Mg=Re("Crown",yte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],wte=Re("Delete",bte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ou=Re("DollarSign",xte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ste=Re("Download",_te);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],Tte=Re("Filter",Pte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Dg=Re("Flame",Cte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],Ate=Re("Gem",Ete);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],kte=Re("Link",Ote);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Cf=Re("LoaderCircle",jte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Nte=Re("LogOut",Rte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Mte=Re("Mail",Ite);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],hq=Re("MicOff",Dte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],ny=Re("Mic",$te);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Fte=Re("Music",Lte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],Ute=Re("Palette",Bte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Vte=Re("Pen",qte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]],Pw=Re("PhoneCall",Wte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=[["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8",key:"13zxdn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Hte=Re("PhoneMissed",zte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]],YP=Re("PhoneOff",Gte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Mt=Re("Phone",Kte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pq=Re("Plus",Yte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Qte=Re("RefreshCw",Xte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Zte=Re("Rocket",Jte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tne=Re("Save",ene);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],mq=Re("Search",nne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GE=Re("Settings",rne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],one=Re("Shield",ine);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],KE=Re("Sparkles",sne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Vs=Re("Star",ane);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],cne=Re("Swords",lne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],gq=Re("Target",une);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dne=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],XP=Re("Trash2",dne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],hne=Re("TrendingDown",fne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pne=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Fo=Re("TrendingUp",pne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mne=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],$g=Re("Trophy",mne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],vne=Re("Upload",gne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yne=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vq=Re("User",yne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bne=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],QP=Re("Users",bne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=[["circle",{cx:"6",cy:"12",r:"4",key:"1ehtga"}],["circle",{cx:"18",cy:"12",r:"4",key:"4vafl8"}],["line",{x1:"6",x2:"18",y1:"16",y2:"16",key:"pmt8us"}]],xne=Re("Voicemail",wne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Sne=Re("Volume2",_ne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pne=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Tne=Re("WifiOff",Pne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Ene=Re("Wifi",Cne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],su=Re("X",Ane);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const One=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],YE=Re("Zap",One);function Cl({userStats:t}){const e=(t==null?void 0:t.level)||1,n=(t==null?void 0:t.total_points)||0,r=e*500,i=(t==null?void 0:t.calls_today)||0,o=(t==null?void 0:t.appointments_today)||0,s=(t==null?void 0:t.current_streak)||0;return g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg shadow-purple-500/30",children:g.jsx(YE,{className:"w-6 h-6 text-white fill-white"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-xl font-bold text-white",children:"Akaal"}),g.jsxs("div",{className:"flex items-center gap-2 text-purple-300 text-sm",children:[g.jsxs("span",{children:["Level ",e," Closer"]}),g.jsx("span",{className:"text-purple-500",children:""}),g.jsxs("span",{children:[n," / ",r," XP"]})]})]})]}),g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-purple-400 text-xs mb-1",children:"Calls"}),g.jsx("div",{className:"text-2xl font-bold text-white",children:i})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-purple-400 text-xs mb-1",children:"Appointments"}),g.jsx("div",{className:"text-2xl font-bold text-white",children:o})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-purple-400 text-xs mb-1",children:"Streak"}),g.jsxs("div",{className:"text-2xl font-bold text-white flex items-center gap-1",children:[s,g.jsx(Dg,{className:"w-4 h-4 text-orange-500"})]})]})]})]})}/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var AI="popstate";function kne(t={}){function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return JP("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Vf(i)}return Rne(e,n,null,t)}function Gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ai(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jne(){return Math.random().toString(36).substring(2,10)}function OI(t,e){return{usr:t.state,key:t.key,idx:e}}function JP(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wu(e):e,state:n,key:e&&e.key||r||jne()}}function Vf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Rne(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",c=null,u=f();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function f(){return(s.state||{idx:null}).idx}function h(){a="POP";let y=f(),_=y==null?null:y-u;u=y,c&&c({action:a,location:b.location,delta:_})}function p(y,_){a="PUSH";let T=JP(b.location,y,_);u=f()+1;let S=OI(T,u),A=b.createHref(T);try{s.pushState(S,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(A)}o&&c&&c({action:a,location:b.location,delta:1})}function v(y,_){a="REPLACE";let T=JP(b.location,y,_);u=f();let S=OI(T,u),A=b.createHref(T);s.replaceState(S,"",A),o&&c&&c({action:a,location:b.location,delta:0})}function x(y){return Nne(y)}let b={get action(){return a},get location(){return t(i,s)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(AI,h),c=y,()=>{i.removeEventListener(AI,h),c=null}},createHref(y){return e(i,y)},createURL:x,encodeLocation(y){let _=x(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:v,go(y){return s.go(y)}};return b}function Nne(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Gt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Vf(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function yq(t,e,n="/"){return Ine(t,e,n,!1)}function Ine(t,e,n,r){let i=typeof e=="string"?Wu(e):e,o=Bo(i.pathname||"/",n);if(o==null)return null;let s=bq(t);Mne(s);let a=null;for(let c=0;a==null&&c<s.length;++c){let u=Hne(o);a=Wne(s[c],u,r)}return a}function bq(t,e=[],n=[],r="",i=!1){let o=(s,a,c=i,u)=>{let f={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&c)return;Gt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let h=Ro([r,f.relativePath]),p=n.concat(f);s.children&&s.children.length>0&&(Gt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),bq(s.children,e,p,h,c)),!(s.path==null&&!s.index)&&e.push({path:h,score:qne(h,s.index),routesMeta:p})};return t.forEach((s,a)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))o(s,a);else for(let u of wq(s.path))o(s,a,!0,u)}),e}function wq(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=wq(r.join("/")),a=[];return a.push(...s.map(c=>c===""?o:[o,c].join("/"))),i&&a.push(...s),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function Mne(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Vne(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Dne=/^:[\w-]+$/,$ne=3,Lne=2,Fne=1,Bne=10,Une=-2,kI=t=>t==="*";function qne(t,e){let n=t.split("/"),r=n.length;return n.some(kI)&&(r+=Une),e&&(r+=Lne),n.filter(i=>!kI(i)).reduce((i,o)=>i+(Dne.test(o)?$ne:o===""?Fne:Bne),r)}function Vne(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Wne(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",h=Lg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),p=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Lg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:Ro([o,h.pathname]),pathnameBase:Qne(Ro([o,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(o=Ro([o,h.pathnameBase]))}return s}function Lg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zne(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:h},p)=>{if(f==="*"){let x=a[p]||"";s=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const v=a[p];return h&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function zne(t,e=!1,n=!0){Ai(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Hne(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ai(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var Gne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kne=t=>Gne.test(t);function Yne(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Wu(t):t,o;if(n)if(Kne(n))o=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Ai(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?o=jI(n.substring(1),"/"):o=jI(n,e)}else o=e;return{pathname:o,search:Jne(r),hash:Zne(i)}}function jI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Tw(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xne(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xq(t){let e=Xne(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _q(t,e,n,r=!1){let i;typeof t=="string"?i=Wu(t):(i={...t},Gt(!i.pathname||!i.pathname.includes("?"),Tw("?","pathname","search",i)),Gt(!i.pathname||!i.pathname.includes("#"),Tw("#","pathname","hash",i)),Gt(!i.search||!i.search.includes("#"),Tw("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let c=Yne(i,a),u=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}var Ro=t=>t.join("/").replace(/\/\/+/g,"/"),Qne=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Jne=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Zne=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ere(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function tre(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Sq=["POST","PUT","PATCH","DELETE"];new Set(Sq);var nre=["GET",...Sq];new Set(nre);var zu=C.createContext(null);zu.displayName="DataRouter";var ry=C.createContext(null);ry.displayName="DataRouterState";C.createContext(!1);var Pq=C.createContext({isTransitioning:!1});Pq.displayName="ViewTransition";var rre=C.createContext(new Map);rre.displayName="Fetchers";var ire=C.createContext(null);ire.displayName="Await";var ji=C.createContext(null);ji.displayName="Navigation";var Uh=C.createContext(null);Uh.displayName="Location";var Yo=C.createContext({outlet:null,matches:[],isDataRoute:!1});Yo.displayName="Route";var XE=C.createContext(null);XE.displayName="RouteError";function ore(t,{relative:e}={}){Gt(qh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(ji),{hash:i,pathname:o,search:s}=Vh(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:Ro([n,o])),r.createHref({pathname:a,search:s,hash:i})}function qh(){return C.useContext(Uh)!=null}function Xo(){return Gt(qh(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Uh).location}var Tq="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cq(t){C.useContext(ji).static||C.useLayoutEffect(t)}function sre(){let{isDataRoute:t}=C.useContext(Yo);return t?bre():are()}function are(){Gt(qh(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(zu),{basename:e,navigator:n}=C.useContext(ji),{matches:r}=C.useContext(Yo),{pathname:i}=Xo(),o=JSON.stringify(xq(r)),s=C.useRef(!1);return Cq(()=>{s.current=!0}),C.useCallback((c,u={})=>{if(Ai(s.current,Tq),!s.current)return;if(typeof c=="number"){n.go(c);return}let f=_q(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ro([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,o,i,t])}C.createContext(null);function Vh(t,{relative:e}={}){let{matches:n}=C.useContext(Yo),{pathname:r}=Xo(),i=JSON.stringify(xq(n));return C.useMemo(()=>_q(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function lre(t,e){return Eq(t,e)}function Eq(t,e,n,r,i){var T;Gt(qh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=C.useContext(ji),{matches:s}=C.useContext(Yo),a=s[s.length-1],c=a?a.params:{},u=a?a.pathname:"/",f=a?a.pathnameBase:"/",h=a&&a.route;{let S=h&&h.path||"";Aq(u,!h||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=Xo(),v;if(e){let S=typeof e=="string"?Wu(e):e;Gt(f==="/"||((T=S.pathname)==null?void 0:T.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),v=S}else v=p;let x=v.pathname||"/",b=x;if(f!=="/"){let S=f.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=yq(t,{pathname:b});Ai(h||y!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ai(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=hre(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Ro([f,o.encodeLocation?o.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:Ro([f,o.encodeLocation?o.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),s,n,r,i);return e&&_?C.createElement(Uh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function cre(){let t=yre(),e=ere(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:o},"ErrorBoundary")," or"," ",C.createElement("code",{style:o},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,s)}var ure=C.createElement(cre,null),dre=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?C.createElement(Yo.Provider,{value:this.props.routeContext},C.createElement(XE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fre({routeContext:t,match:e,children:n}){let r=C.useContext(zu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Yo.Provider,{value:t},n)}function hre(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=n==null?void 0:n.errors;if(s!=null){let f=o.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);Gt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let a=!1,c=-1;if(n)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:p,errors:v}=n,x=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}let u=n&&r?(f,h)=>{var p,v;r(f,{location:n.location,params:((v=(p=n.matches)==null?void 0:p[0])==null?void 0:v.params)??{},unstable_pattern:tre(n.matches),errorInfo:h})}:void 0;return o.reduceRight((f,h,p)=>{let v,x=!1,b=null,y=null;n&&(v=s&&h.route.id?s[h.route.id]:void 0,b=h.route.errorElement||ure,a&&(c<0&&p===0?(Aq("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,y=null):c===p&&(x=!0,y=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),T=()=>{let S;return v?S=b:x?S=y:h.route.Component?S=C.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=f,C.createElement(fre,{match:h,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?C.createElement(dre,{location:n.location,revalidation:n.revalidation,component:b,error:v,children:T(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:u}):T()},null)}function QE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pre(t){let e=C.useContext(zu);return Gt(e,QE(t)),e}function mre(t){let e=C.useContext(ry);return Gt(e,QE(t)),e}function gre(t){let e=C.useContext(Yo);return Gt(e,QE(t)),e}function JE(t){let e=gre(t),n=e.matches[e.matches.length-1];return Gt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function vre(){return JE("useRouteId")}function yre(){var r;let t=C.useContext(XE),e=mre("useRouteError"),n=JE("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function bre(){let{router:t}=pre("useNavigate"),e=JE("useNavigate"),n=C.useRef(!1);return Cq(()=>{n.current=!0}),C.useCallback(async(i,o={})=>{Ai(n.current,Tq),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var RI={};function Aq(t,e,n){!e&&!RI[t]&&(RI[t]=!0,Ai(!1,n))}C.memo(wre);function wre({routes:t,future:e,state:n,unstable_onError:r}){return Eq(t,void 0,n,r,e)}function wo(t){Gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xre({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:s}){Gt(!qh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:a,navigator:i,static:o,unstable_useTransitions:s,future:{}}),[a,i,o,s]);typeof n=="string"&&(n=Wu(n));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:v="default"}=n,x=C.useMemo(()=>{let b=Bo(u,a);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:v},navigationType:r}},[a,u,f,h,p,v,r]);return Ai(x!=null,`<Router basename="${a}"> is not able to match the URL "${u}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:C.createElement(ji.Provider,{value:c},C.createElement(Uh.Provider,{children:e,value:x}))}function _re({children:t,location:e}){return lre(ZP(t),e)}function ZP(t,e=[]){let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let o=[...e,i];if(r.type===C.Fragment){n.push.apply(n,ZP(r.props.children,o));return}Gt(r.type===wo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=ZP(r.props.children,o)),n.push(s)}),n}var ag="get",lg="application/x-www-form-urlencoded";function iy(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Sre(t){return iy(t)&&t.tagName.toLowerCase()==="button"}function Pre(t){return iy(t)&&t.tagName.toLowerCase()==="form"}function Tre(t){return iy(t)&&t.tagName.toLowerCase()==="input"}function Cre(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ere(t,e){return t.button===0&&(!e||e==="_self")&&!Cre(t)}var Cm=null;function Are(){if(Cm===null)try{new FormData(document.createElement("form"),0),Cm=!1}catch{Cm=!0}return Cm}var Ore=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cw(t){return t!=null&&!Ore.has(t)?(Ai(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lg}"`),null):t}function kre(t,e){let n,r,i,o,s;if(Pre(t)){let a=t.getAttribute("action");r=a?Bo(a,e):null,n=t.getAttribute("method")||ag,i=Cw(t.getAttribute("enctype"))||lg,o=new FormData(t)}else if(Sre(t)||Tre(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(r=c?Bo(c,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||ag,i=Cw(t.getAttribute("formenctype"))||Cw(a.getAttribute("enctype"))||lg,o=new FormData(a,t),!Are()){let{name:u,type:f,value:h}=t;if(f==="image"){let p=u?`${u}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else u&&o.append(u,h)}}else{if(iy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ag,r=null,i=lg,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ZE(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jre(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Bo(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Rre(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Nre(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Ire(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await Rre(o,n);return s.links?s.links():[]}return[]}));return Lre(r.flat(1).filter(Nre).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function NI(t,e,n,r,i,o){let s=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,a=(c,u)=>{var f;return n[u].pathname!==c.pathname||((f=n[u].route.path)==null?void 0:f.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,u)=>s(c,u)||a(c,u)):o==="data"?e.filter((c,u)=>{var h;let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(s(c,u)||a(c,u))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Mre(t,e,{includeHydrateFallback:n}={}){return Dre(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Dre(t){return[...new Set(t)]}function $re(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Lre(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify($re(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function Oq(){let t=C.useContext(zu);return ZE(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Fre(){let t=C.useContext(ry);return ZE(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var eA=C.createContext(void 0);eA.displayName="FrameworkContext";function kq(){let t=C.useContext(eA);return ZE(t,"You must render this element inside a <HydratedRouter> element"),t}function Bre(t,e){let n=C.useContext(eA),[r,i]=C.useState(!1),[o,s]=C.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:u,onMouseLeave:f,onTouchStart:h}=e,p=C.useRef(null);C.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let b=_=>{_.forEach(T=>{s(T.isIntersecting)})},y=new IntersectionObserver(b,{threshold:.5});return p.current&&y.observe(p.current),()=>{y.disconnect()}}},[t]),C.useEffect(()=>{if(r){let b=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(b)}}},[r]);let v=()=>{i(!0)},x=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,p,{}]:[o,p,{onFocus:Xd(a,v),onBlur:Xd(c,x),onMouseEnter:Xd(u,v),onMouseLeave:Xd(f,x),onTouchStart:Xd(h,v)}]:[!1,p,{}]}function Xd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ure({page:t,...e}){let{router:n}=Oq(),r=C.useMemo(()=>yq(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(Vre,{page:t,matches:r,...e}):null}function qre(t){let{manifest:e,routeModules:n}=kq(),[r,i]=C.useState([]);return C.useEffect(()=>{let o=!1;return Ire(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function Vre({page:t,matches:e,...n}){let r=Xo(),{manifest:i,routeModules:o}=kq(),{basename:s}=Oq(),{loaderData:a,matches:c}=Fre(),u=C.useMemo(()=>NI(t,e,c,i,r,"data"),[t,e,c,i,r]),f=C.useMemo(()=>NI(t,e,c,i,r,"assets"),[t,e,c,i,r]),h=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,b=!1;if(e.forEach(_=>{var S;let T=i.routes[_.route.id];!T||!T.hasLoader||(!u.some(A=>A.route.id===_.route.id)&&_.route.id in a&&((S=o[_.route.id])!=null&&S.shouldRevalidate)||T.hasClientLoader?b=!0:x.add(_.route.id))}),x.size===0)return[];let y=jre(t,s,"data");return b&&x.size>0&&y.searchParams.set("_routes",e.filter(_=>x.has(_.route.id)).map(_=>_.route.id).join(",")),[y.pathname+y.search]},[s,a,r,i,u,e,t,o]),p=C.useMemo(()=>Mre(f,i),[f,i]),v=qre(f);return C.createElement(C.Fragment,null,h.map(x=>C.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),p.map(x=>C.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),v.map(({key:x,link:b})=>C.createElement("link",{key:x,nonce:n.nonce,...b})))}function Wre(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var jq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jq&&(window.__reactRouterVersion="7.10.1")}catch{}function zre({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=C.useRef();i.current==null&&(i.current=kne({window:r,v5Compat:!0}));let o=i.current,[s,a]=C.useState({action:o.action,location:o.location}),c=C.useCallback(u=>{n===!1?a(u):C.startTransition(()=>a(u))},[n]);return C.useLayoutEffect(()=>o.listen(c),[o,c]),C.createElement(xre,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:o,unstable_useTransitions:n===!0})}var Rq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oy=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:c,to:u,preventScrollReset:f,viewTransition:h,...p},v){let{basename:x,unstable_useTransitions:b}=C.useContext(ji),y=typeof u=="string"&&Rq.test(u),_,T=!1;if(typeof u=="string"&&y&&(_=u,jq))try{let L=new URL(window.location.href),M=u.startsWith("//")?new URL(L.protocol+u):new URL(u),B=Bo(M.pathname,x);M.origin===L.origin&&B!=null?u=B+M.search+M.hash:T=!0}catch{Ai(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=ore(u,{relative:i}),[A,P,O]=Bre(r,p),k=Yre(u,{replace:s,state:a,target:c,preventScrollReset:f,relative:i,viewTransition:h,unstable_useTransitions:b});function R(L){e&&e(L),L.defaultPrevented||k(L)}let I=C.createElement("a",{...p,...O,href:_||S,onClick:T||o?e:R,ref:Wre(v,P),target:c,"data-discover":!y&&n==="render"?"true":void 0});return A&&!y?C.createElement(C.Fragment,null,I,C.createElement(Ure,{page:S})):I});oy.displayName="Link";var Hre=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:c,...u},f){let h=Vh(s,{relative:u.relative}),p=Xo(),v=C.useContext(ry),{navigator:x,basename:b}=C.useContext(ji),y=v!=null&&eie(h)&&a===!0,_=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,T=p.pathname,S=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(T=T.toLowerCase(),S=S?S.toLowerCase():null,_=_.toLowerCase()),S&&b&&(S=Bo(S,b)||S);const A=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let P=T===_||!i&&T.startsWith(_)&&T.charAt(A)==="/",O=S!=null&&(S===_||!i&&S.startsWith(_)&&S.charAt(_.length)==="/"),k={isActive:P,isPending:O,isTransitioning:y},R=P?e:void 0,I;typeof r=="function"?I=r(k):I=[r,P?"active":null,O?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(k):o;return C.createElement(oy,{...u,"aria-current":R,className:I,ref:f,style:L,to:s,viewTransition:a},typeof c=="function"?c(k):c)});Hre.displayName="NavLink";var Gre=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=ag,action:a,onSubmit:c,relative:u,preventScrollReset:f,viewTransition:h,...p},v)=>{let{unstable_useTransitions:x}=C.useContext(ji),b=Jre(),y=Zre(a,{relative:u}),_=s.toLowerCase()==="get"?"get":"post",T=typeof a=="string"&&Rq.test(a),S=A=>{if(c&&c(A),A.defaultPrevented)return;A.preventDefault();let P=A.nativeEvent.submitter,O=(P==null?void 0:P.getAttribute("formmethod"))||s,k=()=>b(P||A.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:o,relative:u,preventScrollReset:f,viewTransition:h});x&&n!==!1?C.startTransition(()=>k()):k()};return C.createElement("form",{ref:v,method:_,action:y,onSubmit:r?c:S,...p,"data-discover":!T&&t==="render"?"true":void 0})});Gre.displayName="Form";function Kre(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nq(t){let e=C.useContext(zu);return Gt(e,Kre(t)),e}function Yre(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s,unstable_useTransitions:a}={}){let c=sre(),u=Xo(),f=Vh(t,{relative:o});return C.useCallback(h=>{if(Ere(h,e)){h.preventDefault();let p=n!==void 0?n:Vf(u)===Vf(f),v=()=>c(t,{replace:p,state:r,preventScrollReset:i,relative:o,viewTransition:s});a?C.startTransition(()=>v()):v()}},[u,c,f,n,r,e,t,i,o,s,a])}var Xre=0,Qre=()=>`__${String(++Xre)}__`;function Jre(){let{router:t}=Nq("useSubmit"),{basename:e}=C.useContext(ji),n=vre(),r=t.fetch,i=t.navigate;return C.useCallback(async(o,s={})=>{let{action:a,method:c,encType:u,formData:f,body:h}=kre(o,e);if(s.navigate===!1){let p=s.fetcherKey||Qre();await r(p,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||c,formEncType:s.encType||u,flushSync:s.flushSync})}else await i(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||c,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,e,n])}function Zre(t,{relative:e}={}){let{basename:n}=C.useContext(ji),r=C.useContext(Yo);Gt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Vh(t||".",{relative:e})},s=Xo();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),c=a.getAll("index");if(c.some(f=>f==="")){a.delete("index"),c.filter(h=>h).forEach(h=>a.append("index",h));let f=a.toString();o.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ro([n,o.pathname])),Vf(o)}function eie(t,{relative:e}={}){let n=C.useContext(Pq);Gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Nq("useViewTransitionState"),i=Vh(t,{relative:e});if(!n.isTransitioning)return!1;let o=Bo(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Bo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lg(i.pathname,s)!=null||Lg(i.pathname,o)!=null}var Wh=J5();const tie=st(Wh);function Iq(t){return"/"+t.toLowerCase().replace(/ /g,"-")}const nie=[{name:"Dialer",icon:Mt,page:"Home"},{name:"Leads",icon:QP,page:"Leads"},{name:"Metrics",icon:dq,page:"Metrics"},{name:"Achievements",icon:$g,page:"Achievements"},{name:"Leaderboard",icon:YE,page:"Leaderboard"},{name:"Settings",icon:GE,page:"Settings"}];function El(){const t=Xo(),n=t.pathname.split("/").pop()||"Home";return g.jsx("div",{className:"flex gap-2 bg-[#2d1f4a]/50 p-2 rounded-2xl backdrop-blur-sm",children:nie.map(r=>{const i=r.icon,o=n===r.page||r.page==="Home"&&n==="";return g.jsx(oy,{to:Iq(r.page),className:"relative flex-1",children:g.jsxs(me.div,{className:`
                px-6 py-3 rounded-xl flex items-center justify-center gap-2 transition-all
                ${o?"bg-gradient-to-r from-purple-500 to-indigo-500 text-white shadow-lg shadow-purple-500/30":"text-purple-200 hover:bg-purple-900/30"}
              `,whileHover:{scale:1.02},whileTap:{scale:.98},children:[g.jsx(i,{className:"w-4 h-4"}),g.jsx("span",{className:"font-medium text-sm",children:r.name})]})},r.name)})})}function II(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Hu(...t){return e=>{let n=!1;const r=t.map(i=>{const o=II(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():II(t[i],null)}}}}function qt(...t){return C.useCallback(Hu(...t),t)}var rie=Symbol.for("react.lazy"),Fg=ZC[" use ".trim().toString()];function iie(t){return typeof t=="object"&&t!==null&&"then"in t}function Mq(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===rie&&"_payload"in t&&iie(t._payload)}function Dq(t){const e=sie(t),n=C.forwardRef((r,i)=>{let{children:o,...s}=r;Mq(o)&&typeof Fg=="function"&&(o=Fg(o._payload));const a=C.Children.toArray(o),c=a.find(lie);if(c){const u=c.props.children,f=a.map(h=>h===c?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...s,ref:i,children:C.isValidElement(u)?C.cloneElement(u,void 0,f):null})}return g.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var oie=Dq("Slot");function sie(t){const e=C.forwardRef((n,r)=>{let{children:i,...o}=n;if(Mq(i)&&typeof Fg=="function"&&(i=Fg(i._payload)),C.isValidElement(i)){const s=uie(i),a=cie(o,i.props);return i.type!==C.Fragment&&(a.ref=r?Hu(r,s):s),C.cloneElement(i,a)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var aie=Symbol("radix.slottable");function lie(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===aie}function cie(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const c=o(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function uie(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function $q(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$q(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function He(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$q(t))&&(r&&(r+=" "),r+=e);return r}const MI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,DI=He,sy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return DI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(u=>{const f=n==null?void 0:n[u],h=o==null?void 0:o[u];if(f===null)return null;const p=MI(f)||MI(h);return i[u][p]}),a=n&&Object.entries(n).reduce((u,f)=>{let[h,p]=f;return p===void 0||(u[h]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:h,className:p,...v}=f;return Object.entries(v).every(x=>{let[b,y]=x;return Array.isArray(y)?y.includes({...o,...a}[b]):{...o,...a}[b]===y})?[...u,h,p]:u},[]);return DI(t,s,c,n==null?void 0:n.class,n==null?void 0:n.className)},die=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},fie=(t,e)=>({classGroupId:t,validator:e}),Lq=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Bg="-",$I=[],hie="arbitrary..",pie=t=>{const e=gie(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{if(s.startsWith("[")&&s.endsWith("]"))return mie(s);const a=s.split(Bg),c=a[0]===""&&a.length>1?1:0;return Fq(a,c,e)},getConflictingClassGroupIds:(s,a)=>{if(a){const c=r[s],u=n[s];return c?u?die(u,c):c:u||$I}return n[s]||$I}}},Fq=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],o=n.nextPart.get(i);if(o){const u=Fq(t,e+1,o);if(u)return u}const s=n.validators;if(s===null)return;const a=e===0?t.join(Bg):t.slice(e).join(Bg),c=s.length;for(let u=0;u<c;u++){const f=s[u];if(f.validator(a))return f.classGroupId}},mie=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?hie+r:void 0})(),gie=t=>{const{theme:e,classGroups:n}=t;return vie(n,e)},vie=(t,e)=>{const n=Lq();for(const r in t){const i=t[r];tA(i,n,r,e)}return n},tA=(t,e,n,r)=>{const i=t.length;for(let o=0;o<i;o++){const s=t[o];yie(s,e,n,r)}},yie=(t,e,n,r)=>{if(typeof t=="string"){bie(t,e,n);return}if(typeof t=="function"){wie(t,e,n,r);return}xie(t,e,n,r)},bie=(t,e,n)=>{const r=t===""?e:Bq(e,t);r.classGroupId=n},wie=(t,e,n,r)=>{if(_ie(t)){tA(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(fie(n,t))},xie=(t,e,n,r)=>{const i=Object.entries(t),o=i.length;for(let s=0;s<o;s++){const[a,c]=i[s];tA(c,Bq(e,a),n,r)}},Bq=(t,e)=>{let n=t;const r=e.split(Bg),i=r.length;for(let o=0;o<i;o++){const s=r[o];let a=n.nextPart.get(s);a||(a=Lq(),n.nextPart.set(s,a)),n=a}return n},_ie=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Sie=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(o,s)=>{n[o]=s,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let s=n[o];if(s!==void 0)return s;if((s=r[o])!==void 0)return i(o,s),s},set(o,s){o in n?n[o]=s:i(o,s)}}},eT="!",LI=":",Pie=[],FI=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),Tie=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const o=[];let s=0,a=0,c=0,u;const f=i.length;for(let b=0;b<f;b++){const y=i[b];if(s===0&&a===0){if(y===LI){o.push(i.slice(c,b)),c=b+1;continue}if(y==="/"){u=b;continue}}y==="["?s++:y==="]"?s--:y==="("?a++:y===")"&&a--}const h=o.length===0?i:i.slice(c);let p=h,v=!1;h.endsWith(eT)?(p=h.slice(0,-1),v=!0):h.startsWith(eT)&&(p=h.slice(1),v=!0);const x=u&&u>c?u-c:void 0;return FI(o,v,p,x)};if(e){const i=e+LI,o=r;r=s=>s.startsWith(i)?o(s.slice(i.length)):FI(Pie,!1,s,void 0,!0)}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},Cie=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let o=0;o<n.length;o++){const s=n[o],a=s[0]==="[",c=e.has(s);a||c?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(s)):i.push(s)}return i.length>0&&(i.sort(),r.push(...i)),r}},Eie=t=>({cache:Sie(t.cacheSize),parseClassName:Tie(t),sortModifiers:Cie(t),...pie(t)}),Aie=/\s+/,Oie=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,s=[],a=t.trim().split(Aie);let c="";for(let u=a.length-1;u>=0;u-=1){const f=a[u],{isExternal:h,modifiers:p,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:b}=n(f);if(h){c=f+(c.length>0?" "+c:c);continue}let y=!!b,_=r(y?x.substring(0,b):x);if(!_){if(!y){c=f+(c.length>0?" "+c:c);continue}if(_=r(x),!_){c=f+(c.length>0?" "+c:c);continue}y=!1}const T=p.length===0?"":p.length===1?p[0]:o(p).join(":"),S=v?T+eT:T,A=S+_;if(s.indexOf(A)>-1)continue;s.push(A);const P=i(_,y);for(let O=0;O<P.length;++O){const k=P[O];s.push(S+k)}c=f+(c.length>0?" "+c:c)}return c},kie=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=Uq(n))&&(i&&(i+=" "),i+=r);return i},Uq=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Uq(t[r]))&&(n&&(n+=" "),n+=e);return n},jie=(t,...e)=>{let n,r,i,o;const s=c=>{const u=e.reduce((f,h)=>h(f),t());return n=Eie(u),r=n.cache.get,i=n.cache.set,o=a,a(c)},a=c=>{const u=r(c);if(u)return u;const f=Oie(c,n);return i(c,f),f};return o=s,(...c)=>o(kie(...c))},Rie=[],dn=t=>{const e=n=>n[t]||Rie;return e.isThemeGetter=!0,e},qq=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Vq=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Nie=/^\d+\/\d+$/,Iie=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Mie=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Die=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,$ie=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Lie=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lc=t=>Nie.test(t),Xe=t=>!!t&&!Number.isNaN(Number(t)),ws=t=>!!t&&Number.isInteger(Number(t)),Ew=t=>t.endsWith("%")&&Xe(t.slice(0,-1)),vo=t=>Iie.test(t),Fie=()=>!0,Bie=t=>Mie.test(t)&&!Die.test(t),Wq=()=>!1,Uie=t=>$ie.test(t),qie=t=>Lie.test(t),Vie=t=>!Ce(t)&&!Ee(t),Wie=t=>Gu(t,Gq,Wq),Ce=t=>qq.test(t),_a=t=>Gu(t,Kq,Bie),Aw=t=>Gu(t,Yie,Xe),BI=t=>Gu(t,zq,Wq),zie=t=>Gu(t,Hq,qie),Em=t=>Gu(t,Yq,Uie),Ee=t=>Vq.test(t),Qd=t=>Ku(t,Kq),Hie=t=>Ku(t,Xie),UI=t=>Ku(t,zq),Gie=t=>Ku(t,Gq),Kie=t=>Ku(t,Hq),Am=t=>Ku(t,Yq,!0),Gu=(t,e,n)=>{const r=qq.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Ku=(t,e,n=!1)=>{const r=Vq.exec(t);return r?r[1]?e(r[1]):n:!1},zq=t=>t==="position"||t==="percentage",Hq=t=>t==="image"||t==="url",Gq=t=>t==="length"||t==="size"||t==="bg-size",Kq=t=>t==="length",Yie=t=>t==="number",Xie=t=>t==="family-name",Yq=t=>t==="shadow",Qie=()=>{const t=dn("color"),e=dn("font"),n=dn("text"),r=dn("font-weight"),i=dn("tracking"),o=dn("leading"),s=dn("breakpoint"),a=dn("container"),c=dn("spacing"),u=dn("radius"),f=dn("shadow"),h=dn("inset-shadow"),p=dn("text-shadow"),v=dn("drop-shadow"),x=dn("blur"),b=dn("perspective"),y=dn("aspect"),_=dn("ease"),T=dn("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...A(),Ee,Ce],O=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],R=()=>[Ee,Ce,c],I=()=>[lc,"full","auto",...R()],L=()=>[ws,"none","subgrid",Ee,Ce],M=()=>["auto",{span:["full",ws,Ee,Ce]},ws,Ee,Ce],B=()=>[ws,"auto",Ee,Ce],q=()=>["auto","min","max","fr",Ee,Ce],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Q=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...R()],J=()=>[lc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],F=()=>[t,Ee,Ce],G=()=>[...A(),UI,BI,{position:[Ee,Ce]}],D=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",Gie,Wie,{size:[Ee,Ce]}],z=()=>[Ew,Qd,_a],te=()=>["","none","full",u,Ee,Ce],ue=()=>["",Xe,Qd,_a],ye=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>[Xe,Ew,UI,BI],pe=()=>["","none",x,Ee,Ce],oe=()=>["none",Xe,Ee,Ce],fe=()=>["none",Xe,Ee,Ce],ve=()=>[Xe,Ee,Ce],re=()=>[lc,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[vo],breakpoint:[vo],color:[Fie],container:[vo],"drop-shadow":[vo],ease:["in","out","in-out"],font:[Vie],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[vo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[vo],shadow:[vo],spacing:["px",Xe],text:[vo],"text-shadow":[vo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",lc,Ce,Ee,y]}],container:["container"],columns:[{columns:[Xe,Ce,Ee,a]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[ws,"auto",Ee,Ce]}],basis:[{basis:[lc,"full","auto",a,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Xe,lc,"auto","initial","none",Ce]}],grow:[{grow:["",Xe,Ee,Ce]}],shrink:[{shrink:["",Xe,Ee,Ce]}],order:[{order:[ws,"first","last","none",Ee,Ce]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":q()}],"auto-rows":[{"auto-rows":q()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...Q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Q(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[a,"screen",...J()]}],"min-w":[{"min-w":[a,"screen","none",...J()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",n,Qd,_a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ee,Aw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ew,Ce]}],"font-family":[{font:[Hie,Ce,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ee,Ce]}],"line-clamp":[{"line-clamp":[Xe,"none",Ee,Aw]}],leading:[{leading:[o,...R()]}],"list-image":[{"list-image":["none",Ee,Ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ee,Ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:[Xe,"from-font","auto",Ee,_a]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Xe,"auto",Ee,Ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee,Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee,Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:D()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ws,Ee,Ce],radial:["",Ee,Ce],conic:[ws,Ee,Ce]},Kie,zie]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ye(),"hidden","none"]}],"divide-style":[{divide:[...ye(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...ye(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Xe,Ee,Ce]}],"outline-w":[{outline:["",Xe,Qd,_a]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",f,Am,Em]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",h,Am,Em]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Xe,_a]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",p,Am,Em]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Xe,Ee,Ce]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Xe]}],"mask-image-linear-from-pos":[{"mask-linear-from":se()}],"mask-image-linear-to-pos":[{"mask-linear-to":se()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":se()}],"mask-image-t-to-pos":[{"mask-t-to":se()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":se()}],"mask-image-r-to-pos":[{"mask-r-to":se()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":se()}],"mask-image-b-to-pos":[{"mask-b-to":se()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":se()}],"mask-image-l-to-pos":[{"mask-l-to":se()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":se()}],"mask-image-x-to-pos":[{"mask-x-to":se()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":se()}],"mask-image-y-to-pos":[{"mask-y-to":se()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[Ee,Ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":se()}],"mask-image-radial-to-pos":[{"mask-radial-to":se()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[Xe]}],"mask-image-conic-from-pos":[{"mask-conic-from":se()}],"mask-image-conic-to-pos":[{"mask-conic-to":se()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:D()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ee,Ce]}],filter:[{filter:["","none",Ee,Ce]}],blur:[{blur:pe()}],brightness:[{brightness:[Xe,Ee,Ce]}],contrast:[{contrast:[Xe,Ee,Ce]}],"drop-shadow":[{"drop-shadow":["","none",v,Am,Em]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Xe,Ee,Ce]}],"hue-rotate":[{"hue-rotate":[Xe,Ee,Ce]}],invert:[{invert:["",Xe,Ee,Ce]}],saturate:[{saturate:[Xe,Ee,Ce]}],sepia:[{sepia:["",Xe,Ee,Ce]}],"backdrop-filter":[{"backdrop-filter":["","none",Ee,Ce]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[Xe,Ee,Ce]}],"backdrop-contrast":[{"backdrop-contrast":[Xe,Ee,Ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Xe,Ee,Ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Xe,Ee,Ce]}],"backdrop-invert":[{"backdrop-invert":["",Xe,Ee,Ce]}],"backdrop-opacity":[{"backdrop-opacity":[Xe,Ee,Ce]}],"backdrop-saturate":[{"backdrop-saturate":[Xe,Ee,Ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Xe,Ee,Ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ee,Ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Xe,"initial",Ee,Ce]}],ease:[{ease:["linear","initial",_,Ee,Ce]}],delay:[{delay:[Xe,Ee,Ce]}],animate:[{animate:["none",T,Ee,Ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ee,Ce]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:ve()}],"skew-x":[{"skew-x":ve()}],"skew-y":[{"skew-y":ve()}],transform:[{transform:[Ee,Ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:re()}],"translate-x":[{"translate-x":re()}],"translate-y":[{"translate-y":re()}],"translate-z":[{"translate-z":re()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee,Ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee,Ce]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Xe,Qd,_a,Aw]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Jie=jie(Qie);function et(...t){return Jie(He(t))}const Zie=sy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ze=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?oie:"button";return g.jsx(s,{className:et(Zie({variant:e,size:n,className:t})),ref:o,...i})});Ze.displayName="Button";const eoe=sy("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function gf({className:t,variant:e,...n}){return g.jsx("div",{className:et(eoe({variant:e}),t),...n})}function toe({lead:t,onStartCall:e,xpMultiplier:n=1}){if(!t)return g.jsx(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-8 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:g.jsxs("div",{className:"text-center py-12",children:[g.jsx(Mt,{className:"w-16 h-16 text-purple-500/30 mx-auto mb-4"}),g.jsx("p",{className:"text-purple-300",children:"No leads available"}),g.jsx("p",{className:"text-purple-400 text-sm mt-2",children:"Add leads to start dialing"})]})});const r=Math.floor(Math.random()*5e4)+1e4,i=["EASY","MEDIUM","HARD"][Math.floor(Math.random()*3)],o={EASY:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",MEDIUM:"bg-amber-500/20 text-amber-400 border-amber-500/30",HARD:"bg-red-500/20 text-red-400 border-red-500/30"};return g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-8 border-2 border-purple-500/30 relative overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-transparent pointer-events-none"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"flex justify-end mb-4",children:g.jsx(gf,{className:`${o[i]} border font-semibold px-3 py-1`,children:i})}),g.jsxs("div",{className:"mb-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:t.name}),g.jsxs("div",{className:"flex items-center gap-2 text-purple-300 mb-3",children:[g.jsx(uq,{className:"w-4 h-4"}),g.jsx("span",{children:t.company||"No company"})]}),g.jsxs("div",{className:"flex items-center gap-2 text-purple-200",children:[g.jsx(Mt,{className:"w-4 h-4"}),g.jsx("span",{className:"font-mono text-lg",children:t.phone})]})]}),g.jsxs("div",{className:"mb-6 bg-purple-900/30 rounded-xl p-4 border border-purple-500/20",children:[g.jsx("div",{className:"text-purple-400 text-sm mb-1",children:"Deal Value:"}),g.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 text-2xl font-bold",children:[g.jsx(ou,{className:"w-5 h-5"}),r.toLocaleString()]})]}),g.jsxs(Ze,{onClick:e,className:"w-full h-14 bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-lg font-semibold rounded-2xl shadow-xl shadow-emerald-500/30 transition-all hover:scale-105",children:[g.jsx(Mt,{className:"w-5 h-5 mr-2"}),"Start Call"]}),n>1&&g.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-amber-400",children:[g.jsx(YE,{className:"w-4 h-4 fill-amber-400"}),g.jsxs("span",{className:"text-sm font-semibold",children:["XP Multiplier: ",n,"x"]})]})]})]})}function noe({stats:t}){const e=(t==null?void 0:t.calls_today)||0,n=(t==null?void 0:t.appointments_today)||0,r=e>0?(n/e*100).toFixed(1):0,i=[{label:"Total Calls",value:e,icon:Mt,color:"text-blue-400",bgColor:"bg-blue-500/10"},{label:"Appointments",value:n,icon:ty,color:"text-emerald-400",bgColor:"bg-emerald-500/10"},{label:"Conversion Rate",value:`${r}%`,icon:Fo,color:"text-purple-400",bgColor:"bg-purple-500/10"},{label:"Pipeline Value",value:`$${(n*35e3).toLocaleString()}`,icon:ou,color:"text-amber-400",bgColor:"bg-amber-500/10"}];return g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[g.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[g.jsx(Fo,{className:"w-5 h-5 text-purple-400"}),g.jsx("h3",{className:"text-lg font-bold text-white",children:"Session Stats"})]}),g.jsx("div",{className:"space-y-4",children:i.map((o,s)=>{const a=o.icon;return g.jsxs(me.div,{className:"flex items-center justify-between p-4 bg-[#1a0f2e] rounded-2xl border border-purple-500/10",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:s*.1},children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`w-10 h-10 ${o.bgColor} rounded-xl flex items-center justify-center`,children:g.jsx(a,{className:`w-5 h-5 ${o.color}`})}),g.jsx("span",{className:"text-purple-300 text-sm",children:o.label})]}),g.jsx("span",{className:"text-2xl font-bold text-white",children:o.value})]},o.label)})})]})}function roe({level:t=1,currentXP:e=0,nextLevelXP:n=500}){const r=e/n*100;return g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("span",{className:"text-purple-300 font-semibold",children:["Level ",t]}),g.jsxs("span",{className:"text-purple-400 text-sm",children:[e," / ",n," XP"]})]}),g.jsx("div",{className:"w-full h-3 bg-[#1a0f2e] rounded-full overflow-hidden",children:g.jsx(me.div,{className:"h-full bg-gradient-to-r from-purple-500 via-indigo-500 to-purple-600 rounded-full shadow-lg shadow-purple-500/50",initial:{width:0},animate:{width:`${r}%`},transition:{duration:1,ease:"easeOut"}})})]})}const Xq=C.forwardRef(({className:t,...e},n)=>g.jsx("textarea",{className:et("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Xq.displayName="Textarea";const Qq=C.createContext(),Om={regular:{name:"Regular",background:"from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e]",cardBg:"bg-[#2d1f4a]/50",primaryGlow:"bg-purple-600/20",secondaryGlow:"bg-indigo-600/20",accentColor:"indigo",textPrimary:"text-white",textSecondary:"text-purple-300",borderColor:"border-purple-500/20",buttonGradient:"from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700"},dark:{name:"Dark",background:"from-[#0a0a0a] via-[#1a1a1a] to-[#0a0a0a]",cardBg:"bg-[#1a1a1a]/50",primaryGlow:"bg-slate-600/20",secondaryGlow:"bg-zinc-600/20",accentColor:"slate",textPrimary:"text-white",textSecondary:"text-slate-400",borderColor:"border-slate-500/20",buttonGradient:"from-slate-700 to-zinc-800 hover:from-slate-800 hover:to-zinc-900"},christmas:{name:"Christmas",background:"from-[#0d1f15] via-[#1a2e1f] to-[#0d1f15]",cardBg:"bg-gradient-to-br from-red-900/20 via-green-900/20 to-red-900/20 backdrop-blur-sm",primaryGlow:"bg-red-600/30",secondaryGlow:"bg-green-600/30",accentColor:"red",textPrimary:"text-white",textSecondary:"text-green-200",borderColor:"border-red-500/30",buttonGradient:"from-red-600 to-green-600 hover:from-red-700 hover:to-green-700"}};function ioe({children:t}){const[e,n]=C.useState("regular"),[r,i]=C.useState("demo@example.com");C.useEffect(()=>{(async()=>{const{data:c}=await Ne.from("dialer_settings").select("theme").eq("user_email",r).maybeSingle();c!=null&&c.theme&&Om[c.theme]&&n(c.theme)})()},[r]);const o=async a=>{Om[a]&&(n(a),await Ne.from("dialer_settings").upsert({user_email:r,theme:a,updated_at:new Date().toISOString()},{onConflict:"user_email"}))},s={currentTheme:e,theme:Om[e],changeTheme:o,themes:Om};return g.jsx(Qq.Provider,{value:s,children:t})}function nA(){const t=C.useContext(Qq);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}var km={exports:{}},qI;function ooe(){if(qI)return km.exports;qI=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(P,O,k){return Function.prototype.apply.call(P,O,k)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:n=function(P){return Object.getOwnPropertyNames(P)};function r(A){console&&console.warn&&console.warn(A)}var i=Number.isNaN||function(P){return P!==P};function o(){o.init.call(this)}km.exports=o,km.exports.once=_,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(A){if(typeof A!="number"||A<0||i(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");s=A}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||i(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function c(A){return A._maxListeners===void 0?o.defaultMaxListeners:A._maxListeners}o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(P){for(var O=[],k=1;k<arguments.length;k++)O.push(arguments[k]);var R=P==="error",I=this._events;if(I!==void 0)R=R&&I.error===void 0;else if(!R)return!1;if(R){var L;if(O.length>0&&(L=O[0]),L instanceof Error)throw L;var M=new Error("Unhandled error."+(L?" ("+L.message+")":""));throw M.context=L,M}var B=I[P];if(B===void 0)return!1;if(typeof B=="function")e(B,this,O);else for(var q=B.length,Y=x(B,q),k=0;k<q;++k)e(Y[k],this,O);return!0};function u(A,P,O,k){var R,I,L;if(a(O),I=A._events,I===void 0?(I=A._events=Object.create(null),A._eventsCount=0):(I.newListener!==void 0&&(A.emit("newListener",P,O.listener?O.listener:O),I=A._events),L=I[P]),L===void 0)L=I[P]=O,++A._eventsCount;else if(typeof L=="function"?L=I[P]=k?[O,L]:[L,O]:k?L.unshift(O):L.push(O),R=c(A),R>0&&L.length>R&&!L.warned){L.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+L.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=A,M.type=P,M.count=L.length,r(M)}return A}o.prototype.addListener=function(P,O){return u(this,P,O,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(P,O){return u(this,P,O,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(A,P,O){var k={fired:!1,wrapFn:void 0,target:A,type:P,listener:O},R=f.bind(k);return R.listener=O,k.wrapFn=R,R}o.prototype.once=function(P,O){return a(O),this.on(P,h(this,P,O)),this},o.prototype.prependOnceListener=function(P,O){return a(O),this.prependListener(P,h(this,P,O)),this},o.prototype.removeListener=function(P,O){var k,R,I,L,M;if(a(O),R=this._events,R===void 0)return this;if(k=R[P],k===void 0)return this;if(k===O||k.listener===O)--this._eventsCount===0?this._events=Object.create(null):(delete R[P],R.removeListener&&this.emit("removeListener",P,k.listener||O));else if(typeof k!="function"){for(I=-1,L=k.length-1;L>=0;L--)if(k[L]===O||k[L].listener===O){M=k[L].listener,I=L;break}if(I<0)return this;I===0?k.shift():b(k,I),k.length===1&&(R[P]=k[0]),R.removeListener!==void 0&&this.emit("removeListener",P,M||O)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(P){var O,k,R;if(k=this._events,k===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete k[P]),this;if(arguments.length===0){var I=Object.keys(k),L;for(R=0;R<I.length;++R)L=I[R],L!=="removeListener"&&this.removeAllListeners(L);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(O=k[P],typeof O=="function")this.removeListener(P,O);else if(O!==void 0)for(R=O.length-1;R>=0;R--)this.removeListener(P,O[R]);return this};function p(A,P,O){var k=A._events;if(k===void 0)return[];var R=k[P];return R===void 0?[]:typeof R=="function"?O?[R.listener||R]:[R]:O?y(R):x(R,R.length)}o.prototype.listeners=function(P){return p(this,P,!0)},o.prototype.rawListeners=function(P){return p(this,P,!1)},o.listenerCount=function(A,P){return typeof A.listenerCount=="function"?A.listenerCount(P):v.call(A,P)},o.prototype.listenerCount=v;function v(A){var P=this._events;if(P!==void 0){var O=P[A];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function x(A,P){for(var O=new Array(P),k=0;k<P;++k)O[k]=A[k];return O}function b(A,P){for(;P+1<A.length;P++)A[P]=A[P+1];A.pop()}function y(A){for(var P=new Array(A.length),O=0;O<P.length;++O)P[O]=A[O].listener||A[O];return P}function _(A,P){return new Promise(function(O,k){function R(L){A.removeListener(P,I),k(L)}function I(){typeof A.removeListener=="function"&&A.removeListener("error",R),O([].slice.call(arguments))}S(A,P,I,{once:!0}),P!=="error"&&T(A,R,{once:!0})})}function T(A,P,O){typeof A.on=="function"&&S(A,"error",P,O)}function S(A,P,O,k){if(typeof A.on=="function")k.once?A.once(P,O):A.on(P,O);else if(typeof A.addEventListener=="function")A.addEventListener(P,function R(I){k.once&&A.removeEventListener(P,R),O(I)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A)}return km.exports}var ni=ooe();class tT extends ni.EventEmitter{constructor(e){super(),Object.defineProperties(this,{_attempts:{value:0,writable:!0},_duration:{enumerable:!1,get(){let n=this._min*Math.pow(this._factor,this._attempts);if(this._jitter){const r=Math.random(),i=Math.floor(r*this._jitter*n);n=(Math.floor(r*10)&1)===0?n-i:n+i}return Math.min(n,this._max)|0}},_factor:{value:e.factor||2},_jitter:{value:e.jitter>0&&e.jitter<=1?e.jitter:0},_max:{value:e.max||1e4},_min:{value:e.min||100},_timeoutID:{value:null,writable:!0}})}backoff(){const e=this._duration;this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null),this.emit("backoff",this._attempts,e),this._timeoutID=setTimeout(()=>{this.emit("ready",this._attempts,e),this._attempts++},e)}reset(){this._attempts=0,this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}var cg={exports:{}},soe=cg.exports,VI;function aoe(){return VI||(VI=1,(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(soe,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],o={},s=null;function a(b,y){var _=b[y];if(typeof _.bind=="function")return _.bind(b);try{return Function.prototype.bind.call(_,b)}catch{return function(){return Function.prototype.apply.apply(_,[b,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(b){return b==="debug"&&(b="log"),typeof console===n?!1:b==="trace"&&r?c:console[b]!==void 0?a(console,b):console.log!==void 0?a(console,"log"):e}function f(){for(var b=this.getLevel(),y=0;y<i.length;y++){var _=i[y];this[_]=y<b?e:this.methodFactory(_,b,this.name)}if(this.log=this.debug,typeof console===n&&b<this.levels.SILENT)return"No console available for logging"}function h(b){return function(){typeof console!==n&&(f.call(this),this[b].apply(this,arguments))}}function p(b,y,_){return u(b)||h.apply(this,arguments)}function v(b,y){var _=this,T,S,A,P="loglevel";typeof b=="string"?P+=":"+b:typeof b=="symbol"&&(P=void 0);function O(M){var B=(i[M]||"silent").toUpperCase();if(!(typeof window===n||!P)){try{window.localStorage[P]=B;return}catch{}try{window.document.cookie=encodeURIComponent(P)+"="+B+";"}catch{}}}function k(){var M;if(!(typeof window===n||!P)){try{M=window.localStorage[P]}catch{}if(typeof M===n)try{var B=window.document.cookie,q=encodeURIComponent(P),Y=B.indexOf(q+"=");Y!==-1&&(M=/^([^;]+)/.exec(B.slice(Y+q.length+1))[1])}catch{}return _.levels[M]===void 0&&(M=void 0),M}}function R(){if(!(typeof window===n||!P)){try{window.localStorage.removeItem(P)}catch{}try{window.document.cookie=encodeURIComponent(P)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function I(M){var B=M;if(typeof B=="string"&&_.levels[B.toUpperCase()]!==void 0&&(B=_.levels[B.toUpperCase()]),typeof B=="number"&&B>=0&&B<=_.levels.SILENT)return B;throw new TypeError("log.setLevel() called with invalid level: "+M)}_.name=b,_.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},_.methodFactory=y||p,_.getLevel=function(){return A??S??T},_.setLevel=function(M,B){return A=I(M),B!==!1&&O(A),f.call(_)},_.setDefaultLevel=function(M){S=I(M),k()||_.setLevel(M,!1)},_.resetLevel=function(){A=null,R(),f.call(_)},_.enableAll=function(M){_.setLevel(_.levels.TRACE,M)},_.disableAll=function(M){_.setLevel(_.levels.SILENT,M)},_.rebuild=function(){if(s!==_&&(T=I(s.getLevel())),f.call(_),s===_)for(var M in o)o[M].rebuild()},T=I(s?s.getLevel():"WARN");var L=k();L!=null&&(A=I(L)),f.call(_)}s=new v,s.getLogger=function(y){if(typeof y!="symbol"&&typeof y!="string"||y==="")throw new TypeError("You must supply a name when creating a logger.");var _=o[y];return _||(_=o[y]=new v(y,s.methodFactory)),_};var x=typeof window!==n?window.log:void 0;return s.noConflict=function(){return typeof window!==n&&window.log===s&&(window.log=x),s},s.getLoggers=function(){return o},s.default=s,s})})(cg)),cg.exports}var Wf=aoe();const loe=st(Wf),coe=QC({__proto__:null,default:loe},[Wf]);class Ke extends Error{constructor(e,n){super(),Object.setPrototypeOf(this,Ke.prototype);const r=typeof e=="string"?e:this.explanation,i=typeof e=="object"?e:n;this.message=`${this.name} (${this.code}): ${r}`,this.originalError=i}}var mn;(function(t){class e extends Ke{constructor(o,s){super(o,s),this.causes=[],this.code=20101,this.description="Invalid access token",this.explanation="Twilio was unable to validate your Access Token",this.name="AccessTokenInvalid",this.solutions=[],Object.setPrototypeOf(this,t.AccessTokenInvalid.prototype);const a=typeof o=="string"?o:this.explanation,c=typeof o=="object"?o:s;this.message=`${this.name} (${this.code}): ${a}`,this.originalError=c}}t.AccessTokenInvalid=e;class n extends Ke{constructor(o,s){super(o,s),this.causes=[],this.code=20104,this.description="Access token expired or expiration date invalid",this.explanation="The Access Token provided to the Twilio API has expired, the expiration time specified in the token was invalid, or the expiration time specified was too far in the future",this.name="AccessTokenExpired",this.solutions=[],Object.setPrototypeOf(this,t.AccessTokenExpired.prototype);const a=typeof o=="string"?o:this.explanation,c=typeof o=="object"?o:s;this.message=`${this.name} (${this.code}): ${a}`,this.originalError=c}}t.AccessTokenExpired=n;class r extends Ke{constructor(o,s){super(o,s),this.causes=[],this.code=20151,this.description="Authentication Failed",this.explanation="The Authentication with the provided JWT failed",this.name="AuthenticationFailed",this.solutions=[],Object.setPrototypeOf(this,t.AuthenticationFailed.prototype);const a=typeof o=="string"?o:this.explanation,c=typeof o=="object"?o:s;this.message=`${this.name} (${this.code}): ${a}`,this.originalError=c}}t.AuthenticationFailed=r})(mn||(mn={}));var nT;(function(t){class e extends Ke{constructor(r,i){super(r,i),this.causes=["The access token has an invalid Account SID, API Key, or API Key Secret."],this.code=31202,this.description="Signature validation failed.",this.explanation="The provided access token failed signature validation.",this.name="AccessTokenSignatureValidationFailed",this.solutions=["Ensure the Account SID, API Key, and API Key Secret are valid when generating your access token."],Object.setPrototypeOf(this,t.AccessTokenSignatureValidationFailed.prototype);const o=typeof r=="string"?r:this.explanation,s=typeof r=="object"?r:i;this.message=`${this.name} (${this.code}): ${o}`,this.originalError=s}}t.AccessTokenSignatureValidationFailed=e})(nT||(nT={}));var Ba;(function(t){class e extends Ke{constructor(s,a){super(s,a),this.causes=[],this.code=31400,this.description="Bad Request (HTTP/SIP)",this.explanation="The request could not be understood due to malformed syntax.",this.name="BadRequest",this.solutions=[],Object.setPrototypeOf(this,t.BadRequest.prototype);const c=typeof s=="string"?s:this.explanation,u=typeof s=="object"?s:a;this.message=`${this.name} (${this.code}): ${c}`,this.originalError=u}}t.BadRequest=e;class n extends Ke{constructor(s,a){super(s,a),this.causes=["The outbound call was made to an invalid phone number.","The TwiML application sid is missing a Voice URL."],this.code=31404,this.description="Not Found (HTTP/SIP)",this.explanation="The server has not found anything matching the request.",this.name="NotFound",this.solutions=["Ensure the phone number dialed is valid.","Ensure the TwiML application is configured correctly with a Voice URL link."],Object.setPrototypeOf(this,t.NotFound.prototype);const c=typeof s=="string"?s:this.explanation,u=typeof s=="object"?s:a;this.message=`${this.name} (${this.code}): ${c}`,this.originalError=u}}t.NotFound=n;class r extends Ke{constructor(s,a){super(s,a),this.causes=[],this.code=31480,this.description="Temporarily Unavailable (SIP)",this.explanation="The callee is currently unavailable.",this.name="TemporarilyUnavailable",this.solutions=[],Object.setPrototypeOf(this,t.TemporarilyUnavailable.prototype);const c=typeof s=="string"?s:this.explanation,u=typeof s=="object"?s:a;this.message=`${this.name} (${this.code}): ${c}`,this.originalError=u}}t.TemporarilyUnavailable=r;class i extends Ke{constructor(s,a){super(s,a),this.causes=[],this.code=31486,this.description="Busy Here (SIP)",this.explanation="The callee is busy.",this.name="BusyHere",this.solutions=[],Object.setPrototypeOf(this,t.BusyHere.prototype);const c=typeof s=="string"?s:this.explanation,u=typeof s=="object"?s:a;this.message=`${this.name} (${this.code}): ${c}`,this.originalError=u}}t.BusyHere=i})(Ba||(Ba={}));var rT;(function(t){class e extends Ke{constructor(r,i){super(r,i),this.causes=[],this.code=31603,this.description="Decline (SIP)",this.explanation="The callee does not wish to participate in the call.",this.name="Decline",this.solutions=[],Object.setPrototypeOf(this,t.Decline.prototype);const o=typeof r=="string"?r:this.explanation,s=typeof r=="object"?r:i;this.message=`${this.name} (${this.code}): ${o}`,this.originalError=s}}t.Decline=e})(rT||(rT={}));var Wn;(function(t){class e extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31e3,this.description="Unknown Error",this.explanation="An unknown error has occurred. See error details for more information.",this.name="UnknownError",this.solutions=[],Object.setPrototypeOf(this,t.UnknownError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.UnknownError=e;class n extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31001,this.description="Application Not Found",this.explanation="",this.name="ApplicationNotFoundError",this.solutions=[],Object.setPrototypeOf(this,t.ApplicationNotFoundError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.ApplicationNotFoundError=n;class r extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31002,this.description="Connection Declined",this.explanation="",this.name="ConnectionDeclinedError",this.solutions=[],Object.setPrototypeOf(this,t.ConnectionDeclinedError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.ConnectionDeclinedError=r;class i extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31003,this.description="Connection Timeout",this.explanation="The server could not produce a response within a suitable amount of time.",this.name="ConnectionTimeoutError",this.solutions=[],Object.setPrototypeOf(this,t.ConnectionTimeoutError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.ConnectionTimeoutError=i;class o extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31005,this.description="Connection error",this.explanation="A connection error occurred during the call",this.name="ConnectionError",this.solutions=[],Object.setPrototypeOf(this,t.ConnectionError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.ConnectionError=o;class s extends Ke{constructor(u,f){super(u,f),this.causes=["The incoming call was cancelled because it was not answered in time or it was accepted/rejected by another application instance registered with the same identity."],this.code=31008,this.description="Call cancelled",this.explanation="Unable to answer because the call has ended",this.name="CallCancelledError",this.solutions=[],Object.setPrototypeOf(this,t.CallCancelledError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.CallCancelledError=s;class a extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31009,this.description="Transport error",this.explanation="No transport available to send or receive messages",this.name="TransportError",this.solutions=[],Object.setPrototypeOf(this,t.TransportError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.TransportError=a})(Wn||(Wn={}));var _o;(function(t){class e extends Ke{constructor(u,f){super(u,f),this.causes=["Invalid content or MessageType passed to sendMessage method."],this.code=31100,this.description="The request had malformed syntax.",this.explanation="The request could not be understood due to malformed syntax.",this.name="MalformedRequestError",this.solutions=["Ensure content and MessageType passed to sendMessage method are valid."],Object.setPrototypeOf(this,t.MalformedRequestError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.MalformedRequestError=e;class n extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31101,this.description="Missing parameter array in request",this.explanation="",this.name="MissingParameterArrayError",this.solutions=[],Object.setPrototypeOf(this,t.MissingParameterArrayError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.MissingParameterArrayError=n;class r extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31102,this.description="Authorization token missing in request.",this.explanation="",this.name="AuthorizationTokenMissingError",this.solutions=[],Object.setPrototypeOf(this,t.AuthorizationTokenMissingError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.AuthorizationTokenMissingError=r;class i extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31103,this.description="Maximum parameter length has been exceeded.",this.explanation="Length of parameters cannot exceed MAX_PARAM_LENGTH.",this.name="MaxParameterLengthExceededError",this.solutions=[],Object.setPrototypeOf(this,t.MaxParameterLengthExceededError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.MaxParameterLengthExceededError=i;class o extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31104,this.description="Invalid bridge token",this.explanation="",this.name="InvalidBridgeTokenError",this.solutions=[],Object.setPrototypeOf(this,t.InvalidBridgeTokenError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.InvalidBridgeTokenError=o;class s extends Ke{constructor(u,f){super(u,f),this.causes=["Client name contains invalid characters."],this.code=31105,this.description="Invalid client name",this.explanation="Client name should not contain control, space, delims, or unwise characters.",this.name="InvalidClientNameError",this.solutions=["Make sure that client name does not contain any of the invalid characters."],Object.setPrototypeOf(this,t.InvalidClientNameError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.InvalidClientNameError=s;class a extends Ke{constructor(u,f){super(u,f),this.causes=[],this.code=31107,this.description="The reconnect parameter is invalid",this.explanation="",this.name="ReconnectParameterInvalidError",this.solutions=[],Object.setPrototypeOf(this,t.ReconnectParameterInvalidError.prototype);const h=typeof u=="string"?u:this.explanation,p=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=p}}t.ReconnectParameterInvalidError=a})(_o||(_o={}));(function(t){class e extends Ke{constructor(h,p){super(h,p),this.causes=[],this.code=31201,this.description="Authorization error",this.explanation="The request requires user authentication. The server understood the request, but is refusing to fulfill it.",this.name="AuthorizationError",this.solutions=[],Object.setPrototypeOf(this,t.AuthorizationError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:p;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.AuthorizationError=e;class n extends Ke{constructor(h,p){super(h,p),this.causes=[],this.code=31203,this.description="No valid account",this.explanation="",this.name="NoValidAccountError",this.solutions=[],Object.setPrototypeOf(this,t.NoValidAccountError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:p;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.NoValidAccountError=n;class r extends Ke{constructor(h,p){super(h,p),this.causes=[],this.code=31204,this.description="Invalid JWT token",this.explanation="",this.name="InvalidJWTTokenError",this.solutions=[],Object.setPrototypeOf(this,t.InvalidJWTTokenError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:p;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.InvalidJWTTokenError=r;class i extends Ke{constructor(h,p){super(h,p),this.causes=[],this.code=31205,this.description="JWT token expired",this.explanation="",this.name="JWTTokenExpiredError",this.solutions=[],Object.setPrototypeOf(this,t.JWTTokenExpiredError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:p;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.JWTTokenExpiredError=i;class o extends Ke{constructor(h,p){super(h,p),this.causes=["Rate limit exceeded."],this.code=31206,this.description="Rate exceeded authorized limit.",this.explanation="The request performed exceeds the authorized limit.",this.name="RateExceededError",this.solutions=["Ensure message send rate does not exceed authorized limits."],Object.setPrototypeOf(this,t.RateExceededError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:p;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.RateExceededError=o;class s extends Ke{constructor(h,p){super(h,p),this.causes=[],this.code=31207,this.description="JWT token expiration too long",this.explanation="",this.name="JWTTokenExpirationTooLongError",this.solutions=[],Object.setPrototypeOf(this,t.JWTTokenExpirationTooLongError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:p;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.JWTTokenExpirationTooLongError=s;class a extends Ke{constructor(h,p){super(h,p),this.causes=[],this.code=31209,this.description="Reconnect attempt is not authorized.",this.explanation="",this.name="ReconnectAttemptError",this.solutions=[],Object.setPrototypeOf(this,t.ReconnectAttemptError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:p;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.ReconnectAttemptError=a;class c extends Ke{constructor(h,p){super(h,p),this.causes=["The Call Message Event Type is invalid and is not understood by Twilio Voice."],this.code=31210,this.description="Call Message Event Type is invalid.",this.explanation="The Call Message Event Type is invalid and is not understood by Twilio Voice.",this.name="CallMessageEventTypeInvalidError",this.solutions=["Ensure the Call Message Event Type is Valid and understood by Twilio Voice and try again."],Object.setPrototypeOf(this,t.CallMessageEventTypeInvalidError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:p;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.CallMessageEventTypeInvalidError=c;class u extends Ke{constructor(h,p){super(h,p),this.causes=["The payload size of Call Message Event exceeds the authorized limit."],this.code=31212,this.description="Call Message Event Payload size exceeded authorized limit.",this.explanation="The request performed to send a Call Message Event exceeds the payload size authorized limit",this.name="PayloadSizeExceededError",this.solutions=["Reduce payload size of Call Message Event to be within the authorized limit and try again."],Object.setPrototypeOf(this,t.PayloadSizeExceededError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:p;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.PayloadSizeExceededError=u})(mn||(mn={}));var au;(function(t){class e extends Ke{constructor(i,o){super(i,o),this.causes=["The user denied the getUserMedia request.","The browser denied the getUserMedia request."],this.code=31401,this.description="UserMedia Permission Denied Error",this.explanation="The browser or end-user denied permissions to user media. Therefore we were unable to acquire input audio.",this.name="PermissionDeniedError",this.solutions=["The user should accept the request next time prompted. If the browser saved the deny, the user should change that permission in their browser.","The user should to verify that the browser has permission to access the microphone at this address."],Object.setPrototypeOf(this,t.PermissionDeniedError.prototype);const s=typeof i=="string"?i:this.explanation,a=typeof i=="object"?i:o;this.message=`${this.name} (${this.code}): ${s}`,this.originalError=a}}t.PermissionDeniedError=e;class n extends Ke{constructor(i,o){super(i,o),this.causes=["NotFoundError - The deviceID specified was not found.","The getUserMedia constraints were overconstrained and no devices matched."],this.code=31402,this.description="UserMedia Acquisition Failed Error",this.explanation="The browser and end-user allowed permissions, however getting the media failed. Usually this is due to bad constraints, but can sometimes fail due to browser, OS or hardware issues.",this.name="AcquisitionFailedError",this.solutions=["Ensure the deviceID being specified exists.","Try acquiring media with fewer constraints."],Object.setPrototypeOf(this,t.AcquisitionFailedError.prototype);const s=typeof i=="string"?i:this.explanation,a=typeof i=="object"?i:o;this.message=`${this.name} (${this.code}): ${s}`,this.originalError=a}}t.AcquisitionFailedError=n})(au||(au={}));var ei;(function(t){class e extends Ke{constructor(i,o){super(i,o),this.causes=[],this.code=53e3,this.description="Signaling connection error",this.explanation="Raised whenever a signaling connection error occurs that is not covered by a more specific error code.",this.name="ConnectionError",this.solutions=[],Object.setPrototypeOf(this,t.ConnectionError.prototype);const s=typeof i=="string"?i:this.explanation,a=typeof i=="object"?i:o;this.message=`${this.name} (${this.code}): ${s}`,this.originalError=a}}t.ConnectionError=e;class n extends Ke{constructor(i,o){super(i,o),this.causes=["The device running your application lost its Internet connection."],this.code=53001,this.description="Signaling connection disconnected",this.explanation="Raised whenever the signaling connection is unexpectedly disconnected.",this.name="ConnectionDisconnected",this.solutions=["Ensure the device running your application has access to a stable Internet connection."],Object.setPrototypeOf(this,t.ConnectionDisconnected.prototype);const s=typeof i=="string"?i:this.explanation,a=typeof i=="object"?i:o;this.message=`${this.name} (${this.code}): ${s}`,this.originalError=a}}t.ConnectionDisconnected=n})(ei||(ei={}));var Yi;(function(t){class e extends Ke{constructor(o,s){super(o,s),this.causes=["The Client may not be using a supported WebRTC implementation.","The Client may not have the necessary resources to create or apply a new media description."],this.code=53400,this.description="Client is unable to create or apply a local media description",this.explanation="Raised whenever a Client is unable to create or apply a local media description.",this.name="ClientLocalDescFailed",this.solutions=["If you are experiencing this error using the JavaScript SDK, ensure you are running it with a supported WebRTC implementation."],Object.setPrototypeOf(this,t.ClientLocalDescFailed.prototype);const a=typeof o=="string"?o:this.explanation,c=typeof o=="object"?o:s;this.message=`${this.name} (${this.code}): ${a}`,this.originalError=c}}t.ClientLocalDescFailed=e;class n extends Ke{constructor(o,s){super(o,s),this.causes=["The Client may not be using a supported WebRTC implementation.","The Client may be connecting peer-to-peer with another Participant that is not using a supported WebRTC implementation.","The Client may not have the necessary resources to apply a new media description."],this.code=53402,this.description="Client is unable to apply a remote media description",this.explanation="Raised whenever the Client receives a remote media description but is unable to apply it.",this.name="ClientRemoteDescFailed",this.solutions=["If you are experiencing this error using the JavaScript SDK, ensure you are running it with a supported WebRTC implementation."],Object.setPrototypeOf(this,t.ClientRemoteDescFailed.prototype);const a=typeof o=="string"?o:this.explanation,c=typeof o=="object"?o:s;this.message=`${this.name} (${this.code}): ${a}`,this.originalError=c}}t.ClientRemoteDescFailed=n;class r extends Ke{constructor(o,s){super(o,s),this.causes=["The Client was unable to establish a media connection.","A media connection which was active failed liveliness checks."],this.code=53405,this.description="Media connection failed",this.explanation="Raised by the Client or Server whenever a media connection fails.",this.name="ConnectionError",this.solutions=["If the problem persists, try connecting to another region.","Check your Client's network connectivity.","If you've provided custom ICE Servers then ensure that the URLs and credentials are valid."],Object.setPrototypeOf(this,t.ConnectionError.prototype);const a=typeof o=="string"?o:this.explanation,c=typeof o=="object"?o:s;this.message=`${this.name} (${this.code}): ${a}`,this.originalError=c}}t.ConnectionError=r})(Yi||(Yi={}));const rA=new Map([[20101,mn.AccessTokenInvalid],[20104,mn.AccessTokenExpired],[20151,mn.AuthenticationFailed],[31202,nT.AccessTokenSignatureValidationFailed],[31400,Ba.BadRequest],[31404,Ba.NotFound],[31480,Ba.TemporarilyUnavailable],[31486,Ba.BusyHere],[31603,rT.Decline],[31e3,Wn.UnknownError],[31001,Wn.ApplicationNotFoundError],[31002,Wn.ConnectionDeclinedError],[31003,Wn.ConnectionTimeoutError],[31005,Wn.ConnectionError],[31008,Wn.CallCancelledError],[31009,Wn.TransportError],[31100,_o.MalformedRequestError],[31101,_o.MissingParameterArrayError],[31102,_o.AuthorizationTokenMissingError],[31103,_o.MaxParameterLengthExceededError],[31104,_o.InvalidBridgeTokenError],[31105,_o.InvalidClientNameError],[31107,_o.ReconnectParameterInvalidError],[31201,mn.AuthorizationError],[31203,mn.NoValidAccountError],[31204,mn.InvalidJWTTokenError],[31205,mn.JWTTokenExpiredError],[31206,mn.RateExceededError],[31207,mn.JWTTokenExpirationTooLongError],[31209,mn.ReconnectAttemptError],[31210,mn.CallMessageEventTypeInvalidError],[31212,mn.PayloadSizeExceededError],[31401,au.PermissionDeniedError],[31402,au.AcquisitionFailedError],[53e3,ei.ConnectionError],[53001,ei.ConnectionDisconnected],[53400,Yi.ClientLocalDescFailed],[53402,Yi.ClientRemoteDescFailed],[53405,Yi.ConnectionError]]);Object.freeze(rA);const uoe=new Set([31001,31002,31003,31101,31102,31103,31104,31105,31107,31201,31202,31203,31204,31205,31207,31404,31480,31486,31603]);function iT(t,e){if(!(typeof e!="number"||!foe(e)||!(t||!uoe.has(e))))return doe(e)}class pt extends Error{constructor(e){super(e),this.name="InvalidArgumentError"}}class bi extends Error{constructor(e){super(e),this.name="InvalidStateError"}}class En extends Error{constructor(e){super(e),this.name="NotSupportedError"}}function doe(t){const e=rA.get(t);if(!e)throw new pt(`Error code ${t} not found`);return e}function foe(t){return rA.has(t)}const Jq="@twilio/voice-sdk",Mc="2.17.0",iA="https://sdk.twilio.com/js/client/sounds/releases/1.0.0",hoe=`${iA}/cowbell.mp3?cache=${Mc}`,poe=2e4;class vn{static getLogLevelInstance(e){if(!vn.loglevelInstance)try{vn.loglevelInstance=(e&&e.LogLevelModule?e.LogLevelModule:coe).getLogger(Jq)}catch{console.warn("Cannot create custom logger"),vn.loglevelInstance=console}return vn.loglevelInstance}constructor(e,n){this._log=vn.getLogLevelInstance(n),this._prefix=`[TwilioVoice][${e}]`}debug(...e){this._log.debug(this._prefix,...e)}error(...e){this._log.error(this._prefix,...e)}info(...e){this._log.info(this._prefix,...e)}setDefaultLevel(e){this._log.setDefaultLevel?this._log.setDefaultLevel(e):console.warn("Logger cannot setDefaultLevel")}warn(...e){this._log.warn(this._prefix,...e)}}vn.levels=Wf.levels;vn.getLogLevelInstance();const moe=`${iA}/outgoing.mp3`;class WI{constructor(e,n,r,i){this._name=e,this._availableDevices=n,this._beforeChange=r,this._isSupported=i,this._activeDevices=new Set,this._log=new vn("OutputDeviceCollection")}delete(e){this._log.debug(".delete",e);const n=!!this._activeDevices.delete(e),r=this._availableDevices.get("default")||Array.from(this._availableDevices.values())[0];!this._activeDevices.size&&r&&this._activeDevices.add(r);const i=Array.from(this._activeDevices.values()).map(o=>o.deviceId);return this._beforeChange(this._name,i),!!n}get(){return this._activeDevices}set(e){if(this._log.debug(".set",e),!this._isSupported)return Promise.reject(new En("This browser does not support audio output selection"));const n=Array.isArray(e)?e:[e];if(!n.length)return Promise.reject(new pt("Must specify at least one device to set"));const r=[],i=n.map(o=>{const s=this._availableDevices.get(o);return s||r.push(o),s});return r.length?Promise.reject(new pt(`Devices not found: ${r.join(", ")}`)):new Promise(o=>{o(this._beforeChange(this._name,n))}).then(()=>{this._activeDevices.clear(),i.forEach(this._activeDevices.add,this._activeDevices)})}test(e=moe){return this._isSupported?this._activeDevices.size?Promise.all(Array.from(this._activeDevices).map(n=>{let r;return new Promise(i=>{r=new Audio(e),r.oncanplay=i}).then(()=>r.setSinkId(n.deviceId).then(()=>r.play()))})):Promise.reject(new bi("No active output devices to test")):Promise.reject(new En("This browser does not support audio output selection"))}}class goe{constructor(e){Object.defineProperties(this,{deviceId:{get(){return e.deviceId}},groupId:{get(){return e.groupId}},kind:{get(){return e.kind}},label:{get(){return e.label}}})}}function Ug(t){if(!(this instanceof Ug))return new Ug(t);this.message=t}Ug.prototype.toString=function(){return`Twilio.Exception: ${this.message}`};function Ef(t){return t&&t.length?t.reduce((e,n)=>e+n)/t.length:0}function oA(t,e,n){n=n||(i=>i);const r=new Set(e.map(n));return t.filter(i=>!r.has(n(i)))}function Zq(t){return!!t.userAgent.match("Electron")}function sA(t,e){const n=!!e.userAgent.match("CriOS"),r=!!e.userAgent.match("HeadlessChrome"),i=typeof t.chrome<"u"&&e.vendor==="Google Inc."&&e.userAgent.indexOf("OPR")===-1&&e.userAgent.indexOf("Edge")===-1;return n||Zq(e)||i||r}function voe(t){return t=t||(typeof window>"u"?global.navigator:window.navigator),!!t&&typeof t.userAgent=="string"&&/firefox|fxios/i.test(t.userAgent)}function ay(t){return t=t||(typeof window>"u"?global.navigator:window.navigator),!!t&&typeof t.userAgent=="string"&&/edge\/\d+/i.test(t.userAgent)}function yoe(t){return!!t.vendor&&t.vendor.indexOf("Apple")!==-1&&t.userAgent&&t.userAgent.indexOf("CriOS")===-1&&t.userAgent.indexOf("FxiOS")===-1}function e6(t){return t?t.split("&").reduce((e,n)=>{const r=n.split("="),i=r[0],o=decodeURIComponent((r[1]||"").replace(/\+/g,"%20"));return i&&(e[i]=o),e},{}):""}function oT(t,e){const n=t instanceof Map||t instanceof Set?Array.from(t.values()):t;return e=e||(r=>r),n.reduce((r,i)=>{const o=e(i);return r.concat(o)},[])}function sT(t,e,n){return new Promise((r,i)=>{function o(){t.removeListener(n,s),r()}function s(){t.removeListener(e,o),i()}t.once(e,o),t.once(n,s)})}function t6(t,e){const n=e.map(r=>"audio/"+r.toLowerCase());return t.sort((r,i)=>{const o=n.indexOf(r.mimeType.toLowerCase()),s=n.indexOf(i.mimeType.toLowerCase()),a=o>=0?o:Number.MAX_VALUE,c=s>=0?s:Number.MAX_VALUE;return a-c})}const boe=Ug,n6=Object.freeze(Object.defineProperty({__proto__:null,Exception:boe,average:Ef,difference:oA,flatMap:oT,isChrome:sA,isElectron:Zq,isFirefox:voe,isLegacyEdge:ay,isSafari:yoe,promisifyEvents:sT,queryToJson:e6,sortByMimeTypes:t6},Symbol.toStringTag,{value:"Module"})),woe={audioinput:"Audio Input",audiooutput:"Audio Output"};class aT extends ni.EventEmitter{get audioConstraints(){return this._audioConstraints}get inputDevice(){return this._inputDevice}get inputStream(){return this._localProcessedStream||this._selectedInputDeviceStream}get processedStream(){return this._log.warn("AudioHelper#processedStream is deprecated. Please use AudioHelper#localProcessedStream instead."),this._localProcessedStream}get localProcessedStream(){return this._localProcessedStream}get remoteProcessedStream(){return this._remoteProcessedStream}constructor(e,n,r){super(),this.availableInputDevices=new Map,this.availableOutputDevices=new Map,this._audioConstraints=null,this._defaultInputDeviceStream=null,this._enabledSounds={[_e.SoundName.Disconnect]:!0,[_e.SoundName.Incoming]:!0,[_e.SoundName.Outgoing]:!0},this._inputDevice=null,this._inputDevicePromise=null,this._isPollingInputVolume=!1,this._log=new vn("AudioHelper"),this._localProcessedStream=null,this._remoteProcessedStream=null,this._selectedInputDeviceStream=null,this._unknownDeviceIndexes={audioinput:{},audiooutput:{}},this._updateAvailableDevices=()=>!this._mediaDevices||!this._enumerateDevices?Promise.reject("Enumeration not supported"):this._enumerateDevices().then(a=>{this._updateDevices(a.filter(u=>u.kind==="audiooutput"),this.availableOutputDevices,this._removeLostOutput),this._updateDevices(a.filter(u=>u.kind==="audioinput"),this.availableInputDevices,this._removeLostInput);const c=this.availableOutputDevices.get("default")||Array.from(this.availableOutputDevices.values())[0];[this.speakerDevices,this.ringtoneDevices].forEach(u=>{!u.get().size&&this.availableOutputDevices.size&&this.isOutputSelectionSupported&&u.set(c.deviceId).catch(f=>{this._log.warn(`Unable to set audio output devices. ${f}`)})})}),this._removeLostInput=a=>{if(!this.inputDevice||this.inputDevice.deviceId!==a.deviceId)return!1;this._destroyLocalProcessedStream(),this._replaceStream(null),this._inputDevice=null,this._maybeStopPollingVolume();const c=this.availableInputDevices.get("default")||Array.from(this.availableInputDevices.values())[0];return c&&this.setInputDevice(c.deviceId),!0},this._removeLostOutput=a=>{const c=this.speakerDevices.delete(a),u=this.ringtoneDevices.delete(a);return c||u},r=Object.assign({AudioContext:typeof AudioContext<"u"&&AudioContext,setSinkId:typeof HTMLAudioElement<"u"&&HTMLAudioElement.prototype.setSinkId},r),this._beforeSetInputDevice=r.beforeSetInputDevice||(()=>Promise.resolve()),this._updateUserOptions(r),this._audioProcessorEventObserver=r.audioProcessorEventObserver,this._mediaDevices=r.mediaDevices||navigator.mediaDevices,this._onActiveInputChanged=n,this._enumerateDevices=typeof r.enumerateDevices=="function"?r.enumerateDevices:this._mediaDevices&&this._mediaDevices.enumerateDevices.bind(this._mediaDevices);const i=!!(r.AudioContext||r.audioContext),o=!!this._enumerateDevices;r.enabledSounds&&(this._enabledSounds=r.enabledSounds);const s=typeof r.setSinkId=="function";this.isOutputSelectionSupported=o&&s,this.isVolumeSupported=i,this.isVolumeSupported&&(this._audioContext=r.audioContext||r.AudioContext&&new r.AudioContext,this._audioContext&&(this._inputVolumeAnalyser=this._audioContext.createAnalyser(),this._inputVolumeAnalyser.fftSize=32,this._inputVolumeAnalyser.smoothingTimeConstant=.3)),this.ringtoneDevices=new WI("ringtone",this.availableOutputDevices,e,this.isOutputSelectionSupported),this.speakerDevices=new WI("speaker",this.availableOutputDevices,e,this.isOutputSelectionSupported),this.addListener("newListener",a=>{a==="inputVolume"&&this._maybeStartPollingVolume()}),this.addListener("removeListener",a=>{a==="inputVolume"&&this._maybeStopPollingVolume()}),this.once("newListener",()=>{this.isOutputSelectionSupported||this._log.warn("Warning: This browser does not support audio output selection."),this.isVolumeSupported||this._log.warn("Warning: This browser does not support Twilio's volume indicator feature.")}),o&&this._initializeEnumeration(),navigator&&navigator.permissions&&typeof navigator.permissions.query=="function"?navigator.permissions.query({name:"microphone"}).then(a=>{if(a.state!=="granted"){const c=()=>{this._updateAvailableDevices(),this._stopMicrophonePermissionListener()};a.addEventListener("change",c),this._microphonePermissionStatus=a,this._onMicrophonePermissionStatusChanged=c}}).catch(a=>this._log.warn(`Warning: unable to listen for microphone permission changes. ${a}`)):this._log.warn("Warning: current browser does not support permissions API.")}_destroy(){this._stopDefaultInputDeviceStream(),this._stopSelectedInputDeviceStream(),this._destroyLocalProcessedStream(),this._destroyRemoteProcessedStream(),this._maybeStopPollingVolume(),this.removeAllListeners(),this._stopMicrophonePermissionListener(),this._unbind()}_destroyRemoteProcessedStream(){if(this._remoteProcessor&&this._remoteProcessedStream){this._log.info("destroying remote processed stream");const e=this._remoteProcessedStream;this._remoteProcessedStream.getTracks().forEach(n=>n.stop()),this._remoteProcessedStream=null,this._remoteProcessor.destroyProcessedStream(e),this._audioProcessorEventObserver.emit("destroy",!0)}}_getInputDevicePromise(){return this._inputDevicePromise}_getAudioProcessorEventObserver(){return this._audioProcessorEventObserver}_maybeCreateRemoteProcessedStream(e){return this._remoteProcessor?(this._log.info("Creating remote processed stream"),this._remoteProcessor.createProcessedStream(e).then(n=>(this._remoteProcessedStream=n,this._audioProcessorEventObserver.emit("create",!0),this._remoteProcessedStream))):Promise.resolve(e)}_maybeStartPollingVolume(){if(!this.isVolumeSupported||!this.inputStream||(this._updateVolumeSource(),this._isPollingInputVolume||!this._inputVolumeAnalyser))return;const e=this._inputVolumeAnalyser.frequencyBinCount,n=new Uint8Array(e);this._isPollingInputVolume=!0;const r=()=>{if(this._isPollingInputVolume){if(this._inputVolumeAnalyser){this._inputVolumeAnalyser.getByteFrequencyData(n);const i=Ef(n);this.emit("inputVolume",i/255)}requestAnimationFrame(r)}};requestAnimationFrame(r)}_maybeStopPollingVolume(){this.isVolumeSupported&&(!this._isPollingInputVolume||this.inputStream&&this.listenerCount("inputVolume")||(this._inputVolumeSource&&(this._inputVolumeSource.disconnect(),delete this._inputVolumeSource),this._isPollingInputVolume=!1))}_openDefaultDeviceWithConstraints(e){return this._log.info("Opening default device with constraints",e),this._getUserMedia(e).then(n=>(this._log.info("Opened default device. Updating available devices."),this._updateAvailableDevices().catch(r=>{this._log.warn("Unable to updateAvailableDevices after gUM call",r)}),this._defaultInputDeviceStream=n,this._maybeCreateLocalProcessedStream(n)))}_stopDefaultInputDeviceStream(){this._defaultInputDeviceStream&&(this._log.info("stopping default device stream"),this._defaultInputDeviceStream.getTracks().forEach(e=>e.stop()),this._defaultInputDeviceStream=null,this._destroyLocalProcessedStream())}_unbind(){var e;!((e=this._mediaDevices)===null||e===void 0)&&e.removeEventListener&&this._mediaDevices.removeEventListener("devicechange",this._updateAvailableDevices)}_updateUserOptions(e){typeof e.enumerateDevices=="function"&&(this._enumerateDevices=e.enumerateDevices),typeof e.getUserMedia=="function"&&(this._getUserMedia=e.getUserMedia)}addProcessor(e,n=!1){if(this._log.debug(".addProcessor"),this._localProcessor&&!n)throw new En("Can only have one Local AudioProcessor at a time.");if(this._remoteProcessor&&n)throw new En("Can only have one Remote AudioProcessor at a time.");if(typeof e!="object"||e===null)throw new pt("Missing AudioProcessor argument.");if(typeof e.createProcessedStream!="function")throw new pt("Missing createProcessedStream() method.");if(typeof e.destroyProcessedStream!="function")throw new pt("Missing destroyProcessedStream() method.");return n?(this._remoteProcessor=e,this._audioProcessorEventObserver.emit("add",!0),Promise.resolve()):(this._localProcessor=e,this._audioProcessorEventObserver.emit("add",!1),this._restartInputStreams())}disconnect(e){return this._log.debug(".disconnect",e),this._maybeEnableSound(_e.SoundName.Disconnect,e)}incoming(e){return this._log.debug(".incoming",e),this._maybeEnableSound(_e.SoundName.Incoming,e)}outgoing(e){return this._log.debug(".outgoing",e),this._maybeEnableSound(_e.SoundName.Outgoing,e)}removeProcessor(e,n=!1){if(this._log.debug(".removeProcessor"),typeof e!="object"||e===null)throw new pt("Missing AudioProcessor argument.");if(this._localProcessor!==e&&!n)throw new pt("Cannot remove a Local AudioProcessor that has not been previously added.");if(this._remoteProcessor!==e&&n)throw new pt("Cannot remove a Remote AudioProcessor that has not been previously added.");return n?(this._destroyRemoteProcessedStream(),this._remoteProcessor=null,this._audioProcessorEventObserver.emit("remove",!0),Promise.resolve()):(this._destroyLocalProcessedStream(),this._localProcessor=null,this._audioProcessorEventObserver.emit("remove",!1),this._restartInputStreams())}setAudioConstraints(e){return this._log.debug(".setAudioConstraints",e),this._audioConstraints=Object.assign({},e),delete this._audioConstraints.deviceId,this.inputDevice?this._setInputDevice(this.inputDevice.deviceId,!0):Promise.resolve()}setInputDevice(e){return this._log.debug(".setInputDevice",e),this._setInputDevice(e,!1)}unsetAudioConstraints(){return this._log.debug(".unsetAudioConstraints"),this._audioConstraints=null,this.inputDevice?this._setInputDevice(this.inputDevice.deviceId,!0):Promise.resolve()}unsetInputDevice(){return this._log.debug(".unsetInputDevice",this.inputDevice),this.inputDevice?(this._destroyLocalProcessedStream(),this._onActiveInputChanged(null).then(()=>{this._replaceStream(null),this._inputDevice=null,this._maybeStopPollingVolume()})):Promise.resolve()}_destroyLocalProcessedStream(){if(this._localProcessor&&this._localProcessedStream){this._log.info("destroying local processed stream");const e=this._localProcessedStream;this._localProcessedStream.getTracks().forEach(n=>n.stop()),this._localProcessedStream=null,this._localProcessor.destroyProcessedStream(e),this._audioProcessorEventObserver.emit("destroy",!1)}}_getUnknownDeviceIndex(e){const n=e.deviceId,r=e.kind;let i=this._unknownDeviceIndexes[r][n];return i||(i=Object.keys(this._unknownDeviceIndexes[r]).length+1,this._unknownDeviceIndexes[r][n]=i),i}_initializeEnumeration(){if(!this._mediaDevices||!this._enumerateDevices)throw new En("Enumeration is not supported");this._mediaDevices.addEventListener&&this._mediaDevices.addEventListener("devicechange",this._updateAvailableDevices),this._updateAvailableDevices().then(()=>{this.isOutputSelectionSupported&&Promise.all([this.speakerDevices.set("default"),this.ringtoneDevices.set("default")]).catch(e=>{this._log.warn(`Warning: Unable to set audio output devices. ${e}`)})})}_maybeCreateLocalProcessedStream(e){return this._localProcessor?(this._log.info("Creating local processed stream"),this._localProcessor.createProcessedStream(e).then(n=>(this._localProcessedStream=n,this._audioProcessorEventObserver.emit("create",!1),this._localProcessedStream))):Promise.resolve(e)}_maybeEnableSound(e,n){return typeof n<"u"&&(this._enabledSounds[e]=n),this._enabledSounds[e]}_replaceStream(e){this._log.info("Replacing with new stream."),this._selectedInputDeviceStream&&(this._log.info("Old stream detected. Stopping tracks."),this._stopSelectedInputDeviceStream()),this._selectedInputDeviceStream=e}_restartInputStreams(){if(this.inputDevice&&this._selectedInputDeviceStream)return this._log.info("Restarting selected input device"),this._setInputDevice(this.inputDevice.deviceId,!0);if(this._defaultInputDeviceStream){const e=this.availableInputDevices.get("default")||Array.from(this.availableInputDevices.values())[0];return this._log.info("Restarting default input device, now becoming selected."),this._setInputDevice(e.deviceId,!0)}return Promise.resolve()}_setInputDevice(e,n){return ge(this,void 0,void 0,function*(){const r=()=>ge(this,void 0,void 0,function*(){if(yield this._beforeSetInputDevice(),typeof e!="string")return Promise.reject(new pt("Must specify the device to set"));const i=this.availableInputDevices.get(e);if(!i)return Promise.reject(new pt(`Device not found: ${e}`));if(this._log.info("Setting input device. ID: "+e),this._inputDevice&&this._inputDevice.deviceId===e&&this._selectedInputDeviceStream){if(!n)return Promise.resolve();this._log.info("Same track detected on setInputDevice, stopping old tracks."),this._stopSelectedInputDeviceStream()}this._stopDefaultInputDeviceStream();const o={audio:Object.assign({deviceId:{exact:e}},this.audioConstraints)};return this._log.info("setInputDevice: getting new tracks."),this._getUserMedia(o).then(s=>(this._destroyLocalProcessedStream(),this._maybeCreateLocalProcessedStream(s).then(a=>(this._log.info("setInputDevice: invoking _onActiveInputChanged."),this._onActiveInputChanged(a).then(()=>{this._replaceStream(s),this._inputDevice=i,this._maybeStartPollingVolume()})))))});return this._inputDevicePromise=r().finally(()=>{this._inputDevicePromise=null})})}_stopMicrophonePermissionListener(){var e;!((e=this._microphonePermissionStatus)===null||e===void 0)&&e.removeEventListener&&this._microphonePermissionStatus.removeEventListener("change",this._onMicrophonePermissionStatusChanged)}_stopSelectedInputDeviceStream(){this._selectedInputDeviceStream&&(this._log.info("Stopping selected device stream"),this._selectedInputDeviceStream.getTracks().forEach(e=>e.stop()))}_updateDevices(e,n,r){const i=e.map(u=>u.deviceId),o=Array.from(n.values()).map(u=>u.deviceId),s=[],a=oA(o,i);a.forEach(u=>{const f=n.get(u);f&&(n.delete(u),r(f)&&s.push(f))});let c=!1;if(e.forEach(u=>{const f=n.get(u.deviceId),h=this._wrapMediaDeviceInfo(u);(!f||f.label!==h.label)&&(n.set(u.deviceId,h),c=!0)}),c||a.length){const u="default",f=this.inputDevice&&this.inputDevice.deviceId===u,h=this._defaultInputDeviceStream&&this.availableInputDevices.get(u);(f||h)&&(this._log.warn("Calling getUserMedia after device change to ensure that the           tracks of the active device (default) have not gone stale."),setTimeout(()=>{this._setInputDevice(u,!0)},0)),this._log.debug("#deviceChange",s),this.emit("deviceChange",s)}}_updateVolumeSource(){if(!(!this.inputStream||!this._audioContext||!this._inputVolumeAnalyser)){this._inputVolumeSource&&this._inputVolumeSource.disconnect();try{this._inputVolumeSource=this._audioContext.createMediaStreamSource(this.inputStream),this._inputVolumeSource.connect(this._inputVolumeAnalyser)}catch(e){this._log.warn("Unable to update volume source",e),delete this._inputVolumeSource}}}_wrapMediaDeviceInfo(e){const n={deviceId:e.deviceId,groupId:e.groupId,kind:e.kind,label:e.label};if(!n.label)if(n.deviceId==="default")n.label="Default";else{const r=this._getUnknownDeviceIndex(e);n.label=`Unknown ${woe[n.kind]} Device ${r}`}return new goe(n)}}aT||(aT={});var xoe=aT;class _oe extends ni.EventEmitter{constructor(){super(),this._log=new vn("AudioProcessorEventObserver"),this._log.info("Creating AudioProcessorEventObserver instance"),this.on("enabled",e=>this._reEmitEvent("enabled",e)),this.on("add",e=>this._reEmitEvent("add",e)),this.on("remove",e=>this._reEmitEvent("remove",e)),this.on("create",e=>this._reEmitEvent("create-processed-stream",e)),this.on("destroy",e=>this._reEmitEvent("destroy-processed-stream",e))}destroy(){this.removeAllListeners()}_reEmitEvent(e,n){this._log.info(`${n?"Remote":"Local"} AudioProcessor:${e}`),this.emit("event",{name:e,group:"audio-processor",isRemote:n})}}const Soe={dtmf0:[1360,960],dtmf1:[1230,720],dtmf2:[1360,720],dtmf3:[1480,720],dtmf4:[1230,790],dtmf5:[1360,790],dtmf6:[1480,790],dtmf7:[1230,870],dtmf8:[1360,870],dtmf9:[1480,870],dtmfh:[1480,960],dtmfs:[1230,960]};class Poe{constructor(e){this._context=e,this._gainNodes=[],this._gainNodes=[this._context.createGain(),this._context.createGain()],this._gainNodes.forEach(n=>{n.connect(this._context.destination),n.gain.value=.1,this._gainNodes.push(n)})}cleanup(){this._gainNodes.forEach(e=>{e.disconnect()})}play(e){const n=Soe[e];if(!n)throw new pt("Invalid DTMF sound name");[this._context.createOscillator(),this._context.createOscillator()].forEach((i,o)=>{i.type="sine",i.frequency.value=n[o],i.connect(this._gainNodes[o]),i.start(),i.stop(this._context.currentTime+.1),i.addEventListener("ended",()=>i.disconnect())})}}function Toe(t,e,n){const r=JSON.stringify(e.body||{}),i=new Headers;e.headers=e.headers||[],Object.entries(e.headers).forEach(([o,s])=>i.append(o,s)),fetch(e.url,{body:r,headers:i,method:t}).then(o=>o.text(),n).then(o=>n(null,o),n)}const aA=Toe;aA.get=function(e,n){return new this("GET",e,n)};aA.post=function(e,n){return new this("POST",e,n)};class ir extends ni.EventEmitter{constructor(e,n,r){if(super(),!(this instanceof ir))return new ir(e,n,r);r=Object.assign({defaultPayload(){return{}}},r);let i=r.defaultPayload;typeof i!="function"&&(i=()=>Object.assign({},r.defaultPayload));let o=!0;const s=Object.assign({app_name:void 0,app_version:void 0},r.metadata);Object.defineProperties(this,{_defaultPayload:{value:i},_host:{value:r.host,writable:!0},_isEnabled:{get(){return o},set(a){o=a}},_log:{value:new vn("EventPublisher")},_request:{value:r.request||aA,writable:!0},_token:{value:n,writable:!0},isEnabled:{enumerable:!0,get(){return o}},metadata:{enumerable:!0,get(){return s}},productName:{enumerable:!0,value:e},token:{enumerable:!0,get(){return this._token}}})}}ir.prototype._post=function(e,n,r,i,o,s,a){if(!this.isEnabled&&!a||!this._host)return this._log.debug("Publishing cancelled",JSON.stringify({isEnabled:this.isEnabled,force:a,host:this._host})),Promise.resolve();if(!s||(!s.parameters||!s.parameters.CallSid)&&!s.outboundConnectionId)return s?this._log.debug("Publishing cancelled. Missing connection info",JSON.stringify({outboundConnectionId:s.outboundConnectionId,parameters:s.parameters})):this._log.debug("Publishing cancelled. Missing connection object"),Promise.resolve();const c={group:r,level:n.toUpperCase(),name:i,payload:o&&o.forEach?o.slice(0):Object.assign(this._defaultPayload(s),o),payload_type:"application/json",private:!1,publisher:this.productName,timestamp:new Date().toISOString()};this.metadata&&(c.publisher_metadata=this.metadata),e==="EndpointEvents"&&this._log.debug("Publishing insights",JSON.stringify({endpointName:e,event:c,force:a,host:this._host}));const u={body:c,headers:{"Content-Type":"application/json","X-Twilio-Token":this.token},url:`https://${this._host}/v4/${e}`};return new Promise((f,h)=>{this._request.post(u,p=>{p?(this.emit("error",p),h(p)):f()})}).catch(f=>{this._log.error(`Unable to post ${r} ${i} event to Insights. Received error: ${f}`)})};ir.prototype.post=function(e,n,r,i,o,s){return this._post("EndpointEvents",e,n,r,i,o,s)};ir.prototype.debug=function(e,n,r,i){return this.post("debug",e,n,r,i)};ir.prototype.info=function(e,n,r,i){return this.post("info",e,n,r,i)};ir.prototype.warn=function(e,n,r,i){return this.post("warning",e,n,r,i)};ir.prototype.error=function(e,n,r,i){return this.post("error",e,n,r,i)};ir.prototype.postMetrics=function(e,n,r,i,o){return new Promise(s=>{const a=r.map(Coe).map(c=>Object.assign(c,i));s(this._post("EndpointMetrics","info",e,n,a,o))})};ir.prototype.setHost=function(e){this._host=e};ir.prototype.setToken=function(e){this._token=e};ir.prototype.enable=function(){this._isEnabled=!0};ir.prototype.disable=function(){this._isEnabled=!1};function Coe(t){return{audio_codec:t.codecName,audio_level_in:t.audioInputLevel,audio_level_out:t.audioOutputLevel,bytes_received:t.bytesReceived,bytes_sent:t.bytesSent,call_volume_input:t.inputVolume,call_volume_output:t.outputVolume,jitter:t.jitter,mos:t.mos&&Math.round(t.mos*100)/100,packets_lost:t.packetsLost,packets_lost_fraction:t.packetsLostFraction&&Math.round(t.packetsLostFraction*100)/100,packets_received:t.packetsReceived,rtt:t.rtt,timestamp:new Date(t.timestamp).toISOString(),total_bytes_received:t.totals.bytesReceived,total_bytes_sent:t.totals.bytesSent,total_packets_lost:t.totals.packetsLost,total_packets_received:t.totals.packetsReceived,total_packets_sent:t.totals.packetsSent}}const zI=32767,HI=typeof window<"u"?window.RTCStatsReport:void 0;function Ci(t){if(!(this instanceof Ci))return new Ci(t);const e=this;Object.defineProperties(this,{_map:{value:t},size:{enumerable:!0,get(){return e._map.size}}}),this[Symbol.iterator]=t[Symbol.iterator]}HI&&(Ci.prototype=Object.create(HI.prototype),Ci.prototype.constructor=Ci);["entries","forEach","get","has","keys","values"].forEach(t=>{Ci.prototype[t]=function(...e){return this._map[t](...e)}});Ci.fromArray=function(e){return new Ci(e.reduce((n,r)=>(n.set(r.id,r),n),new Map))};Ci.fromRTCStatsResponse=function(e){let n;const r=new Map,i=e.result().reduce((o,s)=>{const a=s.id;switch(s.type){case"googCertificate":o.set(a,Roe(s));break;case"datachannel":o.set(a,Noe(s));break;case"googCandidatePair":i6(s,"googActiveConnection")&&(n=a),o.set(a,joe(s));break;case"localcandidate":o.set(a,KI(s,!1));break;case"remotecandidate":o.set(a,KI(s,!0));break;case"ssrc":ol(s,"packetsReceived")?o.set(`rtp-${a}`,Ooe(s)):o.set(`rtp-${a}`,koe(s)),o.set(`track-${a}`,Aoe(s)),o.set(`codec-${a}`,Eoe(s));break;case"googComponent":const c=GI(s);r.set(c.selectedCandidatePairId,a),o.set(a,GI(s));break}return o},new Map);if(n){const o=r.get(n);o&&(i.get(o).dtlsState="connected")}return new Ci(i)};function GI(t){return{bytesReceived:void 0,bytesSent:void 0,dtlsState:void 0,id:t.id,localCertificateId:t.stat("localCertificateId"),remoteCertificateId:t.stat("remoteCertificateId"),rtcpTransportStatsId:void 0,selectedCandidatePairId:t.stat("selectedCandidatePairId"),timestamp:Date.parse(t.timestamp),type:"transport"}}function Eoe(t){return{channels:void 0,clockRate:void 0,id:t.id,implementation:void 0,mimeType:`${t.stat("mediaType")}/${t.stat("googCodecName")}`,payloadType:void 0,sdpFmtpLine:void 0,timestamp:Date.parse(t.timestamp),type:"codec"}}function Aoe(t){return{audioLevel:ol(t,"audioOutputLevel")?bt(t,"audioOutputLevel")/zI:(bt(t,"audioInputLevel")||0)/zI,detached:void 0,echoReturnLoss:cT(t,"googEchoCancellationReturnLoss"),echoReturnLossEnhancement:cT(t,"googEchoCancellationReturnLossEnhancement"),ended:void 0,frameHeight:ol(t,"googFrameHeightReceived")?bt(t,"googFrameHeightReceived"):bt(t,"googFrameHeightSent"),frameWidth:ol(t,"googFrameWidthReceived")?bt(t,"googFrameWidthReceived"):bt(t,"googFrameWidthSent"),framesCorrupted:void 0,framesDecoded:bt(t,"framesDecoded"),framesDropped:void 0,framesPerSecond:void 0,framesReceived:void 0,framesSent:bt(t,"framesEncoded"),fullFramesLost:void 0,id:t.id,kind:t.stat("mediaType"),partialFramesLost:void 0,remoteSource:void 0,ssrcIds:void 0,timestamp:Date.parse(t.timestamp),trackIdentifier:t.stat("googTrackId"),type:"track"}}function r6(t,e){return{associateStatsId:void 0,codecId:`codec-${t.id}`,firCount:e?bt(t,"googFirsSent"):void 0,id:t.id,isRemote:void 0,mediaType:t.stat("mediaType"),nackCount:e?bt(t,"googNacksSent"):bt(t,"googNacksReceived"),pliCount:e?bt(t,"googPlisSent"):bt(t,"googPlisReceived"),qpSum:bt(t,"qpSum"),sliCount:void 0,ssrc:t.stat("ssrc"),timestamp:Date.parse(t.timestamp),trackId:`track-${t.id}`,transportId:t.stat("transportId")}}function Ooe(t){const e=r6(t,!0);return Object.assign(e,{burstDiscardCount:void 0,burstDiscardRate:void 0,burstLossCount:void 0,burstLossRate:void 0,burstPacketsDiscarded:void 0,burstPacketsLost:void 0,bytesReceived:bt(t,"bytesReceived"),fractionLost:void 0,framesDecoded:bt(t,"framesDecoded"),gapDiscardRate:void 0,gapLossRate:void 0,jitter:lT(t.stat("googJitterReceived")),packetsDiscarded:void 0,packetsLost:bt(t,"packetsLost"),packetsReceived:bt(t,"packetsReceived"),packetsRepaired:void 0,roundTripTime:lT(t.stat("googRtt")),type:"inbound-rtp"}),e}function koe(t){const e=r6(t,!1);return Object.assign(e,{bytesSent:bt(t,"bytesSent"),framesEncoded:bt(t,"framesEncoded"),packetsSent:bt(t,"packetsSent"),remoteTimestamp:void 0,targetBitrate:void 0,type:"outbound-rtp"}),e}function KI(t,e){return{candidateType:Ioe(t.stat("candidateType")),deleted:void 0,id:t.id,ip:t.stat("ipAddress"),isRemote:e,port:bt(t,"portNumber"),priority:cT(t,"priority"),protocol:t.stat("transport"),relayProtocol:void 0,timestamp:Date.parse(t.timestamp),transportId:void 0,type:e?"remote-candidate":"local-candidate",url:void 0}}function joe(t){return{availableIncomingBitrate:void 0,availableOutgoingBitrate:void 0,bytesReceived:bt(t,"bytesReceived"),bytesSent:bt(t,"bytesSent"),consentRequestsSent:bt(t,"consentRequestsSent"),currentRoundTripTime:lT(t.stat("googRtt")),id:t.id,lastPacketReceivedTimestamp:void 0,lastPacketSentTimestamp:void 0,localCandidateId:t.stat("localCandidateId"),nominated:void 0,priority:void 0,readable:void 0,remoteCandidateId:t.stat("remoteCandidateId"),requestsReceived:bt(t,"requestsReceived"),requestsSent:bt(t,"requestsSent"),responsesReceived:bt(t,"responsesReceived"),responsesSent:bt(t,"responsesSent"),retransmissionsReceived:void 0,retransmissionsSent:void 0,state:void 0,timestamp:Date.parse(t.timestamp),totalRoundTripTime:void 0,transportId:t.stat("googChannelId"),type:"candidate-pair",writable:i6(t,"googWritable")}}function Roe(t){return{base64Certificate:t.stat("googDerBase64"),fingerprint:t.stat("googFingerprint"),fingerprintAlgorithm:t.stat("googFingerprintAlgorithm"),id:t.id,issuerCertificateId:t.stat("googIssuerId"),timestamp:Date.parse(t.timestamp),type:"certificate"}}function Noe(t){return{bytesReceived:void 0,bytesSent:void 0,datachannelid:t.stat("datachannelid"),id:t.id,label:t.stat("label"),messagesReceived:void 0,messagesSent:void 0,protocol:t.stat("protocol"),state:t.stat("state"),timestamp:Date.parse(t.timestamp),transportId:t.stat("transportId"),type:"data-channel"}}function lT(t){return isNaN(t)||t===""?void 0:parseInt(t,10)/1e3}function Ioe(t){switch(t){case"peerreflexive":return"prflx";case"serverreflexive":return"srflx";case"host":case"relay":default:return t}}function bt(t,e){const n=t.stat(e);return ol(t,e)?parseInt(n,10):void 0}function cT(t,e){const n=t.stat(e);return ol(t,e)?parseFloat(n):void 0}function i6(t,e){const n=t.stat(e);return ol(t,e)?n==="true"||n===!0:void 0}function ol(t,e){const n=t.stat(e);return typeof n<"u"&&n!==""}const Moe="PeerConnection is null",Doe="WebRTC statistics are unsupported";function cc(t,e){return typeof t.get=="function"?t.get(e):t.find(n=>n.id===e)}function o6(t){if(!t)return Promise.reject(new pt(Moe));if(typeof t.getStats!="function")return Promise.reject(new En(Doe));let e;try{e=t.getStats()}catch{e=new Promise(r=>t.getStats(r)).then(Ci.fromRTCStatsResponse)}return e}function $oe(t,e){return e=Object.assign({createRTCSample:Boe},e),o6(t).then(e.createRTCSample)}function Loe(t){return o6(t).then(e=>{const{candidatePairs:n,localCandidates:r,remoteCandidates:i,transport:o}=Array.from(e.values()).reduce((c,u)=>{switch(["candidatePairs","localCandidates","remoteCandidates"].forEach(f=>{c[f]||(c[f]=[])}),u.type){case"candidate-pair":c.candidatePairs.push(u);break;case"local-candidate":c.localCandidates.push(u);break;case"remote-candidate":c.remoteCandidates.push(u);break;case"transport":u.selectedCandidatePairId&&(c.transport=u);break}return c},{}),s=n.find(c=>c.selected||o&&c.id===o.selectedCandidatePairId);let a;return s&&(a={localCandidate:r.find(c=>c.id===s.localCandidateId),remoteCandidate:i.find(c=>c.id===s.remoteCandidateId)}),{iceCandidateStats:[...r,...i],selectedIceCandidatePairStats:a}})}function Foe(){}function Boe(t){let e=null;const n=new Foe;let r;Array.from(t.values()).forEach(c=>{if(c.isRemote)return;const u=c.type.replace("-","");if(r=r||c.timestamp,c.remoteId){const f=cc(t,c.remoteId);f&&f.roundTripTime&&(n.rtt=f.roundTripTime*1e3)}switch(u){case"inboundrtp":n.timestamp=n.timestamp||c.timestamp,n.jitter=c.jitter*1e3,n.packetsLost=c.packetsLost,n.packetsReceived=c.packetsReceived,n.bytesReceived=c.bytesReceived;break;case"outboundrtp":if(n.timestamp=c.timestamp,n.packetsSent=c.packetsSent,n.bytesSent=c.bytesSent,c.codecId){const f=cc(t,c.codecId);n.codecName=f?f.mimeType&&f.mimeType.match(/(.*\/)?(.*)/)[2]:c.codecId}break;case"transport":e=c.id;break}}),n.timestamp||(n.timestamp=r);const i=cc(t,e);if(!i)return n;const o=cc(t,i.selectedCandidatePairId);if(!o)return n;const s=cc(t,o.localCandidateId),a=cc(t,o.remoteCandidateId);return n.rtt||(n.rtt=o&&o.currentRoundTripTime*1e3),Object.assign(n,{localAddress:s&&(s.address||s.ip),remoteAddress:a&&(a.address||a.ip)}),n}class Lt extends ni.EventEmitter{constructor(e,n){super(),this._hasInsightsErrored=!1,this._log=new vn("PreflightTest"),this._networkTiming={},this._options={codecPreferences:[xe.Codec.PCMU,xe.Codec.Opus],edge:"roaming",fakeMicInput:!1,logLevel:"error",signalingTimeoutMs:1e4},this._status=Lt.Status.Connecting,Object.assign(this._options,n),this._samples=[],this._warnings=[],this._startTime=Date.now(),this._initDevice(e,Object.assign(Object.assign({},this._options),{fileInputStream:this._options.fakeMicInput?this._getStreamFromFile():void 0}));const r=["codecPreferences","edge","fakeMicInput","logLevel","signalingTimeoutMs"],i=["audioContext","deviceFactory","fileInputStream","getRTCIceCandidateStatsReport","iceServers","rtcConfiguration"];if(typeof n=="object"){const o=Object.assign({},n);Object.keys(o).forEach(s=>{!r.includes(s)&&!i.includes(s)&&delete o[s],i.includes(s)&&(o[s]=!0)}),this._log.debug(".constructor",JSON.stringify(o))}}stop(){this._log.debug(".stop");const e=new Wn.CallCancelledError;this._device?(this._device.once(_e.EventName.Unregistered,()=>this._onFailed(e)),this._device.destroy()):this._onFailed(e)}_emitWarning(e,n,r){const i={name:e,description:n};r&&(i.rtcWarning=r),this._warnings.push(i),this._log.debug(`#${Lt.Events.Warning}`,JSON.stringify(i)),this.emit(Lt.Events.Warning,i)}_getCallQuality(e){return e>4.2?Lt.CallQuality.Excellent:e>=4.1&&e<=4.2?Lt.CallQuality.Great:e>=3.7&&e<=4?Lt.CallQuality.Good:e>=3.1&&e<=3.6?Lt.CallQuality.Fair:Lt.CallQuality.Degraded}_getReport(){var e,n,r;const i=this._getRTCStats(),o={start:this._startTime};this._endTime&&(o.end=this._endTime,o.duration=this._endTime-this._startTime);const s={callSid:this._callSid,edge:this._edge,iceCandidateStats:(n=(e=this._rtcIceCandidateStatsReport)===null||e===void 0?void 0:e.iceCandidateStats)!==null&&n!==void 0?n:[],networkTiming:this._networkTiming,samples:this._samples,selectedEdge:this._options.edge,stats:i,testTiming:o,totals:this._getRTCSampleTotals(),warnings:this._warnings},a=(r=this._rtcIceCandidateStatsReport)===null||r===void 0?void 0:r.selectedIceCandidatePairStats;return a&&(s.selectedIceCandidatePairStats=a,s.isTurnRequired=a.localCandidate.candidateType==="relay"||a.remoteCandidate.candidateType==="relay"),i&&(s.callQuality=this._getCallQuality(i.mos.average)),s}_getRTCSampleTotals(){if(this._latestSample)return Object.assign({},this._latestSample.totals)}_getRTCStats(){const e=this._samples.findIndex(r=>typeof r.mos=="number"&&r.mos>0),n=e>=0?this._samples.slice(e):[];if(!(!n||!n.length))return["jitter","mos","rtt"].reduce((r,i)=>{const o=n.map(s=>s[i]);return Object.assign(Object.assign({},r),{[i]:{average:Number((o.reduce((s,a)=>s+a)/o.length).toPrecision(5)),max:Math.max(...o),min:Math.min(...o)}})},{})}_getStreamFromFile(){const e=this._options.audioContext;if(!e)throw new En("Cannot fake input audio stream: AudioContext is not supported by this browser.");const n=new Audio(hoe);n.addEventListener("canplaythrough",()=>n.play()),typeof n.setAttribute=="function"&&n.setAttribute("crossorigin","anonymous");const r=e.createMediaElementSource(n),i=e.createMediaStreamDestination();return r.connect(i),i.stream}_initDevice(e,n){try{this._device=new(n.deviceFactory||_e)(e,{chunderw:n.chunderw,codecPreferences:n.codecPreferences,edge:n.edge,eventgw:n.eventgw,fileInputStream:n.fileInputStream,logLevel:n.logLevel,preflight:!0}),this._device.once(_e.EventName.Registered,()=>{this._onDeviceRegistered()}),this._device.once(_e.EventName.Error,r=>{this._onDeviceError(r)}),this._device.register()}catch(r){setTimeout(()=>{this._onFailed(r)});return}this._signalingTimeoutTimer=setTimeout(()=>{this._onDeviceError(new ei.ConnectionError("WebSocket Connection Timeout"))},n.signalingTimeoutMs)}_onDeviceError(e){this._device.destroy(),this._onFailed(e)}_onDeviceRegistered(){return ge(this,void 0,void 0,function*(){if(clearTimeout(this._echoTimer),clearTimeout(this._signalingTimeoutTimer),this._call=yield this._device.connect({rtcConfiguration:this._options.rtcConfiguration}),this._networkTiming.signaling={start:Date.now()},this._setupCallHandlers(this._call),this._edge=this._device.edge||void 0,this._options.fakeMicInput){this._echoTimer=setTimeout(()=>this._device.disconnectAll(),poe);const n=this._device.audio;n&&(n.disconnect(!1),n.outgoing(!1))}this._call.once("disconnect",()=>{this._device.once(_e.EventName.Unregistered,()=>this._onUnregistered()),this._device.destroy()}),this._call._publisher.on("error",()=>{this._hasInsightsErrored||this._emitWarning("insights-connection-error","Received an error when attempting to connect to Insights gateway"),this._hasInsightsErrored=!0})})}_onFailed(e){clearTimeout(this._echoTimer),clearTimeout(this._signalingTimeoutTimer),this._releaseHandlers(),this._endTime=Date.now(),this._status=Lt.Status.Failed,this._log.debug(`#${Lt.Events.Failed}`,e),this.emit(Lt.Events.Failed,e)}_onUnregistered(){setTimeout(()=>{this._status!==Lt.Status.Failed&&(clearTimeout(this._echoTimer),clearTimeout(this._signalingTimeoutTimer),this._releaseHandlers(),this._endTime=Date.now(),this._status=Lt.Status.Completed,this._report=this._getReport(),this._log.debug(`#${Lt.Events.Completed}`,JSON.stringify(this._report)),this.emit(Lt.Events.Completed,this._report))},10)}_releaseHandlers(){[this._device,this._call].forEach(e=>{e&&e.eventNames().forEach(n=>e.removeAllListeners(n))})}_setupCallHandlers(e){this._options.fakeMicInput&&e.once("volume",()=>{e._mediaHandler.outputs.forEach(n=>n.audio.muted=!0)}),e.on("warning",(n,r)=>{this._emitWarning(n,"Received an RTCWarning. See .rtcWarning for the RTCWarning",r)}),e.once("accept",()=>{this._callSid=e._mediaHandler.callSid,this._status=Lt.Status.Connected,this._log.debug(`#${Lt.Events.Connected}`),this.emit(Lt.Events.Connected)}),e.on("sample",n=>ge(this,void 0,void 0,function*(){this._latestSample||(this._rtcIceCandidateStatsReport=yield(this._options.getRTCIceCandidateStatsReport||Loe)(e._mediaHandler.version.pc)),this._latestSample=n,this._samples.push(n),this._log.debug(`#${Lt.Events.Sample}`,JSON.stringify(n)),this.emit(Lt.Events.Sample,n)})),[{reportLabel:"peerConnection",type:"pcconnection"},{reportLabel:"ice",type:"iceconnection"},{reportLabel:"dtls",type:"dtlstransport"},{reportLabel:"signaling",type:"signaling"}].forEach(({type:n,reportLabel:r})=>{const i=`on${n}statechange`,o=e._mediaHandler[i];e._mediaHandler[i]=s=>{const a=this._networkTiming[r]=this._networkTiming[r]||{start:0};s==="connecting"||s==="checking"?a.start=Date.now():(s==="connected"||s==="stable")&&!a.duration&&(a.end=Date.now(),a.duration=a.end-a.start),o(s)}})}get callSid(){return this._callSid}get endTime(){return this._endTime}get latestSample(){return this._latestSample}get report(){return this._report}get startTime(){return this._startTime}get status(){return this._status}}(function(t){(function(e){e.Excellent="excellent",e.Great="great",e.Good="good",e.Fair="fair",e.Degraded="degraded"})(t.CallQuality||(t.CallQuality={})),(function(e){e.Completed="completed",e.Connected="connected",e.Failed="failed",e.Sample="sample",e.Warning="warning"})(t.Events||(t.Events={})),(function(e){e.Connecting="connecting",e.Connected="connected",e.Completed="completed",e.Failed="failed"})(t.Status||(t.Status={}))})(Lt||(Lt={}));const xc=globalThis.WebSocket,Uoe=1e4,qoe=5e3,YI=15e3,Voe=15e3,Woe=1/0,zoe=1e3,Hoe=2e4;var Er;(function(t){t.Connecting="connecting",t.Closed="closed",t.Open="open"})(Er||(Er={}));class ly extends ni.EventEmitter{constructor(e,n={}){super(),this.state=Er.Closed,this._backoffStartTime={preferred:null,primary:null},this._connectedUri=null,this._log=new vn("WSTransport"),this._shouldFallback=!1,this._uriIndex=0,this._moveUriIndex=()=>{this._uriIndex++,this._uriIndex>=this._uris.length&&(this._uriIndex=0)},this._onSocketClose=r=>{if(this._log.error(`Received websocket close event code: ${r.code}. Reason: ${r.reason}`),r.code===1006||r.code===1015){this.emit("error",{code:31005,message:r.reason||"Websocket connection to Twilio's signaling servers were unexpectedly ended. If this is happening consistently, there may be an issue resolving the hostname provided. If a region or an edge is being specified in Device setup, ensure it is valid.",twilioError:new ei.ConnectionError});const i=this.state===Er.Open||this._previousState===Er.Open;(this._shouldFallback||!i)&&this._moveUriIndex(),this._shouldFallback=!0}this._closeSocket()},this._onSocketError=r=>{this._log.error(`WebSocket received error: ${r.message}`),this.emit("error",{code:31e3,message:r.message||"WSTransport socket error",twilioError:new ei.ConnectionDisconnected})},this._onSocketMessage=r=>{if(this._setHeartbeatTimeout(),this._socket&&r.data===`
`){this._socket.send(`
`),this._log.debug("heartbeat");return}r&&typeof r.data=="string"&&this._log.debug(`Received: ${r.data}`),this.emit("message",r)},this._onSocketOpen=()=>{this._log.info("WebSocket opened successfully."),this._timeOpened=Date.now(),this._shouldFallback=!1,this._setState(Er.Open),clearTimeout(this._connectTimeout),this._resetBackoffs(),this._setHeartbeatTimeout(),this.emit("open")},this._options=Object.assign(Object.assign({},ly.defaultConstructorOptions),n),this._uris=e,this._backoff=this._setupBackoffs()}close(){this._log.info("WSTransport.close() called..."),this._close()}open(){if(this._log.info("WSTransport.open() called..."),this._socket&&(this._socket.readyState===xc.CONNECTING||this._socket.readyState===xc.OPEN)){this._log.info("WebSocket already open.");return}this._preferredUri?this._connect(this._preferredUri):this._connect(this._uris[this._uriIndex])}send(e){if(this._log.debug(`Sending: ${e}`),!this._socket||this._socket.readyState!==xc.OPEN)return this._log.debug("Cannot send message. WebSocket is not open."),!1;try{this._socket.send(e)}catch(n){return this._log.error("Error while sending message:",n.message),this._closeSocket(),!1}return!0}updatePreferredURI(e){this._preferredUri=e}updateURIs(e){typeof e=="string"&&(e=[e]),this._uris=e,this._uriIndex=0}_close(){this._setState(Er.Closed),this._closeSocket()}_closeSocket(){if(clearTimeout(this._connectTimeout),clearTimeout(this._heartbeatTimeout),this._log.info("Closing and cleaning up WebSocket..."),!this._socket){this._log.info("No WebSocket to clean up.");return}this._socket.removeEventListener("close",this._onSocketClose),this._socket.removeEventListener("error",this._onSocketError),this._socket.removeEventListener("message",this._onSocketMessage),this._socket.removeEventListener("open",this._onSocketOpen),(this._socket.readyState===xc.CONNECTING||this._socket.readyState===xc.OPEN)&&this._socket.close(),this._timeOpened&&Date.now()-this._timeOpened>Uoe&&this._resetBackoffs(),this.state!==Er.Closed&&this._performBackoff(),delete this._socket,this.emit("close")}_connect(e,n){this._log.info(typeof n=="number"?`Attempting to reconnect (retry #${n})...`:"Attempting to connect..."),this._closeSocket(),this._setState(Er.Connecting),this._connectedUri=e;try{this._socket=new this._options.WebSocket(this._connectedUri)}catch(r){this._log.error("Could not connect to endpoint:",r.message),this._close(),this.emit("error",{code:31e3,message:r.message||`Could not connect to ${this._connectedUri}`,twilioError:new ei.ConnectionDisconnected});return}this._socket.addEventListener("close",this._onSocketClose),this._socket.addEventListener("error",this._onSocketError),this._socket.addEventListener("message",this._onSocketMessage),this._socket.addEventListener("open",this._onSocketOpen),delete this._timeOpened,this._connectTimeout=setTimeout(()=>{this._log.info("WebSocket connection attempt timed out."),this._moveUriIndex(),this._closeSocket()},this._options.connectTimeoutMs)}_performBackoff(){this._preferredUri?(this._log.info("Preferred URI set; backing off."),this._backoff.preferred.backoff()):(this._log.info("Preferred URI not set; backing off."),this._backoff.primary.backoff())}_resetBackoffs(){this._backoff.preferred.reset(),this._backoff.primary.reset(),this._backoffStartTime.preferred=null,this._backoffStartTime.primary=null}_setHeartbeatTimeout(){clearTimeout(this._heartbeatTimeout),this._heartbeatTimeout=setTimeout(()=>{this._log.info(`No messages received in ${YI/1e3} seconds. Reconnecting...`),this._shouldFallback=!0,this._closeSocket()},YI)}_setState(e){this._previousState=this.state,this.state=e}_setupBackoffs(){const e={factor:2,jitter:.4,max:this._options.maxPreferredDelayMs,min:100};this._log.info("Initializing preferred transport backoff using config: ",e);const n=new tT(e);n.on("backoff",(o,s)=>{if(this.state===Er.Closed){this._log.info("Preferred backoff initiated but transport state is closed; not attempting a connection.");return}this._log.info(`Will attempt to reconnect Websocket to preferred URI in ${s}ms`),o===0&&(this._backoffStartTime.preferred=Date.now(),this._log.info(`Preferred backoff start; ${this._backoffStartTime.preferred}`))}),n.on("ready",(o,s)=>{if(this.state===Er.Closed){this._log.info("Preferred backoff ready but transport state is closed; not attempting a connection.");return}if(this._backoffStartTime.preferred===null){this._log.info("Preferred backoff start time invalid; not attempting a connection.");return}if(Date.now()-this._backoffStartTime.preferred>this._options.maxPreferredDurationMs){this._log.info("Max preferred backoff attempt time exceeded; falling back to primary backoff."),this._preferredUri=null,this._backoff.primary.backoff();return}if(typeof this._preferredUri!="string"){this._log.info("Preferred URI cleared; falling back to primary backoff."),this._preferredUri=null,this._backoff.primary.backoff();return}this._connect(this._preferredUri,o+1)});const r={factor:2,jitter:.4,max:this._options.maxPrimaryDelayMs,min:this._uris&&this._uris.length>1?Math.floor(Math.random()*4001)+1e3:100};this._log.info("Initializing primary transport backoff using config: ",r);const i=new tT(r);return i.on("backoff",(o,s)=>{if(this.state===Er.Closed){this._log.info("Primary backoff initiated but transport state is closed; not attempting a connection.");return}this._log.info(`Will attempt to reconnect WebSocket in ${s}ms`),o===0&&(this._backoffStartTime.primary=Date.now(),this._log.info(`Primary backoff start; ${this._backoffStartTime.primary}`))}),i.on("ready",(o,s)=>{if(this.state===Er.Closed){this._log.info("Primary backoff ready but transport state is closed; not attempting a connection.");return}if(this._backoffStartTime.primary===null){this._log.info("Primary backoff start time invalid; not attempting a connection.");return}if(Date.now()-this._backoffStartTime.primary>this._options.maxPrimaryDurationMs){this._log.info("Max primary backoff attempt time exceeded; not attempting a connection.");return}this._connect(this._uris[this._uriIndex],o+1)}),{preferred:n,primary:i}}get uri(){return this._connectedUri}}ly.defaultConstructorOptions={WebSocket:xc,connectTimeoutMs:qoe,maxPreferredDelayMs:zoe,maxPreferredDurationMs:Voe,maxPrimaryDelayMs:Hoe,maxPrimaryDurationMs:Woe};const Goe="1.6",Koe=30;class jt extends ni.EventEmitter{constructor(e,n,r){if(super(),!(this instanceof jt))return new jt(e,n,r);const i={TransportFactory:ly};r=r||{};for(const s in i)s in r||(r[s]=i[s]);this.options=r,this.token=e||"",this.status="disconnected",this.gateway=null,this.region=null,this._messageQueue=[],this._preferredUri=null,this._uris=n,this._handleTransportClose=this._handleTransportClose.bind(this),this._handleTransportError=this._handleTransportError.bind(this),this._handleTransportMessage=this._handleTransportMessage.bind(this),this._handleTransportOpen=this._handleTransportOpen.bind(this),this._log=new vn("PStream"),this.on("error",()=>{this._log.warn("Unexpected error handled in pstream")});const o=this;return this.addListener("ready",()=>{o.status="ready"}),this.addListener("offline",()=>{o.status="offline"}),this.addListener("close",()=>{o._log.info('Received "close" from server. Destroying PStream...'),o._destroy()}),this.transport=new this.options.TransportFactory(this._uris,{backoffMaxMs:this.options.backoffMaxMs,maxPreferredDurationMs:this.options.maxPreferredDurationMs}),Object.defineProperties(this,{uri:{enumerable:!0,get(){return this.transport.uri}}}),this.transport.on("close",this._handleTransportClose),this.transport.on("error",this._handleTransportError),this.transport.on("message",this._handleTransportMessage),this.transport.on("open",this._handleTransportOpen),this.transport.open(),this}}jt.prototype._handleTransportClose=function(){this.emit("transportClose"),this.status!=="disconnected"&&(this.status!=="offline"&&this.emit("offline",this),this.status="disconnected")};jt.prototype._handleTransportError=function(t){if(!t){this.emit("error",{error:{code:31e3,message:"Websocket closed without a provided reason",twilioError:new ei.ConnectionDisconnected}});return}this.emit("error",typeof t.code<"u"?{error:t}:t)};jt.prototype._handleTransportMessage=function(t){if(!t||!t.data||typeof t.data!="string")return;const{type:e,payload:n={}}=JSON.parse(t.data);this.gateway=n.gateway||this.gateway,this.region=n.region||this.region,e==="error"&&n.error&&(n.error.twilioError=new ei.ConnectionError),this.emit(e,n)};jt.prototype._handleTransportOpen=function(){this.status="connected",this.setToken(this.token),this.emit("transportOpen"),this._messageQueue.splice(0,this._messageQueue.length).forEach(e=>this._publish(...e))};jt.toString=()=>"[Twilio.PStream class]";jt.prototype.toString=()=>"[Twilio.PStream instance]";jt.prototype.setToken=function(t){this._log.info("Setting token and publishing listen"),this.token=t;let e=0;const n=this.options.maxPreferredDurationMs;this._log.info(`maxPreferredDurationMs:${n}`),typeof n=="number"&&n>=0&&(e=Math.min(Math.ceil(n/1e3),Koe)),this._log.info(`reconnectTimeout:${e}`);const r={browserinfo:Yoe(),reconnectTimeout:e,token:t};this._publish("listen",r)};jt.prototype.sendMessage=function(t,e,n="application/json",r,i){const o={callsid:t,content:e,contenttype:n,messagetype:r,voiceeventsid:i};this._publish("message",o,!0)};jt.prototype.register=function(t){const e={media:t};this._publish("register",e,!0)};jt.prototype.invite=function(t,e,n){const r={callsid:e,sdp:t,twilio:n?{params:n}:{}};this._publish("invite",r,!0)};jt.prototype.reconnect=function(t,e,n){const r={callsid:e,reconnect:n,sdp:t,twilio:{}};this._publish("invite",r,!0)};jt.prototype.answer=function(t,e){this._publish("answer",{sdp:t,callsid:e},!0)};jt.prototype.dtmf=function(t,e){this._publish("dtmf",{callsid:t,dtmf:e},!0)};jt.prototype.hangup=function(t,e){const n=e?{callsid:t,message:e}:{callsid:t};this._publish("hangup",n,!0)};jt.prototype.reject=function(t){this._publish("reject",{callsid:t},!0)};jt.prototype.reinvite=function(t,e){this._publish("reinvite",{sdp:t,callsid:e},!1)};jt.prototype._destroy=function(){this.transport.removeListener("close",this._handleTransportClose),this.transport.removeListener("error",this._handleTransportError),this.transport.removeListener("message",this._handleTransportMessage),this.transport.removeListener("open",this._handleTransportOpen),this.transport.close(),this.emit("offline",this)};jt.prototype.destroy=function(){return this._log.info("PStream.destroy() called..."),this._destroy(),this};jt.prototype.updatePreferredURI=function(t){this._preferredUri=t,this.transport.updatePreferredURI(t)};jt.prototype.updateURIs=function(t){this._uris=t,this.transport.updateURIs(this._uris)};jt.prototype.publish=function(t,e){return this._publish(t,e,!0)};jt.prototype._publish=function(t,e,n){const r=JSON.stringify({payload:e,type:t,version:Goe});!!this.transport.send(r)||(this.emit("error",{error:{code:31009,message:"No transport available to send or receive messages",twilioError:new Wn.TransportError}}),n&&this._messageQueue.push([t,e,!0]))};function Yoe(){const t=typeof navigator<"u"?navigator:{};return{browser:{platform:t.platform||"unknown",userAgent:t.userAgent||"unknown"},p:"browser",plugin:"rtc",v:Mc}}var zt;(function(t){t.Sydney="sydney",t.SaoPaulo="sao-paulo",t.Dublin="dublin",t.Frankfurt="frankfurt",t.Tokyo="tokyo",t.Singapore="singapore",t.Ashburn="ashburn",t.Umatilla="umatilla",t.Roaming="roaming",t.AshburnIx="ashburn-ix",t.SanJoseIx="san-jose-ix",t.LondonIx="london-ix",t.FrankfurtIx="frankfurt-ix",t.SingaporeIx="singapore-ix",t.SydneyIx="sydney-ix",t.TokyoIx="tokyo-ix"})(zt||(zt={}));var ht;(function(t){t.Au1="au1",t.Au1Ix="au1-ix",t.Br1="br1",t.De1="de1",t.De1Ix="de1-ix",t.Gll="gll",t.Ie1="ie1",t.Ie1Ix="ie1-ix",t.Ie1Tnx="ie1-tnx",t.Jp1="jp1",t.Jp1Ix="jp1-ix",t.Sg1="sg1",t.Sg1Ix="sg1-ix",t.Sg1Tnx="sg1-tnx",t.Us1="us1",t.Us1Ix="us1-ix",t.Us1Tnx="us1-tnx",t.Us2="us2",t.Us2Ix="us2-ix",t.Us2Tnx="us2-tnx"})(ht||(ht={}));const Xoe={ASIAPAC_SINGAPORE:ht.Sg1,ASIAPAC_SYDNEY:ht.Au1,ASIAPAC_TOKYO:ht.Jp1,EU_FRANKFURT:ht.De1,EU_IRELAND:ht.Ie1,SOUTH_AMERICA_SAO_PAULO:ht.Br1,US_EAST_VIRGINIA:ht.Us1,US_WEST_OREGON:ht.Us2},Qoe={[ht.Au1]:zt.Sydney,[ht.Br1]:zt.SaoPaulo,[ht.Ie1]:zt.Dublin,[ht.De1]:zt.Frankfurt,[ht.Jp1]:zt.Tokyo,[ht.Sg1]:zt.Singapore,[ht.Us1]:zt.Ashburn,[ht.Us2]:zt.Umatilla,[ht.Gll]:zt.Roaming,[ht.Us1Ix]:zt.AshburnIx,[ht.Us2Ix]:zt.SanJoseIx,[ht.Ie1Ix]:zt.LondonIx,[ht.De1Ix]:zt.FrankfurtIx,[ht.Sg1Ix]:zt.SingaporeIx,[ht.Au1Ix]:zt.SydneyIx,[ht.Jp1Ix]:zt.TokyoIx,[ht.Us1Tnx]:zt.AshburnIx,[ht.Us2Tnx]:zt.AshburnIx,[ht.Ie1Tnx]:zt.LondonIx,[ht.Sg1Tnx]:zt.SingaporeIx},Joe=zt.Roaming,Zoe="eventgw.twilio.com";function XI(t){return`voice-js.${t}.twilio.com`}function QI(t){return t?`eventgw.${t}.twilio.com`:Zoe}function JI(t){return`wss://${t}/signal`}function ZI(t){if(t&&typeof t!="string"&&!Array.isArray(t))throw new pt("If `edge` is provided, it must be of type `string` or an array of strings.");let e;return t?e=(Array.isArray(t)?t:[t]).map(r=>XI(r)):e=[XI(Joe)],e}function ese(t){return Xoe[t]||null}const e2={0:"PCMU",8:"PCMA"},tse=111,nse=51e4,rse=6e3;function ise(t){const[,e,n]=/a=rtpmap:(\d+) (\S+)/m.exec(t)||[null,"",""],r=new RegExp(`a=fmtp:${e} (\\S+)`,"m"),[,i]=r.exec(t)||[null,""];return{codecName:n,codecParams:i}}function ose(t){return sA(window,window.navigator)?t.split(`
`).filter(e=>e.indexOf("a=ice-lite")===-1).join(`
`):t}function s6(t,e){if(typeof e!="number"||e<rse||e>nse)return t;const n=/a=rtpmap:(\d+) opus/m.exec(t),r=n&&n.length?n[1]:tse,i=new RegExp(`a=fmtp:${r}`);return t.split(`
`).map(s=>i.test(s)?s+`;maxaveragebitrate=${e}`:s).join(`
`)}function a6(t,e){const n=sse(t);return[t.split(`\r
m=`)[0]].concat(n.map(i=>{if(!/^m=(audio|video)/.test(i))return i;const o=i.match(/^m=(audio|video)/)[1],s=ase(i),a=lse(s,e),c=cse(a,i),u=s.get("pcma")||[],f=s.get("pcmu")||[];return(o==="audio"?new Set(u.concat(f)):new Set).has(a[0])?c.replace(/\r\nb=(AS|TIAS):([0-9]+)/g,""):c})).join(`\r
`)}function sse(t,e,n){return t.replace(/\r\n\r\n$/,`\r
`).split(`\r
m=`).slice(1).map(r=>`m=${r}`).filter(r=>{const i=new RegExp("m=.*","gm"),o=new RegExp("a=.*","gm");return i.test(r)&&o.test(r)})}function ase(t){return Array.from(use(t)).reduce((e,n)=>{const r=n[0],i=n[1],o=e.get(i)||[];return e.set(i,o.concat(r))},new Map)}function lse(t,e){e=e.map(o=>o.toLowerCase());const n=oT(e,o=>t.get(o)||[]),r=oA(Array.from(t.keys()),e),i=oT(r,o=>t.get(o));return n.concat(i)}function cse(t,e){const n=e.split(`\r
`);let r=n[0];const i=n.slice(1);return r=r.replace(/([0-9]+\s?)+$/,t.join(" ")),[r].concat(i).join(`\r
`)}function use(t){return dse(t).reduce((e,n)=>{const r=new RegExp(`a=rtpmap:${n} ([^/]+)`),i=t.match(r),o=i?i[1].toLowerCase():e2[n]?e2[n].toLowerCase():"";return e.set(n,o)},new Map)}function dse(t){const n=t.split(`\r
`)[0].match(/([0-9]+)/g);return n?n.slice(1).map(r=>parseInt(r,10)):[]}function Mr(t){if(this.log=new vn("RTCPC"),typeof window>"u"){this.log.info("No RTCPeerConnection implementation available. The window object was not found.");return}t&&t.RTCPeerConnection?this.RTCPeerConnection=t.RTCPeerConnection:typeof window.RTCPeerConnection=="function"?this.RTCPeerConnection=window.RTCPeerConnection:typeof window.webkitRTCPeerConnection=="function"?this.RTCPeerConnection=webkitRTCPeerConnection:typeof window.mozRTCPeerConnection=="function"?(this.RTCPeerConnection=mozRTCPeerConnection,window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate):this.log.info("No RTCPeerConnection implementation available")}Mr.prototype.create=function(t){this.pc=new this.RTCPeerConnection(t)};Mr.prototype.createModernConstraints=t=>{if(typeof t>"u")return null;const e=Object.assign({},t);return typeof webkitRTCPeerConnection<"u"&&!ay()?(e.mandatory={},typeof t.audio<"u"&&(e.mandatory.OfferToReceiveAudio=t.audio),typeof t.video<"u"&&(e.mandatory.OfferToReceiveVideo=t.video)):(typeof t.audio<"u"&&(e.offerToReceiveAudio=t.audio),typeof t.video<"u"&&(e.offerToReceiveVideo=t.video)),delete e.audio,delete e.video,e};Mr.prototype.createOffer=function(t,e,n,r){return e=this.createModernConstraints(e),c6(this.pc.createOffer,this.pc)(e).then(i=>{if(!this.pc)return Promise.resolve();const o=s6(i.sdp,t);return cy(this.pc.setLocalDescription,this.pc)(new RTCSessionDescription({sdp:o,type:"offer"}))}).then(n,r)};Mr.prototype.createAnswer=function(t,e,n,r){return e=this.createModernConstraints(e),c6(this.pc.createAnswer,this.pc)(e).then(i=>{if(!this.pc)return Promise.resolve();const o=s6(i.sdp,t);return cy(this.pc.setLocalDescription,this.pc)(new RTCSessionDescription({sdp:o,type:"answer"}))}).then(n,r)};Mr.prototype.processSDP=function(t,e,n,r,i,o){n=a6(n,e);const s=new RTCSessionDescription({sdp:n,type:"offer"});return cy(this.pc.setRemoteDescription,this.pc)(s).then(()=>{this.createAnswer(t,r,i,o)})};Mr.prototype.getSDP=function(){return this.pc.localDescription.sdp};Mr.prototype.processAnswer=function(t,e,n,r){return this.pc?(e=a6(e,t),cy(this.pc.setRemoteDescription,this.pc)(new RTCSessionDescription({sdp:e,type:"answer"})).then(n,r)):Promise.resolve()};Mr.test=()=>{if(typeof navigator=="object"){const t=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.getUserMedia;if(ay(navigator))return!1;if(t&&typeof window.RTCPeerConnection=="function")return!0;if(t&&typeof window.webkitRTCPeerConnection=="function")return!0;if(t&&typeof window.mozRTCPeerConnection=="function"){try{if(typeof new window.mozRTCPeerConnection().getLocalStreams!="function")return!1}catch{return!1}return!0}else if(typeof RTCIceGatherer<"u")return!0}return!1};function l6(t,e,n,r){return function(){const i=Array.prototype.slice.call(arguments);return new Promise(o=>{const s=t.apply(e,i);if(!r){o(s);return}if(typeof s=="object"&&typeof s.then=="function")o(s);else throw new Error}).catch(()=>new Promise((o,s)=>{t.apply(e,n?[o,s].concat(i):i.concat([o,s]))}))}}function c6(t,e){return l6(t,e,!0,!0)}function cy(t,e){return l6(t,e,!1,!1)}const fse=15e3,hse="none",pse="timeout",mse="new",t2=50;function Fe(t,e,n){if(!t||!e)throw new pt("Audiohelper, and pstream are required arguments");if(!(this instanceof Fe))return new Fe(t,e,n);this._log=new vn("PeerConnection");function r(){this._log.warn("Unexpected noop call in peerconnection")}this.onaudio=r,this.onopen=r,this.onerror=r,this.onclose=r,this.ondisconnected=r,this.onfailed=r,this.onconnected=r,this.onreconnected=r,this.onsignalingstatechange=r,this.ondtlstransportstatechange=r,this.onicegatheringfailure=r,this.onicegatheringstatechange=r,this.oniceconnectionstatechange=r,this.onpcconnectionstatechange=r,this.onicecandidate=r,this.onselectedcandidatepairchange=r,this.onvolume=r,this.version=null,this.pstream=e,this.stream=null,this.sinkIds=new Set(["default"]),this.outputs=new Map,this.status="connecting",this.callSid=null,this.isMuted=!1;const i=typeof window<"u"&&(window.AudioContext||window.webkitAudioContext);return this._isSinkSupported=!!i&&typeof HTMLAudioElement<"u"&&HTMLAudioElement.prototype.setSinkId,this._audioContext=i&&t._audioContext,this._audioHelper=t,this._audioProcessorEventObserver=t._getAudioProcessorEventObserver(),this._hasIceCandidates=!1,this._hasIceGatheringFailures=!1,this._iceGatheringTimeoutId=null,this._masterAudio=null,this._masterAudioDeviceId=null,this._mediaStreamSource=null,this._dtmfSender=null,this._dtmfSenderUnsupported=!1,this._callEvents=[],this._nextTimeToPublish=Date.now(),this._onAnswerOrRinging=r,this._onHangup=r,this._remoteStream=null,this._shouldManageStream=!0,this._iceState=mse,this.options=n=n||{},this.navigator=n.navigator||(typeof navigator<"u"?navigator:null),this.util=n.util||n6,this.codecPreferences=n.codecPreferences,this._onAudioProcessorAdded=o=>{this._handleAudioProcessorEvent(o,!0)},this._onAudioProcessorRemoved=o=>{this._handleAudioProcessorEvent(o,!1)},this._audioProcessorEventObserver.on("add",this._onAudioProcessorAdded),this._audioProcessorEventObserver.on("remove",this._onAudioProcessorRemoved),this}Fe.prototype.uri=function(){return this._uri};Fe.prototype.openDefaultDeviceWithConstraints=function(t){return this._audioHelper._openDefaultDeviceWithConstraints(t).then(this._setInputTracksFromStream.bind(this,!1))};Fe.prototype.setInputTracksFromStream=function(t){const e=this;return this._setInputTracksFromStream(!0,t).then(()=>{e._shouldManageStream=!1})};Fe.prototype._createAnalyser=(t,e)=>{e=Object.assign({fftSize:32,smoothingTimeConstant:.3},e);const n=t.createAnalyser();for(const r in e)n[r]=e[r];return n};Fe.prototype._setVolumeHandler=function(t){this.onvolume=t};Fe.prototype._startPollingVolume=function(){if(!this._audioContext||!this.stream||!this._remoteStream)return;const t=this._audioContext,n=(this._inputAnalyser=this._createAnalyser(t)).frequencyBinCount,r=new Uint8Array(n);this._inputAnalyser2=this._createAnalyser(t,{maxDecibels:0,minDecibels:-127,smoothingTimeConstant:0});const o=(this._outputAnalyser=this._createAnalyser(t)).frequencyBinCount,s=new Uint8Array(o);this._outputAnalyser2=this._createAnalyser(t,{maxDecibels:0,minDecibels:-127,smoothingTimeConstant:0}),this._updateInputStreamSource(this.stream),this._updateOutputStreamSource(this._remoteStream);const a=this;setTimeout(function c(){if(a._audioContext){if(a.status==="closed"){a._inputAnalyser.disconnect(),a._outputAnalyser.disconnect(),a._inputAnalyser2.disconnect(),a._outputAnalyser2.disconnect();return}}else return;a._inputAnalyser.getByteFrequencyData(r);const u=a.util.average(r);a._inputAnalyser2.getByteFrequencyData(r);const f=a.util.average(r);a._outputAnalyser.getByteFrequencyData(s);const h=a.util.average(s);a._outputAnalyser2.getByteFrequencyData(s);const p=a.util.average(s);a.onvolume(u/255,h/255,f,p),setTimeout(c,t2)},t2)};Fe.prototype._stopStream=function(){this._shouldManageStream&&this._audioHelper._stopDefaultInputDeviceStream()};Fe.prototype._updateInputStreamSource=function(t){this._inputStreamSource&&this._inputStreamSource.disconnect();try{this._inputStreamSource=this._audioContext.createMediaStreamSource(t),this._inputStreamSource.connect(this._inputAnalyser),this._inputStreamSource.connect(this._inputAnalyser2)}catch(e){this._log.warn("Unable to update input MediaStreamSource",e),this._inputStreamSource=null}};Fe.prototype._updateOutputStreamSource=function(t){this._outputStreamSource&&this._outputStreamSource.disconnect();try{this._outputStreamSource=this._audioContext.createMediaStreamSource(t),this._outputStreamSource.connect(this._outputAnalyser),this._outputStreamSource.connect(this._outputAnalyser2)}catch(e){this._log.warn("Unable to update output MediaStreamSource",e),this._outputStreamSource=null}};Fe.prototype._setInputTracksFromStream=function(t,e){if(!e)return Promise.reject(new pt("Can not set input stream to null while in a call"));if(!e.getAudioTracks().length)return Promise.reject(new pt("Supplied input stream has no audio tracks"));const n=this.stream,r=()=>(this.mute(this.isMuted),Promise.resolve(this.stream));if(!n)this.stream=t?n2(e,this.options.MediaStream):e;else return this._shouldManageStream&&this._stopStream(),this._sender||(this._sender=this.version.pc.getSenders()[0]),this._sender.replaceTrack(e.getAudioTracks()[0]).then(()=>(this._updateInputStreamSource(e),this.stream=t?n2(e,this.options.MediaStream):e,r()));return r()};Fe.prototype._onInputDevicesChanged=function(){if(!this.stream)return;this.stream.getAudioTracks().every(e=>e.readyState==="ended")&&this._shouldManageStream&&this.openDefaultDeviceWithConstraints({audio:!0})};Fe.prototype._onIceGatheringFailure=function(t){this._hasIceGatheringFailures=!0,this.onicegatheringfailure(t)};Fe.prototype._onMediaConnectionStateChange=function(t){const e=this._iceState;if(e===t||t!=="connected"&&t!=="disconnected"&&t!=="failed")return;this._iceState=t;let n;switch(t){case"connected":e==="disconnected"||e==="failed"?(n="ICE liveliness check succeeded. Connection with Twilio restored",this._log.info(n),this.onreconnected(n)):(n="Media connection established.",this._log.info(n),this.onconnected(n)),this._stopIceGatheringTimeout(),this._hasIceGatheringFailures=!1;break;case"disconnected":n="ICE liveliness check failed. May be having trouble connecting to Twilio",this._log.warn(n),this.ondisconnected(n);break;case"failed":n="Connection with Twilio was interrupted.",this._log.warn(n),this.onfailed(n);break}};Fe.prototype._setSinkIds=function(t){return this._isSinkSupported?(this.sinkIds=new Set(t.forEach?t:[t]),this.version?this._updateAudioOutputs():Promise.resolve()):Promise.reject(new En("Audio output selection is not supported by this browser"))};Fe.prototype._startIceGatheringTimeout=function(){this._stopIceGatheringTimeout(),this._iceGatheringTimeoutId=setTimeout(()=>{this._onIceGatheringFailure(pse)},fse)};Fe.prototype._stopIceGatheringTimeout=function(){clearInterval(this._iceGatheringTimeoutId)};Fe.prototype._updateAudioOutputs=function(){const e=Array.from(this.sinkIds).filter(function(o){return!this.outputs.has(o)},this),n=Array.from(this.outputs.keys()).filter(function(o){return!this.sinkIds.has(o)},this),r=this,i=e.map(this._createAudioOutput,this);return Promise.all(i).then(()=>Promise.all(n.map(r._removeAudioOutput,r)))};Fe.prototype._createAudio=function(e){const n=new Audio(e);return this.onaudio(n),n};Fe.prototype._createAudioOutput=function(e){let n=null;this._mediaStreamSource&&(n=this._audioContext.createMediaStreamDestination(),this._mediaStreamSource.connect(n));const r=this._createAudio();uy(r,n&&n.stream?n.stream:this.pcStream,this._audioHelper).catch(()=>this._log.error("Error attaching stream to element (_createAudioOutput)."));const i=this;return r.setSinkId(e).then(()=>r.play()).then(()=>{i.outputs.set(e,{audio:r,dest:n})})};Fe.prototype._removeAudioOutputs=function(){return this._masterAudio&&typeof this._masterAudioDeviceId<"u"&&(this._disableOutput(this,this._masterAudioDeviceId),this.outputs.delete(this._masterAudioDeviceId),this._masterAudioDeviceId=null,this._masterAudio.paused||this._masterAudio.pause(),typeof this._masterAudio.srcObject<"u"?this._masterAudio.srcObject=null:this._masterAudio.src="",this._masterAudio=null),Array.from(this.outputs.keys()).map(this._removeAudioOutput,this)};Fe.prototype._disableOutput=function(e,n){const r=e.outputs.get(n);r&&(r.audio&&(r.audio.pause(),r.audio.src=""),r.dest&&r.dest.disconnect())};Fe.prototype._reassignMasterOutput=function(e,n){const r=e.outputs.get(n);e.outputs.delete(n);const i=this,o=Array.from(e.outputs.keys())[0],s=typeof o=="string"?o:"default";return r.audio.setSinkId(s).then(()=>{i._disableOutput(e,s),e.outputs.set(s,r),e._masterAudioDeviceId=s}).catch(function(){e.outputs.set(n,r),i._log.info("Could not reassign master output. Attempted to roll back.")})};Fe.prototype._removeAudioOutput=function(e){return this._masterAudioDeviceId===e?this._reassignMasterOutput(this,e):(this._disableOutput(this,e),this.outputs.delete(e),Promise.resolve())};Fe.prototype._onAddTrack=function(e,n){const r=e._masterAudio=this._createAudio();uy(r,n,this._audioHelper).then(()=>r.play()).catch(()=>e._log.error("Error attaching stream to element (_onAddTrack)."));const i=Array.from(e.outputs.keys())[0],o=typeof i=="string"?i:"default";e._masterAudioDeviceId=o,e.outputs.set(o,{audio:r});try{e._mediaStreamSource=e._audioContext.createMediaStreamSource(n)}catch(s){this._log.warn("Unable to create a MediaStreamSource from onAddTrack",s),this._mediaStreamSource=null}e.pcStream=n,e._updateAudioOutputs()};Fe.prototype._fallbackOnAddTrack=function(e,n){const r=document&&document.createElement("audio");uy(r,n,this._audioHelper).then(()=>r.play()).catch(()=>e._log.error("Error attaching stream to element (_fallbackOnAddTrack).")),e.outputs.set("default",{audio:r})};Fe.prototype._setEncodingParameters=function(t){if(!t||!this._sender||typeof this._sender.getParameters!="function"||typeof this._sender.setParameters!="function")return;const e=this._sender.getParameters();!e.priority&&!(e.encodings&&e.encodings.length)||(e.priority="high",e.encodings&&e.encodings.length&&e.encodings.forEach(n=>{n.priority="high",n.networkPriority="high"}),this._sender.setParameters(e))};Fe.prototype._setupPeerConnection=function(t){const e=this,n=new(this.options.rtcpcFactory||Mr)({RTCPeerConnection:this.options.RTCPeerConnection});n.create(t),gse(n.pc,this.stream);const r=RTCRtpReceiver.getCapabilities("audio").codecs;this._log.debug("sorting codecs",r,this.codecPreferences);const i=t6(r,this.codecPreferences),[o]=n.pc.getTransceivers();this._log.debug("setting sorted codecs",i),o.setCodecPreferences(i);const s="ontrack"in n.pc?"ontrack":"onaddstream";return n.pc[s]=a=>{const c=e._remoteStream=a.stream||a.streams[0];typeof n.pc.getSenders=="function"&&(this._sender=n.pc.getSenders()[0]),e._isSinkSupported?e._onAddTrack(e,c):e._fallbackOnAddTrack(e,c),e._startPollingVolume()},n};Fe.prototype._maybeSetIceAggressiveNomination=function(t){return this.options.forceAggressiveIceNomination?ose(t):t};Fe.prototype._setupChannel=function(){const t=this.version.pc;this.version.pc.onopen=()=>{this.status="open",this.onopen()},this.version.pc.onstatechange=()=>{this.version.pc&&this.version.pc.readyState==="stable"&&(this.status="open",this.onopen())},this.version.pc.onsignalingstatechange=()=>{const e=t.signalingState;this._log.info(`signalingState is "${e}"`),this.version.pc&&this.version.pc.signalingState==="stable"&&(this.status="open",this.onopen()),this.onsignalingstatechange(t.signalingState)},t.onconnectionstatechange=e=>{let n=t.connectionState;if(!n&&e&&e.target){const r=e.target;n=r.connectionState||r.connectionState_,this._log.info(`pc.connectionState not detected. Using target PC. State=${n}`)}n?this._log.info(`pc.connectionState is "${n}"`):this._log.warn(`onconnectionstatechange detected but state is "${n}"`),this.onpcconnectionstatechange(n),this._onMediaConnectionStateChange(n)},t.onicecandidate=e=>{const{candidate:n}=e;n&&(this._hasIceCandidates=!0,this.onicecandidate(n),this._setupRTCIceTransportListener()),this._log.info(`ICE Candidate: ${JSON.stringify(n)}`)},t.onicegatheringstatechange=()=>{const e=t.iceGatheringState;e==="gathering"?this._startIceGatheringTimeout():e==="complete"&&(this._stopIceGatheringTimeout(),this._hasIceCandidates||this._onIceGatheringFailure(hse),this._hasIceCandidates&&this._hasIceGatheringFailures&&this._startIceGatheringTimeout()),this._log.info(`pc.iceGatheringState is "${t.iceGatheringState}"`),this.onicegatheringstatechange(e)},t.oniceconnectionstatechange=()=>{this._log.info(`pc.iceConnectionState is "${t.iceConnectionState}"`),this.oniceconnectionstatechange(t.iceConnectionState),this._onMediaConnectionStateChange(t.iceConnectionState)}};Fe.prototype._initializeMediaStream=function(t){return this.status==="open"?!1:this.pstream.status==="disconnected"?(this.onerror({info:{code:31e3,message:"Cannot establish connection. Client is disconnected",twilioError:new ei.ConnectionDisconnected}}),this.close(),!1):(this.version=this._setupPeerConnection(t),this._setupChannel(),!0)};Fe.prototype._removeReconnectionListeners=function(){this.pstream&&(this.pstream.removeListener("answer",this._onAnswerOrRinging),this.pstream.removeListener("hangup",this._onHangup))};Fe.prototype._setupRTCDtlsTransportListener=function(){const t=this.getRTCDtlsTransport();if(!t||t.onstatechange)return;const e=()=>{this._log.info(`dtlsTransportState is "${t.state}"`),this.ondtlstransportstatechange(t.state)};e(),t.onstatechange=e};Fe.prototype._setupRTCIceTransportListener=function(){const t=this._getRTCIceTransport();!t||t.onselectedcandidatepairchange||(t.onselectedcandidatepairchange=()=>this.onselectedcandidatepairchange(t.getSelectedCandidatePair()))};Fe.prototype.iceRestart=function(){this._log.info("Attempting to restart ICE..."),this._hasIceCandidates=!1,this.version.createOffer(this.options.maxAverageBitrate,{iceRestart:!0}).then(()=>{this._removeReconnectionListeners(),this._onAnswerOrRinging=t=>{if(this._removeReconnectionListeners(),!t.sdp||this.version.pc.signalingState!=="have-local-offer"){const n=`Invalid state or param during ICE Restart:hasSdp:${!!t.sdp}, signalingState:${this.version.pc.signalingState}`;this._log.warn(n);return}const e=this._maybeSetIceAggressiveNomination(t.sdp);this._answerSdp=e,this.status!=="closed"&&this.version.processAnswer(this.codecPreferences,e,null,n=>{const r=n&&n.message?n.message:n;this._log.error(`Failed to process answer during ICE Restart. Error: ${r}`)})},this._onHangup=()=>{this._log.info("Received hangup during ICE Restart"),this._removeReconnectionListeners()},this.pstream.on("answer",this._onAnswerOrRinging),this.pstream.on("hangup",this._onHangup),this.pstream.reinvite(this.version.getSDP(),this.callSid)}).catch(t=>{const e=t&&t.message?t.message:t;this._log.error(`Failed to createOffer during ICE Restart. Error: ${e}`),this.onfailed(e)})};Fe.prototype.makeOutgoingCall=function(t,e,n,r,i){if(!this._initializeMediaStream(r))return;const o=this;this.callSid=n;function s(){o.options&&o._setEncodingParameters(o.options.dscp),i(o.version.pc)}function a(f){const h=f.message||f;o.onerror({info:{code:31e3,message:`Error processing answer: ${h}`,twilioError:new Yi.ClientRemoteDescFailed}})}this._onAnswerOrRinging=f=>{if(!f.sdp)return;const h=this._maybeSetIceAggressiveNomination(f.sdp);o._answerSdp=h,o.status!=="closed"&&o.version.processAnswer(this.codecPreferences,h,s,a),o.pstream.removeListener("answer",o._onAnswerOrRinging),o.pstream.removeListener("ringing",o._onAnswerOrRinging)},this.pstream.on("answer",this._onAnswerOrRinging),this.pstream.on("ringing",this._onAnswerOrRinging);function c(){o.status!=="closed"&&(e?o.pstream.reconnect(o.version.getSDP(),o.callSid,e):o.pstream.invite(o.version.getSDP(),o.callSid,t),o._setupRTCDtlsTransportListener())}function u(f){const h=f.message||f;o.onerror({info:{code:31e3,message:`Error creating the offer: ${h}`,twilioError:new Yi.ClientLocalDescFailed}})}this.version.createOffer(this.options.maxAverageBitrate,{audio:!0},c,u)};Fe.prototype.answerIncomingCall=function(t,e,n,r){if(!this._initializeMediaStream(n))return;e=this._maybeSetIceAggressiveNomination(e),this._answerSdp=e.replace(/^a=setup:actpass$/gm,"a=setup:passive"),this.callSid=t;const i=this;function o(){i.status!=="closed"&&(i.pstream.answer(i.version.getSDP(),t),i.options&&i._setEncodingParameters(i.options.dscp),r(i.version.pc),i._setupRTCDtlsTransportListener())}function s(a){const c=a.message||a;i.onerror({info:{code:31e3,message:`Error creating the answer: ${c}`,twilioError:new Yi.ClientRemoteDescFailed}})}this.version.processSDP(this.options.maxAverageBitrate,this.codecPreferences,e,{audio:!0},o,s)};Fe.prototype.close=function(){this.version&&this.version.pc&&(this.version.pc.signalingState!=="closed"&&this.version.pc.close(),this.version.pc=null),this.stream&&(this.mute(!1),this._stopStream()),this.stream=null,this._removeReconnectionListeners(),this._stopIceGatheringTimeout(),this._audioHelper._destroyRemoteProcessedStream(),this._audioProcessorEventObserver.removeListener("add",this._onAudioProcessorAdded),this._audioProcessorEventObserver.removeListener("remove",this._onAudioProcessorRemoved),Promise.all(this._removeAudioOutputs()).catch(()=>{}),this._mediaStreamSource&&this._mediaStreamSource.disconnect(),this._inputAnalyser&&this._inputAnalyser.disconnect(),this._outputAnalyser&&this._outputAnalyser.disconnect(),this._inputAnalyser2&&this._inputAnalyser2.disconnect(),this._outputAnalyser2&&this._outputAnalyser2.disconnect(),this.status="closed",this.onclose()};Fe.prototype.reject=function(t){this.callSid=t};Fe.prototype.ignore=function(t){this.callSid=t};Fe.prototype.mute=function(t){this.isMuted=t,this.stream&&(this._sender&&this._sender.track?this._sender.track.enabled=!t:(typeof this.stream.getAudioTracks=="function"?this.stream.getAudioTracks():this.stream.audioTracks).forEach(n=>{n.enabled=!t}))};Fe.prototype.getOrCreateDTMFSender=function(){if(this._dtmfSender||this._dtmfSenderUnsupported)return this._dtmfSender||null;const e=this,n=this.version.pc;if(!n)return this._log.warn("No RTCPeerConnection available to call createDTMFSender on"),null;if(typeof n.getSenders=="function"&&(typeof RTCDTMFSender=="function"||typeof RTCDtmfSender=="function")){const r=n.getSenders().find(i=>i.dtmf);if(r)return this._log.info("Using RTCRtpSender#dtmf"),this._dtmfSender=r.dtmf,this._dtmfSender}if(typeof n.createDTMFSender=="function"&&typeof n.getLocalStreams=="function"){const r=n.getLocalStreams().map(i=>{const o=e._getAudioTracks(i);return o&&o[0]})[0];return r?(this._log.info("Creating RTCDTMFSender"),this._dtmfSender=n.createDTMFSender(r),this._dtmfSender):(this._log.warn("No local audio MediaStreamTrack available on the RTCPeerConnection to pass to createDTMFSender"),null)}return this._log.info("RTCPeerConnection does not support RTCDTMFSender"),this._dtmfSenderUnsupported=!0,null};Fe.prototype.getRTCDtlsTransport=function(){const e=this.version&&this.version.pc&&typeof this.version.pc.getSenders=="function"&&this.version.pc.getSenders()[0];return e&&e.transport||null};Fe.prototype._canStopMediaStreamTrack=()=>typeof MediaStreamTrack.prototype.stop=="function";Fe.prototype._getAudioTracks=t=>typeof t.getAudioTracks=="function"?t.getAudioTracks():t.audioTracks;Fe.prototype._getRTCIceTransport=function(){const e=this.getRTCDtlsTransport();return e&&e.iceTransport||null};Fe.protocol=Mr.test()?new Mr:null;Fe.prototype._handleAudioProcessorEvent=function(t,e){if(!t||!this._remoteStream)return;let n=null;this._masterAudio?(this._log.info("Setting audio source for master audio."),n=this._masterAudio):(this._log.info("No master audio. Setting audio source for default audio output."),n=this.outputs.get("default").audio),uy(n,this._remoteStream,this._audioHelper).then(()=>{const r=e?"Successfully updated audio source with processed stream":"Successfully reverted audio source to original stream";this._log.info(r),n.paused&&(this._log.info("Resuming audio playback"),n.play())}).catch(()=>{const r=e?"Failed to update audio source":"Failed to revert audio source";this._log.error(r)})};function gse(t,e){typeof t.addTrack=="function"?e.getAudioTracks().forEach(n=>{t.addTrack(n,e)}):t.addStream(e)}function n2(t,e){let n;return e?n=new e:typeof MediaStream<"u"?n=new MediaStream:n=new webkitMediaStream,t.getAudioTracks().forEach(n.addTrack,n),n}function uy(t,e,n){return n._maybeCreateRemoteProcessedStream(e).then(r=>{if(typeof t.srcObject<"u")t.srcObject=r;else if(typeof t.mozSrcObject<"u")t.mozSrcObject=r;else if(typeof t.src<"u"){const i=t.options.window||window;t.src=(i.URL||i.webkitURL).createObjectURL(r)}else return Promise.reject();return Promise.resolve()})}Fe.enabled=Mr.test();function vse(){return Mr.test()}function yse(){return typeof RTCIceGatherer<"u"?"ORTC":"WebRTC"}function bse(t,e){return e=e||{},e.util=e.util||n6,e.navigator=e.navigator||(typeof navigator<"u"?navigator:null),new Promise((n,r)=>{if(!e.navigator)throw new En("getUserMedia is not supported");switch("function"){case typeof(e.navigator.mediaDevices&&e.navigator.mediaDevices.getUserMedia):return n(e.navigator.mediaDevices.getUserMedia(t));case typeof e.navigator.webkitGetUserMedia:return e.navigator.webkitGetUserMedia(t,n,r);case typeof e.navigator.mozGetUserMedia:return e.navigator.mozGetUserMedia(t,n,r);case typeof e.navigator.getUserMedia:return e.navigator.getUserMedia(t,n,r);default:throw new En("getUserMedia is not supported")}}).catch(n=>{throw e.util.isFirefox()&&n.name==="NotReadableError"?new En(`Firefox does not currently support opening multiple audio input trackssimultaneously, even across different tabs.
Related Bugzilla thread: https://bugzilla.mozilla.org/show_bug.cgi?id=1299324`):n})}function wse(){if(typeof window!="object")throw new En("This platform is not supported.");const{crypto:t}=window;if(typeof t!="object")throw new En("The `crypto` module is not available on this platform.");if(typeof t.getRandomValues!="function")throw new En("The function `crypto.getRandomValues` is not available on this platform.");if(typeof window.Uint8Array!="function")throw new En("The `Uint8Array` module is not available on this platform.");return t.getRandomValues(new window.Uint8Array(16)).reduce((e,n)=>`${e}${n.toString(16).padStart(2,"0")}`,"")}function uT(){return`KX${wse()}`}let xse=class{constructor(){this._promise=new Promise((e,n)=>{this._resolve=e,this._reject=n})}get promise(){return this._promise}reject(e){this._reject(e)}resolve(e){this._resolve(e)}};class _se{constructor(){this._operations=[]}enqueue(e){const n=!!this._operations.length,r=new xse;return this._operations.push({deferred:r,callback:e}),n||this._processQueue(),r.promise}_processQueue(){return ge(this,void 0,void 0,function*(){for(;this._operations.length;){const{deferred:e,callback:n}=this._operations[0];let r,i,o;try{r=yield n(),o=!0}catch(s){i=s}this._operations.shift(),o?e.resolve(r):e.reject(i)}})}}class Sse{get reject(){return this._reject}get resolve(){return this._resolve}constructor(){this.promise=new Promise((e,n)=>{this._resolve=e,this._reject=n})}}let Pse=class{constructor(){this._eventEmitter=new ni.EventEmitter}addEventListener(e,n){return this._eventEmitter.addListener(e,n)}dispatchEvent(e,...n){return this._eventEmitter.emit(e,...n)}removeEventListener(e,n){return this._eventEmitter.removeListener(e,n)}};class r2 extends Pse{get destination(){return this._destination}get loop(){return this._loop}set loop(e){const n=this;function r(){n._audioNode.removeEventListener("ended",r),n.pause()}!e&&this.loop&&!this.paused&&this._audioNode.addEventListener("ended",r),this._loop=e}get muted(){return this._gainNode.gain.value===0}set muted(e){this._gainNode.gain.value=e?0:1}get paused(){return this._audioNode===null}get src(){return this._src}set src(e){this._load(e)}get srcObject(){return this._audioElement.srcObject}set srcObject(e){this._audioElement.srcObject=e}get sinkId(){return this._sinkId}constructor(e,n={},r={}){super(),this._audioNode=null,this._loop=!1,this._pendingPlayDeferreds=[],this._sinkId="default",this._src="",typeof n!="string"&&(r=n),this._audioContext=e,this._audioElement=new(r.AudioFactory||Audio),this._bufferPromise=this._createPlayDeferred().promise,this._destination=this._audioContext.destination,this._gainNode=this._audioContext.createGain(),this._gainNode.connect(this._destination),this._XMLHttpRequest=r.XMLHttpRequestFactory||XMLHttpRequest,this.addEventListener("canplaythrough",()=>{this._resolvePlayDeferreds()}),typeof n=="string"&&(this.src=n)}load(){this._load(this._src)}pause(){this.paused||(this._audioElement.pause(),this._audioNode.stop(),this._audioNode.disconnect(this._gainNode),this._audioNode=null,this._rejectPlayDeferreds(new Error("The play() request was interrupted by a call to pause().")))}play(){return ge(this,void 0,void 0,function*(){if(!this.paused){if(yield this._bufferPromise,!this.paused)return;throw new Error("The play() request was interrupted by a call to pause().")}this._audioNode=this._audioContext.createBufferSource(),this._audioNode.loop=this.loop,this._audioNode.addEventListener("ended",()=>{this._audioNode&&this._audioNode.loop||this.dispatchEvent("ended")});const e=yield this._bufferPromise;if(this.paused)throw new Error("The play() request was interrupted by a call to pause().");if(this._audioNode.buffer=e,this._audioNode.connect(this._gainNode),this._audioNode.start(),this._audioElement.srcObject)return this._audioElement.play()})}setSinkId(e){return ge(this,void 0,void 0,function*(){if(typeof this._audioElement.setSinkId!="function")throw new Error("This browser does not support setSinkId.");if(e!==this.sinkId){if(e==="default"){this.paused||this._gainNode.disconnect(this._destination),this._audioElement.srcObject=null,this._destination=this._audioContext.destination,this._gainNode.connect(this._destination),this._sinkId=e;return}yield this._audioElement.setSinkId(e),!this._audioElement.srcObject&&(this._gainNode.disconnect(this._audioContext.destination),this._destination=this._audioContext.createMediaStreamDestination(),this._audioElement.srcObject=this._destination.stream,this._sinkId=e,this._gainNode.connect(this._destination))}})}_createPlayDeferred(){const e=new Sse;return this._pendingPlayDeferreds.push(e),e}_load(e){this._src&&this._src!==e&&this.pause(),this._src=e,this._bufferPromise=new Promise((n,r)=>ge(this,void 0,void 0,function*(){if(!e)return this._createPlayDeferred().promise;const i=yield Tse(this._audioContext,this._XMLHttpRequest,e);this.dispatchEvent("canplaythrough"),n(i)}))}_rejectPlayDeferreds(e){const n=this._pendingPlayDeferreds;n.splice(0,n.length).forEach(({reject:r})=>r(e))}_resolvePlayDeferreds(e){const n=this._pendingPlayDeferreds;n.splice(0,n.length).forEach(({resolve:r})=>r(e))}}function Tse(t,e,n){return ge(this,void 0,void 0,function*(){const r=new e;r.open("GET",n,!0),r.responseType="arraybuffer";const i=yield new Promise(o=>{r.addEventListener("load",o),r.send()});try{return t.decodeAudioData(i.target.response)}catch{return new Promise(s=>{t.decodeAudioData(i.target.response,s)})}})}function Uo(t,e,n){if(!(this instanceof Uo))return new Uo(t,e,n);if(!t||!e)throw new pt("name and url are required arguments");n=Object.assign({AudioFactory:typeof Audio<"u"?Audio:null,maxDuration:0,shouldLoop:!1},n),n.AudioPlayer=n.audioContext?r2.bind(r2,n.audioContext):n.AudioFactory,Object.defineProperties(this,{_Audio:{value:n.AudioPlayer},_activeEls:{value:new Map},_isSinkSupported:{value:n.AudioFactory!==null&&typeof n.AudioFactory.prototype.setSinkId=="function"},_maxDuration:{value:n.maxDuration},_maxDurationTimeout:{value:null,writable:!0},_operations:{value:new _se},_playPromise:{value:null,writable:!0},_shouldLoop:{value:n.shouldLoop},_sinkIds:{value:["default"]},isPlaying:{enumerable:!0,get(){return!!this._playPromise}},name:{enumerable:!0,value:t},url:{enumerable:!0,value:e}}),this._Audio&&this._play(!0,!1)}function u6(t){t&&(t.pause(),t.src="",t.srcObject=null,t.load())}Uo.prototype._playAudioElement=function(e,n,r){const i=this._activeEls.get(e);if(!i)throw new pt(`sinkId: "${e}" doesn't have an audio element`);return i.muted=!!n,i.loop=!!r,i.play().then(()=>i).catch(o=>{throw u6(i),this._activeEls.delete(e),o})};Uo.prototype._play=function(e,n){this.isPlaying&&this._stop(),this._maxDuration>0&&(this._maxDurationTimeout=setTimeout(this._stop.bind(this),this._maxDuration)),n=typeof n=="boolean"?n:this._shouldLoop;const r=this;return this._playPromise=Promise.all(this._sinkIds.map(function(s){if(!r._Audio)return Promise.resolve();let a=r._activeEls.get(s);return a?r._playAudioElement(s,e,n):(a=new r._Audio(r.url),typeof a.setAttribute=="function"&&a.setAttribute("crossorigin","anonymous"),new Promise(c=>{a.addEventListener("canplaythrough",c)}).then(()=>(r._isSinkSupported?a.setSinkId(s):Promise.resolve()).then(function(){return r._activeEls.set(s,a),r._playPromise?r._playAudioElement(s,e,n):Promise.resolve()})))}))};Uo.prototype._stop=function(){this._activeEls.forEach((e,n)=>{this._sinkIds.includes(n)?(e.pause(),e.currentTime=0):(u6(e),this._activeEls.delete(n))}),clearTimeout(this._maxDurationTimeout),this._playPromise=null,this._maxDurationTimeout=null};Uo.prototype.setSinkIds=function(e){this._isSinkSupported&&(e=e.forEach?e:[e],[].splice.apply(this._sinkIds,[0,this._sinkIds.length].concat(e)))};Uo.prototype.stop=function(){this._operations.enqueue(()=>(this._stop(),Promise.resolve()))};Uo.prototype.play=function(){return this._operations.enqueue(()=>this._play())};const Cse=3e4,Ese=2e3,Ase="twilio-js-sdk",Ose='Parameter "token" must be of type "string".';class _e extends ni.EventEmitter{static get audioContext(){return _e._audioContext}static get extension(){const e=typeof document<"u"?document.createElement("audio"):{canPlayType:!1};let n;try{n=e.canPlayType&&!!e.canPlayType("audio/mpeg").replace(/no/,"")}catch{n=!1}let r;try{r=e.canPlayType&&!!e.canPlayType("audio/ogg;codecs='vorbis'").replace(/no/,"")}catch{r=!1}return r&&!n?"ogg":"mp3"}static get isSupported(){return vse()}static get packageName(){return Jq}static runPreflight(e,n){return new Lt(e,Object.assign({audioContext:_e._getOrCreateAudioContext()},n))}static toString(){return"[Twilio.Device class]"}static get version(){return Mc}static _getOrCreateAudioContext(){return _e._audioContext||(typeof AudioContext<"u"?_e._audioContext=new AudioContext:typeof webkitAudioContext<"u"&&(_e._audioContext=new webkitAudioContext)),_e._audioContext}constructor(e,n={}){if(super(),this._activeCall=null,this._audio=null,this._audioProcessorEventObserver=null,this._callInputStream=null,this._calls=[],this._callSinkIds=["default"],this._chunderURIs=[],this._defaultOptions={allowIncomingWhileBusy:!1,closeProtection:!1,codecPreferences:[xe.Codec.PCMU,xe.Codec.Opus],dscp:!0,enableImprovedSignalingErrorPrecision:!1,forceAggressiveIceNomination:!1,logLevel:Wf.levels.ERROR,maxCallSignalingTimeoutMs:0,preflight:!1,sounds:{},tokenRefreshMs:1e4,voiceEventSidGenerator:uT},this._edge=null,this._home=null,this._identity=null,this._log=new vn("Device"),this._makeCallPromise=null,this._options={},this._preferredURI=null,this._publisher=null,this._region=null,this._regTimer=null,this._shouldReRegister=!1,this._soundcache=new Map,this._state=_e.State.Unregistered,this._stateEventMapping={[_e.State.Destroyed]:_e.EventName.Destroyed,[_e.State.Unregistered]:_e.EventName.Unregistered,[_e.State.Registering]:_e.EventName.Registering,[_e.State.Registered]:_e.EventName.Registered},this._stream=null,this._streamConnectedPromise=null,this._tokenWillExpireTimeout=null,this._createDefaultPayload=o=>{const s={aggressive_nomination:this._options.forceAggressiveIceNomination,browser_extension:this._isBrowserExtension,dscp:!!this._options.dscp,ice_restart_enabled:!0,platform:yse(),sdk_version:Mc};function a(c,u){u&&(s[c]=u)}if(o){const c=o.parameters.CallSid;a("call_sid",/^TJ/.test(c)?void 0:c),a("temp_call_sid",o.outboundConnectionId),a("audio_codec",o.codec),s.direction=o.direction}return a("gateway",this._stream&&this._stream.gateway),a("region",this._stream&&this._stream.region),s},this._onSignalingClose=()=>{this._stream=null,this._streamConnectedPromise=null},this._onSignalingConnected=o=>{var s;const a=ese(o.region);if(this._edge=o.edge||Qoe[a]||o.region,this._region=a||o.region,this._home=o.home,(s=this._publisher)===null||s===void 0||s.setHost(QI(o.home)),o.token&&(this._identity=o.token.identity,typeof o.token.ttl=="number"&&typeof this._options.tokenRefreshMs=="number")){const u=o.token.ttl*1e3,f=Math.max(0,u-this._options.tokenRefreshMs);this._tokenWillExpireTimeout=setTimeout(()=>{this._log.debug("#tokenWillExpire"),this.emit("tokenWillExpire",this),this._tokenWillExpireTimeout&&(clearTimeout(this._tokenWillExpireTimeout),this._tokenWillExpireTimeout=null)},f)}const c=this._getChunderws()||ZI(this._edge);if(c.length>0){const[u]=c;this._preferredURI=JI(u)}else this._log.warn("Could not parse a preferred URI from the stream#connected event.");this._shouldReRegister&&this.register()},this._onSignalingError=o=>{if(typeof o!="object"){this._log.warn("Invalid signaling error payload",o);return}const{error:s,callsid:a,voiceeventsid:c}=o;if(typeof s!="object"||c){this._log.warn("Ignoring signaling error payload",{originalError:s,voiceeventsid:c});return}const u=typeof a=="string"&&this._findCall(a)||void 0,{code:f,message:h}=s;let{twilioError:p}=s;if(typeof f=="number")if(f===31201)p=new mn.AuthenticationFailed(s);else if(f===31204)p=new mn.AccessTokenInvalid(s);else if(f===31205)this._stopRegistrationTimer(),p=new mn.AccessTokenExpired(s);else{const v=iT(!!this._options.enableImprovedSignalingErrorPrecision,f);typeof v<"u"&&(p=new v(s))}p||(this._log.error("Unknown signaling error: ",s),p=new Wn.UnknownError(h,s)),this._log.error("Received error: ",p),this._log.debug("#error",s),this.emit(_e.EventName.Error,p,u)},this._onSignalingInvite=o=>ge(this,void 0,void 0,function*(){var s;const a=!!this._activeCall;if(a&&!this._options.allowIncomingWhileBusy){this._log.info("Device busy; ignoring incoming invite");return}if(!o.callsid||!o.sdp){this._log.debug("#error",o),this.emit(_e.EventName.Error,new Ba.BadRequest("Malformed invite from gateway"));return}const c=o.parameters||{};c.CallSid=c.CallSid||o.callsid;const u=Object.assign({},e6(c.Params));this._makeCallPromise=this._makeCall(u,{callParameters:c,enableImprovedSignalingErrorPrecision:!!this._options.enableImprovedSignalingErrorPrecision,offerSdp:o.sdp,reconnectToken:o.reconnect,voiceEventSidGenerator:this._options.voiceEventSidGenerator});let f;try{f=yield this._makeCallPromise}finally{this._makeCallPromise=null}this._calls.push(f),f.once("accept",()=>{this._soundcache.get(_e.SoundName.Incoming).stop(),this._publishNetworkChange()});const h=!((s=this._audio)===null||s===void 0)&&s.incoming()&&!a?()=>this._soundcache.get(_e.SoundName.Incoming).play():()=>Promise.resolve();this._showIncomingCall(f,h)}),this._onSignalingOffline=()=>{this._log.info("Stream is offline"),this._edge=null,this._region=null,this._shouldReRegister=this.state!==_e.State.Unregistered,this._setState(_e.State.Unregistered)},this._onSignalingReady=()=>{this._log.info("Stream is ready"),this._setState(_e.State.Registered)},this._publishNetworkChange=()=>{this._activeCall&&this._networkInformation&&this._publisher.info("network-information","network-change",{connection_type:this._networkInformation.type,downlink:this._networkInformation.downlink,downlinkMax:this._networkInformation.downlinkMax,effective_type:this._networkInformation.effectiveType,rtt:this._networkInformation.rtt},this._activeCall)},this._updateInputStream=o=>{const s=this._activeCall;return s&&!o?Promise.reject(new bi("Cannot unset input device while a call is in progress.")):(this._callInputStream=o,s?s._setInputTracksFromStream(o):Promise.resolve())},this._updateSinkIds=(o,s)=>(o==="ringtone"?this._updateRingtoneSinkIds(s):this._updateSpeakerSinkIds(s)).then(()=>{this._publisher.info("audio",`${o}-devices-set`,{audio_device_ids:s},this._activeCall)},c=>{throw this._publisher.error("audio",`${o}-devices-set-failed`,{audio_device_ids:s,message:c.message},this._activeCall),c}),this._setupLoglevel(n.logLevel),this._logOptions("constructor",n),this.updateToken(e),ay())throw new En("Microsoft Edge Legacy (https://support.microsoft.com/en-us/help/4533505/what-is-microsoft-edge-legacy) is deprecated and will not be able to connect to Twilio to make or receive calls after September 1st, 2020. Please see this documentation for a list of supported browsers https://www.twilio.com/docs/voice/client/javascript#supported-browsers");if(!_e.isSupported&&n.ignoreBrowserSupport)throw window&&window.location&&window.location.protocol==="http:"?new En("twilio.js wasn't able to find WebRTC browser support.           This is most likely because this page is served over http rather than https,           which does not support WebRTC in many browsers. Please load this page over https and           try again."):new En("twilio.js 1.3+ SDKs require WebRTC browser support.         For more information, see <https://www.twilio.com/docs/api/client/twilio-js>.         If you have any questions about this announcement, please contact         Twilio Support at <help@twilio.com>.");const r=globalThis,i=r.msBrowser||r.browser||r.chrome;if(this._isBrowserExtension=!!i&&!!i.runtime&&!!i.runtime.id||!!r.safari&&!!r.safari.extension,this._isBrowserExtension&&this._log.info("Running as browser extension."),navigator){const o=navigator;this._networkInformation=o.connection||o.mozConnection||o.webkitConnection}this._networkInformation&&typeof this._networkInformation.addEventListener=="function"&&this._networkInformation.addEventListener("change",this._publishNetworkChange),_e._getOrCreateAudioContext(),_e._audioContext&&(_e._dialtonePlayer||(_e._dialtonePlayer=new Poe(_e._audioContext))),this._boundDestroy=this.destroy.bind(this),this._boundConfirmClose=this._confirmClose.bind(this),typeof window<"u"&&window.addEventListener&&(window.addEventListener("unload",this._boundDestroy),window.addEventListener("pagehide",this._boundDestroy)),this.updateOptions(n)}get audio(){return this._audio}connect(){return ge(this,arguments,void 0,function*(e={}){if(this._log.debug(".connect",JSON.stringify(e)),this._throwIfDestroyed(),this._activeCall)throw new bi("A Call is already active");let n,r,i;if(e.connectToken){try{const u=JSON.parse(decodeURIComponent(atob(e.connectToken)));n=u.customParameters,r=u.parameters,i=u.signalingReconnectToken}catch{throw new pt("Cannot parse connectToken")}if(!r||!r.CallSid||!i)throw new pt("Invalid connectToken")}let o=!1,s={};const a={enableImprovedSignalingErrorPrecision:!!this._options.enableImprovedSignalingErrorPrecision,rtcConfiguration:e.rtcConfiguration,voiceEventSidGenerator:this._options.voiceEventSidGenerator};i&&r?(o=!0,a.callParameters=r,a.reconnectCallSid=r.CallSid,a.reconnectToken=i,s=n||s):s=e.params||s;let c;this._makeCallPromise=this._makeCall(s,a,o);try{c=this._activeCall=yield this._makeCallPromise}finally{this._makeCallPromise=null}return this._calls.splice(0).forEach(u=>u.ignore()),this._soundcache.get(_e.SoundName.Incoming).stop(),c.accept({rtcConstraints:e.rtcConstraints}),this._publishNetworkChange(),c})}get calls(){return this._calls}destroy(){var e;this._log.debug(".destroy"),this._log.debug("Rejecting any incoming calls"),this._calls.slice(0).forEach(r=>r.reject()),this.disconnectAll(),this._stopRegistrationTimer(),this._destroyStream(),this._destroyAudioHelper(),(e=this._audioProcessorEventObserver)===null||e===void 0||e.destroy(),this._destroyPublisher(),this._networkInformation&&typeof this._networkInformation.removeEventListener=="function"&&this._networkInformation.removeEventListener("change",this._publishNetworkChange),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("beforeunload",this._boundConfirmClose),window.removeEventListener("unload",this._boundDestroy),window.removeEventListener("pagehide",this._boundDestroy)),this._setState(_e.State.Destroyed),ni.EventEmitter.prototype.removeAllListeners.call(this)}disconnectAll(){this._log.debug(".disconnectAll"),this._calls.splice(0).forEach(n=>n.disconnect()),this._activeCall&&this._activeCall.disconnect()}get edge(){return this._edge}get home(){return this._home}get identity(){return this._identity}get isBusy(){return!!this._activeCall}register(){return ge(this,void 0,void 0,function*(){if(this._log.debug(".register"),this.state!==_e.State.Unregistered)throw new bi(`Attempt to register when device is in state "${this.state}". Must be "${_e.State.Unregistered}".`);this._shouldReRegister=!1,this._setState(_e.State.Registering),yield this._streamConnectedPromise||this._setupStream(),yield this._sendPresence(!0),yield sT(this,_e.State.Registered,_e.State.Unregistered)})}get state(){return this._state}get token(){return this._token}toString(){return"[Twilio.Device instance]"}unregister(){return ge(this,void 0,void 0,function*(){if(this._log.debug(".unregister"),this.state!==_e.State.Registered)throw new bi(`Attempt to unregister when device is in state "${this.state}". Must be "${_e.State.Registered}".`);this._shouldReRegister=!1;const e=yield this._streamConnectedPromise,n=new Promise(r=>{e.on("offline",r)});yield this._sendPresence(!1),yield n})}updateOptions(e={}){if(this._logOptions("updateOptions",e),this.state===_e.State.Destroyed)throw new bi(`Attempt to "updateOptions" when device is in state "${this.state}".`);this._options=Object.assign(Object.assign(Object.assign({},this._defaultOptions),this._options),e);const n=new Set(this._chunderURIs),r=this._chunderURIs=(this._getChunderws()||ZI(this._options.edge)).map(JI);let i=n.size!==r.length;if(!i){for(const o of r)if(!n.has(o)){i=!0;break}}if(this.isBusy&&i)throw new bi("Cannot change Edge while on an active Call");this._setupLoglevel(this._options.logLevel);for(const o of Object.keys(_e._defaultSounds)){const s=_e._defaultSounds[o],a=`${iA}/${s.filename}.${_e.extension}?cache=${Mc}`,c=this._options.sounds&&this._options.sounds[o]||a,u=new(this._options.Sound||Uo)(o,c,{audioContext:this._options.disableAudioContextSounds?null:_e.audioContext,maxDuration:s.maxDuration,shouldLoop:s.shouldLoop});this._soundcache.set(o,u)}this._setupAudioHelper(),this._setupPublisher(),i&&this._streamConnectedPromise&&this._setupStream(),typeof window<"u"&&typeof window.addEventListener=="function"&&this._options.closeProtection&&(window.removeEventListener("beforeunload",this._boundConfirmClose),window.addEventListener("beforeunload",this._boundConfirmClose))}updateToken(e){if(this._log.debug(".updateToken"),this.state===_e.State.Destroyed)throw new bi(`Attempt to "updateToken" when device is in state "${this.state}".`);if(typeof e!="string")throw new pt(Ose);this._token=e,this._stream&&this._stream.setToken(this._token),this._publisher&&this._publisher.setToken(this._token)}_confirmClose(e){if(!this._activeCall)return"";const n=this._options.closeProtection||!1,r=typeof n!="string"?"A call is currently in-progress. Leaving or reloading this page will end the call.":n;return(e||window.event).returnValue=r,r}_destroyAudioHelper(){this._audio&&(this._audio._destroy(),this._audio=null)}_destroyPublisher(){this._publisher&&(this._publisher=null)}_destroyStream(){this._stream&&(this._stream.removeListener("close",this._onSignalingClose),this._stream.removeListener("connected",this._onSignalingConnected),this._stream.removeListener("error",this._onSignalingError),this._stream.removeListener("invite",this._onSignalingInvite),this._stream.removeListener("offline",this._onSignalingOffline),this._stream.removeListener("ready",this._onSignalingReady),this._stream.destroy(),this._stream=null),this._onSignalingOffline(),this._streamConnectedPromise=null}_findCall(e){return this._calls.find(n=>n.parameters.CallSid===e||n.outboundConnectionId===e)||null}_getChunderws(){return typeof this._options.chunderw=="string"?[this._options.chunderw]:Array.isArray(this._options.chunderw)?this._options.chunderw:null}_logOptions(e,n={}){const r=["allowIncomingWhileBusy","appName","appVersion","closeProtection","codecPreferences","disableAudioContextSounds","dscp","edge","enableImprovedSignalingErrorPrecision","forceAggressiveIceNomination","logLevel","maxAverageBitrate","maxCallSignalingTimeoutMs","sounds","tokenRefreshMs"],i=["RTCPeerConnection","enumerateDevices","getUserMedia","MediaStream"];if(typeof n=="object"){const o=Object.assign({},n);Object.keys(o).forEach(s=>{!r.includes(s)&&!i.includes(s)&&delete o[s],i.includes(s)&&(o[s]=!0)}),this._log.debug(`.${e}`,JSON.stringify(o))}}_makeCall(e,n){return ge(this,arguments,void 0,function*(r,i,o=!1){var s;const a=(s=this._audio)===null||s===void 0?void 0:s._getInputDevicePromise();a&&(this._log.debug("inputDevicePromise detected, waiting..."),yield a,this._log.debug("inputDevicePromise resolved"));const c={audioHelper:this._audio,onIgnore:()=>{this._soundcache.get(_e.SoundName.Incoming).stop()},pstream:yield this._streamConnectedPromise||this._setupStream(),publisher:this._publisher,soundcache:this._soundcache};i=Object.assign({MediaStream:this._options.MediaStream,RTCPeerConnection:this._options.RTCPeerConnection,beforeAccept:h=>{!this._activeCall||this._activeCall===h||(this._activeCall.disconnect(),this._removeCall(this._activeCall))},codecPreferences:this._options.codecPreferences,customSounds:this._options.sounds,dialtonePlayer:_e._dialtonePlayer,dscp:this._options.dscp,forceAggressiveIceNomination:this._options.forceAggressiveIceNomination,getInputStream:()=>this._options.fileInputStream||this._callInputStream,getSinkIds:()=>this._callSinkIds,maxAverageBitrate:this._options.maxAverageBitrate,preflight:this._options.preflight,rtcConstraints:this._options.rtcConstraints,shouldPlayDisconnect:()=>{var h;return(h=this._audio)===null||h===void 0?void 0:h.disconnect()},twimlParams:r,voiceEventSidGenerator:this._options.voiceEventSidGenerator},i);const u=()=>{if(!this._stream){this._log.warn("UnsetPreferredUri called without a stream");return}this._activeCall===null&&this._calls.length===0&&this._stream.updatePreferredURI(null)},f=new(this._options.Call||xe)(c,i);return this._publisher.info("settings","init",{MediaStream:!!this._options.MediaStream,RTCPeerConnection:!!this._options.RTCPeerConnection,enumerateDevices:!!this._options.enumerateDevices,getUserMedia:!!this._options.getUserMedia},f),f.once("accept",()=>{var h,p,v,x,b;this._stream.updatePreferredURI(this._preferredURI),this._removeCall(f),this._activeCall=f,this._audio&&this._audio._maybeStartPollingVolume(),f.direction===xe.CallDirection.Outgoing&&(!((h=this._audio)===null||h===void 0)&&h.outgoing())&&!o&&this._soundcache.get(_e.SoundName.Outgoing).play();const y={edge:this._edge||this._region};this._options.edge&&(y.selected_edge=Array.isArray(this._options.edge)?this._options.edge:[this._options.edge]),this._publisher.info("settings","edge",y,f),!((p=this._audio)===null||p===void 0)&&p.localProcessedStream&&((v=this._audioProcessorEventObserver)===null||v===void 0||v.emit("enabled",!1)),!((x=this._audio)===null||x===void 0)&&x.remoteProcessedStream&&((b=this._audioProcessorEventObserver)===null||b===void 0||b.emit("enabled",!0))}),f.addListener("error",h=>{f.status()==="closed"&&(this._removeCall(f),u()),this._audio&&this._audio._maybeStopPollingVolume(),this._maybeStopIncomingSound()}),f.once("cancel",()=>{this._log.info(`Canceled: ${f.parameters.CallSid}`),this._removeCall(f),u(),this._audio&&this._audio._maybeStopPollingVolume(),this._maybeStopIncomingSound()}),f.once("disconnect",()=>{this._audio&&this._audio._maybeStopPollingVolume(),this._removeCall(f),u(),this._maybeStopIncomingSound()}),f.once("reject",()=>{this._log.info(`Rejected: ${f.parameters.CallSid}`),this._audio&&this._audio._maybeStopPollingVolume(),this._removeCall(f),u(),this._maybeStopIncomingSound()}),f.on("transportClose",()=>{f.status()===xe.State.Pending&&(this._audio&&this._audio._maybeStopPollingVolume(),this._removeCall(f),this._maybeStopIncomingSound())}),f})}_maybeStopIncomingSound(){this._calls.length||this._soundcache.get(_e.SoundName.Incoming).stop()}_removeCall(e){this._activeCall===e&&(this._activeCall=null,this._makeCallPromise=null);for(let n=this._calls.length-1;n>=0;n--)e===this._calls[n]&&this._calls.splice(n,1)}_sendPresence(e){return ge(this,void 0,void 0,function*(){const n=yield this._streamConnectedPromise;n&&(n.register({audio:e}),e?this._startRegistrationTimer():this._stopRegistrationTimer())})}_setState(e){if(e===this.state)return;this._state=e;const n=this._stateEventMapping[e];this._log.debug(`#${n}`),this.emit(n)}_setupAudioHelper(){this._audioProcessorEventObserver||(this._audioProcessorEventObserver=new _oe,this._audioProcessorEventObserver.on("event",({name:n,group:r,isRemote:i})=>{this._publisher.info(r,n,{is_remote:i},this._activeCall)}));const e={audioContext:_e.audioContext,audioProcessorEventObserver:this._audioProcessorEventObserver,beforeSetInputDevice:()=>this._makeCallPromise?(this._log.debug("beforeSetInputDevice pause detected"),this._makeCallPromise):(this._log.debug("beforeSetInputDevice pause not detected, setting default"),Promise.resolve()),enumerateDevices:this._options.enumerateDevices,getUserMedia:this._options.getUserMedia||bse};if(this._audio){this._log.info("Found existing audio helper; updating options..."),this._audio._updateUserOptions(e);return}this._audio=new(this._options.AudioHelper||xoe)(this._updateSinkIds,this._updateInputStream,e),this._audio.on("deviceChange",n=>{const r=this._activeCall,i=n.map(o=>o.deviceId);this._publisher.info("audio","device-change",{lost_active_device_ids:i},r),r&&r._mediaHandler._onInputDevicesChanged()})}_setupLoglevel(e){const n=typeof e=="number"||typeof e=="string"?e:Wf.levels.ERROR;this._log.setDefaultLevel(n),this._log.info("Set logger default level to",n)}_setupPublisher(){this._publisher&&(this._log.info("Found existing publisher; destroying..."),this._destroyPublisher());const e={defaultPayload:this._createDefaultPayload,metadata:{app_name:this._options.appName,app_version:this._options.appVersion}};return this._options.eventgw&&(e.host=this._options.eventgw),this._home&&(e.host=QI(this._home)),this._publisher=new(this._options.Publisher||ir)(Ase,this.token,e),this._options.publishEvents===!1?this._publisher.disable():this._publisher.on("error",n=>{this._log.warn("Cannot connect to insights.",n)}),this._publisher}_setupStream(){return this._stream&&(this._log.info("Found existing stream; destroying..."),this._destroyStream()),this._log.info("Setting up VSP"),this._stream=new(this._options.PStream||jt)(this.token,this._chunderURIs,{backoffMaxMs:this._options.backoffMaxMs,maxPreferredDurationMs:this._options.maxCallSignalingTimeoutMs}),this._stream.addListener("close",this._onSignalingClose),this._stream.addListener("connected",this._onSignalingConnected),this._stream.addListener("error",this._onSignalingError),this._stream.addListener("invite",this._onSignalingInvite),this._stream.addListener("offline",this._onSignalingOffline),this._stream.addListener("ready",this._onSignalingReady),this._streamConnectedPromise=sT(this._stream,"connected","close").then(()=>this._stream)}_showIncomingCall(e,n){let r;return Promise.race([n(),new Promise((i,o)=>{r=setTimeout(()=>{const s="Playing incoming ringtone took too long; it might not play. Continuing execution...";o(new Error(s))},Ese)})]).catch(i=>{this._log.warn(i.message)}).then(()=>{clearTimeout(r),this._log.debug("#incoming",JSON.stringify({customParameters:e.customParameters,parameters:e.parameters})),this.emit(_e.EventName.Incoming,e)})}_startRegistrationTimer(){this._stopRegistrationTimer(),this._regTimer=setTimeout(()=>{this._sendPresence(!0)},Cse)}_stopRegistrationTimer(){this._regTimer&&clearTimeout(this._regTimer)}_throwIfDestroyed(){if(this.state===_e.State.Destroyed)throw new bi("Device has been destroyed.")}_updateRingtoneSinkIds(e){return Promise.resolve(this._soundcache.get(_e.SoundName.Incoming).setSinkIds(e))}_updateSpeakerSinkIds(e){Array.from(this._soundcache.entries()).filter(r=>r[0]!==_e.SoundName.Incoming).forEach(r=>r[1].setSinkIds(e)),this._callSinkIds=e;const n=this._activeCall;return n?n._setSinkIds(e):Promise.resolve()}}_e._defaultSounds={disconnect:{filename:"disconnect",maxDuration:3e3},dtmf0:{filename:"dtmf-0",maxDuration:1e3},dtmf1:{filename:"dtmf-1",maxDuration:1e3},dtmf2:{filename:"dtmf-2",maxDuration:1e3},dtmf3:{filename:"dtmf-3",maxDuration:1e3},dtmf4:{filename:"dtmf-4",maxDuration:1e3},dtmf5:{filename:"dtmf-5",maxDuration:1e3},dtmf6:{filename:"dtmf-6",maxDuration:1e3},dtmf7:{filename:"dtmf-7",maxDuration:1e3},dtmf8:{filename:"dtmf-8",maxDuration:1e3},dtmf9:{filename:"dtmf-9",maxDuration:1e3},dtmfh:{filename:"dtmf-hash",maxDuration:1e3},dtmfs:{filename:"dtmf-star",maxDuration:1e3},incoming:{filename:"incoming",shouldLoop:!0},outgoing:{filename:"outgoing",maxDuration:3e3}};(function(t){(function(e){e.Error="error",e.Incoming="incoming",e.Destroyed="destroyed",e.Unregistered="unregistered",e.Registering="registering",e.Registered="registered",e.TokenWillExpire="tokenWillExpire"})(t.EventName||(t.EventName={})),(function(e){e.Destroyed="destroyed",e.Unregistered="unregistered",e.Registering="registering",e.Registered="registered"})(t.State||(t.State={})),(function(e){e.Incoming="incoming",e.Outgoing="outgoing",e.Disconnect="disconnect",e.Dtmf0="dtmf0",e.Dtmf1="dtmf1",e.Dtmf2="dtmf2",e.Dtmf3="dtmf3",e.Dtmf4="dtmf4",e.Dtmf5="dtmf5",e.Dtmf6="dtmf6",e.Dtmf7="dtmf7",e.Dtmf8="dtmf8",e.Dtmf9="dtmf9",e.DtmfS="dtmfs",e.DtmfH="dtmfh"})(t.SoundName||(t.SoundName={}))})(_e||(_e={}));class Ow{constructor(e,n=!1){this.deleted=!1;let r;const i=e.candidate.split("network-cost ");i[1]&&(r=parseInt(i[1],10)),this.candidateType=e.type,this.ip=e.ip||e.address,this.isRemote=n,this.networkCost=r,this.port=e.port,this.priority=e.priority,this.protocol=e.protocol,this.relatedAddress=e.relatedAddress,this.relatedPort=e.relatedPort,this.tcpType=e.tcpType,this.transportId=e.sdpMid}toPayload(){return{candidate_type:this.candidateType,deleted:this.deleted,ip:this.ip,is_remote:this.isRemote,"network-cost":this.networkCost,port:this.port,priority:this.priority,protocol:this.protocol,related_address:this.relatedAddress,related_port:this.relatedPort,tcp_type:this.tcpType,transport_id:this.transportId}}}const i2=94.768;function kse(t,e,n){if(typeof t!="number"||typeof e!="number"||typeof n!="number"||!ug(t)||!ug(e)||!ug(n))return null;const r=t+e*2+10;let i=0;switch(!0){case r<160:i=i2-r/40;break;case r<1e3:i=i2-(r-120)/10;break}switch(!0){case n<=i/2.5:i=Math.max(i-n*2.5,6.52);break;default:i=0;break}return 1+.035*i+7e-6*i*(i-60)*(100-i)}function ug(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)&&t>=0}var jse={calculate:kse,isNonNegativeNumber:ug};const Rse=5,Nse=0,Ise=3,Mse=1e3,Dse=5*1e3,$se={audioInputLevel:{minStandardDeviation:327.67,sampleCount:10},audioOutputLevel:{minStandardDeviation:327.67,sampleCount:10},bytesReceived:{clearCount:2,min:1,raiseCount:3,sampleCount:3},bytesSent:{clearCount:2,min:1,raiseCount:3,sampleCount:3},jitter:{max:30},mos:{min:3},packetsLostFraction:[{max:1},{clearValue:1,maxAverage:3,sampleCount:7}],rtt:{max:400}};function Lse(t,e){return e.reduce((n,r)=>n+=r>t?1:0,0)}function Fse(t,e){return e.reduce((n,r)=>n+=r<t?1:0,0)}function Bse(t){if(t.length<=0)return null;const e=t.reduce((i,o)=>i+o,0)/t.length,n=t.map(i=>Math.pow(i-e,2));return Math.sqrt(n.reduce((i,o)=>i+o,0)/n.length)}function Use(t){return t.reduce((e,n)=>[...e,...n],[])}class qse extends ni.EventEmitter{constructor(e){super(),this._activeWarnings=new Map,this._currentStreaks=new Map,this._inputVolumes=[],this._outputVolumes=[],this._sampleBuffer=[],this._supplementalSampleBuffers={audioInputLevel:[],audioOutputLevel:[]},this._warningsEnabled=!0,e=e||{},this._getRTCStats=e.getRTCStats||$oe,this._mos=e.Mos||jse,this._peerConnection=e.peerConnection,this._thresholds=Object.assign(Object.assign({},$se),e.thresholds);const n=Object.values(this._thresholds).map(r=>r.sampleCount).filter(r=>!!r);this._maxSampleCount=Math.max(Rse,...n),this._peerConnection&&this.enable(this._peerConnection)}addVolumes(e,n){this._inputVolumes.push(e),this._outputVolumes.push(n)}disable(){return this._sampleInterval&&(clearInterval(this._sampleInterval),delete this._sampleInterval),this}disableWarnings(){return this._warningsEnabled&&this._activeWarnings.clear(),this._warningsEnabled=!1,this}enable(e){if(e){if(this._peerConnection&&e!==this._peerConnection)throw new pt("Attempted to replace an existing PeerConnection in StatsMonitor.enable");this._peerConnection=e}if(!this._peerConnection)throw new pt("Can not enable StatsMonitor without a PeerConnection");return this._sampleInterval=this._sampleInterval||setInterval(this._fetchSample.bind(this),Mse),this}enableWarnings(){return this._warningsEnabled=!0,this}hasActiveWarning(e,n){const r=`${e}:${n}`;return!!this._activeWarnings.get(r)}_addSample(e){const n=this._sampleBuffer;n.push(e),n.length>this._maxSampleCount&&n.splice(0,n.length-this._maxSampleCount)}_clearWarning(e,n,r){const i=`${e}:${n}`,o=this._activeWarnings.get(i);!o||Date.now()-o.timeRaised<Dse||(this._activeWarnings.delete(i),this.emit("warning-cleared",Object.assign(Object.assign({},r),{name:e,threshold:{name:n,value:this._thresholds[e][n]}})))}_createSample(e,n){const r=n&&n.totals.bytesSent||0,i=n&&n.totals.bytesReceived||0,o=n&&n.totals.packetsSent||0,s=n&&n.totals.packetsReceived||0,a=n&&n.totals.packetsLost||0,c=e.bytesSent-r,u=e.bytesReceived-i,f=e.packetsSent-o,h=e.packetsReceived-s,p=e.packetsLost-a,v=h+p,x=v>0?p/v*100:0,b=e.packetsReceived+e.packetsLost,y=b>0?e.packetsLost/b*100:100,_=typeof e.rtt=="number"||!n?e.rtt:n.rtt,T=this._inputVolumes.splice(0);this._supplementalSampleBuffers.audioInputLevel.push(T);const S=this._outputVolumes.splice(0);return this._supplementalSampleBuffers.audioOutputLevel.push(S),{audioInputLevel:Math.round(Ef(T)),audioOutputLevel:Math.round(Ef(S)),bytesReceived:u,bytesSent:c,codecName:e.codecName,jitter:e.jitter,mos:this._mos.calculate(_,e.jitter,n&&x),packetsLost:p,packetsLostFraction:x,packetsReceived:h,packetsSent:f,rtt:_,timestamp:e.timestamp,totals:{bytesReceived:e.bytesReceived,bytesSent:e.bytesSent,packetsLost:e.packetsLost,packetsLostFraction:y,packetsReceived:e.packetsReceived,packetsSent:e.packetsSent}}}_fetchSample(){this._getSample().then(e=>{this._addSample(e),this._raiseWarnings(),this.emit("sample",e)}).catch(e=>{this.disable(),this.emit("error",e)})}_getSample(){return this._getRTCStats(this._peerConnection).then(e=>{let n=null;return this._sampleBuffer.length&&(n=this._sampleBuffer[this._sampleBuffer.length-1]),this._createSample(e,n)})}_raiseWarning(e,n,r){const i=`${e}:${n}`;if(this._activeWarnings.has(i))return;this._activeWarnings.set(i,{timeRaised:Date.now()});const o=this._thresholds[e];let s;if(Array.isArray(o)){const a=o.find(c=>n in c);a&&(s=a[n])}else s=this._thresholds[e][n];this.emit("warning",Object.assign(Object.assign({},r),{name:e,threshold:{name:n,value:s}}))}_raiseWarnings(){this._warningsEnabled&&Object.keys(this._thresholds).forEach(e=>this._raiseWarningsForStat(e))}_raiseWarningsForStat(e){(Array.isArray(this._thresholds[e])?this._thresholds[e]:[this._thresholds[e]]).forEach(r=>{const i=this._sampleBuffer,o=r.clearCount||Nse,s=r.raiseCount||Ise,a=r.sampleCount||this._maxSampleCount;let c=i.slice(-a);const u=c.map(p=>p[e]);if(u.some(p=>typeof p>"u"||p===null))return;let h;if(typeof r.max=="number"&&(h=Lse(r.max,u),h>=s?this._raiseWarning(e,"max",{values:u,samples:c}):h<=o&&this._clearWarning(e,"max",{values:u,samples:c})),typeof r.min=="number"&&(h=Fse(r.min,u),h>=s?this._raiseWarning(e,"min",{values:u,samples:c}):h<=o&&this._clearWarning(e,"min",{values:u,samples:c})),typeof r.maxDuration=="number"&&i.length>1){c=i.slice(-2);const p=c[0][e],v=c[1][e],x=this._currentStreaks.get(e)||0,b=p===v?x+1:0;this._currentStreaks.set(e,b),b>=r.maxDuration?this._raiseWarning(e,"maxDuration",{value:b}):b===0&&this._clearWarning(e,"maxDuration",{value:x})}if(typeof r.minStandardDeviation=="number"){const p=this._supplementalSampleBuffers[e];if(!p||p.length<r.sampleCount)return;p.length>r.sampleCount&&p.splice(0,p.length-r.sampleCount);const v=Use(p.slice(-a)),x=Bse(v);if(typeof x!="number")return;x<r.minStandardDeviation?this._raiseWarning(e,"minStandardDeviation",{value:x}):this._clearWarning(e,"minStandardDeviation",{value:x})}[["maxAverage",(p,v)=>p>v],["minAverage",(p,v)=>p<v]].forEach(([p,v])=>{if(typeof r[p]=="number"&&u.length>=a){const x=Ef(u);v(x,r[p])?this._raiseWarning(e,p,{values:u,samples:c}):v(x,r.clearValue||r[p])||this._clearWarning(e,p,{values:u,samples:c})}})})}}const o2={factor:1.1,jitter:.5,max:3e4,min:1},Vse=70,Wse=500,zse=160,Hse=10,Gse=5e3,s2={disconnect:!0,info:{code:31003,message:"Connection with Twilio was interrupted.",twilioError:new Yi.ConnectionError}},a2={packetsLostFraction:{max:"packet-loss",maxAverage:"packets-lost-fraction"}},l2={audioInputLevel:"audio-input-level",audioOutputLevel:"audio-output-level",bytesReceived:"bytes-received",bytesSent:"bytes-sent",jitter:"jitter",mos:"mos",rtt:"rtt"},Kse={max:"high-",maxAverage:"high-",maxDuration:"constant-",min:"low-",minStandardDeviation:"constant-"};class xe extends ni.EventEmitter{get direction(){return this._direction}get codec(){return this._codec}get connectToken(){const e=this._signalingReconnectToken,n=this.parameters&&this.parameters.CallSid?this.parameters.CallSid:void 0;if(!e||!n)return;const r=this.customParameters&&typeof this.customParameters.keys=="function"?Array.from(this.customParameters.keys()).reduce((o,s)=>(o[s]=this.customParameters.get(s),o),{}):{},i=this.parameters||{};return btoa(encodeURIComponent(JSON.stringify({customParameters:r,parameters:i,signalingReconnectToken:e})))}constructor(e,n){super(),this.parameters={},this._inputVolumeStreak=0,this._isAnswered=!1,this._isCancelled=!1,this._isRejected=!1,this._latestInputVolume=0,this._latestOutputVolume=0,this._log=new vn("Call"),this._mediaStatus=xe.State.Pending,this._messages=new Map,this._metricsSamples=[],this._options={MediaHandler:Fe,MediaStream:null,enableImprovedSignalingErrorPrecision:!1,offerSdp:null,shouldPlayDisconnect:()=>!0,voiceEventSidGenerator:uT},this._outputVolumeStreak=0,this._shouldSendHangup=!0,this._signalingStatus=xe.State.Pending,this._soundcache=new Map,this._status=xe.State.Pending,this._wasConnected=!1,this.toString=()=>"[Twilio.Call instance]",this._emitWarning=(s,a,c,u,f,h)=>{const v=`${s}warning${f?"-cleared":"-raised"}`;if(a==="constant-audio-input-level"&&this.isMuted())return;let x=f?"info":"warning";a==="constant-audio-output-level"&&(x="info");const b={threshold:c};if(u&&(u instanceof Array?b.values=u.map(y=>typeof y=="number"?Math.round(y*100)/100:u):b.value=u),this._publisher.post(x,v,a,{data:b},this),a!=="constant-audio-output-level"){const y=f?"warning-cleared":"warning";this._log.debug(`#${y}`,a),this.emit(y,a,h&&!f?h:null)}},this._onAck=s=>{const{acktype:a,callsid:c,voiceeventsid:u}=s;if(this.parameters.CallSid!==c){this._log.warn(`Received ack from a different callsid: ${c}`);return}a==="message"&&this._onMessageSent(u)},this._onAnswer=s=>{typeof s.reconnect=="string"&&(this._signalingReconnectToken=s.reconnect),!(this._isAnswered&&this._status!==xe.State.Reconnecting)&&(this._setCallSid(s),this._isAnswered=!0,this._maybeTransitionToOpen())},this._onCancel=s=>{const a=s.callsid;this.parameters.CallSid===a&&(this._isCancelled=!0,this._publisher.info("connection","cancel",null,this),this._cleanupEventListeners(),this._mediaHandler.close(),this._status=xe.State.Closed,this._log.debug("#cancel"),this.emit("cancel"),this._pstream.removeListener("cancel",this._onCancel))},this._onConnected=()=>{this._log.info("Received connected from pstream"),this._signalingReconnectToken&&this._mediaHandler.version&&this._pstream.reconnect(this._mediaHandler.version.getSDP(),this.parameters.CallSid,this._signalingReconnectToken)},this._onHangup=s=>{if(this.status()!==xe.State.Closed){if(s.callsid&&(this.parameters.CallSid||this.outboundConnectionId)){if(s.callsid!==this.parameters.CallSid&&s.callsid!==this.outboundConnectionId)return}else if(s.callsid)return;if(this._log.info("Received HANGUP from gateway"),s.error){const a=s.error.code,c=iT(this._options.enableImprovedSignalingErrorPrecision,a),u=typeof c<"u"?new c(s.error.message):new Wn.ConnectionError("Error sent from gateway in HANGUP",s.error);this._log.error("Received an error from the gateway:",u),this._log.debug("#error",u),this.emit("error",u)}this._shouldSendHangup=!1,this._publisher.info("connection","disconnected-by-remote",null,this),this._disconnect(null,!0),this._cleanupEventListeners()}},this._onMediaFailure=s=>{const{ConnectionDisconnected:a,ConnectionFailed:c,IceGatheringFailed:u,LowBytes:f}=xe.MediaFailure,h=s===c||s===u;if(!sA(window,window.navigator)&&s===c)return this._mediaHandler.onerror(s2);if(this._mediaStatus===xe.State.Reconnecting){if(h){if(Date.now()-this._mediaReconnectStartTime>o2.max)return this._log.warn("Exceeded max ICE retries"),this._mediaHandler.onerror(s2);try{this._mediaReconnectBackoff.backoff()}catch(b){if(!(b.message&&b.message==="Backoff in progress."))throw b}}return}const p=this._mediaHandler.version.pc,v=p&&p.iceConnectionState==="disconnected",x=this._monitor.hasActiveWarning("bytesSent","min")||this._monitor.hasActiveWarning("bytesReceived","min");if(s===f&&v||s===a&&x||h){const b=new Yi.ConnectionError("Media connection failed.");this._log.warn("ICE Connection disconnected."),this._publisher.warn("connection","error",b,this),this._publisher.info("connection","reconnecting",null,this),this._mediaReconnectStartTime=Date.now(),this._status=xe.State.Reconnecting,this._mediaStatus=xe.State.Reconnecting,this._mediaReconnectBackoff.reset(),this._mediaReconnectBackoff.backoff(),this._log.debug("#reconnecting"),this.emit("reconnecting",b)}},this._onMediaReconnected=()=>{this._mediaStatus===xe.State.Reconnecting&&(this._log.info("ICE Connection reestablished."),this._mediaStatus=xe.State.Open,this._signalingStatus===xe.State.Open&&(this._publisher.info("connection","reconnected",null,this),this._log.debug("#reconnected"),this.emit("reconnected"),this._status=xe.State.Open))},this._onMessageReceived=s=>{const{callsid:a,content:c,contenttype:u,messagetype:f,voiceeventsid:h}=s;if(this.parameters.CallSid!==a){this._log.warn(`Received a message from a different callsid: ${a}`);return}const p={content:c,contentType:u,messageType:f,voiceEventSid:h};this._publisher.info("call-message",f,{content_type:u,event_type:"received",voice_event_sid:h},this),this._log.debug("#messageReceived",JSON.stringify(p)),this.emit("messageReceived",p)},this._onMessageSent=s=>{if(!this._messages.has(s)){this._log.warn(`Received a messageSent with a voiceEventSid that doesn't exists: ${s}`);return}const a=this._messages.get(s);this._messages.delete(s),this._publisher.info("call-message",a==null?void 0:a.messageType,{content_type:a==null?void 0:a.contentType,event_type:"sent",voice_event_sid:s},this),this._log.debug("#messageSent",JSON.stringify(a)),this.emit("messageSent",a)},this._onRinging=s=>{if(this._setCallSid(s),this._status!==xe.State.Connecting&&this._status!==xe.State.Ringing)return;const a=!!s.sdp;this._status=xe.State.Ringing,this._publisher.info("connection","outgoing-ringing",{hasEarlyMedia:a},this),this._log.debug("#ringing"),this.emit("ringing",a)},this._onRTCSample=s=>{const a=Object.assign(Object.assign({},s),{inputVolume:this._latestInputVolume,outputVolume:this._latestOutputVolume});this._codec=a.codecName,this._metricsSamples.push(a),this._metricsSamples.length>=Hse&&this._publishMetrics(),this.emit("sample",s)},this._onSignalingError=s=>{const{callsid:a,voiceeventsid:c,error:u}=s;if(this.parameters.CallSid!==a){this._log.warn(`Received an error from a different callsid: ${a}`);return}if(c&&this._messages.has(c)){this._messages.delete(c),this._log.warn("Received an error while sending a message.",s),this._publisher.error("call-message","error",{code:u.code,message:u.message,voice_event_sid:c},this);let f;const h=iT(!!this._options.enableImprovedSignalingErrorPrecision,u.code);typeof h<"u"&&(f=new h(u)),f||(this._log.error("Unknown Call Message Error: ",u),f=new Wn.UnknownError(u.message,u)),this._log.debug("#error",u,f),this.emit("error",f)}},this._onSignalingReconnected=()=>{this._signalingStatus===xe.State.Reconnecting&&(this._log.info("Signaling Connection reestablished."),this._signalingStatus=xe.State.Open,this._mediaStatus===xe.State.Open&&(this._publisher.info("connection","reconnected",null,this),this._log.debug("#reconnected"),this.emit("reconnected"),this._status=xe.State.Open))},this._onTransportClose=()=>{this._log.error("Received transportClose from pstream"),this._log.debug("#transportClose"),this.emit("transportClose"),this._signalingReconnectToken?(this._status=xe.State.Reconnecting,this._signalingStatus=xe.State.Reconnecting,this._publisher.info("connection","reconnecting",null,this),this._log.debug("#reconnecting"),this.emit("reconnecting",new ei.ConnectionDisconnected)):(this._status=xe.State.Closed,this._signalingStatus=xe.State.Closed)},this._reemitWarning=(s,a)=>{const c=/^audio/.test(s.name)?"audio-level-":"network-quality-",u=Kse[s.threshold.name];let f;s.name in a2?f=a2[s.name][s.threshold.name]:s.name in l2&&(f=l2[s.name]);const h=u+f;this._emitWarning(c,h,s.threshold.value,s.values||s.value,a,s)},this._reemitWarningCleared=s=>{this._reemitWarning(s,!0)},this._soundcache=e.soundcache,typeof e.onIgnore=="function"&&(this._onIgnore=e.onIgnore);const r=n&&n.twimlParams||{};this.customParameters=new Map(Object.entries(r).map(([s,a])=>[s,String(a)])),Object.assign(this._options,n),this._options.callParameters&&(this.parameters=this._options.callParameters),this._options.reconnectToken&&(this._signalingReconnectToken=this._options.reconnectToken),this._voiceEventSidGenerator=this._options.voiceEventSidGenerator||uT,this._direction=this.parameters.CallSid&&!this._options.reconnectCallSid?xe.CallDirection.Incoming:xe.CallDirection.Outgoing,this.parameters?this.callerInfo=this.parameters.StirStatus?{isVerified:this.parameters.StirStatus==="TN-Validation-Passed-A"}:null:this.callerInfo=null,this._mediaReconnectBackoff=new tT(o2),this._mediaReconnectBackoff.on("ready",()=>this._mediaHandler.iceRestart()),this.outboundConnectionId=Yse();const i=this._publisher=e.publisher;this._direction===xe.CallDirection.Incoming?i.info("connection","incoming",null,this):i.info("connection","outgoing",{preflight:this._options.preflight,reconnect:!!this._options.reconnectCallSid},this);const o=this._monitor=new(this._options.StatsMonitor||qse);o.on("sample",this._onRTCSample),o.disableWarnings(),setTimeout(()=>o.enableWarnings(),Gse),o.on("warning",(s,a)=>{(s.name==="bytesSent"||s.name==="bytesReceived")&&this._onMediaFailure(xe.MediaFailure.LowBytes),this._reemitWarning(s,a)}),o.on("warning-cleared",s=>{this._reemitWarningCleared(s)}),this._mediaHandler=new this._options.MediaHandler(e.audioHelper,e.pstream,{MediaStream:this._options.MediaStream,RTCPeerConnection:this._options.RTCPeerConnection,codecPreferences:this._options.codecPreferences,dscp:this._options.dscp,forceAggressiveIceNomination:this._options.forceAggressiveIceNomination,maxAverageBitrate:this._options.maxAverageBitrate}),this.on("volume",(s,a)=>{this._inputVolumeStreak=this._checkVolume(s,this._inputVolumeStreak,this._latestInputVolume,"input"),this._outputVolumeStreak=this._checkVolume(a,this._outputVolumeStreak,this._latestOutputVolume,"output"),this._latestInputVolume=s,this._latestOutputVolume=a}),this._mediaHandler.onaudio=s=>{this._log.debug("#audio"),this.emit("audio",s)},this._mediaHandler.onvolume=(s,a,c,u)=>{o.addVolumes(c/255*32767,u/255*32767),this.emit("volume",s,a)},this._mediaHandler.ondtlstransportstatechange=s=>{const a=s==="failed"?"error":"debug";this._publisher.post(a,"dtls-transport-state",s,null,this)},this._mediaHandler.onpcconnectionstatechange=s=>{let a="debug";const c=this._mediaHandler.getRTCDtlsTransport();s==="failed"&&(a=c&&c.state==="failed"?"error":"warning"),this._publisher.post(a,"pc-connection-state",s,null,this)},this._mediaHandler.onicecandidate=s=>{const a=new Ow(s).toPayload();this._publisher.debug("ice-candidate","ice-candidate",a,this)},this._mediaHandler.onselectedcandidatepairchange=s=>{const a=new Ow(s.local).toPayload(),c=new Ow(s.remote,!0).toPayload();this._publisher.debug("ice-candidate","selected-ice-candidate-pair",{local_candidate:a,remote_candidate:c},this)},this._mediaHandler.oniceconnectionstatechange=s=>{const a=s==="failed"?"error":"debug";this._publisher.post(a,"ice-connection-state",s,null,this)},this._mediaHandler.onicegatheringfailure=s=>{this._publisher.warn("ice-gathering-state",s,null,this),this._onMediaFailure(xe.MediaFailure.IceGatheringFailed)},this._mediaHandler.onicegatheringstatechange=s=>{this._publisher.debug("ice-gathering-state",s,null,this)},this._mediaHandler.onsignalingstatechange=s=>{this._publisher.debug("signaling-state",s,null,this)},this._mediaHandler.ondisconnected=s=>{this._log.warn(s),this._publisher.warn("network-quality-warning-raised","ice-connectivity-lost",{message:s},this),this._log.debug("#warning","ice-connectivity-lost"),this.emit("warning","ice-connectivity-lost"),this._onMediaFailure(xe.MediaFailure.ConnectionDisconnected)},this._mediaHandler.onfailed=s=>{this._onMediaFailure(xe.MediaFailure.ConnectionFailed)},this._mediaHandler.onconnected=()=>{this._status===xe.State.Reconnecting&&this._onMediaReconnected()},this._mediaHandler.onreconnected=s=>{this._log.info(s),this._publisher.info("network-quality-warning-cleared","ice-connectivity-lost",{message:s},this),this._log.debug("#warning-cleared","ice-connectivity-lost"),this.emit("warning-cleared","ice-connectivity-lost"),this._onMediaReconnected()},this._mediaHandler.onerror=s=>{s.disconnect===!0&&this._disconnect(s.info&&s.info.message);const a=s.info.twilioError||new Wn.UnknownError(s.info.message);this._log.error("Received an error from MediaStream:",s),this._log.debug("#error",a),this.emit("error",a)},this._mediaHandler.onopen=()=>{this._status===xe.State.Open||this._status===xe.State.Reconnecting||(this._status===xe.State.Ringing||this._status===xe.State.Connecting?(this.mute(this._mediaHandler.isMuted),this._mediaStatus=xe.State.Open,this._maybeTransitionToOpen()):this._mediaHandler.close())},this._mediaHandler.onclose=()=>{this._status=xe.State.Closed,this._options.shouldPlayDisconnect&&this._options.shouldPlayDisconnect()&&!this._isCancelled&&!this._isRejected&&this._soundcache.get(_e.SoundName.Disconnect).play(),o.disable(),this._publishMetrics(),!this._isCancelled&&!this._isRejected&&(this._log.debug("#disconnect"),this.emit("disconnect",this))},this._pstream=e.pstream,this._pstream.on("ack",this._onAck),this._pstream.on("cancel",this._onCancel),this._pstream.on("error",this._onSignalingError),this._pstream.on("ringing",this._onRinging),this._pstream.on("transportClose",this._onTransportClose),this._pstream.on("connected",this._onConnected),this._pstream.on("message",this._onMessageReceived),this.on("error",s=>{this._publisher.error("connection","error",{code:s.code,message:s.message},this),this._pstream&&this._pstream.status==="disconnected"&&this._cleanupEventListeners()}),this.on("disconnect",()=>{this._cleanupEventListeners()})}_setInputTracksFromStream(e){return this._mediaHandler.setInputTracksFromStream(e)}_setSinkIds(e){return this._mediaHandler._setSinkIds(e)}accept(e){if(this._log.debug(".accept",e),this._status!==xe.State.Pending){this._log.debug(`.accept noop. status is '${this._status}'`);return}e=e||{};const n=e.rtcConfiguration||this._options.rtcConfiguration,r=e.rtcConstraints||this._options.rtcConstraints||{},i={audio:typeof r.audio<"u"?r.audio:!0};this._status=xe.State.Connecting;const o=()=>{if(this._status!==xe.State.Connecting){this._cleanupEventListeners(),this._mediaHandler.close();return}const c=f=>{const h=this._direction===xe.CallDirection.Incoming?"accepted-by-local":"accepted-by-remote";this._publisher.info("connection",h,null,this);const{codecName:p,codecParams:v}=ise(this._mediaHandler.version.getSDP());this._publisher.info("settings","codec",{codec_params:v,selected_codec:p},this),this._monitor.enable(f)},u=typeof this._options.getSinkIds=="function"&&this._options.getSinkIds();if(Array.isArray(u)&&this._mediaHandler._setSinkIds(u).catch(()=>{}),this._pstream.addListener("hangup",this._onHangup),this._direction===xe.CallDirection.Incoming)this._isAnswered=!0,this._pstream.on("answer",this._onAnswer),this._mediaHandler.answerIncomingCall(this.parameters.CallSid,this._options.offerSdp,n,c);else{const f=Array.from(this.customParameters.entries()).map(h=>`${encodeURIComponent(h[0])}=${encodeURIComponent(h[1])}`).join("&");this._pstream.on("answer",this._onAnswer),this._mediaHandler.makeOutgoingCall(f,this._signalingReconnectToken,this._options.reconnectCallSid||this.outboundConnectionId,n,c)}};this._options.beforeAccept&&this._options.beforeAccept(this);const s=typeof this._options.getInputStream=="function"&&this._options.getInputStream();(s?this._mediaHandler.setInputTracksFromStream(s):this._mediaHandler.openDefaultDeviceWithConstraints(i)).then(()=>{this._publisher.info("get-user-media","succeeded",{data:{audioConstraints:i}},this),o()},c=>{let u;c.code===31208||["PermissionDeniedError","NotAllowedError"].indexOf(c.name)!==-1?(u=new au.PermissionDeniedError,this._publisher.error("get-user-media","denied",{data:{audioConstraints:i,error:c}},this)):(u=new au.AcquisitionFailedError,this._publisher.error("get-user-media","failed",{data:{audioConstraints:i,error:c}},this)),this._disconnect(),this._log.debug("#error",c),this.emit("error",u)})}disconnect(){this._log.debug(".disconnect"),this._disconnect()}getLocalStream(){return this._mediaHandler&&this._mediaHandler.stream}getRemoteStream(){return this._mediaHandler&&this._mediaHandler._remoteStream}ignore(){if(this._log.debug(".ignore"),this._status!==xe.State.Pending){this._log.debug(`.ignore noop. status is '${this._status}'`);return}this._status=xe.State.Closed,this._mediaHandler.ignore(this.parameters.CallSid),this._publisher.info("connection","ignored-by-local",null,this),this._onIgnore&&this._onIgnore()}isMuted(){return this._mediaHandler.isMuted}mute(e=!0){this._log.debug(".mute",e);const n=this._mediaHandler.isMuted;this._mediaHandler.mute(e);const r=this._mediaHandler.isMuted;n!==r&&(this._publisher.info("connection",r?"muted":"unmuted",null,this),this._log.debug("#mute",r),this.emit("mute",r,this))}postFeedback(e,n){if(typeof e>"u"||e===null)return this._postFeedbackDeclined();if(!Object.values(xe.FeedbackScore).includes(e))throw new pt(`Feedback score must be one of: ${Object.values(xe.FeedbackScore)}`);if(typeof n<"u"&&n!==null&&!Object.values(xe.FeedbackIssue).includes(n))throw new pt(`Feedback issue must be one of: ${Object.values(xe.FeedbackIssue)}`);return this._publisher.info("feedback","received",{issue_name:n,quality_score:e},this,!0)}reject(){if(this._log.debug(".reject"),this._status!==xe.State.Pending){this._log.debug(`.reject noop. status is '${this._status}'`);return}this._isRejected=!0,this._pstream.reject(this.parameters.CallSid),this._mediaHandler.reject(this.parameters.CallSid),this._publisher.info("connection","rejected-by-local",null,this),this._cleanupEventListeners(),this._mediaHandler.close(),this._status=xe.State.Closed,this._log.debug("#reject"),this.emit("reject")}sendDigits(e){if(this._log.debug(".sendDigits",e),e.match(/[^0-9*#w]/))throw new pt("Illegal character passed into sendDigits");const n=this._options.customSounds||{},r=[];e.split("").forEach(a=>{let c=a!=="w"?`dtmf${a}`:"";c==="dtmf*"&&(c="dtmfs"),c==="dtmf#"&&(c="dtmfh"),r.push(c)});const i=()=>{const a=r.shift();a&&(this._options.dialtonePlayer&&!n[a]?this._options.dialtonePlayer.play(a):this._soundcache.get(a).play()),r.length&&setTimeout(()=>i(),200)};i();const o=this._mediaHandler.getOrCreateDTMFSender();function s(a){if(!a.length)return;const c=a.shift();c&&c.length&&o.insertDTMF(c,zse,Vse),setTimeout(s.bind(null,a),Wse)}if(o){if(!("canInsertDTMF"in o)||o.canInsertDTMF){this._log.info("Sending digits using RTCDTMFSender"),s(e.split("w"));return}this._log.info("RTCDTMFSender cannot insert DTMF")}if(this._log.info("Sending digits over PStream"),this._pstream!==null&&this._pstream.status!=="disconnected")this._pstream.dtmf(this.parameters.CallSid,e);else{const a=new Wn.ConnectionError("Could not send DTMF: Signaling channel is disconnected");this._log.debug("#error",a),this.emit("error",a)}}sendMessage(e){this._log.debug(".sendMessage",JSON.stringify(e));const{content:n,contentType:r,messageType:i}=e;if(typeof n>"u"||n===null)throw new pt("`content` is empty");if(typeof i!="string")throw new pt("`messageType` must be a string.");if(i.length===0)throw new pt("`messageType` must be a non-empty string.");if(this._pstream===null)throw new bi("Could not send CallMessage; Signaling channel is disconnected");const o=this.parameters.CallSid;if(typeof this.parameters.CallSid>"u")throw new bi("Could not send CallMessage; Call has no CallSid");const s=this._voiceEventSidGenerator();return this._messages.set(s,{content:n,contentType:r,messageType:i,voiceEventSid:s}),this._pstream.sendMessage(o,n,r,i,s),s}status(){return this._status}_checkVolume(e,n,r,i){const o=n>=10;let s=0;return r===e&&(s=n),s>=10?this._emitWarning("audio-level-",`constant-audio-${i}-level`,10,s,!1):o&&this._emitWarning("audio-level-",`constant-audio-${i}-level`,10,s,!0),s}_cleanupEventListeners(){const e=()=>{this._pstream&&(this._pstream.removeListener("ack",this._onAck),this._pstream.removeListener("answer",this._onAnswer),this._pstream.removeListener("cancel",this._onCancel),this._pstream.removeListener("error",this._onSignalingError),this._pstream.removeListener("hangup",this._onHangup),this._pstream.removeListener("ringing",this._onRinging),this._pstream.removeListener("transportClose",this._onTransportClose),this._pstream.removeListener("connected",this._onConnected),this._pstream.removeListener("message",this._onMessageReceived))};e(),setTimeout(e,0)}_createMetricPayload(){const e={call_sid:this.parameters.CallSid,dscp:!!this._options.dscp,sdk_version:Mc};return this._options.gateway&&(e.gateway=this._options.gateway),e.direction=this._direction,e}_disconnect(e,n){if(e=typeof e=="string"?e:null,!(this._status!==xe.State.Open&&this._status!==xe.State.Connecting&&this._status!==xe.State.Reconnecting&&this._status!==xe.State.Ringing)){if(this._log.info("Disconnecting..."),this._pstream!==null&&this._pstream.status!=="disconnected"&&this._shouldSendHangup){const r=this.parameters.CallSid||this.outboundConnectionId;r&&this._pstream.hangup(r,e)}this._cleanupEventListeners(),this._mediaHandler.close(),n||this._publisher.info("connection","disconnected-by-local",null,this)}}_maybeTransitionToOpen(){this._wasConnected,this._isAnswered&&(this._onSignalingReconnected(),this._signalingStatus=xe.State.Open,this._mediaHandler&&this._mediaHandler.status==="open"&&(this._status=xe.State.Open,this._wasConnected||(this._wasConnected=!0,this._log.debug("#accept"),this.emit("accept",this))))}_postFeedbackDeclined(){return this._publisher.info("feedback","received-none",null,this,!0)}_publishMetrics(){this._metricsSamples.length!==0&&this._publisher.postMetrics("quality-metrics-samples","metrics-sample",this._metricsSamples.splice(0),this._createMetricPayload(),this).catch(e=>{this._log.warn("Unable to post metrics to Insights. Received error:",e)})}_setCallSid(e){const n=e.callsid;n&&(this.parameters.CallSid=n,this._mediaHandler.callSid=n)}}xe.toString=()=>"[Twilio.Call class]";(function(t){(function(e){e.Closed="closed",e.Connecting="connecting",e.Open="open",e.Pending="pending",e.Reconnecting="reconnecting",e.Ringing="ringing"})(t.State||(t.State={})),(function(e){e.AudioLatency="audio-latency",e.ChoppyAudio="choppy-audio",e.DroppedCall="dropped-call",e.Echo="echo",e.NoisyCall="noisy-call",e.OneWayAudio="one-way-audio"})(t.FeedbackIssue||(t.FeedbackIssue={})),(function(e){e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five"})(t.FeedbackScore||(t.FeedbackScore={})),(function(e){e.Incoming="INCOMING",e.Outgoing="OUTGOING"})(t.CallDirection||(t.CallDirection={})),(function(e){e.Opus="opus",e.PCMU="pcmu"})(t.Codec||(t.Codec={})),(function(e){e.None="none",e.Timeout="timeout"})(t.IceGatheringFailureReason||(t.IceGatheringFailureReason={})),(function(e){e.ConnectionDisconnected="ConnectionDisconnected",e.ConnectionFailed="ConnectionFailed",e.IceGatheringFailed="IceGatheringFailed",e.LowBytes="LowBytes"})(t.MediaFailure||(t.MediaFailure={}))})(xe||(xe={}));function Yse(){return"TJSxxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}class Xse{constructor(){this.device=null,this.activeCall=null,this.isInitialized=!1,this.onCallAnsweredCallback=null,this.onCallEndedCallback=null,this.onCallErrorCallback=null}async initialize(e="demo@example.com"){if(this.isInitialized&&this.device)return console.log("Twilio Client already initialized"),!0;try{const n=await iu("twilioGenerateToken",{userEmail:e});return!n.success||!n.token?(console.warn("Twilio not configured, skipping client initialization"),!1):(this.device=new _e(n.token,{codecPreferences:["opus","pcmu"],enableImprovedSignalingErrorPrecision:!0,logLevel:1,maxAverageBitrate:16e3}),this.device.on("registered",()=>{console.log("Twilio Device ready to receive calls"),this.isInitialized=!0}),this.device.on("error",r=>{console.error("Twilio Device Error:",r),this.onCallErrorCallback&&this.onCallErrorCallback(r)}),this.device.on("incoming",r=>{console.log("Incoming call received"),this.activeCall=r,r.on("accept",()=>{console.log("Call accepted"),this.onCallAnsweredCallback&&this.onCallAnsweredCallback(r)}),r.on("disconnect",()=>{console.log("Call disconnected"),this.activeCall=null,this.onCallEndedCallback&&this.onCallEndedCallback()}),r.on("cancel",()=>{console.log("Call canceled"),this.activeCall=null,this.onCallEndedCallback&&this.onCallEndedCallback()}),r.on("reject",()=>{console.log("Call rejected"),this.activeCall=null,this.onCallEndedCallback&&this.onCallEndedCallback()}),r.accept()}),await this.device.register(),console.log("Twilio Client initialized successfully"),!0)}catch(n){return console.error("Error initializing Twilio Client:",n),this.isInitialized=!1,!1}}async getAudioDevices(){if(!this.device)throw new Error("Device not initialized");try{await this.device.audio.setInputDevice("default");const e=await navigator.mediaDevices.enumerateDevices(),n=e.filter(i=>i.kind==="audioinput").map(i=>({deviceId:i.deviceId,label:i.label||`Microphone ${i.deviceId.slice(0,5)}`})),r=e.filter(i=>i.kind==="audiooutput").map(i=>({deviceId:i.deviceId,label:i.label||`Speaker ${i.deviceId.slice(0,5)}`}));return{audioInputs:n,audioOutputs:r}}catch(e){return console.error("Error getting audio devices:",e),{audioInputs:[],audioOutputs:[]}}}async setInputDevice(e){if(!this.device)throw new Error("Device not initialized");try{await this.device.audio.setInputDevice(e),console.log("Input device set to:",e)}catch(n){throw console.error("Error setting input device:",n),n}}async setOutputDevice(e){if(!this.device)throw new Error("Device not initialized");try{await this.device.audio.speakerDevices.set(e),console.log("Output device set to:",e)}catch(n){throw console.error("Error setting output device:",n),n}}muteCall(){return this.activeCall?(this.activeCall.mute(!0),!0):!1}unmuteCall(){return this.activeCall?(this.activeCall.mute(!1),!0):!1}async makeCall(e,n={}){if(!this.device||!this.isInitialized)throw new Error("Twilio Device not initialized. Call initialize() first.");if(this.activeCall)throw new Error("Another call is already in progress");try{const r={To:e,...n};console.log("Making call with Device SDK:",r);const i=await this.device.connect({params:r});return this.activeCall=i,i.on("accept",()=>{console.log("Outbound call accepted (connected to Twilio)")}),i.on("ringing",()=>{console.log("Call is ringing")}),i.on("connect",()=>{console.log("Call connected (other party answered)"),this.onCallAnsweredCallback&&this.onCallAnsweredCallback(i)}),i.on("disconnect",()=>{console.log("Call disconnected"),this.activeCall=null,this.onCallEndedCallback&&this.onCallEndedCallback()}),i.on("cancel",()=>{console.log("Call canceled"),this.activeCall=null,this.onCallEndedCallback&&this.onCallEndedCallback()}),i.on("error",o=>{console.error("Call error:",o),this.activeCall=null,this.onCallErrorCallback&&this.onCallErrorCallback(o)}),i}catch(r){throw console.error("Error making call:",r),this.activeCall=null,r}}disconnectCall(){return this.activeCall?(this.activeCall.disconnect(),this.activeCall=null,!0):!1}onCallAnswered(e){this.onCallAnsweredCallback=e}onCallEnded(e){this.onCallEndedCallback=e}onCallError(e){this.onCallErrorCallback=e}async destroy(){this.activeCall&&(this.activeCall.disconnect(),this.activeCall=null),this.device&&(this.device.destroy(),this.device=null),this.isInitialized=!1}isReady(){return this.isInitialized&&this.device!==null}hasActiveCall(){return this.activeCall!==null}}const _t=new Xse;function Qse(t,e){const[n,r]=C.useState(null),[i,o]=C.useState(!1),[s,a]=C.useState(null),c=C.useRef(null),u=C.useRef(!1),f=_=>["completed","ended","failed","busy","no-answer","canceled","voicemail_detected"].includes(_),h=_=>["dialing","queued","ringing","in-progress","connected","initiating"].includes(_),p=_=>({dialing:{label:"Dialing...",color:"text-blue-600",bgColor:"bg-blue-100"},initiating:{label:"Initiating...",color:"text-blue-600",bgColor:"bg-blue-100"},queued:{label:"Queued",color:"text-yellow-600",bgColor:"bg-yellow-100"},ringing:{label:"Ringing...",color:"text-indigo-600",bgColor:"bg-indigo-100"},"in-progress":{label:"Connected",color:"text-green-600",bgColor:"bg-green-100"},connected:{label:"Connected",color:"text-green-600",bgColor:"bg-green-100"},completed:{label:"Ended",color:"text-slate-600",bgColor:"bg-slate-100"},ended:{label:"Ended",color:"text-slate-600",bgColor:"bg-slate-100"},failed:{label:"Failed",color:"text-red-600",bgColor:"bg-red-100"},busy:{label:"Busy",color:"text-orange-600",bgColor:"bg-orange-100"},"no-answer":{label:"No Answer",color:"text-slate-600",bgColor:"bg-slate-100"},canceled:{label:"Canceled",color:"text-slate-600",bgColor:"bg-slate-100"},voicemail_detected:{label:"Voicemail",color:"text-purple-600",bgColor:"bg-purple-100"}})[_]||{label:_,color:"text-slate-600",bgColor:"bg-slate-100"},v=C.useCallback(_=>_?{..._,statusInfo:p(_.status),isActive:h(_.status),isTerminal:f(_.status),secondsSinceStart:_.started_at?Math.floor((Date.now()-new Date(_.started_at).getTime())/1e3):0}:null,[]),x=C.useCallback(async()=>{if(!(!e||u.current)){u.current=!0;try{const{data:_,error:T}=await Ne.from("active_calls").select("*").eq("user_email",t).eq("lead_id",e).order("started_at",{ascending:!1}).limit(1).maybeSingle();if(T)throw T;const S=v(_);r(S),a(null)}catch(_){console.error("Error fetching current call:",_),a(_.message)}finally{u.current=!1}}},[t,e,v]);C.useEffect(()=>{if(!e){r(null);return}x();const _=`call_${t}_${e}_${Date.now()}`,T=Ne.channel(_).on("postgres_changes",{event:"*",schema:"public",table:"active_calls",filter:`user_email=eq.${t}`},S=>{var A;if(console.log("Call update received:",S.eventType,(A=S.new)==null?void 0:A.status),S.eventType==="DELETE")S.old.lead_id===e&&r(null);else if(S.new&&S.new.lead_id===e){const P=v(S.new);r(P)}}).subscribe(S=>{console.log("Subscription status:",S),o(S==="SUBSCRIBED")});return c.current=T,()=>{c.current&&(Ne.removeChannel(c.current),c.current=null)}},[t,e,x,v]);const b=C.useCallback(async()=>{n!=null&&n.call_sid&&(await Ne.from("active_calls").delete().eq("call_sid",n.call_sid),r(null))},[n]),y=C.useCallback(async(_,T={})=>{if(!(n!=null&&n.call_sid))return;const{error:S}=await Ne.from("active_calls").update({status:_,...T}).eq("call_sid",n.call_sid);if(S)throw console.error("Error updating call status:",S),S},[n]);return{currentCall:n,isConnected:i,error:s,refresh:x,clearCall:b,updateCallStatus:y,isActive:(n==null?void 0:n.isActive)||!1,isTerminal:(n==null?void 0:n.isTerminal)||!1}}function nt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Jse(t,e){const n=C.createContext(e),r=o=>{const{children:s,...a}=o,c=C.useMemo(()=>a,Object.values(a));return g.jsx(n.Provider,{value:c,children:s})};r.displayName=t+"Provider";function i(o){const s=C.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function Al(t,e=[]){let n=[];function r(o,s){const a=C.createContext(s),c=n.length;n=[...n,s];const u=h=>{var _;const{scope:p,children:v,...x}=h,b=((_=p==null?void 0:p[t])==null?void 0:_[c])||a,y=C.useMemo(()=>x,Object.values(x));return g.jsx(b.Provider,{value:y,children:v})};u.displayName=o+"Provider";function f(h,p){var b;const v=((b=p==null?void 0:p[t])==null?void 0:b[c])||a,x=C.useContext(v);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,f]}const i=()=>{const o=n.map(s=>C.createContext(s));return function(a){const c=(a==null?void 0:a[t])||o;return C.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,Zse(i,...e)]}function Zse(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...a,...h}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var Gn=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},eae=ZC[" useId ".trim().toString()]||(()=>{}),tae=0;function Ws(t){const[e,n]=C.useState(eae());return Gn(()=>{n(r=>r??String(tae++))},[t]),e?`radix-${e}`:""}var nae=ZC[" useInsertionEffect ".trim().toString()]||Gn;function lu({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,s]=rae({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:i;{const f=C.useRef(t!==void 0);C.useEffect(()=>{const h=f.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,r])}const u=C.useCallback(f=>{var h;if(a){const p=iae(f)?f(t):f;p!==t&&((h=s.current)==null||h.call(s,p))}else o(f)},[a,t,o,s]);return[c,u]}function rae({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),i=C.useRef(n),o=C.useRef(e);return nae(()=>{o.current=e},[e]),C.useEffect(()=>{var s;i.current!==n&&((s=o.current)==null||s.call(o,n),i.current=n)},[n,i]),[n,r,o]}function iae(t){return typeof t=="function"}function oae(t){const e=sae(t),n=C.forwardRef((r,i)=>{const{children:o,...s}=r,a=C.Children.toArray(o),c=a.find(lae);if(c){const u=c.props.children,f=a.map(h=>h===c?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...s,ref:i,children:C.isValidElement(u)?C.cloneElement(u,void 0,f):null})}return g.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function sae(t){const e=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const s=uae(i),a=cae(o,i.props);return i.type!==C.Fragment&&(a.ref=r?Hu(r,s):s),C.cloneElement(i,a)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var aae=Symbol("radix.slottable");function lae(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===aae}function cae(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const c=o(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function uae(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var dae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],it=dae.reduce((t,e)=>{const n=oae(`Primitive.${e}`),r=C.forwardRef((i,o)=>{const{asChild:s,...a}=i,c=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function fae(t,e){t&&Wh.flushSync(()=>t.dispatchEvent(e))}function Ks(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function hae(t,e=globalThis==null?void 0:globalThis.document){const n=Ks(t);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var pae="DismissableLayer",dT="dismissableLayer.update",mae="dismissableLayer.pointerDownOutside",gae="dismissableLayer.focusOutside",c2,d6=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lA=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...c}=t,u=C.useContext(d6),[f,h]=C.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=C.useState({}),x=qt(e,k=>h(k)),b=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=b.indexOf(y),T=f?b.indexOf(f):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,A=T>=_,P=bae(k=>{const R=k.target,I=[...u.branches].some(L=>L.contains(R));!A||I||(i==null||i(k),s==null||s(k),k.defaultPrevented||a==null||a())},p),O=wae(k=>{const R=k.target;[...u.branches].some(L=>L.contains(R))||(o==null||o(k),s==null||s(k),k.defaultPrevented||a==null||a())},p);return hae(k=>{T===u.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},p),C.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(c2=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),u2(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=c2)}},[f,p,n,u]),C.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),u2())},[f,u]),C.useEffect(()=>{const k=()=>v({});return document.addEventListener(dT,k),()=>document.removeEventListener(dT,k)},[]),g.jsx(it.div,{...c,ref:x,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:nt(t.onFocusCapture,O.onFocusCapture),onBlurCapture:nt(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:nt(t.onPointerDownCapture,P.onPointerDownCapture)})});lA.displayName=pae;var vae="DismissableLayerBranch",yae=C.forwardRef((t,e)=>{const n=C.useContext(d6),r=C.useRef(null),i=qt(e,r);return C.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),g.jsx(it.div,{...t,ref:i})});yae.displayName=vae;function bae(t,e=globalThis==null?void 0:globalThis.document){const n=Ks(t),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){f6(mae,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function wae(t,e=globalThis==null?void 0:globalThis.document){const n=Ks(t),r=C.useRef(!1);return C.useEffect(()=>{const i=o=>{o.target&&!r.current&&f6(gae,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function u2(){const t=new CustomEvent(dT);document.dispatchEvent(t)}function f6(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?fae(i,o):i.dispatchEvent(o)}var kw="focusScope.autoFocusOnMount",jw="focusScope.autoFocusOnUnmount",d2={bubbles:!1,cancelable:!0},xae="FocusScope",cA=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,c]=C.useState(null),u=Ks(i),f=Ks(o),h=C.useRef(null),p=qt(e,b=>c(b)),v=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let b=function(S){if(v.paused||!a)return;const A=S.target;a.contains(A)?h.current=A:Ps(h.current,{select:!0})},y=function(S){if(v.paused||!a)return;const A=S.relatedTarget;A!==null&&(a.contains(A)||Ps(h.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const P of S)P.removedNodes.length>0&&Ps(a)};document.addEventListener("focusin",b),document.addEventListener("focusout",y);const T=new MutationObserver(_);return a&&T.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",y),T.disconnect()}}},[r,a,v.paused]),C.useEffect(()=>{if(a){h2.add(v);const b=document.activeElement;if(!a.contains(b)){const _=new CustomEvent(kw,d2);a.addEventListener(kw,u),a.dispatchEvent(_),_.defaultPrevented||(_ae(Eae(h6(a)),{select:!0}),document.activeElement===b&&Ps(a))}return()=>{a.removeEventListener(kw,u),setTimeout(()=>{const _=new CustomEvent(jw,d2);a.addEventListener(jw,f),a.dispatchEvent(_),_.defaultPrevented||Ps(b??document.body,{select:!0}),a.removeEventListener(jw,f),h2.remove(v)},0)}}},[a,u,f,v]);const x=C.useCallback(b=>{if(!n&&!r||v.paused)return;const y=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,_=document.activeElement;if(y&&_){const T=b.currentTarget,[S,A]=Sae(T);S&&A?!b.shiftKey&&_===A?(b.preventDefault(),n&&Ps(S,{select:!0})):b.shiftKey&&_===S&&(b.preventDefault(),n&&Ps(A,{select:!0})):_===T&&b.preventDefault()}},[n,r,v.paused]);return g.jsx(it.div,{tabIndex:-1,...s,ref:p,onKeyDown:x})});cA.displayName=xae;function _ae(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ps(r,{select:e}),document.activeElement!==n)return}function Sae(t){const e=h6(t),n=f2(e,t),r=f2(e.reverse(),t);return[n,r]}function h6(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function f2(t,e){for(const n of t)if(!Pae(n,{upTo:e}))return n}function Pae(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Tae(t){return t instanceof HTMLInputElement&&"select"in t}function Ps(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Tae(t)&&e&&t.select()}}var h2=Cae();function Cae(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=p2(t,e),t.unshift(e)},remove(e){var n;t=p2(t,e),(n=t[0])==null||n.resume()}}}function p2(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Eae(t){return t.filter(e=>e.tagName!=="A")}var Aae="Portal",uA=C.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=C.useState(!1);Gn(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?tie.createPortal(g.jsx(it.div,{...r,ref:e}),s):null});uA.displayName=Aae;function Oae(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var zh=t=>{const{present:e,children:n}=t,r=kae(e),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),o=qt(r.ref,jae(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:o}):null};zh.displayName="Presence";function kae(t){const[e,n]=C.useState(),r=C.useRef(null),i=C.useRef(t),o=C.useRef("none"),s=t?"mounted":"unmounted",[a,c]=Oae(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=jm(r.current);o.current=a==="mounted"?u:"none"},[a]),Gn(()=>{const u=r.current,f=i.current;if(f!==t){const p=o.current,v=jm(u);t?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&p!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Gn(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,h=v=>{const b=jm(r.current).includes(CSS.escape(v.animationName));if(v.target===e&&b&&(c("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=v=>{v.target===e&&(o.current=jm(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function jm(t){return(t==null?void 0:t.animationName)||"none"}function jae(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Rw=0;function p6(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??m2()),document.body.insertAdjacentElement("beforeend",t[1]??m2()),Rw++,()=>{Rw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Rw--}},[])}function m2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var dg="right-scroll-bar-position",fg="width-before-scroll-bar",Rae="with-scroll-bars-hidden",Nae="--removed-body-scroll-bar-size";function Nw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Iae(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Mae=typeof window<"u"?C.useLayoutEffect:C.useEffect,g2=new WeakMap;function Dae(t,e){var n=Iae(null,function(r){return t.forEach(function(i){return Nw(i,r)})});return Mae(function(){var r=g2.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||Nw(a,null)}),o.forEach(function(a){i.has(a)||Nw(a,s)})}g2.set(n,t)},[t]),n}function $ae(t){return t}function Lae(t,e){e===void 0&&(e=$ae);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var c=function(){var f=s;s=[],f.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){s.push(f),u()},filter:function(f){return s=s.filter(f),n}}}};return i}function Fae(t){t===void 0&&(t={});var e=Lae(null);return e.options=Yr({async:!0,ssr:!1},t),e}var m6=function(t){var e=t.sideCar,n=Zs(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,Yr({},n))};m6.isSideCarExport=!0;function Bae(t,e){return t.useMedium(e),m6}var g6=Fae(),Iw=function(){},dy=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:Iw,onWheelCapture:Iw,onTouchMoveCapture:Iw}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,f=t.enabled,h=t.shards,p=t.sideCar,v=t.noRelative,x=t.noIsolation,b=t.inert,y=t.allowPinchZoom,_=t.as,T=_===void 0?"div":_,S=t.gapMode,A=Zs(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,O=Dae([n,e]),k=Yr(Yr({},A),i);return C.createElement(C.Fragment,null,f&&C.createElement(P,{sideCar:g6,removeScrollBar:u,shards:h,noRelative:v,noIsolation:x,inert:b,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:S}),s?C.cloneElement(C.Children.only(a),Yr(Yr({},k),{ref:O})):C.createElement(T,Yr({},k,{className:c,ref:O}),a))});dy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dy.classNames={fullWidth:fg,zeroRight:dg};var Uae=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qae(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Uae();return e&&t.setAttribute("nonce",e),t}function Vae(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Wae(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var zae=function(){var t=0,e=null;return{add:function(n){t==0&&(e=qae())&&(Vae(e,n),Wae(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Hae=function(){var t=zae();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},v6=function(){var t=Hae(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Gae={left:0,top:0,right:0,gap:0},Mw=function(t){return parseInt(t||"",10)||0},Kae=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Mw(n),Mw(r),Mw(i)]},Yae=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Gae;var e=Kae(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Xae=v6(),Dc="data-scroll-locked",Qae=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Rae,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Dc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dg,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(fg,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(dg," .").concat(dg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fg," .").concat(fg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Dc,`] {
    `).concat(Nae,": ").concat(a,`px;
  }
`)},v2=function(){var t=parseInt(document.body.getAttribute(Dc)||"0",10);return isFinite(t)?t:0},Jae=function(){C.useEffect(function(){return document.body.setAttribute(Dc,(v2()+1).toString()),function(){var t=v2()-1;t<=0?document.body.removeAttribute(Dc):document.body.setAttribute(Dc,t.toString())}},[])},Zae=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Jae();var o=C.useMemo(function(){return Yae(i)},[i]);return C.createElement(Xae,{styles:Qae(o,!e,i,n?"":"!important")})},fT=!1;if(typeof window<"u")try{var Rm=Object.defineProperty({},"passive",{get:function(){return fT=!0,!0}});window.addEventListener("test",Rm,Rm),window.removeEventListener("test",Rm,Rm)}catch{fT=!1}var uc=fT?{passive:!1}:!1,ele=function(t){return t.tagName==="TEXTAREA"},y6=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!ele(t)&&n[e]==="visible")},tle=function(t){return y6(t,"overflowY")},nle=function(t){return y6(t,"overflowX")},y2=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=b6(t,r);if(i){var o=w6(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},rle=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},ile=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},b6=function(t,e){return t==="v"?tle(e):nle(e)},w6=function(t,e){return t==="v"?rle(e):ile(e)},ole=function(t,e){return t==="h"&&e==="rtl"?-1:1},sle=function(t,e,n,r,i){var o=ole(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,c=e.contains(a),u=!1,f=s>0,h=0,p=0;do{if(!a)break;var v=w6(t,a),x=v[0],b=v[1],y=v[2],_=b-y-o*x;(x||_)&&b6(t,a)&&(h+=_,p+=x);var T=a.parentNode;a=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(f&&Math.abs(h)<1||!f&&Math.abs(p)<1)&&(u=!0),u},Nm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},b2=function(t){return[t.deltaX,t.deltaY]},w2=function(t){return t&&"current"in t?t.current:t},ale=function(t,e){return t[0]===e[0]&&t[1]===e[1]},lle=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},cle=0,dc=[];function ule(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(cle++)[0],o=C.useState(v6)[0],s=C.useRef(t);C.useEffect(function(){s.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=LE([t.lockRef.current],(t.shards||[]).map(w2),!0).filter(Boolean);return b.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=C.useCallback(function(b,y){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!s.current.allowPinchZoom;var _=Nm(b),T=n.current,S="deltaX"in b?b.deltaX:T[0]-_[0],A="deltaY"in b?b.deltaY:T[1]-_[1],P,O=b.target,k=Math.abs(S)>Math.abs(A)?"h":"v";if("touches"in b&&k==="h"&&O.type==="range")return!1;var R=window.getSelection(),I=R&&R.anchorNode,L=I?I===O||I.contains(O):!1;if(L)return!1;var M=y2(k,O);if(!M)return!0;if(M?P=k:(P=k==="v"?"h":"v",M=y2(k,O)),!M)return!1;if(!r.current&&"changedTouches"in b&&(S||A)&&(r.current=P),!P)return!0;var B=r.current||P;return sle(B,y,b,B==="h"?S:A)},[]),c=C.useCallback(function(b){var y=b;if(!(!dc.length||dc[dc.length-1]!==o)){var _="deltaY"in y?b2(y):Nm(y),T=e.current.filter(function(P){return P.name===y.type&&(P.target===y.target||y.target===P.shadowParent)&&ale(P.delta,_)})[0];if(T&&T.should){y.cancelable&&y.preventDefault();return}if(!T){var S=(s.current.shards||[]).map(w2).filter(Boolean).filter(function(P){return P.contains(y.target)}),A=S.length>0?a(y,S[0]):!s.current.noIsolation;A&&y.cancelable&&y.preventDefault()}}},[]),u=C.useCallback(function(b,y,_,T){var S={name:b,delta:y,target:_,should:T,shadowParent:dle(_)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(A){return A!==S})},1)},[]),f=C.useCallback(function(b){n.current=Nm(b),r.current=void 0},[]),h=C.useCallback(function(b){u(b.type,b2(b),b.target,a(b,t.lockRef.current))},[]),p=C.useCallback(function(b){u(b.type,Nm(b),b.target,a(b,t.lockRef.current))},[]);C.useEffect(function(){return dc.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,uc),document.addEventListener("touchmove",c,uc),document.addEventListener("touchstart",f,uc),function(){dc=dc.filter(function(b){return b!==o}),document.removeEventListener("wheel",c,uc),document.removeEventListener("touchmove",c,uc),document.removeEventListener("touchstart",f,uc)}},[]);var v=t.removeScrollBar,x=t.inert;return C.createElement(C.Fragment,null,x?C.createElement(o,{styles:lle(i)}):null,v?C.createElement(Zae,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function dle(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const fle=Bae(g6,ule);var dA=C.forwardRef(function(t,e){return C.createElement(dy,Yr({},t,{ref:e,sideCar:fle}))});dA.classNames=dy.classNames;var hle=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},fc=new WeakMap,Im=new WeakMap,Mm={},Dw=0,x6=function(t){return t&&(t.host||x6(t.parentNode))},ple=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=x6(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},mle=function(t,e,n,r){var i=ple(e,Array.isArray(t)?t:[t]);Mm[n]||(Mm[n]=new WeakMap);var o=Mm[n],s=[],a=new Set,c=new Set(i),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};i.forEach(u);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))f(p);else try{var v=p.getAttribute(r),x=v!==null&&v!=="false",b=(fc.get(p)||0)+1,y=(o.get(p)||0)+1;fc.set(p,b),o.set(p,y),s.push(p),b===1&&x&&Im.set(p,!0),y===1&&p.setAttribute(n,"true"),x||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return f(e),a.clear(),Dw++,function(){s.forEach(function(h){var p=fc.get(h)-1,v=o.get(h)-1;fc.set(h,p),o.set(h,v),p||(Im.has(h)||h.removeAttribute(r),Im.delete(h)),v||h.removeAttribute(n)}),Dw--,Dw||(fc=new WeakMap,fc=new WeakMap,Im=new WeakMap,Mm={})}},_6=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=hle(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),mle(r,i,n,"aria-hidden")):function(){return null}};function gle(t){const e=vle(t),n=C.forwardRef((r,i)=>{const{children:o,...s}=r,a=C.Children.toArray(o),c=a.find(ble);if(c){const u=c.props.children,f=a.map(h=>h===c?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...s,ref:i,children:C.isValidElement(u)?C.cloneElement(u,void 0,f):null})}return g.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function vle(t){const e=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const s=xle(i),a=wle(o,i.props);return i.type!==C.Fragment&&(a.ref=r?Hu(r,s):s),C.cloneElement(i,a)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var yle=Symbol("radix.slottable");function ble(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===yle}function wle(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const c=o(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function xle(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var fy="Dialog",[S6]=Al(fy),[_le,Ri]=S6(fy),P6=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=C.useRef(null),c=C.useRef(null),[u,f]=lu({prop:r,defaultProp:i??!1,onChange:o,caller:fy});return g.jsx(_le,{scope:e,triggerRef:a,contentRef:c,contentId:Ws(),titleId:Ws(),descriptionId:Ws(),open:u,onOpenChange:f,onOpenToggle:C.useCallback(()=>f(h=>!h),[f]),modal:s,children:n})};P6.displayName=fy;var T6="DialogTrigger",C6=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ri(T6,n),o=qt(e,i.triggerRef);return g.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":pA(i.open),...r,ref:o,onClick:nt(t.onClick,i.onOpenToggle)})});C6.displayName=T6;var fA="DialogPortal",[Sle,E6]=S6(fA,{forceMount:void 0}),A6=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=Ri(fA,e);return g.jsx(Sle,{scope:e,forceMount:n,children:C.Children.map(r,s=>g.jsx(zh,{present:n||o.open,children:g.jsx(uA,{asChild:!0,container:i,children:s})}))})};A6.displayName=fA;var qg="DialogOverlay",O6=C.forwardRef((t,e)=>{const n=E6(qg,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Ri(qg,t.__scopeDialog);return o.modal?g.jsx(zh,{present:r||o.open,children:g.jsx(Tle,{...i,ref:e})}):null});O6.displayName=qg;var Ple=gle("DialogOverlay.RemoveScroll"),Tle=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ri(qg,n);return g.jsx(dA,{as:Ple,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(it.div,{"data-state":pA(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),hl="DialogContent",k6=C.forwardRef((t,e)=>{const n=E6(hl,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Ri(hl,t.__scopeDialog);return g.jsx(zh,{present:r||o.open,children:o.modal?g.jsx(Cle,{...i,ref:e}):g.jsx(Ele,{...i,ref:e})})});k6.displayName=hl;var Cle=C.forwardRef((t,e)=>{const n=Ri(hl,t.__scopeDialog),r=C.useRef(null),i=qt(e,n.contentRef,r);return C.useEffect(()=>{const o=r.current;if(o)return _6(o)},[]),g.jsx(j6,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nt(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:nt(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:nt(t.onFocusOutside,o=>o.preventDefault())})}),Ele=C.forwardRef((t,e)=>{const n=Ri(hl,t.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return g.jsx(j6,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),j6=C.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=Ri(hl,n),c=C.useRef(null),u=qt(e,c);return p6(),g.jsxs(g.Fragment,{children:[g.jsx(cA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:g.jsx(lA,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":pA(a.open),...s,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(Ale,{titleId:a.titleId}),g.jsx(kle,{contentRef:c,descriptionId:a.descriptionId})]})]})}),hA="DialogTitle",R6=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ri(hA,n);return g.jsx(it.h2,{id:i.titleId,...r,ref:e})});R6.displayName=hA;var N6="DialogDescription",I6=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ri(N6,n);return g.jsx(it.p,{id:i.descriptionId,...r,ref:e})});I6.displayName=N6;var M6="DialogClose",D6=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ri(M6,n);return g.jsx(it.button,{type:"button",...r,ref:e,onClick:nt(t.onClick,()=>i.onOpenChange(!1))})});D6.displayName=M6;function pA(t){return t?"open":"closed"}var $6="DialogTitleWarning",[$ke,L6]=Jse($6,{contentName:hl,titleName:hA,docsSlug:"dialog"}),Ale=({titleId:t})=>{const e=L6($6),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Ole="DialogDescriptionWarning",kle=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${L6(Ole).contentName}}.`;return C.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},jle=P6,Rle=C6,Nle=A6,F6=O6,B6=k6,U6=R6,q6=I6,Ile=D6;const zf=jle,Mle=Rle,Dle=Nle,V6=C.forwardRef(({className:t,...e},n)=>g.jsx(F6,{ref:n,className:et("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));V6.displayName=F6.displayName;const cu=C.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(Dle,{children:[g.jsx(V6,{}),g.jsxs(B6,{ref:r,className:et("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,g.jsxs(Ile,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[g.jsx(su,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cu.displayName=B6.displayName;const uu=({className:t,...e})=>g.jsx("div",{className:et("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});uu.displayName="DialogHeader";const du=C.forwardRef(({className:t,...e},n)=>g.jsx(U6,{ref:n,className:et("text-lg font-semibold leading-none tracking-tight",t),...e}));du.displayName=U6.displayName;const mA=C.forwardRef(({className:t,...e},n)=>g.jsx(q6,{ref:n,className:et("text-sm text-muted-foreground",t),...e}));mA.displayName=q6.displayName;var $le=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lle=$le.reduce((t,e)=>{const n=Dq(`Primitive.${e}`),r=C.forwardRef((i,o)=>{const{asChild:s,...a}=i,c=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Fle="Label",W6=C.forwardRef((t,e)=>g.jsx(Lle.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));W6.displayName=Fle;var z6=W6;const Ble=sy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xt=C.forwardRef(({className:t,...e},n)=>g.jsx(z6,{ref:n,className:et(Ble(),t),...e}));xt.displayName=z6.displayName;function x2(t,[e,n]){return Math.min(n,Math.max(e,t))}function _2(t){const e=Ule(t),n=C.forwardRef((r,i)=>{const{children:o,...s}=r,a=C.Children.toArray(o),c=a.find(Vle);if(c){const u=c.props.children,f=a.map(h=>h===c?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...s,ref:i,children:C.isValidElement(u)?C.cloneElement(u,void 0,f):null})}return g.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function Ule(t){const e=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const s=zle(i),a=Wle(o,i.props);return i.type!==C.Fragment&&(a.ref=r?Hu(r,s):s),C.cloneElement(i,a)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var qle=Symbol("radix.slottable");function Vle(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===qle}function Wle(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const c=o(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function zle(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function H6(t){const e=t+"CollectionProvider",[n,r]=Al(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=b=>{const{scope:y,children:_}=b,T=V.useRef(null),S=V.useRef(new Map).current;return g.jsx(i,{scope:y,itemMap:S,collectionRef:T,children:_})};s.displayName=e;const a=t+"CollectionSlot",c=_2(a),u=V.forwardRef((b,y)=>{const{scope:_,children:T}=b,S=o(a,_),A=qt(y,S.collectionRef);return g.jsx(c,{ref:A,children:T})});u.displayName=a;const f=t+"CollectionItemSlot",h="data-radix-collection-item",p=_2(f),v=V.forwardRef((b,y)=>{const{scope:_,children:T,...S}=b,A=V.useRef(null),P=qt(y,A),O=o(f,_);return V.useEffect(()=>(O.itemMap.set(A,{ref:A,...S}),()=>void O.itemMap.delete(A))),g.jsx(p,{[h]:"",ref:P,children:T})});v.displayName=f;function x(b){const y=o(t+"CollectionConsumer",b);return V.useCallback(()=>{const T=y.collectionRef.current;if(!T)return[];const S=Array.from(T.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((O,k)=>S.indexOf(O.ref.current)-S.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:s,Slot:u,ItemSlot:v},x,r]}var Hle=C.createContext(void 0);function gA(t){const e=C.useContext(Hle);return t||e||"ltr"}const Gle=["top","right","bottom","left"],Ys=Math.min,kr=Math.max,Vg=Math.round,Dm=Math.floor,Xi=t=>({x:t,y:t}),Kle={left:"right",right:"left",bottom:"top",top:"bottom"},Yle={start:"end",end:"start"};function hT(t,e,n){return kr(t,Ys(e,n))}function qo(t,e){return typeof t=="function"?t(e):t}function Vo(t){return t.split("-")[0]}function Yu(t){return t.split("-")[1]}function vA(t){return t==="x"?"y":"x"}function yA(t){return t==="y"?"height":"width"}const Xle=new Set(["top","bottom"]);function Wi(t){return Xle.has(Vo(t))?"y":"x"}function bA(t){return vA(Wi(t))}function Qle(t,e,n){n===void 0&&(n=!1);const r=Yu(t),i=bA(t),o=yA(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Wg(s)),[s,Wg(s)]}function Jle(t){const e=Wg(t);return[pT(t),e,pT(e)]}function pT(t){return t.replace(/start|end/g,e=>Yle[e])}const S2=["left","right"],P2=["right","left"],Zle=["top","bottom"],ece=["bottom","top"];function tce(t,e,n){switch(t){case"top":case"bottom":return n?e?P2:S2:e?S2:P2;case"left":case"right":return e?Zle:ece;default:return[]}}function nce(t,e,n,r){const i=Yu(t);let o=tce(Vo(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(pT)))),o}function Wg(t){return t.replace(/left|right|bottom|top/g,e=>Kle[e])}function rce(t){return{top:0,right:0,bottom:0,left:0,...t}}function G6(t){return typeof t!="number"?rce(t):{top:t,right:t,bottom:t,left:t}}function zg(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function T2(t,e,n){let{reference:r,floating:i}=t;const o=Wi(e),s=bA(e),a=yA(s),c=Vo(e),u=o==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let v;switch(c){case"top":v={x:f,y:r.y-i.height};break;case"bottom":v={x:f,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:h};break;case"left":v={x:r.x-i.width,y:h};break;default:v={x:r.x,y:r.y}}switch(Yu(e)){case"start":v[s]-=p*(n&&u?-1:1);break;case"end":v[s]+=p*(n&&u?-1:1);break}return v}const ice=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=T2(u,r,c),p=r,v={},x=0;for(let b=0;b<a.length;b++){const{name:y,fn:_}=a[b],{x:T,y:S,data:A,reset:P}=await _({x:f,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:v,rects:u,platform:s,elements:{reference:t,floating:e}});f=T??f,h=S??h,v={...v,[y]:{...v[y],...A}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(u=P.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:f,y:h}=T2(u,p,c)),b=-1)}return{x:f,y:h,placement:p,strategy:i,middlewareData:v}};async function Hf(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:v=0}=qo(e,t),x=G6(v),y=a[p?h==="floating"?"reference":"floating":h],_=zg(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:c})),T=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),A=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},P=zg(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:T,offsetParent:S,strategy:c}):T);return{top:(_.top-P.top+x.top)/A.y,bottom:(P.bottom-_.bottom+x.bottom)/A.y,left:(_.left-P.left+x.left)/A.x,right:(P.right-_.right+x.right)/A.x}}const oce=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:c}=e,{element:u,padding:f=0}=qo(t,e)||{};if(u==null)return{};const h=G6(f),p={x:n,y:r},v=bA(i),x=yA(v),b=await s.getDimensions(u),y=v==="y",_=y?"top":"left",T=y?"bottom":"right",S=y?"clientHeight":"clientWidth",A=o.reference[x]+o.reference[v]-p[v]-o.floating[x],P=p[v]-o.reference[v],O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let k=O?O[S]:0;(!k||!await(s.isElement==null?void 0:s.isElement(O)))&&(k=a.floating[S]||o.floating[x]);const R=A/2-P/2,I=k/2-b[x]/2-1,L=Ys(h[_],I),M=Ys(h[T],I),B=L,q=k-b[x]-M,Y=k/2-b[x]/2+R,Q=hT(B,Y,q),K=!c.arrow&&Yu(i)!=null&&Y!==Q&&o.reference[x]/2-(Y<B?L:M)-b[x]/2<0,J=K?Y<B?Y-B:Y-q:0;return{[v]:p[v]+J,data:{[v]:Q,centerOffset:Y-Q-J,...K&&{alignmentOffset:J}},reset:K}}}),sce=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:b=!0,...y}=qo(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const _=Vo(i),T=Wi(a),S=Vo(a)===a,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),P=p||(S||!b?[Wg(a)]:Jle(a)),O=x!=="none";!p&&O&&P.push(...nce(a,b,x,A));const k=[a,...P],R=await Hf(e,y),I=[];let L=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&I.push(R[_]),h){const Y=Qle(i,s,A);I.push(R[Y[0]],R[Y[1]])}if(L=[...L,{placement:i,overflows:I}],!I.every(Y=>Y<=0)){var M,B;const Y=(((M=o.flip)==null?void 0:M.index)||0)+1,Q=k[Y];if(Q&&(!(h==="alignment"?T!==Wi(Q):!1)||L.every(F=>Wi(F.placement)===T?F.overflows[0]>0:!0)))return{data:{index:Y,overflows:L},reset:{placement:Q}};let K=(B=L.filter(J=>J.overflows[0]<=0).sort((J,F)=>J.overflows[1]-F.overflows[1])[0])==null?void 0:B.placement;if(!K)switch(v){case"bestFit":{var q;const J=(q=L.filter(F=>{if(O){const G=Wi(F.placement);return G===T||G==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(G=>G>0).reduce((G,D)=>G+D,0)]).sort((F,G)=>F[1]-G[1])[0])==null?void 0:q[0];J&&(K=J);break}case"initialPlacement":K=a;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function C2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function E2(t){return Gle.some(e=>t[e]>=0)}const ace=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=qo(t,e);switch(r){case"referenceHidden":{const o=await Hf(e,{...i,elementContext:"reference"}),s=C2(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:E2(s)}}}case"escaped":{const o=await Hf(e,{...i,altBoundary:!0}),s=C2(o,n.floating);return{data:{escapedOffsets:s,escaped:E2(s)}}}default:return{}}}}},K6=new Set(["left","top"]);async function lce(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Vo(n),a=Yu(n),c=Wi(n)==="y",u=K6.has(s)?-1:1,f=o&&c?-1:1,h=qo(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof x=="number"&&(v=a==="end"?x*-1:x),c?{x:v*f,y:p*u}:{x:p*u,y:v*f}}const cce=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,c=await lce(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:s}}}}},uce=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:y=>{let{x:_,y:T}=y;return{x:_,y:T}}},...c}=qo(t,e),u={x:n,y:r},f=await Hf(e,c),h=Wi(Vo(i)),p=vA(h);let v=u[p],x=u[h];if(o){const y=p==="y"?"top":"left",_=p==="y"?"bottom":"right",T=v+f[y],S=v-f[_];v=hT(T,v,S)}if(s){const y=h==="y"?"top":"left",_=h==="y"?"bottom":"right",T=x+f[y],S=x-f[_];x=hT(T,x,S)}const b=a.fn({...e,[p]:v,[h]:x});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[p]:o,[h]:s}}}}}},dce=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=qo(t,e),f={x:n,y:r},h=Wi(i),p=vA(h);let v=f[p],x=f[h];const b=qo(a,e),y=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(c){const S=p==="y"?"height":"width",A=o.reference[p]-o.floating[S]+y.mainAxis,P=o.reference[p]+o.reference[S]-y.mainAxis;v<A?v=A:v>P&&(v=P)}if(u){var _,T;const S=p==="y"?"width":"height",A=K6.has(Vo(i)),P=o.reference[h]-o.floating[S]+(A&&((_=s.offset)==null?void 0:_[h])||0)+(A?0:y.crossAxis),O=o.reference[h]+o.reference[S]+(A?0:((T=s.offset)==null?void 0:T[h])||0)-(A?y.crossAxis:0);x<P?x=P:x>O&&(x=O)}return{[p]:v,[h]:x}}}},fce=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:c=()=>{},...u}=qo(t,e),f=await Hf(e,u),h=Vo(i),p=Yu(i),v=Wi(i)==="y",{width:x,height:b}=o.floating;let y,_;h==="top"||h==="bottom"?(y=h,_=p===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,y=p==="end"?"top":"bottom");const T=b-f.top-f.bottom,S=x-f.left-f.right,A=Ys(b-f[y],T),P=Ys(x-f[_],S),O=!e.middlewareData.shift;let k=A,R=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=T),O&&!p){const L=kr(f.left,0),M=kr(f.right,0),B=kr(f.top,0),q=kr(f.bottom,0);v?R=x-2*(L!==0||M!==0?L+M:kr(f.left,f.right)):k=b-2*(B!==0||q!==0?B+q:kr(f.top,f.bottom))}await c({...e,availableWidth:R,availableHeight:k});const I=await s.getDimensions(a.floating);return x!==I.width||b!==I.height?{reset:{rects:!0}}:{}}}};function hy(){return typeof window<"u"}function Xu(t){return Y6(t)?(t.nodeName||"").toLowerCase():"#document"}function Nr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function no(t){var e;return(e=(Y6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Y6(t){return hy()?t instanceof Node||t instanceof Nr(t).Node:!1}function Oi(t){return hy()?t instanceof Element||t instanceof Nr(t).Element:!1}function Zi(t){return hy()?t instanceof HTMLElement||t instanceof Nr(t).HTMLElement:!1}function A2(t){return!hy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nr(t).ShadowRoot}const hce=new Set(["inline","contents"]);function Hh(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ki(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!hce.has(i)}const pce=new Set(["table","td","th"]);function mce(t){return pce.has(Xu(t))}const gce=[":popover-open",":modal"];function py(t){return gce.some(e=>{try{return t.matches(e)}catch{return!1}})}const vce=["transform","translate","scale","rotate","perspective"],yce=["transform","translate","scale","rotate","perspective","filter"],bce=["paint","layout","strict","content"];function wA(t){const e=xA(),n=Oi(t)?ki(t):t;return vce.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||yce.some(r=>(n.willChange||"").includes(r))||bce.some(r=>(n.contain||"").includes(r))}function wce(t){let e=Xs(t);for(;Zi(e)&&!fu(e);){if(wA(e))return e;if(py(e))return null;e=Xs(e)}return null}function xA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xce=new Set(["html","body","#document"]);function fu(t){return xce.has(Xu(t))}function ki(t){return Nr(t).getComputedStyle(t)}function my(t){return Oi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xs(t){if(Xu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||A2(t)&&t.host||no(t);return A2(e)?e.host:e}function X6(t){const e=Xs(t);return fu(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zi(e)&&Hh(e)?e:X6(e)}function Gf(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=X6(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Nr(i);if(o){const a=mT(s);return e.concat(s,s.visualViewport||[],Hh(i)?i:[],a&&n?Gf(a):[])}return e.concat(i,Gf(i,[],n))}function mT(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Q6(t){const e=ki(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Zi(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Vg(n)!==o||Vg(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function _A(t){return Oi(t)?t:t.contextElement}function $c(t){const e=_A(t);if(!Zi(e))return Xi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=Q6(e);let s=(o?Vg(n.width):n.width)/r,a=(o?Vg(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const _ce=Xi(0);function J6(t){const e=Nr(t);return!xA()||!e.visualViewport?_ce:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Sce(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nr(t)?!1:e}function pl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=_A(t);let s=Xi(1);e&&(r?Oi(r)&&(s=$c(r)):s=$c(t));const a=Sce(o,n,r)?J6(o):Xi(0);let c=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,f=i.width/s.x,h=i.height/s.y;if(o){const p=Nr(o),v=r&&Oi(r)?Nr(r):r;let x=p,b=mT(x);for(;b&&r&&v!==x;){const y=$c(b),_=b.getBoundingClientRect(),T=ki(b),S=_.left+(b.clientLeft+parseFloat(T.paddingLeft))*y.x,A=_.top+(b.clientTop+parseFloat(T.paddingTop))*y.y;c*=y.x,u*=y.y,f*=y.x,h*=y.y,c+=S,u+=A,x=Nr(b),b=mT(x)}}return zg({width:f,height:h,x:c,y:u})}function gy(t,e){const n=my(t).scrollLeft;return e?e.left+n:pl(no(t)).left+n}function Z6(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-gy(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function Pce(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=no(r),a=e?py(e.floating):!1;if(r===s||a&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Xi(1);const f=Xi(0),h=Zi(r);if((h||!h&&!o)&&((Xu(r)!=="body"||Hh(s))&&(c=my(r)),Zi(r))){const v=pl(r);u=$c(r),f.x=v.x+r.clientLeft,f.y=v.y+r.clientTop}const p=s&&!h&&!o?Z6(s,c):Xi(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+p.x,y:n.y*u.y-c.scrollTop*u.y+f.y+p.y}}function Tce(t){return Array.from(t.getClientRects())}function Cce(t){const e=no(t),n=my(t),r=t.ownerDocument.body,i=kr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=kr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+gy(t);const a=-n.scrollTop;return ki(r).direction==="rtl"&&(s+=kr(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}const O2=25;function Ece(t,e){const n=Nr(t),r=no(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;const f=xA();(!f||f&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}const u=gy(r);if(u<=0){const f=r.ownerDocument,h=f.body,p=getComputedStyle(h),v=f.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,x=Math.abs(r.clientWidth-h.clientWidth-v);x<=O2&&(o-=x)}else u<=O2&&(o+=u);return{width:o,height:s,x:a,y:c}}const Ace=new Set(["absolute","fixed"]);function Oce(t,e){const n=pl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Zi(t)?$c(t):Xi(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,c=i*o.x,u=r*o.y;return{width:s,height:a,x:c,y:u}}function k2(t,e,n){let r;if(e==="viewport")r=Ece(t,n);else if(e==="document")r=Cce(no(t));else if(Oi(e))r=Oce(e,n);else{const i=J6(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return zg(r)}function eV(t,e){const n=Xs(t);return n===e||!Oi(n)||fu(n)?!1:ki(n).position==="fixed"||eV(n,e)}function kce(t,e){const n=e.get(t);if(n)return n;let r=Gf(t,[],!1).filter(a=>Oi(a)&&Xu(a)!=="body"),i=null;const o=ki(t).position==="fixed";let s=o?Xs(t):t;for(;Oi(s)&&!fu(s);){const a=ki(s),c=wA(s);!c&&a.position==="fixed"&&(i=null),(o?!c&&!i:!c&&a.position==="static"&&!!i&&Ace.has(i.position)||Hh(s)&&!c&&eV(t,s))?r=r.filter(f=>f!==s):i=a,s=Xs(s)}return e.set(t,r),r}function jce(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?py(e)?[]:kce(e,this._c):[].concat(n),r],a=s[0],c=s.reduce((u,f)=>{const h=k2(e,f,i);return u.top=kr(h.top,u.top),u.right=Ys(h.right,u.right),u.bottom=Ys(h.bottom,u.bottom),u.left=kr(h.left,u.left),u},k2(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Rce(t){const{width:e,height:n}=Q6(t);return{width:e,height:n}}function Nce(t,e,n){const r=Zi(e),i=no(e),o=n==="fixed",s=pl(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const c=Xi(0);function u(){c.x=gy(i)}if(r||!r&&!o)if((Xu(e)!=="body"||Hh(i))&&(a=my(e)),r){const v=pl(e,!0,o,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else i&&u();o&&!r&&i&&u();const f=i&&!r&&!o?Z6(i,a):Xi(0),h=s.left+a.scrollLeft-c.x-f.x,p=s.top+a.scrollTop-c.y-f.y;return{x:h,y:p,width:s.width,height:s.height}}function $w(t){return ki(t).position==="static"}function j2(t,e){if(!Zi(t)||ki(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return no(t)===n&&(n=n.ownerDocument.body),n}function tV(t,e){const n=Nr(t);if(py(t))return n;if(!Zi(t)){let i=Xs(t);for(;i&&!fu(i);){if(Oi(i)&&!$w(i))return i;i=Xs(i)}return n}let r=j2(t,e);for(;r&&mce(r)&&$w(r);)r=j2(r,e);return r&&fu(r)&&$w(r)&&!wA(r)?n:r||wce(t)||n}const Ice=async function(t){const e=this.getOffsetParent||tV,n=this.getDimensions,r=await n(t.floating);return{reference:Nce(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Mce(t){return ki(t).direction==="rtl"}const Dce={convertOffsetParentRelativeRectToViewportRelativeRect:Pce,getDocumentElement:no,getClippingRect:jce,getOffsetParent:tV,getElementRects:Ice,getClientRects:Tce,getDimensions:Rce,getScale:$c,isElement:Oi,isRTL:Mce};function nV(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function $ce(t,e){let n=null,r;const i=no(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const u=t.getBoundingClientRect(),{left:f,top:h,width:p,height:v}=u;if(a||e(),!p||!v)return;const x=Dm(h),b=Dm(i.clientWidth-(f+p)),y=Dm(i.clientHeight-(h+v)),_=Dm(f),S={rootMargin:-x+"px "+-b+"px "+-y+"px "+-_+"px",threshold:kr(0,Ys(1,c))||1};let A=!0;function P(O){const k=O[0].intersectionRatio;if(k!==c){if(!A)return s();k?s(!1,k):r=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!nV(u,t.getBoundingClientRect())&&s(),A=!1}try{n=new IntersectionObserver(P,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,S)}n.observe(t)}return s(!0),o}function Lce(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=_A(t),f=i||o?[...u?Gf(u):[],...Gf(e)]:[];f.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),o&&_.addEventListener("resize",n)});const h=u&&a?$ce(u,n):null;let p=-1,v=null;s&&(v=new ResizeObserver(_=>{let[T]=_;T&&T.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=v)==null||S.observe(e)})),n()}),u&&!c&&v.observe(u),v.observe(e));let x,b=c?pl(t):null;c&&y();function y(){const _=pl(t);b&&!nV(b,_)&&n(),b=_,x=requestAnimationFrame(y)}return n(),()=>{var _;f.forEach(T=>{i&&T.removeEventListener("scroll",n),o&&T.removeEventListener("resize",n)}),h==null||h(),(_=v)==null||_.disconnect(),v=null,c&&cancelAnimationFrame(x)}}const Fce=cce,Bce=uce,Uce=sce,qce=fce,Vce=ace,R2=oce,Wce=dce,zce=(t,e,n)=>{const r=new Map,i={platform:Dce,...n},o={...i.platform,_c:r};return ice(t,e,{...i,platform:o})};var Hce=typeof document<"u",Gce=function(){},hg=Hce?C.useLayoutEffect:Gce;function Hg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Hg(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Hg(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function rV(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function N2(t,e){const n=rV(t);return Math.round(e*n)/n}function Lw(t){const e=C.useRef(t);return hg(()=>{e.current=t}),e}function Kce(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[f,h]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=C.useState(r);Hg(p,r)||v(r);const[x,b]=C.useState(null),[y,_]=C.useState(null),T=C.useCallback(F=>{F!==O.current&&(O.current=F,b(F))},[]),S=C.useCallback(F=>{F!==k.current&&(k.current=F,_(F))},[]),A=o||x,P=s||y,O=C.useRef(null),k=C.useRef(null),R=C.useRef(f),I=c!=null,L=Lw(c),M=Lw(i),B=Lw(u),q=C.useCallback(()=>{if(!O.current||!k.current)return;const F={placement:e,strategy:n,middleware:p};M.current&&(F.platform=M.current),zce(O.current,k.current,F).then(G=>{const D={...G,isPositioned:B.current!==!1};Y.current&&!Hg(R.current,D)&&(R.current=D,Wh.flushSync(()=>{h(D)}))})},[p,e,n,M,B]);hg(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[u]);const Y=C.useRef(!1);hg(()=>(Y.current=!0,()=>{Y.current=!1}),[]),hg(()=>{if(A&&(O.current=A),P&&(k.current=P),A&&P){if(L.current)return L.current(A,P,q);q()}},[A,P,q,L,I]);const Q=C.useMemo(()=>({reference:O,floating:k,setReference:T,setFloating:S}),[T,S]),K=C.useMemo(()=>({reference:A,floating:P}),[A,P]),J=C.useMemo(()=>{const F={position:n,left:0,top:0};if(!K.floating)return F;const G=N2(K.floating,f.x),D=N2(K.floating,f.y);return a?{...F,transform:"translate("+G+"px, "+D+"px)",...rV(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:D}},[n,a,K.floating,f.x,f.y]);return C.useMemo(()=>({...f,update:q,refs:Q,elements:K,floatingStyles:J}),[f,q,Q,K,J])}const Yce=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?R2({element:r.current,padding:i}).fn(n):{}:r?R2({element:r,padding:i}).fn(n):{}}}},Xce=(t,e)=>({...Fce(t),options:[t,e]}),Qce=(t,e)=>({...Bce(t),options:[t,e]}),Jce=(t,e)=>({...Wce(t),options:[t,e]}),Zce=(t,e)=>({...Uce(t),options:[t,e]}),eue=(t,e)=>({...qce(t),options:[t,e]}),tue=(t,e)=>({...Vce(t),options:[t,e]}),nue=(t,e)=>({...Yce(t),options:[t,e]});var rue="Arrow",iV=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return g.jsx(it.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});iV.displayName=rue;var iue=iV;function oV(t){const[e,n]=C.useState(void 0);return Gn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,a=u.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var SA="Popper",[sV,aV]=Al(SA),[oue,lV]=sV(SA),cV=t=>{const{__scopePopper:e,children:n}=t,[r,i]=C.useState(null);return g.jsx(oue,{scope:e,anchor:r,onAnchorChange:i,children:n})};cV.displayName=SA;var uV="PopperAnchor",dV=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=lV(uV,n),s=C.useRef(null),a=qt(e,s),c=C.useRef(null);return C.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||s.current,u!==c.current&&o.onAnchorChange(c.current)}),r?null:g.jsx(it.div,{...i,ref:a})});dV.displayName=uV;var PA="PopperContent",[sue,aue]=sV(PA),fV=C.forwardRef((t,e)=>{var se,pe,oe,fe,ve,re;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:x,...b}=t,y=lV(PA,n),[_,T]=C.useState(null),S=qt(e,ze=>T(ze)),[A,P]=C.useState(null),O=oV(A),k=(O==null?void 0:O.width)??0,R=(O==null?void 0:O.height)??0,I=r+(o!=="center"?"-"+o:""),L=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},M=Array.isArray(u)?u:[u],B=M.length>0,q={padding:L,boundary:M.filter(cue),altBoundary:B},{refs:Y,floatingStyles:Q,placement:K,isPositioned:J,middlewareData:F}=Kce({strategy:"fixed",placement:I,whileElementsMounted:(...ze)=>Lce(...ze,{animationFrame:v==="always"}),elements:{reference:y.anchor},middleware:[Xce({mainAxis:i+R,alignmentAxis:s}),c&&Qce({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Jce():void 0,...q}),c&&Zce({...q}),eue({...q,apply:({elements:ze,rects:Le,availableWidth:ct,availableHeight:ut})=>{const{width:Pt,height:Kn}=Le.reference,On=ze.floating.style;On.setProperty("--radix-popper-available-width",`${ct}px`),On.setProperty("--radix-popper-available-height",`${ut}px`),On.setProperty("--radix-popper-anchor-width",`${Pt}px`),On.setProperty("--radix-popper-anchor-height",`${Kn}px`)}}),A&&nue({element:A,padding:a}),uue({arrowWidth:k,arrowHeight:R}),p&&tue({strategy:"referenceHidden",...q})]}),[G,D]=mV(K),$=Ks(x);Gn(()=>{J&&($==null||$())},[J,$]);const z=(se=F.arrow)==null?void 0:se.x,te=(pe=F.arrow)==null?void 0:pe.y,ue=((oe=F.arrow)==null?void 0:oe.centerOffset)!==0,[ye,Oe]=C.useState();return Gn(()=>{_&&Oe(window.getComputedStyle(_).zIndex)},[_]),g.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:J?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(fe=F.transformOrigin)==null?void 0:fe.x,(ve=F.transformOrigin)==null?void 0:ve.y].join(" "),...((re=F.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(sue,{scope:n,placedSide:G,onArrowChange:P,arrowX:z,arrowY:te,shouldHideArrow:ue,children:g.jsx(it.div,{"data-side":G,"data-align":D,...b,ref:S,style:{...b.style,animation:J?void 0:"none"}})})})});fV.displayName=PA;var hV="PopperArrow",lue={top:"bottom",right:"left",bottom:"top",left:"right"},pV=C.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=aue(hV,r),s=lue[o.placedSide];return g.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:g.jsx(iue,{...i,ref:n,style:{...i.style,display:"block"}})})});pV.displayName=hV;function cue(t){return t!==null}var uue=t=>({name:"transformOrigin",options:t,fn(e){var y,_,T;const{placement:n,rects:r,middlewareData:i}=e,s=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=s?0:t.arrowWidth,c=s?0:t.arrowHeight,[u,f]=mV(n),h={start:"0%",center:"50%",end:"100%"}[f],p=(((_=i.arrow)==null?void 0:_.x)??0)+a/2,v=(((T=i.arrow)==null?void 0:T.y)??0)+c/2;let x="",b="";return u==="bottom"?(x=s?h:`${p}px`,b=`${-c}px`):u==="top"?(x=s?h:`${p}px`,b=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,b=s?h:`${v}px`):u==="left"&&(x=`${r.floating.width+c}px`,b=s?h:`${v}px`),{data:{x,y:b}}}});function mV(t){const[e,n="center"]=t.split("-");return[e,n]}var due=cV,fue=dV,hue=fV,pue=pV;function mue(t){const e=gue(t),n=C.forwardRef((r,i)=>{const{children:o,...s}=r,a=C.Children.toArray(o),c=a.find(yue);if(c){const u=c.props.children,f=a.map(h=>h===c?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...s,ref:i,children:C.isValidElement(u)?C.cloneElement(u,void 0,f):null})}return g.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function gue(t){const e=C.forwardRef((n,r)=>{const{children:i,...o}=n;if(C.isValidElement(i)){const s=wue(i),a=bue(o,i.props);return i.type!==C.Fragment&&(a.ref=r?Hu(r,s):s),C.cloneElement(i,a)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var vue=Symbol("radix.slottable");function yue(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===vue}function bue(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const c=o(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function wue(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function gV(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var vV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xue="VisuallyHidden",_ue=C.forwardRef((t,e)=>g.jsx(it.span,{...t,ref:e,style:{...vV,...t.style}}));_ue.displayName=xue;var Sue=[" ","Enter","ArrowUp","ArrowDown"],Pue=[" ","Enter"],ml="Select",[vy,yy,Tue]=H6(ml),[Qu]=Al(ml,[Tue,aV]),by=aV(),[Cue,ea]=Qu(ml),[Eue,Aue]=Qu(ml),yV=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:c,dir:u,name:f,autoComplete:h,disabled:p,required:v,form:x}=t,b=by(e),[y,_]=C.useState(null),[T,S]=C.useState(null),[A,P]=C.useState(!1),O=gA(u),[k,R]=lu({prop:r,defaultProp:i??!1,onChange:o,caller:ml}),[I,L]=lu({prop:s,defaultProp:a,onChange:c,caller:ml}),M=C.useRef(null),B=y?x||!!y.closest("form"):!0,[q,Y]=C.useState(new Set),Q=Array.from(q).map(K=>K.props.value).join(";");return g.jsx(due,{...b,children:g.jsxs(Cue,{required:v,scope:e,trigger:y,onTriggerChange:_,valueNode:T,onValueNodeChange:S,valueNodeHasChildren:A,onValueNodeHasChildrenChange:P,contentId:Ws(),value:I,onValueChange:L,open:k,onOpenChange:R,dir:O,triggerPointerDownPosRef:M,disabled:p,children:[g.jsx(vy.Provider,{scope:e,children:g.jsx(Eue,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(K=>{Y(J=>new Set(J).add(K))},[]),onNativeOptionRemove:C.useCallback(K=>{Y(J=>{const F=new Set(J);return F.delete(K),F})},[]),children:n})}),B?g.jsxs(qV,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:h,value:I,onChange:K=>L(K.target.value),disabled:p,form:x,children:[I===void 0?g.jsx("option",{value:""}):null,Array.from(q)]},Q):null]})})};yV.displayName=ml;var bV="SelectTrigger",wV=C.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=by(n),s=ea(bV,n),a=s.disabled||r,c=qt(e,s.onTriggerChange),u=yy(n),f=C.useRef("touch"),[h,p,v]=WV(b=>{const y=u().filter(S=>!S.disabled),_=y.find(S=>S.value===s.value),T=zV(y,b,_);T!==void 0&&s.onValueChange(T.value)}),x=b=>{a||(s.onOpenChange(!0),v()),b&&(s.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return g.jsx(fue,{asChild:!0,...o,children:g.jsx(it.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":VV(s.value)?"":void 0,...i,ref:c,onClick:nt(i.onClick,b=>{b.currentTarget.focus(),f.current!=="mouse"&&x(b)}),onPointerDown:nt(i.onPointerDown,b=>{f.current=b.pointerType;const y=b.target;y.hasPointerCapture(b.pointerId)&&y.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(x(b),b.preventDefault())}),onKeyDown:nt(i.onKeyDown,b=>{const y=h.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&p(b.key),!(y&&b.key===" ")&&Sue.includes(b.key)&&(x(),b.preventDefault())})})})});wV.displayName=bV;var xV="SelectValue",_V=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,c=ea(xV,n),{onValueNodeHasChildrenChange:u}=c,f=o!==void 0,h=qt(e,c.onValueNodeChange);return Gn(()=>{u(f)},[u,f]),g.jsx(it.span,{...a,ref:h,style:{pointerEvents:"none"},children:VV(c.value)?g.jsx(g.Fragment,{children:s}):o})});_V.displayName=xV;var Oue="SelectIcon",SV=C.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return g.jsx(it.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});SV.displayName=Oue;var kue="SelectPortal",PV=t=>g.jsx(uA,{asChild:!0,...t});PV.displayName=kue;var gl="SelectContent",TV=C.forwardRef((t,e)=>{const n=ea(gl,t.__scopeSelect),[r,i]=C.useState();if(Gn(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Wh.createPortal(g.jsx(CV,{scope:t.__scopeSelect,children:g.jsx(vy.Slot,{scope:t.__scopeSelect,children:g.jsx("div",{children:t.children})})}),o):null}return g.jsx(EV,{...t,ref:e})});TV.displayName=gl;var vi=10,[CV,ta]=Qu(gl),jue="SelectContentImpl",Rue=mue("SelectContent.RemoveScroll"),EV=C.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:p,collisionPadding:v,sticky:x,hideWhenDetached:b,avoidCollisions:y,..._}=t,T=ea(gl,n),[S,A]=C.useState(null),[P,O]=C.useState(null),k=qt(e,se=>A(se)),[R,I]=C.useState(null),[L,M]=C.useState(null),B=yy(n),[q,Y]=C.useState(!1),Q=C.useRef(!1);C.useEffect(()=>{if(S)return _6(S)},[S]),p6();const K=C.useCallback(se=>{const[pe,...oe]=B().map(re=>re.ref.current),[fe]=oe.slice(-1),ve=document.activeElement;for(const re of se)if(re===ve||(re==null||re.scrollIntoView({block:"nearest"}),re===pe&&P&&(P.scrollTop=0),re===fe&&P&&(P.scrollTop=P.scrollHeight),re==null||re.focus(),document.activeElement!==ve))return},[B,P]),J=C.useCallback(()=>K([R,S]),[K,R,S]);C.useEffect(()=>{q&&J()},[q,J]);const{onOpenChange:F,triggerPointerDownPosRef:G}=T;C.useEffect(()=>{if(S){let se={x:0,y:0};const pe=fe=>{var ve,re;se={x:Math.abs(Math.round(fe.pageX)-(((ve=G.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((re=G.current)==null?void 0:re.y)??0))}},oe=fe=>{se.x<=10&&se.y<=10?fe.preventDefault():S.contains(fe.target)||F(!1),document.removeEventListener("pointermove",pe),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",oe,{capture:!0})}}},[S,F,G]),C.useEffect(()=>{const se=()=>F(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[F]);const[D,$]=WV(se=>{const pe=B().filter(ve=>!ve.disabled),oe=pe.find(ve=>ve.ref.current===document.activeElement),fe=zV(pe,se,oe);fe&&setTimeout(()=>fe.ref.current.focus())}),z=C.useCallback((se,pe,oe)=>{const fe=!Q.current&&!oe;(T.value!==void 0&&T.value===pe||fe)&&(I(se),fe&&(Q.current=!0))},[T.value]),te=C.useCallback(()=>S==null?void 0:S.focus(),[S]),ue=C.useCallback((se,pe,oe)=>{const fe=!Q.current&&!oe;(T.value!==void 0&&T.value===pe||fe)&&M(se)},[T.value]),ye=r==="popper"?gT:AV,Oe=ye===gT?{side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:p,collisionPadding:v,sticky:x,hideWhenDetached:b,avoidCollisions:y}:{};return g.jsx(CV,{scope:n,content:S,viewport:P,onViewportChange:O,itemRefCallback:z,selectedItem:R,onItemLeave:te,itemTextRefCallback:ue,focusSelectedItem:J,selectedItemText:L,position:r,isPositioned:q,searchRef:D,children:g.jsx(dA,{as:Rue,allowPinchZoom:!0,children:g.jsx(cA,{asChild:!0,trapped:T.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:nt(i,se=>{var pe;(pe=T.trigger)==null||pe.focus({preventScroll:!0}),se.preventDefault()}),children:g.jsx(lA,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:g.jsx(ye,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:se=>se.preventDefault(),..._,...Oe,onPlaced:()=>Y(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:nt(_.onKeyDown,se=>{const pe=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!pe&&se.key.length===1&&$(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let fe=B().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(se.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const ve=se.target,re=fe.indexOf(ve);fe=fe.slice(re+1)}setTimeout(()=>K(fe)),se.preventDefault()}})})})})})})});EV.displayName=jue;var Nue="SelectItemAlignedPosition",AV=C.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=ea(gl,n),s=ta(gl,n),[a,c]=C.useState(null),[u,f]=C.useState(null),h=qt(e,k=>f(k)),p=yy(n),v=C.useRef(!1),x=C.useRef(!0),{viewport:b,selectedItem:y,selectedItemText:_,focusSelectedItem:T}=s,S=C.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&b&&y&&_){const k=o.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),L=_.getBoundingClientRect();if(o.dir!=="rtl"){const ve=L.left-R.left,re=I.left-ve,ze=k.left-re,Le=k.width+ze,ct=Math.max(Le,R.width),ut=window.innerWidth-vi,Pt=x2(re,[vi,Math.max(vi,ut-ct)]);a.style.minWidth=Le+"px",a.style.left=Pt+"px"}else{const ve=R.right-L.right,re=window.innerWidth-I.right-ve,ze=window.innerWidth-k.right-re,Le=k.width+ze,ct=Math.max(Le,R.width),ut=window.innerWidth-vi,Pt=x2(re,[vi,Math.max(vi,ut-ct)]);a.style.minWidth=Le+"px",a.style.right=Pt+"px"}const M=p(),B=window.innerHeight-vi*2,q=b.scrollHeight,Y=window.getComputedStyle(u),Q=parseInt(Y.borderTopWidth,10),K=parseInt(Y.paddingTop,10),J=parseInt(Y.borderBottomWidth,10),F=parseInt(Y.paddingBottom,10),G=Q+K+q+F+J,D=Math.min(y.offsetHeight*5,G),$=window.getComputedStyle(b),z=parseInt($.paddingTop,10),te=parseInt($.paddingBottom,10),ue=k.top+k.height/2-vi,ye=B-ue,Oe=y.offsetHeight/2,se=y.offsetTop+Oe,pe=Q+K+se,oe=G-pe;if(pe<=ue){const ve=M.length>0&&y===M[M.length-1].ref.current;a.style.bottom="0px";const re=u.clientHeight-b.offsetTop-b.offsetHeight,ze=Math.max(ye,Oe+(ve?te:0)+re+J),Le=pe+ze;a.style.height=Le+"px"}else{const ve=M.length>0&&y===M[0].ref.current;a.style.top="0px";const ze=Math.max(ue,Q+b.offsetTop+(ve?z:0)+Oe)+oe;a.style.height=ze+"px",b.scrollTop=pe-ue+b.offsetTop}a.style.margin=`${vi}px 0`,a.style.minHeight=D+"px",a.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[p,o.trigger,o.valueNode,a,u,b,y,_,o.dir,r]);Gn(()=>S(),[S]);const[A,P]=C.useState();Gn(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const O=C.useCallback(k=>{k&&x.current===!0&&(S(),T==null||T(),x.current=!1)},[S,T]);return g.jsx(Mue,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:O,children:g.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:g.jsx(it.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});AV.displayName=Nue;var Iue="SelectPopperPosition",gT=C.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=vi,...o}=t,s=by(n);return g.jsx(hue,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gT.displayName=Iue;var[Mue,TA]=Qu(gl,{}),vT="SelectViewport",OV=C.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=ta(vT,n),s=TA(vT,n),a=qt(e,o.onViewportChange),c=C.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(vy.Slot,{scope:n,children:g.jsx(it.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:nt(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=s;if(p!=null&&p.current&&h){const v=Math.abs(c.current-f.scrollTop);if(v>0){const x=window.innerHeight-vi*2,b=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),_=Math.max(b,y);if(_<x){const T=_+v,S=Math.min(x,T),A=T-S;h.style.height=S+"px",h.style.bottom==="0px"&&(f.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});OV.displayName=vT;var kV="SelectGroup",[Due,$ue]=Qu(kV),Lue=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Ws();return g.jsx(Due,{scope:n,id:i,children:g.jsx(it.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Lue.displayName=kV;var jV="SelectLabel",RV=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=$ue(jV,n);return g.jsx(it.div,{id:i.id,...r,ref:e})});RV.displayName=jV;var Gg="SelectItem",[Fue,NV]=Qu(Gg),IV=C.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=ea(Gg,n),c=ta(Gg,n),u=a.value===r,[f,h]=C.useState(o??""),[p,v]=C.useState(!1),x=qt(e,T=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,T,r,i)}),b=Ws(),y=C.useRef("touch"),_=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(Fue,{scope:n,value:r,disabled:i,textId:b,isSelected:u,onItemTextChange:C.useCallback(T=>{h(S=>S||((T==null?void 0:T.textContent)??"").trim())},[]),children:g.jsx(vy.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:g.jsx(it.div,{role:"option","aria-labelledby":b,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:x,onFocus:nt(s.onFocus,()=>v(!0)),onBlur:nt(s.onBlur,()=>v(!1)),onClick:nt(s.onClick,()=>{y.current!=="mouse"&&_()}),onPointerUp:nt(s.onPointerUp,()=>{y.current==="mouse"&&_()}),onPointerDown:nt(s.onPointerDown,T=>{y.current=T.pointerType}),onPointerMove:nt(s.onPointerMove,T=>{var S;y.current=T.pointerType,i?(S=c.onItemLeave)==null||S.call(c):y.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:nt(s.onPointerLeave,T=>{var S;T.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:nt(s.onKeyDown,T=>{var A;((A=c.searchRef)==null?void 0:A.current)!==""&&T.key===" "||(Pue.includes(T.key)&&_(),T.key===" "&&T.preventDefault())})})})})});IV.displayName=Gg;var vf="SelectItemText",MV=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=ea(vf,n),a=ta(vf,n),c=NV(vf,n),u=Aue(vf,n),[f,h]=C.useState(null),p=qt(e,_=>h(_),c.onItemTextChange,_=>{var T;return(T=a.itemTextRefCallback)==null?void 0:T.call(a,_,c.value,c.disabled)}),v=f==null?void 0:f.textContent,x=C.useMemo(()=>g.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:b,onNativeOptionRemove:y}=u;return Gn(()=>(b(x),()=>y(x)),[b,y,x]),g.jsxs(g.Fragment,{children:[g.jsx(it.span,{id:c.textId,...o,ref:p}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Wh.createPortal(o.children,s.valueNode):null]})});MV.displayName=vf;var DV="SelectItemIndicator",$V=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return NV(DV,n).isSelected?g.jsx(it.span,{"aria-hidden":!0,...r,ref:e}):null});$V.displayName=DV;var yT="SelectScrollUpButton",LV=C.forwardRef((t,e)=>{const n=ta(yT,t.__scopeSelect),r=TA(yT,t.__scopeSelect),[i,o]=C.useState(!1),s=qt(e,r.onScrollButtonChange);return Gn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?g.jsx(BV,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});LV.displayName=yT;var bT="SelectScrollDownButton",FV=C.forwardRef((t,e)=>{const n=ta(bT,t.__scopeSelect),r=TA(bT,t.__scopeSelect),[i,o]=C.useState(!1),s=qt(e,r.onScrollButtonChange);return Gn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;o(f)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?g.jsx(BV,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});FV.displayName=bT;var BV=C.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=ta("SelectScrollButton",n),s=C.useRef(null),a=yy(n),c=C.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return C.useEffect(()=>()=>c(),[c]),Gn(()=>{var f;const u=a().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),g.jsx(it.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:nt(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:nt(i.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:nt(i.onPointerLeave,()=>{c()})})}),Bue="SelectSeparator",UV=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return g.jsx(it.div,{"aria-hidden":!0,...r,ref:e})});UV.displayName=Bue;var wT="SelectArrow",Uue=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=by(n),o=ea(wT,n),s=ta(wT,n);return o.open&&s.position==="popper"?g.jsx(pue,{...i,...r,ref:e}):null});Uue.displayName=wT;var que="SelectBubbleInput",qV=C.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=C.useRef(null),o=qt(r,i),s=gV(e);return C.useEffect(()=>{const a=i.current;if(!a)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==e&&f){const h=new Event("change",{bubbles:!0});f.call(a,e),a.dispatchEvent(h)}},[s,e]),g.jsx(it.select,{...n,style:{...vV,...n.style},ref:o,defaultValue:e})});qV.displayName=que;function VV(t){return t===""||t===void 0}function WV(t){const e=Ks(t),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(s=>{const a=n.current+s;e(a),(function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(a)},[e]),o=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function zV(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=Vue(t,Math.max(o,0));i.length===1&&(s=s.filter(u=>u!==n));const c=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Vue(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Wue=yV,HV=wV,zue=_V,Hue=SV,Gue=PV,GV=TV,Kue=OV,KV=RV,YV=IV,Yue=MV,Xue=$V,XV=LV,QV=FV,JV=UV;const I2=Wue,M2=zue,xT=C.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(HV,{ref:r,className:et("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,g.jsx(Hue,{asChild:!0,children:g.jsx(fq,{className:"h-4 w-4 opacity-50"})})]}));xT.displayName=HV.displayName;const ZV=C.forwardRef(({className:t,...e},n)=>g.jsx(XV,{ref:n,className:et("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(fte,{className:"h-4 w-4"})}));ZV.displayName=XV.displayName;const eW=C.forwardRef(({className:t,...e},n)=>g.jsx(QV,{ref:n,className:et("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(fq,{className:"h-4 w-4"})}));eW.displayName=QV.displayName;const _T=C.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>g.jsx(Gue,{children:g.jsxs(GV,{ref:i,className:et("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[g.jsx(ZV,{}),g.jsx(Kue,{className:et("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),g.jsx(eW,{})]})}));_T.displayName=GV.displayName;const Que=C.forwardRef(({className:t,...e},n)=>g.jsx(KV,{ref:n,className:et("px-2 py-1.5 text-sm font-semibold",t),...e}));Que.displayName=KV.displayName;const yf=C.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(YV,{ref:r,className:et("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[g.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(Xue,{children:g.jsx(ste,{className:"h-4 w-4"})})}),g.jsx(Yue,{children:e})]}));yf.displayName=YV.displayName;const Jue=C.forwardRef(({className:t,...e},n)=>g.jsx(JV,{ref:n,className:et("-mx-1 my-1 h-px bg-muted",t),...e}));Jue.displayName=JV.displayName;function Zue(){const[t,e]=C.useState([]),[n,r]=C.useState([]),[i,o]=C.useState("default"),[s,a]=C.useState("default"),[c,u]=C.useState(!1);C.useEffect(()=>{c&&f()},[c]);const f=async()=>{try{const v=await _t.getAudioDevices();e(v.audioInputs),r(v.audioOutputs)}catch(v){console.error("Failed to load audio devices:",v)}},h=async v=>{try{await _t.setInputDevice(v),o(v)}catch(x){console.error("Failed to set input device:",x)}},p=async v=>{try{await _t.setOutputDevice(v),a(v)}catch(x){console.error("Failed to set output device:",x)}};return g.jsxs(zf,{open:c,onOpenChange:u,children:[g.jsx(Mle,{asChild:!0,children:g.jsx(Ze,{variant:"outline",size:"icon",className:"rounded-full",children:g.jsx(GE,{className:"w-4 h-4"})})}),g.jsxs(cu,{className:"sm:max-w-[425px]",children:[g.jsxs(uu,{children:[g.jsx(du,{children:"Audio Device Settings"}),g.jsx(mA,{children:"Select your preferred microphone and speaker for calls"})]}),g.jsxs("div",{className:"space-y-6 py-4",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsxs(xt,{htmlFor:"input-device",className:"flex items-center gap-2",children:[g.jsx(ny,{className:"w-4 h-4"}),"Microphone"]}),g.jsxs(I2,{value:i,onValueChange:h,children:[g.jsx(xT,{id:"input-device",children:g.jsx(M2,{placeholder:"Select microphone"})}),g.jsxs(_T,{children:[t.length===0&&g.jsx(yf,{value:"default",children:"Default Microphone"}),t.map(v=>g.jsx(yf,{value:v.deviceId,children:v.label},v.deviceId))]})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs(xt,{htmlFor:"output-device",className:"flex items-center gap-2",children:[g.jsx(Sne,{className:"w-4 h-4"}),"Speaker"]}),g.jsxs(I2,{value:s,onValueChange:p,children:[g.jsx(xT,{id:"output-device",children:g.jsx(M2,{placeholder:"Select speaker"})}),g.jsxs(_T,{children:[n.length===0&&g.jsx(yf,{value:"default",children:"Default Speaker"}),n.map(v=>g.jsx(yf,{value:v.deviceId,children:v.label},v.deviceId))]})]})]}),g.jsx("div",{className:"pt-4 border-t",children:g.jsx("p",{className:"text-sm text-slate-500",children:"Make sure to allow microphone access when prompted by your browser"})})]})]})]})}const Fw=[{value:"appointment_set",label:"Appointment Set",icon:ty,points:100,color:"bg-emerald-500"},{value:"callback",label:"Callback Scheduled",icon:Mt,points:25,color:"bg-blue-500"},{value:"not_interested",label:"Not Interested",icon:ete,points:10,color:"bg-orange-500"},{value:"no_answer",label:"No Answer",icon:Hte,points:5,color:"bg-slate-500"},{value:"voicemail",label:"Left Voicemail",icon:xne,points:8,color:"bg-purple-500"},{value:"wrong_number",label:"Wrong Number",icon:su,points:2,color:"bg-red-500"}];function ede({lead:t,onClose:e,onComplete:n,onNext:r,onPrev:i,hasNext:o,hasPrev:s,userStats:a,sessionId:c=null,sessionManager:u=null}){var oo;const{theme:f,currentTheme:h}=nA(),p="demo@example.com",{currentCall:v,isConnected:x,clearCall:b,updateCallStatus:y}=Qse(p,t==null?void 0:t.id),[_,T]=C.useState(null),[S,A]=C.useState(""),[P,O]=C.useState(""),[k,R]=C.useState(!1),[I,L]=C.useState(!1),[M,B]=C.useState(!1),[q,Y]=C.useState(""),[Q,K]=C.useState(""),[J,F]=C.useState(!1),[G,D]=C.useState(!1),[$,z]=C.useState(!1),[te,ue]=C.useState(null),[ye,Oe]=C.useState(0),se=C.useRef(null),pe=(v==null?void 0:v.status)||"idle",oe=(v==null?void 0:v.isActive)||!1,fe=pe==="in-progress"||pe==="connected";C.useEffect(()=>((async()=>{const{data:ln}=await Ne.from("dialer_settings").select("*").eq("user_email",p).maybeSingle();ue(ln||{use_mock_dialer:!1})})(),(async()=>{const ln=await _t.initialize(p);F(!0),D(ln),ln&&(_t.onCallAnswered(()=>{console.log("Twilio call answered in browser")}),_t.onCallEnded(()=>{console.log("Twilio call ended")}),_t.onCallError(oi=>{console.error("Twilio call error:",oi),K(`Call error: ${oi.message||"Unknown error"}`)}))})(),()=>{se.current&&clearInterval(se.current)}),[]),C.useEffect(()=>(fe?se.current||(se.current=setInterval(()=>{Oe(Qe=>Qe+1)},1e3)):(se.current&&(clearInterval(se.current),se.current=null),(pe==="idle"||!v)&&Oe(0)),()=>{se.current&&(clearInterval(se.current),se.current=null)}),[fe,pe,v]),C.useEffect(()=>{v!=null&&v.last_error&&K(v.last_error)},[v]);const ve=async()=>{if(oe){console.log("Call already in progress");return}K(""),Oe(0);try{if((te==null?void 0:te.use_mock_dialer)||!1){console.log("Using mock dialer mode");const Tt=await iu("mockDialerCall",{to:t.phone,leadId:t.id,leadName:t.name,userEmail:p,lineNumber:1,sessionId:c,mockConfig:(te==null?void 0:te.mock_config)||{}});if(!Tt.success)throw new Error(Tt.error||"Failed to initiate mock call")}else{if(console.log("Using real Twilio dialer"),!J||!G){if(!await _t.initialize(p)){K("Twilio not configured. Enable Demo Mode in Settings to test without Twilio.");return}F(!0),D(!0)}_t.onCallAnswered(()=>{console.log("Twilio call connected in DialerModal")}),_t.onCallError(Tt=>{console.error("Twilio call error:",Tt),K(`Call error: ${Tt.message||"Unknown error"}`)}),await _t.makeCall(t.phone,{userEmail:p,leadId:t.id,leadName:t.name,sessionId:c})}}catch(Qe){console.error("Error starting call:",Qe),K(Qe.message||"Failed to initiate call")}},re=async()=>{try{!(v!=null&&v.is_mock)&&_t.hasActiveCall()&&_t.disconnectCall(),await y("ended",{ended_at:new Date().toISOString()})}catch(Qe){console.error("Error ending call:",Qe),await y("ended",{ended_at:new Date().toISOString()})}se.current&&(clearInterval(se.current),se.current=null)},ze=async()=>{try{!(v!=null&&v.is_mock)&&_t.hasActiveCall()&&_t.disconnectCall(),await b(),K("")}catch(Qe){console.error("Error cancelling call:",Qe),await b()}},Le=async()=>{oe&&await ze(),e()},ct=()=>{$?(_t.unmuteCall(),z(!1)):(_t.muteCall(),z(!0))},ut=Qe=>{const Tt=Math.floor(Qe/60),ln=Qe%60;return`${Tt.toString().padStart(2,"0")}:${ln.toString().padStart(2,"0")}`},Pt=async Qe=>{R(!0),L(!0);try{await new Promise(oi=>setTimeout(oi,1500));const ln={appointment_set:`Successfully scheduled an appointment with ${t.name}. Prospect showed strong interest in our solution and agreed to a follow-up meeting. Next steps: Send calendar invite and preparation materials.`,callback:`${t.name} requested a callback at a later time. They seem interested but need more time to consider. Follow up within 24-48 hours to maintain momentum.`,not_interested:`Spoke with ${t.name} who indicated they're not currently interested in our services. They mentioned budget constraints and timing issues. Consider following up in 3-6 months.`,no_answer:`No answer on this call attempt. Phone rang but ${t.name} did not pick up. Recommend trying again at a different time of day, potentially early morning or late afternoon.`,voicemail:`Left a professional voicemail for ${t.name} introducing our services. Mentioned key value propositions and requested a callback. Track for response within 48 hours.`,wrong_number:`Incorrect contact information on file for ${t.name}. The number reached does not belong to the prospect. Data needs to be updated with correct contact details.`}[_]||`Call completed with ${t.name}. Duration: ${Math.floor(ye/60)}m ${ye%60}s.`;O(ln)}finally{R(!1),B(!1)}},Kn=async()=>{if(!_){Y("Please select a call outcome first");return}B(!0),Y("");try{const Qe=Fw.find(Ii=>Ii.value===_),{data:Tt,error:ln}=await Ne.from("call_logs").insert({lead_id:t.id,lead_name:t.name,duration:ye,outcome:_,points_earned:Qe.points,notes:S,user_email:p,session_id:c,has_recording:(te==null?void 0:te.enable_call_recording)||!1}).select().single();if(ln)throw ln;const{error:oi}=await Ne.from("leads").update({status:_==="appointment_set"?"appointment_set":_==="not_interested"?"not_interested":_==="no_answer"?"no_answer":"contacted",last_called:new Date().toISOString(),last_called_at:new Date().toISOString(),last_called_by:p,call_count:(t.call_count||0)+1,notes:S?`${t.notes||""}
[${new Date().toLocaleDateString()}]: ${S}`:t.notes}).eq("id",t.id);if(oi)throw oi;if(a){const Ii=_==="appointment_set"?(a.current_streak||0)+1:0,{error:ad}=await Ne.from("user_stats").update({total_points:(a.total_points||0)+Qe.points,calls_today:(a.calls_today||0)+1,appointments_today:_==="appointment_set"?(a.appointments_today||0)+1:a.appointments_today,current_streak:Ii,best_streak:Math.max(Ii,a.best_streak||0),mascot_mood:Ii>=3?"excited":(a.calls_today||0)+1>=10?"happy":"neutral"}).eq("id",a.id);if(ad)throw ad}await b(),Tt!=null&&Tt.id&&await Pt(Tt.id)}catch(Qe){console.error("Error submitting call:",Qe),Y(Qe.message||"Failed to save call. Please try again."),B(!1)}},On=pe==="idle"||!v,xr=pe==="dialing"||pe==="initiating"||pe==="queued"||pe==="ringing",kn=fe,_r=pe==="ended"||(v==null?void 0:v.isTerminal)&&pe!=="idle";return g.jsx(me.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:g.jsxs(me.div,{className:"rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden bg-white relative",initial:{scale:.9,y:20},animate:{scale:1,y:0},children:[g.jsxs("div",{className:"p-6 text-white relative bg-gradient-to-r from-blue-600 to-cyan-600",children:[g.jsxs("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 flex gap-2 z-30",children:[s&&g.jsx("button",{onClick:i,disabled:oe,className:"p-2 hover:bg-white/20 rounded-full transition-all disabled:opacity-30 disabled:cursor-not-allowed",children:g.jsx(cte,{className:"w-5 h-5"})}),o&&g.jsx("button",{onClick:r,disabled:oe,className:"p-2 hover:bg-white/20 rounded-full transition-all disabled:opacity-30 disabled:cursor-not-allowed",children:g.jsx(EI,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-30",children:[x?g.jsx(Ene,{className:"w-4 h-4 text-white/60",title:"Real-time connected"}):g.jsx(Tne,{className:"w-4 h-4 text-white/40",title:"Real-time disconnected"}),G&&g.jsx(Zue,{}),g.jsx("button",{onClick:Le,className:"p-2 hover:bg-white/20 rounded-full transition-all",children:g.jsx(su,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-2xl font-bold",children:t==null?void 0:t.name}),g.jsx("p",{className:"text-white/80 mt-1",children:t==null?void 0:t.company}),g.jsx("p",{className:"text-xl font-mono mt-3",children:t==null?void 0:t.phone}),(v==null?void 0:v.is_mock)&&g.jsx("div",{className:"mt-2 inline-block px-3 py-1 bg-white/20 rounded-full text-xs",children:"Demo Mode"})]}),kn&&g.jsx(me.div,{className:"text-center mt-4",initial:{scale:0},animate:{scale:1},children:g.jsx("span",{className:"text-4xl font-mono font-bold",children:ut(ye)})}),xr&&g.jsx(me.div,{className:"text-center mt-4",initial:{opacity:0},animate:{opacity:1},children:g.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 rounded-full",children:[g.jsx(Cf,{className:"w-4 h-4 animate-spin"}),g.jsx("span",{className:"text-sm font-medium",children:((oo=v==null?void 0:v.statusInfo)==null?void 0:oo.label)||"Calling..."})]})})]}),g.jsxs("div",{className:"p-6",children:[On&&g.jsxs(me.div,{className:"text-center space-y-4",children:[Q&&g.jsx(me.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm",children:Q}),g.jsxs(Ze,{onClick:ve,className:"w-full h-16 text-xl font-semibold rounded-2xl shadow-lg bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 shadow-green-500/30",children:[g.jsx(Mt,{className:"w-6 h-6 mr-3"}),"Start Call"]})]}),xr&&g.jsxs(me.div,{className:"text-center py-6 space-y-4",initial:{opacity:0},animate:{opacity:1},children:[g.jsxs("p",{className:"text-slate-600 font-medium",children:["Connecting to ",t.name,"..."]}),g.jsx("p",{className:"text-slate-400 text-sm",children:"Please wait while we establish the connection"}),g.jsxs(Ze,{onClick:ze,variant:"outline",className:"border-red-500 text-red-500 hover:bg-red-50",children:[g.jsx(YP,{className:"w-4 h-4 mr-2"}),"Cancel Call"]})]}),kn&&g.jsxs(me.div,{className:"flex justify-center gap-4",initial:{opacity:0},animate:{opacity:1},children:[g.jsx(Ze,{onClick:ct,variant:"outline",className:"h-14 px-6 rounded-2xl",children:$?g.jsx(hq,{className:"w-5 h-5"}):g.jsx(ny,{className:"w-5 h-5"})}),g.jsxs(Ze,{onClick:re,className:"h-14 px-8 bg-gradient-to-r rounded-2xl shadow-lg from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 shadow-red-500/30",children:[g.jsx(YP,{className:"w-5 h-5 mr-2"}),"End Call"]})]}),_r&&g.jsxs(me.div,{className:"space-y-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[g.jsx("h3",{className:"font-semibold text-slate-700 mb-3",children:"Call Outcome"}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:Fw.map(Qe=>{const Tt=Qe.icon,ln=_===Qe.value;return g.jsx(me.button,{onClick:()=>T(Qe.value),className:`
                        p-4 rounded-2xl border-2 transition-all text-left
                        ${ln?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300"}
                      `,whileHover:{scale:1.02},whileTap:{scale:.98},children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`p-2 rounded-xl ${Qe.color}`,children:g.jsx(Tt,{className:"w-4 h-4 text-white"})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-slate-700 text-sm",children:Qe.label}),g.jsxs("p",{className:"text-xs text-emerald-600 font-semibold",children:["+",Qe.points," pts"]})]})]})},Qe.value)})}),g.jsx(Xq,{placeholder:"Add notes about the call...",value:S,onChange:Qe=>A(Qe.target.value),className:"rounded-2xl border-slate-200 resize-none h-24"}),q&&g.jsx(me.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm",children:q}),g.jsx(Ze,{onClick:Kn,disabled:!_||M||k,className:"w-full h-14 bg-gradient-to-r rounded-2xl text-lg font-semibold shadow-lg disabled:opacity-50 from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 shadow-blue-500/30",children:M?g.jsxs(g.Fragment,{children:[g.jsx(Cf,{className:"w-5 h-5 mr-2 animate-spin"}),"Saving..."]}):g.jsxs(g.Fragment,{children:["Complete & Earn Points",g.jsx(EI,{className:"w-5 h-5 ml-2"})]})}),g.jsx(Pl,{children:I&&g.jsxs(me.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-2xl",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g.jsx(KE,{className:"w-4 h-4 text-blue-600"}),g.jsx("h4",{className:"text-sm font-semibold text-blue-900",children:"AI Call Summary"})]}),k?g.jsxs("div",{className:"flex items-center gap-2 text-blue-600 text-sm",children:[g.jsx(Cf,{className:"w-4 h-4 animate-spin"}),g.jsx("span",{children:"Analyzing call..."})]}):g.jsxs(g.Fragment,{children:[g.jsx("p",{className:"text-slate-700 text-sm leading-relaxed mb-3",children:P}),g.jsx(Ze,{onClick:async()=>{var Tt;const Qe=((Tt=Fw.find(ln=>ln.value===_))==null?void 0:Tt.points)||0;n(Qe,c),await Le()},className:"w-full bg-blue-600 hover:bg-blue-700",children:"Done"})]})]})})]})]})]})})}function tde({points:t,isVisible:e,onComplete:n}){return g.jsx(Pl,{children:e&&g.jsxs(me.div,{className:"fixed inset-0 flex items-center justify-center z-[60] pointer-events-none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onAnimationComplete:()=>{setTimeout(n,1500)},children:[g.jsx(me.div,{className:"bg-gradient-to-br from-amber-400 via-yellow-400 to-orange-500 rounded-3xl p-8 shadow-2xl shadow-yellow-500/50",initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},exit:{scale:0,y:-100},transition:{type:"spring",damping:15},children:g.jsxs("div",{className:"flex flex-col items-center text-white",children:[g.jsx(me.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5,repeat:2},children:g.jsx(KE,{className:"w-12 h-12 mb-2"})}),g.jsxs(me.span,{className:"text-6xl font-bold",initial:{y:20},animate:{y:0},children:["+",t]}),g.jsx("span",{className:"text-xl font-semibold mt-1",children:"POINTS!"})]})}),[...Array(12)].map((r,i)=>g.jsx(me.div,{className:"absolute w-4 h-4 rounded-full",style:{background:["#fbbf24","#f97316","#a855f7","#3b82f6","#10b981"][i%5]},initial:{x:0,y:0,scale:1},animate:{x:(Math.random()-.5)*400,y:(Math.random()-.5)*400,scale:0,opacity:0},transition:{duration:1,delay:i*.05,ease:"easeOut"}},i))]})})}function nde(){var a;const[t,e]=C.useState(0),{data:n,isLoading:r,error:i,refetch:o}=Dt({queryKey:["performanceTips",t],queryFn:async()=>await iu("generatePerformanceTips",{}),staleTime:300*1e3,retry:2}),s=()=>{e(c=>c+1),o()};return g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-indigo-500/30",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(KE,{className:"w-5 h-5 text-indigo-400"}),g.jsx("h3",{className:"text-lg font-bold text-white",children:"AI Performance Coach"})]}),g.jsx(Ze,{variant:"ghost",size:"icon",onClick:s,disabled:r,className:"text-indigo-400 hover:text-indigo-300 hover:bg-indigo-500/10",children:r?g.jsx(Cf,{className:"w-4 h-4 animate-spin"}):g.jsx(Qte,{className:"w-4 h-4"})})]}),g.jsx(Pl,{mode:"wait",children:r?g.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-8 text-center",children:[g.jsx(Cf,{className:"w-8 h-8 text-indigo-400 animate-spin mx-auto mb-2"}),g.jsx("p",{className:"text-purple-300 text-sm",children:"Analyzing your performance..."})]},"loading"):i?g.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-8 text-center",children:g.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl",children:[g.jsx("p",{className:"text-red-400 text-sm mb-3",children:"Failed to load performance tips"}),g.jsx(Ze,{onClick:s,size:"sm",className:"bg-red-500 hover:bg-red-600",children:"Try Again"})]})},"error"):g.jsxs(me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-3",children:[(a=n==null?void 0:n.tips)==null?void 0:a.map((c,u)=>g.jsxs(me.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.1},className:"flex items-start gap-3 p-4 bg-indigo-500/10 rounded-xl border border-indigo-500/20",children:[g.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full mt-2 flex-shrink-0"}),g.jsx("div",{children:g.jsx("p",{className:"text-purple-300 text-sm leading-relaxed",children:c})})]},u)),(n==null?void 0:n.metrics)&&g.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-900/30 rounded-xl mt-4",children:[g.jsx("span",{className:"text-purple-300 text-sm",children:"Overall Performance"}),g.jsxs("span",{className:"text-white font-semibold flex items-center gap-1",children:[g.jsx(Fo,{className:"w-4 h-4 text-emerald-400"}),n.metrics.successRate,"%"]})]})]},"tips")})]})}function mt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Qs(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const tW=6048e5,rde=864e5,nW=6e4,rW=36e5,$m=43200,D2=1440;let ide={};function Gh(){return ide}function vl(t,e){var a,c,u,f;const n=Gh(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=mt(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Kg(t){return vl(t,{weekStartsOn:1})}function iW(t){const e=mt(t),n=e.getFullYear(),r=Qs(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Kg(r),o=Qs(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Kg(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function ST(t){const e=mt(t);return e.setHours(0,0,0,0),e}function Yg(t){const e=mt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ode(t,e){const n=ST(t),r=ST(e),i=+n-Yg(n),o=+r-Yg(r);return Math.round((i-o)/rde)}function sde(t){const e=iW(t),n=Qs(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Kg(n)}function pg(t,e){const n=mt(t),r=mt(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function ade(t){return Qs(t,Date.now())}function lde(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function cde(t){if(!lde(t)&&typeof t!="number")return!1;const e=mt(t);return!isNaN(Number(e))}function ude(t,e){const n=mt(t),r=mt(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function dde(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function fde(t,e){return+mt(t)-+mt(e)}function hde(t){const e=mt(t);return e.setHours(23,59,59,999),e}function pde(t){const e=mt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function mde(t){const e=mt(t);return+hde(e)==+pde(e)}function gde(t,e){const n=mt(t),r=mt(e),i=pg(n,r),o=Math.abs(ude(n,r));let s;if(o<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*o);let a=pg(n,r)===-i;mde(mt(t))&&o===1&&pg(t,r)===1&&(a=!1),s=i*(o-Number(a))}return s===0?0:s}function vde(t,e,n){const r=fde(t,e)/1e3;return dde(n==null?void 0:n.roundingMethod)(r)}function yde(t){const e=mt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function bde(t){const e=mt(t),n=Qs(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const wde={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xde=(t,e,n)=>{let r;const i=wde[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Bw(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const _de={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Sde={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Pde={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Tde={date:Bw({formats:_de,defaultWidth:"full"}),time:Bw({formats:Sde,defaultWidth:"full"}),dateTime:Bw({formats:Pde,defaultWidth:"full"})},Cde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ede=(t,e,n,r)=>Cde[t];function Jd(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const Ade={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ode={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Rde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ide=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Mde={ordinalNumber:Ide,era:Jd({values:Ade,defaultWidth:"wide"}),quarter:Jd({values:Ode,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Jd({values:kde,defaultWidth:"wide"}),day:Jd({values:jde,defaultWidth:"wide"}),dayPeriod:Jd({values:Rde,defaultWidth:"wide",formattingValues:Nde,defaultFormattingWidth:"wide"})};function Zd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?$de(a,h=>h.test(s)):Dde(a,h=>h.test(s));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const f=e.slice(s.length);return{value:u,rest:f}}}function Dde(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function $de(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Lde(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const Fde=/^(\d+)(th|st|nd|rd)?/i,Bde=/\d+/i,Ude={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qde={any:[/^b/i,/^(a|c)/i]},Vde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Wde={any:[/1/i,/2/i,/3/i,/4/i]},zde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Hde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Gde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Kde={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Yde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xde={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Qde={ordinalNumber:Lde({matchPattern:Fde,parsePattern:Bde,valueCallback:t=>parseInt(t,10)}),era:Zd({matchPatterns:Ude,defaultMatchWidth:"wide",parsePatterns:qde,defaultParseWidth:"any"}),quarter:Zd({matchPatterns:Vde,defaultMatchWidth:"wide",parsePatterns:Wde,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zd({matchPatterns:zde,defaultMatchWidth:"wide",parsePatterns:Hde,defaultParseWidth:"any"}),day:Zd({matchPatterns:Gde,defaultMatchWidth:"wide",parsePatterns:Kde,defaultParseWidth:"any"}),dayPeriod:Zd({matchPatterns:Yde,defaultMatchWidth:"any",parsePatterns:Xde,defaultParseWidth:"any"})},oW={code:"en-US",formatDistance:xde,formatLong:Tde,formatRelative:Ede,localize:Mde,match:Qde,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Jde(t){const e=mt(t);return ode(e,bde(e))+1}function Zde(t){const e=mt(t),n=+Kg(e)-+sde(e);return Math.round(n/tW)+1}function sW(t,e){var f,h,p,v;const n=mt(t),r=n.getFullYear(),i=Gh(),o=(e==null?void 0:e.firstWeekContainsDate)??((h=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(p=i.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,s=Qs(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=vl(s,e),c=Qs(t,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const u=vl(c,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function efe(t,e){var a,c,u,f;const n=Gh(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=sW(t,e),o=Qs(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),vl(o,e)}function tfe(t,e){const n=mt(t),r=+vl(n,e)-+efe(n,e);return Math.round(r/tW)+1}function yt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const xs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return yt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):yt(n+1,2)},d(t,e){return yt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return yt(t.getHours()%12||12,e.length)},H(t,e){return yt(t.getHours(),e.length)},m(t,e){return yt(t.getMinutes(),e.length)},s(t,e){return yt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return yt(i,e.length)}},hc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$2={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return xs.y(t,e)},Y:function(t,e,n,r){const i=sW(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return yt(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):yt(o,e.length)},R:function(t,e){const n=iW(t);return yt(n,e.length)},u:function(t,e){const n=t.getFullYear();return yt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return yt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return yt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return xs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return yt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=tfe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):yt(i,e.length)},I:function(t,e,n){const r=Zde(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):yt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):xs.d(t,e)},D:function(t,e,n){const r=Jde(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):yt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return yt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return yt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return yt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=hc.noon:r===0?i=hc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=hc.evening:r>=12?i=hc.afternoon:r>=4?i=hc.morning:i=hc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):xs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):xs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):xs.s(t,e)},S:function(t,e){return xs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return F2(r);case"XXXX":case"XX":return ka(r);case"XXXXX":case"XXX":default:return ka(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return F2(r);case"xxxx":case"xx":return ka(r);case"xxxxx":case"xxx":default:return ka(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+L2(r,":");case"OOOO":default:return"GMT"+ka(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+L2(r,":");case"zzzz":default:return"GMT"+ka(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return yt(r,e.length)},T:function(t,e,n){const r=t.getTime();return yt(r,e.length)}};function L2(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+yt(o,2)}function F2(t,e){return t%60===0?(t>0?"-":"+")+yt(Math.abs(t)/60,2):ka(t,e)}function ka(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=yt(Math.trunc(r/60),2),o=yt(r%60,2);return n+i+e+o}const B2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},aW=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},nfe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return B2(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",B2(r,e)).replace("{{time}}",aW(i,e))},rfe={p:aW,P:nfe},ife=/^D+$/,ofe=/^Y+$/,sfe=["D","DD","YY","YYYY"];function afe(t){return ife.test(t)}function lfe(t){return ofe.test(t)}function cfe(t,e,n){const r=ufe(t,e,n);if(console.warn(r),sfe.includes(t))throw new RangeError(r)}function ufe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ffe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hfe=/^'([^]*?)'?$/,pfe=/''/g,mfe=/[a-zA-Z]/;function U2(t,e,n){var f,h,p,v;const r=Gh(),i=r.locale??oW,o=r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=r.weekStartsOn??((v=(p=r.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,a=mt(t);if(!cde(a))throw new RangeError("Invalid time value");let c=e.match(ffe).map(x=>{const b=x[0];if(b==="p"||b==="P"){const y=rfe[b];return y(x,i.formatLong)}return x}).join("").match(dfe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:gfe(x)};if($2[b])return{isToken:!0,value:x};if(b.match(mfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(c=i.localize.preprocessor(a,c));const u={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(lfe(b)||afe(b))&&cfe(b,e,String(t));const y=$2[b[0]];return y(a,b,i.localize,u)}).join("")}function gfe(t){const e=t.match(hfe);return e?e[1].replace(pfe,"'"):t}function vfe(t,e,n){const r=Gh(),i=(n==null?void 0:n.locale)??r.locale??oW,o=2520,s=pg(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s});let c,u;s>0?(c=mt(e),u=mt(t)):(c=mt(t),u=mt(e));const f=vde(u,c),h=(Yg(u)-Yg(c))/1e3,p=Math.round((f-h)/60);let v;if(p<2)return n!=null&&n.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,a):f<10?i.formatDistance("lessThanXSeconds",10,a):f<20?i.formatDistance("lessThanXSeconds",20,a):f<40?i.formatDistance("halfAMinute",0,a):f<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):p===0?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",p,a);if(p<45)return i.formatDistance("xMinutes",p,a);if(p<90)return i.formatDistance("aboutXHours",1,a);if(p<D2){const x=Math.round(p/60);return i.formatDistance("aboutXHours",x,a)}else{if(p<o)return i.formatDistance("xDays",1,a);if(p<$m){const x=Math.round(p/D2);return i.formatDistance("xDays",x,a)}else if(p<$m*2)return v=Math.round(p/$m),i.formatDistance("aboutXMonths",v,a)}if(v=gde(u,c),v<12){const x=Math.round(p/$m);return i.formatDistance("xMonths",x,a)}else{const x=v%12,b=Math.trunc(v/12);return x<3?i.formatDistance("aboutXYears",b,a):x<9?i.formatDistance("overXYears",b,a):i.formatDistance("almostXYears",b+1,a)}}function yfe(t,e){return vfe(t,ade(t),e)}function bfe(t,e){const n=mt(t),r=mt(e);return n.getTime()>r.getTime()}function Uw(t,e){const r=Sfe(t);let i;if(r.date){const c=Pfe(r.date,2);i=Tfe(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let s=0,a;if(r.time&&(s=Cfe(r.time),isNaN(s)))return new Date(NaN);if(r.timezone){if(a=Efe(r.timezone),isNaN(a))return new Date(NaN)}else{const c=new Date(o+s),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(o+s+a)}const Lm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},wfe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,xfe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_fe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Sfe(t){const e={},n=t.split(Lm.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Lm.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Lm.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Lm.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function Pfe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function Tfe(t,e){if(e===null)return new Date(NaN);const n=t.match(wfe);if(!n)return new Date(NaN);const r=!!n[4],i=ef(n[1]),o=ef(n[2])-1,s=ef(n[3]),a=ef(n[4]),c=ef(n[5])-1;if(r)return Rfe(e,a,c)?Afe(e,a,c):new Date(NaN);{const u=new Date(0);return!kfe(e,o,s)||!jfe(e,i)?new Date(NaN):(u.setUTCFullYear(e,o,Math.max(i,s)),u)}}function ef(t){return t?parseInt(t):1}function Cfe(t){const e=t.match(xfe);if(!e)return NaN;const n=qw(e[1]),r=qw(e[2]),i=qw(e[3]);return Nfe(n,r,i)?n*rW+r*nW+i*1e3:NaN}function qw(t){return t&&parseFloat(t.replace(",","."))||0}function Efe(t){if(t==="Z")return 0;const e=t.match(_fe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Ife(r,i)?n*(r*rW+i*nW):NaN}function Afe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const Ofe=[31,null,31,30,31,30,31,31,30,31,30,31];function lW(t){return t%400===0||t%4===0&&t%100!==0}function kfe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(Ofe[e]||(lW(t)?29:28))}function jfe(t,e){return e>=1&&e<=(lW(t)?366:365)}function Rfe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Nfe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function Ife(t,e){return e>=0&&e<=59}function Mfe({session:t,onResume:e,onDiscard:n,open:r}){if(!t)return null;const i=t.total_leads>0?Math.round(t.completed_leads/t.total_leads*100):0,o=t.last_activity_at?yfe(new Date(t.last_activity_at),{addSuffix:!0}):"Unknown";return g.jsx(zf,{open:r,onOpenChange:s=>!s&&n(),children:g.jsxs(cu,{className:"sm:max-w-md bg-slate-900 border-slate-700",children:[g.jsxs(uu,{children:[g.jsxs(du,{className:"text-2xl font-bold text-white flex items-center gap-2",children:[g.jsx(qs,{className:"w-6 h-6 text-blue-400"}),"Resume Your Session?"]}),g.jsxs(mA,{className:"text-slate-300",children:["You have an unfinished dialing session from ",o]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs(me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-slate-800 rounded-lg p-4 space-y-3",children:[t.pipeline&&g.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[g.jsx(gq,{className:"w-4 h-4 text-purple-400"}),g.jsx("span",{className:"text-sm",children:"Pipeline:"}),g.jsx("span",{className:"font-semibold text-white",children:t.pipeline.name})]}),g.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[g.jsx(Mt,{className:"w-4 h-4 text-emerald-400"}),g.jsx("span",{className:"text-sm",children:"Progress:"}),g.jsxs("span",{className:"font-semibold text-white",children:[t.completed_leads," / ",t.total_leads," leads"]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between text-sm text-slate-400",children:[g.jsx("span",{children:"Completion"}),g.jsxs("span",{children:[i,"%"]})]}),g.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2 overflow-hidden",children:g.jsx(me.div,{initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5,ease:"easeOut"},className:"h-full bg-gradient-to-r from-blue-500 to-purple-500"})})]}),t.current_lead&&g.jsxs("div",{className:"pt-2 border-t border-slate-700",children:[g.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Next Lead:"}),g.jsx("p",{className:"text-sm font-medium text-white",children:t.current_lead.name}),t.current_lead.company&&g.jsx("p",{className:"text-xs text-slate-400",children:t.current_lead.company})]})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs(Ze,{onClick:e,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white",children:[g.jsx(pte,{className:"w-4 h-4 mr-2"}),"Resume Session"]}),g.jsxs(Ze,{onClick:n,variant:"outline",className:"flex-1 border-slate-600 text-slate-300 hover:bg-slate-800 hover:text-white",children:[g.jsx(gte,{className:"w-4 h-4 mr-2"}),"Start Fresh"]})]}),g.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Resuming will pick up exactly where you left off"})]})]})})}const en=C.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:et("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));en.displayName="Input";var Vw="rovingFocusGroup.onEntryFocus",Dfe={bubbles:!1,cancelable:!0},Kh="RovingFocusGroup",[PT,cW,$fe]=H6(Kh),[Lfe,uW]=Al(Kh,[$fe]),[Ffe,Bfe]=Lfe(Kh),dW=C.forwardRef((t,e)=>g.jsx(PT.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(PT.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(Ufe,{...t,ref:e})})}));dW.displayName=Kh;var Ufe=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=t,p=C.useRef(null),v=qt(e,p),x=gA(o),[b,y]=lu({prop:s,defaultProp:a??null,onChange:c,caller:Kh}),[_,T]=C.useState(!1),S=Ks(u),A=cW(n),P=C.useRef(!1),[O,k]=C.useState(0);return C.useEffect(()=>{const R=p.current;if(R)return R.addEventListener(Vw,S),()=>R.removeEventListener(Vw,S)},[S]),g.jsx(Ffe,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:b,onItemFocus:C.useCallback(R=>y(R),[y]),onItemShiftTab:C.useCallback(()=>T(!0),[]),onFocusableItemAdd:C.useCallback(()=>k(R=>R+1),[]),onFocusableItemRemove:C.useCallback(()=>k(R=>R-1),[]),children:g.jsx(it.div,{tabIndex:_||O===0?-1:0,"data-orientation":r,...h,ref:v,style:{outline:"none",...t.style},onMouseDown:nt(t.onMouseDown,()=>{P.current=!0}),onFocus:nt(t.onFocus,R=>{const I=!P.current;if(R.target===R.currentTarget&&I&&!_){const L=new CustomEvent(Vw,Dfe);if(R.currentTarget.dispatchEvent(L),!L.defaultPrevented){const M=A().filter(K=>K.focusable),B=M.find(K=>K.active),q=M.find(K=>K.id===b),Q=[B,q,...M].filter(Boolean).map(K=>K.ref.current);pW(Q,f)}}P.current=!1}),onBlur:nt(t.onBlur,()=>T(!1))})})}),fW="RovingFocusGroupItem",hW=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:s,...a}=t,c=Ws(),u=o||c,f=Bfe(fW,n),h=f.currentTabStopId===u,p=cW(n),{onFocusableItemAdd:v,onFocusableItemRemove:x,currentTabStopId:b}=f;return C.useEffect(()=>{if(r)return v(),()=>x()},[r,v,x]),g.jsx(PT.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:g.jsx(it.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...a,ref:e,onMouseDown:nt(t.onMouseDown,y=>{r?f.onItemFocus(u):y.preventDefault()}),onFocus:nt(t.onFocus,()=>f.onItemFocus(u)),onKeyDown:nt(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){f.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const _=Wfe(y,f.orientation,f.dir);if(_!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let S=p().filter(A=>A.focusable).map(A=>A.ref.current);if(_==="last")S.reverse();else if(_==="prev"||_==="next"){_==="prev"&&S.reverse();const A=S.indexOf(y.currentTarget);S=f.loop?zfe(S,A+1):S.slice(A+1)}setTimeout(()=>pW(S))}}),children:typeof s=="function"?s({isCurrentTabStop:h,hasTabStop:b!=null}):s})})});hW.displayName=fW;var qfe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Vfe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Wfe(t,e,n){const r=Vfe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return qfe[r]}function pW(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function zfe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Hfe=dW,Gfe=hW,wy="Tabs",[Kfe]=Al(wy,[uW]),mW=uW(),[Yfe,CA]=Kfe(wy),gW=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:c="automatic",...u}=t,f=gA(a),[h,p]=lu({prop:r,onChange:i,defaultProp:o??"",caller:wy});return g.jsx(Yfe,{scope:n,baseId:Ws(),value:h,onValueChange:p,orientation:s,dir:f,activationMode:c,children:g.jsx(it.div,{dir:f,"data-orientation":s,...u,ref:e})})});gW.displayName=wy;var vW="TabsList",yW=C.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=CA(vW,n),s=mW(n);return g.jsx(Hfe,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:g.jsx(it.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});yW.displayName=vW;var bW="TabsTrigger",wW=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,s=CA(bW,n),a=mW(n),c=SW(s.baseId,r),u=PW(s.baseId,r),f=r===s.value;return g.jsx(Gfe,{asChild:!0,...a,focusable:!i,active:f,children:g.jsx(it.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...o,ref:e,onMouseDown:nt(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?s.onValueChange(r):h.preventDefault()}),onKeyDown:nt(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&s.onValueChange(r)}),onFocus:nt(t.onFocus,()=>{const h=s.activationMode!=="manual";!f&&!i&&h&&s.onValueChange(r)})})})});wW.displayName=bW;var xW="TabsContent",_W=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...s}=t,a=CA(xW,n),c=SW(a.baseId,r),u=PW(a.baseId,r),f=r===a.value,h=C.useRef(f);return C.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),g.jsx(zh,{present:i||f,children:({present:p})=>g.jsx(it.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&o})})});_W.displayName=xW;function SW(t,e){return`${t}-trigger-${e}`}function PW(t,e){return`${t}-content-${e}`}var Xfe=gW,TW=yW,CW=wW,EW=_W;const AW=Xfe,EA=C.forwardRef(({className:t,...e},n)=>g.jsx(TW,{ref:n,className:et("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));EA.displayName=TW.displayName;const sl=C.forwardRef(({className:t,...e},n)=>g.jsx(CW,{ref:n,className:et("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));sl.displayName=CW.displayName;const al=C.forwardRef(({className:t,...e},n)=>g.jsx(EW,{ref:n,className:et("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));al.displayName=EW.displayName;function Qfe(t){const[e,n]=C.useState(null),[r,i]=C.useState(!1),[o,s]=C.useState(null),a=C.useRef(null),c=C.useRef(!1),u=y=>["completed","ended","failed","busy","no-answer","canceled","voicemail_detected"].includes(y),f=y=>["dialing","queued","ringing","in-progress","connected","initiating"].includes(y),h=y=>({dialing:{label:"Dialing...",color:"text-blue-600",bgColor:"bg-blue-100"},initiating:{label:"Initiating...",color:"text-blue-600",bgColor:"bg-blue-100"},queued:{label:"Queued",color:"text-yellow-600",bgColor:"bg-yellow-100"},ringing:{label:"Ringing...",color:"text-indigo-600",bgColor:"bg-indigo-100"},"in-progress":{label:"Connected",color:"text-green-600",bgColor:"bg-green-100"},connected:{label:"Connected",color:"text-green-600",bgColor:"bg-green-100"},completed:{label:"Ended",color:"text-slate-600",bgColor:"bg-slate-100"},ended:{label:"Ended",color:"text-slate-600",bgColor:"bg-slate-100"},failed:{label:"Failed",color:"text-red-600",bgColor:"bg-red-100"},busy:{label:"Busy",color:"text-orange-600",bgColor:"bg-orange-100"},"no-answer":{label:"No Answer",color:"text-slate-600",bgColor:"bg-slate-100"},canceled:{label:"Canceled",color:"text-slate-600",bgColor:"bg-slate-100"},voicemail_detected:{label:"Voicemail",color:"text-purple-600",bgColor:"bg-purple-100"}})[y]||{label:y,color:"text-slate-600",bgColor:"bg-slate-100"},p=C.useCallback(y=>y?{...y,statusInfo:h(y.status),isActive:f(y.status),isTerminal:u(y.status),secondsSinceStart:y.started_at?Math.floor((Date.now()-new Date(y.started_at).getTime())/1e3):0}:null,[]),v=C.useCallback(async()=>{if(!(!t||c.current)){c.current=!0;try{const{data:y,error:_}=await Ne.from("active_calls").select("*").eq("user_email",t).is("lead_id",null).order("started_at",{ascending:!1}).limit(1).maybeSingle();if(_)throw _;const T=p(y);n(T),s(null)}catch(y){console.error("Error fetching current call:",y),s(y.message)}finally{c.current=!1}}},[t,p]);C.useEffect(()=>{if(!t){n(null);return}v();const y=`dialer_call_${t}_${Date.now()}`,_=Ne.channel(y).on("postgres_changes",{event:"*",schema:"public",table:"active_calls",filter:`user_email=eq.${t}`},T=>{var S;if(console.log("Dialer call update received:",T.eventType,(S=T.new)==null?void 0:S.status),T.eventType==="DELETE")T.old.lead_id===null&&n(null);else if(T.new&&T.new.lead_id===null){const A=p(T.new);n(A)}}).subscribe(T=>{console.log("Dialer subscription status:",T),i(T==="SUBSCRIBED")});return a.current=_,()=>{a.current&&(Ne.removeChannel(a.current),a.current=null)}},[t,v,p]);const x=C.useCallback(async()=>{e!=null&&e.call_sid&&(await Ne.from("active_calls").delete().eq("call_sid",e.call_sid),n(null))},[e]),b=C.useCallback(async(y,_={})=>{if(!(e!=null&&e.call_sid))return;const{error:T}=await Ne.from("active_calls").update({status:y,..._}).eq("call_sid",e.call_sid);if(T)throw console.error("Error updating call status:",T),T},[e]);return{currentCall:e,isConnected:r,error:o,refresh:v,clearCall:x,updateCallStatus:b,isActive:(e==null?void 0:e.isActive)||!1,isTerminal:(e==null?void 0:e.isTerminal)||!1}}function Ua(t,e="us"){if(!t)return"";const n=t.replace(/\D/g,"");return e==="us"?n.length===0?"":n.length<=3?n:n.length<=6?`(${n.slice(0,3)}) ${n.slice(3)}`:n.length<=10?`(${n.slice(0,3)}) ${n.slice(3,6)}-${n.slice(6)}`:`+${n.slice(0,n.length-10)} (${n.slice(-10,-7)}) ${n.slice(-7,-4)}-${n.slice(-4)}`:e==="international"?n.length===0?"":n.length<=11?`+${n}`:`+${n.slice(0,n.length-10)} ${n.slice(-10,-7)} ${n.slice(-7,-4)} ${n.slice(-4)}`:n}function Jfe(t){const e=t.replace(/\D/g,"");return e.length===0?{valid:!1,error:"Phone number is required"}:e.length<10?{valid:!1,error:"Phone number must be at least 10 digits"}:e.length>15?{valid:!1,error:"Phone number is too long"}:["911","112","999"].includes(e.slice(0,3))?{valid:!1,error:"Emergency numbers cannot be dialed from this app",isEmergency:!0}:{valid:!0,cleaned:e}}function Zfe(t,e="+1"){const n=t.replace(/\D/g,"");return n.startsWith("1")&&n.length===11?`+${n}`:n.length===10?`${e}${n}`:n.startsWith("+")?n:`+${n}`}function ehe(t){return t.replace(/\D/g,"")}function q2(t){if(!t||t<0)return"00:00";const e=Math.floor(t/3600),n=Math.floor(t%3600/60),r=t%60;return e>0?`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function OW(t){if(!t)return"?";const e=t.trim().split(" ");return e.length===1?e[0][0].toUpperCase():(e[0][0]+e[e.length-1][0]).toUpperCase()}function the(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let TT=1;class nhe{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,o=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:TT++,s=this.toasts.find(c=>c.id===o),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),s?this.toasts=this.toasts.map(c=>c.id===o?(this.publish({...c,...e,id:o,title:r}),{...c,...e,id:o,dismissible:a,title:r}):c):this.addToast({title:r,...i,dismissible:a,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let o=r!==void 0,s;const a=i.then(async u=>{if(s=["resolve",u],V.isValidElement(u))o=!1,this.create({id:r,type:"default",message:u});else if(ihe(u)&&!u.ok){o=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,x=typeof h=="object"&&!V.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:p,...x})}else if(u instanceof Error){o=!1;const h=typeof n.error=="function"?await n.error(u):n.error,p=typeof n.description=="function"?await n.description(u):n.description,x=typeof h=="object"&&!V.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:p,...x})}else if(n.success!==void 0){o=!1;const h=typeof n.success=="function"?await n.success(u):n.success,p=typeof n.description=="function"?await n.description(u):n.description,x=typeof h=="object"&&!V.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:p,...x})}}).catch(async u=>{if(s=["reject",u],n.error!==void 0){o=!1;const f=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description,v=typeof f=="object"&&!V.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:h,...v})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,f)=>a.then(()=>s[0]==="reject"?f(s[1]):u(s[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||TT++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Hr=new nhe,rhe=(t,e)=>{const n=(e==null?void 0:e.id)||TT++;return Hr.addToast({title:t,...e,id:n}),n},ihe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",ohe=rhe,she=()=>Hr.toasts,ahe=()=>Hr.getActiveToasts(),$n=Object.assign(ohe,{success:Hr.success,info:Hr.info,warning:Hr.warning,error:Hr.error,custom:Hr.custom,message:Hr.message,promise:Hr.promise,dismiss:Hr.dismiss,loading:Hr.loading},{getHistory:she,getToasts:ahe});the("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const lhe={1:697,2:770,3:852,4:697,5:770,6:852,7:697,8:770,9:852,"*":941,0:941,"#":941};function kW({onClose:t,initialNumber:e="",userEmail:n="demo@example.com"}){var G;const[r,i]=C.useState(e),[o,s]=C.useState(!1),[a,c]=C.useState(""),[u,f]=C.useState("dialer"),[h,p]=C.useState(0),v=C.useRef(null),x=C.useRef(null),b=Tl(),{currentCall:y,updateCallStatus:_}=Qfe(n),T=(y==null?void 0:y.isActive)||!1,S=(y==null?void 0:y.status)||"idle",A=S==="in-progress"||S==="connected",{data:P}=Dt({queryKey:["dialerPreferences",n],queryFn:async()=>{const{data:D,error:$}=await Ne.from("dialer_preferences").select("*").eq("user_email",n).maybeSingle();if($&&$.code!=="PGRST116")throw $;if(!D){const{data:z,error:te}=await Ne.from("dialer_preferences").insert({user_email:n,default_country_code:"+1",number_format_preference:"us",enable_dial_tones:!0,enable_vibration:!0,save_to_history:!0}).select().single();if(te)throw te;return z}return D}}),{data:O}=Dt({queryKey:["dialerSettings",n],queryFn:async()=>{const{data:D,error:$}=await Ne.from("dialer_settings").select("*").eq("user_email",n).maybeSingle();if($&&$.code!=="PGRST116")throw $;return D}}),{data:k=[]}=Dt({queryKey:["dialerFavorites",n],queryFn:async()=>{const{data:D,error:$}=await Ne.from("dialer_favorites").select("*").eq("user_email",n).order("sort_order",{ascending:!0});if($)throw $;return D||[]}}),{data:R=[]}=Dt({queryKey:["recentNumbers",n],queryFn:async()=>{const{data:D,error:$}=await Ne.from("recent_numbers").select("*").eq("user_email",n).order("last_called_at",{ascending:!1}).limit(20);if($)throw $;return D||[]}});C.useEffect(()=>(A?x.current||(x.current=setInterval(()=>{p(D=>D+1)},1e3)):(x.current&&(clearInterval(x.current),x.current=null),(S==="idle"||!y)&&p(0)),()=>{x.current&&(clearInterval(x.current),x.current=null)}),[A,S,y]);const I=C.useCallback(D=>{if(P!=null&&P.enable_dial_tones)try{v.current||(v.current=new(window.AudioContext||window.webkitAudioContext));const $=v.current,z=$.createOscillator(),te=$.createGain();z.connect(te),te.connect($.destination),z.frequency.value=lhe[D]||770,z.type="sine",te.gain.setValueAtTime(.3,$.currentTime),te.gain.exponentialRampToValueAtTime(.01,$.currentTime+.1),z.start($.currentTime),z.stop($.currentTime+.1)}catch($){console.error("Error playing dial tone:",$)}},[P]),L=C.useCallback(D=>{i($=>$+D),I(D),P!=null&&P.enable_vibration&&navigator.vibrate&&navigator.vibrate(10)},[I,P]),M=C.useCallback(()=>{i(D=>D.slice(0,-1))},[]),B=C.useCallback(()=>{i("")},[]),q=async()=>{const D=Jfe(r);if(!D.valid){$n.error(D.error||"Invalid phone number"),D.isEmergency&&$n.error("Please dial emergency services directly from your phone");return}const $=Zfe(D.cleaned,P==null?void 0:P.default_country_code),z=(O==null?void 0:O.use_mock_dialer)||!1;try{if(z){$n.info("Demo Mode: Simulating call...");const te=await iu("mockDialerCall",{to:$,userEmail:n,leadId:null,leadName:null,lineNumber:1});if(!te.success)throw new Error(te.error||"Failed to initiate call")}else{if(!_t.isReady()&&!await _t.initialize(n)){$n.error("Twilio not configured. Enable Demo Mode in Settings to test.");return}_t.onCallAnswered(()=>{console.log("Twilio call connected")}),_t.onCallEnded(async()=>{await Y()}),_t.onCallError(te=>{$n.error(`Call error: ${te.message}`),Y()}),await _t.makeCall($,{userEmail:n,leadId:null,leadName:null}),$n.success("Calling...")}}catch(te){console.error("Error initiating call:",te),$n.error(te.message||"Failed to start call")}},Y=async()=>{const D=(O==null?void 0:O.use_mock_dialer)||!1;try{!D&&_t.hasActiveCall()&&_t.disconnectCall(),await _("ended",{ended_at:new Date().toISOString()}),D&&$n.success("Demo call ended"),await b.invalidateQueries(["recentNumbers"])}catch($){console.error("Error ending call:",$)}x.current&&(clearInterval(x.current),x.current=null)},Q=()=>{const D=(O==null?void 0:O.use_mock_dialer)||!1;o?(D||_t.unmuteCall(),s(!1),$n.success(D?"Demo: Microphone unmuted":"Microphone unmuted")):(D||_t.muteCall(),s(!0),$n.success(D?"Demo: Microphone muted":"Microphone muted"))},K=D=>{i(ehe(D)),f("dialer")},J=D=>{const $=Math.floor(D/60),z=D%60;return`${$.toString().padStart(2,"0")}:${z.toString().padStart(2,"0")}`},F=R.filter(D=>D.phone_number.includes(a)||D.contact_name&&D.contact_name.toLowerCase().includes(a.toLowerCase()));return t?g.jsx(me.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:g.jsx(me.div,{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden",initial:{scale:.9,y:20},animate:{scale:1,y:0},onClick:D=>D.stopPropagation(),children:g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Phone"}),g.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full transition-colors","aria-label":"Close dialer",children:g.jsx(su,{className:"w-5 h-5 text-slate-600"})})]}),(O==null?void 0:O.use_mock_dialer)&&g.jsxs("div",{className:"mb-4 p-3 bg-cyan-50 border border-cyan-200 rounded-xl flex items-center gap-2",children:[g.jsx("div",{className:"w-2 h-2 bg-cyan-500 rounded-full animate-pulse"}),g.jsx("span",{className:"text-sm font-medium text-cyan-700",children:"Demo Mode Active"}),g.jsx("span",{className:"text-xs text-cyan-600 ml-auto",children:"Calls are simulated"})]}),g.jsxs(AW,{value:u,onValueChange:f,className:"w-full",children:[g.jsxs(EA,{className:"grid w-full grid-cols-3 mb-6",children:[g.jsxs(sl,{value:"dialer",children:[g.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Dialer"]}),g.jsxs(sl,{value:"favorites",children:[g.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Favorites"]}),g.jsxs(sl,{value:"recent",children:[g.jsx(qs,{className:"w-4 h-4 mr-2"}),"Recent"]})]}),g.jsx(al,{value:"dialer",className:"space-y-4",children:T?g.jsxs("div",{className:"py-8 text-center space-y-6",children:[g.jsx("div",{className:"flex items-center justify-center",children:g.jsx("div",{className:`
                      w-20 h-20 rounded-full flex items-center justify-center
                      ${A?"bg-green-100":"bg-blue-100"}
                    `,children:g.jsx(Mt,{className:`w-10 h-10 ${A?"text-green-600":"text-blue-600 animate-pulse"}`})})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-lg font-medium text-slate-700",children:Ua(r)}),g.jsx("p",{className:"text-sm text-slate-500 mt-1",children:((G=y==null?void 0:y.statusInfo)==null?void 0:G.label)||S})]}),A&&g.jsx("div",{className:"text-3xl font-mono font-bold text-slate-700",children:J(h)}),g.jsxs("div",{className:"flex justify-center gap-4 pt-4",children:[A&&g.jsx(Ze,{onClick:Q,variant:"outline",size:"lg",className:"rounded-full w-14 h-14 p-0",children:o?g.jsx(hq,{className:"w-6 h-6"}):g.jsx(ny,{className:"w-6 h-6"})}),g.jsx(Ze,{onClick:Y,size:"lg",className:"rounded-full w-14 h-14 p-0 bg-red-500 hover:bg-red-600",children:g.jsx(YP,{className:"w-6 h-6"})})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"bg-slate-100 rounded-2xl p-4 min-h-[60px] flex items-center justify-center",children:g.jsx("input",{type:"tel",value:Ua(r),readOnly:!0,placeholder:"Enter number",className:"bg-transparent text-2xl font-medium text-center w-full outline-none"})}),g.jsx("div",{className:"grid grid-cols-3 gap-3",children:["1","2","3","4","5","6","7","8","9","*","0","#"].map(D=>g.jsx("button",{onClick:()=>L(D),className:"aspect-square rounded-2xl bg-slate-100 hover:bg-slate-200 active:bg-slate-300 transition-colors text-xl font-semibold text-slate-700",children:D},D))}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs(Ze,{onClick:M,variant:"outline",className:"flex-1 rounded-xl",disabled:!r,children:[g.jsx(wte,{className:"w-4 h-4 mr-2"}),"Backspace"]}),g.jsx(Ze,{onClick:B,variant:"outline",className:"rounded-xl px-4",disabled:!r,children:g.jsx(su,{className:"w-4 h-4"})})]}),g.jsxs(Ze,{onClick:q,className:"w-full h-14 rounded-2xl bg-green-500 hover:bg-green-600 text-white text-lg font-semibold",disabled:!r,children:[g.jsx(Mt,{className:"w-5 h-5 mr-2"}),"Call"]})]})}),g.jsx(al,{value:"favorites",className:"space-y-3",children:k.length===0?g.jsxs("div",{className:"text-center py-12 text-slate-500",children:[g.jsx(Vs,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),g.jsx("p",{children:"No favorites yet"})]}):k.map(D=>g.jsxs("div",{onClick:()=>K(D.phone_number),className:"flex items-center gap-3 p-3 bg-slate-50 hover:bg-slate-100 rounded-xl cursor-pointer transition-colors",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center",children:g.jsx(vq,{className:"w-5 h-5 text-slate-600"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"font-medium text-slate-700",children:D.contact_name||"Unknown"}),g.jsx("p",{className:"text-sm text-slate-500",children:Ua(D.phone_number)})]}),g.jsx(Vs,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"})]},D.id))}),g.jsxs(al,{value:"recent",className:"space-y-3",children:[g.jsxs("div",{className:"relative",children:[g.jsx(mq,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),g.jsx(en,{placeholder:"Search recent calls...",value:a,onChange:D=>c(D.target.value),className:"pl-10 rounded-xl"})]}),g.jsx("div",{className:"max-h-80 overflow-y-auto space-y-2",children:F.length===0?g.jsxs("div",{className:"text-center py-12 text-slate-500",children:[g.jsx(qs,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),g.jsx("p",{children:a?"No matching calls":"No recent calls"})]}):F.map(D=>g.jsxs("div",{onClick:()=>K(D.phone_number),className:"flex items-center gap-3 p-3 bg-slate-50 hover:bg-slate-100 rounded-xl cursor-pointer transition-colors",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center",children:g.jsx("span",{className:"text-sm font-medium text-slate-600",children:OW(D.contact_name)})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"font-medium text-slate-700",children:D.contact_name||Ua(D.phone_number)}),g.jsx("p",{className:"text-sm text-slate-500",children:new Date(D.last_called_at).toLocaleString()})]})]},D.id))})]})]})]})})}):null}function che({userEmail:t="demo@example.com",className:e=""}){const[n,r]=C.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsx(me.button,{onClick:()=>r(!0),className:`fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-br from-blue-600 to-cyan-600 rounded-full shadow-2xl flex items-center justify-center z-40 hover:shadow-blue-500/50 transition-shadow ${e}`,whileHover:{scale:1.1},whileTap:{scale:.95},initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},"aria-label":"Open phone dialer",children:g.jsx(Mt,{className:"w-7 h-7 text-white"})}),g.jsx(Pl,{children:n&&g.jsx(kW,{onClose:()=>r(!1),userEmail:t})})]})}class uhe{constructor(e){this.userEmail=e,this.sessionId=null,this.autoSaveInterval=null,this.localStorageKey=`dialer_session_${e}`}async createSession(e,n,r){var i;try{const{data:o,error:s}=await Ne.from("dialer_sessions").insert({user_email:this.userEmail,pipeline_id:e,current_lead_index:0,current_lead_id:((i=n[0])==null?void 0:i.id)||null,total_leads:n.length,completed_leads:0,filter_settings:r||{},is_active:!0,started_at:new Date().toISOString(),last_activity_at:new Date().toISOString()}).select().single();if(s)throw s;return this.sessionId=o.id,this.saveToLocalStorage(o),this.startAutoSave(),o}catch(o){return console.error("Error creating session:",o),null}}async updateSession(e){if(!this.sessionId)return null;try{const{data:n,error:r}=await Ne.from("dialer_sessions").update({...e,last_activity_at:new Date().toISOString()}).eq("id",this.sessionId).select().single();if(r)throw r;return this.saveToLocalStorage(n),n}catch(n){console.error("Error updating session:",n);const r=this.getFromLocalStorage();return r?{...r,...e}:null}}async endSession(){if(this.sessionId){this.stopAutoSave();try{await Ne.from("dialer_sessions").update({is_active:!1,ended_at:new Date().toISOString(),last_activity_at:new Date().toISOString()}).eq("id",this.sessionId),this.clearLocalStorage(),this.sessionId=null}catch(e){console.error("Error ending session:",e)}}}async getActiveSession(){try{const{data:e,error:n}=await Ne.from("dialer_sessions").select(`
          *,
          pipeline:ghl_pipelines(id, name),
          current_lead:leads(id, name, phone, email, company)
        `).eq("user_email",this.userEmail).eq("is_active",!0).order("last_activity_at",{ascending:!1}).limit(1).maybeSingle();if(n&&n.code!=="PGRST116")throw n;if(e)return this.sessionId=e.id,this.saveToLocalStorage(e),e;const r=this.getFromLocalStorage();return r&&this.isSessionValid(r)?r:null}catch(e){console.error("Error getting active session:",e);const n=this.getFromLocalStorage();return n&&this.isSessionValid(n)?n:null}}async getSessionLeads(e){try{const n=e.filter_settings||{};let r=Ne.from("leads").select(`
          *,
          pipeline:ghl_pipelines(id, name)
        `);e.pipeline_id&&(r=r.eq("pipeline_id",e.pipeline_id)),n.status&&(r=r.eq("status",n.status)),n.tags&&n.tags.length>0&&(r=r.contains("tags",n.tags));const{data:i,error:o}=await r.order("created_at",{ascending:!1});if(o)throw o;return i||[]}catch(n){return console.error("Error getting session leads:",n),[]}}startAutoSave(){this.autoSaveInterval=setInterval(()=>{this.sessionId&&this.updateSession({})},3e4)}stopAutoSave(){this.autoSaveInterval&&(clearInterval(this.autoSaveInterval),this.autoSaveInterval=null)}saveToLocalStorage(e){try{localStorage.setItem(this.localStorageKey,JSON.stringify({...e,lastSaved:new Date().toISOString()}))}catch(n){console.error("Error saving to localStorage:",n)}}getFromLocalStorage(){try{const e=localStorage.getItem(this.localStorageKey);return e?JSON.parse(e):null}catch(e){return console.error("Error reading from localStorage:",e),null}}clearLocalStorage(){try{localStorage.removeItem(this.localStorageKey)}catch(e){console.error("Error clearing localStorage:",e)}}isSessionValid(e){if(!e||!e.last_activity_at)return!1;const n=new Date(e.last_activity_at);return(new Date-n)/(1e3*60*60)<24}async getSessionHistory(e=10){try{const{data:n,error:r}=await Ne.from("dialer_sessions").select(`
          *,
          pipeline:ghl_pipelines(id, name)
        `).eq("user_email",this.userEmail).order("started_at",{ascending:!1}).limit(e);if(r)throw r;return n||[]}catch(n){return console.error("Error getting session history:",n),[]}}cleanup(){this.stopAutoSave()}}const dhe=t=>new uhe(t);function CT(){const[t,e]=C.useState(null),[n,r]=C.useState(!1),[i,o]=C.useState(null),[s,a]=C.useState(!1),[c,u]=C.useState(0),[f,h]=C.useState("all"),[p,v]=C.useState(null),[x,b]=C.useState(!1),[y,_]=C.useState([]),T=C.useRef(null),S=Tl(),{theme:A}=nA();C.useEffect(()=>((async()=>{const D={email:"demo@example.com"};e(D),T.current=dhe(D.email);const $=await T.current.getActiveSession();$&&(v($),b(!0))})(),()=>{T.current&&T.current.cleanup()}),[]);const{data:P}=Dt({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:G,error:D}=await Ne.from("user_stats").select().eq("user_email",t.email).maybeSingle();if(D&&D.code!=="PGRST116")throw D;if(!G){const{data:$,error:z}=await Ne.from("user_stats").insert({user_email:t.email,total_points:0,level:1,calls_today:0,appointments_today:0,current_streak:0,best_streak:0,daily_goal:50,mascot_mood:"neutral"}).select().single();if(z)throw z;return $}return G},enabled:!!(t!=null&&t.email)}),{data:O=[]}=Dt({queryKey:["pipelines"],queryFn:async()=>{const{data:G,error:D}=await Ne.from("ghl_pipelines").select("*").order("name");if(D&&D.code!=="PGRST116")throw D;return G||[]}}),{data:k=[]}=Dt({queryKey:["leads",f],queryFn:async()=>{let G=Ne.from("leads").select(`
          *,
          pipeline:ghl_pipelines(id, name)
        `).eq("status","new");f!=="all"&&(f==="none"?G=G.is("pipeline_id",null):G=G.eq("pipeline_id",f));const{data:D,error:$}=await G.order("created_at",{ascending:!1}).limit(100);if($)throw $;return D||[]}}),{data:R=[]}=Dt({queryKey:["recentCalls"],queryFn:async()=>{const{data:G,error:D}=await Ne.from("call_logs").select("*").order("created_at",{ascending:!1}).limit(50);if(D&&D.code!=="PGRST116")throw D;return G||[]}}),I=G=>{G?(o(G),r(!0)):k.length>0&&(o(k[0]),r(!0))},L=()=>{if(!i||k.length<=1)return;const D=(k.findIndex($=>$.id===i.id)+1)%k.length;o(k[D])},M=()=>{if(!i||k.length<=1)return;const G=k.findIndex($=>$.id===i.id),D=G===0?k.length-1:G-1;o(k[D])},B=async(G,D)=>{r(!1),u(G),a(!0),S.invalidateQueries(["userStats"]),S.invalidateQueries(["leads"]),T.current&&D&&await T.current.updateSession({completed_leads:((p==null?void 0:p.completed_leads)||0)+1})},q=async()=>{if(!p||!T.current)return;b(!1);const G=await T.current.getSessionLeads(p);_(G);const D=p.current_lead_index||0;G[D]&&(o(G[D]),h(p.pipeline_id||"all"),r(!0))},Y=async()=>{T.current&&p&&await T.current.endSession(),v(null),b(!1)},Q=(P==null?void 0:P.level)||1,K=(P==null?void 0:P.total_points)||0,J=Q*500,F=R.reduce((G,D)=>(G[D.outcome]=(G[D.outcome]||0)+1,G),{});return g.jsxs("div",{className:`min-h-screen bg-gradient-to-br ${A.background} relative overflow-hidden`,children:[g.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[g.jsx("div",{className:`absolute top-1/4 left-1/4 w-96 h-96 ${A.primaryGlow} rounded-full blur-3xl`}),g.jsx("div",{className:`absolute bottom-1/4 right-1/4 w-96 h-96 ${A.secondaryGlow} rounded-full blur-3xl`})]}),g.jsxs("div",{className:"relative z-10 p-6 max-w-7xl mx-auto",children:[g.jsx(Cl,{userStats:P}),g.jsx("div",{className:"mb-6",children:g.jsx(El,{})}),O.length>0&&g.jsx(me.div,{className:"mb-4",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(Tte,{className:"w-4 h-4 text-purple-400"}),g.jsxs("select",{value:f,onChange:G=>h(G.target.value),className:`px-4 py-2 ${A.cardBg} backdrop-blur-sm border ${A.borderColor} rounded-xl ${A.textPrimary} text-sm focus:outline-none focus:ring-2 focus:ring-${A.accentColor}-500`,children:[g.jsx("option",{value:"all",children:"All Leads"}),g.jsx("option",{value:"none",children:"No Pipeline"}),O.map(G=>g.jsx("option",{value:G.id,children:G.name},G.id))]})]})}),g.jsxs(me.div,{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},children:[g.jsxs("div",{className:`${A.cardBg} backdrop-blur-sm rounded-2xl p-4 border border-emerald-500/20`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-emerald-300 text-sm",children:"Appointments"}),g.jsx(Pw,{className:"w-4 h-4 text-emerald-400"})]}),g.jsx("p",{className:"text-2xl font-bold text-white",children:F.appointment_set||0})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-4 border border-blue-500/20",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-blue-300 text-sm",children:"Callbacks"}),g.jsx(Pw,{className:"w-4 h-4 text-blue-400"})]}),g.jsx("p",{className:"text-2xl font-bold text-white",children:F.callback||0})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-4 border border-slate-500/20",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-slate-300 text-sm",children:"No Answer"}),g.jsx(Pw,{className:"w-4 h-4 text-slate-400"})]}),g.jsx("p",{className:"text-2xl font-bold text-white",children:F.no_answer||0})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-4 border border-purple-500/20",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-purple-300 text-sm",children:"Total Calls"}),g.jsx(dq,{className:"w-4 h-4 text-purple-400"})]}),g.jsx("p",{className:"text-2xl font-bold text-white",children:R.length})]})]}),g.jsx("div",{className:"mb-6",children:g.jsx(roe,{level:Q,currentXP:K%J,nextLevelXP:J})}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-2",children:[g.jsx(toe,{lead:k[0],onStartCall:()=>I(k[0]),xpMultiplier:(P==null?void 0:P.current_streak)>=3?2:1}),g.jsx(nde,{})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsx(noe,{stats:P}),g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:[g.jsxs("h3",{className:"text-lg font-bold text-white mb-4",children:["Level ",Q]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-900/30 rounded-xl",children:[g.jsx("span",{className:"text-purple-300 text-sm",children:"Current XP"}),g.jsx("span",{className:"text-white font-semibold",children:K%J})]}),g.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-900/30 rounded-xl",children:[g.jsx("span",{className:"text-purple-300 text-sm",children:"Next Level"}),g.jsx("span",{className:"text-white font-semibold",children:J})]})]})]})]})]})]}),g.jsx(Pl,{children:n&&i&&g.jsx(ede,{lead:i,userStats:P,onClose:()=>r(!1),onComplete:B,onNext:L,onPrev:M,hasNext:k.length>1,hasPrev:k.length>1,sessionId:p==null?void 0:p.id,sessionManager:T.current})}),g.jsx(tde,{points:c,isVisible:s,onComplete:()=>a(!1)}),g.jsx(Mfe,{session:p,onResume:q,onDiscard:Y,open:x}),g.jsx(che,{userEmail:t==null?void 0:t.email})]})}const ET=C.forwardRef(({className:t,...e},n)=>g.jsx("div",{className:"relative w-full overflow-auto",children:g.jsx("table",{ref:n,className:et("w-full caption-bottom text-sm",t),...e})}));ET.displayName="Table";const AT=C.forwardRef(({className:t,...e},n)=>g.jsx("thead",{ref:n,className:et("[&_tr]:border-b",t),...e}));AT.displayName="TableHeader";const OT=C.forwardRef(({className:t,...e},n)=>g.jsx("tbody",{ref:n,className:et("[&_tr:last-child]:border-0",t),...e}));OT.displayName="TableBody";const fhe=C.forwardRef(({className:t,...e},n)=>g.jsx("tfoot",{ref:n,className:et("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));fhe.displayName="TableFooter";const mg=C.forwardRef(({className:t,...e},n)=>g.jsx("tr",{ref:n,className:et("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));mg.displayName="TableRow";const dr=C.forwardRef(({className:t,...e},n)=>g.jsx("th",{ref:n,className:et("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));dr.displayName="TableHead";const fr=C.forwardRef(({className:t,...e},n)=>g.jsx("td",{ref:n,className:et("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));fr.displayName="TableCell";const hhe=C.forwardRef(({className:t,...e},n)=>g.jsx("caption",{ref:n,className:et("mt-4 text-sm text-muted-foreground",t),...e}));hhe.displayName="TableCaption";const V2={new:"bg-blue-100 text-blue-700",contacted:"bg-yellow-100 text-yellow-700",interested:"bg-purple-100 text-purple-700",appointment_set:"bg-emerald-100 text-emerald-700",not_interested:"bg-slate-100 text-slate-700",no_answer:"bg-orange-100 text-orange-700"};function jW(){var G;const[t,e]=C.useState(null),[n,r]=C.useState(!1),[i,o]=C.useState(!1),[s,a]=C.useState(""),[c,u]=C.useState({name:"",phone:"",email:"",company:""}),[f,h]=C.useState(""),[p,v]=C.useState(""),[x,b]=C.useState(!1),[y,_]=C.useState(null),T=Tl();C.useEffect(()=>{e({email:"demo@example.com"})},[]);const{data:S}=Dt({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:D,error:$}=await Ne.from("user_stats").select("*").eq("user_email",t.email).maybeSingle();if($&&$.code!=="PGRST116")throw $;if(!D){const{data:z,error:te}=await Ne.from("user_stats").insert({user_email:t.email,total_points:0,level:1,calls_today:0,appointments_today:0,current_streak:0,best_streak:0,daily_goal:50,mascot_mood:"neutral"}).select().single();if(te)throw te;return z}return D},enabled:!!(t!=null&&t.email)}),{data:A=[],isLoading:P}=Dt({queryKey:["allLeads"],queryFn:async()=>{const{data:D,error:$}=await Ne.from("leads").select(`
          *,
          pipeline:ghl_pipelines(id, name, stages)
        `).order("created_at",{ascending:!1});if($)throw $;return D||[]}}),{data:O=[]}=Dt({queryKey:["pipelines"],queryFn:async()=>{const{data:D,error:$}=await Ne.from("ghl_pipelines").select("*").order("name");if($&&$.code!=="PGRST116")throw $;return D||[]}}),k=il({mutationFn:async D=>{const{error:$}=await Ne.from("leads").insert({...D,status:"new",call_count:0});if($)throw $},onSuccess:()=>{T.invalidateQueries(["allLeads"]),T.invalidateQueries(["leads"]),r(!1),u({name:"",phone:"",email:"",company:""})},onError:D=>{alert("Failed to add lead: "+D.message)}}),R=il({mutationFn:async D=>{const{error:$}=await Ne.from("leads").delete().eq("id",D);if($)throw $},onSuccess:()=>{T.invalidateQueries(["allLeads"]),T.invalidateQueries(["leads"])},onError:D=>{alert("Failed to delete lead: "+D.message)}}),{data:I,isLoading:L,error:M}=Dt({queryKey:["ghlPipelines"],queryFn:async()=>await iu("ghlGetPipelines",{}),enabled:i}),B=(G=I==null?void 0:I.pipelines)==null?void 0:G.find(D=>D.id===f),q=B?{stages:B.stages||[]}:null,Y=async()=>{if(!(!f||!p||!(I!=null&&I.locationId))){b(!0);try{const D=await iu("ghlImportLeads",{pipelineId:f,stageId:p,locationId:I.locationId});T.invalidateQueries(["allLeads"]),T.invalidateQueries(["leads"]),o(!1),h(""),v("");let $=`Import Complete!

`;$+=`Total Opportunities Found: ${D.total}
`,$+=`Pages Fetched: ${D.pages}

`,$+=` New Leads Imported: ${D.imported}
`,$+=` Existing Leads Updated: ${D.updated}
`,D.skipped>0&&($+=`
 Skipped: ${D.skipped}
`,D.skipReasons&&($+=`
Skip Reasons:
`,Object.entries(D.skipReasons).forEach(([z,te])=>{$+=`   ${z}: ${te}
`}))),alert($)}catch(D){alert("Failed to import leads: "+D.message)}finally{b(!1)}}},Q=async()=>{const D=[{name:"John Smith",phone:"+1 (555) 123-4567",email:"john@techcorp.com",company:"TechCorp Inc"},{name:"Sarah Johnson",phone:"+1 (555) 234-5678",email:"sarah@innovate.io",company:"Innovate.io"},{name:"Michael Brown",phone:"+1 (555) 345-6789",email:"michael@growthco.com",company:"GrowthCo"},{name:"Emily Davis",phone:"+1 (555) 456-7890",email:"emily@scaleup.com",company:"ScaleUp Solutions"},{name:"David Wilson",phone:"+1 (555) 567-8901",email:"david@nexgen.com",company:"NexGen Ventures"},{name:"Lisa Anderson",phone:"+1 (555) 678-9012",email:"lisa@primeco.com",company:"Prime Consulting"},{name:"James Taylor",phone:"+1 (555) 789-0123",email:"james@alphainc.com",company:"Alpha Industries"},{name:"Jennifer Martinez",phone:"+1 (555) 890-1234",email:"jennifer@betasoft.com",company:"BetaSoft"}].map($=>({...$,status:"new",call_count:0}));await Ne.from("leads").insert(D),T.invalidateQueries(["allLeads"]),T.invalidateQueries(["leads"])},K=A.filter(D=>{var z,te,ue;const $=((z=D.name)==null?void 0:z.toLowerCase().includes(s.toLowerCase()))||((te=D.company)==null?void 0:te.toLowerCase().includes(s.toLowerCase()))||((ue=D.phone)==null?void 0:ue.includes(s));return y?$&&D.pipeline_id===y:$}),J=A.filter(D=>!D.pipeline_id),F=O.map(D=>({...D,leadCount:A.filter($=>$.pipeline_id===D.id).length})).filter(D=>D.leadCount>0);return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e] relative overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-600/20 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-indigo-600/20 rounded-full blur-3xl"})]}),g.jsxs("div",{className:"relative z-10 p-6 max-w-7xl mx-auto",children:[g.jsx(Cl,{userStats:S}),g.jsx("div",{className:"mb-6",children:g.jsx(El,{})}),g.jsxs(me.div,{className:"flex items-center justify-between mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-white",children:"Leads"}),g.jsx("p",{className:"text-purple-300 mt-1",children:"Manage your sales prospects"})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs(Ze,{onClick:()=>o(!0),variant:"outline",className:"rounded-xl",children:[g.jsx(Ste,{className:"w-4 h-4 mr-2"}),"Import from GHL"]}),g.jsxs(Ze,{onClick:Q,variant:"outline",className:"rounded-xl",children:[g.jsx(vne,{className:"w-4 h-4 mr-2"}),"Add Sample Leads"]}),g.jsxs(Ze,{onClick:()=>r(!0),className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 rounded-xl shadow-lg shadow-indigo-500/20",children:[g.jsx(pq,{className:"w-4 h-4 mr-2"}),"Add Lead"]})]})]}),g.jsx(me.div,{className:"mb-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:g.jsxs("div",{className:"relative",children:[g.jsx(mq,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-purple-400"}),g.jsx(en,{placeholder:"Search leads...",value:s,onChange:D=>a(D.target.value),className:"pl-12 h-12 rounded-2xl border-purple-500/20 bg-[#2d1f4a]/50 backdrop-blur-sm text-white placeholder:text-purple-400"})]})}),y?g.jsxs(g.Fragment,{children:[g.jsx(me.div,{className:"mb-6",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:g.jsx(Ze,{variant:"outline",onClick:()=>_(null),className:"rounded-xl text-purple-300 border-purple-500/30",children:" Back to Pipelines"})}),g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl border border-purple-500/20 overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[g.jsxs(ET,{children:[g.jsx(AT,{children:g.jsxs(mg,{className:"border-purple-500/20",children:[g.jsx(dr,{className:"font-semibold text-purple-300",children:"Name"}),g.jsx(dr,{className:"font-semibold text-purple-300",children:"Company"}),g.jsx(dr,{className:"font-semibold text-purple-300",children:"Phone"}),g.jsx(dr,{className:"font-semibold text-purple-300",children:"Pipeline"}),g.jsx(dr,{className:"font-semibold text-purple-300",children:"Value"}),g.jsx(dr,{className:"font-semibold text-purple-300",children:"Status"}),g.jsx(dr,{className:"font-semibold text-purple-300",children:"Calls"}),g.jsx(dr,{className:"font-semibold text-purple-300 w-20"})]})}),g.jsx(OT,{children:g.jsx(Pl,{children:K.map((D,$)=>{var z,te,ue,ye;return g.jsxs(me.tr,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{delay:$*.03},className:"hover:bg-purple-900/20 transition-colors border-purple-500/20",children:[g.jsx(fr,{children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white font-semibold",children:((te=(z=D.name)==null?void 0:z[0])==null?void 0:te.toUpperCase())||"?"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-white",children:D.name}),D.email&&g.jsxs("p",{className:"text-sm text-purple-300 flex items-center gap-1",children:[g.jsx(Mte,{className:"w-3 h-3"}),D.email]})]})]})}),g.jsx(fr,{children:g.jsxs("div",{className:"flex items-center gap-2 text-purple-200",children:[g.jsx(uq,{className:"w-4 h-4"}),D.company||"-"]})}),g.jsx(fr,{children:g.jsxs("div",{className:"flex items-center gap-2 text-purple-200 font-mono",children:[g.jsx(Mt,{className:"w-4 h-4"}),D.phone]})}),g.jsx(fr,{children:(ue=D.pipeline)!=null&&ue.name?g.jsx("div",{className:"flex items-center gap-2",children:g.jsxs(gf,{variant:"outline",className:"text-emerald-400 border-emerald-500/30",children:[g.jsx(Fo,{className:"w-3 h-3 mr-1"}),D.pipeline.name]})}):g.jsx("span",{className:"text-purple-400 text-sm",children:"-"})}),g.jsx(fr,{children:D.opportunity_value?g.jsxs("div",{className:"flex items-center gap-1 text-emerald-400 font-semibold",children:[g.jsx(ou,{className:"w-4 h-4"}),parseFloat(D.opportunity_value).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}):g.jsx("span",{className:"text-purple-400 text-sm",children:"-"})}),g.jsx(fr,{children:g.jsx(gf,{className:`${V2[D.status]} capitalize`,children:((ye=D.status)==null?void 0:ye.replace("_"," "))||"new"})}),g.jsx(fr,{children:g.jsx("span",{className:"text-purple-200",children:D.call_count||0})}),g.jsx(fr,{children:g.jsx(Ze,{variant:"ghost",size:"icon",onClick:()=>R.mutate(D.id),className:"text-purple-400 hover:text-red-400",children:g.jsx(XP,{className:"w-4 h-4"})})})]},D.id)})})})]}),K.length===0&&!P&&g.jsx("div",{className:"p-12 text-center",children:g.jsx("p",{className:"text-purple-300",children:"No leads found. Add some to get started!"})})]})]}):g.jsxs(g.Fragment,{children:[g.jsx(me.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:F.map((D,$)=>g.jsxs(me.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:$*.1},onClick:()=>_(D.id),className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20 cursor-pointer hover:border-indigo-500/40 transition-all hover:scale-105",children:[g.jsx("div",{className:"flex items-center justify-between mb-4",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:g.jsx(Fo,{className:"w-6 h-6 text-white"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-white",children:D.name}),g.jsxs("p",{className:"text-purple-300 text-sm",children:[D.leadCount," leads"]})]})]})}),g.jsx("div",{className:"p-4 bg-indigo-500/10 rounded-xl border border-indigo-500/20",children:g.jsx("p",{className:"text-indigo-300 text-sm",children:"Click to view leads in this pipeline"})})]},D.id))}),J.length>0&&g.jsxs(me.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-xl font-bold text-white",children:"Leads Without Pipeline"}),g.jsxs(gf,{variant:"outline",className:"text-purple-400 border-purple-500/30",children:[J.length," leads"]})]}),g.jsx("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl border border-purple-500/20 overflow-hidden",children:g.jsxs(ET,{children:[g.jsx(AT,{children:g.jsxs(mg,{className:"border-purple-500/20",children:[g.jsx(dr,{className:"font-semibold text-purple-300",children:"Name"}),g.jsx(dr,{className:"font-semibold text-purple-300",children:"Company"}),g.jsx(dr,{className:"font-semibold text-purple-300",children:"Phone"}),g.jsx(dr,{className:"font-semibold text-purple-300",children:"Status"}),g.jsx(dr,{className:"font-semibold text-purple-300 w-20"})]})}),g.jsx(OT,{children:J.map(D=>{var $,z,te;return g.jsxs(mg,{className:"hover:bg-purple-900/20 transition-colors border-purple-500/20",children:[g.jsx(fr,{children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white font-semibold",children:((z=($=D.name)==null?void 0:$[0])==null?void 0:z.toUpperCase())||"?"}),g.jsx("p",{className:"font-medium text-white",children:D.name})]})}),g.jsx(fr,{className:"text-purple-200",children:D.company||"-"}),g.jsx(fr,{className:"text-purple-200 font-mono",children:D.phone}),g.jsx(fr,{children:g.jsx(gf,{className:`${V2[D.status]} capitalize`,children:((te=D.status)==null?void 0:te.replace("_"," "))||"new"})}),g.jsx(fr,{children:g.jsx(Ze,{variant:"ghost",size:"icon",onClick:()=>R.mutate(D.id),className:"text-purple-400 hover:text-red-400",children:g.jsx(XP,{className:"w-4 h-4"})})})]},D.id)})})]})})]})]})]}),g.jsx(zf,{open:n,onOpenChange:r,children:g.jsxs(cu,{className:"rounded-3xl",children:[g.jsx(uu,{children:g.jsx(du,{className:"text-xl font-bold",children:"Add New Lead"})}),g.jsxs("div",{className:"space-y-4 mt-4",children:[g.jsx(en,{placeholder:"Full Name *",value:c.name,onChange:D=>u({...c,name:D.target.value}),className:"h-12 rounded-xl"}),g.jsx(en,{placeholder:"Phone Number *",value:c.phone,onChange:D=>u({...c,phone:D.target.value}),className:"h-12 rounded-xl"}),g.jsx(en,{placeholder:"Email",type:"email",value:c.email,onChange:D=>u({...c,email:D.target.value}),className:"h-12 rounded-xl"}),g.jsx(en,{placeholder:"Company",value:c.company,onChange:D=>u({...c,company:D.target.value}),className:"h-12 rounded-xl"}),(!c.name||!c.phone)&&g.jsx("p",{className:"text-red-500 text-sm",children:"* Name and Phone are required"}),g.jsx(Ze,{onClick:()=>k.mutate(c),disabled:!c.name||!c.phone||k.isPending,className:"w-full h-12 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:k.isPending?"Adding...":"Add Lead"})]})]})}),g.jsx(zf,{open:i,onOpenChange:o,children:g.jsxs(cu,{className:"rounded-3xl",children:[g.jsx(uu,{children:g.jsx(du,{className:"text-xl font-bold",children:"Import from GoHighLevel"})}),g.jsx("div",{className:"space-y-4 mt-4",children:L?g.jsx("div",{className:"py-8 text-center",children:g.jsx("p",{className:"text-slate-500",children:"Loading pipelines..."})}):I!=null&&I.pipelines?g.jsxs(g.Fragment,{children:[g.jsx("div",{children:g.jsxs("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:["Location: ",I.locationName]})}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Select Pipeline"}),g.jsxs("select",{value:f,onChange:D=>{h(D.target.value),v("")},className:"w-full h-12 rounded-xl border border-slate-200 px-4 bg-white",children:[g.jsx("option",{value:"",children:"Choose a pipeline..."}),I.pipelines.map(D=>g.jsx("option",{value:D.id,children:D.name},D.id))]})]}),f&&g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Select Stage"}),q!=null&&q.stages&&q.stages.length>0?g.jsxs("select",{value:p,onChange:D=>v(D.target.value),className:"w-full h-12 rounded-xl border border-slate-200 px-4 bg-white",children:[g.jsx("option",{value:"",children:"Choose a stage..."}),q.stages.map(D=>g.jsx("option",{value:D.id,children:D.name},D.id))]}):g.jsx("div",{className:"w-full h-12 rounded-xl border border-amber-200 px-4 bg-amber-50 flex items-center text-amber-700",children:"No stages found for this pipeline"})]}),g.jsx(Ze,{onClick:Y,disabled:!f||!p||x,className:"w-full h-12 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Importing All Leads...":"Import Leads"})]}):g.jsxs("div",{className:"py-8 text-center space-y-2",children:[g.jsx("p",{className:"text-red-500 font-medium",children:"Failed to load pipelines from GoHighLevel"}),M&&g.jsx("p",{className:"text-sm text-slate-500",children:M.message||"Please check your GHL API credentials"})]})})]})})]})}const pc={0:{bg:"bg-gradient-to-br from-yellow-400 to-amber-500",ring:"ring-yellow-400"},1:{bg:"bg-gradient-to-br from-slate-300 to-slate-400",ring:"ring-slate-300"},2:{bg:"bg-gradient-to-br from-amber-600 to-orange-700",ring:"ring-amber-500"}},phe={bronze:{bg:"bg-gradient-to-br from-amber-700 to-orange-800",border:"border-amber-700",text:"text-amber-700",icon:GP},silver:{bg:"bg-gradient-to-br from-slate-300 to-slate-500",border:"border-slate-400",text:"text-slate-400",icon:Vs},gold:{bg:"bg-gradient-to-br from-yellow-400 to-amber-500",border:"border-yellow-500",text:"text-yellow-500",icon:$g},platinum:{bg:"bg-gradient-to-br from-cyan-300 to-blue-500",border:"border-cyan-400",text:"text-cyan-400",icon:Mg},diamond:{bg:"bg-gradient-to-br from-blue-400 to-purple-600",border:"border-purple-500",text:"text-purple-400",icon:Mg}};function RW(){var c,u,f,h,p,v,x,b,y,_,T,S,A,P;const[t,e]=C.useState(null);C.useEffect(()=>{(async()=>{e({email:"demo@example.com"})})()},[]);const{data:n}=Dt({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:O,error:k}=await Ne.from("user_stats").select().eq("user_email",t.email).maybeSingle();if(k&&k.code!=="PGRST116")throw k;if(!O){const{data:R,error:I}=await Ne.from("user_stats").insert({user_email:t.email,total_points:0,level:1,calls_today:0,appointments_today:0,current_streak:0,best_streak:0,daily_goal:50,mascot_mood:"neutral"}).select().single();if(I)throw I;return R}return O},enabled:!!(t!=null&&t.email)}),{data:r=[]}=Dt({queryKey:["leaderboard"],queryFn:async()=>{const{data:O,error:k}=await Ne.from("user_stats").select().order("total_points",{ascending:!1});if(k)throw k;return O||[]}}),{data:i=[]}=Dt({queryKey:["rankings"],queryFn:async()=>{await Ne.rpc("calculate_user_rankings").catch(()=>{});const{data:O,error:k}=await Ne.from("user_rankings").select().order("rank_position",{ascending:!0});if(k&&k.code!=="PGRST116")throw k;return O||[]}}),o=r.slice(0,3),s=r.slice(3),a={totalCalls:r.reduce((O,k)=>O+(k.calls_today||0),0),totalAppointments:r.reduce((O,k)=>O+(k.appointments_today||0),0),totalPoints:r.reduce((O,k)=>O+(k.total_points||0),0),totalCashCollected:r.reduce((O,k)=>O+(k.cash_collected||0),0),averageStreak:r.length>0?(r.reduce((O,k)=>O+(k.current_streak||0),0)/r.length).toFixed(1):0,teamMembers:r.length,topPerformer:((u=(c=r[0])==null?void 0:c.user_email)==null?void 0:u.split("@")[0])||"N/A",conversionRate:r.reduce((O,k)=>O+(k.calls_today||0),0)>0?(r.reduce((O,k)=>O+(k.appointments_today||0),0)/r.reduce((O,k)=>O+(k.calls_today||0),0)*100).toFixed(1):0};return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e] p-6",children:[g.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-600/20 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-indigo-600/20 rounded-full blur-3xl"})]}),g.jsxs("div",{className:"relative z-10 p-6 max-w-7xl mx-auto",children:[g.jsx(Cl,{userStats:n}),g.jsx("div",{className:"mb-6",children:g.jsx(El,{})}),g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsxs(me.div,{className:"mb-10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[g.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[g.jsx($g,{className:"w-8 h-8 text-amber-500"}),"Team Leaderboard"]}),g.jsx("p",{className:"text-purple-300 mt-1",children:"Rankings and performance metrics"})]}),g.jsxs(me.div,{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(Mt,{className:"w-5 h-5 text-indigo-400"}),g.jsx("span",{className:"text-purple-300 text-sm",children:"Total Calls"})]}),g.jsx("p",{className:"text-3xl font-bold text-white",children:a.totalCalls}),g.jsxs("p",{className:"text-xs text-purple-400 mt-1",children:[a.teamMembers," members"]})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(KP,{className:"w-5 h-5 text-green-400"}),g.jsx("span",{className:"text-purple-300 text-sm",children:"Appointments"})]}),g.jsx("p",{className:"text-3xl font-bold text-white",children:a.totalAppointments}),g.jsxs("p",{className:"text-xs text-purple-400 mt-1",children:[a.conversionRate,"% conversion"]})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-emerald-500/20",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(ou,{className:"w-5 h-5 text-emerald-400"}),g.jsx("span",{className:"text-purple-300 text-sm",children:"Cash Collected"})]}),g.jsxs("p",{className:"text-3xl font-bold text-emerald-400",children:["$",a.totalCashCollected.toLocaleString()]}),g.jsx("p",{className:"text-xs text-emerald-300 mt-1",children:"Team revenue"})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(Fo,{className:"w-5 h-5 text-amber-400"}),g.jsx("span",{className:"text-purple-300 text-sm",children:"Total Points"})]}),g.jsx("p",{className:"text-3xl font-bold text-white",children:a.totalPoints.toLocaleString()}),g.jsx("p",{className:"text-xs text-purple-400 mt-1",children:"Team score"})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx(Dg,{className:"w-5 h-5 text-orange-400"}),g.jsx("span",{className:"text-purple-300 text-sm",children:"Avg Streak"})]}),g.jsx("p",{className:"text-3xl font-bold text-white",children:a.averageStreak}),g.jsx("p",{className:"text-xs text-purple-400 mt-1",children:"days active"})]})]}),g.jsxs(me.div,{className:"flex items-end justify-center gap-4 mb-12 h-80",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[o[1]&&g.jsxs(me.div,{className:"flex flex-col items-center",initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:[g.jsx("div",{className:`w-20 h-20 rounded-full ${pc[1].bg} flex items-center justify-center text-white text-2xl font-bold shadow-xl mb-3 ring-4 ${pc[1].ring}`,children:((h=(f=o[1].user_email)==null?void 0:f[0])==null?void 0:h.toUpperCase())||"2"}),g.jsx("p",{className:"font-semibold text-white text-sm truncate max-w-24",children:(p=o[1].user_email)==null?void 0:p.split("@")[0]}),g.jsx("p",{className:"text-lg font-bold text-white",children:(v=o[1].total_points)==null?void 0:v.toLocaleString()}),g.jsx("div",{className:"w-28 h-32 bg-gradient-to-t from-slate-700 to-slate-600 rounded-t-xl mt-3 flex items-center justify-center",children:g.jsx("span",{className:"text-4xl font-bold text-slate-400",children:"2"})})]}),o[0]&&g.jsxs(me.div,{className:"flex flex-col items-center",initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[g.jsx(me.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:g.jsx("div",{className:`w-24 h-24 rounded-full ${pc[0].bg} flex items-center justify-center text-white text-3xl font-bold shadow-2xl mb-3 ring-4 ${pc[0].ring}`,children:((b=(x=o[0].user_email)==null?void 0:x[0])==null?void 0:b.toUpperCase())||"1"})}),g.jsx("p",{className:"font-semibold text-white truncate max-w-28",children:(y=o[0].user_email)==null?void 0:y.split("@")[0]}),g.jsx("p",{className:"text-xl font-bold text-white",children:(_=o[0].total_points)==null?void 0:_.toLocaleString()}),g.jsx("div",{className:"w-32 h-44 bg-gradient-to-t from-amber-500 to-yellow-500 rounded-t-xl mt-3 flex items-center justify-center shadow-lg",children:g.jsx("span",{className:"text-5xl font-bold text-amber-900",children:"1"})})]}),o[2]&&g.jsxs(me.div,{className:"flex flex-col items-center",initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},children:[g.jsx("div",{className:`w-18 h-18 rounded-full ${pc[2].bg} flex items-center justify-center text-white text-xl font-bold shadow-xl mb-3 ring-4 ${pc[2].ring}`,children:((S=(T=o[2].user_email)==null?void 0:T[0])==null?void 0:S.toUpperCase())||"3"}),g.jsx("p",{className:"font-semibold text-white text-sm truncate max-w-24",children:(A=o[2].user_email)==null?void 0:A.split("@")[0]}),g.jsx("p",{className:"text-lg font-bold text-white",children:(P=o[2].total_points)==null?void 0:P.toLocaleString()}),g.jsx("div",{className:"w-28 h-24 bg-gradient-to-t from-orange-700 to-amber-700 rounded-t-xl mt-3 flex items-center justify-center",children:g.jsx("span",{className:"text-4xl font-bold text-orange-400",children:"3"})})]})]}),s.length>0&&g.jsx(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-xl rounded-3xl border border-purple-500/20 overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:s.map((O,k)=>{var I,L,M,B,q;const R=O.user_email===(t==null?void 0:t.email);return g.jsxs(me.div,{className:`flex items-center p-4 border-b border-purple-500/10 last:border-0 ${R?"bg-purple-900/30":""}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+k*.05},children:[g.jsx("span",{className:"w-8 text-lg font-bold text-purple-400",children:k+4}),g.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-semibold mr-4",children:((L=(I=O.user_email)==null?void 0:I[0])==null?void 0:L.toUpperCase())||"?"}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("p",{className:"font-semibold text-white",children:[(M=O.user_email)==null?void 0:M.split("@")[0],R&&g.jsx("span",{className:"text-purple-400 ml-2",children:"(You)"})]}),g.jsxs("div",{className:"flex items-center gap-3 text-sm text-purple-300 mt-1",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(Mt,{className:"w-3 h-3"}),O.calls_today||0]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(KP,{className:"w-3 h-3"}),O.appointments_today||0]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(ou,{className:"w-3 h-3 text-emerald-400"}),"$",((B=O.cash_collected)==null?void 0:B.toLocaleString())||0]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(Dg,{className:"w-3 h-3 text-orange-500"}),O.current_streak||0]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(GP,{className:"w-3 h-3 text-purple-400"}),"Lvl ",O.level||1]})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-xl font-bold text-white",children:(q=O.total_points)==null?void 0:q.toLocaleString()}),g.jsx("p",{className:"text-sm text-purple-400",children:"XP"})]})]},O.id)})}),r.length===0&&g.jsxs(me.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},children:[g.jsx($g,{className:"w-16 h-16 text-purple-500/30 mx-auto mb-4"}),g.jsx("p",{className:"text-purple-300",children:"Start making calls to appear on the leaderboard!"})]}),i.length>0&&g.jsxs(me.div,{className:"mt-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:[g.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[g.jsx(GP,{className:"w-6 h-6 text-purple-400"}),"Success Ratio Rankings"]}),g.jsx("p",{className:"text-purple-300 text-sm mb-6",children:"Rankings based on appointment success rate. Higher tiers indicate better conversion rates."}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map((O,k)=>{var M;const R=O.rank_tier||"bronze",I=phe[R],L=I.icon;return g.jsxs(me.div,{className:`bg-[#2d1f4a]/50 backdrop-blur-sm rounded-xl p-4 border-2 ${I.border}`,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.8+k*.05},children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`w-10 h-10 rounded-full ${I.bg} flex items-center justify-center`,children:g.jsx(L,{className:"w-5 h-5 text-white"})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-white text-sm",children:(M=O.user_email)==null?void 0:M.split("@")[0]}),g.jsx("p",{className:`text-xs font-bold ${I.text} uppercase`,children:R})]})]}),g.jsx("div",{className:"text-right",children:g.jsxs("p",{className:"text-sm font-bold text-white",children:["#",O.rank_position]})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-xs text-purple-300",children:"Success Rate:"}),g.jsxs("span",{className:"text-sm font-bold text-emerald-400",children:[O.success_ratio||0,"%"]})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-xs text-purple-300",children:"Total Calls:"}),g.jsx("span",{className:"text-sm font-semibold text-white",children:O.total_calls||0})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-xs text-purple-300",children:"Appointments:"}),g.jsx("span",{className:"text-sm font-semibold text-white",children:O.successful_calls||0})]})]}),g.jsx("div",{className:"mt-3 pt-3 border-t border-purple-500/20",children:g.jsx("div",{className:"w-full bg-slate-700 rounded-full h-1.5 overflow-hidden",children:g.jsx(me.div,{initial:{width:0},animate:{width:`${Math.min(O.success_ratio||0,100)}%`},transition:{duration:1,delay:.8+k*.05},className:I.bg.replace("bg-gradient-to-br","bg-gradient-to-r"),style:{height:"100%"}})})})]},O.id)})}),g.jsxs(me.div,{className:"mt-6 bg-[#2d1f4a]/30 backdrop-blur-sm rounded-xl p-4 border border-purple-500/20",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},children:[g.jsx("p",{className:"text-sm font-semibold text-purple-300 mb-3",children:"Tier Requirements:"}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-amber-700 to-orange-800"}),g.jsx("span",{className:"text-purple-200",children:"Bronze: <10%"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-slate-300 to-slate-500"}),g.jsx("span",{className:"text-purple-200",children:"Silver: 10-15%"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-yellow-400 to-amber-500"}),g.jsx("span",{className:"text-purple-200",children:"Gold: 15-20%"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-cyan-300 to-blue-500"}),g.jsx("span",{className:"text-purple-200",children:"Platinum: 20-30%"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-blue-400 to-purple-600"}),g.jsx("span",{className:"text-purple-200",children:"Diamond: 30%+"})]})]})]})]})]})]})]})}function mc({title:t,value:e,icon:n,trend:r,trendValue:i,delay:o=0}){const s=i>=0;return g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20 relative overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o},children:[g.jsxs("div",{className:"flex items-start justify-between mb-4",children:[g.jsx("div",{className:"w-10 h-10 bg-purple-500/20 rounded-xl flex items-center justify-center",children:g.jsx(n,{className:"w-5 h-5 text-purple-400"})}),r&&g.jsxs("div",{className:`flex items-center gap-1 text-xs font-semibold ${s?"text-emerald-400":"text-red-400"}`,children:[s?g.jsx(Fo,{className:"w-3 h-3"}):g.jsx(hne,{className:"w-3 h-3"}),r]})]}),g.jsx("div",{className:"text-4xl font-bold text-white mb-1",children:e}),g.jsx("div",{className:"text-purple-300 text-sm",children:t})]})}var Ww,W2;function wr(){if(W2)return Ww;W2=1;var t=Array.isArray;return Ww=t,Ww}var zw,z2;function NW(){if(z2)return zw;z2=1;var t=typeof um=="object"&&um&&um.Object===Object&&um;return zw=t,zw}var Hw,H2;function ro(){if(H2)return Hw;H2=1;var t=NW(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Hw=n,Hw}var Gw,G2;function Yh(){if(G2)return Gw;G2=1;var t=ro(),e=t.Symbol;return Gw=e,Gw}var Kw,K2;function mhe(){if(K2)return Kw;K2=1;var t=Yh(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(s){var a=n.call(s,i),c=s[i];try{s[i]=void 0;var u=!0}catch{}var f=r.call(s);return u&&(a?s[i]=c:delete s[i]),f}return Kw=o,Kw}var Yw,Y2;function ghe(){if(Y2)return Yw;Y2=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Yw=n,Yw}var Xw,X2;function Qo(){if(X2)return Xw;X2=1;var t=Yh(),e=mhe(),n=ghe(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?e(a):n(a)}return Xw=s,Xw}var Qw,Q2;function Jo(){if(Q2)return Qw;Q2=1;function t(e){return e!=null&&typeof e=="object"}return Qw=t,Qw}var Jw,J2;function Ju(){if(J2)return Jw;J2=1;var t=Qo(),e=Jo(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Jw=r,Jw}var Zw,Z2;function AA(){if(Z2)return Zw;Z2=1;var t=wr(),e=Ju(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(t(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return Zw=i,Zw}var ex,eM;function na(){if(eM)return ex;eM=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return ex=t,ex}var tx,tM;function OA(){if(tM)return tx;tM=1;var t=Qo(),e=na(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!e(a))return!1;var c=t(a);return c==r||c==i||c==n||c==o}return tx=s,tx}var nx,nM;function vhe(){if(nM)return nx;nM=1;var t=ro(),e=t["__core-js_shared__"];return nx=e,nx}var rx,rM;function yhe(){if(rM)return rx;rM=1;var t=vhe(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return rx=n,rx}var ix,iM;function IW(){if(iM)return ix;iM=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return ix=n,ix}var ox,oM;function bhe(){if(oM)return ox;oM=1;var t=OA(),e=yhe(),n=na(),r=IW(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,c=s.toString,u=a.hasOwnProperty,f=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(p){if(!n(p)||e(p))return!1;var v=t(p)?f:o;return v.test(r(p))}return ox=h,ox}var sx,sM;function whe(){if(sM)return sx;sM=1;function t(e,n){return e==null?void 0:e[n]}return sx=t,sx}var ax,aM;function Ol(){if(aM)return ax;aM=1;var t=bhe(),e=whe();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return ax=n,ax}var lx,lM;function xy(){if(lM)return lx;lM=1;var t=Ol(),e=t(Object,"create");return lx=e,lx}var cx,cM;function xhe(){if(cM)return cx;cM=1;var t=xy();function e(){this.__data__=t?t(null):{},this.size=0}return cx=e,cx}var ux,uM;function _he(){if(uM)return ux;uM=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return ux=t,ux}var dx,dM;function She(){if(dM)return dx;dM=1;var t=xy(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(t){var a=s[o];return a===e?void 0:a}return r.call(s,o)?s[o]:void 0}return dx=i,dx}var fx,fM;function Phe(){if(fM)return fx;fM=1;var t=xy(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return fx=r,fx}var hx,hM;function The(){if(hM)return hx;hM=1;var t=xy(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return hx=n,hx}var px,pM;function Che(){if(pM)return px;pM=1;var t=xhe(),e=_he(),n=She(),r=Phe(),i=The();function o(s){var a=-1,c=s==null?0:s.length;for(this.clear();++a<c;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,px=o,px}var mx,mM;function Ehe(){if(mM)return mx;mM=1;function t(){this.__data__=[],this.size=0}return mx=t,mx}var gx,gM;function kA(){if(gM)return gx;gM=1;function t(e,n){return e===n||e!==e&&n!==n}return gx=t,gx}var vx,vM;function _y(){if(vM)return vx;vM=1;var t=kA();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return vx=e,vx}var yx,yM;function Ahe(){if(yM)return yx;yM=1;var t=_y(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return yx=r,yx}var bx,bM;function Ohe(){if(bM)return bx;bM=1;var t=_y();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return bx=e,bx}var wx,wM;function khe(){if(wM)return wx;wM=1;var t=_y();function e(n){return t(this.__data__,n)>-1}return wx=e,wx}var xx,xM;function jhe(){if(xM)return xx;xM=1;var t=_y();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return xx=e,xx}var _x,_M;function Sy(){if(_M)return _x;_M=1;var t=Ehe(),e=Ahe(),n=Ohe(),r=khe(),i=jhe();function o(s){var a=-1,c=s==null?0:s.length;for(this.clear();++a<c;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,_x=o,_x}var Sx,SM;function jA(){if(SM)return Sx;SM=1;var t=Ol(),e=ro(),n=t(e,"Map");return Sx=n,Sx}var Px,PM;function Rhe(){if(PM)return Px;PM=1;var t=Che(),e=Sy(),n=jA();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Px=r,Px}var Tx,TM;function Nhe(){if(TM)return Tx;TM=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Tx=t,Tx}var Cx,CM;function Py(){if(CM)return Cx;CM=1;var t=Nhe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Cx=e,Cx}var Ex,EM;function Ihe(){if(EM)return Ex;EM=1;var t=Py();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Ex=e,Ex}var Ax,AM;function Mhe(){if(AM)return Ax;AM=1;var t=Py();function e(n){return t(this,n).get(n)}return Ax=e,Ax}var Ox,OM;function Dhe(){if(OM)return Ox;OM=1;var t=Py();function e(n){return t(this,n).has(n)}return Ox=e,Ox}var kx,kM;function $he(){if(kM)return kx;kM=1;var t=Py();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return kx=e,kx}var jx,jM;function RA(){if(jM)return jx;jM=1;var t=Rhe(),e=Ihe(),n=Mhe(),r=Dhe(),i=$he();function o(s){var a=-1,c=s==null?0:s.length;for(this.clear();++a<c;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,jx=o,jx}var Rx,RM;function MW(){if(RM)return Rx;RM=1;var t=RA(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],c=o.cache;if(c.has(a))return c.get(a);var u=r.apply(this,s);return o.cache=c.set(a,u)||c,u};return o.cache=new(n.Cache||t),o}return n.Cache=t,Rx=n,Rx}var Nx,NM;function Lhe(){if(NM)return Nx;NM=1;var t=MW(),e=500;function n(r){var i=t(r,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return Nx=n,Nx}var Ix,IM;function Fhe(){if(IM)return Ix;IM=1;var t=Lhe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,a,c,u){o.push(c?u.replace(n,"$1"):a||s)}),o});return Ix=r,Ix}var Mx,MM;function NA(){if(MM)return Mx;MM=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return Mx=t,Mx}var Dx,DM;function Bhe(){if(DM)return Dx;DM=1;var t=Yh(),e=NA(),n=wr(),r=Ju(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return e(a,s)+"";if(r(a))return o?o.call(a):"";var c=a+"";return c=="0"&&1/a==-1/0?"-0":c}return Dx=s,Dx}var $x,$M;function DW(){if($M)return $x;$M=1;var t=Bhe();function e(n){return n==null?"":t(n)}return $x=e,$x}var Lx,LM;function $W(){if(LM)return Lx;LM=1;var t=wr(),e=AA(),n=Fhe(),r=DW();function i(o,s){return t(o)?o:e(o,s)?[o]:n(r(o))}return Lx=i,Lx}var Fx,FM;function Ty(){if(FM)return Fx;FM=1;var t=Ju();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Fx=e,Fx}var Bx,BM;function IA(){if(BM)return Bx;BM=1;var t=$W(),e=Ty();function n(r,i){i=t(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[e(i[o++])];return o&&o==s?r:void 0}return Bx=n,Bx}var Ux,UM;function LW(){if(UM)return Ux;UM=1;var t=IA();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return Ux=e,Ux}var Uhe=LW();const Ir=st(Uhe);var qx,qM;function qhe(){if(qM)return qx;qM=1;function t(e){return e==null}return qx=t,qx}var Vhe=qhe();const Ge=st(Vhe);var Vx,VM;function Whe(){if(VM)return Vx;VM=1;var t=Qo(),e=wr(),n=Jo(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return Vx=i,Vx}var zhe=Whe();const yl=st(zhe);var Hhe=OA();const qe=st(Hhe);var Ghe=na();const Zu=st(Ghe);var Wx={exports:{}},dt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WM;function Khe(){if(WM)return dt;WM=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function b(y){if(typeof y=="object"&&y!==null){var _=y.$$typeof;switch(_){case t:switch(y=y.type,y){case n:case i:case r:case u:case f:return y;default:switch(y=y&&y.$$typeof,y){case a:case s:case c:case p:case h:case o:return y;default:return _}}case e:return _}}}return dt.ContextConsumer=s,dt.ContextProvider=o,dt.Element=t,dt.ForwardRef=c,dt.Fragment=n,dt.Lazy=p,dt.Memo=h,dt.Portal=e,dt.Profiler=i,dt.StrictMode=r,dt.Suspense=u,dt.SuspenseList=f,dt.isAsyncMode=function(){return!1},dt.isConcurrentMode=function(){return!1},dt.isContextConsumer=function(y){return b(y)===s},dt.isContextProvider=function(y){return b(y)===o},dt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},dt.isForwardRef=function(y){return b(y)===c},dt.isFragment=function(y){return b(y)===n},dt.isLazy=function(y){return b(y)===p},dt.isMemo=function(y){return b(y)===h},dt.isPortal=function(y){return b(y)===e},dt.isProfiler=function(y){return b(y)===i},dt.isStrictMode=function(y){return b(y)===r},dt.isSuspense=function(y){return b(y)===u},dt.isSuspenseList=function(y){return b(y)===f},dt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===r||y===u||y===f||y===v||typeof y=="object"&&y!==null&&(y.$$typeof===p||y.$$typeof===h||y.$$typeof===o||y.$$typeof===s||y.$$typeof===c||y.$$typeof===x||y.getModuleId!==void 0)},dt.typeOf=b,dt}var zM;function Yhe(){return zM||(zM=1,Wx.exports=Khe()),Wx.exports}var Xhe=Yhe(),zx,HM;function FW(){if(HM)return zx;HM=1;var t=Qo(),e=Jo(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return zx=r,zx}var Hx,GM;function Qhe(){if(GM)return Hx;GM=1;var t=FW();function e(n){return t(n)&&n!=+n}return Hx=e,Hx}var Jhe=Qhe();const ed=st(Jhe);var Zhe=FW();const epe=st(Zhe);var tr=function(e){return e===0?0:e>0?1:-1},qa=function(e){return yl(e)&&e.indexOf("%")===e.length-1},de=function(e){return epe(e)&&!ed(e)},tpe=function(e){return Ge(e)},bn=function(e){return de(e)||yl(e)},npe=0,td=function(e){var n=++npe;return"".concat(e||"").concat(n)},nr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(e)&&!yl(e))return r;var o;if(qa(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return ed(o)&&(o=r),i&&o>n&&(o=n),o},Os=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},rpe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},gr=function(e,n){return de(e)&&de(n)?function(r){return e+r*(n-e)}:function(){return n}};function Xg(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ir(r,e))===n})}var ipe=function(e,n){return de(e)&&de(n)?e-n:yl(e)&&yl(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Lc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function kT(t){"@babel/helpers - typeof";return kT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kT(t)}var ope=["viewBox","children"],spe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],KM=["points","pathLength"],Gx={svg:ope,polygon:KM,polyline:KM},MA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Qg=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(C.isValidElement(e)&&(r=e.props),!Zu(r))return null;var i={};return Object.keys(r).forEach(function(o){MA.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},ape=function(e,n,r){return function(i){return e(n,r,i),null}},bl=function(e,n,r){if(!Zu(e)||kT(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];MA.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=ape(s,n,r))}),i},lpe=["children"],cpe=["children"];function YM(t,e){if(t==null)return{};var n=upe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function upe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jT(t){"@babel/helpers - typeof";return jT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jT(t)}var XM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},No=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},QM=null,Kx=null,DA=function t(e){if(e===QM&&Array.isArray(Kx))return Kx;var n=[];return C.Children.forEach(e,function(r){Ge(r)||(Xhe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Kx=n,QM=e,n};function ti(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return No(i)}):r=[No(e)],DA(t).forEach(function(i){var o=Ir(i,"type.displayName")||Ir(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Or(t,e){var n=ti(t,e);return n&&n[0]}var JM=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!de(r)||r<=0||!de(i)||i<=0)},dpe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],fpe=function(e){return e&&e.type&&yl(e.type)&&dpe.indexOf(e.type)>=0},hpe=function(e){return e&&jT(e)==="object"&&"clipDot"in e},ppe=function(e,n,r,i){var o,s=(o=Gx==null?void 0:Gx[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!qe(e)&&(i&&s.includes(n)||spe.includes(n))||r&&MA.includes(n)},Me=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(C.isValidElement(e)&&(i=e.props),!Zu(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;ppe((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},RT=function t(e,n){if(e===n)return!0;var r=C.Children.count(e);if(r!==C.Children.count(n))return!1;if(r===0)return!0;if(r===1)return ZM(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!ZM(o,s))return!1}return!0},ZM=function(e,n){if(Ge(e)&&Ge(n))return!0;if(!Ge(e)&&!Ge(n)){var r=e.props||{},i=r.children,o=YM(r,lpe),s=n.props||{},a=s.children,c=YM(s,cpe);return i&&a?Lc(o,c)&&RT(i,a):!i&&!a?Lc(o,c):!1}return!1},eD=function(e,n){var r=[],i={};return DA(e).forEach(function(o,s){if(fpe(o))r.push(o);else if(o){var a=No(o.type),c=n[a]||{},u=c.handler,f=c.once;if(u&&(!f||!i[a])){var h=u(o,a,s);r.push(h),i[a]=!0}}}),r},mpe=function(e){var n=e&&e.type;return n&&XM[n]?XM[n]:null},gpe=function(e,n){return DA(n).indexOf(e)},vpe=["children","width","height","viewBox","className","style","title","desc"];function NT(){return NT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NT.apply(this,arguments)}function ype(t,e){if(t==null)return{};var n=bpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IT(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,c=t.desc,u=ype(t,vpe),f=i||{width:n,height:r,x:0,y:0},h=He("recharts-surface",o);return V.createElement("svg",NT({},Me(u,!0,"svg"),{className:h,width:n,height:r,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),V.createElement("title",null,a),V.createElement("desc",null,c),e)}var wpe=["children","className"];function MT(){return MT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MT.apply(this,arguments)}function xpe(t,e){if(t==null)return{};var n=_pe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _pe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rt=V.forwardRef(function(t,e){var n=t.children,r=t.className,i=xpe(t,wpe),o=He("recharts-layer",r);return V.createElement("g",MT({className:o},Me(i,!0),{ref:e}),n)}),Ei=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},Yx,tD;function Spe(){if(tD)return Yx;tD=1;function t(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+n];return s}return Yx=t,Yx}var Xx,nD;function Ppe(){if(nD)return Xx;nD=1;var t=Spe();function e(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:t(n,r,i)}return Xx=e,Xx}var Qx,rD;function BW(){if(rD)return Qx;rD=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",a=RegExp("["+s+t+i+o+"]");function c(u){return a.test(u)}return Qx=c,Qx}var Jx,iD;function Tpe(){if(iD)return Jx;iD=1;function t(e){return e.split("")}return Jx=t,Jx}var Zx,oD;function Cpe(){if(oD)return Zx;oD=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="["+t+"]",a="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+c+")",f="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",x=u+"?",b="["+o+"]?",y="(?:"+v+"(?:"+[f,h,p].join("|")+")"+b+x+")*",_=b+x+y,T="(?:"+[f+a+"?",a,h,p,s].join("|")+")",S=RegExp(c+"(?="+c+")|"+T+_,"g");function A(P){return P.match(S)||[]}return Zx=A,Zx}var e_,sD;function Epe(){if(sD)return e_;sD=1;var t=Tpe(),e=BW(),n=Cpe();function r(i){return e(i)?n(i):t(i)}return e_=r,e_}var t_,aD;function Ape(){if(aD)return t_;aD=1;var t=Ppe(),e=BW(),n=Epe(),r=DW();function i(o){return function(s){s=r(s);var a=e(s)?n(s):void 0,c=a?a[0]:s.charAt(0),u=a?t(a,1).join(""):s.slice(1);return c[o]()+u}}return t_=i,t_}var n_,lD;function Ope(){if(lD)return n_;lD=1;var t=Ape(),e=t("toUpperCase");return n_=e,n_}var kpe=Ope();const Cy=st(kpe);function Ot(t){return function(){return t}}const UW=Math.cos,Jg=Math.sin,Ni=Math.sqrt,Zg=Math.PI,Ey=2*Zg,DT=Math.PI,$T=2*DT,ja=1e-6,jpe=$T-ja;function qW(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Rpe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return qW;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Npe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?qW:Rpe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,c=r-e,u=i-n,f=s-e,h=a-n,p=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>ja)if(!(Math.abs(h*c-u*f)>ja)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-s,x=i-a,b=c*c+u*u,y=v*v+x*x,_=Math.sqrt(b),T=Math.sqrt(p),S=o*Math.tan((DT-Math.acos((b+p-y)/(2*_*T)))/2),A=S/T,P=S/_;Math.abs(A-1)>ja&&this._append`L${e+A*f},${n+A*h}`,this._append`A${o},${o},0,0,${+(h*v>f*x)},${this._x1=e+P*c},${this._y1=n+P*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),c=r*Math.sin(i),u=e+a,f=n+c,h=1^s,p=s?i-o:o-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>ja||Math.abs(this._y1-f)>ja)&&this._append`L${u},${f}`,r&&(p<0&&(p=p%$T+$T),p>jpe?this._append`A${r},${r},0,1,${h},${e-a},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=f}`:p>ja&&this._append`A${r},${r},0,${+(p>=DT)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function $A(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Npe(e)}function LA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function VW(t){this._context=t}VW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ay(t){return new VW(t)}function WW(t){return t[0]}function zW(t){return t[1]}function HW(t,e){var n=Ot(!0),r=null,i=Ay,o=null,s=$A(a);t=typeof t=="function"?t:t===void 0?WW:Ot(t),e=typeof e=="function"?e:e===void 0?zW:Ot(e);function a(c){var u,f=(c=LA(c)).length,h,p=!1,v;for(r==null&&(o=i(v=s())),u=0;u<=f;++u)!(u<f&&n(h=c[u],u,c))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+t(h,u,c),+e(h,u,c));if(v)return o=null,v+""||null}return a.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ot(+c),a):t},a.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ot(+c),a):e},a.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ot(!!c),a):n},a.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),a):i},a.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),a):r},a}function Fm(t,e,n){var r=null,i=Ot(!0),o=null,s=Ay,a=null,c=$A(u);t=typeof t=="function"?t:t===void 0?WW:Ot(+t),e=typeof e=="function"?e:Ot(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?zW:Ot(+n);function u(h){var p,v,x,b=(h=LA(h)).length,y,_=!1,T,S=new Array(b),A=new Array(b);for(o==null&&(a=s(T=c())),p=0;p<=b;++p){if(!(p<b&&i(y=h[p],p,h))===_)if(_=!_)v=p,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),x=p-1;x>=v;--x)a.point(S[x],A[x]);a.lineEnd(),a.areaEnd()}_&&(S[p]=+t(y,p,h),A[p]=+e(y,p,h),a.point(r?+r(y,p,h):S[p],n?+n(y,p,h):A[p]))}if(T)return a=null,T+""||null}function f(){return HW().defined(i).curve(s).context(o)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Ot(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Ot(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ot(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Ot(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Ot(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ot(+h),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Ot(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,o!=null&&(a=s(o)),u):s},u.context=function(h){return arguments.length?(h==null?o=a=null:a=s(o=h),u):o},u}class GW{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Ipe(t){return new GW(t,!0)}function Mpe(t){return new GW(t,!1)}const FA={draw(t,e){const n=Ni(e/Zg);t.moveTo(n,0),t.arc(0,0,n,0,Ey)}},Dpe={draw(t,e){const n=Ni(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},KW=Ni(1/3),$pe=KW*2,Lpe={draw(t,e){const n=Ni(e/$pe),r=n*KW;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Fpe={draw(t,e){const n=Ni(e),r=-n/2;t.rect(r,r,n,n)}},Bpe=.8908130915292852,YW=Jg(Zg/10)/Jg(7*Zg/10),Upe=Jg(Ey/10)*YW,qpe=-UW(Ey/10)*YW,Vpe={draw(t,e){const n=Ni(e*Bpe),r=Upe*n,i=qpe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Ey*o/5,a=UW(s),c=Jg(s);t.lineTo(c*n,-a*n),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},r_=Ni(3),Wpe={draw(t,e){const n=-Ni(e/(r_*3));t.moveTo(0,n*2),t.lineTo(-r_*n,-n),t.lineTo(r_*n,-n),t.closePath()}},qr=-.5,Vr=Ni(3)/2,LT=1/Ni(12),zpe=(LT/2+1)*3,Hpe={draw(t,e){const n=Ni(e/zpe),r=n/2,i=n*LT,o=r,s=n*LT+n,a=-o,c=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,c),t.lineTo(qr*r-Vr*i,Vr*r+qr*i),t.lineTo(qr*o-Vr*s,Vr*o+qr*s),t.lineTo(qr*a-Vr*c,Vr*a+qr*c),t.lineTo(qr*r+Vr*i,qr*i-Vr*r),t.lineTo(qr*o+Vr*s,qr*s-Vr*o),t.lineTo(qr*a+Vr*c,qr*c-Vr*a),t.closePath()}};function Gpe(t,e){let n=null,r=$A(i);t=typeof t=="function"?t:Ot(t||FA),e=typeof e=="function"?e:Ot(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ot(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ot(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function ev(){}function tv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function XW(t){this._context=t}XW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Kpe(t){return new XW(t)}function QW(t){this._context=t}QW.prototype={areaStart:ev,areaEnd:ev,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:tv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ype(t){return new QW(t)}function JW(t){this._context=t}JW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:tv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Xpe(t){return new JW(t)}function ZW(t){this._context=t}ZW.prototype={areaStart:ev,areaEnd:ev,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Qpe(t){return new ZW(t)}function cD(t){return t<0?-1:1}function uD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(cD(o)+cD(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function dD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function i_(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function nv(t){this._context=t}nv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:i_(this,this._t0,dD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,i_(this,dD(this,n=uD(this,t,e)),n);break;default:i_(this,this._t0,n=uD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ez(t){this._context=new tz(t)}(ez.prototype=Object.create(nv.prototype)).point=function(t,e){nv.prototype.point.call(this,e,t)};function tz(t){this._context=t}tz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Jpe(t){return new nv(t)}function Zpe(t){return new ez(t)}function nz(t){this._context=t}nz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=fD(t),i=fD(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function fD(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function eme(t){return new nz(t)}function Oy(t,e){this._context=t,this._t=e}Oy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function tme(t){return new Oy(t,.5)}function nme(t){return new Oy(t,0)}function rme(t){return new Oy(t,1)}function hu(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function FT(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ime(t,e){return t[e]}function ome(t){const e=[];return e.key=t,e}function sme(){var t=Ot([]),e=FT,n=hu,r=ime;function i(o){var s=Array.from(t.apply(this,arguments),ome),a,c=s.length,u=-1,f;for(const h of o)for(a=0,++u;a<c;++a)(s[a][u]=[0,+r(h,s[a].key,u,o)]).data=h;for(a=0,f=LA(e(s));a<c;++a)s[f[a]].index=a;return n(s,f),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ot(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ot(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?FT:typeof o=="function"?o:Ot(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??hu,i):n},i}function ame(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}hu(t,e)}}function lme(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}hu(t,e)}}function cme(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,c=0,u=0;a<s;++a){for(var f=t[e[a]],h=f[r][1]||0,p=f[r-1][1]||0,v=(h-p)/2,x=0;x<a;++x){var b=t[e[x]],y=b[r][1]||0,_=b[r-1][1]||0;v+=y-_}c+=h,u+=v*h}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,hu(t,e)}}function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}var ume=["type","size","sizeType"];function BT(){return BT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BT.apply(this,arguments)}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){dme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dme(t,e,n){return e=fme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fme(t){var e=hme(t,"string");return Kf(e)=="symbol"?e:e+""}function hme(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pme(t,e){if(t==null)return{};var n=mme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rz={symbolCircle:FA,symbolCross:Dpe,symbolDiamond:Lpe,symbolSquare:Fpe,symbolStar:Vpe,symbolTriangle:Wpe,symbolWye:Hpe},gme=Math.PI/180,vme=function(e){var n="symbol".concat(Cy(e));return rz[n]||FA},yme=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*gme;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},bme=function(e,n){rz["symbol".concat(Cy(e))]=n},BA=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,c=pme(e,ume),u=pD(pD({},c),{},{type:r,size:o,sizeType:a}),f=function(){var y=vme(r),_=Gpe().type(y).size(yme(o,a,r));return _()},h=u.className,p=u.cx,v=u.cy,x=Me(u,!0);return p===+p&&v===+v&&o===+o?V.createElement("path",BT({},x,{className:He("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(v,")"),d:f()})):null};BA.registerSymbol=bme;function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function UT(){return UT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UT.apply(this,arguments)}function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){Yf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oz(r.key),r)}}function Sme(t,e,n){return e&&_me(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pme(t,e,n){return e=rv(e),Tme(t,iz()?Reflect.construct(e,n||[],rv(t).constructor):e.apply(t,n))}function Tme(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cme(t)}function Cme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iz=function(){return!!t})()}function rv(t){return rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rv(t)}function Eme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qT(t,e)}function qT(t,e){return qT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qT(t,e)}function Yf(t,e,n){return e=oz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oz(t){var e=Ame(t,"string");return pu(e)=="symbol"?e:e+""}function Ame(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wr=32,UA=(function(t){function e(){return xme(this,e),Pme(this,e,arguments)}return Eme(e,t),Sme(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Wr/2,s=Wr/6,a=Wr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Wr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(Wr,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return V.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Wr/8,"h").concat(Wr,"v").concat(Wr*3/4,"h").concat(-Wr,"z"),className:"recharts-legend-icon"});if(V.isValidElement(r.legendIcon)){var u=wme({},r);return delete u.legendIcon,V.cloneElement(r.legendIcon,u)}return V.createElement(BA,{fill:c,cx:o,cy:o,size:Wr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,c=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:Wr,height:Wr},h={display:a==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(v,x){var b=v.formatter||c,y=He(Yf(Yf({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",v.inactive));if(v.type==="none")return null;var _=qe(v.value)?null:v.value;Ei(!qe(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var T=v.inactive?u:v.color;return V.createElement("li",UT({className:y,style:h,key:"legend-item-".concat(x)},bl(r.props,v,x)),V.createElement(IT,{width:s,height:s,viewBox:f,style:p},r.renderIcon(v)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},b?b(_,v,x):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])})(C.PureComponent);Yf(UA,"displayName","Legend");Yf(UA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var o_,gD;function Ome(){if(gD)return o_;gD=1;var t=Sy();function e(){this.__data__=new t,this.size=0}return o_=e,o_}var s_,vD;function kme(){if(vD)return s_;vD=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return s_=t,s_}var a_,yD;function jme(){if(yD)return a_;yD=1;function t(e){return this.__data__.get(e)}return a_=t,a_}var l_,bD;function Rme(){if(bD)return l_;bD=1;function t(e){return this.__data__.has(e)}return l_=t,l_}var c_,wD;function Nme(){if(wD)return c_;wD=1;var t=Sy(),e=jA(),n=RA(),r=200;function i(o,s){var a=this.__data__;if(a instanceof t){var c=a.__data__;if(!e||c.length<r-1)return c.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(c)}return a.set(o,s),this.size=a.size,this}return c_=i,c_}var u_,xD;function sz(){if(xD)return u_;xD=1;var t=Sy(),e=Ome(),n=kme(),r=jme(),i=Rme(),o=Nme();function s(a){var c=this.__data__=new t(a);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,u_=s,u_}var d_,_D;function Ime(){if(_D)return d_;_D=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return d_=e,d_}var f_,SD;function Mme(){if(SD)return f_;SD=1;function t(e){return this.__data__.has(e)}return f_=t,f_}var h_,PD;function az(){if(PD)return h_;PD=1;var t=RA(),e=Ime(),n=Mme();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,h_=r,h_}var p_,TD;function lz(){if(TD)return p_;TD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return p_=t,p_}var m_,CD;function cz(){if(CD)return m_;CD=1;function t(e,n){return e.has(n)}return m_=t,m_}var g_,ED;function uz(){if(ED)return g_;ED=1;var t=az(),e=lz(),n=cz(),r=1,i=2;function o(s,a,c,u,f,h){var p=c&r,v=s.length,x=a.length;if(v!=x&&!(p&&x>v))return!1;var b=h.get(s),y=h.get(a);if(b&&y)return b==a&&y==s;var _=-1,T=!0,S=c&i?new t:void 0;for(h.set(s,a),h.set(a,s);++_<v;){var A=s[_],P=a[_];if(u)var O=p?u(P,A,_,a,s,h):u(A,P,_,s,a,h);if(O!==void 0){if(O)continue;T=!1;break}if(S){if(!e(a,function(k,R){if(!n(S,R)&&(A===k||f(A,k,c,u,h)))return S.push(R)})){T=!1;break}}else if(!(A===P||f(A,P,c,u,h))){T=!1;break}}return h.delete(s),h.delete(a),T}return g_=o,g_}var v_,AD;function Dme(){if(AD)return v_;AD=1;var t=ro(),e=t.Uint8Array;return v_=e,v_}var y_,OD;function $me(){if(OD)return y_;OD=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return y_=t,y_}var b_,kD;function qA(){if(kD)return b_;kD=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return b_=t,b_}var w_,jD;function Lme(){if(jD)return w_;jD=1;var t=Yh(),e=Dme(),n=kA(),r=uz(),i=$me(),o=qA(),s=1,a=2,c="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Map]",p="[object Number]",v="[object RegExp]",x="[object Set]",b="[object String]",y="[object Symbol]",_="[object ArrayBuffer]",T="[object DataView]",S=t?t.prototype:void 0,A=S?S.valueOf:void 0;function P(O,k,R,I,L,M,B){switch(R){case T:if(O.byteLength!=k.byteLength||O.byteOffset!=k.byteOffset)return!1;O=O.buffer,k=k.buffer;case _:return!(O.byteLength!=k.byteLength||!M(new e(O),new e(k)));case c:case u:case p:return n(+O,+k);case f:return O.name==k.name&&O.message==k.message;case v:case b:return O==k+"";case h:var q=i;case x:var Y=I&s;if(q||(q=o),O.size!=k.size&&!Y)return!1;var Q=B.get(O);if(Q)return Q==k;I|=a,B.set(O,k);var K=r(q(O),q(k),I,L,M,B);return B.delete(O),K;case y:if(A)return A.call(O)==A.call(k)}return!1}return w_=P,w_}var x_,RD;function dz(){if(RD)return x_;RD=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return x_=t,x_}var __,ND;function Fme(){if(ND)return __;ND=1;var t=dz(),e=wr();function n(r,i,o){var s=i(r);return e(r)?s:t(s,o(r))}return __=n,__}var S_,ID;function Bme(){if(ID)return S_;ID=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,s=[];++r<i;){var a=e[r];n(a,r,e)&&(s[o++]=a)}return s}return S_=t,S_}var P_,MD;function Ume(){if(MD)return P_;MD=1;function t(){return[]}return P_=t,P_}var T_,DD;function qme(){if(DD)return T_;DD=1;var t=Bme(),e=Ume(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(a){return r.call(s,a)}))}:e;return T_=o,T_}var C_,$D;function Vme(){if($D)return C_;$D=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return C_=t,C_}var E_,LD;function Wme(){if(LD)return E_;LD=1;var t=Qo(),e=Jo(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return E_=r,E_}var A_,FD;function VA(){if(FD)return A_;FD=1;var t=Wme(),e=Jo(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return A_=o,A_}var bf={exports:{}},O_,BD;function zme(){if(BD)return O_;BD=1;function t(){return!1}return O_=t,O_}bf.exports;var UD;function fz(){return UD||(UD=1,(function(t,e){var n=ro(),r=zme(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,c=a?a.isBuffer:void 0,u=c||r;t.exports=u})(bf,bf.exports)),bf.exports}var k_,qD;function WA(){if(qD)return k_;qD=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return k_=n,k_}var j_,VD;function zA(){if(VD)return j_;VD=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return j_=e,j_}var R_,WD;function Hme(){if(WD)return R_;WD=1;var t=Qo(),e=zA(),n=Jo(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",c="[object Function]",u="[object Map]",f="[object Number]",h="[object Object]",p="[object RegExp]",v="[object Set]",x="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",_="[object DataView]",T="[object Float32Array]",S="[object Float64Array]",A="[object Int8Array]",P="[object Int16Array]",O="[object Int32Array]",k="[object Uint8Array]",R="[object Uint8ClampedArray]",I="[object Uint16Array]",L="[object Uint32Array]",M={};M[T]=M[S]=M[A]=M[P]=M[O]=M[k]=M[R]=M[I]=M[L]=!0,M[r]=M[i]=M[y]=M[o]=M[_]=M[s]=M[a]=M[c]=M[u]=M[f]=M[h]=M[p]=M[v]=M[x]=M[b]=!1;function B(q){return n(q)&&e(q.length)&&!!M[t(q)]}return R_=B,R_}var N_,zD;function hz(){if(zD)return N_;zD=1;function t(e){return function(n){return e(n)}}return N_=t,N_}var wf={exports:{}};wf.exports;var HD;function Gme(){return HD||(HD=1,(function(t,e){var n=NW(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=a})(wf,wf.exports)),wf.exports}var I_,GD;function pz(){if(GD)return I_;GD=1;var t=Hme(),e=hz(),n=Gme(),r=n&&n.isTypedArray,i=r?e(r):t;return I_=i,I_}var M_,KD;function Kme(){if(KD)return M_;KD=1;var t=Vme(),e=VA(),n=wr(),r=fz(),i=WA(),o=pz(),s=Object.prototype,a=s.hasOwnProperty;function c(u,f){var h=n(u),p=!h&&e(u),v=!h&&!p&&r(u),x=!h&&!p&&!v&&o(u),b=h||p||v||x,y=b?t(u.length,String):[],_=y.length;for(var T in u)(f||a.call(u,T))&&!(b&&(T=="length"||v&&(T=="offset"||T=="parent")||x&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||i(T,_)))&&y.push(T);return y}return M_=c,M_}var D_,YD;function Yme(){if(YD)return D_;YD=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return D_=e,D_}var $_,XD;function mz(){if(XD)return $_;XD=1;function t(e,n){return function(r){return e(n(r))}}return $_=t,$_}var L_,QD;function Xme(){if(QD)return L_;QD=1;var t=mz(),e=t(Object.keys,Object);return L_=e,L_}var F_,JD;function Qme(){if(JD)return F_;JD=1;var t=Yme(),e=Xme(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return F_=i,F_}var B_,ZD;function Xh(){if(ZD)return B_;ZD=1;var t=OA(),e=zA();function n(r){return r!=null&&e(r.length)&&!t(r)}return B_=n,B_}var U_,e$;function ky(){if(e$)return U_;e$=1;var t=Kme(),e=Qme(),n=Xh();function r(i){return n(i)?t(i):e(i)}return U_=r,U_}var q_,t$;function Jme(){if(t$)return q_;t$=1;var t=Fme(),e=qme(),n=ky();function r(i){return t(i,n,e)}return q_=r,q_}var V_,n$;function Zme(){if(n$)return V_;n$=1;var t=Jme(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,c,u,f){var h=a&e,p=t(o),v=p.length,x=t(s),b=x.length;if(v!=b&&!h)return!1;for(var y=v;y--;){var _=p[y];if(!(h?_ in s:r.call(s,_)))return!1}var T=f.get(o),S=f.get(s);if(T&&S)return T==s&&S==o;var A=!0;f.set(o,s),f.set(s,o);for(var P=h;++y<v;){_=p[y];var O=o[_],k=s[_];if(c)var R=h?c(k,O,_,s,o,f):c(O,k,_,o,s,f);if(!(R===void 0?O===k||u(O,k,a,c,f):R)){A=!1;break}P||(P=_=="constructor")}if(A&&!P){var I=o.constructor,L=s.constructor;I!=L&&"constructor"in o&&"constructor"in s&&!(typeof I=="function"&&I instanceof I&&typeof L=="function"&&L instanceof L)&&(A=!1)}return f.delete(o),f.delete(s),A}return V_=i,V_}var W_,r$;function ege(){if(r$)return W_;r$=1;var t=Ol(),e=ro(),n=t(e,"DataView");return W_=n,W_}var z_,i$;function tge(){if(i$)return z_;i$=1;var t=Ol(),e=ro(),n=t(e,"Promise");return z_=n,z_}var H_,o$;function gz(){if(o$)return H_;o$=1;var t=Ol(),e=ro(),n=t(e,"Set");return H_=n,H_}var G_,s$;function nge(){if(s$)return G_;s$=1;var t=Ol(),e=ro(),n=t(e,"WeakMap");return G_=n,G_}var K_,a$;function rge(){if(a$)return K_;a$=1;var t=ege(),e=jA(),n=tge(),r=gz(),i=nge(),o=Qo(),s=IW(),a="[object Map]",c="[object Object]",u="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",v=s(t),x=s(e),b=s(n),y=s(r),_=s(i),T=o;return(t&&T(new t(new ArrayBuffer(1)))!=p||e&&T(new e)!=a||n&&T(n.resolve())!=u||r&&T(new r)!=f||i&&T(new i)!=h)&&(T=function(S){var A=o(S),P=A==c?S.constructor:void 0,O=P?s(P):"";if(O)switch(O){case v:return p;case x:return a;case b:return u;case y:return f;case _:return h}return A}),K_=T,K_}var Y_,l$;function ige(){if(l$)return Y_;l$=1;var t=sz(),e=uz(),n=Lme(),r=Zme(),i=rge(),o=wr(),s=fz(),a=pz(),c=1,u="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype,v=p.hasOwnProperty;function x(b,y,_,T,S,A){var P=o(b),O=o(y),k=P?f:i(b),R=O?f:i(y);k=k==u?h:k,R=R==u?h:R;var I=k==h,L=R==h,M=k==R;if(M&&s(b)){if(!s(y))return!1;P=!0,I=!1}if(M&&!I)return A||(A=new t),P||a(b)?e(b,y,_,T,S,A):n(b,y,k,_,T,S,A);if(!(_&c)){var B=I&&v.call(b,"__wrapped__"),q=L&&v.call(y,"__wrapped__");if(B||q){var Y=B?b.value():b,Q=q?y.value():y;return A||(A=new t),S(Y,Q,_,T,A)}}return M?(A||(A=new t),r(b,y,_,T,S,A)):!1}return Y_=x,Y_}var X_,c$;function HA(){if(c$)return X_;c$=1;var t=ige(),e=Jo();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,s,n,a)}return X_=n,X_}var Q_,u$;function oge(){if(u$)return Q_;u$=1;var t=sz(),e=HA(),n=1,r=2;function i(o,s,a,c){var u=a.length,f=u,h=!c;if(o==null)return!f;for(o=Object(o);u--;){var p=a[u];if(h&&p[2]?p[1]!==o[p[0]]:!(p[0]in o))return!1}for(;++u<f;){p=a[u];var v=p[0],x=o[v],b=p[1];if(h&&p[2]){if(x===void 0&&!(v in o))return!1}else{var y=new t;if(c)var _=c(x,b,v,o,s,y);if(!(_===void 0?e(b,x,n|r,c,y):_))return!1}}return!0}return Q_=i,Q_}var J_,d$;function vz(){if(d$)return J_;d$=1;var t=na();function e(n){return n===n&&!t(n)}return J_=e,J_}var Z_,f$;function sge(){if(f$)return Z_;f$=1;var t=vz(),e=ky();function n(r){for(var i=e(r),o=i.length;o--;){var s=i[o],a=r[s];i[o]=[s,a,t(a)]}return i}return Z_=n,Z_}var eS,h$;function yz(){if(h$)return eS;h$=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return eS=t,eS}var tS,p$;function age(){if(p$)return tS;p$=1;var t=oge(),e=sge(),n=yz();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return tS=r,tS}var nS,m$;function lge(){if(m$)return nS;m$=1;function t(e,n){return e!=null&&n in Object(e)}return nS=t,nS}var rS,g$;function cge(){if(g$)return rS;g$=1;var t=$W(),e=VA(),n=wr(),r=WA(),i=zA(),o=Ty();function s(a,c,u){c=t(c,a);for(var f=-1,h=c.length,p=!1;++f<h;){var v=o(c[f]);if(!(p=a!=null&&u(a,v)))break;a=a[v]}return p||++f!=h?p:(h=a==null?0:a.length,!!h&&i(h)&&r(v,h)&&(n(a)||e(a)))}return rS=s,rS}var iS,v$;function uge(){if(v$)return iS;v$=1;var t=lge(),e=cge();function n(r,i){return r!=null&&e(r,i,t)}return iS=n,iS}var oS,y$;function dge(){if(y$)return oS;y$=1;var t=HA(),e=LW(),n=uge(),r=AA(),i=vz(),o=yz(),s=Ty(),a=1,c=2;function u(f,h){return r(f)&&i(h)?o(s(f),h):function(p){var v=e(p,f);return v===void 0&&v===h?n(p,f):t(h,v,a|c)}}return oS=u,oS}var sS,b$;function nd(){if(b$)return sS;b$=1;function t(e){return e}return sS=t,sS}var aS,w$;function fge(){if(w$)return aS;w$=1;function t(e){return function(n){return n==null?void 0:n[e]}}return aS=t,aS}var lS,x$;function hge(){if(x$)return lS;x$=1;var t=IA();function e(n){return function(r){return t(r,n)}}return lS=e,lS}var cS,_$;function pge(){if(_$)return cS;_$=1;var t=fge(),e=hge(),n=AA(),r=Ty();function i(o){return n(o)?t(r(o)):e(o)}return cS=i,cS}var uS,S$;function io(){if(S$)return uS;S$=1;var t=age(),e=dge(),n=nd(),r=wr(),i=pge();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return uS=o,uS}var dS,P$;function bz(){if(P$)return dS;P$=1;function t(e,n,r,i){for(var o=e.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(e[s],s,e))return s;return-1}return dS=t,dS}var fS,T$;function mge(){if(T$)return fS;T$=1;function t(e){return e!==e}return fS=t,fS}var hS,C$;function gge(){if(C$)return hS;C$=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return hS=t,hS}var pS,E$;function vge(){if(E$)return pS;E$=1;var t=bz(),e=mge(),n=gge();function r(i,o,s){return o===o?n(i,o,s):t(i,e,s)}return pS=r,pS}var mS,A$;function yge(){if(A$)return mS;A$=1;var t=vge();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return mS=e,mS}var gS,O$;function bge(){if(O$)return gS;O$=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return gS=t,gS}var vS,k$;function wge(){if(k$)return vS;k$=1;function t(){}return vS=t,vS}var yS,j$;function xge(){if(j$)return yS;j$=1;var t=gz(),e=wge(),n=qA(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return yS=i,yS}var bS,R$;function _ge(){if(R$)return bS;R$=1;var t=az(),e=yge(),n=bge(),r=cz(),i=xge(),o=qA(),s=200;function a(c,u,f){var h=-1,p=e,v=c.length,x=!0,b=[],y=b;if(f)x=!1,p=n;else if(v>=s){var _=u?null:i(c);if(_)return o(_);x=!1,p=r,y=new t}else y=u?[]:b;e:for(;++h<v;){var T=c[h],S=u?u(T):T;if(T=f||T!==0?T:0,x&&S===S){for(var A=y.length;A--;)if(y[A]===S)continue e;u&&y.push(S),b.push(T)}else p(y,S,f)||(y!==b&&y.push(S),b.push(T))}return b}return bS=a,bS}var wS,N$;function Sge(){if(N$)return wS;N$=1;var t=io(),e=_ge();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return wS=n,wS}var Pge=Sge();const I$=st(Pge);function wz(t,e,n){return e===!0?I$(t,n):qe(e)?I$(t,e):t}function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}var Tge=["ref"];function M$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M$(Object(n),!0).forEach(function(r){jy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_z(r.key),r)}}function Ege(t,e,n){return e&&D$(t.prototype,e),n&&D$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Age(t,e,n){return e=iv(e),Oge(t,xz()?Reflect.construct(e,n||[],iv(t).constructor):e.apply(t,n))}function Oge(t,e){if(e&&(mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kge(t)}function kge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xz=function(){return!!t})()}function iv(t){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iv(t)}function jge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VT(t,e)}function VT(t,e){return VT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VT(t,e)}function jy(t,e,n){return e=_z(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _z(t){var e=Rge(t,"string");return mu(e)=="symbol"?e:e+""}function Rge(t,e){if(mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nge(t,e){if(t==null)return{};var n=Ige(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ige(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mge(t){return t.value}function Dge(t,e){if(V.isValidElement(t))return V.cloneElement(t,e);if(typeof t=="function")return V.createElement(t,e);e.ref;var n=Nge(e,Tge);return V.createElement(UA,n)}var $$=1,ll=(function(t){function e(){var n;Cge(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Age(this,e,[].concat(i)),jy(n,"lastBoundingBox",{width:-1,height:-1}),n}return jge(e,t),Ege(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>$$||Math.abs(i.height-this.lastBoundingBox.height)>$$)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?yo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,c=i.margin,u=i.chartWidth,f=i.chartHeight,h,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var v=this.getBBoxSnapshot();h={left:((u||0)-v.width)/2}}else h=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var x=this.getBBoxSnapshot();p={top:((f||0)-x.height)/2}}else p=a==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return yo(yo({},h),p)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,h=yo(yo({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(c)),c);return V.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(v){r.wrapperNode=v}},Dge(o,yo(yo({},this.props),{},{payload:wz(f,u,Mge)})))}}],[{key:"getWithHeight",value:function(r,i){var o=yo(yo({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&de(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])})(C.PureComponent);jy(ll,"displayName","Legend");jy(ll,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var xS,L$;function $ge(){if(L$)return xS;L$=1;var t=Yh(),e=VA(),n=wr(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return xS=i,xS}var _S,F$;function Sz(){if(F$)return _S;F$=1;var t=dz(),e=$ge();function n(r,i,o,s,a){var c=-1,u=r.length;for(o||(o=e),a||(a=[]);++c<u;){var f=r[c];i>0&&o(f)?i>1?n(f,i-1,o,s,a):t(a,f):s||(a[a.length]=f)}return a}return _S=n,_S}var SS,B$;function Lge(){if(B$)return SS;B$=1;function t(e){return function(n,r,i){for(var o=-1,s=Object(n),a=i(n),c=a.length;c--;){var u=a[e?c:++o];if(r(s[u],u,s)===!1)break}return n}}return SS=t,SS}var PS,U$;function Fge(){if(U$)return PS;U$=1;var t=Lge(),e=t();return PS=e,PS}var TS,q$;function Pz(){if(q$)return TS;q$=1;var t=Fge(),e=ky();function n(r,i){return r&&t(r,i,e)}return TS=n,TS}var CS,V$;function Bge(){if(V$)return CS;V$=1;var t=Xh();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var s=i.length,a=r?s:-1,c=Object(i);(r?a--:++a<s)&&o(c[a],a,c)!==!1;);return i}}return CS=e,CS}var ES,W$;function GA(){if(W$)return ES;W$=1;var t=Pz(),e=Bge(),n=e(t);return ES=n,ES}var AS,z$;function Tz(){if(z$)return AS;z$=1;var t=GA(),e=Xh();function n(r,i){var o=-1,s=e(r)?Array(r.length):[];return t(r,function(a,c,u){s[++o]=i(a,c,u)}),s}return AS=n,AS}var OS,H$;function Uge(){if(H$)return OS;H$=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return OS=t,OS}var kS,G$;function qge(){if(G$)return kS;G$=1;var t=Ju();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,a=t(n),c=r!==void 0,u=r===null,f=r===r,h=t(r);if(!u&&!h&&!a&&n>r||a&&c&&f&&!u&&!h||o&&c&&f||!i&&f||!s)return 1;if(!o&&!a&&!h&&n<r||h&&i&&s&&!o&&!a||u&&i&&s||!c&&s||!f)return-1}return 0}return kS=e,kS}var jS,K$;function Vge(){if(K$)return jS;K$=1;var t=qge();function e(n,r,i){for(var o=-1,s=n.criteria,a=r.criteria,c=s.length,u=i.length;++o<c;){var f=t(s[o],a[o]);if(f){if(o>=u)return f;var h=i[o];return f*(h=="desc"?-1:1)}}return n.index-r.index}return jS=e,jS}var RS,Y$;function Wge(){if(Y$)return RS;Y$=1;var t=NA(),e=IA(),n=io(),r=Tz(),i=Uge(),o=hz(),s=Vge(),a=nd(),c=wr();function u(f,h,p){h.length?h=t(h,function(b){return c(b)?function(y){return e(y,b.length===1?b[0]:b)}:b}):h=[a];var v=-1;h=t(h,o(n));var x=r(f,function(b,y,_){var T=t(h,function(S){return S(b)});return{criteria:T,index:++v,value:b}});return i(x,function(b,y){return s(b,y,p)})}return RS=u,RS}var NS,X$;function zge(){if(X$)return NS;X$=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return NS=t,NS}var IS,Q$;function Hge(){if(Q$)return IS;Q$=1;var t=zge(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,a=-1,c=e(s.length-i,0),u=Array(c);++a<c;)u[a]=s[i+a];a=-1;for(var f=Array(i+1);++a<i;)f[a]=s[a];return f[i]=o(u),t(r,this,f)}}return IS=n,IS}var MS,J$;function Gge(){if(J$)return MS;J$=1;function t(e){return function(){return e}}return MS=t,MS}var DS,Z$;function Cz(){if(Z$)return DS;Z$=1;var t=Ol(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return DS=e,DS}var $S,eL;function Kge(){if(eL)return $S;eL=1;var t=Gge(),e=Cz(),n=nd(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return $S=r,$S}var LS,tL;function Yge(){if(tL)return LS;tL=1;var t=800,e=16,n=Date.now;function r(i){var o=0,s=0;return function(){var a=n(),c=e-(a-s);if(s=a,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return LS=r,LS}var FS,nL;function Xge(){if(nL)return FS;nL=1;var t=Kge(),e=Yge(),n=e(t);return FS=n,FS}var BS,rL;function Qge(){if(rL)return BS;rL=1;var t=nd(),e=Hge(),n=Xge();function r(i,o){return n(e(i,o,t),i+"")}return BS=r,BS}var US,iL;function Ry(){if(iL)return US;iL=1;var t=kA(),e=Xh(),n=WA(),r=na();function i(o,s,a){if(!r(a))return!1;var c=typeof s;return(c=="number"?e(a)&&n(s,a.length):c=="string"&&s in a)?t(a[s],o):!1}return US=i,US}var qS,oL;function Jge(){if(oL)return qS;oL=1;var t=Sz(),e=Wge(),n=Qge(),r=Ry(),i=n(function(o,s){if(o==null)return[];var a=s.length;return a>1&&r(o,s[0],s[1])?s=[]:a>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(o,t(s,1),[])});return qS=i,qS}var Zge=Jge();const KA=st(Zge);function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function WT(){return WT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WT.apply(this,arguments)}function eve(t,e){return ive(t)||rve(t,e)||nve(t,e)||tve()}function tve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nve(t,e){if(t){if(typeof t=="string")return sL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sL(t,e)}}function sL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function ive(t){if(Array.isArray(t))return t}function aL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(n),!0).forEach(function(r){ove(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ove(t,e,n){return e=sve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sve(t){var e=ave(t,"string");return Xf(e)=="symbol"?e:e+""}function ave(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lve(t){return Array.isArray(t)&&bn(t[0])&&bn(t[1])?t.join(" ~ "):t}var cve=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,c=e.labelStyle,u=c===void 0?{}:c,f=e.payload,h=e.formatter,p=e.itemSorter,v=e.wrapperClassName,x=e.labelClassName,b=e.label,y=e.labelFormatter,_=e.accessibilityLayer,T=_===void 0?!1:_,S=function(){if(f&&f.length){var B={padding:0,margin:0},q=(p?KA(f,p):f).map(function(Y,Q){if(Y.type==="none")return null;var K=VS({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},a),J=Y.formatter||h||lve,F=Y.value,G=Y.name,D=F,$=G;if(J&&D!=null&&$!=null){var z=J(F,G,Y,Q,f);if(Array.isArray(z)){var te=eve(z,2);D=te[0],$=te[1]}else D=z}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:K},bn($)?V.createElement("span",{className:"recharts-tooltip-item-name"},$):null,bn($)?V.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,V.createElement("span",{className:"recharts-tooltip-item-value"},D),V.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:B},q)}return null},A=VS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),P=VS({margin:0},u),O=!Ge(b),k=O?b:"",R=He("recharts-default-tooltip",v),I=He("recharts-tooltip-label",x);O&&y&&f!==void 0&&f!==null&&(k=y(b,f));var L=T?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",WT({className:R,style:A},L),V.createElement("p",{className:I,style:P},V.isValidElement(k)?k:"".concat(k)),S())};function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function Bm(t,e,n){return e=uve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uve(t){var e=dve(t,"string");return Qf(e)=="symbol"?e:e+""}function dve(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tf="recharts-tooltip-wrapper",fve={visibility:"hidden"};function hve(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return He(tf,Bm(Bm(Bm(Bm({},"".concat(tf,"-right"),de(n)&&e&&de(e.x)&&n>=e.x),"".concat(tf,"-left"),de(n)&&e&&de(e.x)&&n<e.x),"".concat(tf,"-bottom"),de(r)&&e&&de(e.y)&&r>=e.y),"".concat(tf,"-top"),de(r)&&e&&de(e.y)&&r<e.y))}function lL(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(o&&de(o[r]))return o[r];var f=n[r]-a-i,h=n[r]+i;if(e[r])return s[r]?f:h;if(s[r]){var p=f,v=c[r];return p<v?Math.max(h,c[r]):Math.max(f,c[r])}var x=h+a,b=c[r]+u;return x>b?Math.max(f,c[r]):Math.max(h,c[r])}function pve(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function mve(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,c=t.viewBox,u,f,h;return s.height>0&&s.width>0&&n?(f=lL({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),h=lL({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=pve({translateX:f,translateY:h,useTranslate3d:a})):u=fve,{cssProperties:u,cssClasses:hve({translateX:f,translateY:h,coordinate:n})}}function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function cL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(n),!0).forEach(function(r){HT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Az(r.key),r)}}function yve(t,e,n){return e&&vve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bve(t,e,n){return e=ov(e),wve(t,Ez()?Reflect.construct(e,n||[],ov(t).constructor):e.apply(t,n))}function wve(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xve(t)}function xve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ez(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ez=function(){return!!t})()}function ov(t){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ov(t)}function _ve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zT(t,e)}function zT(t,e){return zT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zT(t,e)}function HT(t,e,n){return e=Az(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Az(t){var e=Sve(t,"string");return gu(e)=="symbol"?e:e+""}function Sve(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dL=1,Pve=(function(t){function e(){var n;gve(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=bve(this,e,[].concat(i)),HT(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),HT(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,c,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&a!==void 0?a:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return _ve(e,t),yve(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>dL||Math.abs(r.height-this.state.lastBoundingBox.height)>dL)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,c=i.animationEasing,u=i.children,f=i.coordinate,h=i.hasPayload,p=i.isAnimationActive,v=i.offset,x=i.position,b=i.reverseDirection,y=i.useTranslate3d,_=i.viewBox,T=i.wrapperStyle,S=mve({allowEscapeViewBox:s,coordinate:f,offsetTopLeft:v,position:x,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:_}),A=S.cssClasses,P=S.cssProperties,O=uL(uL({transition:p&&o?"transform ".concat(a,"ms ").concat(c):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&h?"visible":"hidden",position:"absolute",top:0,left:0},T);return V.createElement("div",{tabIndex:-1,className:A,style:O,ref:function(R){r.wrapperNode=R}},u)}}])})(C.PureComponent),Tve=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},kl={isSsr:Tve()};function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function fL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(n),!0).forEach(function(r){YA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kz(r.key),r)}}function Ave(t,e,n){return e&&Eve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ove(t,e,n){return e=sv(e),kve(t,Oz()?Reflect.construct(e,n||[],sv(t).constructor):e.apply(t,n))}function kve(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jve(t)}function jve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oz=function(){return!!t})()}function sv(t){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sv(t)}function Rve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GT(t,e)}function GT(t,e){return GT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GT(t,e)}function YA(t,e,n){return e=kz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kz(t){var e=Nve(t,"string");return vu(e)=="symbol"?e:e+""}function Nve(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ive(t){return t.dataKey}function Mve(t,e){return V.isValidElement(t)?V.cloneElement(t,e):typeof t=="function"?V.createElement(t,e):V.createElement(cve,e)}var Si=(function(t){function e(){return Cve(this,e),Ove(this,e,arguments)}return Rve(e,t),Ave(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,c=i.animationEasing,u=i.content,f=i.coordinate,h=i.filterNull,p=i.isAnimationActive,v=i.offset,x=i.payload,b=i.payloadUniqBy,y=i.position,_=i.reverseDirection,T=i.useTranslate3d,S=i.viewBox,A=i.wrapperStyle,P=x??[];h&&P.length&&(P=wz(x.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),b,Ive));var O=P.length>0;return V.createElement(Pve,{allowEscapeViewBox:s,animationDuration:a,animationEasing:c,isAnimationActive:p,active:o,coordinate:f,hasPayload:O,offset:v,position:y,reverseDirection:_,useTranslate3d:T,viewBox:S,wrapperStyle:A},Mve(u,hL(hL({},this.props),{},{payload:P})))}}])})(C.PureComponent);YA(Si,"displayName","Tooltip");YA(Si,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!kl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var WS,pL;function Dve(){if(pL)return WS;pL=1;var t=ro(),e=function(){return t.Date.now()};return WS=e,WS}var zS,mL;function $ve(){if(mL)return zS;mL=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return zS=e,zS}var HS,gL;function Lve(){if(gL)return HS;gL=1;var t=$ve(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return HS=n,HS}var GS,vL;function jz(){if(vL)return GS;vL=1;var t=Lve(),e=na(),n=Ju(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=e(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var h=o.test(u);return h||s.test(u)?a(u.slice(2),h?2:8):i.test(u)?r:+u}return GS=c,GS}var KS,yL;function Fve(){if(yL)return KS;yL=1;var t=na(),e=Dve(),n=jz(),r="Expected a function",i=Math.max,o=Math.min;function s(a,c,u){var f,h,p,v,x,b,y=0,_=!1,T=!1,S=!0;if(typeof a!="function")throw new TypeError(r);c=n(c)||0,t(u)&&(_=!!u.leading,T="maxWait"in u,p=T?i(n(u.maxWait)||0,c):p,S="trailing"in u?!!u.trailing:S);function A(q){var Y=f,Q=h;return f=h=void 0,y=q,v=a.apply(Q,Y),v}function P(q){return y=q,x=setTimeout(R,c),_?A(q):v}function O(q){var Y=q-b,Q=q-y,K=c-Y;return T?o(K,p-Q):K}function k(q){var Y=q-b,Q=q-y;return b===void 0||Y>=c||Y<0||T&&Q>=p}function R(){var q=e();if(k(q))return I(q);x=setTimeout(R,O(q))}function I(q){return x=void 0,S&&f?A(q):(f=h=void 0,v)}function L(){x!==void 0&&clearTimeout(x),y=0,f=b=h=x=void 0}function M(){return x===void 0?v:I(e())}function B(){var q=e(),Y=k(q);if(f=arguments,h=this,b=q,Y){if(x===void 0)return P(b);if(T)return clearTimeout(x),x=setTimeout(R,c),A(b)}return x===void 0&&(x=setTimeout(R,c)),v}return B.cancel=L,B.flush=M,B}return KS=s,KS}var YS,bL;function Bve(){if(bL)return YS;bL=1;var t=Fve(),e=na(),n="Expected a function";function r(i,o,s){var a=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(a="leading"in s?!!s.leading:a,c="trailing"in s?!!s.trailing:c),t(i,o,{leading:a,maxWait:o,trailing:c})}return YS=r,YS}var Uve=Bve();const Rz=st(Uve);function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function wL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(n),!0).forEach(function(r){qve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qve(t,e,n){return e=Vve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vve(t){var e=Wve(t,"string");return Jf(e)=="symbol"?e:e+""}function Wve(t,e){if(Jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zve(t,e){return Yve(t)||Kve(t,e)||Gve(t,e)||Hve()}function Hve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gve(t,e){if(t){if(typeof t=="string")return xL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xL(t,e)}}function xL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Yve(t){if(Array.isArray(t))return t}var Nz=C.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,c=a===void 0?"100%":a,u=t.minWidth,f=u===void 0?0:u,h=t.minHeight,p=t.maxHeight,v=t.children,x=t.debounce,b=x===void 0?0:x,y=t.id,_=t.className,T=t.onResize,S=t.style,A=S===void 0?{}:S,P=C.useRef(null),O=C.useRef();O.current=T,C.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var k=C.useState({containerWidth:i.width,containerHeight:i.height}),R=zve(k,2),I=R[0],L=R[1],M=C.useCallback(function(q,Y){L(function(Q){var K=Math.round(q),J=Math.round(Y);return Q.containerWidth===K&&Q.containerHeight===J?Q:{containerWidth:K,containerHeight:J}})},[]);C.useEffect(function(){var q=function(G){var D,$=G[0].contentRect,z=$.width,te=$.height;M(z,te),(D=O.current)===null||D===void 0||D.call(O,z,te)};b>0&&(q=Rz(q,b,{trailing:!0,leading:!1}));var Y=new ResizeObserver(q),Q=P.current.getBoundingClientRect(),K=Q.width,J=Q.height;return M(K,J),Y.observe(P.current),function(){Y.disconnect()}},[M,b]);var B=C.useMemo(function(){var q=I.containerWidth,Y=I.containerHeight;if(q<0||Y<0)return null;Ei(qa(s)||qa(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Ei(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Q=qa(s)?q:s,K=qa(c)?Y:c;n&&n>0&&(Q?K=Q/n:K&&(Q=K*n),p&&K>p&&(K=p)),Ei(Q>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,K,s,c,f,h,n);var J=!Array.isArray(v)&&No(v.type).endsWith("Chart");return V.Children.map(v,function(F){return V.isValidElement(F)?C.cloneElement(F,Um({width:Q,height:K},J?{style:Um({height:"100%",width:"100%",maxHeight:K,maxWidth:Q},F.props.style)}:{})):F})},[n,v,c,p,h,f,I,s]);return V.createElement("div",{id:y?"".concat(y):void 0,className:He("recharts-responsive-container",_),style:Um(Um({},A),{},{width:s,height:c,minWidth:f,minHeight:h,maxHeight:p}),ref:P},B)}),Ny=function(e){return null};Ny.displayName="Cell";function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function _L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(n),!0).forEach(function(r){Xve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xve(t,e,n){return e=Qve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qve(t){var e=Jve(t,"string");return Zf(e)=="symbol"?e:e+""}function Jve(t,e){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gc={widthCache:{},cacheCount:0},Zve=2e3,eye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},SL="recharts_measurement_span";function tye(t){var e=KT({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Af=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||kl.isSsr)return{width:0,height:0};var r=tye(n),i=JSON.stringify({text:e,copyStyle:r});if(gc.widthCache[i])return gc.widthCache[i];try{var o=document.getElementById(SL);o||(o=document.createElement("span"),o.setAttribute("id",SL),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=KT(KT({},eye),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),c={width:a.width,height:a.height};return gc.widthCache[i]=c,++gc.cacheCount>Zve&&(gc.cacheCount=0,gc.widthCache={}),c}catch{return{width:0,height:0}}},nye=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function av(t,e){return sye(t)||oye(t,e)||iye(t,e)||rye()}function rye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iye(t,e){if(t){if(typeof t=="string")return PL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PL(t,e)}}function PL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function sye(t){if(Array.isArray(t))return t}function aye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cye(r.key),r)}}function lye(t,e,n){return e&&TL(t.prototype,e),n&&TL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cye(t){var e=uye(t,"string");return eh(e)=="symbol"?e:e+""}function uye(t,e){if(eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Iz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},hye=Object.keys(Iz),Ec="NaN";function pye(t,e){return t*Iz[e]}var qm=(function(){function t(e,n){aye(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!dye.test(n)&&(this.num=NaN,this.unit=""),hye.includes(n)&&(this.num=pye(e,n),this.unit="px")}return lye(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=fye.exec(n))!==null&&r!==void 0?r:[],o=av(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])})();function Mz(t){if(t.includes(Ec))return Ec;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=CL.exec(e))!==null&&n!==void 0?n:[],i=av(r,4),o=i[1],s=i[2],a=i[3],c=qm.parse(o??""),u=qm.parse(a??""),f=s==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Ec;e=e.replace(CL,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,p=(h=EL.exec(e))!==null&&h!==void 0?h:[],v=av(p,4),x=v[1],b=v[2],y=v[3],_=qm.parse(x??""),T=qm.parse(y??""),S=b==="+"?_.add(T):_.subtract(T);if(S.isNaN())return Ec;e=e.replace(EL,S.toString())}return e}var AL=/\(([^()]*)\)/;function mye(t){for(var e=t;e.includes("(");){var n=AL.exec(e),r=av(n,2),i=r[1];e=e.replace(AL,Mz(i))}return e}function gye(t){var e=t.replace(/\s+/g,"");return e=mye(e),e=Mz(e),e}function vye(t){try{return gye(t)}catch{return Ec}}function XS(t){var e=vye(t.slice(5,-1));return e===Ec?"":e}var yye=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],bye=["dx","dy","angle","className","breakAll"];function YT(){return YT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YT.apply(this,arguments)}function OL(t,e){if(t==null)return{};var n=wye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kL(t,e){return Pye(t)||Sye(t,e)||_ye(t,e)||xye()}function xye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ye(t,e){if(t){if(typeof t=="string")return jL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jL(t,e)}}function jL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Pye(t){if(Array.isArray(t))return t}var Dz=/[ \f\n\r\t\v\u2028\u2029]+/,$z=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ge(n)||(r?o=n.toString().split(""):o=n.toString().split(Dz));var s=o.map(function(c){return{word:c,width:Af(c,i).width}}),a=r?0:Af("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Tye=function(e,n,r,i,o){var s=e.maxLines,a=e.children,c=e.style,u=e.breakAll,f=de(s),h=a,p=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce(function(K,J){var F=J.word,G=J.width,D=K[K.length-1];if(D&&(i==null||o||D.width+G+r<Number(i)))D.words.push(F),D.width+=G+r;else{var $={words:[F],width:G};K.push($)}return K},[])},v=p(n),x=function(Q){return Q.reduce(function(K,J){return K.width>J.width?K:J})};if(!f)return v;for(var b="",y=function(Q){var K=h.slice(0,Q),J=$z({breakAll:u,style:c,children:K+b}).wordsWithComputedWidth,F=p(J),G=F.length>s||x(F).width>Number(i);return[G,F]},_=0,T=h.length-1,S=0,A;_<=T&&S<=h.length-1;){var P=Math.floor((_+T)/2),O=P-1,k=y(O),R=kL(k,2),I=R[0],L=R[1],M=y(P),B=kL(M,1),q=B[0];if(!I&&!q&&(_=P+1),I&&q&&(T=P-1),!I&&q){A=L;break}S++}return A||v},RL=function(e){var n=Ge(e)?[]:e.toString().split(Dz);return[{words:n}]},Cye=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!kl.isSsr){var c,u,f=$z({breakAll:s,children:i,style:o});if(f){var h=f.wordsWithComputedWidth,p=f.spaceWidth;c=h,u=p}else return RL(i);return Tye({breakAll:s,children:i,maxLines:a,style:o},c,u,n,r)}return RL(i)},NL="#808080",wl=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,c=e.capHeight,u=c===void 0?"0.71em":c,f=e.scaleToFit,h=f===void 0?!1:f,p=e.textAnchor,v=p===void 0?"start":p,x=e.verticalAnchor,b=x===void 0?"end":x,y=e.fill,_=y===void 0?NL:y,T=OL(e,yye),S=C.useMemo(function(){return Cye({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:h,style:T.style,width:T.width})},[T.breakAll,T.children,T.maxLines,h,T.style,T.width]),A=T.dx,P=T.dy,O=T.angle,k=T.className,R=T.breakAll,I=OL(T,bye);if(!bn(r)||!bn(o))return null;var L=r+(de(A)?A:0),M=o+(de(P)?P:0),B;switch(b){case"start":B=XS("calc(".concat(u,")"));break;case"middle":B=XS("calc(".concat((S.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:B=XS("calc(".concat(S.length-1," * -").concat(a,")"));break}var q=[];if(h){var Y=S[0].width,Q=T.width;q.push("scale(".concat((de(Q)?Q/Y:1)/Y,")"))}return O&&q.push("rotate(".concat(O,", ").concat(L,", ").concat(M,")")),q.length&&(I.transform=q.join(" ")),V.createElement("text",YT({},Me(I,!0),{x:L,y:M,className:He("recharts-text",k),textAnchor:v,fill:_.includes("url")?NL:_}),S.map(function(K,J){var F=K.words.join(R?"":" ");return V.createElement("tspan",{x:L,dy:J===0?B:a,key:"".concat(F,"-").concat(J)},F)}))};function zs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Eye(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function XA(t){let e,n,r;t.length!==2?(e=zs,n=(a,c)=>zs(t(a),c),r=(a,c)=>t(a)-c):(e=t===zs||t===Eye?t:Aye,n=t,r=t);function i(a,c,u=0,f=a.length){if(u<f){if(e(c,c)!==0)return f;do{const h=u+f>>>1;n(a[h],c)<0?u=h+1:f=h}while(u<f)}return u}function o(a,c,u=0,f=a.length){if(u<f){if(e(c,c)!==0)return f;do{const h=u+f>>>1;n(a[h],c)<=0?u=h+1:f=h}while(u<f)}return u}function s(a,c,u=0,f=a.length){const h=i(a,c,u,f-1);return h>u&&r(a[h-1],c)>-r(a[h],c)?h-1:h}return{left:i,center:s,right:o}}function Aye(){return 0}function Lz(t){return t===null?NaN:+t}function*Oye(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const kye=XA(zs),Qh=kye.right;XA(Lz).center;class IL extends Map{constructor(e,n=Nye){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ML(this,e))}has(e){return super.has(ML(this,e))}set(e,n){return super.set(jye(this,e),n)}delete(e){return super.delete(Rye(this,e))}}function ML({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function jye({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Rye({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Nye(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Iye(t=zs){if(t===zs)return Fz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Fz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Mye=Math.sqrt(50),Dye=Math.sqrt(10),$ye=Math.sqrt(2);function lv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Mye?10:o>=Dye?5:o>=$ye?2:1;let a,c,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),c=Math.round(e*u),a/u<t&&++a,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),c=Math.round(e/u),a*u<t&&++a,c*u>e&&--c),c<a&&.5<=n&&n<2?lv(t,e,n*2):[a,c,u]}function XT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?lv(e,t,n):lv(t,e,n);if(!(o>=i))return[];const a=o-i+1,c=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)c[u]=(o-u)/-s;else for(let u=0;u<a;++u)c[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)c[u]=(i+u)/-s;else for(let u=0;u<a;++u)c[u]=(i+u)*s;return c}function QT(t,e,n){return e=+e,t=+t,n=+n,lv(t,e,n)[2]}function JT(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?QT(e,t,n):QT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function DL(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function $L(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Bz(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Fz:Iye(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,f=Math.log(c),h=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*h*(c-h)/c)*(u-c/2<0?-1:1),v=Math.max(n,Math.floor(e-u*h/c+p)),x=Math.min(r,Math.floor(e+(c-u)*h/c+p));Bz(t,e,v,x,i)}const o=t[e];let s=n,a=r;for(nf(t,n,e),i(t[r],o)>0&&nf(t,n,r);s<a;){for(nf(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?nf(t,n,a):(++a,nf(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function nf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Lye(t,e,n){if(t=Float64Array.from(Oye(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return $L(t);if(e>=1)return DL(t);var r,i=(r-1)*e,o=Math.floor(i),s=DL(Bz(t,o).subarray(0,o+1)),a=$L(t.subarray(o+1));return s+(a-s)*(i-o)}}function Fye(t,e,n=Lz){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function Bye(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ii(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Zo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ZT=Symbol("implicit");function QA(){var t=new IL,e=[],n=[],r=ZT;function i(o){let s=t.get(o);if(s===void 0){if(r!==ZT)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new IL;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return QA(e,n).unknown(r)},ii.apply(i,arguments),i}function th(){var t=QA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,c=0,u=0,f=.5;delete t.unknown;function h(){var p=e().length,v=i<r,x=v?i:r,b=v?r:i;o=(b-x)/Math.max(1,p-c+u*2),a&&(o=Math.floor(o)),x+=(b-x-o*(p-c))*f,s=o*(1-c),a&&(x=Math.round(x),s=Math.round(s));var y=Bye(p).map(function(_){return x+o*_});return n(v?y.reverse():y)}return t.domain=function(p){return arguments.length?(e(p),h()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,a=!0,h()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(p){return arguments.length?(a=!!p,h()):a},t.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),h()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),h()):c},t.paddingOuter=function(p){return arguments.length?(u=+p,h()):u},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),h()):f},t.copy=function(){return th(e(),[r,i]).round(a).paddingInner(c).paddingOuter(u).align(f)},ii.apply(h(),arguments)}function Uz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Uz(e())},t}function Of(){return Uz(th.apply(null,arguments).paddingInner(1))}function JA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function qz(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Jh(){}var nh=.7,cv=1/nh,Fc="\\s*([+-]?\\d+)\\s*",rh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uye=/^#([0-9a-f]{3,8})$/,qye=new RegExp(`^rgb\\(${Fc},${Fc},${Fc}\\)$`),Vye=new RegExp(`^rgb\\(${Qi},${Qi},${Qi}\\)$`),Wye=new RegExp(`^rgba\\(${Fc},${Fc},${Fc},${rh}\\)$`),zye=new RegExp(`^rgba\\(${Qi},${Qi},${Qi},${rh}\\)$`),Hye=new RegExp(`^hsl\\(${rh},${Qi},${Qi}\\)$`),Gye=new RegExp(`^hsla\\(${rh},${Qi},${Qi},${rh}\\)$`),LL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};JA(Jh,ih,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:FL,formatHex:FL,formatHex8:Kye,formatHsl:Yye,formatRgb:BL,toString:BL});function FL(){return this.rgb().formatHex()}function Kye(){return this.rgb().formatHex8()}function Yye(){return Vz(this).formatHsl()}function BL(){return this.rgb().formatRgb()}function ih(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Uye.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?UL(e):n===3?new br(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Vm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Vm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=qye.exec(t))?new br(e[1],e[2],e[3],1):(e=Vye.exec(t))?new br(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Wye.exec(t))?Vm(e[1],e[2],e[3],e[4]):(e=zye.exec(t))?Vm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Hye.exec(t))?WL(e[1],e[2]/100,e[3]/100,1):(e=Gye.exec(t))?WL(e[1],e[2]/100,e[3]/100,e[4]):LL.hasOwnProperty(t)?UL(LL[t]):t==="transparent"?new br(NaN,NaN,NaN,0):null}function UL(t){return new br(t>>16&255,t>>8&255,t&255,1)}function Vm(t,e,n,r){return r<=0&&(t=e=n=NaN),new br(t,e,n,r)}function Xye(t){return t instanceof Jh||(t=ih(t)),t?(t=t.rgb(),new br(t.r,t.g,t.b,t.opacity)):new br}function eC(t,e,n,r){return arguments.length===1?Xye(t):new br(t,e,n,r??1)}function br(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}JA(br,eC,qz(Jh,{brighter(t){return t=t==null?cv:Math.pow(cv,t),new br(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?nh:Math.pow(nh,t),new br(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new br(cl(this.r),cl(this.g),cl(this.b),uv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qL,formatHex:qL,formatHex8:Qye,formatRgb:VL,toString:VL}));function qL(){return`#${Va(this.r)}${Va(this.g)}${Va(this.b)}`}function Qye(){return`#${Va(this.r)}${Va(this.g)}${Va(this.b)}${Va((isNaN(this.opacity)?1:this.opacity)*255)}`}function VL(){const t=uv(this.opacity);return`${t===1?"rgb(":"rgba("}${cl(this.r)}, ${cl(this.g)}, ${cl(this.b)}${t===1?")":`, ${t})`}`}function uv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function cl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Va(t){return t=cl(t),(t<16?"0":"")+t.toString(16)}function WL(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ti(t,e,n,r)}function Vz(t){if(t instanceof Ti)return new Ti(t.h,t.s,t.l,t.opacity);if(t instanceof Jh||(t=ih(t)),!t)return new Ti;if(t instanceof Ti)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,c=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new Ti(s,a,c,t.opacity)}function Jye(t,e,n,r){return arguments.length===1?Vz(t):new Ti(t,e,n,r??1)}function Ti(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}JA(Ti,Jye,qz(Jh,{brighter(t){return t=t==null?cv:Math.pow(cv,t),new Ti(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?nh:Math.pow(nh,t),new Ti(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new br(QS(t>=240?t-240:t+120,i,r),QS(t,i,r),QS(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ti(zL(this.h),Wm(this.s),Wm(this.l),uv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=uv(this.opacity);return`${t===1?"hsl(":"hsla("}${zL(this.h)}, ${Wm(this.s)*100}%, ${Wm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function zL(t){return t=(t||0)%360,t<0?t+360:t}function Wm(t){return Math.max(0,Math.min(1,t||0))}function QS(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ZA=t=>()=>t;function Zye(t,e){return function(n){return t+n*e}}function e0e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function t0e(t){return(t=+t)==1?Wz:function(e,n){return n-e?e0e(e,n,t):ZA(isNaN(e)?n:e)}}function Wz(t,e){var n=e-t;return n?Zye(t,n):ZA(isNaN(t)?e:t)}const HL=(function t(e){var n=t0e(e);function r(i,o){var s=n((i=eC(i)).r,(o=eC(o)).r),a=n(i.g,o.g),c=n(i.b,o.b),u=Wz(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=a(f),i.b=c(f),i.opacity=u(f),i+""}}return r.gamma=t,r})(1);function n0e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function r0e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function i0e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=rd(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function o0e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function dv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function s0e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=rd(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var tC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,JS=new RegExp(tC.source,"g");function a0e(t){return function(){return t}}function l0e(t){return function(e){return t(e)+""}}function c0e(t,e){var n=tC.lastIndex=JS.lastIndex=0,r,i,o,s=-1,a=[],c=[];for(t=t+"",e=e+"";(r=tC.exec(t))&&(i=JS.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:dv(r,i)})),n=JS.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?l0e(c[0].x):a0e(e):(e=c.length,function(u){for(var f=0,h;f<e;++f)a[(h=c[f]).i]=h.x(u);return a.join("")})}function rd(t,e){var n=typeof e,r;return e==null||n==="boolean"?ZA(e):(n==="number"?dv:n==="string"?(r=ih(e))?(e=r,HL):c0e:e instanceof ih?HL:e instanceof Date?o0e:r0e(e)?n0e:Array.isArray(e)?i0e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?s0e:dv)(t,e)}function eO(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function u0e(t,e){e===void 0&&(e=t,t=rd);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function d0e(t){return function(){return t}}function fv(t){return+t}var GL=[0,1];function rr(t){return t}function nC(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:d0e(isNaN(e)?NaN:.5)}function f0e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function h0e(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=nC(i,r),o=n(s,o)):(r=nC(r,i),o=n(o,s)),function(a){return o(r(a))}}function p0e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=nC(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var c=Qh(t,a,1,r)-1;return o[c](i[c](a))}}function Zh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Iy(){var t=GL,e=GL,n=rd,r,i,o,s=rr,a,c,u;function f(){var p=Math.min(t.length,e.length);return s!==rr&&(s=f0e(t[0],t[p-1])),a=p>2?p0e:h0e,c=u=null,h}function h(p){return p==null||isNaN(p=+p)?o:(c||(c=a(t.map(r),e,n)))(r(s(p)))}return h.invert=function(p){return s(i((u||(u=a(e,t.map(r),dv)))(p)))},h.domain=function(p){return arguments.length?(t=Array.from(p,fv),f()):t.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),n=eO,f()},h.clamp=function(p){return arguments.length?(s=p?!0:rr,f()):s!==rr},h.interpolate=function(p){return arguments.length?(n=p,f()):n},h.unknown=function(p){return arguments.length?(o=p,h):o},function(p,v){return r=p,i=v,f()}}function tO(){return Iy()(rr,rr)}function m0e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function yu(t){return t=hv(Math.abs(t)),t?t[1]:NaN}function g0e(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function v0e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var y0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oh(t){if(!(e=y0e.exec(t)))throw new Error("invalid format: "+t);var e;return new nO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}oh.prototype=nO.prototype;function nO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}nO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function b0e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var zz;function w0e(t,e){var n=hv(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(zz=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+hv(t,Math.max(0,e+o-1))[0]}function KL(t,e){var n=hv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const YL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:m0e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>KL(t*100,e),r:KL,s:w0e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function XL(t){return t}var QL=Array.prototype.map,JL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function x0e(t){var e=t.grouping===void 0||t.thousands===void 0?XL:g0e(QL.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?XL:v0e(QL.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=oh(h);var p=h.fill,v=h.align,x=h.sign,b=h.symbol,y=h.zero,_=h.width,T=h.comma,S=h.precision,A=h.trim,P=h.type;P==="n"?(T=!0,P="g"):YL[P]||(S===void 0&&(S=12),A=!0,P="g"),(y||p==="0"&&v==="=")&&(y=!0,p="0",v="=");var O=b==="$"?n:b==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",k=b==="$"?r:/[%p]/.test(P)?s:"",R=YL[P],I=/[defgprs%]/.test(P);S=S===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function L(M){var B=O,q=k,Y,Q,K;if(P==="c")q=R(M)+q,M="";else{M=+M;var J=M<0||1/M<0;if(M=isNaN(M)?c:R(Math.abs(M),S),A&&(M=b0e(M)),J&&+M==0&&x!=="+"&&(J=!1),B=(J?x==="("?x:a:x==="-"||x==="("?"":x)+B,q=(P==="s"?JL[8+zz/3]:"")+q+(J&&x==="("?")":""),I){for(Y=-1,Q=M.length;++Y<Q;)if(K=M.charCodeAt(Y),48>K||K>57){q=(K===46?i+M.slice(Y+1):M.slice(Y))+q,M=M.slice(0,Y);break}}}T&&!y&&(M=e(M,1/0));var F=B.length+M.length+q.length,G=F<_?new Array(_-F+1).join(p):"";switch(T&&y&&(M=e(G+M,G.length?_-q.length:1/0),G=""),v){case"<":M=B+M+q+G;break;case"=":M=B+G+M+q;break;case"^":M=G.slice(0,F=G.length>>1)+B+M+q+G.slice(F);break;default:M=G+B+M+q;break}return o(M)}return L.toString=function(){return h+""},L}function f(h,p){var v=u((h=oh(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(yu(p)/3)))*3,b=Math.pow(10,-x),y=JL[8+x/3];return function(_){return v(b*_)+y}}return{format:u,formatPrefix:f}}var zm,rO,Hz;_0e({thousands:",",grouping:[3],currency:["$",""]});function _0e(t){return zm=x0e(t),rO=zm.format,Hz=zm.formatPrefix,zm}function S0e(t){return Math.max(0,-yu(Math.abs(t)))}function P0e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yu(e)/3)))*3-yu(Math.abs(t)))}function T0e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,yu(e)-yu(t))+1}function Gz(t,e,n,r){var i=JT(t,e,n),o;switch(r=oh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=P0e(i,s))&&(r.precision=o),Hz(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=T0e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=S0e(i))&&(r.precision=o-(r.type==="%")*2);break}}return rO(r)}function ra(t){var e=t.domain;return t.ticks=function(n){var r=e();return XT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Gz(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],c,u,f=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);f-- >0;){if(u=QT(s,a,n),u===c)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;c=u}return t},t}function pv(){var t=tO();return t.copy=function(){return Zh(t,pv())},ii.apply(t,arguments),ra(t)}function Kz(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,fv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Kz(t).unknown(e)},t=arguments.length?Array.from(t,fv):[0,1],ra(n)}function Yz(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function ZL(t){return Math.log(t)}function e3(t){return Math.exp(t)}function C0e(t){return-Math.log(-t)}function E0e(t){return-Math.exp(-t)}function A0e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function O0e(t){return t===10?A0e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function k0e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function t3(t){return(e,n)=>-t(-e,n)}function iO(t){const e=t(ZL,e3),n=e.domain;let r=10,i,o;function s(){return i=k0e(r),o=O0e(r),n()[0]<0?(i=t3(i),o=t3(o),t(C0e,E0e)):t(ZL,e3),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const c=n();let u=c[0],f=c[c.length-1];const h=f<u;h&&([u,f]=[f,u]);let p=i(u),v=i(f),x,b;const y=a==null?10:+a;let _=[];if(!(r%1)&&v-p<y){if(p=Math.floor(p),v=Math.ceil(v),u>0){for(;p<=v;++p)for(x=1;x<r;++x)if(b=p<0?x/o(-p):x*o(p),!(b<u)){if(b>f)break;_.push(b)}}else for(;p<=v;++p)for(x=r-1;x>=1;--x)if(b=p>0?x/o(-p):x*o(p),!(b<u)){if(b>f)break;_.push(b)}_.length*2<y&&(_=XT(u,f,y))}else _=XT(p,v,Math.min(v-p,y)).map(o);return h?_.reverse():_},e.tickFormat=(a,c)=>{if(a==null&&(a=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=oh(c)).precision==null&&(c.trim=!0),c=rO(c)),a===1/0)return c;const u=Math.max(1,r*a/e.ticks().length);return f=>{let h=f/o(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=u?c(f):""}},e.nice=()=>n(Yz(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function Xz(){const t=iO(Iy()).domain([1,10]);return t.copy=()=>Zh(t,Xz()).base(t.base()),ii.apply(t,arguments),t}function n3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function r3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function oO(t){var e=1,n=t(n3(e),r3(e));return n.constant=function(r){return arguments.length?t(n3(e=+r),r3(e)):e},ra(n)}function Qz(){var t=oO(Iy());return t.copy=function(){return Zh(t,Qz()).constant(t.constant())},ii.apply(t,arguments)}function i3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function j0e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function R0e(t){return t<0?-t*t:t*t}function sO(t){var e=t(rr,rr),n=1;function r(){return n===1?t(rr,rr):n===.5?t(j0e,R0e):t(i3(n),i3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ra(e)}function aO(){var t=sO(Iy());return t.copy=function(){return Zh(t,aO()).exponent(t.exponent())},ii.apply(t,arguments),t}function N0e(){return aO.apply(null,arguments).exponent(.5)}function o3(t){return Math.sign(t)*t*t}function I0e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Jz(){var t=tO(),e=[0,1],n=!1,r;function i(o){var s=I0e(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(o3(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,fv)).map(o3)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Jz(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ii.apply(i,arguments),ra(i)}function Zz(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=Fye(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Qh(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(zs),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Zz().domain(t).range(e).unknown(r)},ii.apply(o,arguments)}function e8(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[Qh(r,c,0,n)]:o}function a(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,a()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,a()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return e8().domain([t,e]).range(i).unknown(o)},ii.apply(ra(s),arguments)}function t8(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Qh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return t8().domain(t).range(e).unknown(n)},ii.apply(i,arguments)}const ZS=new Date,e1=new Date;function wn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const c=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return c;let u;do c.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return c},i.filter=o=>wn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(ZS.setTime(+o),e1.setTime(+s),t(ZS),t(e1),Math.floor(n(ZS,e1))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const mv=wn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);mv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?wn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):mv);mv.range;const Ao=1e3,Jr=Ao*60,Oo=Jr*60,Wo=Oo*24,lO=Wo*7,s3=Wo*30,t1=Wo*365,Wa=wn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ao)},(t,e)=>(e-t)/Ao,t=>t.getUTCSeconds());Wa.range;const cO=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ao)},(t,e)=>{t.setTime(+t+e*Jr)},(t,e)=>(e-t)/Jr,t=>t.getMinutes());cO.range;const uO=wn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Jr)},(t,e)=>(e-t)/Jr,t=>t.getUTCMinutes());uO.range;const dO=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ao-t.getMinutes()*Jr)},(t,e)=>{t.setTime(+t+e*Oo)},(t,e)=>(e-t)/Oo,t=>t.getHours());dO.range;const fO=wn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Oo)},(t,e)=>(e-t)/Oo,t=>t.getUTCHours());fO.range;const ep=wn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Jr)/Wo,t=>t.getDate()-1);ep.range;const My=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wo,t=>t.getUTCDate()-1);My.range;const n8=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wo,t=>Math.floor(t/Wo));n8.range;function jl(t){return wn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Jr)/lO)}const Dy=jl(0),gv=jl(1),M0e=jl(2),D0e=jl(3),bu=jl(4),$0e=jl(5),L0e=jl(6);Dy.range;gv.range;M0e.range;D0e.range;bu.range;$0e.range;L0e.range;function Rl(t){return wn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/lO)}const $y=Rl(0),vv=Rl(1),F0e=Rl(2),B0e=Rl(3),wu=Rl(4),U0e=Rl(5),q0e=Rl(6);$y.range;vv.range;F0e.range;B0e.range;wu.range;U0e.range;q0e.range;const hO=wn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());hO.range;const pO=wn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());pO.range;const zo=wn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());zo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});zo.range;const Ho=wn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ho.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ho.range;function r8(t,e,n,r,i,o){const s=[[Wa,1,Ao],[Wa,5,5*Ao],[Wa,15,15*Ao],[Wa,30,30*Ao],[o,1,Jr],[o,5,5*Jr],[o,15,15*Jr],[o,30,30*Jr],[i,1,Oo],[i,3,3*Oo],[i,6,6*Oo],[i,12,12*Oo],[r,1,Wo],[r,2,2*Wo],[n,1,lO],[e,1,s3],[e,3,3*s3],[t,1,t1]];function a(u,f,h){const p=f<u;p&&([u,f]=[f,u]);const v=h&&typeof h.range=="function"?h:c(u,f,h),x=v?v.range(u,+f+1):[];return p?x.reverse():x}function c(u,f,h){const p=Math.abs(f-u)/h,v=XA(([,,y])=>y).right(s,p);if(v===s.length)return t.every(JT(u/t1,f/t1,h));if(v===0)return mv.every(Math.max(JT(u,f,h),1));const[x,b]=s[p/s[v-1][2]<s[v][2]/p?v-1:v];return x.every(b)}return[a,c]}const[V0e,W0e]=r8(Ho,pO,$y,n8,fO,uO),[z0e,H0e]=r8(zo,hO,Dy,ep,dO,cO);function n1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function rf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function G0e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,c=t.shortMonths,u=of(i),f=sf(i),h=of(o),p=sf(o),v=of(s),x=sf(s),b=of(a),y=sf(a),_=of(c),T=sf(c),S={a:J,A:F,b:G,B:D,c:null,d:f3,e:f3,f:gbe,g:Cbe,G:Abe,H:hbe,I:pbe,j:mbe,L:i8,m:vbe,M:ybe,p:$,q:z,Q:m3,s:g3,S:bbe,u:wbe,U:xbe,V:_be,w:Sbe,W:Pbe,x:null,X:null,y:Tbe,Y:Ebe,Z:Obe,"%":p3},A={a:te,A:ue,b:ye,B:Oe,c:null,d:h3,e:h3,f:Nbe,g:Vbe,G:zbe,H:kbe,I:jbe,j:Rbe,L:s8,m:Ibe,M:Mbe,p:se,q:pe,Q:m3,s:g3,S:Dbe,u:$be,U:Lbe,V:Fbe,w:Bbe,W:Ube,x:null,X:null,y:qbe,Y:Wbe,Z:Hbe,"%":p3},P={a:L,A:M,b:B,B:q,c:Y,d:u3,e:u3,f:cbe,g:c3,G:l3,H:d3,I:d3,j:obe,L:lbe,m:ibe,M:sbe,p:I,q:rbe,Q:dbe,s:fbe,S:abe,u:J0e,U:Z0e,V:ebe,w:Q0e,W:tbe,x:Q,X:K,y:c3,Y:l3,Z:nbe,"%":ube};S.x=O(n,S),S.X=O(r,S),S.c=O(e,S),A.x=O(n,A),A.X=O(r,A),A.c=O(e,A);function O(oe,fe){return function(ve){var re=[],ze=-1,Le=0,ct=oe.length,ut,Pt,Kn;for(ve instanceof Date||(ve=new Date(+ve));++ze<ct;)oe.charCodeAt(ze)===37&&(re.push(oe.slice(Le,ze)),(Pt=a3[ut=oe.charAt(++ze)])!=null?ut=oe.charAt(++ze):Pt=ut==="e"?" ":"0",(Kn=fe[ut])&&(ut=Kn(ve,Pt)),re.push(ut),Le=ze+1);return re.push(oe.slice(Le,ze)),re.join("")}}function k(oe,fe){return function(ve){var re=rf(1900,void 0,1),ze=R(re,oe,ve+="",0),Le,ct;if(ze!=ve.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(fe&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Le=r1(rf(re.y,0,1)),ct=Le.getUTCDay(),Le=ct>4||ct===0?vv.ceil(Le):vv(Le),Le=My.offset(Le,(re.V-1)*7),re.y=Le.getUTCFullYear(),re.m=Le.getUTCMonth(),re.d=Le.getUTCDate()+(re.w+6)%7):(Le=n1(rf(re.y,0,1)),ct=Le.getDay(),Le=ct>4||ct===0?gv.ceil(Le):gv(Le),Le=ep.offset(Le,(re.V-1)*7),re.y=Le.getFullYear(),re.m=Le.getMonth(),re.d=Le.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),ct="Z"in re?r1(rf(re.y,0,1)).getUTCDay():n1(rf(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(ct+5)%7:re.w+re.U*7-(ct+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,r1(re)):n1(re)}}function R(oe,fe,ve,re){for(var ze=0,Le=fe.length,ct=ve.length,ut,Pt;ze<Le;){if(re>=ct)return-1;if(ut=fe.charCodeAt(ze++),ut===37){if(ut=fe.charAt(ze++),Pt=P[ut in a3?fe.charAt(ze++):ut],!Pt||(re=Pt(oe,ve,re))<0)return-1}else if(ut!=ve.charCodeAt(re++))return-1}return re}function I(oe,fe,ve){var re=u.exec(fe.slice(ve));return re?(oe.p=f.get(re[0].toLowerCase()),ve+re[0].length):-1}function L(oe,fe,ve){var re=v.exec(fe.slice(ve));return re?(oe.w=x.get(re[0].toLowerCase()),ve+re[0].length):-1}function M(oe,fe,ve){var re=h.exec(fe.slice(ve));return re?(oe.w=p.get(re[0].toLowerCase()),ve+re[0].length):-1}function B(oe,fe,ve){var re=_.exec(fe.slice(ve));return re?(oe.m=T.get(re[0].toLowerCase()),ve+re[0].length):-1}function q(oe,fe,ve){var re=b.exec(fe.slice(ve));return re?(oe.m=y.get(re[0].toLowerCase()),ve+re[0].length):-1}function Y(oe,fe,ve){return R(oe,e,fe,ve)}function Q(oe,fe,ve){return R(oe,n,fe,ve)}function K(oe,fe,ve){return R(oe,r,fe,ve)}function J(oe){return s[oe.getDay()]}function F(oe){return o[oe.getDay()]}function G(oe){return c[oe.getMonth()]}function D(oe){return a[oe.getMonth()]}function $(oe){return i[+(oe.getHours()>=12)]}function z(oe){return 1+~~(oe.getMonth()/3)}function te(oe){return s[oe.getUTCDay()]}function ue(oe){return o[oe.getUTCDay()]}function ye(oe){return c[oe.getUTCMonth()]}function Oe(oe){return a[oe.getUTCMonth()]}function se(oe){return i[+(oe.getUTCHours()>=12)]}function pe(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var fe=O(oe+="",S);return fe.toString=function(){return oe},fe},parse:function(oe){var fe=k(oe+="",!1);return fe.toString=function(){return oe},fe},utcFormat:function(oe){var fe=O(oe+="",A);return fe.toString=function(){return oe},fe},utcParse:function(oe){var fe=k(oe+="",!0);return fe.toString=function(){return oe},fe}}}var a3={"-":"",_:" ",0:"0"},An=/^\s*\d+/,K0e=/^%/,Y0e=/[\\^$*+?|[\]().{}]/g;function lt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function X0e(t){return t.replace(Y0e,"\\$&")}function of(t){return new RegExp("^(?:"+t.map(X0e).join("|")+")","i")}function sf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Q0e(t,e,n){var r=An.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function J0e(t,e,n){var r=An.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Z0e(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ebe(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function tbe(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function l3(t,e,n){var r=An.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function c3(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function nbe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function rbe(t,e,n){var r=An.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ibe(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function u3(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function obe(t,e,n){var r=An.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function d3(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function sbe(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function abe(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function lbe(t,e,n){var r=An.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function cbe(t,e,n){var r=An.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ube(t,e,n){var r=K0e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function dbe(t,e,n){var r=An.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function fbe(t,e,n){var r=An.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function f3(t,e){return lt(t.getDate(),e,2)}function hbe(t,e){return lt(t.getHours(),e,2)}function pbe(t,e){return lt(t.getHours()%12||12,e,2)}function mbe(t,e){return lt(1+ep.count(zo(t),t),e,3)}function i8(t,e){return lt(t.getMilliseconds(),e,3)}function gbe(t,e){return i8(t,e)+"000"}function vbe(t,e){return lt(t.getMonth()+1,e,2)}function ybe(t,e){return lt(t.getMinutes(),e,2)}function bbe(t,e){return lt(t.getSeconds(),e,2)}function wbe(t){var e=t.getDay();return e===0?7:e}function xbe(t,e){return lt(Dy.count(zo(t)-1,t),e,2)}function o8(t){var e=t.getDay();return e>=4||e===0?bu(t):bu.ceil(t)}function _be(t,e){return t=o8(t),lt(bu.count(zo(t),t)+(zo(t).getDay()===4),e,2)}function Sbe(t){return t.getDay()}function Pbe(t,e){return lt(gv.count(zo(t)-1,t),e,2)}function Tbe(t,e){return lt(t.getFullYear()%100,e,2)}function Cbe(t,e){return t=o8(t),lt(t.getFullYear()%100,e,2)}function Ebe(t,e){return lt(t.getFullYear()%1e4,e,4)}function Abe(t,e){var n=t.getDay();return t=n>=4||n===0?bu(t):bu.ceil(t),lt(t.getFullYear()%1e4,e,4)}function Obe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+lt(e/60|0,"0",2)+lt(e%60,"0",2)}function h3(t,e){return lt(t.getUTCDate(),e,2)}function kbe(t,e){return lt(t.getUTCHours(),e,2)}function jbe(t,e){return lt(t.getUTCHours()%12||12,e,2)}function Rbe(t,e){return lt(1+My.count(Ho(t),t),e,3)}function s8(t,e){return lt(t.getUTCMilliseconds(),e,3)}function Nbe(t,e){return s8(t,e)+"000"}function Ibe(t,e){return lt(t.getUTCMonth()+1,e,2)}function Mbe(t,e){return lt(t.getUTCMinutes(),e,2)}function Dbe(t,e){return lt(t.getUTCSeconds(),e,2)}function $be(t){var e=t.getUTCDay();return e===0?7:e}function Lbe(t,e){return lt($y.count(Ho(t)-1,t),e,2)}function a8(t){var e=t.getUTCDay();return e>=4||e===0?wu(t):wu.ceil(t)}function Fbe(t,e){return t=a8(t),lt(wu.count(Ho(t),t)+(Ho(t).getUTCDay()===4),e,2)}function Bbe(t){return t.getUTCDay()}function Ube(t,e){return lt(vv.count(Ho(t)-1,t),e,2)}function qbe(t,e){return lt(t.getUTCFullYear()%100,e,2)}function Vbe(t,e){return t=a8(t),lt(t.getUTCFullYear()%100,e,2)}function Wbe(t,e){return lt(t.getUTCFullYear()%1e4,e,4)}function zbe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?wu(t):wu.ceil(t),lt(t.getUTCFullYear()%1e4,e,4)}function Hbe(){return"+0000"}function p3(){return"%"}function m3(t){return+t}function g3(t){return Math.floor(+t/1e3)}var vc,l8,c8;Gbe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Gbe(t){return vc=G0e(t),l8=vc.format,vc.parse,c8=vc.utcFormat,vc.utcParse,vc}function Kbe(t){return new Date(t)}function Ybe(t){return t instanceof Date?+t:+new Date(+t)}function mO(t,e,n,r,i,o,s,a,c,u){var f=tO(),h=f.invert,p=f.domain,v=u(".%L"),x=u(":%S"),b=u("%I:%M"),y=u("%I %p"),_=u("%a %d"),T=u("%b %d"),S=u("%B"),A=u("%Y");function P(O){return(c(O)<O?v:a(O)<O?x:s(O)<O?b:o(O)<O?y:r(O)<O?i(O)<O?_:T:n(O)<O?S:A)(O)}return f.invert=function(O){return new Date(h(O))},f.domain=function(O){return arguments.length?p(Array.from(O,Ybe)):p().map(Kbe)},f.ticks=function(O){var k=p();return t(k[0],k[k.length-1],O??10)},f.tickFormat=function(O,k){return k==null?P:u(k)},f.nice=function(O){var k=p();return(!O||typeof O.range!="function")&&(O=e(k[0],k[k.length-1],O??10)),O?p(Yz(k,O)):f},f.copy=function(){return Zh(f,mO(t,e,n,r,i,o,s,a,c,u))},f}function Xbe(){return ii.apply(mO(z0e,H0e,zo,hO,Dy,ep,dO,cO,Wa,l8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Qbe(){return ii.apply(mO(V0e,W0e,Ho,pO,$y,My,fO,uO,Wa,c8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ly(){var t=0,e=1,n,r,i,o,s=rr,a=!1,c;function u(h){return h==null||isNaN(h=+h)?c:s(i===0?.5:(h=(o(h)-n)*i,a?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(a=!!h,u):a},u.interpolator=function(h){return arguments.length?(s=h,u):s};function f(h){return function(p){var v,x;return arguments.length?([v,x]=p,s=h(v,x),u):[s(0),s(1)]}}return u.range=f(rd),u.rangeRound=f(eO),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function ia(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function u8(){var t=ra(Ly()(rr));return t.copy=function(){return ia(t,u8())},Zo.apply(t,arguments)}function d8(){var t=iO(Ly()).domain([1,10]);return t.copy=function(){return ia(t,d8()).base(t.base())},Zo.apply(t,arguments)}function f8(){var t=oO(Ly());return t.copy=function(){return ia(t,f8()).constant(t.constant())},Zo.apply(t,arguments)}function gO(){var t=sO(Ly());return t.copy=function(){return ia(t,gO()).exponent(t.exponent())},Zo.apply(t,arguments)}function Jbe(){return gO.apply(null,arguments).exponent(.5)}function h8(){var t=[],e=rr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Qh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(zs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Lye(t,o/r))},n.copy=function(){return h8(e).domain(t)},Zo.apply(n,arguments)}function Fy(){var t=0,e=.5,n=1,r=1,i,o,s,a,c,u=rr,f,h=!1,p;function v(b){return isNaN(b=+b)?p:(b=.5+((b=+f(b))-o)*(r*b<r*o?a:c),u(h?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([t,e,n]=b,i=f(t=+t),o=f(e=+e),s=f(n=+n),a=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,v):[t,e,n]},v.clamp=function(b){return arguments.length?(h=!!b,v):h},v.interpolator=function(b){return arguments.length?(u=b,v):u};function x(b){return function(y){var _,T,S;return arguments.length?([_,T,S]=y,u=u0e(b,[_,T,S]),v):[u(0),u(.5),u(1)]}}return v.range=x(rd),v.rangeRound=x(eO),v.unknown=function(b){return arguments.length?(p=b,v):p},function(b){return f=b,i=b(t),o=b(e),s=b(n),a=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,v}}function p8(){var t=ra(Fy()(rr));return t.copy=function(){return ia(t,p8())},Zo.apply(t,arguments)}function m8(){var t=iO(Fy()).domain([.1,1,10]);return t.copy=function(){return ia(t,m8()).base(t.base())},Zo.apply(t,arguments)}function g8(){var t=oO(Fy());return t.copy=function(){return ia(t,g8()).constant(t.constant())},Zo.apply(t,arguments)}function vO(){var t=sO(Fy());return t.copy=function(){return ia(t,vO()).exponent(t.exponent())},Zo.apply(t,arguments)}function Zbe(){return vO.apply(null,arguments).exponent(.5)}const v3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:th,scaleDiverging:p8,scaleDivergingLog:m8,scaleDivergingPow:vO,scaleDivergingSqrt:Zbe,scaleDivergingSymlog:g8,scaleIdentity:Kz,scaleImplicit:ZT,scaleLinear:pv,scaleLog:Xz,scaleOrdinal:QA,scalePoint:Of,scalePow:aO,scaleQuantile:Zz,scaleQuantize:e8,scaleRadial:Jz,scaleSequential:u8,scaleSequentialLog:d8,scaleSequentialPow:gO,scaleSequentialQuantile:h8,scaleSequentialSqrt:Jbe,scaleSequentialSymlog:f8,scaleSqrt:N0e,scaleSymlog:Qz,scaleThreshold:t8,scaleTime:Xbe,scaleUtc:Qbe,tickFormat:Gz},Symbol.toStringTag,{value:"Module"}));var i1,y3;function By(){if(y3)return i1;y3=1;var t=Ju();function e(n,r,i){for(var o=-1,s=n.length;++o<s;){var a=n[o],c=r(a);if(c!=null&&(u===void 0?c===c&&!t(c):i(c,u)))var u=c,f=a}return f}return i1=e,i1}var o1,b3;function v8(){if(b3)return o1;b3=1;function t(e,n){return e>n}return o1=t,o1}var s1,w3;function ewe(){if(w3)return s1;w3=1;var t=By(),e=v8(),n=nd();function r(i){return i&&i.length?t(i,n,e):void 0}return s1=r,s1}var twe=ewe();const Fs=st(twe);var a1,x3;function y8(){if(x3)return a1;x3=1;function t(e,n){return e<n}return a1=t,a1}var l1,_3;function nwe(){if(_3)return l1;_3=1;var t=By(),e=y8(),n=nd();function r(i){return i&&i.length?t(i,n,e):void 0}return l1=r,l1}var rwe=nwe();const Uy=st(rwe);var c1,S3;function iwe(){if(S3)return c1;S3=1;var t=NA(),e=io(),n=Tz(),r=wr();function i(o,s){var a=r(o)?t:n;return a(o,e(s,3))}return c1=i,c1}var u1,P3;function owe(){if(P3)return u1;P3=1;var t=Sz(),e=iwe();function n(r,i){return t(e(r,i),1)}return u1=n,u1}var swe=owe();const awe=st(swe);var d1,T3;function lwe(){if(T3)return d1;T3=1;var t=HA();function e(n,r){return t(n,r)}return d1=e,d1}var cwe=lwe();const xu=st(cwe);var id=1e9,uwe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bO,Ut=!0,ri="[DecimalError] ",ul=ri+"Invalid argument: ",yO=ri+"Exponent out of range: ",od=Math.floor,Ra=Math.pow,dwe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rr,Tn=1e7,It=7,b8=9007199254740991,yv=od(b8/It),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*It;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(t){return Io(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,n=e.constructor;return St(Io(e,new n(t),0,1),n.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return an(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Rr))throw Error(ri+"NaN");if(n.s<1)throw Error(ri+(n.s?"NaN":"-Infinity"));return n.eq(Rr)?new r(0):(Ut=!1,e=Io(sh(n,o),sh(t,o),o),Ut=!0,St(e,i))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?_8(e,t):w8(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ri+"NaN");return n.s?(Ut=!1,e=Io(n,t,0,1).times(t),Ut=!0,n.minus(e)):St(new r(n),i)};Pe.naturalExponential=Pe.exp=function(){return x8(this)};Pe.naturalLogarithm=Pe.ln=function(){return sh(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?w8(e,t):_8(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ul+t);if(e=an(i)+1,r=i.d.length-1,n=r*It+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pe.squareRoot=Pe.sqrt=function(){var t,e,n,r,i,o,s,a=this,c=a.constructor;if(a.s<1){if(!a.s)return new c(0);throw Error(ri+"NaN")}for(t=an(a),Ut=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=zi(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=od((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(o=r,r=o.plus(Io(a,o,s+2)).times(.5),zi(o.d).slice(0,s)===(e=zi(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(St(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return Ut=!0,St(r,n)};Pe.times=Pe.mul=function(t){var e,n,r,i,o,s,a,c,u,f=this,h=f.constructor,p=f.d,v=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,n=f.e+t.e,c=p.length,u=v.length,c<u&&(o=p,p=v,v=o,s=c,c=u,u=s),o=[],s=c+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)a=o[i]+v[r]*p[i-r-1]+e,o[i--]=a%Tn|0,e=a/Tn|0;o[i]=(o[i]+e)%Tn|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ut?St(t,h.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(eo(t,0,id),e===void 0?e=r.rounding:eo(e,0,8),St(n,t+an(n)+1,e))};Pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=xl(r,!0):(eo(t,0,id),e===void 0?e=i.rounding:eo(e,0,8),r=St(new i(r),t+1,e),n=xl(r,!0,t+1)),n};Pe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?xl(i):(eo(t,0,id),e===void 0?e=o.rounding:eo(e,0,8),r=St(new o(i),t+an(i)+1,e),n=xl(r.abs(),!1,t+an(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return St(new e(t),an(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,n,r,i,o,s,a=this,c=a.constructor,u=12,f=+(t=new c(t));if(!t.s)return new c(Rr);if(a=new c(a),!a.s){if(t.s<1)throw Error(ri+"Infinity");return a}if(a.eq(Rr))return a;if(r=c.precision,t.eq(Rr))return St(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=f<0?-f:f)<=b8){for(i=new c(Rr),e=Math.ceil(r/It+4),Ut=!1;n%2&&(i=i.times(a),E3(i.d,e)),n=od(n/2),n!==0;)a=a.times(a),E3(a.d,e);return Ut=!0,t.s<0?new c(Rr).div(i):St(i,r)}}else if(o<0)throw Error(ri+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,Ut=!1,i=t.times(sh(a,r+u)),Ut=!0,i=x8(i),i.s=o,i};Pe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=an(i),r=xl(i,n<=o.toExpNeg||n>=o.toExpPos)):(eo(t,1,id),e===void 0?e=o.rounding:eo(e,0,8),i=St(new o(i),t,e),n=an(i),r=xl(i,t<=n||n<=o.toExpNeg,t)),r};Pe.toSignificantDigits=Pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(eo(t,1,id),e===void 0?e=r.rounding:eo(e,0,8)),St(new r(n),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=an(t),n=t.constructor;return xl(t,e<=n.toExpNeg||e>=n.toExpPos)};function w8(t,e){var n,r,i,o,s,a,c,u,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Ut?St(e,h):e;if(c=t.d,u=e.d,s=t.e,i=e.e,c=c.slice(),o=s-i,o){for(o<0?(r=c,o=-o,a=u.length):(r=u,i=s,a=c.length),s=Math.ceil(h/It),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=c.length,o=u.length,a-o<0&&(o=a,r=u,u=c,c=r),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/Tn|0,c[o]%=Tn;for(n&&(c.unshift(n),++i),a=c.length;c[--a]==0;)c.pop();return e.d=c,e.e=i,Ut?St(e,h):e}function eo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ul+t)}function zi(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=It-r.length,n&&(o+=Cs(n)),o+=r;s=t[e],r=s+"",n=It-r.length,n&&(o+=Cs(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Io=(function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Tn|0,s=o/Tn|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,c;if(o!=s)c=o>s?1:-1;else for(a=c=0;a<o;a++)if(r[a]!=i[a]){c=r[a]>i[a]?1:-1;break}return c}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Tn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,c,u,f,h,p,v,x,b,y,_,T,S,A,P,O,k,R,I=r.constructor,L=r.s==i.s?1:-1,M=r.d,B=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(ri+"Division by zero");for(c=r.e-i.e,k=B.length,P=M.length,v=new I(L),x=v.d=[],u=0;B[u]==(M[u]||0);)++u;if(B[u]>(M[u]||0)&&--c,o==null?T=o=I.precision:s?T=o+(an(r)-an(i))+1:T=o,T<0)return new I(0);if(T=T/It+2|0,u=0,k==1)for(f=0,B=B[0],T++;(u<P||f)&&T--;u++)S=f*Tn+(M[u]||0),x[u]=S/B|0,f=S%B|0;else{for(f=Tn/(B[0]+1)|0,f>1&&(B=t(B,f),M=t(M,f),k=B.length,P=M.length),A=k,b=M.slice(0,k),y=b.length;y<k;)b[y++]=0;R=B.slice(),R.unshift(0),O=B[0],B[1]>=Tn/2&&++O;do f=0,a=e(B,b,k,y),a<0?(_=b[0],k!=y&&(_=_*Tn+(b[1]||0)),f=_/O|0,f>1?(f>=Tn&&(f=Tn-1),h=t(B,f),p=h.length,y=b.length,a=e(h,b,p,y),a==1&&(f--,n(h,k<p?R:B,p))):(f==0&&(a=f=1),h=B.slice()),p=h.length,p<y&&h.unshift(0),n(b,h,y),a==-1&&(y=b.length,a=e(B,b,k,y),a<1&&(f++,n(b,k<y?R:B,y))),y=b.length):a===0&&(f++,b=[0]),x[u++]=f,a&&b[0]?b[y++]=M[A]||0:(b=[M[A]],y=1);while((A++<P||b[0]!==void 0)&&T--)}return x[0]||x.shift(),v.e=c,St(v,s?o+an(v)+1:o)}})();function x8(t,e){var n,r,i,o,s,a,c=0,u=0,f=t.constructor,h=f.precision;if(an(t)>16)throw Error(yO+an(t));if(!t.s)return new f(Rr);for(Ut=!1,a=h,s=new f(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Ra(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new f(Rr),f.precision=a;;){if(i=St(i.times(t),a),n=n.times(++c),s=o.plus(Io(i,n,a)),zi(s.d).slice(0,a)===zi(o.d).slice(0,a)){for(;u--;)o=St(o.times(o),a);return f.precision=h,e==null?(Ut=!0,St(o,h)):o}o=s}}function an(t){for(var e=t.e*It,n=t.d[0];n>=10;n/=10)e++;return e}function f1(t,e,n){if(e>t.LN10.sd())throw Ut=!0,n&&(t.precision=n),Error(ri+"LN10 precision limit exceeded");return St(new t(t.LN10),e)}function Cs(t){for(var e="";t--;)e+="0";return e}function sh(t,e){var n,r,i,o,s,a,c,u,f,h=1,p=10,v=t,x=v.d,b=v.constructor,y=b.precision;if(v.s<1)throw Error(ri+(v.s?"NaN":"-Infinity"));if(v.eq(Rr))return new b(0);if(e==null?(Ut=!1,u=y):u=e,v.eq(10))return e==null&&(Ut=!0),f1(b,u);if(u+=p,b.precision=u,n=zi(x),r=n.charAt(0),o=an(v),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=zi(v.d),r=n.charAt(0),h++;o=an(v),r>1?(v=new b("0."+n),o++):v=new b(r+"."+n.slice(1))}else return c=f1(b,u+2,y).times(o+""),v=sh(new b(r+"."+n.slice(1)),u-p).plus(c),b.precision=y,e==null?(Ut=!0,St(v,y)):v;for(a=s=v=Io(v.minus(Rr),v.plus(Rr),u),f=St(v.times(v),u),i=3;;){if(s=St(s.times(f),u),c=a.plus(Io(s,new b(i),u)),zi(c.d).slice(0,u)===zi(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(f1(b,u+2,y).times(o+""))),a=Io(a,new b(h),u),b.precision=y,e==null?(Ut=!0,St(a,y)):a;a=c,i+=2}}function C3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=od(n/It),t.d=[],r=(n+1)%It,n<0&&(r+=It),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=It;r<i;)t.d.push(+e.slice(r,r+=It));e=e.slice(r),r=It-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ut&&(t.e>yv||t.e<-yv))throw Error(yO+n)}else t.s=0,t.e=0,t.d=[0];return t}function St(t,e,n){var r,i,o,s,a,c,u,f,h=t.d;for(s=1,o=h[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=It,i=e,u=h[f=0];else{if(f=Math.ceil((r+1)/It),o=h.length,f>=o)return t;for(u=o=h[f],s=1;o>=10;o/=10)s++;r%=It,i=r-It+s}if(n!==void 0&&(o=Ra(10,s-i-1),a=u/o%10|0,c=e<0||h[f+1]!==void 0||u%o,c=n<4?(a||c)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||c||n==6&&(r>0?i>0?u/Ra(10,s-i):0:h[f-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return c?(o=an(t),h.length=1,e=e-o-1,h[0]=Ra(10,(It-e%It)%It),t.e=od(-e/It)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=f,o=1,f--):(h.length=f+1,o=Ra(10,It-r),h[f]=i>0?(u/Ra(10,s-i)%Ra(10,i)|0)*o:0),c)for(;;)if(f==0){(h[0]+=o)==Tn&&(h[0]=1,++t.e);break}else{if(h[f]+=o,h[f]!=Tn)break;h[f--]=0,o=1}for(r=h.length;h[--r]===0;)h.pop();if(Ut&&(t.e>yv||t.e<-yv))throw Error(yO+an(t));return t}function _8(t,e){var n,r,i,o,s,a,c,u,f,h,p=t.constructor,v=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Ut?St(e,v):e;if(c=t.d,h=e.d,r=e.e,u=t.e,c=c.slice(),s=u-r,s){for(f=s<0,f?(n=c,s=-s,a=h.length):(n=h,r=u,a=c.length),i=Math.max(Math.ceil(v/It),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,a=h.length,f=i<a,f&&(a=i),i=0;i<a;i++)if(c[i]!=h[i]){f=c[i]<h[i];break}s=0}for(f&&(n=c,c=h,h=n,e.s=-e.s),a=c.length,i=h.length-a;i>0;--i)c[a++]=0;for(i=h.length;i>s;){if(c[--i]<h[i]){for(o=i;o&&c[--o]===0;)c[o]=Tn-1;--c[o],c[i]+=Tn}c[i]-=h[i]}for(;c[--a]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Ut?St(e,v):e):new p(0)}function xl(t,e,n){var r,i=an(t),o=zi(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Cs(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Cs(-i-1)+o,n&&(r=n-s)>0&&(o+=Cs(r))):i>=s?(o+=Cs(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Cs(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Cs(r))),t.s<0?"-"+o:o}function E3(t,e){if(t.length>e)return t.length=e,!0}function S8(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ul+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return C3(s,o.toString())}else if(typeof o!="string")throw Error(ul+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,dwe.test(o))C3(s,o);else throw Error(ul+o)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=S8,i.config=i.set=fwe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function fwe(t){if(!t||typeof t!="object")throw Error(ri+"Object expected");var e,n,r,i=["precision",1,id,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(od(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ul+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ul+n+": "+r);return this}var bO=S8(uwe);Rr=new bO(1);const wt=bO;function hwe(t){return vwe(t)||gwe(t)||mwe(t)||pwe()}function pwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mwe(t,e){if(t){if(typeof t=="string")return rC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rC(t,e)}}function gwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function vwe(t){if(Array.isArray(t))return rC(t)}function rC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ywe=function(e){return e},P8={},T8=function(e){return e===P8},A3=function(e){return function n(){return arguments.length===0||arguments.length===1&&T8(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},bwe=function t(e,n){return e===1?n:A3(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==P8}).length;return s>=e?n.apply(void 0,i):t(e-s,A3(function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];var f=i.map(function(h){return T8(h)?c.shift():h});return n.apply(void 0,hwe(f).concat(c))}))})},qy=function(e){return bwe(e.length,e)},iC=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},wwe=qy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),xwe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ywe;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,c){return c(a)},o.apply(void 0,arguments))}},oC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},C8=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,c){return a===n[c]})||(n=o,r=e.apply(void 0,o)),r}};function _we(t){var e;return t===0?e=1:e=Math.floor(new wt(t).abs().log(10).toNumber())+1,e}function Swe(t,e,n){for(var r=new wt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Pwe=qy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Twe=qy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Cwe=qy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Vy={rangeStep:Swe,getDigitCount:_we,interpolateNumber:Pwe,uninterpolateNumber:Twe,uninterpolateTruncation:Cwe};function sC(t){return Owe(t)||Awe(t)||E8(t)||Ewe()}function Ewe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Awe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Owe(t){if(Array.isArray(t))return aC(t)}function ah(t,e){return Rwe(t)||jwe(t,e)||E8(t,e)||kwe()}function kwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E8(t,e){if(t){if(typeof t=="string")return aC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aC(t,e)}}function aC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jwe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,o=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function Rwe(t){if(Array.isArray(t))return t}function A8(t){var e=ah(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function O8(t,e,n){if(t.lte(0))return new wt(0);var r=Vy.getDigitCount(t.toNumber()),i=new wt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new wt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),c=a.mul(i);return e?c:new wt(Math.ceil(c))}function Nwe(t,e,n){var r=1,i=new wt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new wt(10).pow(Vy.getDigitCount(t)-1),i=new wt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new wt(Math.floor(t)))}else t===0?i=new wt(Math.floor((e-1)/2)):n||(i=new wt(Math.floor(t)));var s=Math.floor((e-1)/2),a=xwe(wwe(function(c){return i.add(new wt(c-s).mul(r)).toNumber()}),iC);return a(0,e)}function k8(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new wt(0),tickMin:new wt(0),tickMax:new wt(0)};var o=O8(new wt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new wt(0):(s=new wt(t).add(e).div(2),s=s.sub(new wt(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new wt(e).sub(s).div(o).toNumber()),u=a+c+1;return u>n?k8(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new wt(a).mul(o)),tickMax:s.add(new wt(c).mul(o))})}function Iwe(t){var e=ah(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=A8([n,r]),c=ah(a,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var h=f===1/0?[u].concat(sC(iC(0,i-1).map(function(){return 1/0}))):[].concat(sC(iC(0,i-1).map(function(){return-1/0})),[f]);return n>r?oC(h):h}if(u===f)return Nwe(u,i,o);var p=k8(u,f,s,o),v=p.step,x=p.tickMin,b=p.tickMax,y=Vy.rangeStep(x,b.add(new wt(.1).mul(v)),v);return n>r?oC(y):y}function Mwe(t,e){var n=ah(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=A8([r,i]),a=ah(s,2),c=a[0],u=a[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var f=Math.max(e,2),h=O8(new wt(u).sub(c).div(f-1),o,0),p=[].concat(sC(Vy.rangeStep(new wt(c),new wt(u).sub(new wt(.99).mul(h)),h)),[u]);return r>i?oC(p):p}var Dwe=C8(Iwe),$we=C8(Mwe),Lwe="Invariant failed";function _l(t,e){throw new Error(Lwe)}var Fwe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(this,arguments)}function Bwe(t,e){return Wwe(t)||Vwe(t,e)||qwe(t,e)||Uwe()}function Uwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qwe(t,e){if(t){if(typeof t=="string")return O3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O3(t,e)}}function O3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Wwe(t){if(Array.isArray(t))return t}function zwe(t,e){if(t==null)return{};var n=Hwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N8(r.key),r)}}function Ywe(t,e,n){return e&&Kwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xwe(t,e,n){return e=wv(e),Qwe(t,j8()?Reflect.construct(e,n||[],wv(t).constructor):e.apply(t,n))}function Qwe(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jwe(t)}function Jwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j8=function(){return!!t})()}function wv(t){return wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wv(t)}function Zwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lC(t,e)}function lC(t,e){return lC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lC(t,e)}function R8(t,e,n){return e=N8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N8(t){var e=exe(t,"string");return _u(e)=="symbol"?e:e+""}function exe(t,e){if(_u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wy=(function(t){function e(){return Gwe(this,e),Xwe(this,e,arguments)}return Zwe(e,t),Ywe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,c=r.data,u=r.dataPointFormatter,f=r.xAxis,h=r.yAxis,p=zwe(r,Fwe),v=Me(p,!1);this.props.direction==="x"&&f.type!=="number"&&_l();var x=c.map(function(b){var y=u(b,a),_=y.x,T=y.y,S=y.value,A=y.errorVal;if(!A)return null;var P=[],O,k;if(Array.isArray(A)){var R=Bwe(A,2);O=R[0],k=R[1]}else O=k=A;if(o==="vertical"){var I=f.scale,L=T+i,M=L+s,B=L-s,q=I(S-O),Y=I(S+k);P.push({x1:Y,y1:M,x2:Y,y2:B}),P.push({x1:q,y1:L,x2:Y,y2:L}),P.push({x1:q,y1:M,x2:q,y2:B})}else if(o==="horizontal"){var Q=h.scale,K=_+i,J=K-s,F=K+s,G=Q(S-O),D=Q(S+k);P.push({x1:J,y1:D,x2:F,y2:D}),P.push({x1:K,y1:G,x2:K,y2:D}),P.push({x1:J,y1:G,x2:F,y2:G})}return V.createElement(rt,bv({className:"recharts-errorBar",key:"bar-".concat(P.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},v),P.map(function($){return V.createElement("line",bv({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return V.createElement(rt,{className:"recharts-errorBars"},x)}}])})(V.Component);R8(Wy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});R8(Wy,"displayName","ErrorBar");function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function k3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k3(Object(n),!0).forEach(function(r){txe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function txe(t,e,n){return e=nxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nxe(t){var e=rxe(t,"string");return lh(e)=="symbol"?e:e+""}function rxe(t,e){if(lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I8=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Or(n,ll);if(!s)return null;var a=ll.defaultProps,c=a!==void 0?Sa(Sa({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(f,h){var p=h.item,v=h.props,x=v.sectors||v.data||[];return f.concat(x.map(function(b){return{type:s.props.iconType||p.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(f){var h=f.item,p=h.type.defaultProps,v=p!==void 0?Sa(Sa({},p),h.props):{},x=v.dataKey,b=v.name,y=v.legendType,_=v.hide;return{inactive:_,dataKey:x,type:c.iconType||y||"square",color:wO(h),value:b||x,payload:v}}),Sa(Sa(Sa({},c),ll.getWithHeight(s,i)),{},{payload:u,item:s})};function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function j3(t){return axe(t)||sxe(t)||oxe(t)||ixe()}function ixe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oxe(t,e){if(t){if(typeof t=="string")return cC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cC(t,e)}}function sxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function axe(t){if(Array.isArray(t))return cC(t)}function cC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(n),!0).forEach(function(r){Bc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bc(t,e,n){return e=lxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lxe(t){var e=cxe(t,"string");return ch(e)=="symbol"?e:e+""}function cxe(t,e){if(ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yn(t,e,n){return Ge(t)||Ge(e)?n:bn(e)?Ir(t,e,n):qe(e)?e(t):n}function kf(t,e,n,r){var i=awe(t,function(a){return yn(a,e)});if(n==="number"){var o=i.filter(function(a){return de(a)||parseFloat(a)});return o.length?[Uy(o),Fs(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Ge(a)}):i;return s.map(function(a){return bn(a)||a instanceof Date?a:""})}var uxe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,u=0;u<a;u++){var f=u>0?i[u-1].coordinate:i[a-1].coordinate,h=i[u].coordinate,p=u>=a-1?i[0].coordinate:i[u+1].coordinate,v=void 0;if(tr(h-f)!==tr(p-h)){var x=[];if(tr(p-h)===tr(c[1]-c[0])){v=p;var b=h+c[1]-c[0];x[0]=Math.min(b,(b+f)/2),x[1]=Math.max(b,(b+f)/2)}else{v=f;var y=p+c[1]-c[0];x[0]=Math.min(h,(y+h)/2),x[1]=Math.max(h,(y+h)/2)}var _=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>_[0]&&e<=_[1]||e>=x[0]&&e<=x[1]){s=i[u].index;break}}else{var T=Math.min(f,p),S=Math.max(f,p);if(e>(T+h)/2&&e<=(S+h)/2){s=i[u].index;break}}}else for(var A=0;A<a;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<a-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===a-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){s=r[A].index;break}return s},wO=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:a;break;default:c=a;break}return c},dxe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),c=0,u=a.length;c<u;c++)for(var f=o[a[c]].stackGroups,h=Object.keys(f),p=0,v=h.length;p<v;p++){var x=f[h[p]],b=x.items,y=x.cateAxisId,_=b.filter(function(k){return No(k.type).indexOf("Bar")>=0});if(_&&_.length){var T=_[0].type.defaultProps,S=T!==void 0?Qt(Qt({},T),_[0].props):_[0].props,A=S.barSize,P=S[y];s[P]||(s[P]=[]);var O=Ge(A)?n:A;s[P].push({item:_[0],stackList:_.slice(1),barSize:Ge(O)?void 0:nr(O,r,0)})}}return s},fxe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,c=s.length;if(c<1)return null;var u=nr(n,i,0,!0),f,h=[];if(s[0].barSize===+s[0].barSize){var p=!1,v=i/c,x=s.reduce(function(A,P){return A+P.barSize||0},0);x+=(c-1)*u,x>=i&&(x-=(c-1)*u,u=0),x>=i&&v>0&&(p=!0,v*=.9,x=c*v);var b=(i-x)/2>>0,y={offset:b-u,size:0};f=s.reduce(function(A,P){var O={item:P.item,position:{offset:y.offset+y.size+u,size:p?v:P.barSize}},k=[].concat(j3(A),[O]);return y=k[k.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(R){k.push({item:R,position:y})}),k},h)}else{var _=nr(r,i,0,!0);i-2*_-(c-1)*u<=0&&(u=0);var T=(i-2*_-(c-1)*u)/c;T>1&&(T>>=0);var S=a===+a?Math.min(T,a):T;f=s.reduce(function(A,P,O){var k=[].concat(j3(A),[{item:P.item,position:{offset:_+(T+u)*O+(T-S)/2,size:S}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(R){k.push({item:R,position:k[k.length-1].position})}),k},h)}return f},hxe=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,c=s-(a.left||0)-(a.right||0),u=I8({children:o,legendWidth:c});if(u){var f=i||{},h=f.width,p=f.height,v=u.align,x=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&x==="middle")&&v!=="center"&&de(e[v]))return Qt(Qt({},e),{},Bc({},v,e[v]+(h||0)));if((b==="horizontal"||b==="vertical"&&v==="center")&&x!=="middle"&&de(e[x]))return Qt(Qt({},e),{},Bc({},x,e[x]+(p||0)))}return e},pxe=function(e,n,r){return Ge(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},M8=function(e,n,r,i,o){var s=n.props.children,a=ti(s,Wy).filter(function(u){return pxe(i,o,u.props.direction)});if(a&&a.length){var c=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var h=yn(f,r);if(Ge(h))return u;var p=Array.isArray(h)?[Uy(h),Fs(h)]:[h,h],v=c.reduce(function(x,b){var y=yn(f,b,0),_=p[0]-Math.abs(Array.isArray(y)?y[0]:y),T=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(_,x[0]),Math.max(T,x[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},mxe=function(e,n,r,i,o){var s=n.map(function(a){return M8(e,a,r,o,i)}).filter(function(a){return!Ge(a)});return s&&s.length?s.reduce(function(a,c){return[Math.min(a[0],c[0]),Math.max(a[1],c[1])]},[1/0,-1/0]):null},D8=function(e,n,r,i,o){var s=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&M8(e,c,u,i)||kf(e,u,r,o)});if(r==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(c,u){for(var f=0,h=u.length;f<h;f++)a[u[f]]||(a[u[f]]=!0,c.push(u[f]));return c},[])},$8=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},L8=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var o,s,a=e.map(function(c){return c.coordinate===n&&(o=!0),c.coordinate===r&&(s=!0),c.coordinate});return o||a.push(n),s||a.push(r),a},ko=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?tr(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(h){var p=o?o.indexOf(h):h;return{coordinate:i(p)+u,value:h,offset:u}});return f.filter(function(h){return!ed(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,p){return{coordinate:i(h)+u,value:h,index:p,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,p){return{coordinate:i(h)+u,value:o?o[h]:h,index:p,offset:u}})},h1=new WeakMap,Hm=function(e,n){if(typeof n!="function")return e;h1.has(e)||h1.set(e,new WeakMap);var r=h1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},F8=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:th(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:pv(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Of(),realScaleType:"point"}:o==="category"?{scale:th(),realScaleType:"band"}:{scale:pv(),realScaleType:"linear"};if(yl(i)){var c="scale".concat(Cy(i));return{scale:(v3[c]||Of)(),realScaleType:v3[c]?c:"point"}}return qe(i)?{scale:i}:{scale:Of(),realScaleType:"point"}},N3=1e-4,B8=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-N3,s=Math.max(i[0],i[1])+N3,a=e(n[0]),c=e(n[r-1]);(a<o||a>s||c<o||c>s)&&e.domain([n[0],n[r-1]])}},gxe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},vxe=function(e,n){if(!n||n.length!==2||!de(n[0])||!de(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!de(e[0])||e[0]<r)&&(o[0]=r),(!de(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},yxe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var c=ed(e[a][r][1])?e[a][r][0]:e[a][r][1];c>=0?(e[a][r][0]=o,e[a][r][1]=o+c,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+c,s=e[a][r][1])}},bxe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=ed(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},wxe={sign:yxe,expand:ame,none:hu,silhouette:lme,wiggle:cme,positive:bxe},xxe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=wxe[r],s=sme().keys(i).value(function(a,c){return+yn(a,c,0)}).order(FT).offset(o);return s(e)},_xe=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,c={},u=a.reduce(function(h,p){var v,x=(v=p.type)!==null&&v!==void 0&&v.defaultProps?Qt(Qt({},p.type.defaultProps),p.props):p.props,b=x.stackId,y=x.hide;if(y)return h;var _=x[r],T=h[_]||{hasStack:!1,stackGroups:{}};if(bn(b)){var S=T.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(p),T.hasStack=!0,T.stackGroups[b]=S}else T.stackGroups[td("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return Qt(Qt({},h),{},Bc({},_,T))},c),f={};return Object.keys(u).reduce(function(h,p){var v=u[p];if(v.hasStack){var x={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(b,y){var _=v.stackGroups[y];return Qt(Qt({},b),{},Bc({},y,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:xxe(e,_.items,o)}))},x)}return Qt(Qt({},h),{},Bc({},p,v))},f)},U8=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=Dwe(u,o,a);return e.domain([Uy(f),Fs(f)]),{niceTicks:f}}if(o&&i==="number"){var h=e.domain(),p=$we(h,o,a);return{niceTicks:p}}return null};function I3(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ge(i[e.dataKey])){var a=Xg(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var c=yn(i,Ge(s)?e.dataKey:s);return Ge(c)?null:e.scale(c)}var M3=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var c=yn(s,n.dataKey,n.domain[a]);return Ge(c)?null:n.scale(c)-o/2+i},Sxe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Pxe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(bn(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},Txe=function(e){return e.reduce(function(n,r){return[Uy(r.concat([n[0]]).filter(de)),Fs(r.concat([n[1]]).filter(de))]},[1/0,-1/0])},q8=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,c=a.reduce(function(u,f){var h=Txe(f.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},D3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uC=function(e,n,r){if(qe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(de(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(D3.test(e[0])){var o=+D3.exec(e[0])[1];i[0]=n[0]-o}else qe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(de(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if($3.test(e[1])){var s=+$3.exec(e[1])[1];i[1]=n[1]+s}else qe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},xv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=KA(n,function(h){return h.coordinate}),s=1/0,a=1,c=o.length;a<c;a++){var u=o[a],f=o[a-1];s=Math.min((u.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},L3=function(e,n,r){return!e||!e.length||xu(e,Ir(r,"type.defaultProps.domain"))?n:e},V8=function(e,n){var r=e.type.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,c=r.tooltipType,u=r.chartType,f=r.hide;return Qt(Qt({},Me(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:wO(e),value:yn(n,i),type:c,payload:n,chartType:u,hide:f})};function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function F3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function So(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F3(Object(n),!0).forEach(function(r){W8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W8(t,e,n){return e=Cxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cxe(t){var e=Exe(t,"string");return uh(e)=="symbol"?e:e+""}function Exe(t,e){if(uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Axe(t,e){return Rxe(t)||jxe(t,e)||kxe(t,e)||Oxe()}function Oxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kxe(t,e){if(t){if(typeof t=="string")return B3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B3(t,e)}}function B3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Rxe(t){if(Array.isArray(t))return t}var _v=Math.PI/180,Nxe=function(e){return e*180/Math.PI},kt=function(e,n,r,i){return{x:e+Math.cos(-_v*i)*r,y:n+Math.sin(-_v*i)*r}},z8=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Ixe=function(e,n,r,i,o){var s=e.width,a=e.height,c=e.startAngle,u=e.endAngle,f=nr(e.cx,s,s/2),h=nr(e.cy,a,a/2),p=z8(s,a,r),v=nr(e.innerRadius,p,0),x=nr(e.outerRadius,p,p*.8),b=Object.keys(n);return b.reduce(function(y,_){var T=n[_],S=T.domain,A=T.reversed,P;if(Ge(T.range))i==="angleAxis"?P=[c,u]:i==="radiusAxis"&&(P=[v,x]),A&&(P=[P[1],P[0]]);else{P=T.range;var O=P,k=Axe(O,2);c=k[0],u=k[1]}var R=F8(T,o),I=R.realScaleType,L=R.scale;L.domain(S).range(P),B8(L);var M=U8(L,So(So({},T),{},{realScaleType:I})),B=So(So(So({},T),M),{},{range:P,radius:x,realScaleType:I,scale:L,cx:f,cy:h,innerRadius:v,outerRadius:x,startAngle:c,endAngle:u});return So(So({},y),{},W8({},_,B))},{})},Mxe=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},Dxe=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=Mxe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var c=(r-o)/a,u=Math.acos(c);return i>s&&(u=2*Math.PI-u),{radius:a,angle:Nxe(u),angleInRadian:u}},$xe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},Lxe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},U3=function(e,n){var r=e.x,i=e.y,o=Dxe({x:r,y:i},n),s=o.radius,a=o.angle,c=n.innerRadius,u=n.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var f=$xe(n),h=f.startAngle,p=f.endAngle,v=a,x;if(h<=p){for(;v>p;)v-=360;for(;v<h;)v+=360;x=v>=h&&v<=p}else{for(;v>h;)v-=360;for(;v<p;)v+=360;x=v>=p&&v<=h}return x?So(So({},n),{},{radius:s,angle:Lxe(v,n)}):null},H8=function(e){return!C.isValidElement(e)&&!qe(e)&&typeof e!="boolean"?e.className:""};function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}var Fxe=["offset"];function Bxe(t){return Wxe(t)||Vxe(t)||qxe(t)||Uxe()}function Uxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qxe(t,e){if(t){if(typeof t=="string")return dC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dC(t,e)}}function Vxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wxe(t){if(Array.isArray(t))return dC(t)}function dC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zxe(t,e){if(t==null)return{};var n=Hxe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q3(Object(n),!0).forEach(function(r){Gxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gxe(t,e,n){return e=Kxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kxe(t){var e=Yxe(t,"string");return dh(e)=="symbol"?e:e+""}function Yxe(t,e){if(dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(this,arguments)}var Xxe=function(e){var n=e.value,r=e.formatter,i=Ge(e.children)?n:e.children;return qe(r)?r(i):i},Qxe=function(e,n){var r=tr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Jxe=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,c=o,u=c.cx,f=c.cy,h=c.innerRadius,p=c.outerRadius,v=c.startAngle,x=c.endAngle,b=c.clockWise,y=(h+p)/2,_=Qxe(v,x),T=_>=0?1:-1,S,A;i==="insideStart"?(S=v+T*s,A=b):i==="insideEnd"?(S=x-T*s,A=!b):i==="end"&&(S=x+T*s,A=b),A=_<=0?A:!A;var P=kt(u,f,y,S),O=kt(u,f,y,S+(A?1:-1)*359),k="M".concat(P.x,",").concat(P.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(A?0:1,`,
    `).concat(O.x,",").concat(O.y),R=Ge(e.id)?td("recharts-radial-line-"):e.id;return V.createElement("text",fh({},r,{dominantBaseline:"central",className:He("recharts-radial-bar-label",a)}),V.createElement("defs",null,V.createElement("path",{id:R,d:k})),V.createElement("textPath",{xlinkHref:"#".concat(R)},n))},Zxe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,c=o.innerRadius,u=o.outerRadius,f=o.startAngle,h=o.endAngle,p=(f+h)/2;if(i==="outside"){var v=kt(s,a,u+r,p),x=v.x,b=v.y;return{x,y:b,textAnchor:x>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,_=kt(s,a,y,p),T=_.x,S=_.y;return{x:T,y:S,textAnchor:"middle",verticalAnchor:"middle"}},e_e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,c=s.y,u=s.width,f=s.height,h=f>=0?1:-1,p=h*i,v=h>0?"end":"start",x=h>0?"start":"end",b=u>=0?1:-1,y=b*i,_=b>0?"end":"start",T=b>0?"start":"end";if(o==="top"){var S={x:a+u/2,y:c-h*i,textAnchor:"middle",verticalAnchor:v};return hn(hn({},S),r?{height:Math.max(c-r.y,0),width:u}:{})}if(o==="bottom"){var A={x:a+u/2,y:c+f+p,textAnchor:"middle",verticalAnchor:x};return hn(hn({},A),r?{height:Math.max(r.y+r.height-(c+f),0),width:u}:{})}if(o==="left"){var P={x:a-y,y:c+f/2,textAnchor:_,verticalAnchor:"middle"};return hn(hn({},P),r?{width:Math.max(P.x-r.x,0),height:f}:{})}if(o==="right"){var O={x:a+u+y,y:c+f/2,textAnchor:T,verticalAnchor:"middle"};return hn(hn({},O),r?{width:Math.max(r.x+r.width-O.x,0),height:f}:{})}var k=r?{width:u,height:f}:{};return o==="insideLeft"?hn({x:a+y,y:c+f/2,textAnchor:T,verticalAnchor:"middle"},k):o==="insideRight"?hn({x:a+u-y,y:c+f/2,textAnchor:_,verticalAnchor:"middle"},k):o==="insideTop"?hn({x:a+u/2,y:c+p,textAnchor:"middle",verticalAnchor:x},k):o==="insideBottom"?hn({x:a+u/2,y:c+f-p,textAnchor:"middle",verticalAnchor:v},k):o==="insideTopLeft"?hn({x:a+y,y:c+p,textAnchor:T,verticalAnchor:x},k):o==="insideTopRight"?hn({x:a+u-y,y:c+p,textAnchor:_,verticalAnchor:x},k):o==="insideBottomLeft"?hn({x:a+y,y:c+f-p,textAnchor:T,verticalAnchor:v},k):o==="insideBottomRight"?hn({x:a+u-y,y:c+f-p,textAnchor:_,verticalAnchor:v},k):Zu(o)&&(de(o.x)||qa(o.x))&&(de(o.y)||qa(o.y))?hn({x:a+nr(o.x,u),y:c+nr(o.y,f),textAnchor:"end",verticalAnchor:"end"},k):hn({x:a+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},k)},t_e=function(e){return"cx"in e&&de(e.cx)};function Cn(t){var e=t.offset,n=e===void 0?5:e,r=zxe(t,Fxe),i=hn({offset:n},r),o=i.viewBox,s=i.position,a=i.value,c=i.children,u=i.content,f=i.className,h=f===void 0?"":f,p=i.textBreakAll;if(!o||Ge(a)&&Ge(c)&&!C.isValidElement(u)&&!qe(u))return null;if(C.isValidElement(u))return C.cloneElement(u,i);var v;if(qe(u)){if(v=C.createElement(u,i),C.isValidElement(v))return v}else v=Xxe(i);var x=t_e(o),b=Me(i,!0);if(x&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Jxe(i,v,b);var y=x?Zxe(i):e_e(i);return V.createElement(wl,fh({className:He("recharts-label",h)},b,y,{breakAll:p}),v)}Cn.displayName="Label";var G8=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,c=e.radius,u=e.innerRadius,f=e.outerRadius,h=e.x,p=e.y,v=e.top,x=e.left,b=e.width,y=e.height,_=e.clockWise,T=e.labelViewBox;if(T)return T;if(de(b)&&de(y)){if(de(h)&&de(p))return{x:h,y:p,width:b,height:y};if(de(v)&&de(x))return{x:v,y:x,width:b,height:y}}return de(h)&&de(p)?{x:h,y:p,width:0,height:0}:de(n)&&de(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:f||c||a||0,clockWise:_}:e.viewBox?e.viewBox:{}},n_e=function(e,n){return e?e===!0?V.createElement(Cn,{key:"label-implicit",viewBox:n}):bn(e)?V.createElement(Cn,{key:"label-implicit",viewBox:n,value:e}):C.isValidElement(e)?e.type===Cn?C.cloneElement(e,{key:"label-implicit",viewBox:n}):V.createElement(Cn,{key:"label-implicit",content:e,viewBox:n}):qe(e)?V.createElement(Cn,{key:"label-implicit",content:e,viewBox:n}):Zu(e)?V.createElement(Cn,fh({viewBox:n},e,{key:"label-implicit"})):null:null},r_e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=G8(e),s=ti(i,Cn).map(function(c,u){return C.cloneElement(c,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=n_e(e.label,n||o);return[a].concat(Bxe(s))};Cn.parseViewBox=G8;Cn.renderCallByParent=r_e;var p1,V3;function i_e(){if(V3)return p1;V3=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return p1=t,p1}var o_e=i_e();const s_e=st(o_e);function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}var a_e=["valueAccessor"],l_e=["data","dataKey","clockWise","id","textBreakAll"];function c_e(t){return h_e(t)||f_e(t)||d_e(t)||u_e()}function u_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d_e(t,e){if(t){if(typeof t=="string")return fC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fC(t,e)}}function f_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function h_e(t){if(Array.isArray(t))return fC(t)}function fC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(this,arguments)}function W3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W3(Object(n),!0).forEach(function(r){p_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p_e(t,e,n){return e=m_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m_e(t){var e=g_e(t,"string");return hh(e)=="symbol"?e:e+""}function g_e(t,e){if(hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H3(t,e){if(t==null)return{};var n=v_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var y_e=function(e){return Array.isArray(e.value)?s_e(e.value):e.value};function Mo(t){var e=t.valueAccessor,n=e===void 0?y_e:e,r=H3(t,a_e),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,c=r.textBreakAll,u=H3(r,l_e);return!i||!i.length?null:V.createElement(rt,{className:"recharts-label-list"},i.map(function(f,h){var p=Ge(o)?n(f,h):yn(f&&f.payload,o),v=Ge(a)?{}:{id:"".concat(a,"-").concat(h)};return V.createElement(Cn,Sv({},Me(f,!0),u,v,{parentViewBox:f.parentViewBox,value:p,textBreakAll:c,viewBox:Cn.parseViewBox(Ge(s)?f:z3(z3({},f),{},{clockWise:s})),key:"label-".concat(h),index:h}))}))}Mo.displayName="LabelList";function b_e(t,e){return t?t===!0?V.createElement(Mo,{key:"labelList-implicit",data:e}):V.isValidElement(t)||qe(t)?V.createElement(Mo,{key:"labelList-implicit",data:e,content:t}):Zu(t)?V.createElement(Mo,Sv({data:e},t,{key:"labelList-implicit"})):null:null}function w_e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ti(r,Mo).map(function(s,a){return C.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=b_e(t.label,e);return[o].concat(c_e(i))}Mo.renderCallByParent=w_e;function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function hC(){return hC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hC.apply(this,arguments)}function G3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G3(Object(n),!0).forEach(function(r){x_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x_e(t,e,n){return e=__e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function __e(t){var e=S_e(t,"string");return ph(e)=="symbol"?e:e+""}function S_e(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P_e=function(e,n){var r=tr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Gm=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,f=c*(a?1:-1)+i,h=Math.asin(c/f)/_v,p=u?o:o+s*h,v=kt(n,r,f,p),x=kt(n,r,i,p),b=u?o-s*h:o,y=kt(n,r,f*Math.cos(h*_v),b);return{center:v,circleTangency:x,lineTangency:y,theta:h}},K8=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,c=P_e(s,a),u=s+c,f=kt(n,r,o,s),h=kt(n,r,o,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var v=kt(n,r,i,s),x=kt(n,r,i,u);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},T_e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,h=tr(f-u),p=Gm({cx:n,cy:r,radius:o,angle:u,sign:h,cornerRadius:s,cornerIsExternal:c}),v=p.circleTangency,x=p.lineTangency,b=p.theta,y=Gm({cx:n,cy:r,radius:o,angle:f,sign:-h,cornerRadius:s,cornerIsExternal:c}),_=y.circleTangency,T=y.lineTangency,S=y.theta,A=c?Math.abs(u-f):Math.abs(u-f)-b-S;if(A<0)return a?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):K8({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:f});var P="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(A>180),",").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
  `);if(i>0){var O=Gm({cx:n,cy:r,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),k=O.circleTangency,R=O.lineTangency,I=O.theta,L=Gm({cx:n,cy:r,radius:i,angle:f,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),M=L.circleTangency,B=L.lineTangency,q=L.theta,Y=c?Math.abs(u-f):Math.abs(u-f)-I-q;if(Y<0&&s===0)return"".concat(P,"L").concat(n,",").concat(r,"Z");P+="L".concat(B.x,",").concat(B.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Y>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,"Z")}else P+="L".concat(n,",").concat(r,"Z");return P},C_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Y8=function(e){var n=K3(K3({},C_e),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,h=n.endAngle,p=n.className;if(s<o||f===h)return null;var v=He("recharts-sector",p),x=s-o,b=nr(a,x,0,!0),y;return b>0&&Math.abs(f-h)<360?y=T_e({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(b,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:h}):y=K8({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:f,endAngle:h}),V.createElement("path",hC({},Me(n,!0),{className:v,d:y,role:"img"}))};function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function pC(){return pC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pC.apply(this,arguments)}function Y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y3(Object(n),!0).forEach(function(r){E_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E_e(t,e,n){return e=A_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A_e(t){var e=O_e(t,"string");return mh(e)=="symbol"?e:e+""}function O_e(t,e){if(mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q3={curveBasisClosed:Ype,curveBasisOpen:Xpe,curveBasis:Kpe,curveBumpX:Ipe,curveBumpY:Mpe,curveLinearClosed:Qpe,curveLinear:Ay,curveMonotoneX:Jpe,curveMonotoneY:Zpe,curveNatural:eme,curveStep:tme,curveStepAfter:rme,curveStepBefore:nme},Km=function(e){return e.x===+e.x&&e.y===+e.y},af=function(e){return e.x},lf=function(e){return e.y},k_e=function(e,n){if(qe(e))return e;var r="curve".concat(Cy(e));return(r==="curveMonotone"||r==="curveBump")&&n?Q3["".concat(r).concat(n==="vertical"?"Y":"X")]:Q3[r]||Ay},j_e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,c=e.connectNulls,u=c===void 0?!1:c,f=k_e(r,a),h=u?o.filter(function(b){return Km(b)}):o,p;if(Array.isArray(s)){var v=u?s.filter(function(b){return Km(b)}):s,x=h.map(function(b,y){return X3(X3({},b),{},{base:v[y]})});return a==="vertical"?p=Fm().y(lf).x1(af).x0(function(b){return b.base.x}):p=Fm().x(af).y1(lf).y0(function(b){return b.base.y}),p.defined(Km).curve(f),p(x)}return a==="vertical"&&de(s)?p=Fm().y(lf).x1(af).x0(s):de(s)?p=Fm().x(af).y1(lf).y0(s):p=HW().x(af).y(lf),p.defined(Km).curve(f),p(h)},Uc=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?j_e(e):i;return C.createElement("path",pC({},Me(e,!1),Qg(e),{className:He("recharts-curve",n),d:s,ref:o}))},m1={exports:{}},g1,J3;function R_e(){if(J3)return g1;J3=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return g1=t,g1}var v1,Z3;function N_e(){if(Z3)return v1;Z3=1;var t=R_e();function e(){}function n(){}return n.resetWarningCache=e,v1=function(){function r(s,a,c,u,f,h){if(h!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},v1}var eF;function I_e(){return eF||(eF=1,m1.exports=N_e()()),m1.exports}var M_e=I_e();const ft=st(M_e),{getOwnPropertyNames:D_e,getOwnPropertySymbols:$_e}=Object,{hasOwnProperty:L_e}=Object.prototype;function y1(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Ym(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const c=t(n,r,i);return o.delete(n),o.delete(r),c}}function F_e(t){return t!=null?t[Symbol.toStringTag]:void 0}function tF(t){return D_e(t).concat($_e(t))}const B_e=Object.hasOwn||((t,e)=>L_e.call(t,e));function Nl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const U_e="__v",q_e="__o",V_e="_owner",{getOwnPropertyDescriptor:nF,keys:rF}=Object;function W_e(t,e){return t.byteLength===e.byteLength&&Pv(new Uint8Array(t),new Uint8Array(e))}function z_e(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function H_e(t,e){return t.byteLength===e.byteLength&&Pv(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function G_e(t,e){return Nl(t.getTime(),e.getTime())}function K_e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Y_e(t,e){return t===e}function iF(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,c=0;for(;(s=o.next())&&!s.done;){const u=e.entries();let f=!1,h=0;for(;(a=u.next())&&!a.done;){if(i[h]){h++;continue}const p=s.value,v=a.value;if(n.equals(p[0],v[0],c,h,t,e,n)&&n.equals(p[1],v[1],p[0],v[0],t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1;c++}return!0}const X_e=Nl;function Q_e(t,e,n){const r=rF(t);let i=r.length;if(rF(e).length!==i)return!1;for(;i-- >0;)if(!X8(t,e,n,r[i]))return!1;return!0}function cf(t,e,n){const r=tF(t);let i=r.length;if(tF(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!X8(t,e,n,o)||(s=nF(t,o),a=nF(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function J_e(t,e){return Nl(t.valueOf(),e.valueOf())}function Z_e(t,e){return t.source===e.source&&t.flags===e.flags}function oF(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const c=e.values();let u=!1,f=0;for(;(a=c.next())&&!a.done;){if(!i[f]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function Pv(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function eSe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function X8(t,e,n,r){return(r===V_e||r===q_e||r===U_e)&&(t.$$typeof||e.$$typeof)?!0:B_e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const tSe="[object ArrayBuffer]",nSe="[object Arguments]",rSe="[object Boolean]",iSe="[object DataView]",oSe="[object Date]",sSe="[object Error]",aSe="[object Map]",lSe="[object Number]",cSe="[object Object]",uSe="[object RegExp]",dSe="[object Set]",fSe="[object String]",hSe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},pSe="[object URL]",mSe=Object.prototype.toString;function gSe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:f,areSetsEqual:h,areTypedArraysEqual:p,areUrlsEqual:v,unknownTagComparators:x}){return function(y,_,T){if(y===_)return!0;if(y==null||_==null)return!1;const S=typeof y;if(S!==typeof _)return!1;if(S!=="object")return S==="number"?a(y,_,T):S==="function"?o(y,_,T):!1;const A=y.constructor;if(A!==_.constructor)return!1;if(A===Object)return c(y,_,T);if(Array.isArray(y))return e(y,_,T);if(A===Date)return r(y,_,T);if(A===RegExp)return f(y,_,T);if(A===Map)return s(y,_,T);if(A===Set)return h(y,_,T);const P=mSe.call(y);if(P===oSe)return r(y,_,T);if(P===uSe)return f(y,_,T);if(P===aSe)return s(y,_,T);if(P===dSe)return h(y,_,T);if(P===cSe)return typeof y.then!="function"&&typeof _.then!="function"&&c(y,_,T);if(P===pSe)return v(y,_,T);if(P===sSe)return i(y,_,T);if(P===nSe)return c(y,_,T);if(hSe[P])return p(y,_,T);if(P===tSe)return t(y,_,T);if(P===iSe)return n(y,_,T);if(P===rSe||P===lSe||P===fSe)return u(y,_,T);if(x){let O=x[P];if(!O){const k=F_e(y);k&&(O=x[k])}if(O)return O(y,_,T)}return!1}}function vSe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:W_e,areArraysEqual:n?cf:z_e,areDataViewsEqual:H_e,areDatesEqual:G_e,areErrorsEqual:K_e,areFunctionsEqual:Y_e,areMapsEqual:n?y1(iF,cf):iF,areNumbersEqual:X_e,areObjectsEqual:n?cf:Q_e,arePrimitiveWrappersEqual:J_e,areRegExpsEqual:Z_e,areSetsEqual:n?y1(oF,cf):oF,areTypedArraysEqual:n?y1(Pv,cf):Pv,areUrlsEqual:eSe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Ym(r.areArraysEqual),o=Ym(r.areMapsEqual),s=Ym(r.areObjectsEqual),a=Ym(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function ySe(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function bSe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,c){const{cache:u=t?new WeakMap:void 0,meta:f}=n();return e(a,c,{cache:u,equals:r,meta:f,strict:i})};if(t)return function(a,c){return e(a,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,c){return e(a,c,o)}}const wSe=oa();oa({strict:!0});oa({circular:!0});oa({circular:!0,strict:!0});oa({createInternalComparator:()=>Nl});oa({strict:!0,createInternalComparator:()=>Nl});oa({circular:!0,createInternalComparator:()=>Nl});oa({circular:!0,createInternalComparator:()=>Nl,strict:!0});function oa(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=vSe(t),s=gSe(o),a=n?n(s):ySe(s);return bSe({circular:e,comparator:s,createState:r,equals:a,strict:i})}function xSe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function sF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):xSe(i)};requestAnimationFrame(r)}function mC(t){"@babel/helpers - typeof";return mC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mC(t)}function _Se(t){return CSe(t)||TSe(t)||PSe(t)||SSe()}function SSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PSe(t,e){if(t){if(typeof t=="string")return aF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aF(t,e)}}function aF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CSe(t){if(Array.isArray(t))return t}function ESe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=_Se(s),c=a[0],u=a.slice(1);if(typeof c=="number"){sF(i.bind(null,u),c);return}i(c),sF(i.bind(null,u));return}mC(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function lF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lF(Object(n),!0).forEach(function(r){Q8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q8(t,e,n){return e=ASe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ASe(t){var e=OSe(t,"string");return gh(e)==="symbol"?e:String(e)}function OSe(t,e){if(gh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kSe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},jSe=function(e){return e},RSe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},jf=function(e,n){return Object.keys(n).reduce(function(r,i){return cF(cF({},r),{},Q8({},i,e(i,n[i])))},{})},uF=function(e,n,r){return e.map(function(i){return"".concat(RSe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function NSe(t,e){return DSe(t)||MSe(t,e)||J8(t,e)||ISe()}function ISe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function DSe(t){if(Array.isArray(t))return t}function $Se(t){return BSe(t)||FSe(t)||J8(t)||LSe()}function LSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J8(t,e){if(t){if(typeof t=="string")return gC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gC(t,e)}}function FSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BSe(t){if(Array.isArray(t))return gC(t)}function gC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Tv=1e-4,Z8=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},eH=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},dF=function(e,n){return function(r){var i=Z8(e,n);return eH(i,r)}},USe=function(e,n){return function(r){var i=Z8(e,n),o=[].concat($Se(i.map(function(s,a){return s*a}).slice(1)),[0]);return eH(o,r)}},fF=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),f=NSe(u,4);i=f[0],o=f[1],s=f[2],a=f[3]}}}var h=dF(i,s),p=dF(o,a),v=USe(i,s),x=function(_){return _>1?1:_<0?0:_},b=function(_){for(var T=_>1?1:_,S=T,A=0;A<8;++A){var P=h(S)-T,O=v(S);if(Math.abs(P-T)<Tv||O<Tv)return p(S);S=x(S-P/O)}return p(S)};return b.isStepper=!1,b},qSe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,c=function(f,h,p){var v=-(f-h)*r,x=p*o,b=p+(v-x)*a/1e3,y=p*a/1e3+f;return Math.abs(y-h)<Tv&&Math.abs(b)<Tv?[h,0]:[y,b]};return c.isStepper=!0,c.dt=a,c},VSe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fF(i);case"spring":return qSe();default:if(i.split("(")[0]==="cubic-bezier")return fF(i)}return typeof i=="function"?i:null};function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function hF(t){return HSe(t)||zSe(t)||tH(t)||WSe()}function WSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HSe(t){if(Array.isArray(t))return yC(t)}function pF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pF(Object(n),!0).forEach(function(r){vC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vC(t,e,n){return e=GSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GSe(t){var e=KSe(t,"string");return vh(e)==="symbol"?e:String(e)}function KSe(t,e){if(vh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YSe(t,e){return JSe(t)||QSe(t,e)||tH(t,e)||XSe()}function XSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tH(t,e){if(t){if(typeof t=="string")return yC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yC(t,e)}}function yC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function JSe(t){if(Array.isArray(t))return t}var Cv=function(e,n,r){return e+(n-e)*r},bC=function(e){var n=e.from,r=e.to;return n!==r},ZSe=function t(e,n,r){var i=jf(function(o,s){if(bC(s)){var a=e(s.from,s.to,s.velocity),c=YSe(a,2),u=c[0],f=c[1];return Mn(Mn({},s),{},{from:u,velocity:f})}return s},n);return r<1?jf(function(o,s){return bC(s)?Mn(Mn({},s),{},{velocity:Cv(s.velocity,i[o].velocity,r),from:Cv(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const e1e=(function(t,e,n,r,i){var o=kSe(t,e),s=o.reduce(function(y,_){return Mn(Mn({},y),{},vC({},_,[t[_],e[_]]))},{}),a=o.reduce(function(y,_){return Mn(Mn({},y),{},vC({},_,{from:t[_],velocity:0,to:e[_]}))},{}),c=-1,u,f,h=function(){return null},p=function(){return jf(function(_,T){return T.from},a)},v=function(){return!Object.values(a).filter(bC).length},x=function(_){u||(u=_);var T=_-u,S=T/n.dt;a=ZSe(n,a,S),i(Mn(Mn(Mn({},t),e),p())),u=_,v()||(c=requestAnimationFrame(h))},b=function(_){f||(f=_);var T=(_-f)/r,S=jf(function(P,O){return Cv.apply(void 0,hF(O).concat([n(T)]))},s);if(i(Mn(Mn(Mn({},t),e),S)),T<1)c=requestAnimationFrame(h);else{var A=jf(function(P,O){return Cv.apply(void 0,hF(O).concat([n(1)]))},s);i(Mn(Mn(Mn({},t),e),A))}};return h=n.isStepper?x:b,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}});function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}var t1e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function n1e(t,e){if(t==null)return{};var n=r1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function r1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function b1(t){return a1e(t)||s1e(t)||o1e(t)||i1e()}function i1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o1e(t,e){if(t){if(typeof t=="string")return wC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wC(t,e)}}function s1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a1e(t){if(Array.isArray(t))return wC(t)}function wC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mF(Object(n),!0).forEach(function(r){xf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xf(t,e,n){return e=nH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nH(r.key),r)}}function u1e(t,e,n){return e&&c1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nH(t){var e=d1e(t,"string");return Su(e)==="symbol"?e:String(e)}function d1e(t,e){if(Su(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Su(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xC(t,e)}function xC(t,e){return xC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xC(t,e)}function h1e(t){var e=p1e();return function(){var r=Ev(t),i;if(e){var o=Ev(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return _C(this,i)}}function _C(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SC(t)}function SC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ev(t){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ev(t)}var to=(function(t){f1e(n,t);var e=h1e(n);function n(r,i){var o;l1e(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,c=s.attributeName,u=s.from,f=s.to,h=s.steps,p=s.children,v=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(SC(o)),o.changeStyle=o.changeStyle.bind(SC(o)),!a||v<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:f}),_C(o);if(h&&h.length)o.state={style:h[0].style};else if(u){if(typeof p=="function")return o.state={style:u},_C(o);o.state={style:c?xf({},c,u):u}}else o.state={style:{}};return o}return u1e(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,c=o.attributeName,u=o.shouldReAnimate,f=o.to,h=o.from,p=this.state.style;if(a){if(!s){var v={style:c?xf({},c,f):f};this.state&&p&&(c&&p[c]!==f||!c&&p!==f)&&this.setState(v);return}if(!(wSe(i.to,f)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=x||u?h:i.to;if(this.state&&p){var y={style:c?xf({},c,b):b};(c&&p[c]!==b||!c&&p!==b)&&this.setState(y)}this.runAnimation(pi(pi({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,c=i.duration,u=i.easing,f=i.begin,h=i.onAnimationEnd,p=i.onAnimationStart,v=e1e(s,a,VSe(u),c,this.changeStyle),x=function(){o.stopJSAnimation=v()};this.manager.start([p,f,x,c,h])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,c=i.onAnimationStart,u=s[0],f=u.style,h=u.duration,p=h===void 0?0:h,v=function(b,y,_){if(_===0)return b;var T=y.duration,S=y.easing,A=S===void 0?"ease":S,P=y.style,O=y.properties,k=y.onAnimationEnd,R=_>0?s[_-1]:y,I=O||Object.keys(P);if(typeof A=="function"||A==="spring")return[].concat(b1(b),[o.runJSAnimation.bind(o,{from:R.style,to:P,duration:T,easing:A}),T]);var L=uF(I,T,A),M=pi(pi(pi({},R.style),P),{},{transition:L});return[].concat(b1(b),[M,T,k]).filter(jSe)};return this.manager.start([c].concat(b1(s.reduce(v,[f,Math.max(p,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=ESe());var o=i.begin,s=i.duration,a=i.attributeName,c=i.to,u=i.easing,f=i.onAnimationStart,h=i.onAnimationEnd,p=i.steps,v=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var b=a?xf({},a,c):c,y=uF(Object.keys(b),s,u);x.start([f,o,pi(pi({},b),{},{transition:y}),s,h])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=n1e(i,t1e),u=C.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!a||u===0||s<=0)return o;var h=function(v){var x=v.props,b=x.style,y=b===void 0?{}:b,_=x.className,T=C.cloneElement(v,pi(pi({},c),{},{style:pi(pi({},y),f),className:_}));return T};return u===1?h(C.Children.only(o)):V.createElement("div",null,C.Children.map(o,function(p){return h(p)}))}}]),n})(C.PureComponent);to.displayName="Animate";to.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};to.propTypes={from:ft.oneOfType([ft.object,ft.string]),to:ft.oneOfType([ft.object,ft.string]),attributeName:ft.string,duration:ft.number,begin:ft.number,easing:ft.oneOfType([ft.string,ft.func]),steps:ft.arrayOf(ft.shape({duration:ft.number.isRequired,style:ft.object.isRequired,easing:ft.oneOfType([ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ft.func]),properties:ft.arrayOf("string"),onAnimationEnd:ft.func})),children:ft.oneOfType([ft.node,ft.func]),isActive:ft.bool,canBegin:ft.bool,onAnimationEnd:ft.func,shouldReAnimate:ft.bool,onAnimationStart:ft.func,onAnimationReStart:ft.func};function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Av.apply(this,arguments)}function m1e(t,e){return b1e(t)||y1e(t,e)||v1e(t,e)||g1e()}function g1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v1e(t,e){if(t){if(typeof t=="string")return gF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gF(t,e)}}function gF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function b1e(t){if(Array.isArray(t))return t}function vF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vF(Object(n),!0).forEach(function(r){w1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w1e(t,e,n){return e=x1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x1e(t){var e=_1e(t,"string");return yh(e)=="symbol"?e:e+""}function _1e(t,e){if(yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bF=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(s>0&&o instanceof Array){for(var h=[0,0,0,0],p=0,v=4;p<v;p++)h[p]=o[p]>s?s:o[p];f="M".concat(e,",").concat(n+a*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+c*h[0],",").concat(n)),f+="L ".concat(e+r-c*h[1],",").concat(n),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*h[1])),f+="L ".concat(e+r,",").concat(n+i-a*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-c*h[2],",").concat(n+i)),f+="L ".concat(e+c*h[3],",").concat(n+i),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*h[3])),f+="Z"}else if(s>0&&o===+o&&o>0){var x=Math.min(s,o);f="M ".concat(e,",").concat(n+a*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+c*x,",").concat(n,`
            L `).concat(e+r-c*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*x,`
            L `).concat(e+r,",").concat(n+i-a*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r-c*x,",").concat(n+i,`
            L `).concat(e+c*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*x," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},S1e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,c=n.height;if(Math.abs(a)>0&&Math.abs(c)>0){var u=Math.min(o,o+a),f=Math.max(o,o+a),h=Math.min(s,s+c),p=Math.max(s,s+c);return r>=u&&r<=f&&i>=h&&i<=p}return!1},P1e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xO=function(e){var n=yF(yF({},P1e),e),r=C.useRef(),i=C.useState(-1),o=m1e(i,2),s=o[0],a=o[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&a(A)}catch{}},[]);var c=n.x,u=n.y,f=n.width,h=n.height,p=n.radius,v=n.className,x=n.animationEasing,b=n.animationDuration,y=n.animationBegin,_=n.isAnimationActive,T=n.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||h!==+h||f===0||h===0)return null;var S=He("recharts-rectangle",v);return T?V.createElement(to,{canBegin:s>0,from:{width:f,height:h,x:c,y:u},to:{width:f,height:h,x:c,y:u},duration:b,animationEasing:x,isActive:T},function(A){var P=A.width,O=A.height,k=A.x,R=A.y;return V.createElement(to,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:_,easing:x},V.createElement("path",Av({},Me(n,!0),{className:S,d:bF(k,R,P,O,p),ref:r})))}):V.createElement("path",Av({},Me(n,!0),{className:S,d:bF(c,u,f,h,p)}))},T1e=["points","className","baseLinePoints","connectNulls"];function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ac.apply(this,arguments)}function C1e(t,e){if(t==null)return{};var n=E1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function E1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wF(t){return j1e(t)||k1e(t)||O1e(t)||A1e()}function A1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O1e(t,e){if(t){if(typeof t=="string")return PC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PC(t,e)}}function k1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function j1e(t){if(Array.isArray(t))return PC(t)}function PC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xF=function(e){return e&&e.x===+e.x&&e.y===+e.y},R1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){xF(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),xF(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Rf=function(e,n){var r=R1e(e);n&&(r=[r.reduce(function(o,s){return[].concat(wF(o),wF(s))},[])]);var i=r.map(function(o){return o.reduce(function(s,a,c){return"".concat(s).concat(c===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},N1e=function(e,n,r){var i=Rf(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Rf(n.reverse(),r).slice(1))},I1e=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,s=C1e(e,T1e);if(!n||!n.length)return null;var a=He("recharts-polygon",r);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",u=N1e(n,i,o);return V.createElement("g",{className:a},V.createElement("path",Ac({},Me(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?V.createElement("path",Ac({},Me(s,!0),{fill:"none",d:Rf(n,o)})):null,c?V.createElement("path",Ac({},Me(s,!0),{fill:"none",d:Rf(i,o)})):null)}var f=Rf(n,o);return V.createElement("path",Ac({},Me(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",className:a,d:f}))};function TC(){return TC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TC.apply(this,arguments)}var zy=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=He("recharts-dot",o);return n===+n&&r===+r&&i===+i?C.createElement("circle",TC({},Me(e,!1),Qg(e),{className:s,cx:n,cy:r,r:i})):null};function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}var M1e=["x","y","top","left","width","height","className"];function CC(){return CC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CC.apply(this,arguments)}function _F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_F(Object(n),!0).forEach(function(r){$1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_F(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $1e(t,e,n){return e=L1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L1e(t){var e=F1e(t,"string");return bh(e)=="symbol"?e:e+""}function F1e(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B1e(t,e){if(t==null)return{};var n=U1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function U1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var q1e=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},V1e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,c=e.left,u=c===void 0?0:c,f=e.width,h=f===void 0?0:f,p=e.height,v=p===void 0?0:p,x=e.className,b=B1e(e,M1e),y=D1e({x:r,y:o,top:a,left:u,width:h,height:v},b);return!de(r)||!de(o)||!de(h)||!de(v)||!de(a)||!de(u)?null:V.createElement("path",CC({},Me(y,!0),{className:He("recharts-cross",x),d:q1e(r,o,h,v,a,u)}))},w1,SF;function W1e(){if(SF)return w1;SF=1;var t=By(),e=v8(),n=io();function r(i,o){return i&&i.length?t(i,n(o,2),e):void 0}return w1=r,w1}var z1e=W1e();const H1e=st(z1e);var x1,PF;function G1e(){if(PF)return x1;PF=1;var t=By(),e=io(),n=y8();function r(i,o){return i&&i.length?t(i,e(o,2),n):void 0}return x1=r,x1}var K1e=G1e();const Y1e=st(K1e);var X1e=["cx","cy","angle","ticks","axisLine"],Q1e=["ticks","tick","angle","tickFormatter","stroke"];function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nf.apply(this,arguments)}function TF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(n),!0).forEach(function(r){Hy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CF(t,e){if(t==null)return{};var n=J1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function J1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Z1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iH(r.key),r)}}function ePe(t,e,n){return e&&EF(t.prototype,e),n&&EF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tPe(t,e,n){return e=Ov(e),nPe(t,rH()?Reflect.construct(e,n||[],Ov(t).constructor):e.apply(t,n))}function nPe(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rPe(t)}function rPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rH=function(){return!!t})()}function Ov(t){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ov(t)}function iPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EC(t,e)}function EC(t,e){return EC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EC(t,e)}function Hy(t,e,n){return e=iH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iH(t){var e=oPe(t,"string");return Pu(e)=="symbol"?e:e+""}function oPe(t,e){if(Pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gy=(function(t){function e(){return Z1e(this,e),tPe(this,e,arguments)}return iPe(e,t),ePe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,s=o.angle,a=o.cx,c=o.cy;return kt(a,c,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,c=H1e(a,function(f){return f.coordinate||0}),u=Y1e(a,function(f){return f.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,c=r.axisLine,u=CF(r,X1e),f=a.reduce(function(x,b){return[Math.min(x[0],b.coordinate),Math.max(x[1],b.coordinate)]},[1/0,-1/0]),h=kt(i,o,f[0],s),p=kt(i,o,f[1],s),v=Pa(Pa(Pa({},Me(u,!1)),{},{fill:"none"},Me(c,!1)),{},{x1:h.x,y1:h.y,x2:p.x,y2:p.y});return V.createElement("line",Nf({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.angle,c=i.tickFormatter,u=i.stroke,f=CF(i,Q1e),h=this.getTickTextAnchor(),p=Me(f,!1),v=Me(s,!1),x=o.map(function(b,y){var _=r.getTickValueCoord(b),T=Pa(Pa(Pa(Pa({textAnchor:h,transform:"rotate(".concat(90-a,", ").concat(_.x,", ").concat(_.y,")")},p),{},{stroke:"none",fill:u},v),{},{index:y},_),{},{payload:b});return V.createElement(rt,Nf({className:He("recharts-polar-radius-axis-tick",H8(s)),key:"tick-".concat(b.coordinate)},bl(r.props,b,y)),e.renderTickItem(s,T,c?c(b.value,y):b.value))});return V.createElement(rt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,s=r.tick;return!i||!i.length?null:V.createElement(rt,{className:He("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),Cn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return V.isValidElement(r)?s=V.cloneElement(r,i):qe(r)?s=r(i):s=V.createElement(wl,Nf({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])})(C.PureComponent);Hy(Gy,"displayName","PolarRadiusAxis");Hy(Gy,"axisType","radiusAxis");Hy(Gy,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function Ma(){return Ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ma.apply(this,arguments)}function AF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ta(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AF(Object(n),!0).forEach(function(r){Ky(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sH(r.key),r)}}function aPe(t,e,n){return e&&OF(t.prototype,e),n&&OF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lPe(t,e,n){return e=kv(e),cPe(t,oH()?Reflect.construct(e,n||[],kv(t).constructor):e.apply(t,n))}function cPe(t,e){if(e&&(Tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uPe(t)}function uPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oH=function(){return!!t})()}function kv(t){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kv(t)}function dPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AC(t,e)}function AC(t,e){return AC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AC(t,e)}function Ky(t,e,n){return e=sH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sH(t){var e=fPe(t,"string");return Tu(e)=="symbol"?e:e+""}function fPe(t,e){if(Tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hPe=Math.PI/180,kF=1e-5,Yy=(function(t){function e(){return sPe(this,e),lPe(this,e,arguments)}return dPe(e,t),aPe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,s=i.cy,a=i.radius,c=i.orientation,u=i.tickSize,f=u||8,h=kt(o,s,a,r.coordinate),p=kt(o,s,a+(c==="inner"?-1:1)*f,r.coordinate);return{x1:h.x,y1:h.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*hPe),s;return o>kF?s=i==="outer"?"start":"end":o<-kF?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.radius,a=r.axisLine,c=r.axisLineType,u=Ta(Ta({},Me(this.props,!1)),{},{fill:"none"},Me(a,!1));if(c==="circle")return V.createElement(zy,Ma({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:s}));var f=this.props.ticks,h=f.map(function(p){return kt(i,o,s,p.coordinate)});return V.createElement(I1e,Ma({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.tickLine,c=i.tickFormatter,u=i.stroke,f=Me(this.props,!1),h=Me(s,!1),p=Ta(Ta({},f),{},{fill:"none"},Me(a,!1)),v=o.map(function(x,b){var y=r.getTickLineCoord(x),_=r.getTickTextAnchor(x),T=Ta(Ta(Ta({textAnchor:_},f),{},{stroke:"none",fill:u},h),{},{index:b,payload:x,x:y.x2,y:y.y2});return V.createElement(rt,Ma({className:He("recharts-polar-angle-axis-tick",H8(s)),key:"tick-".concat(x.coordinate)},bl(r.props,x,b)),a&&V.createElement("line",Ma({className:"recharts-polar-angle-axis-tick-line"},p,y)),s&&e.renderTickItem(s,T,c?c(x.value,b):x.value))});return V.createElement(rt,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!i||!i.length?null:V.createElement(rt,{className:He("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var s;return V.isValidElement(r)?s=V.cloneElement(r,i):qe(r)?s=r(i):s=V.createElement(wl,Ma({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])})(C.PureComponent);Ky(Yy,"displayName","PolarAngleAxis");Ky(Yy,"axisType","angleAxis");Ky(Yy,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var _1,jF;function pPe(){if(jF)return _1;jF=1;var t=mz(),e=t(Object.getPrototypeOf,Object);return _1=e,_1}var S1,RF;function mPe(){if(RF)return S1;RF=1;var t=Qo(),e=pPe(),n=Jo(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,c=s.call(Object);function u(f){if(!n(f)||t(f)!=r)return!1;var h=e(f);if(h===null)return!0;var p=a.call(h,"constructor")&&h.constructor;return typeof p=="function"&&p instanceof p&&s.call(p)==c}return S1=u,S1}var gPe=mPe();const vPe=st(gPe);var P1,NF;function yPe(){if(NF)return P1;NF=1;var t=Qo(),e=Jo(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return P1=r,P1}var bPe=yPe();const wPe=st(bPe);function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(this,arguments)}function xPe(t,e){return TPe(t)||PPe(t,e)||SPe(t,e)||_Pe()}function _Pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SPe(t,e){if(t){if(typeof t=="string")return IF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IF(t,e)}}function IF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function TPe(t){if(Array.isArray(t))return t}function MF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MF(Object(n),!0).forEach(function(r){CPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CPe(t,e,n){return e=EPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EPe(t){var e=APe(t,"string");return wh(e)=="symbol"?e:e+""}function APe(t,e){if(wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $F=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},OPe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kPe=function(e){var n=DF(DF({},OPe),e),r=C.useRef(),i=C.useState(-1),o=xPe(i,2),s=o[0],a=o[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&a(S)}catch{}},[]);var c=n.x,u=n.y,f=n.upperWidth,h=n.lowerWidth,p=n.height,v=n.className,x=n.animationEasing,b=n.animationDuration,y=n.animationBegin,_=n.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||h!==+h||p!==+p||f===0&&h===0||p===0)return null;var T=He("recharts-trapezoid",v);return _?V.createElement(to,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:f,lowerWidth:h,height:p,x:c,y:u},duration:b,animationEasing:x,isActive:_},function(S){var A=S.upperWidth,P=S.lowerWidth,O=S.height,k=S.x,R=S.y;return V.createElement(to,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:x},V.createElement("path",jv({},Me(n,!0),{className:T,d:$F(k,R,A,P,O),ref:r})))}):V.createElement("g",null,V.createElement("path",jv({},Me(n,!0),{className:T,d:$F(c,u,f,h,p)})))},jPe=["option","shapeType","propTransformer","activeClassName","isActive"];function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function RPe(t,e){if(t==null)return{};var n=NPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LF(Object(n),!0).forEach(function(r){IPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IPe(t,e,n){return e=MPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MPe(t){var e=DPe(t,"string");return xh(e)=="symbol"?e:e+""}function DPe(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Pe(t,e){return Rv(Rv({},e),t)}function LPe(t,e){return t==="symbols"}function FF(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return V.createElement(xO,n);case"trapezoid":return V.createElement(kPe,n);case"sector":return V.createElement(Y8,n);case"symbols":if(LPe(e))return V.createElement(BA,n);break;default:return null}}function FPe(t){return C.isValidElement(t)?t.props:t}function aH(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?$Pe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,c=RPe(t,jPe),u;if(C.isValidElement(e))u=C.cloneElement(e,Rv(Rv({},c),FPe(e)));else if(qe(e))u=e(c);else if(vPe(e)&&!wPe(e)){var f=i(e,c);u=V.createElement(FF,{shapeType:n,elementProps:f})}else{var h=c;u=V.createElement(FF,{shapeType:n,elementProps:h})}return a?V.createElement(rt,{className:s},u):u}function Xy(t,e){return e!=null&&"trapezoids"in t.props}function Qy(t,e){return e!=null&&"sectors"in t.props}function _h(t,e){return e!=null&&"points"in t.props}function BPe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function UPe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function qPe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function VPe(t,e){var n;return Xy(t,e)?n=BPe:Qy(t,e)?n=UPe:_h(t,e)&&(n=qPe),n}function WPe(t,e){var n;return Xy(t,e)?n="trapezoids":Qy(t,e)?n="sectors":_h(t,e)&&(n="points"),n}function zPe(t,e){if(Xy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Qy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return _h(t,e)?e.payload:{}}function HPe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=WPe(n,e),o=zPe(n,e),s=r.filter(function(c,u){var f=xu(o,c),h=n.props[i].filter(function(x){var b=VPe(n,e);return b(x,e)}),p=n.props[i].indexOf(h[h.length-1]),v=u===p;return f&&v}),a=r.indexOf(s[s.length-1]);return a}var gg;function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oc.apply(this,arguments)}function BF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BF(Object(n),!0).forEach(function(r){Xr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cH(r.key),r)}}function KPe(t,e,n){return e&&UF(t.prototype,e),n&&UF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YPe(t,e,n){return e=Nv(e),XPe(t,lH()?Reflect.construct(e,n||[],Nv(t).constructor):e.apply(t,n))}function XPe(t,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QPe(t)}function QPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lH=function(){return!!t})()}function Nv(t){return Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nv(t)}function JPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OC(t,e)}function OC(t,e){return OC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OC(t,e)}function Xr(t,e,n){return e=cH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cH(t){var e=ZPe(t,"string");return Cu(e)=="symbol"?e:e+""}function ZPe(t,e){if(Cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var es=(function(t){function e(n){var r;return GPe(this,e),r=YPe(this,e,[n]),Xr(r,"pieRef",null),Xr(r,"sectorRefs",[]),Xr(r,"id",td("recharts-pie-")),Xr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),qe(i)&&i()}),Xr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),qe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return JPe(e,t),KPe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,a=o.labelLine,c=o.dataKey,u=o.valueKey,f=Me(this.props,!1),h=Me(s,!1),p=Me(a,!1),v=s&&s.offsetRadius||20,x=r.map(function(b,y){var _=(b.startAngle+b.endAngle)/2,T=kt(b.cx,b.cy,b.outerRadius+v,_),S=At(At(At(At({},f),b),{},{stroke:"none"},h),{},{index:y,textAnchor:e.getTextAnchor(T.x,b.cx)},T),A=At(At(At(At({},f),b),{},{fill:"none",stroke:b.fill},p),{},{index:y,points:[kt(b.cx,b.cy,b.outerRadius,_),T]}),P=c;return Ge(c)&&Ge(u)?P="value":Ge(c)&&(P=u),V.createElement(rt,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(y)},a&&e.renderLabelLineItem(a,A,"line"),e.renderLabelItem(s,S,yn(b,P)))});return V.createElement(rt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,s=o.activeShape,a=o.blendStroke,c=o.inactiveShape;return r.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(f),p=c&&i.hasActiveIndex()?c:null,v=h?s:p,x=At(At({},u),{},{stroke:a?u.fill:u.stroke,tabIndex:-1});return V.createElement(rt,Oc({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},bl(i.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),V.createElement(aH,Oc({option:v,isActive:h,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,s=i.isAnimationActive,a=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state,p=h.prevSectors,v=h.prevIsAnimationActive;return V.createElement(to,{begin:a,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var b=x.t,y=[],_=o&&o[0],T=_.startAngle;return o.forEach(function(S,A){var P=p&&p[A],O=A>0?Ir(S,"paddingAngle",0):0;if(P){var k=gr(P.endAngle-P.startAngle,S.endAngle-S.startAngle),R=At(At({},S),{},{startAngle:T+O,endAngle:T+k(b)+O});y.push(R),T=R.endAngle}else{var I=S.endAngle,L=S.startAngle,M=gr(0,I-L),B=M(b),q=At(At({},S),{},{startAngle:T+O,endAngle:T+B+O});y.push(q),T=q.endAngle}}),V.createElement(rt,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!xu(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,s=i.sectors,a=i.className,c=i.label,u=i.cx,f=i.cy,h=i.innerRadius,p=i.outerRadius,v=i.isAnimationActive,x=this.state.isAnimationFinished;if(o||!s||!s.length||!de(u)||!de(f)||!de(h)||!de(p))return null;var b=He("recharts-pie",a);return V.createElement(rt,{tabIndex:this.props.rootTabIndex,className:b,ref:function(_){r.pieRef=_}},this.renderSectors(),c&&this.renderLabels(s),Cn.renderCallByParent(this.props,null,!1),(!v||x)&&Mo.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(V.isValidElement(r))return V.cloneElement(r,i);if(qe(r))return r(i);var s=He("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return V.createElement(Uc,Oc({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,o){if(V.isValidElement(r))return V.cloneElement(r,i);var s=o;if(qe(r)&&(s=r(i),V.isValidElement(s)))return s;var a=He("recharts-pie-label-text",typeof r!="boolean"&&!qe(r)?r.className:"");return V.createElement(wl,Oc({},i,{alignmentBaseline:"middle",className:a}),s)}}])})(C.PureComponent);gg=es;Xr(es,"displayName","Pie");Xr(es,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!kl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Xr(es,"parseDeltaAngle",function(t,e){var n=tr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Xr(es,"getRealPieData",function(t){var e=t.data,n=t.children,r=Me(t,!1),i=ti(n,Ny);return e&&e.length?e.map(function(o,s){return At(At(At({payload:o},r),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return At(At({},r),o.props)}):[]});Xr(es,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,s=z8(i,o),a=r+nr(t.cx,i,i/2),c=n+nr(t.cy,o,o/2),u=nr(t.innerRadius,s,0),f=nr(t.outerRadius,s,s*.8),h=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:a,cy:c,innerRadius:u,outerRadius:f,maxRadius:h}});Xr(es,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?At(At({},e.type.defaultProps),e.props):e.props,i=gg.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,s=r.startAngle,a=r.endAngle,c=r.paddingAngle,u=r.dataKey,f=r.nameKey,h=r.valueKey,p=r.tooltipType,v=Math.abs(r.minAngle),x=gg.parseCoordinateOfPie(r,n),b=gg.parseDeltaAngle(s,a),y=Math.abs(b),_=u;Ge(u)&&Ge(h)?(Ei(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):Ge(u)&&(Ei(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=h);var T=i.filter(function(R){return yn(R,_,0)!==0}).length,S=(y>=360?T:T-1)*c,A=y-T*v-S,P=i.reduce(function(R,I){var L=yn(I,_,0);return R+(de(L)?L:0)},0),O;if(P>0){var k;O=i.map(function(R,I){var L=yn(R,_,0),M=yn(R,f,I),B=(de(L)?L:0)/P,q;I?q=k.endAngle+tr(b)*c*(L!==0?1:0):q=s;var Y=q+tr(b)*((L!==0?v:0)+B*A),Q=(q+Y)/2,K=(x.innerRadius+x.outerRadius)/2,J=[{name:M,value:L,payload:R,dataKey:_,type:p}],F=kt(x.cx,x.cy,K,Q);return k=At(At(At({percent:B,cornerRadius:o,name:M,tooltipPayload:J,midAngle:Q,middleRadius:K,tooltipPosition:F},R),x),{},{value:yn(R,_),startAngle:q,endAngle:Y,payload:R,paddingAngle:tr(b)*c}),k})}return At(At({},x),{},{sectors:O,data:i})});var T1,qF;function eTe(){if(qF)return T1;qF=1;var t=Math.ceil,e=Math.max;function n(r,i,o,s){for(var a=-1,c=e(t((i-r)/(o||1)),0),u=Array(c);c--;)u[s?c:++a]=r,r+=o;return u}return T1=n,T1}var C1,VF;function uH(){if(VF)return C1;VF=1;var t=jz(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return C1=r,C1}var E1,WF;function tTe(){if(WF)return E1;WF=1;var t=eTe(),e=Ry(),n=uH();function r(i){return function(o,s,a){return a&&typeof a!="number"&&e(o,s,a)&&(s=a=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),a=a===void 0?o<s?1:-1:n(a),t(o,s,a,i)}}return E1=r,E1}var A1,zF;function nTe(){if(zF)return A1;zF=1;var t=tTe(),e=t();return A1=e,A1}var rTe=nTe();const Iv=st(rTe);function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function HF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HF(Object(n),!0).forEach(function(r){dH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dH(t,e,n){return e=iTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iTe(t){var e=oTe(t,"string");return Sh(e)=="symbol"?e:e+""}function oTe(t,e){if(Sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sTe=["Webkit","Moz","O","ms"],aTe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=sTe.reduce(function(o,s){return GF(GF({},o),{},dH({},s+r,n))},{});return i[e]=n,i};function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(this,arguments)}function KF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KF(Object(n),!0).forEach(function(r){Ar(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hH(r.key),r)}}function cTe(t,e,n){return e&&YF(t.prototype,e),n&&YF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uTe(t,e,n){return e=Dv(e),dTe(t,fH()?Reflect.construct(e,n||[],Dv(t).constructor):e.apply(t,n))}function dTe(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fTe(t)}function fTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fH=function(){return!!t})()}function Dv(t){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dv(t)}function hTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kC(t,e)}function kC(t,e){return kC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kC(t,e)}function Ar(t,e,n){return e=hH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hH(t){var e=pTe(t,"string");return Eu(e)=="symbol"?e:e+""}function pTe(t,e){if(Eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mTe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Of().domain(Iv(0,c)).range([o,o+s-a]),f=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},XF=function(e){return e.changedTouches&&!!e.changedTouches.length},Au=(function(t){function e(n){var r;return lTe(this,e),r=uTe(this,e,[n]),Ar(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ar(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ar(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Ar(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ar(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ar(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ar(r,"handleSlideDragStart",function(i){var o=XF(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return hTe(e,t),cTe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,c=a.gap,u=a.data,f=u.length-1,h=Math.min(i,o),p=Math.max(i,o),v=e.getIndexInRange(s,h),x=e.getIndexInRange(s,p);return{startIndex:v-v%c,endIndex:x===f?f:x-x%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,c=yn(o[r],a,r);return qe(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,c=this.props,u=c.x,f=c.width,h=c.travellerWidth,p=c.startIndex,v=c.endIndex,x=c.onChange,b=r.pageX-o;b>0?b=Math.min(b,u+f-h-a,u+f-h-s):b<0&&(b=Math.max(b,u-s,u-a));var y=this.getIndex({startX:s+b,endX:a+b});(y.startIndex!==p||y.endIndex!==v)&&x&&x(y),this.setState({startX:s+b,endX:a+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=XF(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,c=i.startX,u=this.state[s],f=this.props,h=f.x,p=f.width,v=f.travellerWidth,x=f.onChange,b=f.gap,y=f.data,_={startX:this.state.startX,endX:this.state.endX},T=r.pageX-o;T>0?T=Math.min(T,h+p-v-u):T<0&&(T=Math.max(T,h-u)),_[s]=u+T;var S=this.getIndex(_),A=S.startIndex,P=S.endIndex,O=function(){var R=y.length-1;return s==="startX"&&(a>c?A%b===0:P%b===0)||a<c&&P===R||s==="endX"&&(a>c?P%b===0:A%b===0)||a>c&&P===R};this.setState(Ar(Ar({},s,u+T),"brushMoveStartX",r.pageX),function(){x&&O()&&x(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,c=s.startX,u=s.endX,f=this.state[i],h=a.indexOf(f);if(h!==-1){var p=h+r;if(!(p===-1||p>=a.length)){var v=a[p];i==="startX"&&v>=u||i==="endX"&&v<=c||this.setState(Ar({},i,v),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,c=r.fill,u=r.stroke;return V.createElement("rect",{stroke:u,fill:c,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,c=r.data,u=r.children,f=r.padding,h=C.Children.only(u);return h?V.cloneElement(h,{x:i,y:o,width:s,height:a,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,c=this.props,u=c.y,f=c.travellerWidth,h=c.height,p=c.traveller,v=c.ariaLabel,x=c.data,b=c.startIndex,y=c.endIndex,_=Math.max(r,this.props.x),T=O1(O1({},Me(this.props,!1)),{},{x:_,y:u,width:f,height:h}),S=v||"Min value: ".concat((o=x[b])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=x[y])===null||s===void 0?void 0:s.name);return V.createElement(rt,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),a.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,T))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,c=o.stroke,u=o.travellerWidth,f=Math.min(r,i)+u,h=Math.max(Math.abs(i-r)-u,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:s,width:h,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,c=r.travellerWidth,u=r.stroke,f=this.state,h=f.startX,p=f.endX,v=5,x={pointerEvents:"none",fill:u};return V.createElement(rt,{className:"recharts-brush-texts"},V.createElement(wl,Mv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-v,y:s+a/2},x),this.getTextOfTick(i)),V.createElement(wl,Mv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+c+v,y:s+a/2},x),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,c=r.y,u=r.width,f=r.height,h=r.alwaysShowText,p=this.state,v=p.startX,x=p.endX,b=p.isTextActive,y=p.isSlideMoving,_=p.isTravellerMoving,T=p.isTravellerFocused;if(!i||!i.length||!de(a)||!de(c)||!de(u)||!de(f)||u<=0||f<=0)return null;var S=He("recharts-brush",o),A=V.Children.count(s)===1,P=aTe("userSelect","none");return V.createElement(rt,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(v,x),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(x,"endX"),(b||y||_||T||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,c=r.stroke,u=Math.floor(o+a/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:i,y:o,width:s,height:a,fill:c,stroke:"none"}),V.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return V.isValidElement(r)?o=V.cloneElement(r,i):qe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,c=r.travellerWidth,u=r.updateId,f=r.startIndex,h=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return O1({prevData:o,prevTravellerWidth:c,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?mTe({data:o,width:s,x:a,travellerWidth:c,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([a,a+s-c]);var p=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var c=Math.floor((s+a)/2);r[c]>i?a=c:s=c}return i>=r[a]?a:s}}])})(C.PureComponent);Ar(Au,"displayName","Brush");Ar(Au,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var k1,QF;function gTe(){if(QF)return k1;QF=1;var t=GA();function e(n,r){var i;return t(n,function(o,s,a){return i=r(o,s,a),!i}),!!i}return k1=e,k1}var j1,JF;function vTe(){if(JF)return j1;JF=1;var t=lz(),e=io(),n=gTe(),r=wr(),i=Ry();function o(s,a,c){var u=r(s)?t:n;return c&&i(s,a,c)&&(a=void 0),u(s,e(a,3))}return j1=o,j1}var yTe=vTe();const bTe=st(yTe);var Ji=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},R1,ZF;function wTe(){if(ZF)return R1;ZF=1;var t=Cz();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return R1=e,R1}var N1,e5;function xTe(){if(e5)return N1;e5=1;var t=wTe(),e=Pz(),n=io();function r(i,o){var s={};return o=n(o,3),e(i,function(a,c,u){t(s,c,o(a,c,u))}),s}return N1=r,N1}var _Te=xTe();const STe=st(_Te);var I1,t5;function PTe(){if(t5)return I1;t5=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return I1=t,I1}var M1,n5;function TTe(){if(n5)return M1;n5=1;var t=GA();function e(n,r){var i=!0;return t(n,function(o,s,a){return i=!!r(o,s,a),i}),i}return M1=e,M1}var D1,r5;function CTe(){if(r5)return D1;r5=1;var t=PTe(),e=TTe(),n=io(),r=wr(),i=Ry();function o(s,a,c){var u=r(s)?t:e;return c&&i(s,a,c)&&(a=void 0),u(s,n(a,3))}return D1=o,D1}var ETe=CTe();const pH=st(ETe);var ATe=["x","y"];function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function jC(){return jC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jC.apply(this,arguments)}function i5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i5(Object(n),!0).forEach(function(r){OTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OTe(t,e,n){return e=kTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kTe(t){var e=jTe(t,"string");return Ph(e)=="symbol"?e:e+""}function jTe(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RTe(t,e){if(t==null)return{};var n=NTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ITe(t,e){var n=t.x,r=t.y,i=RTe(t,ATe),o="".concat(n),s=parseInt(o,10),a="".concat(r),c=parseInt(a,10),u="".concat(e.height||i.height),f=parseInt(u,10),h="".concat(e.width||i.width),p=parseInt(h,10);return uf(uf(uf(uf(uf({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:f,width:p,name:e.name,radius:e.radius})}function o5(t){return V.createElement(aH,jC({shapeType:"rectangle",propTransformer:ITe,activeClassName:"recharts-active-bar"},t))}var MTe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=de(r)||tpe(r);return o?e(r,i):(o||_l(),n)}},DTe=["value","background"],mH;function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function $Te(t,e){if(t==null)return{};var n=LTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $v(){return $v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$v.apply(this,arguments)}function s5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s5(Object(n),!0).forEach(function(r){Bs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vH(r.key),r)}}function BTe(t,e,n){return e&&a5(t.prototype,e),n&&a5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function UTe(t,e,n){return e=Lv(e),qTe(t,gH()?Reflect.construct(e,n||[],Lv(t).constructor):e.apply(t,n))}function qTe(t,e){if(e&&(Ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VTe(t)}function VTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gH=function(){return!!t})()}function Lv(t){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lv(t)}function WTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RC(t,e)}function RC(t,e){return RC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RC(t,e)}function Bs(t,e,n){return e=vH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vH(t){var e=zTe(t,"string");return Ou(e)=="symbol"?e:e+""}function zTe(t,e){if(Ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tp=(function(t){function e(){var n;FTe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=UTe(this,e,[].concat(i)),Bs(n,"state",{isAnimationFinished:!1}),Bs(n,"id",td("recharts-bar-")),Bs(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Bs(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return WTe(e,t),BTe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,c=o.activeIndex,u=o.activeBar,f=Me(this.props,!1);return r&&r.map(function(h,p){var v=p===c,x=v?u:s,b=rn(rn(rn({},f),h),{},{isActive:v,option:x,index:p,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return V.createElement(rt,$v({className:"recharts-bar-rectangle"},bl(i.props,h,p),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(p)}),V.createElement(o5,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,f=i.animationEasing,h=i.animationId,p=this.state.prevData;return V.createElement(to,{begin:c,duration:u,isActive:a,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var x=v.t,b=o.map(function(y,_){var T=p&&p[_];if(T){var S=gr(T.x,y.x),A=gr(T.y,y.y),P=gr(T.width,y.width),O=gr(T.height,y.height);return rn(rn({},y),{},{x:S(x),y:A(x),width:P(x),height:O(x)})}if(s==="horizontal"){var k=gr(0,y.height),R=k(x);return rn(rn({},y),{},{y:y.y+y.height-R,height:R})}var I=gr(0,y.width),L=I(x);return rn(rn({},y),{},{width:L})});return V.createElement(rt,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!xu(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,c=Me(this.props.background,!1);return o.map(function(u,f){u.value;var h=u.background,p=$Te(u,DTe);if(!h)return null;var v=rn(rn(rn(rn(rn({},p),{},{fill:"#eee"},h),c),bl(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:f,className:"recharts-bar-background-rectangle"});return V.createElement(o5,$v({key:"background-bar-".concat(f),option:r.props.background,isActive:f===a},v))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,c=o.yAxis,u=o.layout,f=o.children,h=ti(f,Wy);if(!h)return null;var p=u==="vertical"?s[0].height/2:s[0].width/2,v=function(y,_){var T=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:T,errorVal:yn(y,_)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return V.createElement(rt,x,h.map(function(b){return V.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:s,xAxis:a,yAxis:c,layout:u,offset:p,dataPointFormatter:v})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,c=r.yAxis,u=r.left,f=r.top,h=r.width,p=r.height,v=r.isAnimationActive,x=r.background,b=r.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,_=He("recharts-bar",s),T=a&&a.allowDataOverflow,S=c&&c.allowDataOverflow,A=T||S,P=Ge(b)?this.id:b;return V.createElement(rt,{className:_},T||S?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(P)},V.createElement("rect",{x:T?u:u-h/2,y:S?f:f-p/2,width:T?h:h*2,height:S?p:p*2}))):null,V.createElement(rt,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(P,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,P),(!v||y)&&Mo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(C.PureComponent);mH=tp;Bs(tp,"displayName","Bar");Bs(tp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!kl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Bs(tp,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,h=t.displayedData,p=t.offset,v=gxe(r,n);if(!v)return null;var x=e.layout,b=n.type.defaultProps,y=b!==void 0?rn(rn({},b),n.props):n.props,_=y.dataKey,T=y.children,S=y.minPointSize,A=x==="horizontal"?s:o,P=u?A.scale.domain():null,O=Sxe({numericAxis:A}),k=ti(T,Ny),R=h.map(function(I,L){var M,B,q,Y,Q,K;u?M=vxe(u[f+L],P):(M=yn(I,_),Array.isArray(M)||(M=[O,M]));var J=MTe(S,mH.defaultProps.minPointSize)(M[1],L);if(x==="horizontal"){var F,G=[s.scale(M[0]),s.scale(M[1])],D=G[0],$=G[1];B=M3({axis:o,ticks:a,bandSize:i,offset:v.offset,entry:I,index:L}),q=(F=$??D)!==null&&F!==void 0?F:void 0,Y=v.size;var z=D-$;if(Q=Number.isNaN(z)?0:z,K={x:B,y:s.y,width:Y,height:s.height},Math.abs(J)>0&&Math.abs(Q)<Math.abs(J)){var te=tr(Q||J)*(Math.abs(J)-Math.abs(Q));q-=te,Q+=te}}else{var ue=[o.scale(M[0]),o.scale(M[1])],ye=ue[0],Oe=ue[1];if(B=ye,q=M3({axis:s,ticks:c,bandSize:i,offset:v.offset,entry:I,index:L}),Y=Oe-ye,Q=v.size,K={x:o.x,y:q,width:o.width,height:Q},Math.abs(J)>0&&Math.abs(Y)<Math.abs(J)){var se=tr(Y||J)*(Math.abs(J)-Math.abs(Y));Y+=se}}return rn(rn(rn({},I),{},{x:B,y:q,width:Y,height:Q,value:u?M:M[1],payload:I,background:K},k&&k[L]&&k[L].props),{},{tooltipPayload:[V8(n,I)],tooltipPosition:{x:B+Y/2,y:q+Q/2}})});return rn({data:R,layout:x},p)});function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function HTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yH(r.key),r)}}function GTe(t,e,n){return e&&l5(t.prototype,e),n&&l5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c5(Object(n),!0).forEach(function(r){Jy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jy(t,e,n){return e=yH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yH(t){var e=KTe(t,"string");return Th(e)=="symbol"?e:e+""}function KTe(t,e){if(Th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YTe=function(e,n,r,i,o){var s=e.width,a=e.height,c=e.layout,u=e.children,f=Object.keys(n),h={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},p=!!Or(u,tp);return f.reduce(function(v,x){var b=n[x],y=b.orientation,_=b.domain,T=b.padding,S=T===void 0?{}:T,A=b.mirror,P=b.reversed,O="".concat(y).concat(A?"Mirror":""),k,R,I,L,M;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var B=_[1]-_[0],q=1/0,Y=b.categoricalDomain.sort(ipe);if(Y.forEach(function(ue,ye){ye>0&&(q=Math.min((ue||0)-(Y[ye-1]||0),q))}),Number.isFinite(q)){var Q=q/B,K=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(k=Q*K/2),b.padding==="no-gap"){var J=nr(e.barCategoryGap,Q*K),F=Q*K/2;k=F-J-(F-J)/K*J}}}i==="xAxis"?R=[r.left+(S.left||0)+(k||0),r.left+r.width-(S.right||0)-(k||0)]:i==="yAxis"?R=c==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(k||0),r.top+r.height-(S.bottom||0)-(k||0)]:R=b.range,P&&(R=[R[1],R[0]]);var G=F8(b,o,p),D=G.scale,$=G.realScaleType;D.domain(_).range(R),B8(D);var z=U8(D,Pi(Pi({},b),{},{realScaleType:$}));i==="xAxis"?(M=y==="top"&&!A||y==="bottom"&&A,I=r.left,L=h[O]-M*b.height):i==="yAxis"&&(M=y==="left"&&!A||y==="right"&&A,I=h[O]-M*b.width,L=r.top);var te=Pi(Pi(Pi({},b),z),{},{realScaleType:$,x:I,y:L,scale:D,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return te.bandSize=xv(te,z),!b.hide&&i==="xAxis"?h[O]+=(M?-1:1)*te.height:b.hide||(h[O]+=(M?-1:1)*te.width),Pi(Pi({},v),{},Jy({},x,te))},{})},bH=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},XTe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return bH({x:n,y:r},{x:i,y:o})},wH=(function(){function t(e){HTe(this,t),this.scale=e}return GTe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();Jy(wH,"EPS",1e-4);var _O=function(e){var n=Object.keys(e).reduce(function(r,i){return Pi(Pi({},r),{},Jy({},i,wH.create(e[i])))},{});return Pi(Pi({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return STe(i,function(c,u){return n[u].apply(c,{bandAware:s,position:a})})},isInRange:function(i){return pH(i,function(o,s){return n[s].isInRange(o)})}})};function QTe(t){return(t%180+180)%180}var JTe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=QTe(i),s=o*Math.PI/180,a=Math.atan(r/n),c=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},$1,u5;function ZTe(){if(u5)return $1;u5=1;var t=io(),e=Xh(),n=ky();function r(i){return function(o,s,a){var c=Object(o);if(!e(o)){var u=t(s,3);o=n(o),s=function(h){return u(c[h],h,c)}}var f=i(o,s,a);return f>-1?c[u?o[f]:f]:void 0}}return $1=r,$1}var L1,d5;function eCe(){if(d5)return L1;d5=1;var t=uH();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return L1=e,L1}var F1,f5;function tCe(){if(f5)return F1;f5=1;var t=bz(),e=io(),n=eCe(),r=Math.max;function i(o,s,a){var c=o==null?0:o.length;if(!c)return-1;var u=a==null?0:n(a);return u<0&&(u=r(c+u,0)),t(o,e(s,3),u)}return F1=i,F1}var B1,h5;function nCe(){if(h5)return B1;h5=1;var t=ZTe(),e=tCe(),n=t(e);return B1=n,B1}var rCe=nCe();const iCe=st(rCe);var oCe=MW();const sCe=st(oCe);var aCe=sCe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),SO=C.createContext(void 0),PO=C.createContext(void 0),xH=C.createContext(void 0),_H=C.createContext({}),SH=C.createContext(void 0),PH=C.createContext(0),TH=C.createContext(0),p5=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,c=e.width,u=e.height,f=aCe(o);return V.createElement(SO.Provider,{value:r},V.createElement(PO.Provider,{value:i},V.createElement(_H.Provider,{value:o},V.createElement(xH.Provider,{value:f},V.createElement(SH.Provider,{value:s},V.createElement(PH.Provider,{value:u},V.createElement(TH.Provider,{value:c},a)))))))},lCe=function(){return C.useContext(SH)},CH=function(e){var n=C.useContext(SO);n==null&&_l();var r=n[e];return r==null&&_l(),r},cCe=function(){var e=C.useContext(SO);return Os(e)},uCe=function(){var e=C.useContext(PO),n=iCe(e,function(r){return pH(r.domain,Number.isFinite)});return n||Os(e)},EH=function(e){var n=C.useContext(PO);n==null&&_l();var r=n[e];return r==null&&_l(),r},dCe=function(){var e=C.useContext(xH);return e},fCe=function(){return C.useContext(_H)},TO=function(){return C.useContext(TH)},CO=function(){return C.useContext(PH)};function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function hCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OH(r.key),r)}}function mCe(t,e,n){return e&&pCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gCe(t,e,n){return e=Fv(e),vCe(t,AH()?Reflect.construct(e,n||[],Fv(t).constructor):e.apply(t,n))}function vCe(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yCe(t)}function yCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AH=function(){return!!t})()}function Fv(t){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fv(t)}function bCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NC(t,e)}function NC(t,e){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NC(t,e)}function m5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m5(Object(n),!0).forEach(function(r){EO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EO(t,e,n){return e=OH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OH(t){var e=wCe(t,"string");return ku(e)=="symbol"?e:e+""}function wCe(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xCe(t,e){return TCe(t)||PCe(t,e)||SCe(t,e)||_Ce()}function _Ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SCe(t,e){if(t){if(typeof t=="string")return v5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v5(t,e)}}function v5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function TCe(t){if(Array.isArray(t))return t}function IC(){return IC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IC.apply(this,arguments)}var CCe=function(e,n){var r;return V.isValidElement(e)?r=V.cloneElement(e,n):qe(e)?r=e(n):r=V.createElement("line",IC({},n,{className:"recharts-reference-line-line"})),r},ECe=function(e,n,r,i,o,s,a,c,u){var f=o.x,h=o.y,p=o.width,v=o.height;if(r){var x=u.y,b=e.y.apply(x,{position:s});if(Ji(u,"discard")&&!e.y.isInRange(b))return null;var y=[{x:f+p,y:b},{x:f,y:b}];return c==="left"?y.reverse():y}if(n){var _=u.x,T=e.x.apply(_,{position:s});if(Ji(u,"discard")&&!e.x.isInRange(T))return null;var S=[{x:T,y:h+v},{x:T,y:h}];return a==="top"?S.reverse():S}if(i){var A=u.segment,P=A.map(function(O){return e.apply(O,{position:s})});return Ji(u,"discard")&&bTe(P,function(O){return!e.isInRange(O)})?null:P}return null};function ACe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,c=t.alwaysShow,u=lCe(),f=CH(i),h=EH(o),p=dCe();if(!u||!p)return null;Ei(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=_O({x:f.scale,y:h.scale}),x=bn(e),b=bn(n),y=r&&r.length===2,_=ECe(v,x,b,y,p,t.position,f.orientation,h.orientation,t);if(!_)return null;var T=xCe(_,2),S=T[0],A=S.x,P=S.y,O=T[1],k=O.x,R=O.y,I=Ji(t,"hidden")?"url(#".concat(u,")"):void 0,L=g5(g5({clipPath:I},Me(t,!0)),{},{x1:A,y1:P,x2:k,y2:R});return V.createElement(rt,{className:He("recharts-reference-line",a)},CCe(s,L),Cn.renderCallByParent(t,XTe({x1:A,y1:P,x2:k,y2:R})))}var AO=(function(t){function e(){return hCe(this,e),gCe(this,e,arguments)}return bCe(e,t),mCe(e,[{key:"render",value:function(){return V.createElement(ACe,this.props)}}])})(V.Component);EO(AO,"displayName","ReferenceLine");EO(AO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function MC(){return MC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MC.apply(this,arguments)}function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function y5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y5(Object(n),!0).forEach(function(r){Zy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jH(r.key),r)}}function jCe(t,e,n){return e&&kCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RCe(t,e,n){return e=Bv(e),NCe(t,kH()?Reflect.construct(e,n||[],Bv(t).constructor):e.apply(t,n))}function NCe(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ICe(t)}function ICe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kH=function(){return!!t})()}function Bv(t){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bv(t)}function MCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DC(t,e)}function DC(t,e){return DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DC(t,e)}function Zy(t,e,n){return e=jH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jH(t){var e=DCe(t,"string");return ju(e)=="symbol"?e:e+""}function DCe(t,e){if(ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $Ce=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=_O({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Ji(e,"discard")&&!s.isInRange(a)?null:a},e0=(function(t){function e(){return OCe(this,e),RCe(this,e,arguments)}return MCe(e,t),jCe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,c=r.clipPathId,u=bn(i),f=bn(o);if(Ei(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var h=$Ce(this.props);if(!h)return null;var p=h.x,v=h.y,x=this.props,b=x.shape,y=x.className,_=Ji(this.props,"hidden")?"url(#".concat(c,")"):void 0,T=b5(b5({clipPath:_},Me(this.props,!0)),{},{cx:p,cy:v});return V.createElement(rt,{className:He("recharts-reference-dot",y)},e.renderDot(b,T),Cn.renderCallByParent(this.props,{x:p-s,y:v-s,width:2*s,height:2*s}))}}])})(V.Component);Zy(e0,"displayName","ReferenceDot");Zy(e0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Zy(e0,"renderDot",function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):qe(t)?n=t(e):n=V.createElement(zy,MC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function $C(){return $C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$C.apply(this,arguments)}function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function w5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w5(Object(n),!0).forEach(function(r){t0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NH(r.key),r)}}function BCe(t,e,n){return e&&FCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UCe(t,e,n){return e=Uv(e),qCe(t,RH()?Reflect.construct(e,n||[],Uv(t).constructor):e.apply(t,n))}function qCe(t,e){if(e&&(Ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VCe(t)}function VCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RH=function(){return!!t})()}function Uv(t){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uv(t)}function WCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LC(t,e)}function LC(t,e){return LC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LC(t,e)}function t0(t,e,n){return e=NH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NH(t){var e=zCe(t,"string");return Ru(e)=="symbol"?e:e+""}function zCe(t,e){if(Ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HCe=function(e,n,r,i,o){var s=o.x1,a=o.x2,c=o.y1,u=o.y2,f=o.xAxis,h=o.yAxis;if(!f||!h)return null;var p=_O({x:f.scale,y:h.scale}),v={x:e?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(c,{position:"start"}):p.y.rangeMin},x={x:n?p.x.apply(a,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Ji(o,"discard")&&(!p.isInRange(v)||!p.isInRange(x))?null:bH(v,x)},n0=(function(t){function e(){return LCe(this,e),UCe(this,e,arguments)}return WCe(e,t),BCe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,c=r.className,u=r.alwaysShow,f=r.clipPathId;Ei(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=bn(i),p=bn(o),v=bn(s),x=bn(a),b=this.props.shape;if(!h&&!p&&!v&&!x&&!b)return null;var y=HCe(h,p,v,x,this.props);if(!y&&!b)return null;var _=Ji(this.props,"hidden")?"url(#".concat(f,")"):void 0;return V.createElement(rt,{className:He("recharts-reference-area",c)},e.renderRect(b,x5(x5({clipPath:_},Me(this.props,!0)),y)),Cn.renderCallByParent(this.props,y))}}])})(V.Component);t0(n0,"displayName","ReferenceArea");t0(n0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});t0(n0,"renderRect",function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):qe(t)?n=t(e):n=V.createElement(xO,$C({},e,{className:"recharts-reference-area-rect"})),n});function IH(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function GCe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return JTe(r,n)}function KCe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function qv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function YCe(t,e){return IH(t,e+1)}function XCe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,c=0,u=1,f=s,h=function(){var x=r==null?void 0:r[c];if(x===void 0)return{v:IH(r,u)};var b=c,y,_=function(){return y===void 0&&(y=n(x,b)),y},T=x.coordinate,S=c===0||qv(t,T,_,f,a);S||(c=0,f=s,u+=1),S&&(f=T+t*(_()/2+i),c+=u)},p;u<=o.length;)if(p=h(),p)return p.v;return[]}function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function _5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_5(Object(n),!0).forEach(function(r){QCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QCe(t,e,n){return e=JCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JCe(t){var e=ZCe(t,"string");return Ch(e)=="symbol"?e:e+""}function ZCe(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eEe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,c=e.end,u=function(p){var v=o[p],x,b=function(){return x===void 0&&(x=n(v,p)),x};if(p===s-1){var y=t*(v.coordinate+t*b()/2-c);o[p]=v=Vn(Vn({},v),{},{tickCoord:y>0?v.coordinate-y*t:v.coordinate})}else o[p]=v=Vn(Vn({},v),{},{tickCoord:v.coordinate});var _=qv(t,v.tickCoord,b,a,c);_&&(c=v.tickCoord-t*(b()/2+i),o[p]=Vn(Vn({},v),{},{isShow:!0}))},f=s-1;f>=0;f--)u(f);return o}function tEe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,c=e.start,u=e.end;if(o){var f=r[a-1],h=n(f,a-1),p=t*(f.coordinate+t*h/2-u);s[a-1]=f=Vn(Vn({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate});var v=qv(t,f.tickCoord,function(){return h},c,u);v&&(u=f.tickCoord-t*(h/2+i),s[a-1]=Vn(Vn({},f),{},{isShow:!0}))}for(var x=o?a-1:a,b=function(T){var S=s[T],A,P=function(){return A===void 0&&(A=n(S,T)),A};if(T===0){var O=t*(S.coordinate-t*P()/2-c);s[T]=S=Vn(Vn({},S),{},{tickCoord:O<0?S.coordinate-O*t:S.coordinate})}else s[T]=S=Vn(Vn({},S),{},{tickCoord:S.coordinate});var k=qv(t,S.tickCoord,P,c,u);k&&(c=S.tickCoord+t*(P()/2+i),s[T]=Vn(Vn({},S),{},{isShow:!0}))},y=0;y<x;y++)b(y);return s}function OO(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,c=t.interval,u=t.tickFormatter,f=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(de(c)||kl.isSsr)return YCe(i,typeof c=="number"&&de(c)?c:0);var p=[],v=a==="top"||a==="bottom"?"width":"height",x=f&&v==="width"?Af(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(S,A){var P=qe(u)?u(S.value,A):S.value;return v==="width"?GCe(Af(P,{fontSize:e,letterSpacing:n}),x,h):Af(P,{fontSize:e,letterSpacing:n})[v]},y=i.length>=2?tr(i[1].coordinate-i[0].coordinate):1,_=KCe(o,y,v);return c==="equidistantPreserveStart"?XCe(y,_,b,i,s):(c==="preserveStart"||c==="preserveStartEnd"?p=tEe(y,_,b,i,s,c==="preserveStartEnd"):p=eEe(y,_,b,i,s),p.filter(function(T){return T.isShow}))}var nEe=["viewBox"],rEe=["viewBox"],iEe=["ticks"];function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kc.apply(this,arguments)}function S5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S5(Object(n),!0).forEach(function(r){kO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U1(t,e){if(t==null)return{};var n=oEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DH(r.key),r)}}function aEe(t,e,n){return e&&P5(t.prototype,e),n&&P5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lEe(t,e,n){return e=Vv(e),cEe(t,MH()?Reflect.construct(e,n||[],Vv(t).constructor):e.apply(t,n))}function cEe(t,e){if(e&&(Nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uEe(t)}function uEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MH=function(){return!!t})()}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vv(t)}function dEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FC(t,e)}function FC(t,e){return FC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FC(t,e)}function kO(t,e,n){return e=DH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DH(t){var e=fEe(t,"string");return Nu(e)=="symbol"?e:e+""}function fEe(t,e){if(Nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sd=(function(t){function e(n){var r;return sEe(this,e),r=lEe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return dEe(e,t),aEe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=U1(r,nEe),a=this.props,c=a.viewBox,u=U1(a,rEe);return!Lc(o,c)||!Lc(s,u)||!Lc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,c=i.height,u=i.orientation,f=i.tickSize,h=i.mirror,p=i.tickMargin,v,x,b,y,_,T,S=h?-1:1,A=r.tickSize||f,P=de(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":v=x=r.coordinate,y=s+ +!h*c,b=y-S*A,T=b-S*p,_=P;break;case"left":b=y=r.coordinate,x=o+ +!h*a,v=x-S*A,_=v-S*p,T=P;break;case"right":b=y=r.coordinate,x=o+ +h*a,v=x+S*A,_=v+S*p,T=P;break;default:v=x=r.coordinate,y=s+ +h*c,b=y+S*A,T=b+S*p,_=P;break}return{line:{x1:v,y1:b,x2:x,y2:y},tick:{x:_,y:T}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,c=r.orientation,u=r.mirror,f=r.axisLine,h=fn(fn(fn({},Me(this.props,!1)),Me(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);h=fn(fn({},h),{},{x1:i,y1:o+p*a,x2:i+s,y2:o+p*a})}else{var v=+(c==="left"&&!u||c==="right"&&u);h=fn(fn({},h),{},{x1:i+v*s,y1:o,x2:i+v*s,y2:o+a})}return V.createElement("line",kc({},h,{className:He("recharts-cartesian-axis-line",Ir(f,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,c=a.tickLine,u=a.stroke,f=a.tick,h=a.tickFormatter,p=a.unit,v=OO(fn(fn({},this.props),{},{ticks:r}),i,o),x=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=Me(this.props,!1),_=Me(f,!1),T=fn(fn({},y),{},{fill:"none"},Me(c,!1)),S=v.map(function(A,P){var O=s.getTickLineCoord(A),k=O.line,R=O.tick,I=fn(fn(fn(fn({textAnchor:x,verticalAnchor:b},y),{},{stroke:"none",fill:u},_),R),{},{index:P,payload:A,visibleTicksCount:v.length,tickFormatter:h});return V.createElement(rt,kc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},bl(s.props,A,P)),c&&V.createElement("line",kc({},T,k,{className:He("recharts-cartesian-axis-tick-line",Ir(c,"className"))})),f&&e.renderTickItem(f,I,"".concat(qe(h)?h(A.value,P):A.value).concat(p||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,c=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var h=this.props,p=h.ticks,v=U1(h,iEe),x=p;return qe(c)&&(x=p&&p.length>0?c(this.props):c(v)),s<=0||a<=0||!x||!x.length?null:V.createElement(rt,{className:He("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Cn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=He(i.className,"recharts-cartesian-axis-tick-value");return V.isValidElement(r)?s=V.cloneElement(r,fn(fn({},i),{},{className:a})):qe(r)?s=r(fn(fn({},i),{},{className:a})):s=V.createElement(wl,kc({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])})(C.Component);kO(sd,"displayName","CartesianAxis");kO(sd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hEe=["x1","y1","x2","y2","key"],pEe=["offset"];function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function T5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T5(Object(n),!0).forEach(function(r){mEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mEe(t,e,n){return e=gEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gEe(t){var e=vEe(t,"string");return Sl(e)=="symbol"?e:e+""}function vEe(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function za(){return za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},za.apply(this,arguments)}function C5(t,e){if(t==null)return{};var n=yEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var bEe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,c=e.ry;return V.createElement("rect",{x:i,y:o,ry:c,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function $H(t,e){var n;if(V.isValidElement(t))n=V.cloneElement(t,e);else if(qe(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,c=C5(e,hEe),u=Me(c,!1);u.offset;var f=C5(u,pEe);n=V.createElement("line",za({},f,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function wEe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,c){var u=zn(zn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(c),index:c});return $H(i,u)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function xEe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,c){var u=zn(zn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(c),index:c});return $H(i,u)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function _Ee(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var f=a.map(function(p){return Math.round(p+i-i)}).sort(function(p,v){return p-v});i!==f[0]&&f.unshift(0);var h=f.map(function(p,v){var x=!f[v+1],b=x?i+s-p:f[v+1]-p;if(b<=0)return null;var y=v%e.length;return V.createElement("rect",{key:"react-".concat(v),y:p,x:r,height:b,width:o,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function SEe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var f=u.map(function(p){return Math.round(p+o-o)}).sort(function(p,v){return p-v});o!==f[0]&&f.unshift(0);var h=f.map(function(p,v){var x=!f[v+1],b=x?o+a-p:f[v+1]-p;if(b<=0)return null;var y=v%r.length;return V.createElement("rect",{key:"react-".concat(v),x:p,y:s,width:b,height:c,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var PEe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return L8(OO(zn(zn(zn({},sd.defaultProps),r),{},{ticks:ko(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},TEe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return L8(OO(zn(zn(zn({},sd.defaultProps),r),{},{ticks:ko(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},yc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function LH(t){var e,n,r,i,o,s,a=TO(),c=CO(),u=fCe(),f=zn(zn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:yc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:yc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:yc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:yc.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:yc.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:yc.verticalFill,x:de(t.x)?t.x:u.left,y:de(t.y)?t.y:u.top,width:de(t.width)?t.width:u.width,height:de(t.height)?t.height:u.height}),h=f.x,p=f.y,v=f.width,x=f.height,b=f.syncWithTicks,y=f.horizontalValues,_=f.verticalValues,T=cCe(),S=uCe();if(!de(v)||v<=0||!de(x)||x<=0||!de(h)||h!==+h||!de(p)||p!==+p)return null;var A=f.verticalCoordinatesGenerator||PEe,P=f.horizontalCoordinatesGenerator||TEe,O=f.horizontalPoints,k=f.verticalPoints;if((!O||!O.length)&&qe(P)){var R=y&&y.length,I=P({yAxis:S?zn(zn({},S),{},{ticks:R?y:S.ticks}):void 0,width:a,height:c,offset:u},R?!0:b);Ei(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Sl(I),"]")),Array.isArray(I)&&(O=I)}if((!k||!k.length)&&qe(A)){var L=_&&_.length,M=A({xAxis:T?zn(zn({},T),{},{ticks:L?_:T.ticks}):void 0,width:a,height:c,offset:u},L?!0:b);Ei(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Sl(M),"]")),Array.isArray(M)&&(k=M)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(bEe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),V.createElement(wEe,za({},f,{offset:u,horizontalPoints:O,xAxis:T,yAxis:S})),V.createElement(xEe,za({},f,{offset:u,verticalPoints:k,xAxis:T,yAxis:S})),V.createElement(_Ee,za({},f,{horizontalPoints:O})),V.createElement(SEe,za({},f,{verticalPoints:k})))}LH.displayName="CartesianGrid";var CEe=["layout","type","stroke","connectNulls","isRange","ref"],EEe=["key"],FH;function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function BH(t,e){if(t==null)return{};var n=AEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ha(){return Ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ha.apply(this,arguments)}function E5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ts(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E5(Object(n),!0).forEach(function(r){Hi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qH(r.key),r)}}function kEe(t,e,n){return e&&A5(t.prototype,e),n&&A5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jEe(t,e,n){return e=Wv(e),REe(t,UH()?Reflect.construct(e,n||[],Wv(t).constructor):e.apply(t,n))}function REe(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NEe(t)}function NEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UH=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(t)}function IEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BC(t,e)}function BC(t,e){return BC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BC(t,e)}function Hi(t,e,n){return e=qH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qH(t){var e=MEe(t,"string");return Iu(e)=="symbol"?e:e+""}function MEe(t,e){if(Iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Go=(function(t){function e(){var n;OEe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=jEe(this,e,[].concat(i)),Hi(n,"state",{isAnimationFinished:!0}),Hi(n,"id",td("recharts-area-")),Hi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),qe(s)&&s()}),Hi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),qe(s)&&s()}),n}return IEe(e,t),kEe(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var c=this.props,u=c.dot,f=c.points,h=c.dataKey,p=Me(this.props,!1),v=Me(u,!0),x=f.map(function(y,_){var T=Ts(Ts(Ts({key:"dot-".concat(_),r:3},p),v),{},{index:_,cx:y.x,cy:y.y,dataKey:h,value:y.value,payload:y.payload,points:f});return e.renderDotItem(u,T)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return V.createElement(rt,Ha({className:"recharts-area-dots"},b),x)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,c=s[0].x,u=s[s.length-1].x,f=r*Math.abs(c-u),h=Fs(s.map(function(p){return p.y||0}));return de(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(Fs(o.map(function(p){return p.y||0})),h)),de(h)?V.createElement("rect",{x:c<u?c:c-f,y:0,width:f,height:Math.floor(h+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,c=s[0].y,u=s[s.length-1].y,f=r*Math.abs(c-u),h=Fs(s.map(function(p){return p.x||0}));return de(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(Fs(o.map(function(p){return p.x||0})),h)),de(h)?V.createElement("rect",{x:0,y:c<u?c:c-f,width:h+(a?parseInt("".concat(a),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var a=this.props,c=a.layout,u=a.type,f=a.stroke,h=a.connectNulls,p=a.isRange;a.ref;var v=BH(a,CEe);return V.createElement(rt,{clipPath:o?"url(#clipPath-".concat(s,")"):null},V.createElement(Uc,Ha({},Me(v,!0),{points:r,connectNulls:h,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&V.createElement(Uc,Ha({},Me(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:r})),f!=="none"&&p&&V.createElement(Uc,Ha({},Me(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,c=s.baseLine,u=s.isAnimationActive,f=s.animationBegin,h=s.animationDuration,p=s.animationEasing,v=s.animationId,x=this.state,b=x.prevPoints,y=x.prevBaseLine;return V.createElement(to,{begin:f,duration:h,isActive:u,easing:p,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var T=_.t;if(b){var S=b.length/a.length,A=a.map(function(R,I){var L=Math.floor(I*S);if(b[L]){var M=b[L],B=gr(M.x,R.x),q=gr(M.y,R.y);return Ts(Ts({},R),{},{x:B(T),y:q(T)})}return R}),P;if(de(c)&&typeof c=="number"){var O=gr(y,c);P=O(T)}else if(Ge(c)||ed(c)){var k=gr(y,0);P=k(T)}else P=c.map(function(R,I){var L=Math.floor(I*S);if(y[L]){var M=y[L],B=gr(M.x,R.x),q=gr(M.y,R.y);return Ts(Ts({},R),{},{x:B(T),y:q(T)})}return R});return o.renderAreaStatically(A,P,r,i)}return V.createElement(rt,null,V.createElement("defs",null,V.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(T))),V.createElement(rt,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,c,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,a=o.baseLine,c=o.isAnimationActive,u=this.state,f=u.prevPoints,h=u.prevBaseLine,p=u.totalLength;return c&&s&&s.length&&(!f&&p>0||!xu(f,s)||!xu(h,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,c=i.className,u=i.top,f=i.left,h=i.xAxis,p=i.yAxis,v=i.width,x=i.height,b=i.isAnimationActive,y=i.id;if(o||!a||!a.length)return null;var _=this.state.isAnimationFinished,T=a.length===1,S=He("recharts-area",c),A=h&&h.allowDataOverflow,P=p&&p.allowDataOverflow,O=A||P,k=Ge(y)?this.id:y,R=(r=Me(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=R.r,L=I===void 0?3:I,M=R.strokeWidth,B=M===void 0?2:M,q=hpe(s)?s:{},Y=q.clipDot,Q=Y===void 0?!0:Y,K=L*2+B;return V.createElement(rt,{className:S},A||P?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(k)},V.createElement("rect",{x:A?f:f-v/2,y:P?u:u-x/2,width:A?v:v*2,height:P?x:x*2})),!Q&&V.createElement("clipPath",{id:"clipPath-dots-".concat(k)},V.createElement("rect",{x:f-K/2,y:u-K/2,width:v+K,height:x+K}))):null,T?null:this.renderArea(O,k),(s||T)&&this.renderDots(O,Q,k),(!b||_)&&Mo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(C.PureComponent);FH=Go;Hi(Go,"displayName","Area");Hi(Go,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!kl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Hi(Go,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(de(a)&&typeof a=="number")return a;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var f=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return a==="dataMin"?h:a==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});Hi(Go,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,c=t.dataKey,u=t.stackedData,f=t.dataStartIndex,h=t.displayedData,p=t.offset,v=e.layout,x=u&&u.length,b=FH.getBaseValue(e,n,r,i),y=v==="horizontal",_=!1,T=h.map(function(A,P){var O;x?O=u[f+P]:(O=yn(A,c),Array.isArray(O)?_=!0:O=[b,O]);var k=O[1]==null||x&&yn(A,c)==null;return y?{x:I3({axis:r,ticks:o,bandSize:a,entry:A,index:P}),y:k?null:i.scale(O[1]),value:O,payload:A}:{x:k?null:r.scale(O[1]),y:I3({axis:i,ticks:s,bandSize:a,entry:A,index:P}),value:O,payload:A}}),S;return x||_?S=T.map(function(A){var P=Array.isArray(A.value)?A.value[0]:null;return y?{x:A.x,y:P!=null&&A.y!=null?i.scale(P):null}:{x:P!=null?r.scale(P):null,y:A.y}}):S=y?i.scale(b):r.scale(b),Ts({points:T,baseLine:S,layout:v,isRange:_},p)});Hi(Go,"renderDotItem",function(t,e){var n;if(V.isValidElement(t))n=V.cloneElement(t,e);else if(qe(t))n=t(e);else{var r=He("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=BH(e,EEe);n=V.createElement(zy,Ha({},o,{key:i,className:r}))}return n});function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function DEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zH(r.key),r)}}function LEe(t,e,n){return e&&$Ee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FEe(t,e,n){return e=zv(e),BEe(t,VH()?Reflect.construct(e,n||[],zv(t).constructor):e.apply(t,n))}function BEe(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UEe(t)}function UEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VH=function(){return!!t})()}function zv(t){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zv(t)}function qEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UC(t,e)}function UC(t,e){return UC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UC(t,e)}function WH(t,e,n){return e=zH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zH(t){var e=VEe(t,"string");return Mu(e)=="symbol"?e:e+""}function VEe(t,e){if(Mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qC(){return qC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qC.apply(this,arguments)}function WEe(t){var e=t.xAxisId,n=TO(),r=CO(),i=CH(e);return i==null?null:C.createElement(sd,qC({},i,{className:He("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return ko(s,!0)}}))}var r0=(function(t){function e(){return DEe(this,e),FEe(this,e,arguments)}return qEe(e,t),LEe(e,[{key:"render",value:function(){return C.createElement(WEe,this.props)}}])})(C.Component);WH(r0,"displayName","XAxis");WH(r0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function zEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KH(r.key),r)}}function GEe(t,e,n){return e&&HEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KEe(t,e,n){return e=Hv(e),YEe(t,HH()?Reflect.construct(e,n||[],Hv(t).constructor):e.apply(t,n))}function YEe(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XEe(t)}function XEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HH=function(){return!!t})()}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hv(t)}function QEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VC(t,e)}function VC(t,e){return VC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VC(t,e)}function GH(t,e,n){return e=KH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KH(t){var e=JEe(t,"string");return Du(e)=="symbol"?e:e+""}function JEe(t,e){if(Du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function WC(){return WC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WC.apply(this,arguments)}var ZEe=function(e){var n=e.yAxisId,r=TO(),i=CO(),o=EH(n);return o==null?null:C.createElement(sd,WC({},o,{className:He("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return ko(a,!0)}}))},i0=(function(t){function e(){return zEe(this,e),KEe(this,e,arguments)}return QEe(e,t),GEe(e,[{key:"render",value:function(){return C.createElement(ZEe,this.props)}}])})(C.Component);GH(i0,"displayName","YAxis");GH(i0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function O5(t){return rAe(t)||nAe(t)||tAe(t)||eAe()}function eAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tAe(t,e){if(t){if(typeof t=="string")return zC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zC(t,e)}}function nAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rAe(t){if(Array.isArray(t))return zC(t)}function zC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var HC=function(e,n,r,i,o){var s=ti(e,AO),a=ti(e,e0),c=[].concat(O5(s),O5(a)),u=ti(e,n0),f="".concat(i,"Id"),h=i[0],p=n;if(c.length&&(p=c.reduce(function(b,y){if(y.props[f]===r&&Ji(y.props,"extendDomain")&&de(y.props[h])){var _=y.props[h];return[Math.min(b[0],_),Math.max(b[1],_)]}return b},p)),u.length){var v="".concat(h,"1"),x="".concat(h,"2");p=u.reduce(function(b,y){if(y.props[f]===r&&Ji(y.props,"extendDomain")&&de(y.props[v])&&de(y.props[x])){var _=y.props[v],T=y.props[x];return[Math.min(b[0],_,T),Math.max(b[1],_,T)]}return b},p)}return o&&o.length&&(p=o.reduce(function(b,y){return de(y)?[Math.min(b[0],y),Math.max(b[1],y)]:b},p)),p},q1={exports:{}},k5;function iAe(){return k5||(k5=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function o(c,u,f,h,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,h||c,p),x=n?n+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],v]:c._events[x].push(v):(c._events[x]=v,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)e.call(f,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,v=h.length,x=new Array(v);p<v;p++)x[p]=h[p].fn;return x},a.prototype.listenerCount=function(u){var f=n?n+u:u,h=this._events[f];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,f,h,p,v,x){var b=n?n+u:u;if(!this._events[b])return!1;var y=this._events[b],_=arguments.length,T,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),_){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,h),!0;case 4:return y.fn.call(y.context,f,h,p),!0;case 5:return y.fn.call(y.context,f,h,p,v),!0;case 6:return y.fn.call(y.context,f,h,p,v,x),!0}for(S=1,T=new Array(_-1);S<_;S++)T[S-1]=arguments[S];y.fn.apply(y.context,T)}else{var A=y.length,P;for(S=0;S<A;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),_){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,f);break;case 3:y[S].fn.call(y[S].context,f,h);break;case 4:y[S].fn.call(y[S].context,f,h,p);break;default:if(!T)for(P=1,T=new Array(_-1);P<_;P++)T[P-1]=arguments[P];y[S].fn.apply(y[S].context,T)}}return!0},a.prototype.on=function(u,f,h){return o(this,u,f,h,!1)},a.prototype.once=function(u,f,h){return o(this,u,f,h,!0)},a.prototype.removeListener=function(u,f,h,p){var v=n?n+u:u;if(!this._events[v])return this;if(!f)return s(this,v),this;var x=this._events[v];if(x.fn)x.fn===f&&(!p||x.once)&&(!h||x.context===h)&&s(this,v);else{for(var b=0,y=[],_=x.length;b<_;b++)(x[b].fn!==f||p&&!x[b].once||h&&x[b].context!==h)&&y.push(x[b]);y.length?this._events[v]=y.length===1?y[0]:y:s(this,v)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(q1)),q1.exports}var oAe=iAe();const sAe=st(oAe);var V1=new sAe,W1="recharts.syncMouseEvents";function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function aAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YH(r.key),r)}}function cAe(t,e,n){return e&&lAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z1(t,e,n){return e=YH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YH(t){var e=uAe(t,"string");return Eh(e)=="symbol"?e:e+""}function uAe(t,e){if(Eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dAe=(function(){function t(){aAe(this,t),z1(this,"activeIndex",0),z1(this,"coordinateList",[]),z1(this,"layout","horizontal")}return cAe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,c=n.layout,u=c===void 0?null:c,f=n.offset,h=f===void 0?null:f,p=n.mouseHandlerCallback,v=p===void 0?null:p;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=o+c+u,p=s+this.offset.top+a/2+f;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])})();function fAe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&de(r)&&de(i))return!0}return!1}function hAe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function XH(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=kt(e,n,r,i),a=kt(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function pAe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,c=e.cy,u=e.innerRadius,f=e.outerRadius,h=e.angle,p=kt(a,c,u,h),v=kt(a,c,f,h);r=p.x,i=p.y,o=v.x,s=v.y}else return XH(e);return[{x:r,y:i},{x:o,y:s}]}function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function j5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j5(Object(n),!0).forEach(function(r){mAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mAe(t,e,n){return e=gAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gAe(t){var e=vAe(t,"string");return Ah(e)=="symbol"?e:e+""}function vAe(t,e){if(Ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yAe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,c=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,h=t.layout,p=t.chartName,v=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!v||!o||!s||p!=="ScatterChart"&&i!=="axis")return null;var x,b=Uc;if(p==="ScatterChart")x=s,b=V1e;else if(p==="BarChart")x=hAe(h,s,c,f),b=xO;else if(h==="radial"){var y=XH(s),_=y.cx,T=y.cy,S=y.radius,A=y.startAngle,P=y.endAngle;x={cx:_,cy:T,startAngle:A,endAngle:P,innerRadius:S,outerRadius:S},b=Y8}else x={points:pAe(h,s,c)},b=Uc;var O=Xm(Xm(Xm(Xm({stroke:"#ccc",pointerEvents:"none"},c),x),Me(v,!1)),{},{payload:a,payloadIndex:u,className:He("recharts-tooltip-cursor",v.className)});return C.isValidElement(v)?C.cloneElement(v,O):C.createElement(b,O)}var bAe=["item"],wAe=["children","className","width","height","style","compact","title","desc"];function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(this,arguments)}function R5(t,e){return SAe(t)||_Ae(t,e)||JH(t,e)||xAe()}function xAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function SAe(t){if(Array.isArray(t))return t}function N5(t,e){if(t==null)return{};var n=PAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZH(r.key),r)}}function EAe(t,e,n){return e&&CAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AAe(t,e,n){return e=Gv(e),OAe(t,QH()?Reflect.construct(e,n||[],Gv(t).constructor):e.apply(t,n))}function OAe(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kAe(t)}function kAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QH=function(){return!!t})()}function Gv(t){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gv(t)}function jAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GC(t,e)}function GC(t,e){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GC(t,e)}function Lu(t){return IAe(t)||NAe(t)||JH(t)||RAe()}function RAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JH(t,e){if(t){if(typeof t=="string")return KC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KC(t,e)}}function NAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IAe(t){if(Array.isArray(t))return KC(t)}function KC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I5(Object(n),!0).forEach(function(r){Be(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Be(t,e,n){return e=ZH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZH(t){var e=MAe(t,"string");return $u(e)=="symbol"?e:e+""}function MAe(t,e){if($u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DAe={xAxis:["bottom","top"],yAxis:["left","right"]},$Ae={width:"100%",height:"100%"},e9={x:0,y:0};function Qm(t){return t}var LAe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},FAe=function(e,n,r,i){var o=n.find(function(f){return f&&f.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return ie(ie(ie({},i),kt(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var c=o.coordinate,u=i.angle;return ie(ie(ie({},i),kt(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return e9},o0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,c){var u=c.props.data;return u&&u.length?[].concat(Lu(a),Lu(u)):a},[]);return s.length>0?s:e&&e.length&&de(i)&&de(o)?e.slice(i,o+1):[]};function t9(t){return t==="number"?[0,"auto"]:void 0}var YC=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=o0(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(c,u){var f,h=(f=u.props.data)!==null&&f!==void 0?f:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var v=h===void 0?a:h;p=Xg(v,s.dataKey,i)}else p=h&&h[r]||a[r];return p?[].concat(Lu(c),[V8(u,p)]):c},[])},M5=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=LAe(o,r),a=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,f=uxe(s,a,u,c);if(f>=0&&u){var h=u[f]&&u[f].value,p=YC(e,n,f,h),v=FAe(r,a,f,o);return{activeTooltipIndex:f,activeLabel:h,activePayload:p,activeCoordinate:v}}return null},BAe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,h=e.children,p=e.stackOffset,v=$8(f,o);return r.reduce(function(x,b){var y,_=b.type.defaultProps!==void 0?ie(ie({},b.type.defaultProps),b.props):b.props,T=_.type,S=_.dataKey,A=_.allowDataOverflow,P=_.allowDuplicatedCategory,O=_.scale,k=_.ticks,R=_.includeHidden,I=_[s];if(x[I])return x;var L=o0(e.data,{graphicalItems:i.filter(function(z){var te,ue=s in z.props?z.props[s]:(te=z.type.defaultProps)===null||te===void 0?void 0:te[s];return ue===I}),dataStartIndex:c,dataEndIndex:u}),M=L.length,B,q,Y;fAe(_.domain,A,T)&&(B=uC(_.domain,null,A),v&&(T==="number"||O!=="auto")&&(Y=kf(L,S,"category")));var Q=t9(T);if(!B||B.length===0){var K,J=(K=_.domain)!==null&&K!==void 0?K:Q;if(S){if(B=kf(L,S,T),T==="category"&&v){var F=rpe(B);P&&F?(q=B,B=Iv(0,M)):P||(B=L3(J,B,b).reduce(function(z,te){return z.indexOf(te)>=0?z:[].concat(Lu(z),[te])},[]))}else if(T==="category")P?B=B.filter(function(z){return z!==""&&!Ge(z)}):B=L3(J,B,b).reduce(function(z,te){return z.indexOf(te)>=0||te===""||Ge(te)?z:[].concat(Lu(z),[te])},[]);else if(T==="number"){var G=mxe(L,i.filter(function(z){var te,ue,ye=s in z.props?z.props[s]:(te=z.type.defaultProps)===null||te===void 0?void 0:te[s],Oe="hide"in z.props?z.props.hide:(ue=z.type.defaultProps)===null||ue===void 0?void 0:ue.hide;return ye===I&&(R||!Oe)}),S,o,f);G&&(B=G)}v&&(T==="number"||O!=="auto")&&(Y=kf(L,S,"category"))}else v?B=Iv(0,M):a&&a[I]&&a[I].hasStack&&T==="number"?B=p==="expand"?[0,1]:q8(a[I].stackGroups,c,u):B=D8(L,i.filter(function(z){var te=s in z.props?z.props[s]:z.type.defaultProps[s],ue="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return te===I&&(R||!ue)}),T,f,!0);if(T==="number")B=HC(h,B,I,o,k),J&&(B=uC(J,B,A));else if(T==="category"&&J){var D=J,$=B.every(function(z){return D.indexOf(z)>=0});$&&(B=D)}}return ie(ie({},x),{},Be({},I,ie(ie({},_),{},{axisType:o,domain:B,categoricalDomain:Y,duplicateDomain:q,originalDomain:(y=_.domain)!==null&&y!==void 0?y:Q,isCategorical:v,layout:f})))},{})},UAe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,h=e.children,p=o0(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),v=p.length,x=$8(f,o),b=-1;return r.reduce(function(y,_){var T=_.type.defaultProps!==void 0?ie(ie({},_.type.defaultProps),_.props):_.props,S=T[s],A=t9("number");if(!y[S]){b++;var P;return x?P=Iv(0,v):a&&a[S]&&a[S].hasStack?(P=q8(a[S].stackGroups,c,u),P=HC(h,P,S,o)):(P=uC(A,D8(p,r.filter(function(O){var k,R,I=s in O.props?O.props[s]:(k=O.type.defaultProps)===null||k===void 0?void 0:k[s],L="hide"in O.props?O.props.hide:(R=O.type.defaultProps)===null||R===void 0?void 0:R.hide;return I===S&&!L}),"number",f),i.defaultProps.allowDataOverflow),P=HC(h,P,S,o)),ie(ie({},y),{},Be({},S,ie(ie({axisType:o},i.defaultProps),{},{hide:!0,orientation:Ir(DAe,"".concat(o,".").concat(b%2),null),domain:P,originalDomain:A,isCategorical:x,layout:f})))}return y},{})},qAe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=e.children,h="".concat(i,"Id"),p=ti(f,o),v={};return p&&p.length?v=BAe(e,{axes:p,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:a,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(v=UAe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:a,dataStartIndex:c,dataEndIndex:u})),v},VAe=function(e){var n=Os(e),r=ko(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:KA(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:xv(n,r)}},D5=function(e){var n=e.children,r=e.defaultShowTooltip,i=Or(n,Au),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},WAe=function(e){return!e||!e.length?!1:e.some(function(n){var r=No(n&&n.type);return r&&r.indexOf("Bar")>=0})},$5=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zAe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,c=a===void 0?{}:a,u=r.width,f=r.height,h=r.children,p=r.margin||{},v=Or(h,Au),x=Or(h,ll),b=Object.keys(c).reduce(function(P,O){var k=c[O],R=k.orientation;return!k.mirror&&!k.hide?ie(ie({},P),{},Be({},R,P[R]+k.width)):P},{left:p.left||0,right:p.right||0}),y=Object.keys(s).reduce(function(P,O){var k=s[O],R=k.orientation;return!k.mirror&&!k.hide?ie(ie({},P),{},Be({},R,Ir(P,"".concat(R))+k.height)):P},{top:p.top||0,bottom:p.bottom||0}),_=ie(ie({},y),b),T=_.bottom;v&&(_.bottom+=v.props.height||Au.defaultProps.height),x&&n&&(_=hxe(_,i,r,n));var S=u-_.left-_.right,A=f-_.top-_.bottom;return ie(ie({brushBottom:T},_),{},{width:Math.max(S,0),height:Math.max(A,0)})},HAe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},n9=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,p=function(_,T){var S=T.graphicalItems,A=T.stackGroups,P=T.offset,O=T.updateId,k=T.dataStartIndex,R=T.dataEndIndex,I=_.barSize,L=_.layout,M=_.barGap,B=_.barCategoryGap,q=_.maxBarSize,Y=$5(L),Q=Y.numericAxisName,K=Y.cateAxisName,J=WAe(S),F=[];return S.forEach(function(G,D){var $=o0(_.data,{graphicalItems:[G],dataStartIndex:k,dataEndIndex:R}),z=G.type.defaultProps!==void 0?ie(ie({},G.type.defaultProps),G.props):G.props,te=z.dataKey,ue=z.maxBarSize,ye=z["".concat(Q,"Id")],Oe=z["".concat(K,"Id")],se={},pe=c.reduce(function(kn,_r){var oo=T["".concat(_r.axisType,"Map")],Qe=z["".concat(_r.axisType,"Id")];oo&&oo[Qe]||_r.axisType==="zAxis"||_l();var Tt=oo[Qe];return ie(ie({},kn),{},Be(Be({},_r.axisType,Tt),"".concat(_r.axisType,"Ticks"),ko(Tt)))},se),oe=pe[K],fe=pe["".concat(K,"Ticks")],ve=A&&A[ye]&&A[ye].hasStack&&Pxe(G,A[ye].stackGroups),re=No(G.type).indexOf("Bar")>=0,ze=xv(oe,fe),Le=[],ct=J&&dxe({barSize:I,stackGroups:A,totalSize:HAe(pe,K)});if(re){var ut,Pt,Kn=Ge(ue)?q:ue,On=(ut=(Pt=xv(oe,fe,!0))!==null&&Pt!==void 0?Pt:Kn)!==null&&ut!==void 0?ut:0;Le=fxe({barGap:M,barCategoryGap:B,bandSize:On!==ze?On:ze,sizeList:ct[Oe],maxBarSize:Kn}),On!==ze&&(Le=Le.map(function(kn){return ie(ie({},kn),{},{position:ie(ie({},kn.position),{},{offset:kn.position.offset-On/2})})}))}var xr=G&&G.type&&G.type.getComposedData;xr&&F.push({props:ie(ie({},xr(ie(ie({},pe),{},{displayedData:$,props:_,dataKey:te,item:G,bandSize:ze,barPosition:Le,offset:P,stackedData:ve,layout:L,dataStartIndex:k,dataEndIndex:R}))),{},Be(Be(Be({key:G.key||"item-".concat(D)},Q,pe[Q]),K,pe[K]),"animationId",O)),childIndex:gpe(G,_.children),item:G})}),F},v=function(_,T){var S=_.props,A=_.dataStartIndex,P=_.dataEndIndex,O=_.updateId;if(!JM({props:S}))return null;var k=S.children,R=S.layout,I=S.stackOffset,L=S.data,M=S.reverseStackOrder,B=$5(R),q=B.numericAxisName,Y=B.cateAxisName,Q=ti(k,r),K=_xe(L,Q,"".concat(q,"Id"),"".concat(Y,"Id"),I,M),J=c.reduce(function(z,te){var ue="".concat(te.axisType,"Map");return ie(ie({},z),{},Be({},ue,qAe(S,ie(ie({},te),{},{graphicalItems:Q,stackGroups:te.axisType===q&&K,dataStartIndex:A,dataEndIndex:P}))))},{}),F=zAe(ie(ie({},J),{},{props:S,graphicalItems:Q}),T==null?void 0:T.legendBBox);Object.keys(J).forEach(function(z){J[z]=f(S,J[z],F,z.replace("Map",""),n)});var G=J["".concat(Y,"Map")],D=VAe(G),$=p(S,ie(ie({},J),{},{dataStartIndex:A,dataEndIndex:P,updateId:O,graphicalItems:Q,stackGroups:K,offset:F}));return ie(ie({formattedGraphicalItems:$,graphicalItems:Q,offset:F,stackGroups:K},D),J)},x=(function(y){function _(T){var S,A,P;return TAe(this,_),P=AAe(this,_,[T]),Be(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Be(P,"accessibilityManager",new dAe),Be(P,"handleLegendBBoxUpdate",function(O){if(O){var k=P.state,R=k.dataStartIndex,I=k.dataEndIndex,L=k.updateId;P.setState(ie({legendBBox:O},v({props:P.props,dataStartIndex:R,dataEndIndex:I,updateId:L},ie(ie({},P.state),{},{legendBBox:O}))))}}),Be(P,"handleReceiveSyncEvent",function(O,k,R){if(P.props.syncId===O){if(R===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(k)}}),Be(P,"handleBrushChange",function(O){var k=O.startIndex,R=O.endIndex;if(k!==P.state.dataStartIndex||R!==P.state.dataEndIndex){var I=P.state.updateId;P.setState(function(){return ie({dataStartIndex:k,dataEndIndex:R},v({props:P.props,dataStartIndex:k,dataEndIndex:R,updateId:I},P.state))}),P.triggerSyncEvent({dataStartIndex:k,dataEndIndex:R})}}),Be(P,"handleMouseEnter",function(O){var k=P.getMouseInfo(O);if(k){var R=ie(ie({},k),{},{isTooltipActive:!0});P.setState(R),P.triggerSyncEvent(R);var I=P.props.onMouseEnter;qe(I)&&I(R,O)}}),Be(P,"triggeredAfterMouseMove",function(O){var k=P.getMouseInfo(O),R=k?ie(ie({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(R),P.triggerSyncEvent(R);var I=P.props.onMouseMove;qe(I)&&I(R,O)}),Be(P,"handleItemMouseEnter",function(O){P.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Be(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),Be(P,"handleMouseMove",function(O){O.persist(),P.throttleTriggeredAfterMouseMove(O)}),Be(P,"handleMouseLeave",function(O){P.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};P.setState(k),P.triggerSyncEvent(k);var R=P.props.onMouseLeave;qe(R)&&R(k,O)}),Be(P,"handleOuterEvent",function(O){var k=mpe(O),R=Ir(P.props,"".concat(k));if(k&&qe(R)){var I,L;/.*touch.*/i.test(k)?L=P.getMouseInfo(O.changedTouches[0]):L=P.getMouseInfo(O),R((I=L)!==null&&I!==void 0?I:{},O)}}),Be(P,"handleClick",function(O){var k=P.getMouseInfo(O);if(k){var R=ie(ie({},k),{},{isTooltipActive:!0});P.setState(R),P.triggerSyncEvent(R);var I=P.props.onClick;qe(I)&&I(R,O)}}),Be(P,"handleMouseDown",function(O){var k=P.props.onMouseDown;if(qe(k)){var R=P.getMouseInfo(O);k(R,O)}}),Be(P,"handleMouseUp",function(O){var k=P.props.onMouseUp;if(qe(k)){var R=P.getMouseInfo(O);k(R,O)}}),Be(P,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Be(P,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&P.handleMouseDown(O.changedTouches[0])}),Be(P,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&P.handleMouseUp(O.changedTouches[0])}),Be(P,"handleDoubleClick",function(O){var k=P.props.onDoubleClick;if(qe(k)){var R=P.getMouseInfo(O);k(R,O)}}),Be(P,"handleContextMenu",function(O){var k=P.props.onContextMenu;if(qe(k)){var R=P.getMouseInfo(O);k(R,O)}}),Be(P,"triggerSyncEvent",function(O){P.props.syncId!==void 0&&V1.emit(W1,P.props.syncId,O,P.eventEmitterSymbol)}),Be(P,"applySyncEvent",function(O){var k=P.props,R=k.layout,I=k.syncMethod,L=P.state.updateId,M=O.dataStartIndex,B=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)P.setState(ie({dataStartIndex:M,dataEndIndex:B},v({props:P.props,dataStartIndex:M,dataEndIndex:B,updateId:L},P.state)));else if(O.activeTooltipIndex!==void 0){var q=O.chartX,Y=O.chartY,Q=O.activeTooltipIndex,K=P.state,J=K.offset,F=K.tooltipTicks;if(!J)return;if(typeof I=="function")Q=I(F,O);else if(I==="value"){Q=-1;for(var G=0;G<F.length;G++)if(F[G].value===O.activeLabel){Q=G;break}}var D=ie(ie({},J),{},{x:J.left,y:J.top}),$=Math.min(q,D.x+D.width),z=Math.min(Y,D.y+D.height),te=F[Q]&&F[Q].value,ue=YC(P.state,P.props.data,Q),ye=F[Q]?{x:R==="horizontal"?F[Q].coordinate:$,y:R==="horizontal"?z:F[Q].coordinate}:e9;P.setState(ie(ie({},O),{},{activeLabel:te,activeCoordinate:ye,activePayload:ue,activeTooltipIndex:Q}))}else P.setState(O)}),Be(P,"renderCursor",function(O){var k,R=P.state,I=R.isTooltipActive,L=R.activeCoordinate,M=R.activePayload,B=R.offset,q=R.activeTooltipIndex,Y=R.tooltipAxisBandSize,Q=P.getTooltipEventType(),K=(k=O.props.active)!==null&&k!==void 0?k:I,J=P.props.layout,F=O.key||"_recharts-cursor";return V.createElement(yAe,{key:F,activeCoordinate:L,activePayload:M,activeTooltipIndex:q,chartName:n,element:O,isActive:K,layout:J,offset:B,tooltipAxisBandSize:Y,tooltipEventType:Q})}),Be(P,"renderPolarAxis",function(O,k,R){var I=Ir(O,"type.axisType"),L=Ir(P.state,"".concat(I,"Map")),M=O.type.defaultProps,B=M!==void 0?ie(ie({},M),O.props):O.props,q=L&&L[B["".concat(I,"Id")]];return C.cloneElement(O,ie(ie({},q),{},{className:He(I,q.className),key:O.key||"".concat(k,"-").concat(R),ticks:ko(q,!0)}))}),Be(P,"renderPolarGrid",function(O){var k=O.props,R=k.radialLines,I=k.polarAngles,L=k.polarRadius,M=P.state,B=M.radiusAxisMap,q=M.angleAxisMap,Y=Os(B),Q=Os(q),K=Q.cx,J=Q.cy,F=Q.innerRadius,G=Q.outerRadius;return C.cloneElement(O,{polarAngles:Array.isArray(I)?I:ko(Q,!0).map(function(D){return D.coordinate}),polarRadius:Array.isArray(L)?L:ko(Y,!0).map(function(D){return D.coordinate}),cx:K,cy:J,innerRadius:F,outerRadius:G,key:O.key||"polar-grid",radialLines:R})}),Be(P,"renderLegend",function(){var O=P.state.formattedGraphicalItems,k=P.props,R=k.children,I=k.width,L=k.height,M=P.props.margin||{},B=I-(M.left||0)-(M.right||0),q=I8({children:R,formattedGraphicalItems:O,legendWidth:B,legendContent:u});if(!q)return null;var Y=q.item,Q=N5(q,bAe);return C.cloneElement(Y,ie(ie({},Q),{},{chartWidth:I,chartHeight:L,margin:M,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),Be(P,"renderTooltip",function(){var O,k=P.props,R=k.children,I=k.accessibilityLayer,L=Or(R,Si);if(!L)return null;var M=P.state,B=M.isTooltipActive,q=M.activeCoordinate,Y=M.activePayload,Q=M.activeLabel,K=M.offset,J=(O=L.props.active)!==null&&O!==void 0?O:B;return C.cloneElement(L,{viewBox:ie(ie({},K),{},{x:K.left,y:K.top}),active:J,label:Q,payload:J?Y:[],coordinate:q,accessibilityLayer:I})}),Be(P,"renderBrush",function(O){var k=P.props,R=k.margin,I=k.data,L=P.state,M=L.offset,B=L.dataStartIndex,q=L.dataEndIndex,Y=L.updateId;return C.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Hm(P.handleBrushChange,O.props.onChange),data:I,x:de(O.props.x)?O.props.x:M.left,y:de(O.props.y)?O.props.y:M.top+M.height+M.brushBottom-(R.bottom||0),width:de(O.props.width)?O.props.width:M.width,startIndex:B,endIndex:q,updateId:"brush-".concat(Y)})}),Be(P,"renderReferenceElement",function(O,k,R){if(!O)return null;var I=P,L=I.clipPathId,M=P.state,B=M.xAxisMap,q=M.yAxisMap,Y=M.offset,Q=O.type.defaultProps||{},K=O.props,J=K.xAxisId,F=J===void 0?Q.xAxisId:J,G=K.yAxisId,D=G===void 0?Q.yAxisId:G;return C.cloneElement(O,{key:O.key||"".concat(k,"-").concat(R),xAxis:B[F],yAxis:q[D],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:L})}),Be(P,"renderActivePoints",function(O){var k=O.item,R=O.activePoint,I=O.basePoint,L=O.childIndex,M=O.isRange,B=[],q=k.props.key,Y=k.item.type.defaultProps!==void 0?ie(ie({},k.item.type.defaultProps),k.item.props):k.item.props,Q=Y.activeDot,K=Y.dataKey,J=ie(ie({index:L,dataKey:K,cx:R.x,cy:R.y,r:4,fill:wO(k.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},Me(Q,!1)),Qg(Q));return B.push(_.renderActiveDot(Q,J,"".concat(q,"-activePoint-").concat(L))),I?B.push(_.renderActiveDot(Q,ie(ie({},J),{},{cx:I.x,cy:I.y}),"".concat(q,"-basePoint-").concat(L))):M&&B.push(null),B}),Be(P,"renderGraphicChild",function(O,k,R){var I=P.filterFormatItem(O,k,R);if(!I)return null;var L=P.getTooltipEventType(),M=P.state,B=M.isTooltipActive,q=M.tooltipAxis,Y=M.activeTooltipIndex,Q=M.activeLabel,K=P.props.children,J=Or(K,Si),F=I.props,G=F.points,D=F.isRange,$=F.baseLine,z=I.item.type.defaultProps!==void 0?ie(ie({},I.item.type.defaultProps),I.item.props):I.item.props,te=z.activeDot,ue=z.hide,ye=z.activeBar,Oe=z.activeShape,se=!!(!ue&&B&&J&&(te||ye||Oe)),pe={};L!=="axis"&&J&&J.props.trigger==="click"?pe={onClick:Hm(P.handleItemMouseEnter,O.props.onClick)}:L!=="axis"&&(pe={onMouseLeave:Hm(P.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Hm(P.handleItemMouseEnter,O.props.onMouseEnter)});var oe=C.cloneElement(O,ie(ie({},I.props),pe));function fe(_r){return typeof q.dataKey=="function"?q.dataKey(_r.payload):null}if(se)if(Y>=0){var ve,re;if(q.dataKey&&!q.allowDuplicatedCategory){var ze=typeof q.dataKey=="function"?fe:"payload.".concat(q.dataKey.toString());ve=Xg(G,ze,Q),re=D&&$&&Xg($,ze,Q)}else ve=G==null?void 0:G[Y],re=D&&$&&$[Y];if(Oe||ye){var Le=O.props.activeIndex!==void 0?O.props.activeIndex:Y;return[C.cloneElement(O,ie(ie(ie({},I.props),pe),{},{activeIndex:Le})),null,null]}if(!Ge(ve))return[oe].concat(Lu(P.renderActivePoints({item:I,activePoint:ve,basePoint:re,childIndex:Y,isRange:D})))}else{var ct,ut=(ct=P.getItemByXY(P.state.activeCoordinate))!==null&&ct!==void 0?ct:{graphicalItem:oe},Pt=ut.graphicalItem,Kn=Pt.item,On=Kn===void 0?O:Kn,xr=Pt.childIndex,kn=ie(ie(ie({},I.props),pe),{},{activeIndex:xr});return[C.cloneElement(On,kn),null,null]}return D?[oe,null,null]:[oe,null]}),Be(P,"renderCustomized",function(O,k,R){return C.cloneElement(O,ie(ie({key:"recharts-customized-".concat(R)},P.props),P.state))}),Be(P,"renderMap",{CartesianGrid:{handler:Qm,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Qm},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Qm},YAxis:{handler:Qm},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((S=T.id)!==null&&S!==void 0?S:td("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=Rz(P.triggeredAfterMouseMove,(A=T.throttleDelay)!==null&&A!==void 0?A:1e3/60),P.state={},P}return jAe(_,y),EAe(_,[{key:"componentDidMount",value:function(){var S,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,A=S.children,P=S.data,O=S.height,k=S.layout,R=Or(A,Si);if(R){var I=R.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,M=YC(this.state,P,I,L),B=this.state.tooltipTicks[I].coordinate,q=(this.state.offset.top+O)/2,Y=k==="horizontal",Q=Y?{x:B,y:q}:{y:B,x:q},K=this.state.formattedGraphicalItems.find(function(F){var G=F.item;return G.type.name==="Scatter"});K&&(Q=ie(ie({},Q),K.props.points[I].tooltipPosition),M=K.props.points[I].tooltipPayload);var J={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:L,activePayload:M,activeCoordinate:Q};this.setState(J),this.renderCursor(R),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var P,O;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(S){RT([Or(S.children,Si)],[Or(this.props.children,Si)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Or(this.props.children,Si);if(S&&typeof S.props.shared=="boolean"){var A=S.props.shared?"axis":"item";return a.indexOf(A)>=0?A:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var A=this.container,P=A.getBoundingClientRect(),O=nye(P),k={chartX:Math.round(S.pageX-O.left),chartY:Math.round(S.pageY-O.top)},R=P.width/A.offsetWidth||1,I=this.inRange(k.chartX,k.chartY,R);if(!I)return null;var L=this.state,M=L.xAxisMap,B=L.yAxisMap,q=this.getTooltipEventType(),Y=M5(this.state,this.props.data,this.props.layout,I);if(q!=="axis"&&M&&B){var Q=Os(M).scale,K=Os(B).scale,J=Q&&Q.invert?Q.invert(k.chartX):null,F=K&&K.invert?K.invert(k.chartY):null;return ie(ie({},k),{},{xValue:J,yValue:F},Y)}return Y?ie(ie({},k),Y):null}},{key:"inRange",value:function(S,A){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,k=S/P,R=A/P;if(O==="horizontal"||O==="vertical"){var I=this.state.offset,L=k>=I.left&&k<=I.left+I.width&&R>=I.top&&R<=I.top+I.height;return L?{x:k,y:R}:null}var M=this.state,B=M.angleAxisMap,q=M.radiusAxisMap;if(B&&q){var Y=Os(B);return U3({x:k,y:R},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,A=this.getTooltipEventType(),P=Or(S,Si),O={};P&&A==="axis"&&(P.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Qg(this.props,this.handleOuterEvent);return ie(ie({},k),O)}},{key:"addListener",value:function(){V1.on(W1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){V1.removeListener(W1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,A,P){for(var O=this.state.formattedGraphicalItems,k=0,R=O.length;k<R;k++){var I=O[k];if(I.item===S||I.props.key===S.key||A===No(I.item.type)&&P===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,A=this.state.offset,P=A.left,O=A.top,k=A.height,R=A.width;return V.createElement("defs",null,V.createElement("clipPath",{id:S},V.createElement("rect",{x:P,y:O,height:k,width:R})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(A,P){var O=R5(P,2),k=O[0],R=O[1];return ie(ie({},A),{},Be({},k,R.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(A,P){var O=R5(P,2),k=O[0],R=O[1];return ie(ie({},A),{},Be({},k,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(S){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(S){var A=this.state,P=A.formattedGraphicalItems,O=A.activeItem;if(P&&P.length)for(var k=0,R=P.length;k<R;k++){var I=P[k],L=I.props,M=I.item,B=M.type.defaultProps!==void 0?ie(ie({},M.type.defaultProps),M.props):M.props,q=No(M.type);if(q==="Bar"){var Y=(L.data||[]).find(function(F){return S1e(S,F)});if(Y)return{graphicalItem:I,payload:Y}}else if(q==="RadialBar"){var Q=(L.data||[]).find(function(F){return U3(S,F)});if(Q)return{graphicalItem:I,payload:Q}}else if(Xy(I,O)||Qy(I,O)||_h(I,O)){var K=HPe({graphicalItem:I,activeTooltipItem:O,itemData:B.data}),J=B.activeIndex===void 0?K:B.activeIndex;return{graphicalItem:ie(ie({},I),{},{childIndex:J}),payload:_h(I,O)?B.data[K]:I.props.data[K]}}}return null}},{key:"render",value:function(){var S=this;if(!JM(this))return null;var A=this.props,P=A.children,O=A.className,k=A.width,R=A.height,I=A.style,L=A.compact,M=A.title,B=A.desc,q=N5(A,wAe),Y=Me(q,!1);if(L)return V.createElement(p5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(IT,jc({},Y,{width:k,height:R,title:M,desc:B}),this.renderClipPath(),eD(P,this.renderMap)));if(this.props.accessibilityLayer){var Q,K;Y.tabIndex=(Q=this.props.tabIndex)!==null&&Q!==void 0?Q:0,Y.role=(K=this.props.role)!==null&&K!==void 0?K:"application",Y.onKeyDown=function(F){S.accessibilityManager.keyboardEvent(F)},Y.onFocus=function(){S.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return V.createElement(p5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",jc({className:He("recharts-wrapper",O),style:ie({position:"relative",cursor:"default",width:k,height:R},I)},J,{ref:function(G){S.container=G}}),V.createElement(IT,jc({},Y,{width:k,height:R,title:M,desc:B,style:$Ae}),this.renderClipPath(),eD(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(C.Component);Be(x,"displayName",n),Be(x,"defaultProps",ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Be(x,"getDerivedStateFromProps",function(y,_){var T=y.dataKey,S=y.data,A=y.children,P=y.width,O=y.height,k=y.layout,R=y.stackOffset,I=y.margin,L=_.dataStartIndex,M=_.dataEndIndex;if(_.updateId===void 0){var B=D5(y);return ie(ie(ie({},B),{},{updateId:0},v(ie(ie({props:y},B),{},{updateId:0}),_)),{},{prevDataKey:T,prevData:S,prevWidth:P,prevHeight:O,prevLayout:k,prevStackOffset:R,prevMargin:I,prevChildren:A})}if(T!==_.prevDataKey||S!==_.prevData||P!==_.prevWidth||O!==_.prevHeight||k!==_.prevLayout||R!==_.prevStackOffset||!Lc(I,_.prevMargin)){var q=D5(y),Y={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},Q=ie(ie({},M5(_,S,k)),{},{updateId:_.updateId+1}),K=ie(ie(ie({},q),Y),Q);return ie(ie(ie({},K),v(ie({props:y},K),_)),{},{prevDataKey:T,prevData:S,prevWidth:P,prevHeight:O,prevLayout:k,prevStackOffset:R,prevMargin:I,prevChildren:A})}if(!RT(A,_.prevChildren)){var J,F,G,D,$=Or(A,Au),z=$&&(J=(F=$.props)===null||F===void 0?void 0:F.startIndex)!==null&&J!==void 0?J:L,te=$&&(G=(D=$.props)===null||D===void 0?void 0:D.endIndex)!==null&&G!==void 0?G:M,ue=z!==L||te!==M,ye=!Ge(S),Oe=ye&&!ue?_.updateId:_.updateId+1;return ie(ie({updateId:Oe},v(ie(ie({props:y},_),{},{updateId:Oe,dataStartIndex:z,dataEndIndex:te}),_)),{},{prevChildren:A,dataStartIndex:z,dataEndIndex:te})}return null}),Be(x,"renderActiveDot",function(y,_,T){var S;return C.isValidElement(y)?S=C.cloneElement(y,_):qe(y)?S=y(_):S=V.createElement(zy,_),V.createElement(rt,{className:"recharts-active-dot",key:T},S)});var b=C.forwardRef(function(_,T){return V.createElement(x,jc({},_,{ref:T}))});return b.displayName=x.displayName,b},GAe=n9({chartName:"PieChart",GraphicalChild:es,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Yy},{axisType:"radiusAxis",AxisComp:Gy}],formatAxisMap:Ixe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),KAe=n9({chartName:"AreaChart",GraphicalChild:Go,axisComponents:[{axisType:"xAxis",AxisComp:r0},{axisType:"yAxis",AxisComp:i0}],formatAxisMap:YTe});function YAe({data:t}){return g.jsx("div",{className:"w-full h-80",children:g.jsx(Nz,{width:"100%",height:"100%",children:g.jsxs(KAe,{data:t,margin:{top:10,right:10,left:-20,bottom:0},children:[g.jsxs("defs",{children:[g.jsxs("linearGradient",{id:"colorCalls",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),g.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),g.jsxs("linearGradient",{id:"colorAppointments",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),g.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})]}),g.jsx(LH,{strokeDasharray:"3 3",stroke:"#ffffff10"}),g.jsx(r0,{dataKey:"name",stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12}}),g.jsx(i0,{stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12}}),g.jsx(Si,{contentStyle:{backgroundColor:"#1a0f2e",border:"1px solid #6b21a8",borderRadius:"12px",color:"#fff"}}),g.jsx(ll,{wrapperStyle:{color:"#9ca3af"},iconType:"circle"}),g.jsx(Go,{type:"monotone",dataKey:"totalCalls",name:"Total Calls",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorCalls)",strokeWidth:2}),g.jsx(Go,{type:"monotone",dataKey:"appointments",name:"Appointments",stroke:"#10b981",fillOpacity:1,fill:"url(#colorAppointments)",strokeWidth:2})]})})})}const L5={appointment_set:"#10b981",callback:"#8b5cf6",voicemail:"#f59e0b",no_answer:"#6b7280",not_interested:"#ef4444",wrong_number:"#ec4899"},XAe={appointment_set:"Success",callback:"Callback",voicemail:"Voicemail",no_answer:"No Answer",not_interested:"Not Interested",wrong_number:"Wrong Number"};function QAe({data:t}){const e=t.map(n=>({name:XAe[n.outcome]||n.outcome,value:n.count,outcome:n.outcome}));return g.jsxs("div",{className:"w-full h-80 flex",children:[g.jsx("div",{className:"flex-1",children:g.jsx(Nz,{width:"100%",height:"100%",children:g.jsxs(GAe,{children:[g.jsx(es,{data:e,cx:"50%",cy:"50%",innerRadius:80,outerRadius:120,paddingAngle:2,dataKey:"value",children:e.map((n,r)=>g.jsx(Ny,{fill:L5[n.outcome]||"#6b7280"},`cell-${r}`))}),g.jsx(Si,{contentStyle:{backgroundColor:"#1a0f2e",border:"1px solid #6b21a8",borderRadius:"12px",color:"#fff"}})]})})}),g.jsx("div",{className:"w-48 flex flex-col justify-center space-y-3",children:e.map((n,r)=>g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:L5[n.outcome]||"#6b7280"}}),g.jsx("span",{className:"text-purple-300 text-sm",children:n.name})]}),g.jsx("span",{className:"text-white font-semibold text-sm",children:n.value})]},r))})]})}function JAe({insights:t}){const e=[{title:"Best Day",value:t.bestDay,subtitle:t.bestDayDetail,icon:ty,color:"text-emerald-400",bgColor:"bg-emerald-500/10"},{title:"Peak Hour",value:t.peakHour,subtitle:t.peakHourDetail,icon:qs,color:"text-blue-400",bgColor:"bg-blue-500/10"},{title:"This Week Goal",value:t.weekGoal,subtitle:t.weekGoalDetail,icon:gq,color:"text-purple-400",bgColor:"bg-purple-500/10"}];return g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((n,r)=>{const i=n.icon;return g.jsxs(me.div,{className:"bg-[#1a0f2e] rounded-2xl p-6 border border-purple-500/10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},children:[g.jsx("div",{className:`w-10 h-10 ${n.bgColor} rounded-xl flex items-center justify-center mb-4`,children:g.jsx(i,{className:`w-5 h-5 ${n.color}`})}),g.jsx("h4",{className:"text-purple-400 text-sm mb-2",children:n.title}),g.jsx("p",{className:"text-2xl font-bold text-white mb-1",children:n.value}),n.subtitle&&g.jsx("p",{className:"text-emerald-400 text-sm",children:n.subtitle})]},n.title)})})}function r9(){const[t,e]=C.useState(null),[n,r]=C.useState("week");C.useEffect(()=>{(async()=>{e({email:"demo@example.com"})})()},[]);const{data:i}=Dt({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:O,error:k}=await Ne.from("user_stats").select().eq("user_email",t.email).maybeSingle();if(k)throw k;return O||null},enabled:!!(t!=null&&t.email)}),{data:o=[]}=Dt({queryKey:["allCallLogs"],queryFn:async()=>{const{data:O,error:k}=await Ne.from("call_logs").select().order("created_at",{ascending:!1}).limit(1e3);if(k)throw k;return O||[]}}),s=()=>{const O=new Date;return n==="today"?ST(O):n==="week"?vl(O):n==="month"?yde(O):vl(O)},a=o.filter(O=>{const k=Uw(O.created_at);return bfe(k,s())}),c=a.length,u=a.filter(O=>O.outcome==="appointment_set").length,f=a.filter(O=>O.outcome!=="no_answer"&&O.outcome!=="wrong_number").length,h=c>0?(f/c*100).toFixed(1):"0.0",p=c>0?(u/c*100).toFixed(1):"0.0",v=a.reduce((O,k)=>O+(k.duration||0),0),x=c>0?Math.floor(v/c):0,b=O=>{const k=Math.floor(O/60),R=O%60;return`${k}m ${R}s`},y=()=>{const O={};return a.forEach(k=>{const R=U2(Uw(k.created_at),n==="month"?"MMM d":"EEE");O[R]||(O[R]={name:R,totalCalls:0,appointments:0}),O[R].totalCalls++,k.outcome==="appointment_set"&&O[R].appointments++}),Object.values(O)},_=()=>{const O={};return a.forEach(k=>{const R=k.outcome||"unknown";O[R]=(O[R]||0)+1}),Object.entries(O).map(([k,R])=>({outcome:k,count:R}))},T=()=>{const O={},k={};a.forEach(B=>{const q=Uw(B.created_at),Y=U2(q,"EEEE"),Q=q.getHours();O[Y]=(O[Y]||0)+1,k[Q]=(k[Q]||0)+1});const R=Object.entries(O).sort((B,q)=>q[1]-B[1])[0],I=Object.entries(k).sort((B,q)=>q[1]-B[1])[0],L=i!=null&&i.daily_goal?`${p}%`:"0%",M=i!=null&&i.daily_goal?`${u}/${i.daily_goal*7} calls`:"";return{bestDay:R?R[0]:"N/A",bestDayDetail:R?`${R[1]} calls made`:"",peakHour:I?`${I[0]}:00 - ${parseInt(I[0])+1}:00`:"N/A",peakHourDetail:I?"Highest conversion":"",weekGoal:L,weekGoalDetail:M}},S=y(),A=_(),P=T();return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e] p-6",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsx(Cl,{userStats:i}),g.jsx("div",{className:"mb-6",children:g.jsx(El,{})}),g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold text-white",children:"Performance Metrics"}),g.jsx("p",{className:"text-purple-300 text-sm",children:"Track your calling performance"})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(Ze,{onClick:()=>r("today"),variant:n==="today"?"default":"outline",className:n==="today"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-[#2d1f4a] border-purple-500/30 text-purple-300 hover:bg-purple-900/30",children:"Today"}),g.jsx(Ze,{onClick:()=>r("week"),variant:n==="week"?"default":"outline",className:n==="week"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-[#2d1f4a] border-purple-500/30 text-purple-300 hover:bg-purple-900/30",children:"This Week"}),g.jsx(Ze,{onClick:()=>r("month"),variant:n==="month"?"default":"outline",className:n==="month"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-[#2d1f4a] border-purple-500/30 text-purple-300 hover:bg-purple-900/30",children:"This Month"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[g.jsx(mc,{title:"Total Calls",value:c,icon:Mt,trend:"+12%",trendValue:12,delay:0}),g.jsx(mc,{title:"Connection Rate",value:`${h}%`,icon:QP,trend:"+5%",trendValue:5,delay:.05}),g.jsx(mc,{title:"Success Rate",value:`${p}%`,icon:Fo,trend:"+8%",trendValue:8,delay:.1}),g.jsx(mc,{title:"Total Talk Time",value:b(v),icon:qs,trend:"+2h",trendValue:120,delay:.15}),g.jsx(mc,{title:"Avg Call Duration",value:b(x),icon:CI,trend:"+30s",trendValue:30,delay:.2}),g.jsx(mc,{title:"Calls Recorded",value:c,icon:ny,trend:"+15",trendValue:15,delay:.25})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx(CI,{className:"w-5 h-5 text-purple-400"}),g.jsx("h3",{className:"text-xl font-bold text-white",children:"Call Volume"})]}),S.length>0?g.jsx(YAe,{data:S}):g.jsx("div",{className:"h-80 flex items-center justify-center text-purple-400",children:"No data available for this period"})]}),g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},children:[g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx(QP,{className:"w-5 h-5 text-purple-400"}),g.jsx("h3",{className:"text-xl font-bold text-white",children:"Call Outcomes"})]}),A.length>0?g.jsx(QAe,{data:A}):g.jsx("div",{className:"h-80 flex items-center justify-center text-purple-400",children:"No data available for this period"})]})]}),g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Quick Insights"}),g.jsx(JAe,{insights:P})]})]})})}const ZAe=[{id:1,name:"First Blood",desc:"Make your very first call",icon:cne,requirement:1,field:"calls_today",color:"text-blue-400",bgColor:"bg-blue-500/10"},{id:2,name:"The Talker",desc:"Make 10 calls in a day",icon:Mt,requirement:10,field:"calls_today",color:"text-sky-400",bgColor:"bg-sky-500/10"},{id:3,name:"Call King",desc:"Make 50 calls in a day",icon:Mg,requirement:50,field:"calls_today",color:"text-yellow-400",bgColor:"bg-yellow-500/10"},{id:4,name:"Appointment Maker",desc:"Book your first appointment",icon:KP,requirement:1,field:"appointments_today",color:"text-emerald-400",bgColor:"bg-emerald-500/10"},{id:5,name:"Streak Starter",desc:"Achieve a 3-day call streak",icon:Dg,requirement:3,field:"current_streak",color:"text-red-400",bgColor:"bg-red-500/10"},{id:6,name:"Unstoppable",desc:"Achieve a 7-day call streak",icon:Zte,requirement:7,field:"current_streak",color:"text-orange-400",bgColor:"bg-orange-500/10"},{id:7,name:"Point Collector",desc:"Earn 500 points",icon:Ate,requirement:500,field:"total_points",color:"text-purple-400",bgColor:"bg-purple-500/10"},{id:8,name:"Grand Master",desc:"Earn 2000 points",icon:one,requirement:2e3,field:"total_points",color:"text-indigo-400",bgColor:"bg-indigo-500/10"},{id:9,name:"Level Up!",desc:"Reach Level 3",icon:Fo,requirement:3,field:"level",color:"text-pink-400",bgColor:"bg-pink-500/10"},{id:10,name:"Legendary Closer",desc:"Reach Level 5",icon:Mg,requirement:5,field:"level",color:"text-amber-400",bgColor:"bg-amber-500/10"}];function i9(){const[t,e]=C.useState(null);C.useEffect(()=>{(async()=>{e({email:"demo@example.com"})})()},[]);const{data:n}=Dt({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:o,error:s}=await Ne.from("user_stats").select().eq("user_email",t.email).maybeSingle();if(s)throw s;return o||null},enabled:!!(t!=null&&t.email)}),r=o=>n?(n[o.field]||0)>=o.requirement:!1,i=o=>{if(!n)return 0;const s=n[o.field]||0;return Math.min(s/o.requirement*100,100)};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e] p-6",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsx(Cl,{userStats:n}),g.jsx("div",{className:"mb-6",children:g.jsx(El,{})}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ZAe.map((o,s)=>{const a=o.icon,c=r(o),u=i(o);return g.jsxs(me.div,{className:`
                  bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border 
                  ${c?"border-amber-500/50 shadow-lg shadow-amber-500/20":"border-purple-500/20"}
                  relative overflow-hidden
                `,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:s*.1},children:[c&&g.jsx("div",{className:"absolute top-4 right-4",children:g.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-full flex items-center justify-center",children:g.jsx(Vs,{className:"w-4 h-4 text-white fill-white"})})}),g.jsx("div",{className:`w-16 h-16 ${o.bgColor} rounded-2xl flex items-center justify-center mb-4`,children:g.jsx(a,{className:`w-8 h-8 ${c?o.color:"text-purple-600/50"}`})}),g.jsx("h3",{className:`text-xl font-bold mb-2 ${c?"text-white":"text-purple-300"}`,children:o.name}),g.jsx("p",{className:"text-purple-400 text-sm mb-4",children:o.desc}),g.jsx("div",{className:"w-full h-2 bg-[#1a0f2e] rounded-full overflow-hidden",children:g.jsx(me.div,{className:`h-full rounded-full ${c?"bg-gradient-to-r from-amber-400 to-amber-600":"bg-gradient-to-r from-purple-500 to-indigo-500"}`,initial:{width:0},animate:{width:`${u}%`},transition:{duration:1,delay:s*.1}})}),g.jsx("p",{className:"text-purple-400 text-xs mt-2",children:c?"Unlocked!":`${(n==null?void 0:n[o.field])||0} / ${o.requirement}`})]},o.id)})})]})})}var s0="Switch",[eOe]=Al(s0),[tOe,nOe]=eOe(s0),o9=C.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:c="on",onCheckedChange:u,form:f,...h}=t,[p,v]=C.useState(null),x=qt(e,S=>v(S)),b=C.useRef(!1),y=p?f||!!p.closest("form"):!0,[_,T]=lu({prop:i,defaultProp:o??!1,onChange:u,caller:s0});return g.jsxs(tOe,{scope:n,checked:_,disabled:a,children:[g.jsx(it.button,{type:"button",role:"switch","aria-checked":_,"aria-required":s,"data-state":c9(_),"data-disabled":a?"":void 0,disabled:a,value:c,...h,ref:x,onClick:nt(t.onClick,S=>{T(A=>!A),y&&(b.current=S.isPropagationStopped(),b.current||S.stopPropagation())})}),y&&g.jsx(l9,{control:p,bubbles:!b.current,name:r,value:c,checked:_,required:s,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});o9.displayName=s0;var s9="SwitchThumb",a9=C.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=nOe(s9,n);return g.jsx(it.span,{"data-state":c9(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});a9.displayName=s9;var rOe="SwitchBubbleInput",l9=C.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},o)=>{const s=C.useRef(null),a=qt(s,o),c=gV(n),u=oV(e);return C.useEffect(()=>{const f=s.current;if(!f)return;const h=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&v){const x=new Event("click",{bubbles:r});v.call(f,n),f.dispatchEvent(x)}},[c,n,r]),g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});l9.displayName=rOe;function c9(t){return t?"checked":"unchecked"}var u9=o9,iOe=a9;const xo=C.forwardRef(({className:t,...e},n)=>g.jsx(u9,{className:et("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:g.jsx(iOe,{className:et("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));xo.displayName=u9.displayName;function d9(){var _,T;const[t,e]=C.useState(null),[n,r]=C.useState({double_dial_enabled:!1,max_dialing_lines:1,auto_detect_voicemail:!1,timezone_protection:!0,timezone:"America/New_York",calling_hours_start:"09:00",calling_hours_end:"17:00",theme:"regular",calendly_url:""}),[i,o]=C.useState(1e4),s=Tl(),{currentTheme:a,changeTheme:c,themes:u}=nA();C.useEffect(()=>{(async()=>{e({email:"demo@example.com"})})()},[]);const{data:f}=Dt({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:S,error:A}=await Ne.from("user_stats").select().eq("user_email",t.email).maybeSingle();if(A)throw A;return S||null},enabled:!!(t!=null&&t.email)}),{data:h}=Dt({queryKey:["dialerSettings",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:S,error:A}=await Ne.from("dialer_settings").select().eq("user_email",t.email).maybeSingle();if(A&&A.code!=="PGRST116")throw A;return S?(r(S),S):null},enabled:!!(t!=null&&t.email)});C.useEffect(()=>{f!=null&&f.cash_collected_goal&&o(f.cash_collected_goal)},[f]);const p=il({mutationFn:async S=>{const{data:A,error:P}=await Ne.from("dialer_settings").upsert({user_email:t.email,...S,updated_at:new Date().toISOString()},{onConflict:"user_email"}).select().single();if(P)throw P;return A},onSuccess:()=>{s.invalidateQueries(["dialerSettings"])}}),v=il({mutationFn:async S=>{const{error:A}=await Ne.from("user_stats").update({cash_collected_goal:S}).eq("user_email",t.email);if(A)throw A},onSuccess:()=>{s.invalidateQueries(["userStats"])}}),x=(S,A)=>{const P={...n,[S]:A};r(P),p.mutate(P)},b=()=>{v.mutate(i)},y=()=>{window.location.href="/"};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e] p-6",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsx(Cl,{userStats:f}),g.jsx("div",{className:"mb-6",children:g.jsx(El,{})}),g.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx(vq,{className:"w-5 h-5 text-purple-400"}),g.jsx("h2",{className:"text-xl font-bold text-white",children:"Profile"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-purple-300 text-sm mb-2 block",children:"Name"}),g.jsx(en,{value:(t==null?void 0:t.full_name)||"",disabled:!0,className:"bg-[#1a0f2e] border-purple-500/20 text-white"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-purple-300 text-sm mb-2 block",children:"Email"}),g.jsx(en,{value:(t==null?void 0:t.email)||"",disabled:!0,className:"bg-[#1a0f2e] border-purple-500/20 text-white"})]})]})]}),g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx(Mt,{className:"w-5 h-5 text-purple-400"}),g.jsx("h2",{className:"text-xl font-bold text-white",children:"Dialer Settings"})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"p-4 bg-cyan-500/10 border border-cyan-500/30 rounded-xl",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium",children:"Demo Mode"}),g.jsx("p",{className:"text-cyan-300 text-sm mt-1",children:"Test dialing without Twilio credentials"})]}),g.jsx(xo,{checked:n.use_mock_dialer,onCheckedChange:S=>x("use_mock_dialer",S)})]}),g.jsxs("div",{className:"text-cyan-400 text-xs space-y-1",children:[g.jsx("p",{children:" Perfect for testing and development"}),g.jsx("p",{children:" Simulates realistic call flow with status transitions"}),g.jsx("p",{children:" No Twilio account required"}),g.jsx("p",{children:" All features work as they would in production"})]})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium",children:"Double Dial"}),g.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Call two numbers simultaneously"})]}),g.jsx(xo,{checked:n.double_dial_enabled,onCheckedChange:S=>x("double_dial_enabled",S)})]}),g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium mb-2 block",children:"Max Dialing Lines"}),g.jsxs("select",{value:n.max_dialing_lines,onChange:S=>x("max_dialing_lines",parseInt(S.target.value)),className:"w-full p-2 bg-[#1a0f2e] border border-purple-500/20 rounded-xl text-white",children:[g.jsx("option",{value:"1",children:"1 Line"}),g.jsx("option",{value:"2",children:"2 Lines"}),g.jsx("option",{value:"3",children:"3 Lines"})]})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium",children:"Auto-Detect Voicemail"}),g.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Automatically detect and skip voicemails"})]}),g.jsx(xo,{checked:n.auto_detect_voicemail,onCheckedChange:S=>x("auto_detect_voicemail",S)})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium",children:"Timezone Protection"}),g.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Respect calling hours based on timezone"})]}),g.jsx(xo,{checked:n.timezone_protection,onCheckedChange:S=>x("timezone_protection",S)})]}),n.timezone_protection&&g.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-purple-500/30",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-purple-300 text-sm mb-2 block",children:"Timezone"}),g.jsxs("select",{value:n.timezone,onChange:S=>x("timezone",S.target.value),className:"w-full p-2 bg-[#1a0f2e] border border-purple-500/20 rounded-xl text-white",children:[g.jsx("option",{value:"America/New_York",children:"Eastern Time"}),g.jsx("option",{value:"America/Chicago",children:"Central Time"}),g.jsx("option",{value:"America/Denver",children:"Mountain Time"}),g.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-purple-300 text-sm mb-2 block",children:"Start Time"}),g.jsx(en,{type:"time",value:n.calling_hours_start,onChange:S=>x("calling_hours_start",S.target.value),className:"bg-[#1a0f2e] border-purple-500/20 text-white"})]}),g.jsxs("div",{children:[g.jsx(xt,{className:"text-purple-300 text-sm mb-2 block",children:"End Time"}),g.jsx(en,{type:"time",value:n.calling_hours_end,onChange:S=>x("calling_hours_end",S.target.value),className:"bg-[#1a0f2e] border-purple-500/20 text-white"})]})]})]})]})]}),g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx(GE,{className:"w-5 h-5 text-purple-400"}),g.jsx("h2",{className:"text-xl font-bold text-white",children:"Advanced Dialer Settings"})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium",children:"Call Recording"}),g.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Record all calls for quality and training"})]}),g.jsx(xo,{checked:n.enable_call_recording,onCheckedChange:S=>x("enable_call_recording",S)})]}),g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium mb-2 block",children:"Voicemail Detection Sensitivity"}),g.jsxs("select",{value:n.amd_sensitivity||"medium",onChange:S=>x("amd_sensitivity",S.target.value),className:"w-full p-2 bg-[#1a0f2e] border border-purple-500/20 rounded-xl text-white",children:[g.jsx("option",{value:"low",children:"Low (3 seconds)"}),g.jsx("option",{value:"medium",children:"Medium (5 seconds)"}),g.jsx("option",{value:"high",children:"High (7 seconds)"})]}),g.jsx("p",{className:"text-purple-400 text-xs mt-2",children:"Higher sensitivity takes longer but is more accurate"})]}),g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium mb-2 block",children:"Voicemail Detection Action"}),g.jsxs("select",{value:n.amd_action||"disconnect",onChange:S=>x("amd_action",S.target.value),className:"w-full p-2 bg-[#1a0f2e] border border-purple-500/20 rounded-xl text-white",children:[g.jsx("option",{value:"disconnect",children:"Disconnect immediately"}),g.jsx("option",{value:"continue",children:"Continue the call"}),g.jsx("option",{value:"notify",children:"Notify and let me decide"})]})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium",children:"Local Presence"}),g.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Use caller ID matching lead's area code"})]}),g.jsx(xo,{checked:n.local_presence_enabled,onCheckedChange:S=>x("local_presence_enabled",S)})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium",children:"Auto-Advance on Complete"}),g.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Automatically move to next lead after call"})]}),g.jsx(xo,{checked:n.auto_advance_on_complete!==!1,onCheckedChange:S=>x("auto_advance_on_complete",S)})]}),g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium mb-2 block",children:"Session Timeout (minutes)"}),g.jsx(en,{type:"number",value:n.session_timeout_minutes||60,onChange:S=>x("session_timeout_minutes",parseInt(S.target.value)),className:"bg-[#1a0f2e] border-purple-500/20 text-white",min:"15",max:"480"}),g.jsx("p",{className:"text-purple-400 text-xs mt-2",children:"Inactive sessions will expire after this time"})]})]})]}),g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.18},children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx(Fte,{className:"w-5 h-5 text-purple-400"}),g.jsx("h2",{className:"text-xl font-bold text-white",children:"Spotify Integration"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-white font-medium",children:"Enable Spotify"}),g.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Play music during dialing sessions"})]}),g.jsx(xo,{checked:n.spotify_enabled,onCheckedChange:S=>x("spotify_enabled",S)})]}),n.spotify_enabled&&g.jsxs("div",{className:"pl-4 border-l-2 border-purple-500/30",children:[g.jsx(xt,{className:"text-purple-300 text-sm mb-2 block",children:"Playlist ID"}),g.jsx(en,{value:n.spotify_playlist_id||"",onChange:S=>x("spotify_playlist_id",S.target.value),placeholder:"37i9dQZF1DXcBWIGoYBM5M",className:"bg-[#1a0f2e] border-purple-500/20 text-white"}),g.jsx("p",{className:"text-purple-400 text-xs mt-2",children:"Enter the Spotify playlist ID from your playlist URL"})]})]})]}),g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx(Ute,{className:"w-5 h-5 text-purple-400"}),g.jsx("h2",{className:"text-xl font-bold text-white",children:"Theme"})]}),g.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.keys(u).map(S=>g.jsx("button",{onClick:()=>c(S),className:`p-4 rounded-2xl border-2 transition-all capitalize ${a===S?"border-indigo-500 bg-indigo-50/10":"border-purple-500/20 hover:border-purple-500/40"}`,children:g.jsx("p",{className:"text-white font-medium",children:u[S].name})},S))})]}),g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx(ty,{className:"w-5 h-5 text-purple-400"}),g.jsx("h2",{className:"text-xl font-bold text-white",children:"Calendly Integration"})]}),g.jsxs("div",{children:[g.jsx(xt,{className:"text-purple-300 text-sm mb-2 block",children:"Calendly Booking URL"}),g.jsx(en,{value:n.calendly_url,onChange:S=>x("calendly_url",S.target.value),placeholder:"https://calendly.com/your-link",className:"bg-[#1a0f2e] border-purple-500/20 text-white"}),g.jsx("p",{className:"text-purple-400 text-xs mt-2",children:"Enter your Calendly link to enable quick appointment booking"})]})]}),g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx(ou,{className:"w-5 h-5 text-purple-400"}),g.jsx("h2",{className:"text-xl font-bold text-white",children:"Cash Goals"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx(xt,{className:"text-purple-300 text-sm mb-2 block",children:"Cash Collected Goal"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(en,{type:"number",value:i,onChange:S=>o(parseFloat(S.target.value)),className:"bg-[#1a0f2e] border-purple-500/20 text-white"}),g.jsx(Ze,{onClick:b,className:"bg-indigo-600 hover:bg-indigo-700",children:"Save"})]})]}),g.jsxs("div",{className:"p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-xl",children:[g.jsxs("p",{className:"text-emerald-400 text-sm",children:["Current: $",((_=f==null?void 0:f.cash_collected)==null?void 0:_.toLocaleString())||"0"]}),g.jsxs("p",{className:"text-emerald-300 font-semibold text-lg mt-1",children:["$",((T=f==null?void 0:f.cash_collected_goal)==null?void 0:T.toLocaleString())||"10,000"," Goal"]})]})]})]}),g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx(kte,{className:"w-5 h-5 text-purple-400"}),g.jsx("h2",{className:"text-xl font-bold text-white",children:"Quick Links"})]}),g.jsx("div",{className:"space-y-3",children:g.jsxs(oy,{to:Iq("Leads"),className:"block w-full p-4 bg-[#1a0f2e] rounded-xl border border-purple-500/10 hover:border-purple-500/30 transition-all",children:[g.jsx("p",{className:"text-white font-medium",children:"Manage Leads"}),g.jsx("p",{className:"text-purple-400 text-sm",children:"Add and organize your leads"})]})})]}),g.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:g.jsxs(Ze,{onClick:y,variant:"outline",className:"w-full h-14 bg-red-500/10 border-red-500/30 text-red-400 hover:bg-red-500/20 rounded-2xl",children:[g.jsx(Nte,{className:"w-5 h-5 mr-2"}),"Logout"]})})]})]})})}function oOe({userEmail:t="demo@example.com",favorites:e=[]}){const[n,r]=C.useState(!1),[i,o]=C.useState(null),[s,a]=C.useState({name:"",phone_number:"",company:"",email:"",notes:"",speed_dial_slot:null}),c=Tl(),u=il({mutationFn:async y=>{const{error:_}=await Ne.from("dialer_favorites").insert({...y,user_email:t});if(_)throw _},onSuccess:()=>{c.invalidateQueries(["dialerFavorites"]),$n.success("Favorite added successfully"),r(!1),p()},onError:y=>{$n.error(y.message||"Failed to add favorite")}}),f=il({mutationFn:async({id:y,data:_})=>{const{error:T}=await Ne.from("dialer_favorites").update(_).eq("id",y).eq("user_email",t);if(T)throw T},onSuccess:()=>{c.invalidateQueries(["dialerFavorites"]),$n.success("Favorite updated successfully"),o(null),p()},onError:y=>{$n.error(y.message||"Failed to update favorite")}}),h=il({mutationFn:async y=>{const{error:_}=await Ne.from("dialer_favorites").delete().eq("id",y).eq("user_email",t);if(_)throw _},onSuccess:()=>{c.invalidateQueries(["dialerFavorites"]),$n.success("Favorite deleted")},onError:y=>{$n.error(y.message||"Failed to delete favorite")}}),p=()=>{a({name:"",phone_number:"",company:"",email:"",notes:"",speed_dial_slot:null})},v=y=>{if(y.preventDefault(),!s.name||!s.phone_number){$n.error("Name and phone number are required");return}i?f.mutate({id:i.id,data:s}):u.mutate(s)},x=y=>{o(y),a({name:y.name||"",phone_number:y.phone_number||"",company:y.company||"",email:y.email||"",notes:y.notes||"",speed_dial_slot:y.speed_dial_slot||null}),r(!0)},b=()=>{r(!1),o(null),p()};return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Favorite Contacts"}),g.jsxs(Ze,{onClick:()=>r(!0),size:"sm",className:"rounded-full",children:[g.jsx(pq,{className:"w-4 h-4 mr-2"}),"Add Favorite"]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(y=>g.jsxs(me.div,{className:"bg-white border border-slate-200 rounded-2xl p-4 hover:shadow-lg transition-all",whileHover:{scale:1.02},children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-white font-semibold flex-shrink-0",children:OW(y.name)}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-start justify-between gap-2",children:[g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h4",{className:"font-semibold text-slate-800 truncate",children:y.name}),y.company&&g.jsx("p",{className:"text-sm text-slate-500 truncate",children:y.company})]}),y.speed_dial_slot&&g.jsx("div",{className:"w-6 h-6 rounded-full bg-amber-100 text-amber-600 flex items-center justify-center text-xs font-bold flex-shrink-0",children:y.speed_dial_slot})]}),g.jsx("p",{className:"text-sm text-slate-600 mt-1 font-mono",children:Ua(y.phone_number)}),y.email&&g.jsx("p",{className:"text-xs text-slate-400 mt-1 truncate",children:y.email}),y.call_count>0&&g.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Called ",y.call_count," time",y.call_count!==1?"s":""]})]})]}),g.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-slate-100",children:[g.jsxs(Ze,{variant:"ghost",size:"sm",onClick:()=>x(y),className:"flex-1",children:[g.jsx(Vte,{className:"w-3 h-3 mr-1"}),"Edit"]}),g.jsxs(Ze,{variant:"ghost",size:"sm",onClick:()=>h.mutate(y.id),className:"flex-1 text-red-600 hover:text-red-700 hover:bg-red-50",children:[g.jsx(XP,{className:"w-3 h-3 mr-1"}),"Delete"]})]})]},y.id))}),e.length===0&&g.jsxs("div",{className:"text-center py-12 text-slate-500",children:[g.jsx(Vs,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),g.jsx("p",{children:"No favorite contacts yet"}),g.jsx("p",{className:"text-sm mt-1",children:"Add contacts for quick access"})]}),g.jsx(zf,{open:n,onOpenChange:b,children:g.jsxs(cu,{className:"rounded-3xl",children:[g.jsx(uu,{children:g.jsx(du,{children:i?"Edit Favorite":"Add Favorite Contact"})}),g.jsxs("form",{onSubmit:v,className:"space-y-4 mt-4",children:[g.jsxs("div",{children:[g.jsx(xt,{htmlFor:"name",children:"Name *"}),g.jsx(en,{id:"name",value:s.name,onChange:y=>a({...s,name:y.target.value}),placeholder:"John Doe",required:!0,className:"mt-1"})]}),g.jsxs("div",{children:[g.jsx(xt,{htmlFor:"phone",children:"Phone Number *"}),g.jsx(en,{id:"phone",value:s.phone_number,onChange:y=>a({...s,phone_number:y.target.value}),placeholder:"+1 (555) 123-4567",required:!0,className:"mt-1"})]}),g.jsxs("div",{children:[g.jsx(xt,{htmlFor:"company",children:"Company"}),g.jsx(en,{id:"company",value:s.company,onChange:y=>a({...s,company:y.target.value}),placeholder:"Acme Inc.",className:"mt-1"})]}),g.jsxs("div",{children:[g.jsx(xt,{htmlFor:"email",children:"Email"}),g.jsx(en,{id:"email",type:"email",value:s.email,onChange:y=>a({...s,email:y.target.value}),placeholder:"john@example.com",className:"mt-1"})]}),g.jsxs("div",{children:[g.jsx(xt,{htmlFor:"speedDial",children:"Speed Dial Slot (1-9)"}),g.jsx(en,{id:"speedDial",type:"number",min:"1",max:"9",value:s.speed_dial_slot||"",onChange:y=>a({...s,speed_dial_slot:y.target.value?parseInt(y.target.value):null}),placeholder:"Optional",className:"mt-1"})]}),g.jsxs("div",{children:[g.jsx(xt,{htmlFor:"notes",children:"Notes"}),g.jsx(en,{id:"notes",value:s.notes,onChange:y=>a({...s,notes:y.target.value}),placeholder:"Additional notes...",className:"mt-1"})]}),g.jsxs("div",{className:"flex gap-2 pt-2",children:[g.jsx(Ze,{type:"button",variant:"outline",onClick:b,className:"flex-1",children:"Cancel"}),g.jsxs(Ze,{type:"submit",disabled:u.isPending||f.isPending,className:"flex-1",children:[g.jsx(tne,{className:"w-4 h-4 mr-2"}),i?"Update":"Add"," Favorite"]})]})]})]})})]})}function f9(){const[t,e]=C.useState(null),[n,r]=C.useState(!1);C.useEffect(()=>{(async()=>{e({email:"demo@example.com"})})()},[]);const{data:i}=Dt({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:u,error:f}=await Ne.from("user_stats").select().eq("user_email",t.email).maybeSingle();if(f)throw f;return u||null},enabled:!!(t!=null&&t.email)}),{data:o=[]}=Dt({queryKey:["dialerFavorites",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return[];const{data:u,error:f}=await Ne.from("dialer_favorites").select("*").eq("user_email",t.email).order("sort_order",{ascending:!0});if(f)throw f;return u||[]},enabled:!!(t!=null&&t.email)}),{data:s=[]}=Dt({queryKey:["dialerCallHistory",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return[];const{data:u,error:f}=await Ne.from("dialer_call_history").select("*").eq("user_email",t.email).order("started_at",{ascending:!1}).limit(50);if(f)throw f;return u||[]},enabled:!!(t!=null&&t.email)}),{data:a=[]}=Dt({queryKey:["recentNumbers",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return[];const{data:u,error:f}=await Ne.from("recent_numbers").select("*").eq("user_email",t.email).order("last_called_at",{ascending:!1}).limit(10);if(f)throw f;return u||[]},enabled:!!(t!=null&&t.email)}),c={totalCalls:s.length,completedCalls:s.filter(u=>u.status==="completed").length,totalDuration:s.reduce((u,f)=>u+(f.duration||0),0),missedCalls:s.filter(u=>u.is_missed).length};return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e] relative overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-600/20 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-indigo-600/20 rounded-full blur-3xl"})]}),g.jsxs("div",{className:"relative z-10 p-6 max-w-7xl mx-auto",children:[g.jsx(Cl,{userStats:i}),g.jsx("div",{className:"mb-6",children:g.jsx(El,{})}),g.jsxs(me.div,{className:"flex items-center justify-between mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-white",children:"Phone Manager"}),g.jsx("p",{className:"text-purple-300 mt-1",children:"Manage contacts, view history, and make calls"})]}),g.jsxs(Ze,{onClick:()=>r(!0),className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 rounded-xl shadow-lg",children:[g.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Open Dialer"]})]}),g.jsxs(me.div,{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-emerald-500/20",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-emerald-300 text-sm",children:"Total Calls"}),g.jsx(Mt,{className:"w-4 h-4 text-emerald-400"})]}),g.jsx("p",{className:"text-3xl font-bold text-white",children:c.totalCalls})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-blue-500/20",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-blue-300 text-sm",children:"Completed"}),g.jsx(Mt,{className:"w-4 h-4 text-blue-400"})]}),g.jsx("p",{className:"text-3xl font-bold text-white",children:c.completedCalls})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-purple-300 text-sm",children:"Total Time"}),g.jsx(qs,{className:"w-4 h-4 text-purple-400"})]}),g.jsx("p",{className:"text-3xl font-bold text-white",children:q2(c.totalDuration)})]}),g.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-amber-500/20",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-amber-300 text-sm",children:"Favorites"}),g.jsx(Vs,{className:"w-4 h-4 text-amber-400"})]}),g.jsx("p",{className:"text-3xl font-bold text-white",children:o.length})]})]}),g.jsxs(AW,{defaultValue:"favorites",className:"w-full",children:[g.jsxs(EA,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm border border-purple-500/20 mb-6",children:[g.jsxs(sl,{value:"favorites",className:"data-[state=active]:bg-purple-600",children:[g.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Favorites"]}),g.jsxs(sl,{value:"recent",className:"data-[state=active]:bg-purple-600",children:[g.jsx(qs,{className:"w-4 h-4 mr-2"}),"Recent"]}),g.jsxs(sl,{value:"history",className:"data-[state=active]:bg-purple-600",children:[g.jsx(Mt,{className:"w-4 h-4 mr-2"}),"Call History"]})]}),g.jsx(al,{value:"favorites",children:g.jsx(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:g.jsx(oOe,{userEmail:t==null?void 0:t.email,favorites:o})})}),g.jsx(al,{value:"recent",children:g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[g.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Numbers"}),g.jsx("div",{className:"space-y-2",children:a.length===0?g.jsxs("div",{className:"text-center py-12 text-purple-300",children:[g.jsx(qs,{className:"w-12 h-12 mx-auto mb-2 text-purple-500/30"}),g.jsx("p",{children:"No recent calls"})]}):a.map(u=>g.jsxs(me.div,{className:"flex items-center justify-between p-4 rounded-xl bg-[#1a0f2e]/50 hover:bg-[#1a0f2e] transition-colors",whileHover:{scale:1.02},children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-medium text-white",children:u.contact_name||Ua(u.phone_number)}),g.jsxs("div",{className:"text-sm text-purple-300",children:["Called ",u.call_count," time",u.call_count!==1?"s":""]})]}),g.jsx(Ze,{size:"sm",onClick:()=>r(!0),className:"bg-blue-600 hover:bg-blue-700",children:g.jsx(Mt,{className:"w-4 h-4"})})]},u.id))})]})}),g.jsx(al,{value:"history",children:g.jsxs(me.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[g.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Call History"}),g.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:s.length===0?g.jsxs("div",{className:"text-center py-12 text-purple-300",children:[g.jsx(Mt,{className:"w-12 h-12 mx-auto mb-2 text-purple-500/30"}),g.jsx("p",{children:"No call history"})]}):s.map(u=>g.jsxs(me.div,{className:"flex items-center gap-4 p-4 rounded-xl bg-[#1a0f2e]/50 hover:bg-[#1a0f2e] transition-colors",whileHover:{scale:1.01},children:[g.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${u.direction==="inbound"?"bg-blue-500/20":"bg-green-500/20"}`,children:g.jsx(Mt,{className:`w-5 h-5 ${u.direction==="inbound"?"text-blue-400 rotate-180":"text-green-400"}`})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"font-medium text-white truncate",children:u.contact_name||Ua(u.phone_number)}),g.jsxs("div",{className:"text-sm text-purple-300",children:[u.status==="completed"?g.jsxs(g.Fragment,{children:["Duration: ",q2(u.duration)]}):g.jsxs(g.Fragment,{children:["Status: ",u.status]}),u.is_missed&&g.jsx("span",{className:"text-red-400 ml-2",children:"(Missed)"})]})]}),g.jsxs("div",{className:"text-right text-sm text-purple-400 flex-shrink-0",children:[g.jsx("div",{children:new Date(u.started_at).toLocaleDateString()}),g.jsx("div",{children:new Date(u.started_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},u.id))})]})})]})]}),g.jsx(Pl,{children:n&&g.jsx(kW,{onClose:()=>r(!1),userEmail:t==null?void 0:t.email})})]})}const F5={Home:CT,Leads:jW,Leaderboard:RW,Metrics:r9,Achievements:i9,Settings:d9,PhoneManager:f9};function sOe(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(F5).find(r=>r.toLowerCase()===e.toLowerCase())||Object.keys(F5)[0]}function aOe(){const t=Xo(),e=sOe(t.pathname);return g.jsx(PG,{currentPageName:e,children:g.jsxs(_re,{children:[g.jsx(wo,{path:"/",element:g.jsx(CT,{})}),g.jsx(wo,{path:"/Home",element:g.jsx(CT,{})}),g.jsx(wo,{path:"/Leads",element:g.jsx(jW,{})}),g.jsx(wo,{path:"/Leaderboard",element:g.jsx(RW,{})}),g.jsx(wo,{path:"/Metrics",element:g.jsx(r9,{})}),g.jsx(wo,{path:"/Achievements",element:g.jsx(i9,{})}),g.jsx(wo,{path:"/Settings",element:g.jsx(d9,{})}),g.jsx(wo,{path:"/PhoneManager",element:g.jsx(f9,{})})]})})}function lOe(){return g.jsx(zre,{children:g.jsx(aOe,{})})}const cOe=20,uOe=1e6,jo={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let H1=0;function dOe(){return H1=(H1+1)%Number.MAX_VALUE,H1.toString()}const G1=new Map,B5=t=>{if(G1.has(t))return;const e=setTimeout(()=>{G1.delete(t),If({type:jo.REMOVE_TOAST,toastId:t})},uOe);G1.set(t,e)},fOe=(t,e)=>{switch(e.type){case jo.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,cOe)};case jo.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case jo.DISMISS_TOAST:{const{toastId:n}=e;return n?B5(n):t.toasts.forEach(r=>{B5(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case jo.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},vg=[];let yg={toasts:[]};function If(t){yg=fOe(yg,t),vg.forEach(e=>{e(yg)})}function hOe({...t}){const e=dOe(),n=i=>If({type:jo.UPDATE_TOAST,toast:{...i,id:e}}),r=()=>If({type:jo.DISMISS_TOAST,toastId:e});return If({type:jo.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function pOe(){const[t,e]=C.useState(yg);return C.useEffect(()=>(vg.push(e),()=>{const n=vg.indexOf(e);n>-1&&vg.splice(n,1)}),[t]),{...t,toast:hOe,dismiss:n=>If({type:jo.DISMISS_TOAST,toastId:n})}}const h9=C.forwardRef(({...t},e)=>g.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));h9.displayName="ToastProvider";const p9=C.forwardRef(({...t},e)=>g.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));p9.displayName="ToastViewport";const mOe=sy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),m9=C.forwardRef(({className:t,variant:e,...n},r)=>g.jsx("div",{ref:r,className:et(mOe({variant:e}),t),...n}));m9.displayName="Toast";const gOe=C.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:et("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));gOe.displayName="ToastAction";const g9=C.forwardRef(({className:t,...e},n)=>g.jsx("button",{ref:n,className:et("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(su,{className:"h-4 w-4"})}));g9.displayName="ToastClose";const v9=C.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:et("text-sm font-semibold",t),...e}));v9.displayName="ToastTitle";const y9=C.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:et("text-sm opacity-90",t),...e}));y9.displayName="ToastDescription";function vOe(){const{toasts:t}=pOe();return g.jsxs(h9,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return g.jsxs(m9,{...o,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(v9,{children:n}),r&&g.jsx(y9,{children:r})]}),i,g.jsx(g9,{})]},e)}),g.jsx(p9,{})]})}const yOe=new TJ;function bOe(){return g.jsxs(CJ,{client:yOe,children:[g.jsx(lOe,{}),g.jsx(vOe,{})]})}SG.createRoot(document.getElementById("root")).render(g.jsx(ioe,{children:g.jsx(bOe,{})}));
