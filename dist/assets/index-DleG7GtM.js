var LN=t=>{throw TypeError(t)};var ux=(t,e,n)=>e.has(t)||LN("Cannot "+n);var W=(t,e,n)=>(ux(t,e,"read from private field"),n?n.call(t):e.get(t)),Ie=(t,e,n)=>e.has(t)?LN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),be=(t,e,n,r)=>(ux(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Je=(t,e,n)=>(ux(t,e,"access private method"),n);var bm=(t,e,n,r)=>({set _(i){be(t,e,i,n)},get _(){return W(t,e,r)}});function hE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var xm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function at(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Bh(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var dx={exports:{}},ef={},fx={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FN;function KG(){if(FN)return tt;FN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function m($){return $===null||typeof $!="object"?null:($=h&&$[h]||$["@@iterator"],typeof $=="function"?$:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function y($,H,te){this.props=$,this.context=H,this.refs=b,this.updater=te||v}y.prototype.isReactComponent={},y.prototype.setState=function($,H){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,H,"setState")},y.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function _(){}_.prototype=y.prototype;function S($,H,te){this.props=$,this.context=H,this.refs=b,this.updater=te||v}var C=S.prototype=new _;C.constructor=S,x(C,y.prototype),C.isPureReactComponent=!0;var E=Array.isArray,P=Object.prototype.hasOwnProperty,k={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function N($,H,te){var ce,ye={},je=null,oe=null;if(H!=null)for(ce in H.ref!==void 0&&(oe=H.ref),H.key!==void 0&&(je=""+H.key),H)P.call(H,ce)&&!j.hasOwnProperty(ce)&&(ye[ce]=H[ce]);var me=arguments.length-2;if(me===1)ye.children=te;else if(1<me){for(var se=Array(me),fe=0;fe<me;fe++)se[fe]=arguments[fe+2];ye.children=se}if($&&$.defaultProps)for(ce in me=$.defaultProps,me)ye[ce]===void 0&&(ye[ce]=me[ce]);return{$$typeof:t,type:$,key:je,ref:oe,props:ye,_owner:k.current}}function I($,H){return{$$typeof:t,type:$.type,key:H,ref:$.ref,props:$.props,_owner:$._owner}}function L($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function M($){var H={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(te){return H[te]})}var F=/\/+/g;function U($,H){return typeof $=="object"&&$!==null&&$.key!=null?M(""+$.key):H.toString(36)}function Y($,H,te,ce,ye){var je=typeof $;(je==="undefined"||je==="boolean")&&($=null);var oe=!1;if($===null)oe=!0;else switch(je){case"string":case"number":oe=!0;break;case"object":switch($.$$typeof){case t:case e:oe=!0}}if(oe)return oe=$,ye=ye(oe),$=ce===""?"."+U(oe,0):ce,E(ye)?(te="",$!=null&&(te=$.replace(F,"$&/")+"/"),Y(ye,H,te,"",function(fe){return fe})):ye!=null&&(L(ye)&&(ye=I(ye,te+(!ye.key||oe&&oe.key===ye.key?"":(""+ye.key).replace(F,"$&/")+"/")+$)),H.push(ye)),1;if(oe=0,ce=ce===""?".":ce+":",E($))for(var me=0;me<$.length;me++){je=$[me];var se=ce+U(je,me);oe+=Y(je,H,te,se,ye)}else if(se=m($),typeof se=="function")for($=se.call($),me=0;!(je=$.next()).done;)je=je.value,se=ce+U(je,me++),oe+=Y(je,H,te,se,ye);else if(je==="object")throw H=String($),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return oe}function X($,H,te){if($==null)return $;var ce=[],ye=0;return Y($,ce,"","",function(je){return H.call(te,je,ye++)}),ce}function z($){if($._status===-1){var H=$._result;H=H(),H.then(function(te){($._status===0||$._status===-1)&&($._status=1,$._result=te)},function(te){($._status===0||$._status===-1)&&($._status=2,$._result=te)}),$._status===-1&&($._status=0,$._result=H)}if($._status===1)return $._result.default;throw $._result}var J={current:null},B={transition:null},K={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:B,ReactCurrentOwner:k};function D(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:X,forEach:function($,H,te){X($,function(){H.apply(this,arguments)},te)},count:function($){var H=0;return X($,function(){H++}),H},toArray:function($){return X($,function(H){return H})||[]},only:function($){if(!L($))throw Error("React.Children.only expected to receive a single React element child.");return $}},tt.Component=y,tt.Fragment=n,tt.Profiler=i,tt.PureComponent=S,tt.StrictMode=r,tt.Suspense=l,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,tt.act=D,tt.cloneElement=function($,H,te){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var ce=x({},$.props),ye=$.key,je=$.ref,oe=$._owner;if(H!=null){if(H.ref!==void 0&&(je=H.ref,oe=k.current),H.key!==void 0&&(ye=""+H.key),$.type&&$.type.defaultProps)var me=$.type.defaultProps;for(se in H)P.call(H,se)&&!j.hasOwnProperty(se)&&(ce[se]=H[se]===void 0&&me!==void 0?me[se]:H[se])}var se=arguments.length-2;if(se===1)ce.children=te;else if(1<se){me=Array(se);for(var fe=0;fe<se;fe++)me[fe]=arguments[fe+2];ce.children=me}return{$$typeof:t,type:$.type,key:ye,ref:je,props:ce,_owner:oe}},tt.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:s,_context:$},$.Consumer=$},tt.createElement=N,tt.createFactory=function($){var H=N.bind(null,$);return H.type=$,H},tt.createRef=function(){return{current:null}},tt.forwardRef=function($){return{$$typeof:a,render:$}},tt.isValidElement=L,tt.lazy=function($){return{$$typeof:f,_payload:{_status:-1,_result:$},_init:z}},tt.memo=function($,H){return{$$typeof:u,type:$,compare:H===void 0?null:H}},tt.startTransition=function($){var H=B.transition;B.transition={};try{$()}finally{B.transition=H}},tt.unstable_act=D,tt.useCallback=function($,H){return J.current.useCallback($,H)},tt.useContext=function($){return J.current.useContext($)},tt.useDebugValue=function(){},tt.useDeferredValue=function($){return J.current.useDeferredValue($)},tt.useEffect=function($,H){return J.current.useEffect($,H)},tt.useId=function(){return J.current.useId()},tt.useImperativeHandle=function($,H,te){return J.current.useImperativeHandle($,H,te)},tt.useInsertionEffect=function($,H){return J.current.useInsertionEffect($,H)},tt.useLayoutEffect=function($,H){return J.current.useLayoutEffect($,H)},tt.useMemo=function($,H){return J.current.useMemo($,H)},tt.useReducer=function($,H,te){return J.current.useReducer($,H,te)},tt.useRef=function($){return J.current.useRef($)},tt.useState=function($){return J.current.useState($)},tt.useSyncExternalStore=function($,H,te){return J.current.useSyncExternalStore($,H,te)},tt.useTransition=function(){return J.current.useTransition()},tt.version="18.3.1",tt}var BN;function pE(){return BN||(BN=1,fx.exports=KG()),fx.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UN;function YG(){if(UN)return ef;UN=1;var t=pE(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,u){var f,h={},m=null,v=null;u!==void 0&&(m=""+u),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(v=l.ref);for(f in l)r.call(l,f)&&!s.hasOwnProperty(f)&&(h[f]=l[f]);if(a&&a.defaultProps)for(f in l=a.defaultProps,l)h[f]===void 0&&(h[f]=l[f]);return{$$typeof:e,type:a,key:m,ref:v,props:h,_owner:i.current}}return ef.Fragment=n,ef.jsx=o,ef.jsxs=o,ef}var qN;function XG(){return qN||(qN=1,dx.exports=YG()),dx.exports}var p=XG(),T=pE();const V=at(T),mE=hE({__proto__:null,default:V},[T]);var wm={},hx={exports:{}},fr={},px={exports:{}},mx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VN;function QG(){return VN||(VN=1,(function(t){function e(B,K){var D=B.length;B.push(K);e:for(;0<D;){var $=D-1>>>1,H=B[$];if(0<i(H,K))B[$]=K,B[D]=H,D=$;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var K=B[0],D=B.pop();if(D!==K){B[0]=D;e:for(var $=0,H=B.length,te=H>>>1;$<te;){var ce=2*($+1)-1,ye=B[ce],je=ce+1,oe=B[je];if(0>i(ye,D))je<H&&0>i(oe,ye)?(B[$]=oe,B[je]=D,$=je):(B[$]=ye,B[ce]=D,$=ce);else if(je<H&&0>i(oe,D))B[$]=oe,B[je]=D,$=je;else break e}}return K}function i(B,K){var D=B.sortIndex-K.sortIndex;return D!==0?D:B.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,h=null,m=3,v=!1,x=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(B){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=B)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function E(B){if(b=!1,C(B),!x)if(n(l)!==null)x=!0,z(P);else{var K=n(u);K!==null&&J(E,K.startTime-B)}}function P(B,K){x=!1,b&&(b=!1,_(N),N=-1),v=!0;var D=m;try{for(C(K),h=n(l);h!==null&&(!(h.expirationTime>K)||B&&!M());){var $=h.callback;if(typeof $=="function"){h.callback=null,m=h.priorityLevel;var H=$(h.expirationTime<=K);K=t.unstable_now(),typeof H=="function"?h.callback=H:h===n(l)&&r(l),C(K)}else r(l);h=n(l)}if(h!==null)var te=!0;else{var ce=n(u);ce!==null&&J(E,ce.startTime-K),te=!1}return te}finally{h=null,m=D,v=!1}}var k=!1,j=null,N=-1,I=5,L=-1;function M(){return!(t.unstable_now()-L<I)}function F(){if(j!==null){var B=t.unstable_now();L=B;var K=!0;try{K=j(!0,B)}finally{K?U():(k=!1,j=null)}}else k=!1}var U;if(typeof S=="function")U=function(){S(F)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,X=Y.port2;Y.port1.onmessage=F,U=function(){X.postMessage(null)}}else U=function(){y(F,0)};function z(B){j=B,k||(k=!0,U())}function J(B,K){N=y(function(){B(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,z(P))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var D=m;m=K;try{return B()}finally{m=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var D=m;m=B;try{return K()}finally{m=D}},t.unstable_scheduleCallback=function(B,K,D){var $=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?$+D:$):D=$,B){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=D+H,B={id:f++,callback:K,priorityLevel:B,startTime:D,expirationTime:H,sortIndex:-1},D>$?(B.sortIndex=D,e(u,B),n(l)===null&&B===n(u)&&(b?(_(N),N=-1):b=!0,J(E,D-$))):(B.sortIndex=H,e(l,B),x||v||(x=!0,z(P))),B},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(B){var K=m;return function(){var D=m;m=K;try{return B.apply(this,arguments)}finally{m=D}}}})(mx)),mx}var WN;function JG(){return WN||(WN=1,px.exports=QG()),px.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zN;function ZG(){if(zN)return fr;zN=1;var t=pE(),e=JG();function n(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(c,d){o(c,d),o(c+"Capture",d)}function o(c,d){for(i[c]=d,c=0;c<d.length;c++)r.add(d[c])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(c){return l.call(h,c)?!0:l.call(f,c)?!1:u.test(c)?h[c]=!0:(f[c]=!0,!1)}function v(c,d,g,w){if(g!==null&&g.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return w?!1:g!==null?!g.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function x(c,d,g,w){if(d===null||typeof d>"u"||v(c,d,g,w))return!0;if(w)return!1;if(g!==null)switch(g.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function b(c,d,g,w,A,O,R){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=w,this.attributeNamespace=A,this.mustUseProperty=g,this.propertyName=c,this.type=d,this.sanitizeURL=O,this.removeEmptyString=R}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){y[c]=new b(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];y[d]=new b(d,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){y[c]=new b(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){y[c]=new b(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){y[c]=new b(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){y[c]=new b(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){y[c]=new b(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){y[c]=new b(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){y[c]=new b(c,5,!1,c.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function S(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=c.replace(_,S);y[d]=new b(d,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(_,S);y[d]=new b(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(_,S);y[d]=new b(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){y[c]=new b(c,1,!1,c.toLowerCase(),null,!1,!1)}),y.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){y[c]=new b(c,1,!1,c.toLowerCase(),null,!0,!0)});function C(c,d,g,w){var A=y.hasOwnProperty(d)?y[d]:null;(A!==null?A.type!==0:w||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(x(d,g,A,w)&&(g=null),w||A===null?m(d)&&(g===null?c.removeAttribute(d):c.setAttribute(d,""+g)):A.mustUseProperty?c[A.propertyName]=g===null?A.type===3?!1:"":g:(d=A.attributeName,w=A.attributeNamespace,g===null?c.removeAttribute(d):(A=A.type,g=A===3||A===4&&g===!0?"":""+g,w?c.setAttributeNS(w,d,g):c.setAttribute(d,g))))}var E=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),k=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),B=Symbol.iterator;function K(c){return c===null||typeof c!="object"?null:(c=B&&c[B]||c["@@iterator"],typeof c=="function"?c:null)}var D=Object.assign,$;function H(c){if($===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);$=d&&d[1]||""}return`
`+$+c}var te=!1;function ce(c,d){if(!c||te)return"";te=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(ne){var w=ne}Reflect.construct(c,[],d)}else{try{d.call()}catch(ne){w=ne}c.call(d.prototype)}else{try{throw Error()}catch(ne){w=ne}c()}}catch(ne){if(ne&&w&&typeof ne.stack=="string"){for(var A=ne.stack.split(`
`),O=w.stack.split(`
`),R=A.length-1,q=O.length-1;1<=R&&0<=q&&A[R]!==O[q];)q--;for(;1<=R&&0<=q;R--,q--)if(A[R]!==O[q]){if(R!==1||q!==1)do if(R--,q--,0>q||A[R]!==O[q]){var G=`
`+A[R].replace(" at new "," at ");return c.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",c.displayName)),G}while(1<=R&&0<=q);break}}}finally{te=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?H(c):""}function ye(c){switch(c.tag){case 5:return H(c.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return c=ce(c.type,!1),c;case 11:return c=ce(c.type.render,!1),c;case 1:return c=ce(c.type,!0),c;default:return""}}function je(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case j:return"Fragment";case k:return"Portal";case I:return"Profiler";case N:return"StrictMode";case U:return"Suspense";case Y:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case M:return(c.displayName||"Context")+".Consumer";case L:return(c._context.displayName||"Context")+".Provider";case F:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case X:return d=c.displayName||null,d!==null?d:je(c.type)||"Memo";case z:d=c._payload,c=c._init;try{return je(c(d))}catch{}}return null}function oe(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(d);case 8:return d===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function me(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function se(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function fe(c){var d=se(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),w=""+c[d];if(!c.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var A=g.get,O=g.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return A.call(this)},set:function(R){w=""+R,O.call(this,R)}}),Object.defineProperty(c,d,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(R){w=""+R},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function ve(c){c._valueTracker||(c._valueTracker=fe(c))}function re(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var g=d.getValue(),w="";return c&&(w=se(c)?c.checked?"true":"false":c.value),c=w,c!==g?(d.setValue(c),!0):!1}function Ge(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Fe(c,d){var g=d.checked;return D({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??c._wrapperState.initialChecked})}function dt(c,d){var g=d.defaultValue==null?"":d.defaultValue,w=d.checked!=null?d.checked:d.defaultChecked;g=me(d.value!=null?d.value:g),c._wrapperState={initialChecked:w,initialValue:g,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function ft(c,d){d=d.checked,d!=null&&C(c,"checked",d,!1)}function Et(c,d){ft(c,d);var g=me(d.value),w=d.type;if(g!=null)w==="number"?(g===0&&c.value===""||c.value!=g)&&(c.value=""+g):c.value!==""+g&&(c.value=""+g);else if(w==="submit"||w==="reset"){c.removeAttribute("value");return}d.hasOwnProperty("value")?On(c,d.type,g):d.hasOwnProperty("defaultValue")&&On(c,d.type,me(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(c.defaultChecked=!!d.defaultChecked)}function Yn(c,d,g){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var w=d.type;if(!(w!=="submit"&&w!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+c._wrapperState.initialValue,g||d===c.value||(c.value=d),c.defaultValue=d}g=c.name,g!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,g!==""&&(c.name=g)}function On(c,d,g){(d!=="number"||Ge(c.ownerDocument)!==c)&&(g==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+g&&(c.defaultValue=""+g))}var Sr=Array.isArray;function Nn(c,d,g,w){if(c=c.options,d){d={};for(var A=0;A<g.length;A++)d["$"+g[A]]=!0;for(g=0;g<c.length;g++)A=d.hasOwnProperty("$"+c[g].value),c[g].selected!==A&&(c[g].selected=A),A&&w&&(c[g].defaultSelected=!0)}else{for(g=""+me(g),d=null,A=0;A<c.length;A++){if(c[A].value===g){c[A].selected=!0,w&&(c[A].defaultSelected=!0);return}d!==null||c[A].disabled||(d=c[A])}d!==null&&(d.selected=!0)}}function Cr(c,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return D({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function us(c,d){var g=d.value;if(g==null){if(g=d.children,d=d.defaultValue,g!=null){if(d!=null)throw Error(n(92));if(Sr(g)){if(1<g.length)throw Error(n(93));g=g[0]}d=g}d==null&&(d=""),g=d}c._wrapperState={initialValue:me(g)}}function et(c,d){var g=me(d.value),w=me(d.defaultValue);g!=null&&(g=""+g,g!==c.value&&(c.value=g),d.defaultValue==null&&c.defaultValue!==g&&(c.defaultValue=g)),w!=null&&(c.defaultValue=""+w)}function At(c){var d=c.textContent;d===c._wrapperState.initialValue&&d!==""&&d!==null&&(c.value=d)}function en(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xn(c,d){return c==null||c==="http://www.w3.org/1999/xhtml"?en(d):c==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Lr,so=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,g,w,A){MSApp.execUnsafeLocalFunction(function(){return c(d,g,w,A)})}:c})(function(c,d){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=d;else{for(Lr=Lr||document.createElement("div"),Lr.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Lr.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}});function va(c,d){if(d){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=d;return}}c.textContent=d}var vd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J9=["Webkit","ms","Moz","O"];Object.keys(vd).forEach(function(c){J9.forEach(function(d){d=d+c.charAt(0).toUpperCase()+c.substring(1),vd[d]=vd[c]})});function Zk(c,d,g){return d==null||typeof d=="boolean"||d===""?"":g||typeof d!="number"||d===0||vd.hasOwnProperty(c)&&vd[c]?(""+d).trim():d+"px"}function ej(c,d){c=c.style;for(var g in d)if(d.hasOwnProperty(g)){var w=g.indexOf("--")===0,A=Zk(g,d[g],w);g==="float"&&(g="cssFloat"),w?c.setProperty(g,A):c[g]=A}}var Z9=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _0(c,d){if(d){if(Z9[c]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,c));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function S0(c,d){if(c.indexOf("-")===-1)return typeof d.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C0=null;function T0(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var P0=null,Gl=null,Kl=null;function tj(c){if(c=Fd(c)){if(typeof P0!="function")throw Error(n(280));var d=c.stateNode;d&&(d=Ip(d),P0(c.stateNode,c.type,d))}}function nj(c){Gl?Kl?Kl.push(c):Kl=[c]:Gl=c}function rj(){if(Gl){var c=Gl,d=Kl;if(Kl=Gl=null,tj(c),d)for(c=0;c<d.length;c++)tj(d[c])}}function ij(c,d){return c(d)}function sj(){}var E0=!1;function oj(c,d,g){if(E0)return c(d,g);E0=!0;try{return ij(c,d,g)}finally{E0=!1,(Gl!==null||Kl!==null)&&(sj(),rj())}}function yd(c,d){var g=c.stateNode;if(g===null)return null;var w=Ip(g);if(w===null)return null;g=w[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(c=c.type,w=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!w;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(n(231,d,typeof g));return g}var A0=!1;if(a)try{var bd={};Object.defineProperty(bd,"passive",{get:function(){A0=!0}}),window.addEventListener("test",bd,bd),window.removeEventListener("test",bd,bd)}catch{A0=!1}function e7(c,d,g,w,A,O,R,q,G){var ne=Array.prototype.slice.call(arguments,3);try{d.apply(g,ne)}catch(le){this.onError(le)}}var xd=!1,fp=null,hp=!1,k0=null,t7={onError:function(c){xd=!0,fp=c}};function n7(c,d,g,w,A,O,R,q,G){xd=!1,fp=null,e7.apply(t7,arguments)}function r7(c,d,g,w,A,O,R,q,G){if(n7.apply(this,arguments),xd){if(xd){var ne=fp;xd=!1,fp=null}else throw Error(n(198));hp||(hp=!0,k0=ne)}}function ya(c){var d=c,g=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(g=d.return),c=d.return;while(c)}return d.tag===3?g:null}function aj(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function lj(c){if(ya(c)!==c)throw Error(n(188))}function i7(c){var d=c.alternate;if(!d){if(d=ya(c),d===null)throw Error(n(188));return d!==c?null:c}for(var g=c,w=d;;){var A=g.return;if(A===null)break;var O=A.alternate;if(O===null){if(w=A.return,w!==null){g=w;continue}break}if(A.child===O.child){for(O=A.child;O;){if(O===g)return lj(A),c;if(O===w)return lj(A),d;O=O.sibling}throw Error(n(188))}if(g.return!==w.return)g=A,w=O;else{for(var R=!1,q=A.child;q;){if(q===g){R=!0,g=A,w=O;break}if(q===w){R=!0,w=A,g=O;break}q=q.sibling}if(!R){for(q=O.child;q;){if(q===g){R=!0,g=O,w=A;break}if(q===w){R=!0,w=O,g=A;break}q=q.sibling}if(!R)throw Error(n(189))}}if(g.alternate!==w)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?c:d}function cj(c){return c=i7(c),c!==null?uj(c):null}function uj(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=uj(c);if(d!==null)return d;c=c.sibling}return null}var dj=e.unstable_scheduleCallback,fj=e.unstable_cancelCallback,s7=e.unstable_shouldYield,o7=e.unstable_requestPaint,tn=e.unstable_now,a7=e.unstable_getCurrentPriorityLevel,j0=e.unstable_ImmediatePriority,hj=e.unstable_UserBlockingPriority,pp=e.unstable_NormalPriority,l7=e.unstable_LowPriority,pj=e.unstable_IdlePriority,mp=null,Di=null;function c7(c){if(Di&&typeof Di.onCommitFiberRoot=="function")try{Di.onCommitFiberRoot(mp,c,void 0,(c.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:f7,u7=Math.log,d7=Math.LN2;function f7(c){return c>>>=0,c===0?32:31-(u7(c)/d7|0)|0}var gp=64,vp=4194304;function wd(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function yp(c,d){var g=c.pendingLanes;if(g===0)return 0;var w=0,A=c.suspendedLanes,O=c.pingedLanes,R=g&268435455;if(R!==0){var q=R&~A;q!==0?w=wd(q):(O&=R,O!==0&&(w=wd(O)))}else R=g&~A,R!==0?w=wd(R):O!==0&&(w=wd(O));if(w===0)return 0;if(d!==0&&d!==w&&(d&A)===0&&(A=w&-w,O=d&-d,A>=O||A===16&&(O&4194240)!==0))return d;if((w&4)!==0&&(w|=g&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=w;0<d;)g=31-li(d),A=1<<g,w|=c[g],d&=~A;return w}function h7(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p7(c,d){for(var g=c.suspendedLanes,w=c.pingedLanes,A=c.expirationTimes,O=c.pendingLanes;0<O;){var R=31-li(O),q=1<<R,G=A[R];G===-1?((q&g)===0||(q&w)!==0)&&(A[R]=h7(q,d)):G<=d&&(c.expiredLanes|=q),O&=~q}}function O0(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function mj(){var c=gp;return gp<<=1,(gp&4194240)===0&&(gp=64),c}function N0(c){for(var d=[],g=0;31>g;g++)d.push(c);return d}function _d(c,d,g){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-li(d),c[d]=g}function m7(c,d){var g=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var w=c.eventTimes;for(c=c.expirationTimes;0<g;){var A=31-li(g),O=1<<A;d[A]=0,w[A]=-1,c[A]=-1,g&=~O}}function R0(c,d){var g=c.entangledLanes|=d;for(c=c.entanglements;g;){var w=31-li(g),A=1<<w;A&d|c[w]&d&&(c[w]|=d),g&=~A}}var xt=0;function gj(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var vj,I0,yj,bj,xj,M0=!1,bp=[],oo=null,ao=null,lo=null,Sd=new Map,Cd=new Map,co=[],g7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wj(c,d){switch(c){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":Sd.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cd.delete(d.pointerId)}}function Td(c,d,g,w,A,O){return c===null||c.nativeEvent!==O?(c={blockedOn:d,domEventName:g,eventSystemFlags:w,nativeEvent:O,targetContainers:[A]},d!==null&&(d=Fd(d),d!==null&&I0(d)),c):(c.eventSystemFlags|=w,d=c.targetContainers,A!==null&&d.indexOf(A)===-1&&d.push(A),c)}function v7(c,d,g,w,A){switch(d){case"focusin":return oo=Td(oo,c,d,g,w,A),!0;case"dragenter":return ao=Td(ao,c,d,g,w,A),!0;case"mouseover":return lo=Td(lo,c,d,g,w,A),!0;case"pointerover":var O=A.pointerId;return Sd.set(O,Td(Sd.get(O)||null,c,d,g,w,A)),!0;case"gotpointercapture":return O=A.pointerId,Cd.set(O,Td(Cd.get(O)||null,c,d,g,w,A)),!0}return!1}function _j(c){var d=ba(c.target);if(d!==null){var g=ya(d);if(g!==null){if(d=g.tag,d===13){if(d=aj(g),d!==null){c.blockedOn=d,xj(c.priority,function(){yj(g)});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function xp(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var g=$0(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(g===null){g=c.nativeEvent;var w=new g.constructor(g.type,g);C0=w,g.target.dispatchEvent(w),C0=null}else return d=Fd(g),d!==null&&I0(d),c.blockedOn=g,!1;d.shift()}return!0}function Sj(c,d,g){xp(c)&&g.delete(d)}function y7(){M0=!1,oo!==null&&xp(oo)&&(oo=null),ao!==null&&xp(ao)&&(ao=null),lo!==null&&xp(lo)&&(lo=null),Sd.forEach(Sj),Cd.forEach(Sj)}function Pd(c,d){c.blockedOn===d&&(c.blockedOn=null,M0||(M0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,y7)))}function Ed(c){function d(A){return Pd(A,c)}if(0<bp.length){Pd(bp[0],c);for(var g=1;g<bp.length;g++){var w=bp[g];w.blockedOn===c&&(w.blockedOn=null)}}for(oo!==null&&Pd(oo,c),ao!==null&&Pd(ao,c),lo!==null&&Pd(lo,c),Sd.forEach(d),Cd.forEach(d),g=0;g<co.length;g++)w=co[g],w.blockedOn===c&&(w.blockedOn=null);for(;0<co.length&&(g=co[0],g.blockedOn===null);)_j(g),g.blockedOn===null&&co.shift()}var Yl=E.ReactCurrentBatchConfig,wp=!0;function b7(c,d,g,w){var A=xt,O=Yl.transition;Yl.transition=null;try{xt=1,D0(c,d,g,w)}finally{xt=A,Yl.transition=O}}function x7(c,d,g,w){var A=xt,O=Yl.transition;Yl.transition=null;try{xt=4,D0(c,d,g,w)}finally{xt=A,Yl.transition=O}}function D0(c,d,g,w){if(wp){var A=$0(c,d,g,w);if(A===null)eb(c,d,w,_p,g),wj(c,w);else if(v7(A,c,d,g,w))w.stopPropagation();else if(wj(c,w),d&4&&-1<g7.indexOf(c)){for(;A!==null;){var O=Fd(A);if(O!==null&&vj(O),O=$0(c,d,g,w),O===null&&eb(c,d,w,_p,g),O===A)break;A=O}A!==null&&w.stopPropagation()}else eb(c,d,w,null,g)}}var _p=null;function $0(c,d,g,w){if(_p=null,c=T0(w),c=ba(c),c!==null)if(d=ya(c),d===null)c=null;else if(g=d.tag,g===13){if(c=aj(d),c!==null)return c;c=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);return _p=c,null}function Cj(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a7()){case j0:return 1;case hj:return 4;case pp:case l7:return 16;case pj:return 536870912;default:return 16}default:return 16}}var uo=null,L0=null,Sp=null;function Tj(){if(Sp)return Sp;var c,d=L0,g=d.length,w,A="value"in uo?uo.value:uo.textContent,O=A.length;for(c=0;c<g&&d[c]===A[c];c++);var R=g-c;for(w=1;w<=R&&d[g-w]===A[O-w];w++);return Sp=A.slice(c,1<w?1-w:void 0)}function Cp(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Tp(){return!0}function Pj(){return!1}function Tr(c){function d(g,w,A,O,R){this._reactName=g,this._targetInst=A,this.type=w,this.nativeEvent=O,this.target=R,this.currentTarget=null;for(var q in c)c.hasOwnProperty(q)&&(g=c[q],this[q]=g?g(O):O[q]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Tp:Pj,this.isPropagationStopped=Pj,this}return D(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Tp)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Tp)},persist:function(){},isPersistent:Tp}),d}var Xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},F0=Tr(Xl),Ad=D({},Xl,{view:0,detail:0}),w7=Tr(Ad),B0,U0,kd,Pp=D({},Ad,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:V0,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==kd&&(kd&&c.type==="mousemove"?(B0=c.screenX-kd.screenX,U0=c.screenY-kd.screenY):U0=B0=0,kd=c),B0)},movementY:function(c){return"movementY"in c?c.movementY:U0}}),Ej=Tr(Pp),_7=D({},Pp,{dataTransfer:0}),S7=Tr(_7),C7=D({},Ad,{relatedTarget:0}),q0=Tr(C7),T7=D({},Xl,{animationName:0,elapsedTime:0,pseudoElement:0}),P7=Tr(T7),E7=D({},Xl,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),A7=Tr(E7),k7=D({},Xl,{data:0}),Aj=Tr(k7),j7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R7(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=N7[c])?!!d[c]:!1}function V0(){return R7}var I7=D({},Ad,{key:function(c){if(c.key){var d=j7[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Cp(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?O7[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:V0,charCode:function(c){return c.type==="keypress"?Cp(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Cp(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),M7=Tr(I7),D7=D({},Pp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kj=Tr(D7),$7=D({},Ad,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:V0}),L7=Tr($7),F7=D({},Xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),B7=Tr(F7),U7=D({},Pp,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),q7=Tr(U7),V7=[9,13,27,32],W0=a&&"CompositionEvent"in window,jd=null;a&&"documentMode"in document&&(jd=document.documentMode);var W7=a&&"TextEvent"in window&&!jd,jj=a&&(!W0||jd&&8<jd&&11>=jd),Oj=" ",Nj=!1;function Rj(c,d){switch(c){case"keyup":return V7.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ij(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Ql=!1;function z7(c,d){switch(c){case"compositionend":return Ij(d);case"keypress":return d.which!==32?null:(Nj=!0,Oj);case"textInput":return c=d.data,c===Oj&&Nj?null:c;default:return null}}function H7(c,d){if(Ql)return c==="compositionend"||!W0&&Rj(c,d)?(c=Tj(),Sp=L0=uo=null,Ql=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return jj&&d.locale!=="ko"?null:d.data;default:return null}}var G7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mj(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!G7[c.type]:d==="textarea"}function Dj(c,d,g,w){nj(w),d=Op(d,"onChange"),0<d.length&&(g=new F0("onChange","change",null,g,w),c.push({event:g,listeners:d}))}var Od=null,Nd=null;function K7(c){eO(c,0)}function Ep(c){var d=nc(c);if(re(d))return c}function Y7(c,d){if(c==="change")return d}var $j=!1;if(a){var z0;if(a){var H0="oninput"in document;if(!H0){var Lj=document.createElement("div");Lj.setAttribute("oninput","return;"),H0=typeof Lj.oninput=="function"}z0=H0}else z0=!1;$j=z0&&(!document.documentMode||9<document.documentMode)}function Fj(){Od&&(Od.detachEvent("onpropertychange",Bj),Nd=Od=null)}function Bj(c){if(c.propertyName==="value"&&Ep(Nd)){var d=[];Dj(d,Nd,c,T0(c)),oj(K7,d)}}function X7(c,d,g){c==="focusin"?(Fj(),Od=d,Nd=g,Od.attachEvent("onpropertychange",Bj)):c==="focusout"&&Fj()}function Q7(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Ep(Nd)}function J7(c,d){if(c==="click")return Ep(d)}function Z7(c,d){if(c==="input"||c==="change")return Ep(d)}function eG(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var ci=typeof Object.is=="function"?Object.is:eG;function Rd(c,d){if(ci(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var g=Object.keys(c),w=Object.keys(d);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var A=g[w];if(!l.call(d,A)||!ci(c[A],d[A]))return!1}return!0}function Uj(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function qj(c,d){var g=Uj(c);c=0;for(var w;g;){if(g.nodeType===3){if(w=c+g.textContent.length,c<=d&&w>=d)return{node:g,offset:d-c};c=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Uj(g)}}function Vj(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?Vj(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function Wj(){for(var c=window,d=Ge();d instanceof c.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)c=d.contentWindow;else break;d=Ge(c.document)}return d}function G0(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function tG(c){var d=Wj(),g=c.focusedElem,w=c.selectionRange;if(d!==g&&g&&g.ownerDocument&&Vj(g.ownerDocument.documentElement,g)){if(w!==null&&G0(g)){if(d=w.start,c=w.end,c===void 0&&(c=d),"selectionStart"in g)g.selectionStart=d,g.selectionEnd=Math.min(c,g.value.length);else if(c=(d=g.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var A=g.textContent.length,O=Math.min(w.start,A);w=w.end===void 0?O:Math.min(w.end,A),!c.extend&&O>w&&(A=w,w=O,O=A),A=qj(g,O);var R=qj(g,w);A&&R&&(c.rangeCount!==1||c.anchorNode!==A.node||c.anchorOffset!==A.offset||c.focusNode!==R.node||c.focusOffset!==R.offset)&&(d=d.createRange(),d.setStart(A.node,A.offset),c.removeAllRanges(),O>w?(c.addRange(d),c.extend(R.node,R.offset)):(d.setEnd(R.node,R.offset),c.addRange(d)))}}for(d=[],c=g;c=c.parentNode;)c.nodeType===1&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<d.length;g++)c=d[g],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var nG=a&&"documentMode"in document&&11>=document.documentMode,Jl=null,K0=null,Id=null,Y0=!1;function zj(c,d,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Y0||Jl==null||Jl!==Ge(w)||(w=Jl,"selectionStart"in w&&G0(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Id&&Rd(Id,w)||(Id=w,w=Op(K0,"onSelect"),0<w.length&&(d=new F0("onSelect","select",null,d,g),c.push({event:d,listeners:w}),d.target=Jl)))}function Ap(c,d){var g={};return g[c.toLowerCase()]=d.toLowerCase(),g["Webkit"+c]="webkit"+d,g["Moz"+c]="moz"+d,g}var Zl={animationend:Ap("Animation","AnimationEnd"),animationiteration:Ap("Animation","AnimationIteration"),animationstart:Ap("Animation","AnimationStart"),transitionend:Ap("Transition","TransitionEnd")},X0={},Hj={};a&&(Hj=document.createElement("div").style,"AnimationEvent"in window||(delete Zl.animationend.animation,delete Zl.animationiteration.animation,delete Zl.animationstart.animation),"TransitionEvent"in window||delete Zl.transitionend.transition);function kp(c){if(X0[c])return X0[c];if(!Zl[c])return c;var d=Zl[c],g;for(g in d)if(d.hasOwnProperty(g)&&g in Hj)return X0[c]=d[g];return c}var Gj=kp("animationend"),Kj=kp("animationiteration"),Yj=kp("animationstart"),Xj=kp("transitionend"),Qj=new Map,Jj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fo(c,d){Qj.set(c,d),s(d,[c])}for(var Q0=0;Q0<Jj.length;Q0++){var J0=Jj[Q0],rG=J0.toLowerCase(),iG=J0[0].toUpperCase()+J0.slice(1);fo(rG,"on"+iG)}fo(Gj,"onAnimationEnd"),fo(Kj,"onAnimationIteration"),fo(Yj,"onAnimationStart"),fo("dblclick","onDoubleClick"),fo("focusin","onFocus"),fo("focusout","onBlur"),fo(Xj,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sG=new Set("cancel close invalid load scroll toggle".split(" ").concat(Md));function Zj(c,d,g){var w=c.type||"unknown-event";c.currentTarget=g,r7(w,d,void 0,c),c.currentTarget=null}function eO(c,d){d=(d&4)!==0;for(var g=0;g<c.length;g++){var w=c[g],A=w.event;w=w.listeners;e:{var O=void 0;if(d)for(var R=w.length-1;0<=R;R--){var q=w[R],G=q.instance,ne=q.currentTarget;if(q=q.listener,G!==O&&A.isPropagationStopped())break e;Zj(A,q,ne),O=G}else for(R=0;R<w.length;R++){if(q=w[R],G=q.instance,ne=q.currentTarget,q=q.listener,G!==O&&A.isPropagationStopped())break e;Zj(A,q,ne),O=G}}}if(hp)throw c=k0,hp=!1,k0=null,c}function Mt(c,d){var g=d[ob];g===void 0&&(g=d[ob]=new Set);var w=c+"__bubble";g.has(w)||(tO(d,c,2,!1),g.add(w))}function Z0(c,d,g){var w=0;d&&(w|=4),tO(g,c,w,d)}var jp="_reactListening"+Math.random().toString(36).slice(2);function Dd(c){if(!c[jp]){c[jp]=!0,r.forEach(function(g){g!=="selectionchange"&&(sG.has(g)||Z0(g,!1,c),Z0(g,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[jp]||(d[jp]=!0,Z0("selectionchange",!1,d))}}function tO(c,d,g,w){switch(Cj(d)){case 1:var A=b7;break;case 4:A=x7;break;default:A=D0}g=A.bind(null,d,g,c),A=void 0,!A0||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(A=!0),w?A!==void 0?c.addEventListener(d,g,{capture:!0,passive:A}):c.addEventListener(d,g,!0):A!==void 0?c.addEventListener(d,g,{passive:A}):c.addEventListener(d,g,!1)}function eb(c,d,g,w,A){var O=w;if((d&1)===0&&(d&2)===0&&w!==null)e:for(;;){if(w===null)return;var R=w.tag;if(R===3||R===4){var q=w.stateNode.containerInfo;if(q===A||q.nodeType===8&&q.parentNode===A)break;if(R===4)for(R=w.return;R!==null;){var G=R.tag;if((G===3||G===4)&&(G=R.stateNode.containerInfo,G===A||G.nodeType===8&&G.parentNode===A))return;R=R.return}for(;q!==null;){if(R=ba(q),R===null)return;if(G=R.tag,G===5||G===6){w=O=R;continue e}q=q.parentNode}}w=w.return}oj(function(){var ne=O,le=T0(g),ue=[];e:{var ae=Qj.get(c);if(ae!==void 0){var xe=F0,Ee=c;switch(c){case"keypress":if(Cp(g)===0)break e;case"keydown":case"keyup":xe=M7;break;case"focusin":Ee="focus",xe=q0;break;case"focusout":Ee="blur",xe=q0;break;case"beforeblur":case"afterblur":xe=q0;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Ej;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=S7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=L7;break;case Gj:case Kj:case Yj:xe=P7;break;case Xj:xe=B7;break;case"scroll":xe=w7;break;case"wheel":xe=q7;break;case"copy":case"cut":case"paste":xe=A7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=kj}var Oe=(d&4)!==0,nn=!Oe&&c==="scroll",Z=Oe?ae!==null?ae+"Capture":null:ae;Oe=[];for(var Q=ne,ee;Q!==null;){ee=Q;var he=ee.stateNode;if(ee.tag===5&&he!==null&&(ee=he,Z!==null&&(he=yd(Q,Z),he!=null&&Oe.push($d(Q,he,ee)))),nn)break;Q=Q.return}0<Oe.length&&(ae=new xe(ae,Ee,null,g,le),ue.push({event:ae,listeners:Oe}))}}if((d&7)===0){e:{if(ae=c==="mouseover"||c==="pointerover",xe=c==="mouseout"||c==="pointerout",ae&&g!==C0&&(Ee=g.relatedTarget||g.fromElement)&&(ba(Ee)||Ee[ds]))break e;if((xe||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,xe?(Ee=g.relatedTarget||g.toElement,xe=ne,Ee=Ee?ba(Ee):null,Ee!==null&&(nn=ya(Ee),Ee!==nn||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(xe=null,Ee=ne),xe!==Ee)){if(Oe=Ej,he="onMouseLeave",Z="onMouseEnter",Q="mouse",(c==="pointerout"||c==="pointerover")&&(Oe=kj,he="onPointerLeave",Z="onPointerEnter",Q="pointer"),nn=xe==null?ae:nc(xe),ee=Ee==null?ae:nc(Ee),ae=new Oe(he,Q+"leave",xe,g,le),ae.target=nn,ae.relatedTarget=ee,he=null,ba(le)===ne&&(Oe=new Oe(Z,Q+"enter",Ee,g,le),Oe.target=ee,Oe.relatedTarget=nn,he=Oe),nn=he,xe&&Ee)t:{for(Oe=xe,Z=Ee,Q=0,ee=Oe;ee;ee=ec(ee))Q++;for(ee=0,he=Z;he;he=ec(he))ee++;for(;0<Q-ee;)Oe=ec(Oe),Q--;for(;0<ee-Q;)Z=ec(Z),ee--;for(;Q--;){if(Oe===Z||Z!==null&&Oe===Z.alternate)break t;Oe=ec(Oe),Z=ec(Z)}Oe=null}else Oe=null;xe!==null&&nO(ue,ae,xe,Oe,!1),Ee!==null&&nn!==null&&nO(ue,nn,Ee,Oe,!0)}}e:{if(ae=ne?nc(ne):window,xe=ae.nodeName&&ae.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ae.type==="file")var Ne=Y7;else if(Mj(ae))if($j)Ne=Z7;else{Ne=Q7;var De=X7}else(xe=ae.nodeName)&&xe.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Ne=J7);if(Ne&&(Ne=Ne(c,ne))){Dj(ue,Ne,g,le);break e}De&&De(c,ae,ne),c==="focusout"&&(De=ae._wrapperState)&&De.controlled&&ae.type==="number"&&On(ae,"number",ae.value)}switch(De=ne?nc(ne):window,c){case"focusin":(Mj(De)||De.contentEditable==="true")&&(Jl=De,K0=ne,Id=null);break;case"focusout":Id=K0=Jl=null;break;case"mousedown":Y0=!0;break;case"contextmenu":case"mouseup":case"dragend":Y0=!1,zj(ue,g,le);break;case"selectionchange":if(nG)break;case"keydown":case"keyup":zj(ue,g,le)}var $e;if(W0)e:{switch(c){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Ql?Rj(c,g)&&(ze="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(ze="onCompositionStart");ze&&(jj&&g.locale!=="ko"&&(Ql||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Ql&&($e=Tj()):(uo=le,L0="value"in uo?uo.value:uo.textContent,Ql=!0)),De=Op(ne,ze),0<De.length&&(ze=new Aj(ze,c,null,g,le),ue.push({event:ze,listeners:De}),$e?ze.data=$e:($e=Ij(g),$e!==null&&(ze.data=$e)))),($e=W7?z7(c,g):H7(c,g))&&(ne=Op(ne,"onBeforeInput"),0<ne.length&&(le=new Aj("onBeforeInput","beforeinput",null,g,le),ue.push({event:le,listeners:ne}),le.data=$e))}eO(ue,d)})}function $d(c,d,g){return{instance:c,listener:d,currentTarget:g}}function Op(c,d){for(var g=d+"Capture",w=[];c!==null;){var A=c,O=A.stateNode;A.tag===5&&O!==null&&(A=O,O=yd(c,g),O!=null&&w.unshift($d(c,O,A)),O=yd(c,d),O!=null&&w.push($d(c,O,A))),c=c.return}return w}function ec(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function nO(c,d,g,w,A){for(var O=d._reactName,R=[];g!==null&&g!==w;){var q=g,G=q.alternate,ne=q.stateNode;if(G!==null&&G===w)break;q.tag===5&&ne!==null&&(q=ne,A?(G=yd(g,O),G!=null&&R.unshift($d(g,G,q))):A||(G=yd(g,O),G!=null&&R.push($d(g,G,q)))),g=g.return}R.length!==0&&c.push({event:d,listeners:R})}var oG=/\r\n?/g,aG=/\u0000|\uFFFD/g;function rO(c){return(typeof c=="string"?c:""+c).replace(oG,`
`).replace(aG,"")}function Np(c,d,g){if(d=rO(d),rO(c)!==d&&g)throw Error(n(425))}function Rp(){}var tb=null,nb=null;function rb(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var ib=typeof setTimeout=="function"?setTimeout:void 0,lG=typeof clearTimeout=="function"?clearTimeout:void 0,iO=typeof Promise=="function"?Promise:void 0,cG=typeof queueMicrotask=="function"?queueMicrotask:typeof iO<"u"?function(c){return iO.resolve(null).then(c).catch(uG)}:ib;function uG(c){setTimeout(function(){throw c})}function sb(c,d){var g=d,w=0;do{var A=g.nextSibling;if(c.removeChild(g),A&&A.nodeType===8)if(g=A.data,g==="/$"){if(w===0){c.removeChild(A),Ed(d);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=A}while(g);Ed(d)}function ho(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return c}function sO(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(d===0)return c;d--}else g==="/$"&&d++}c=c.previousSibling}return null}var tc=Math.random().toString(36).slice(2),$i="__reactFiber$"+tc,Ld="__reactProps$"+tc,ds="__reactContainer$"+tc,ob="__reactEvents$"+tc,dG="__reactListeners$"+tc,fG="__reactHandles$"+tc;function ba(c){var d=c[$i];if(d)return d;for(var g=c.parentNode;g;){if(d=g[ds]||g[$i]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(c=sO(c);c!==null;){if(g=c[$i])return g;c=sO(c)}return d}c=g,g=c.parentNode}return null}function Fd(c){return c=c[$i]||c[ds],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function nc(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(n(33))}function Ip(c){return c[Ld]||null}var ab=[],rc=-1;function po(c){return{current:c}}function Dt(c){0>rc||(c.current=ab[rc],ab[rc]=null,rc--)}function kt(c,d){rc++,ab[rc]=c.current,c.current=d}var mo={},Fn=po(mo),ar=po(!1),xa=mo;function ic(c,d){var g=c.type.contextTypes;if(!g)return mo;var w=c.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===d)return w.__reactInternalMemoizedMaskedChildContext;var A={},O;for(O in g)A[O]=d[O];return w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=A),A}function lr(c){return c=c.childContextTypes,c!=null}function Mp(){Dt(ar),Dt(Fn)}function oO(c,d,g){if(Fn.current!==mo)throw Error(n(168));kt(Fn,d),kt(ar,g)}function aO(c,d,g){var w=c.stateNode;if(d=d.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var A in w)if(!(A in d))throw Error(n(108,oe(c)||"Unknown",A));return D({},g,w)}function Dp(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||mo,xa=Fn.current,kt(Fn,c),kt(ar,ar.current),!0}function lO(c,d,g){var w=c.stateNode;if(!w)throw Error(n(169));g?(c=aO(c,d,xa),w.__reactInternalMemoizedMergedChildContext=c,Dt(ar),Dt(Fn),kt(Fn,c)):Dt(ar),kt(ar,g)}var fs=null,$p=!1,lb=!1;function cO(c){fs===null?fs=[c]:fs.push(c)}function hG(c){$p=!0,cO(c)}function go(){if(!lb&&fs!==null){lb=!0;var c=0,d=xt;try{var g=fs;for(xt=1;c<g.length;c++){var w=g[c];do w=w(!0);while(w!==null)}fs=null,$p=!1}catch(A){throw fs!==null&&(fs=fs.slice(c+1)),dj(j0,go),A}finally{xt=d,lb=!1}}return null}var sc=[],oc=0,Lp=null,Fp=0,Fr=[],Br=0,wa=null,hs=1,ps="";function _a(c,d){sc[oc++]=Fp,sc[oc++]=Lp,Lp=c,Fp=d}function uO(c,d,g){Fr[Br++]=hs,Fr[Br++]=ps,Fr[Br++]=wa,wa=c;var w=hs;c=ps;var A=32-li(w)-1;w&=~(1<<A),g+=1;var O=32-li(d)+A;if(30<O){var R=A-A%5;O=(w&(1<<R)-1).toString(32),w>>=R,A-=R,hs=1<<32-li(d)+A|g<<A|w,ps=O+c}else hs=1<<O|g<<A|w,ps=c}function cb(c){c.return!==null&&(_a(c,1),uO(c,1,0))}function ub(c){for(;c===Lp;)Lp=sc[--oc],sc[oc]=null,Fp=sc[--oc],sc[oc]=null;for(;c===wa;)wa=Fr[--Br],Fr[Br]=null,ps=Fr[--Br],Fr[Br]=null,hs=Fr[--Br],Fr[Br]=null}var Pr=null,Er=null,Lt=!1,ui=null;function dO(c,d){var g=Wr(5,null,null,0);g.elementType="DELETED",g.stateNode=d,g.return=c,d=c.deletions,d===null?(c.deletions=[g],c.flags|=16):d.push(g)}function fO(c,d){switch(c.tag){case 5:var g=c.type;return d=d.nodeType!==1||g.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(c.stateNode=d,Pr=c,Er=ho(d.firstChild),!0):!1;case 6:return d=c.pendingProps===""||d.nodeType!==3?null:d,d!==null?(c.stateNode=d,Pr=c,Er=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(g=wa!==null?{id:hs,overflow:ps}:null,c.memoizedState={dehydrated:d,treeContext:g,retryLane:1073741824},g=Wr(18,null,null,0),g.stateNode=d,g.return=c,c.child=g,Pr=c,Er=null,!0):!1;default:return!1}}function db(c){return(c.mode&1)!==0&&(c.flags&128)===0}function fb(c){if(Lt){var d=Er;if(d){var g=d;if(!fO(c,d)){if(db(c))throw Error(n(418));d=ho(g.nextSibling);var w=Pr;d&&fO(c,d)?dO(w,g):(c.flags=c.flags&-4097|2,Lt=!1,Pr=c)}}else{if(db(c))throw Error(n(418));c.flags=c.flags&-4097|2,Lt=!1,Pr=c}}}function hO(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Pr=c}function Bp(c){if(c!==Pr)return!1;if(!Lt)return hO(c),Lt=!0,!1;var d;if((d=c.tag!==3)&&!(d=c.tag!==5)&&(d=c.type,d=d!=="head"&&d!=="body"&&!rb(c.type,c.memoizedProps)),d&&(d=Er)){if(db(c))throw pO(),Error(n(418));for(;d;)dO(c,d),d=ho(d.nextSibling)}if(hO(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"){if(d===0){Er=ho(c.nextSibling);break e}d--}else g!=="$"&&g!=="$!"&&g!=="$?"||d++}c=c.nextSibling}Er=null}}else Er=Pr?ho(c.stateNode.nextSibling):null;return!0}function pO(){for(var c=Er;c;)c=ho(c.nextSibling)}function ac(){Er=Pr=null,Lt=!1}function hb(c){ui===null?ui=[c]:ui.push(c)}var pG=E.ReactCurrentBatchConfig;function Bd(c,d,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var w=g.stateNode}if(!w)throw Error(n(147,c));var A=w,O=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===O?d.ref:(d=function(R){var q=A.refs;R===null?delete q[O]:q[O]=R},d._stringRef=O,d)}if(typeof c!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,c))}return c}function Up(c,d){throw c=Object.prototype.toString.call(d),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function mO(c){var d=c._init;return d(c._payload)}function gO(c){function d(Z,Q){if(c){var ee=Z.deletions;ee===null?(Z.deletions=[Q],Z.flags|=16):ee.push(Q)}}function g(Z,Q){if(!c)return null;for(;Q!==null;)d(Z,Q),Q=Q.sibling;return null}function w(Z,Q){for(Z=new Map;Q!==null;)Q.key!==null?Z.set(Q.key,Q):Z.set(Q.index,Q),Q=Q.sibling;return Z}function A(Z,Q){return Z=Co(Z,Q),Z.index=0,Z.sibling=null,Z}function O(Z,Q,ee){return Z.index=ee,c?(ee=Z.alternate,ee!==null?(ee=ee.index,ee<Q?(Z.flags|=2,Q):ee):(Z.flags|=2,Q)):(Z.flags|=1048576,Q)}function R(Z){return c&&Z.alternate===null&&(Z.flags|=2),Z}function q(Z,Q,ee,he){return Q===null||Q.tag!==6?(Q=ix(ee,Z.mode,he),Q.return=Z,Q):(Q=A(Q,ee),Q.return=Z,Q)}function G(Z,Q,ee,he){var Ne=ee.type;return Ne===j?le(Z,Q,ee.props.children,he,ee.key):Q!==null&&(Q.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===z&&mO(Ne)===Q.type)?(he=A(Q,ee.props),he.ref=Bd(Z,Q,ee),he.return=Z,he):(he=dm(ee.type,ee.key,ee.props,null,Z.mode,he),he.ref=Bd(Z,Q,ee),he.return=Z,he)}function ne(Z,Q,ee,he){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ee.containerInfo||Q.stateNode.implementation!==ee.implementation?(Q=sx(ee,Z.mode,he),Q.return=Z,Q):(Q=A(Q,ee.children||[]),Q.return=Z,Q)}function le(Z,Q,ee,he,Ne){return Q===null||Q.tag!==7?(Q=ja(ee,Z.mode,he,Ne),Q.return=Z,Q):(Q=A(Q,ee),Q.return=Z,Q)}function ue(Z,Q,ee){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=ix(""+Q,Z.mode,ee),Q.return=Z,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case P:return ee=dm(Q.type,Q.key,Q.props,null,Z.mode,ee),ee.ref=Bd(Z,null,Q),ee.return=Z,ee;case k:return Q=sx(Q,Z.mode,ee),Q.return=Z,Q;case z:var he=Q._init;return ue(Z,he(Q._payload),ee)}if(Sr(Q)||K(Q))return Q=ja(Q,Z.mode,ee,null),Q.return=Z,Q;Up(Z,Q)}return null}function ae(Z,Q,ee,he){var Ne=Q!==null?Q.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Ne!==null?null:q(Z,Q,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case P:return ee.key===Ne?G(Z,Q,ee,he):null;case k:return ee.key===Ne?ne(Z,Q,ee,he):null;case z:return Ne=ee._init,ae(Z,Q,Ne(ee._payload),he)}if(Sr(ee)||K(ee))return Ne!==null?null:le(Z,Q,ee,he,null);Up(Z,ee)}return null}function xe(Z,Q,ee,he,Ne){if(typeof he=="string"&&he!==""||typeof he=="number")return Z=Z.get(ee)||null,q(Q,Z,""+he,Ne);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case P:return Z=Z.get(he.key===null?ee:he.key)||null,G(Q,Z,he,Ne);case k:return Z=Z.get(he.key===null?ee:he.key)||null,ne(Q,Z,he,Ne);case z:var De=he._init;return xe(Z,Q,ee,De(he._payload),Ne)}if(Sr(he)||K(he))return Z=Z.get(ee)||null,le(Q,Z,he,Ne,null);Up(Q,he)}return null}function Ee(Z,Q,ee,he){for(var Ne=null,De=null,$e=Q,ze=Q=0,Tn=null;$e!==null&&ze<ee.length;ze++){$e.index>ze?(Tn=$e,$e=null):Tn=$e.sibling;var lt=ae(Z,$e,ee[ze],he);if(lt===null){$e===null&&($e=Tn);break}c&&$e&&lt.alternate===null&&d(Z,$e),Q=O(lt,Q,ze),De===null?Ne=lt:De.sibling=lt,De=lt,$e=Tn}if(ze===ee.length)return g(Z,$e),Lt&&_a(Z,ze),Ne;if($e===null){for(;ze<ee.length;ze++)$e=ue(Z,ee[ze],he),$e!==null&&(Q=O($e,Q,ze),De===null?Ne=$e:De.sibling=$e,De=$e);return Lt&&_a(Z,ze),Ne}for($e=w(Z,$e);ze<ee.length;ze++)Tn=xe($e,Z,ze,ee[ze],he),Tn!==null&&(c&&Tn.alternate!==null&&$e.delete(Tn.key===null?ze:Tn.key),Q=O(Tn,Q,ze),De===null?Ne=Tn:De.sibling=Tn,De=Tn);return c&&$e.forEach(function(To){return d(Z,To)}),Lt&&_a(Z,ze),Ne}function Oe(Z,Q,ee,he){var Ne=K(ee);if(typeof Ne!="function")throw Error(n(150));if(ee=Ne.call(ee),ee==null)throw Error(n(151));for(var De=Ne=null,$e=Q,ze=Q=0,Tn=null,lt=ee.next();$e!==null&&!lt.done;ze++,lt=ee.next()){$e.index>ze?(Tn=$e,$e=null):Tn=$e.sibling;var To=ae(Z,$e,lt.value,he);if(To===null){$e===null&&($e=Tn);break}c&&$e&&To.alternate===null&&d(Z,$e),Q=O(To,Q,ze),De===null?Ne=To:De.sibling=To,De=To,$e=Tn}if(lt.done)return g(Z,$e),Lt&&_a(Z,ze),Ne;if($e===null){for(;!lt.done;ze++,lt=ee.next())lt=ue(Z,lt.value,he),lt!==null&&(Q=O(lt,Q,ze),De===null?Ne=lt:De.sibling=lt,De=lt);return Lt&&_a(Z,ze),Ne}for($e=w(Z,$e);!lt.done;ze++,lt=ee.next())lt=xe($e,Z,ze,lt.value,he),lt!==null&&(c&&lt.alternate!==null&&$e.delete(lt.key===null?ze:lt.key),Q=O(lt,Q,ze),De===null?Ne=lt:De.sibling=lt,De=lt);return c&&$e.forEach(function(GG){return d(Z,GG)}),Lt&&_a(Z,ze),Ne}function nn(Z,Q,ee,he){if(typeof ee=="object"&&ee!==null&&ee.type===j&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case P:e:{for(var Ne=ee.key,De=Q;De!==null;){if(De.key===Ne){if(Ne=ee.type,Ne===j){if(De.tag===7){g(Z,De.sibling),Q=A(De,ee.props.children),Q.return=Z,Z=Q;break e}}else if(De.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===z&&mO(Ne)===De.type){g(Z,De.sibling),Q=A(De,ee.props),Q.ref=Bd(Z,De,ee),Q.return=Z,Z=Q;break e}g(Z,De);break}else d(Z,De);De=De.sibling}ee.type===j?(Q=ja(ee.props.children,Z.mode,he,ee.key),Q.return=Z,Z=Q):(he=dm(ee.type,ee.key,ee.props,null,Z.mode,he),he.ref=Bd(Z,Q,ee),he.return=Z,Z=he)}return R(Z);case k:e:{for(De=ee.key;Q!==null;){if(Q.key===De)if(Q.tag===4&&Q.stateNode.containerInfo===ee.containerInfo&&Q.stateNode.implementation===ee.implementation){g(Z,Q.sibling),Q=A(Q,ee.children||[]),Q.return=Z,Z=Q;break e}else{g(Z,Q);break}else d(Z,Q);Q=Q.sibling}Q=sx(ee,Z.mode,he),Q.return=Z,Z=Q}return R(Z);case z:return De=ee._init,nn(Z,Q,De(ee._payload),he)}if(Sr(ee))return Ee(Z,Q,ee,he);if(K(ee))return Oe(Z,Q,ee,he);Up(Z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,Q!==null&&Q.tag===6?(g(Z,Q.sibling),Q=A(Q,ee),Q.return=Z,Z=Q):(g(Z,Q),Q=ix(ee,Z.mode,he),Q.return=Z,Z=Q),R(Z)):g(Z,Q)}return nn}var lc=gO(!0),vO=gO(!1),qp=po(null),Vp=null,cc=null,pb=null;function mb(){pb=cc=Vp=null}function gb(c){var d=qp.current;Dt(qp),c._currentValue=d}function vb(c,d,g){for(;c!==null;){var w=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,w!==null&&(w.childLanes|=d)):w!==null&&(w.childLanes&d)!==d&&(w.childLanes|=d),c===g)break;c=c.return}}function uc(c,d){Vp=c,pb=cc=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&d)!==0&&(cr=!0),c.firstContext=null)}function Ur(c){var d=c._currentValue;if(pb!==c)if(c={context:c,memoizedValue:d,next:null},cc===null){if(Vp===null)throw Error(n(308));cc=c,Vp.dependencies={lanes:0,firstContext:c}}else cc=cc.next=c;return d}var Sa=null;function yb(c){Sa===null?Sa=[c]:Sa.push(c)}function yO(c,d,g,w){var A=d.interleaved;return A===null?(g.next=g,yb(d)):(g.next=A.next,A.next=g),d.interleaved=g,ms(c,w)}function ms(c,d){c.lanes|=d;var g=c.alternate;for(g!==null&&(g.lanes|=d),g=c,c=c.return;c!==null;)c.childLanes|=d,g=c.alternate,g!==null&&(g.childLanes|=d),g=c,c=c.return;return g.tag===3?g.stateNode:null}var vo=!1;function bb(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bO(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function gs(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function yo(c,d,g){var w=c.updateQueue;if(w===null)return null;if(w=w.shared,(ot&2)!==0){var A=w.pending;return A===null?d.next=d:(d.next=A.next,A.next=d),w.pending=d,ms(c,g)}return A=w.interleaved,A===null?(d.next=d,yb(w)):(d.next=A.next,A.next=d),w.interleaved=d,ms(c,g)}function Wp(c,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194240)!==0)){var w=d.lanes;w&=c.pendingLanes,g|=w,d.lanes=g,R0(c,g)}}function xO(c,d){var g=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var A=null,O=null;if(g=g.firstBaseUpdate,g!==null){do{var R={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};O===null?A=O=R:O=O.next=R,g=g.next}while(g!==null);O===null?A=O=d:O=O.next=d}else A=O=d;g={baseState:w.baseState,firstBaseUpdate:A,lastBaseUpdate:O,shared:w.shared,effects:w.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=d:c.next=d,g.lastBaseUpdate=d}function zp(c,d,g,w){var A=c.updateQueue;vo=!1;var O=A.firstBaseUpdate,R=A.lastBaseUpdate,q=A.shared.pending;if(q!==null){A.shared.pending=null;var G=q,ne=G.next;G.next=null,R===null?O=ne:R.next=ne,R=G;var le=c.alternate;le!==null&&(le=le.updateQueue,q=le.lastBaseUpdate,q!==R&&(q===null?le.firstBaseUpdate=ne:q.next=ne,le.lastBaseUpdate=G))}if(O!==null){var ue=A.baseState;R=0,le=ne=G=null,q=O;do{var ae=q.lane,xe=q.eventTime;if((w&ae)===ae){le!==null&&(le=le.next={eventTime:xe,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Ee=c,Oe=q;switch(ae=d,xe=g,Oe.tag){case 1:if(Ee=Oe.payload,typeof Ee=="function"){ue=Ee.call(xe,ue,ae);break e}ue=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Oe.payload,ae=typeof Ee=="function"?Ee.call(xe,ue,ae):Ee,ae==null)break e;ue=D({},ue,ae);break e;case 2:vo=!0}}q.callback!==null&&q.lane!==0&&(c.flags|=64,ae=A.effects,ae===null?A.effects=[q]:ae.push(q))}else xe={eventTime:xe,lane:ae,tag:q.tag,payload:q.payload,callback:q.callback,next:null},le===null?(ne=le=xe,G=ue):le=le.next=xe,R|=ae;if(q=q.next,q===null){if(q=A.shared.pending,q===null)break;ae=q,q=ae.next,ae.next=null,A.lastBaseUpdate=ae,A.shared.pending=null}}while(!0);if(le===null&&(G=ue),A.baseState=G,A.firstBaseUpdate=ne,A.lastBaseUpdate=le,d=A.shared.interleaved,d!==null){A=d;do R|=A.lane,A=A.next;while(A!==d)}else O===null&&(A.shared.lanes=0);Pa|=R,c.lanes=R,c.memoizedState=ue}}function wO(c,d,g){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var w=c[d],A=w.callback;if(A!==null){if(w.callback=null,w=g,typeof A!="function")throw Error(n(191,A));A.call(w)}}}var Ud={},Li=po(Ud),qd=po(Ud),Vd=po(Ud);function Ca(c){if(c===Ud)throw Error(n(174));return c}function xb(c,d){switch(kt(Vd,d),kt(qd,c),kt(Li,Ud),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Xn(null,"");break;default:c=c===8?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=Xn(d,c)}Dt(Li),kt(Li,d)}function dc(){Dt(Li),Dt(qd),Dt(Vd)}function _O(c){Ca(Vd.current);var d=Ca(Li.current),g=Xn(d,c.type);d!==g&&(kt(qd,c),kt(Li,g))}function wb(c){qd.current===c&&(Dt(Li),Dt(qd))}var zt=po(0);function Hp(c){for(var d=c;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var _b=[];function Sb(){for(var c=0;c<_b.length;c++)_b[c]._workInProgressVersionPrimary=null;_b.length=0}var Gp=E.ReactCurrentDispatcher,Cb=E.ReactCurrentBatchConfig,Ta=0,Ht=null,un=null,Sn=null,Kp=!1,Wd=!1,zd=0,mG=0;function Bn(){throw Error(n(321))}function Tb(c,d){if(d===null)return!1;for(var g=0;g<d.length&&g<c.length;g++)if(!ci(c[g],d[g]))return!1;return!0}function Pb(c,d,g,w,A,O){if(Ta=O,Ht=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Gp.current=c===null||c.memoizedState===null?bG:xG,c=g(w,A),Wd){O=0;do{if(Wd=!1,zd=0,25<=O)throw Error(n(301));O+=1,Sn=un=null,d.updateQueue=null,Gp.current=wG,c=g(w,A)}while(Wd)}if(Gp.current=Qp,d=un!==null&&un.next!==null,Ta=0,Sn=un=Ht=null,Kp=!1,d)throw Error(n(300));return c}function Eb(){var c=zd!==0;return zd=0,c}function Fi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Ht.memoizedState=Sn=c:Sn=Sn.next=c,Sn}function qr(){if(un===null){var c=Ht.alternate;c=c!==null?c.memoizedState:null}else c=un.next;var d=Sn===null?Ht.memoizedState:Sn.next;if(d!==null)Sn=d,un=c;else{if(c===null)throw Error(n(310));un=c,c={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},Sn===null?Ht.memoizedState=Sn=c:Sn=Sn.next=c}return Sn}function Hd(c,d){return typeof d=="function"?d(c):d}function Ab(c){var d=qr(),g=d.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=c;var w=un,A=w.baseQueue,O=g.pending;if(O!==null){if(A!==null){var R=A.next;A.next=O.next,O.next=R}w.baseQueue=A=O,g.pending=null}if(A!==null){O=A.next,w=w.baseState;var q=R=null,G=null,ne=O;do{var le=ne.lane;if((Ta&le)===le)G!==null&&(G=G.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),w=ne.hasEagerState?ne.eagerState:c(w,ne.action);else{var ue={lane:le,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};G===null?(q=G=ue,R=w):G=G.next=ue,Ht.lanes|=le,Pa|=le}ne=ne.next}while(ne!==null&&ne!==O);G===null?R=w:G.next=q,ci(w,d.memoizedState)||(cr=!0),d.memoizedState=w,d.baseState=R,d.baseQueue=G,g.lastRenderedState=w}if(c=g.interleaved,c!==null){A=c;do O=A.lane,Ht.lanes|=O,Pa|=O,A=A.next;while(A!==c)}else A===null&&(g.lanes=0);return[d.memoizedState,g.dispatch]}function kb(c){var d=qr(),g=d.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=c;var w=g.dispatch,A=g.pending,O=d.memoizedState;if(A!==null){g.pending=null;var R=A=A.next;do O=c(O,R.action),R=R.next;while(R!==A);ci(O,d.memoizedState)||(cr=!0),d.memoizedState=O,d.baseQueue===null&&(d.baseState=O),g.lastRenderedState=O}return[O,w]}function SO(){}function CO(c,d){var g=Ht,w=qr(),A=d(),O=!ci(w.memoizedState,A);if(O&&(w.memoizedState=A,cr=!0),w=w.queue,jb(EO.bind(null,g,w,c),[c]),w.getSnapshot!==d||O||Sn!==null&&Sn.memoizedState.tag&1){if(g.flags|=2048,Gd(9,PO.bind(null,g,w,A,d),void 0,null),Cn===null)throw Error(n(349));(Ta&30)!==0||TO(g,d,A)}return A}function TO(c,d,g){c.flags|=16384,c={getSnapshot:d,value:g},d=Ht.updateQueue,d===null?(d={lastEffect:null,stores:null},Ht.updateQueue=d,d.stores=[c]):(g=d.stores,g===null?d.stores=[c]:g.push(c))}function PO(c,d,g,w){d.value=g,d.getSnapshot=w,AO(d)&&kO(c)}function EO(c,d,g){return g(function(){AO(d)&&kO(c)})}function AO(c){var d=c.getSnapshot;c=c.value;try{var g=d();return!ci(c,g)}catch{return!0}}function kO(c){var d=ms(c,1);d!==null&&pi(d,c,1,-1)}function jO(c){var d=Fi();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hd,lastRenderedState:c},d.queue=c,c=c.dispatch=yG.bind(null,Ht,c),[d.memoizedState,c]}function Gd(c,d,g,w){return c={tag:c,create:d,destroy:g,deps:w,next:null},d=Ht.updateQueue,d===null?(d={lastEffect:null,stores:null},Ht.updateQueue=d,d.lastEffect=c.next=c):(g=d.lastEffect,g===null?d.lastEffect=c.next=c:(w=g.next,g.next=c,c.next=w,d.lastEffect=c)),c}function OO(){return qr().memoizedState}function Yp(c,d,g,w){var A=Fi();Ht.flags|=c,A.memoizedState=Gd(1|d,g,void 0,w===void 0?null:w)}function Xp(c,d,g,w){var A=qr();w=w===void 0?null:w;var O=void 0;if(un!==null){var R=un.memoizedState;if(O=R.destroy,w!==null&&Tb(w,R.deps)){A.memoizedState=Gd(d,g,O,w);return}}Ht.flags|=c,A.memoizedState=Gd(1|d,g,O,w)}function NO(c,d){return Yp(8390656,8,c,d)}function jb(c,d){return Xp(2048,8,c,d)}function RO(c,d){return Xp(4,2,c,d)}function IO(c,d){return Xp(4,4,c,d)}function MO(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function DO(c,d,g){return g=g!=null?g.concat([c]):null,Xp(4,4,MO.bind(null,d,c),g)}function Ob(){}function $O(c,d){var g=qr();d=d===void 0?null:d;var w=g.memoizedState;return w!==null&&d!==null&&Tb(d,w[1])?w[0]:(g.memoizedState=[c,d],c)}function LO(c,d){var g=qr();d=d===void 0?null:d;var w=g.memoizedState;return w!==null&&d!==null&&Tb(d,w[1])?w[0]:(c=c(),g.memoizedState=[c,d],c)}function FO(c,d,g){return(Ta&21)===0?(c.baseState&&(c.baseState=!1,cr=!0),c.memoizedState=g):(ci(g,d)||(g=mj(),Ht.lanes|=g,Pa|=g,c.baseState=!0),d)}function gG(c,d){var g=xt;xt=g!==0&&4>g?g:4,c(!0);var w=Cb.transition;Cb.transition={};try{c(!1),d()}finally{xt=g,Cb.transition=w}}function BO(){return qr().memoizedState}function vG(c,d,g){var w=_o(c);if(g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},UO(c))qO(d,g);else if(g=yO(c,d,g,w),g!==null){var A=Jn();pi(g,c,w,A),VO(g,d,w)}}function yG(c,d,g){var w=_o(c),A={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(UO(c))qO(d,A);else{var O=c.alternate;if(c.lanes===0&&(O===null||O.lanes===0)&&(O=d.lastRenderedReducer,O!==null))try{var R=d.lastRenderedState,q=O(R,g);if(A.hasEagerState=!0,A.eagerState=q,ci(q,R)){var G=d.interleaved;G===null?(A.next=A,yb(d)):(A.next=G.next,G.next=A),d.interleaved=A;return}}catch{}finally{}g=yO(c,d,A,w),g!==null&&(A=Jn(),pi(g,c,w,A),VO(g,d,w))}}function UO(c){var d=c.alternate;return c===Ht||d!==null&&d===Ht}function qO(c,d){Wd=Kp=!0;var g=c.pending;g===null?d.next=d:(d.next=g.next,g.next=d),c.pending=d}function VO(c,d,g){if((g&4194240)!==0){var w=d.lanes;w&=c.pendingLanes,g|=w,d.lanes=g,R0(c,g)}}var Qp={readContext:Ur,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useInsertionEffect:Bn,useLayoutEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useMutableSource:Bn,useSyncExternalStore:Bn,useId:Bn,unstable_isNewReconciler:!1},bG={readContext:Ur,useCallback:function(c,d){return Fi().memoizedState=[c,d===void 0?null:d],c},useContext:Ur,useEffect:NO,useImperativeHandle:function(c,d,g){return g=g!=null?g.concat([c]):null,Yp(4194308,4,MO.bind(null,d,c),g)},useLayoutEffect:function(c,d){return Yp(4194308,4,c,d)},useInsertionEffect:function(c,d){return Yp(4,2,c,d)},useMemo:function(c,d){var g=Fi();return d=d===void 0?null:d,c=c(),g.memoizedState=[c,d],c},useReducer:function(c,d,g){var w=Fi();return d=g!==void 0?g(d):d,w.memoizedState=w.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},w.queue=c,c=c.dispatch=vG.bind(null,Ht,c),[w.memoizedState,c]},useRef:function(c){var d=Fi();return c={current:c},d.memoizedState=c},useState:jO,useDebugValue:Ob,useDeferredValue:function(c){return Fi().memoizedState=c},useTransition:function(){var c=jO(!1),d=c[0];return c=gG.bind(null,c[1]),Fi().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,g){var w=Ht,A=Fi();if(Lt){if(g===void 0)throw Error(n(407));g=g()}else{if(g=d(),Cn===null)throw Error(n(349));(Ta&30)!==0||TO(w,d,g)}A.memoizedState=g;var O={value:g,getSnapshot:d};return A.queue=O,NO(EO.bind(null,w,O,c),[c]),w.flags|=2048,Gd(9,PO.bind(null,w,O,g,d),void 0,null),g},useId:function(){var c=Fi(),d=Cn.identifierPrefix;if(Lt){var g=ps,w=hs;g=(w&~(1<<32-li(w)-1)).toString(32)+g,d=":"+d+"R"+g,g=zd++,0<g&&(d+="H"+g.toString(32)),d+=":"}else g=mG++,d=":"+d+"r"+g.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},xG={readContext:Ur,useCallback:$O,useContext:Ur,useEffect:jb,useImperativeHandle:DO,useInsertionEffect:RO,useLayoutEffect:IO,useMemo:LO,useReducer:Ab,useRef:OO,useState:function(){return Ab(Hd)},useDebugValue:Ob,useDeferredValue:function(c){var d=qr();return FO(d,un.memoizedState,c)},useTransition:function(){var c=Ab(Hd)[0],d=qr().memoizedState;return[c,d]},useMutableSource:SO,useSyncExternalStore:CO,useId:BO,unstable_isNewReconciler:!1},wG={readContext:Ur,useCallback:$O,useContext:Ur,useEffect:jb,useImperativeHandle:DO,useInsertionEffect:RO,useLayoutEffect:IO,useMemo:LO,useReducer:kb,useRef:OO,useState:function(){return kb(Hd)},useDebugValue:Ob,useDeferredValue:function(c){var d=qr();return un===null?d.memoizedState=c:FO(d,un.memoizedState,c)},useTransition:function(){var c=kb(Hd)[0],d=qr().memoizedState;return[c,d]},useMutableSource:SO,useSyncExternalStore:CO,useId:BO,unstable_isNewReconciler:!1};function di(c,d){if(c&&c.defaultProps){d=D({},d),c=c.defaultProps;for(var g in c)d[g]===void 0&&(d[g]=c[g]);return d}return d}function Nb(c,d,g,w){d=c.memoizedState,g=g(w,d),g=g==null?d:D({},d,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var Jp={isMounted:function(c){return(c=c._reactInternals)?ya(c)===c:!1},enqueueSetState:function(c,d,g){c=c._reactInternals;var w=Jn(),A=_o(c),O=gs(w,A);O.payload=d,g!=null&&(O.callback=g),d=yo(c,O,A),d!==null&&(pi(d,c,A,w),Wp(d,c,A))},enqueueReplaceState:function(c,d,g){c=c._reactInternals;var w=Jn(),A=_o(c),O=gs(w,A);O.tag=1,O.payload=d,g!=null&&(O.callback=g),d=yo(c,O,A),d!==null&&(pi(d,c,A,w),Wp(d,c,A))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var g=Jn(),w=_o(c),A=gs(g,w);A.tag=2,d!=null&&(A.callback=d),d=yo(c,A,w),d!==null&&(pi(d,c,w,g),Wp(d,c,w))}};function WO(c,d,g,w,A,O,R){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,O,R):d.prototype&&d.prototype.isPureReactComponent?!Rd(g,w)||!Rd(A,O):!0}function zO(c,d,g){var w=!1,A=mo,O=d.contextType;return typeof O=="object"&&O!==null?O=Ur(O):(A=lr(d)?xa:Fn.current,w=d.contextTypes,O=(w=w!=null)?ic(c,A):mo),d=new d(g,O),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Jp,c.stateNode=d,d._reactInternals=c,w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=A,c.__reactInternalMemoizedMaskedChildContext=O),d}function HO(c,d,g,w){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,w),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,w),d.state!==c&&Jp.enqueueReplaceState(d,d.state,null)}function Rb(c,d,g,w){var A=c.stateNode;A.props=g,A.state=c.memoizedState,A.refs={},bb(c);var O=d.contextType;typeof O=="object"&&O!==null?A.context=Ur(O):(O=lr(d)?xa:Fn.current,A.context=ic(c,O)),A.state=c.memoizedState,O=d.getDerivedStateFromProps,typeof O=="function"&&(Nb(c,d,O,g),A.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(d=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),d!==A.state&&Jp.enqueueReplaceState(A,A.state,null),zp(c,g,A,w),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308)}function fc(c,d){try{var g="",w=d;do g+=ye(w),w=w.return;while(w);var A=g}catch(O){A=`
Error generating stack: `+O.message+`
`+O.stack}return{value:c,source:d,stack:A,digest:null}}function Ib(c,d,g){return{value:c,source:null,stack:g??null,digest:d??null}}function Mb(c,d){try{console.error(d.value)}catch(g){setTimeout(function(){throw g})}}var _G=typeof WeakMap=="function"?WeakMap:Map;function GO(c,d,g){g=gs(-1,g),g.tag=3,g.payload={element:null};var w=d.value;return g.callback=function(){sm||(sm=!0,Xb=w),Mb(c,d)},g}function KO(c,d,g){g=gs(-1,g),g.tag=3;var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var A=d.value;g.payload=function(){return w(A)},g.callback=function(){Mb(c,d)}}var O=c.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(g.callback=function(){Mb(c,d),typeof w!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var R=d.stack;this.componentDidCatch(d.value,{componentStack:R!==null?R:""})}),g}function YO(c,d,g){var w=c.pingCache;if(w===null){w=c.pingCache=new _G;var A=new Set;w.set(d,A)}else A=w.get(d),A===void 0&&(A=new Set,w.set(d,A));A.has(g)||(A.add(g),c=DG.bind(null,c,d,g),d.then(c,c))}function XO(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function QO(c,d,g,w,A){return(c.mode&1)===0?(c===d?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(d=gs(-1,1),d.tag=2,yo(g,d,1))),g.lanes|=1),c):(c.flags|=65536,c.lanes=A,c)}var SG=E.ReactCurrentOwner,cr=!1;function Qn(c,d,g,w){d.child=c===null?vO(d,null,g,w):lc(d,c.child,g,w)}function JO(c,d,g,w,A){g=g.render;var O=d.ref;return uc(d,A),w=Pb(c,d,g,w,O,A),g=Eb(),c!==null&&!cr?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~A,vs(c,d,A)):(Lt&&g&&cb(d),d.flags|=1,Qn(c,d,w,A),d.child)}function ZO(c,d,g,w,A){if(c===null){var O=g.type;return typeof O=="function"&&!rx(O)&&O.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(d.tag=15,d.type=O,eN(c,d,O,w,A)):(c=dm(g.type,null,w,d,d.mode,A),c.ref=d.ref,c.return=d,d.child=c)}if(O=c.child,(c.lanes&A)===0){var R=O.memoizedProps;if(g=g.compare,g=g!==null?g:Rd,g(R,w)&&c.ref===d.ref)return vs(c,d,A)}return d.flags|=1,c=Co(O,w),c.ref=d.ref,c.return=d,d.child=c}function eN(c,d,g,w,A){if(c!==null){var O=c.memoizedProps;if(Rd(O,w)&&c.ref===d.ref)if(cr=!1,d.pendingProps=w=O,(c.lanes&A)!==0)(c.flags&131072)!==0&&(cr=!0);else return d.lanes=c.lanes,vs(c,d,A)}return Db(c,d,g,w,A)}function tN(c,d,g){var w=d.pendingProps,A=w.children,O=c!==null?c.memoizedState:null;if(w.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(pc,Ar),Ar|=g;else{if((g&1073741824)===0)return c=O!==null?O.baseLanes|g:g,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,kt(pc,Ar),Ar|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=O!==null?O.baseLanes:g,kt(pc,Ar),Ar|=w}else O!==null?(w=O.baseLanes|g,d.memoizedState=null):w=g,kt(pc,Ar),Ar|=w;return Qn(c,d,A,g),d.child}function nN(c,d){var g=d.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(d.flags|=512,d.flags|=2097152)}function Db(c,d,g,w,A){var O=lr(g)?xa:Fn.current;return O=ic(d,O),uc(d,A),g=Pb(c,d,g,w,O,A),w=Eb(),c!==null&&!cr?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~A,vs(c,d,A)):(Lt&&w&&cb(d),d.flags|=1,Qn(c,d,g,A),d.child)}function rN(c,d,g,w,A){if(lr(g)){var O=!0;Dp(d)}else O=!1;if(uc(d,A),d.stateNode===null)em(c,d),zO(d,g,w),Rb(d,g,w,A),w=!0;else if(c===null){var R=d.stateNode,q=d.memoizedProps;R.props=q;var G=R.context,ne=g.contextType;typeof ne=="object"&&ne!==null?ne=Ur(ne):(ne=lr(g)?xa:Fn.current,ne=ic(d,ne));var le=g.getDerivedStateFromProps,ue=typeof le=="function"||typeof R.getSnapshotBeforeUpdate=="function";ue||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(q!==w||G!==ne)&&HO(d,R,w,ne),vo=!1;var ae=d.memoizedState;R.state=ae,zp(d,w,R,A),G=d.memoizedState,q!==w||ae!==G||ar.current||vo?(typeof le=="function"&&(Nb(d,g,le,w),G=d.memoizedState),(q=vo||WO(d,g,q,w,ae,G,ne))?(ue||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(d.flags|=4194308)):(typeof R.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=w,d.memoizedState=G),R.props=w,R.state=G,R.context=ne,w=q):(typeof R.componentDidMount=="function"&&(d.flags|=4194308),w=!1)}else{R=d.stateNode,bO(c,d),q=d.memoizedProps,ne=d.type===d.elementType?q:di(d.type,q),R.props=ne,ue=d.pendingProps,ae=R.context,G=g.contextType,typeof G=="object"&&G!==null?G=Ur(G):(G=lr(g)?xa:Fn.current,G=ic(d,G));var xe=g.getDerivedStateFromProps;(le=typeof xe=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(q!==ue||ae!==G)&&HO(d,R,w,G),vo=!1,ae=d.memoizedState,R.state=ae,zp(d,w,R,A);var Ee=d.memoizedState;q!==ue||ae!==Ee||ar.current||vo?(typeof xe=="function"&&(Nb(d,g,xe,w),Ee=d.memoizedState),(ne=vo||WO(d,g,ne,w,ae,Ee,G)||!1)?(le||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(w,Ee,G),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(w,Ee,G)),typeof R.componentDidUpdate=="function"&&(d.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof R.componentDidUpdate!="function"||q===c.memoizedProps&&ae===c.memoizedState||(d.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||q===c.memoizedProps&&ae===c.memoizedState||(d.flags|=1024),d.memoizedProps=w,d.memoizedState=Ee),R.props=w,R.state=Ee,R.context=G,w=ne):(typeof R.componentDidUpdate!="function"||q===c.memoizedProps&&ae===c.memoizedState||(d.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||q===c.memoizedProps&&ae===c.memoizedState||(d.flags|=1024),w=!1)}return $b(c,d,g,w,O,A)}function $b(c,d,g,w,A,O){nN(c,d);var R=(d.flags&128)!==0;if(!w&&!R)return A&&lO(d,g,!1),vs(c,d,O);w=d.stateNode,SG.current=d;var q=R&&typeof g.getDerivedStateFromError!="function"?null:w.render();return d.flags|=1,c!==null&&R?(d.child=lc(d,c.child,null,O),d.child=lc(d,null,q,O)):Qn(c,d,q,O),d.memoizedState=w.state,A&&lO(d,g,!0),d.child}function iN(c){var d=c.stateNode;d.pendingContext?oO(c,d.pendingContext,d.pendingContext!==d.context):d.context&&oO(c,d.context,!1),xb(c,d.containerInfo)}function sN(c,d,g,w,A){return ac(),hb(A),d.flags|=256,Qn(c,d,g,w),d.child}var Lb={dehydrated:null,treeContext:null,retryLane:0};function Fb(c){return{baseLanes:c,cachePool:null,transitions:null}}function oN(c,d,g){var w=d.pendingProps,A=zt.current,O=!1,R=(d.flags&128)!==0,q;if((q=R)||(q=c!==null&&c.memoizedState===null?!1:(A&2)!==0),q?(O=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(A|=1),kt(zt,A&1),c===null)return fb(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((d.mode&1)===0?d.lanes=1:c.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(R=w.children,c=w.fallback,O?(w=d.mode,O=d.child,R={mode:"hidden",children:R},(w&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=R):O=fm(R,w,0,null),c=ja(c,w,g,null),O.return=d,c.return=d,O.sibling=c,d.child=O,d.child.memoizedState=Fb(g),d.memoizedState=Lb,c):Bb(d,R));if(A=c.memoizedState,A!==null&&(q=A.dehydrated,q!==null))return CG(c,d,R,w,q,A,g);if(O){O=w.fallback,R=d.mode,A=c.child,q=A.sibling;var G={mode:"hidden",children:w.children};return(R&1)===0&&d.child!==A?(w=d.child,w.childLanes=0,w.pendingProps=G,d.deletions=null):(w=Co(A,G),w.subtreeFlags=A.subtreeFlags&14680064),q!==null?O=Co(q,O):(O=ja(O,R,g,null),O.flags|=2),O.return=d,w.return=d,w.sibling=O,d.child=w,w=O,O=d.child,R=c.child.memoizedState,R=R===null?Fb(g):{baseLanes:R.baseLanes|g,cachePool:null,transitions:R.transitions},O.memoizedState=R,O.childLanes=c.childLanes&~g,d.memoizedState=Lb,w}return O=c.child,c=O.sibling,w=Co(O,{mode:"visible",children:w.children}),(d.mode&1)===0&&(w.lanes=g),w.return=d,w.sibling=null,c!==null&&(g=d.deletions,g===null?(d.deletions=[c],d.flags|=16):g.push(c)),d.child=w,d.memoizedState=null,w}function Bb(c,d){return d=fm({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function Zp(c,d,g,w){return w!==null&&hb(w),lc(d,c.child,null,g),c=Bb(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function CG(c,d,g,w,A,O,R){if(g)return d.flags&256?(d.flags&=-257,w=Ib(Error(n(422))),Zp(c,d,R,w)):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(O=w.fallback,A=d.mode,w=fm({mode:"visible",children:w.children},A,0,null),O=ja(O,A,R,null),O.flags|=2,w.return=d,O.return=d,w.sibling=O,d.child=w,(d.mode&1)!==0&&lc(d,c.child,null,R),d.child.memoizedState=Fb(R),d.memoizedState=Lb,O);if((d.mode&1)===0)return Zp(c,d,R,null);if(A.data==="$!"){if(w=A.nextSibling&&A.nextSibling.dataset,w)var q=w.dgst;return w=q,O=Error(n(419)),w=Ib(O,w,void 0),Zp(c,d,R,w)}if(q=(R&c.childLanes)!==0,cr||q){if(w=Cn,w!==null){switch(R&-R){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(w.suspendedLanes|R))!==0?0:A,A!==0&&A!==O.retryLane&&(O.retryLane=A,ms(c,A),pi(w,c,A,-1))}return nx(),w=Ib(Error(n(421))),Zp(c,d,R,w)}return A.data==="$?"?(d.flags|=128,d.child=c.child,d=$G.bind(null,c),A._reactRetry=d,null):(c=O.treeContext,Er=ho(A.nextSibling),Pr=d,Lt=!0,ui=null,c!==null&&(Fr[Br++]=hs,Fr[Br++]=ps,Fr[Br++]=wa,hs=c.id,ps=c.overflow,wa=d),d=Bb(d,w.children),d.flags|=4096,d)}function aN(c,d,g){c.lanes|=d;var w=c.alternate;w!==null&&(w.lanes|=d),vb(c.return,d,g)}function Ub(c,d,g,w,A){var O=c.memoizedState;O===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:A}:(O.isBackwards=d,O.rendering=null,O.renderingStartTime=0,O.last=w,O.tail=g,O.tailMode=A)}function lN(c,d,g){var w=d.pendingProps,A=w.revealOrder,O=w.tail;if(Qn(c,d,w.children,g),w=zt.current,(w&2)!==0)w=w&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&aN(c,g,d);else if(c.tag===19)aN(c,g,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}if(kt(zt,w),(d.mode&1)===0)d.memoizedState=null;else switch(A){case"forwards":for(g=d.child,A=null;g!==null;)c=g.alternate,c!==null&&Hp(c)===null&&(A=g),g=g.sibling;g=A,g===null?(A=d.child,d.child=null):(A=g.sibling,g.sibling=null),Ub(d,!1,A,g,O);break;case"backwards":for(g=null,A=d.child,d.child=null;A!==null;){if(c=A.alternate,c!==null&&Hp(c)===null){d.child=A;break}c=A.sibling,A.sibling=g,g=A,A=c}Ub(d,!0,g,null,O);break;case"together":Ub(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function em(c,d){(d.mode&1)===0&&c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2)}function vs(c,d,g){if(c!==null&&(d.dependencies=c.dependencies),Pa|=d.lanes,(g&d.childLanes)===0)return null;if(c!==null&&d.child!==c.child)throw Error(n(153));if(d.child!==null){for(c=d.child,g=Co(c,c.pendingProps),d.child=g,g.return=d;c.sibling!==null;)c=c.sibling,g=g.sibling=Co(c,c.pendingProps),g.return=d;g.sibling=null}return d.child}function TG(c,d,g){switch(d.tag){case 3:iN(d),ac();break;case 5:_O(d);break;case 1:lr(d.type)&&Dp(d);break;case 4:xb(d,d.stateNode.containerInfo);break;case 10:var w=d.type._context,A=d.memoizedProps.value;kt(qp,w._currentValue),w._currentValue=A;break;case 13:if(w=d.memoizedState,w!==null)return w.dehydrated!==null?(kt(zt,zt.current&1),d.flags|=128,null):(g&d.child.childLanes)!==0?oN(c,d,g):(kt(zt,zt.current&1),c=vs(c,d,g),c!==null?c.sibling:null);kt(zt,zt.current&1);break;case 19:if(w=(g&d.childLanes)!==0,(c.flags&128)!==0){if(w)return lN(c,d,g);d.flags|=128}if(A=d.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),kt(zt,zt.current),w)break;return null;case 22:case 23:return d.lanes=0,tN(c,d,g)}return vs(c,d,g)}var cN,qb,uN,dN;cN=function(c,d){for(var g=d.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},qb=function(){},uN=function(c,d,g,w){var A=c.memoizedProps;if(A!==w){c=d.stateNode,Ca(Li.current);var O=null;switch(g){case"input":A=Fe(c,A),w=Fe(c,w),O=[];break;case"select":A=D({},A,{value:void 0}),w=D({},w,{value:void 0}),O=[];break;case"textarea":A=Cr(c,A),w=Cr(c,w),O=[];break;default:typeof A.onClick!="function"&&typeof w.onClick=="function"&&(c.onclick=Rp)}_0(g,w);var R;g=null;for(ne in A)if(!w.hasOwnProperty(ne)&&A.hasOwnProperty(ne)&&A[ne]!=null)if(ne==="style"){var q=A[ne];for(R in q)q.hasOwnProperty(R)&&(g||(g={}),g[R]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?O||(O=[]):(O=O||[]).push(ne,null));for(ne in w){var G=w[ne];if(q=A!=null?A[ne]:void 0,w.hasOwnProperty(ne)&&G!==q&&(G!=null||q!=null))if(ne==="style")if(q){for(R in q)!q.hasOwnProperty(R)||G&&G.hasOwnProperty(R)||(g||(g={}),g[R]="");for(R in G)G.hasOwnProperty(R)&&q[R]!==G[R]&&(g||(g={}),g[R]=G[R])}else g||(O||(O=[]),O.push(ne,g)),g=G;else ne==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,q=q?q.__html:void 0,G!=null&&q!==G&&(O=O||[]).push(ne,G)):ne==="children"?typeof G!="string"&&typeof G!="number"||(O=O||[]).push(ne,""+G):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(ne)?(G!=null&&ne==="onScroll"&&Mt("scroll",c),O||q===G||(O=[])):(O=O||[]).push(ne,G))}g&&(O=O||[]).push("style",g);var ne=O;(d.updateQueue=ne)&&(d.flags|=4)}},dN=function(c,d,g,w){g!==w&&(d.flags|=4)};function Kd(c,d){if(!Lt)switch(c.tailMode){case"hidden":d=c.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function Un(c){var d=c.alternate!==null&&c.alternate.child===c.child,g=0,w=0;if(d)for(var A=c.child;A!==null;)g|=A.lanes|A.childLanes,w|=A.subtreeFlags&14680064,w|=A.flags&14680064,A.return=c,A=A.sibling;else for(A=c.child;A!==null;)g|=A.lanes|A.childLanes,w|=A.subtreeFlags,w|=A.flags,A.return=c,A=A.sibling;return c.subtreeFlags|=w,c.childLanes=g,d}function PG(c,d,g){var w=d.pendingProps;switch(ub(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(d),null;case 1:return lr(d.type)&&Mp(),Un(d),null;case 3:return w=d.stateNode,dc(),Dt(ar),Dt(Fn),Sb(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(c===null||c.child===null)&&(Bp(d)?d.flags|=4:c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,ui!==null&&(Zb(ui),ui=null))),qb(c,d),Un(d),null;case 5:wb(d);var A=Ca(Vd.current);if(g=d.type,c!==null&&d.stateNode!=null)uN(c,d,g,w,A),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!w){if(d.stateNode===null)throw Error(n(166));return Un(d),null}if(c=Ca(Li.current),Bp(d)){w=d.stateNode,g=d.type;var O=d.memoizedProps;switch(w[$i]=d,w[Ld]=O,c=(d.mode&1)!==0,g){case"dialog":Mt("cancel",w),Mt("close",w);break;case"iframe":case"object":case"embed":Mt("load",w);break;case"video":case"audio":for(A=0;A<Md.length;A++)Mt(Md[A],w);break;case"source":Mt("error",w);break;case"img":case"image":case"link":Mt("error",w),Mt("load",w);break;case"details":Mt("toggle",w);break;case"input":dt(w,O),Mt("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!O.multiple},Mt("invalid",w);break;case"textarea":us(w,O),Mt("invalid",w)}_0(g,O),A=null;for(var R in O)if(O.hasOwnProperty(R)){var q=O[R];R==="children"?typeof q=="string"?w.textContent!==q&&(O.suppressHydrationWarning!==!0&&Np(w.textContent,q,c),A=["children",q]):typeof q=="number"&&w.textContent!==""+q&&(O.suppressHydrationWarning!==!0&&Np(w.textContent,q,c),A=["children",""+q]):i.hasOwnProperty(R)&&q!=null&&R==="onScroll"&&Mt("scroll",w)}switch(g){case"input":ve(w),Yn(w,O,!0);break;case"textarea":ve(w),At(w);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(w.onclick=Rp)}w=A,d.updateQueue=w,w!==null&&(d.flags|=4)}else{R=A.nodeType===9?A:A.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=en(g)),c==="http://www.w3.org/1999/xhtml"?g==="script"?(c=R.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof w.is=="string"?c=R.createElement(g,{is:w.is}):(c=R.createElement(g),g==="select"&&(R=c,w.multiple?R.multiple=!0:w.size&&(R.size=w.size))):c=R.createElementNS(c,g),c[$i]=d,c[Ld]=w,cN(c,d,!1,!1),d.stateNode=c;e:{switch(R=S0(g,w),g){case"dialog":Mt("cancel",c),Mt("close",c),A=w;break;case"iframe":case"object":case"embed":Mt("load",c),A=w;break;case"video":case"audio":for(A=0;A<Md.length;A++)Mt(Md[A],c);A=w;break;case"source":Mt("error",c),A=w;break;case"img":case"image":case"link":Mt("error",c),Mt("load",c),A=w;break;case"details":Mt("toggle",c),A=w;break;case"input":dt(c,w),A=Fe(c,w),Mt("invalid",c);break;case"option":A=w;break;case"select":c._wrapperState={wasMultiple:!!w.multiple},A=D({},w,{value:void 0}),Mt("invalid",c);break;case"textarea":us(c,w),A=Cr(c,w),Mt("invalid",c);break;default:A=w}_0(g,A),q=A;for(O in q)if(q.hasOwnProperty(O)){var G=q[O];O==="style"?ej(c,G):O==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&so(c,G)):O==="children"?typeof G=="string"?(g!=="textarea"||G!=="")&&va(c,G):typeof G=="number"&&va(c,""+G):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(i.hasOwnProperty(O)?G!=null&&O==="onScroll"&&Mt("scroll",c):G!=null&&C(c,O,G,R))}switch(g){case"input":ve(c),Yn(c,w,!1);break;case"textarea":ve(c),At(c);break;case"option":w.value!=null&&c.setAttribute("value",""+me(w.value));break;case"select":c.multiple=!!w.multiple,O=w.value,O!=null?Nn(c,!!w.multiple,O,!1):w.defaultValue!=null&&Nn(c,!!w.multiple,w.defaultValue,!0);break;default:typeof A.onClick=="function"&&(c.onclick=Rp)}switch(g){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Un(d),null;case 6:if(c&&d.stateNode!=null)dN(c,d,c.memoizedProps,w);else{if(typeof w!="string"&&d.stateNode===null)throw Error(n(166));if(g=Ca(Vd.current),Ca(Li.current),Bp(d)){if(w=d.stateNode,g=d.memoizedProps,w[$i]=d,(O=w.nodeValue!==g)&&(c=Pr,c!==null))switch(c.tag){case 3:Np(w.nodeValue,g,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Np(w.nodeValue,g,(c.mode&1)!==0)}O&&(d.flags|=4)}else w=(g.nodeType===9?g:g.ownerDocument).createTextNode(w),w[$i]=d,d.stateNode=w}return Un(d),null;case 13:if(Dt(zt),w=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Lt&&Er!==null&&(d.mode&1)!==0&&(d.flags&128)===0)pO(),ac(),d.flags|=98560,O=!1;else if(O=Bp(d),w!==null&&w.dehydrated!==null){if(c===null){if(!O)throw Error(n(318));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[$i]=d}else ac(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Un(d),O=!1}else ui!==null&&(Zb(ui),ui=null),O=!0;if(!O)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=g,d):(w=w!==null,w!==(c!==null&&c.memoizedState!==null)&&w&&(d.child.flags|=8192,(d.mode&1)!==0&&(c===null||(zt.current&1)!==0?dn===0&&(dn=3):nx())),d.updateQueue!==null&&(d.flags|=4),Un(d),null);case 4:return dc(),qb(c,d),c===null&&Dd(d.stateNode.containerInfo),Un(d),null;case 10:return gb(d.type._context),Un(d),null;case 17:return lr(d.type)&&Mp(),Un(d),null;case 19:if(Dt(zt),O=d.memoizedState,O===null)return Un(d),null;if(w=(d.flags&128)!==0,R=O.rendering,R===null)if(w)Kd(O,!1);else{if(dn!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(R=Hp(c),R!==null){for(d.flags|=128,Kd(O,!1),w=R.updateQueue,w!==null&&(d.updateQueue=w,d.flags|=4),d.subtreeFlags=0,w=g,g=d.child;g!==null;)O=g,c=w,O.flags&=14680066,R=O.alternate,R===null?(O.childLanes=0,O.lanes=c,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=R.childLanes,O.lanes=R.lanes,O.child=R.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=R.memoizedProps,O.memoizedState=R.memoizedState,O.updateQueue=R.updateQueue,O.type=R.type,c=R.dependencies,O.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),g=g.sibling;return kt(zt,zt.current&1|2),d.child}c=c.sibling}O.tail!==null&&tn()>mc&&(d.flags|=128,w=!0,Kd(O,!1),d.lanes=4194304)}else{if(!w)if(c=Hp(R),c!==null){if(d.flags|=128,w=!0,g=c.updateQueue,g!==null&&(d.updateQueue=g,d.flags|=4),Kd(O,!0),O.tail===null&&O.tailMode==="hidden"&&!R.alternate&&!Lt)return Un(d),null}else 2*tn()-O.renderingStartTime>mc&&g!==1073741824&&(d.flags|=128,w=!0,Kd(O,!1),d.lanes=4194304);O.isBackwards?(R.sibling=d.child,d.child=R):(g=O.last,g!==null?g.sibling=R:d.child=R,O.last=R)}return O.tail!==null?(d=O.tail,O.rendering=d,O.tail=d.sibling,O.renderingStartTime=tn(),d.sibling=null,g=zt.current,kt(zt,w?g&1|2:g&1),d):(Un(d),null);case 22:case 23:return tx(),w=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==w&&(d.flags|=8192),w&&(d.mode&1)!==0?(Ar&1073741824)!==0&&(Un(d),d.subtreeFlags&6&&(d.flags|=8192)):Un(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function EG(c,d){switch(ub(d),d.tag){case 1:return lr(d.type)&&Mp(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return dc(),Dt(ar),Dt(Fn),Sb(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 5:return wb(d),null;case 13:if(Dt(zt),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(n(340));ac()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return Dt(zt),null;case 4:return dc(),null;case 10:return gb(d.type._context),null;case 22:case 23:return tx(),null;case 24:return null;default:return null}}var tm=!1,qn=!1,AG=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function hc(c,d){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){Xt(c,d,w)}else g.current=null}function Vb(c,d,g){try{g()}catch(w){Xt(c,d,w)}}var fN=!1;function kG(c,d){if(tb=wp,c=Wj(),G0(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var A=w.anchorOffset,O=w.focusNode;w=w.focusOffset;try{g.nodeType,O.nodeType}catch{g=null;break e}var R=0,q=-1,G=-1,ne=0,le=0,ue=c,ae=null;t:for(;;){for(var xe;ue!==g||A!==0&&ue.nodeType!==3||(q=R+A),ue!==O||w!==0&&ue.nodeType!==3||(G=R+w),ue.nodeType===3&&(R+=ue.nodeValue.length),(xe=ue.firstChild)!==null;)ae=ue,ue=xe;for(;;){if(ue===c)break t;if(ae===g&&++ne===A&&(q=R),ae===O&&++le===w&&(G=R),(xe=ue.nextSibling)!==null)break;ue=ae,ae=ue.parentNode}ue=xe}g=q===-1||G===-1?null:{start:q,end:G}}else g=null}g=g||{start:0,end:0}}else g=null;for(nb={focusedElem:c,selectionRange:g},wp=!1,Ce=d;Ce!==null;)if(d=Ce,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,Ce=c;else for(;Ce!==null;){d=Ce;try{var Ee=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Oe=Ee.memoizedProps,nn=Ee.memoizedState,Z=d.stateNode,Q=Z.getSnapshotBeforeUpdate(d.elementType===d.type?Oe:di(d.type,Oe),nn);Z.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var ee=d.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){Xt(d,d.return,he)}if(c=d.sibling,c!==null){c.return=d.return,Ce=c;break}Ce=d.return}return Ee=fN,fN=!1,Ee}function Yd(c,d,g){var w=d.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var A=w=w.next;do{if((A.tag&c)===c){var O=A.destroy;A.destroy=void 0,O!==void 0&&Vb(d,g,O)}A=A.next}while(A!==w)}}function nm(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&c)===c){var w=g.create;g.destroy=w()}g=g.next}while(g!==d)}}function Wb(c){var d=c.ref;if(d!==null){var g=c.stateNode;switch(c.tag){case 5:c=g;break;default:c=g}typeof d=="function"?d(c):d.current=c}}function hN(c){var d=c.alternate;d!==null&&(c.alternate=null,hN(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&(delete d[$i],delete d[Ld],delete d[ob],delete d[dG],delete d[fG])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function pN(c){return c.tag===5||c.tag===3||c.tag===4}function mN(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||pN(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function zb(c,d,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,d?g.nodeType===8?g.parentNode.insertBefore(c,d):g.insertBefore(c,d):(g.nodeType===8?(d=g.parentNode,d.insertBefore(c,g)):(d=g,d.appendChild(c)),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=Rp));else if(w!==4&&(c=c.child,c!==null))for(zb(c,d,g),c=c.sibling;c!==null;)zb(c,d,g),c=c.sibling}function Hb(c,d,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,d?g.insertBefore(c,d):g.appendChild(c);else if(w!==4&&(c=c.child,c!==null))for(Hb(c,d,g),c=c.sibling;c!==null;)Hb(c,d,g),c=c.sibling}var Rn=null,fi=!1;function bo(c,d,g){for(g=g.child;g!==null;)gN(c,d,g),g=g.sibling}function gN(c,d,g){if(Di&&typeof Di.onCommitFiberUnmount=="function")try{Di.onCommitFiberUnmount(mp,g)}catch{}switch(g.tag){case 5:qn||hc(g,d);case 6:var w=Rn,A=fi;Rn=null,bo(c,d,g),Rn=w,fi=A,Rn!==null&&(fi?(c=Rn,g=g.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)):Rn.removeChild(g.stateNode));break;case 18:Rn!==null&&(fi?(c=Rn,g=g.stateNode,c.nodeType===8?sb(c.parentNode,g):c.nodeType===1&&sb(c,g),Ed(c)):sb(Rn,g.stateNode));break;case 4:w=Rn,A=fi,Rn=g.stateNode.containerInfo,fi=!0,bo(c,d,g),Rn=w,fi=A;break;case 0:case 11:case 14:case 15:if(!qn&&(w=g.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){A=w=w.next;do{var O=A,R=O.destroy;O=O.tag,R!==void 0&&((O&2)!==0||(O&4)!==0)&&Vb(g,d,R),A=A.next}while(A!==w)}bo(c,d,g);break;case 1:if(!qn&&(hc(g,d),w=g.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch(q){Xt(g,d,q)}bo(c,d,g);break;case 21:bo(c,d,g);break;case 22:g.mode&1?(qn=(w=qn)||g.memoizedState!==null,bo(c,d,g),qn=w):bo(c,d,g);break;default:bo(c,d,g)}}function vN(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new AG),d.forEach(function(w){var A=LG.bind(null,c,w);g.has(w)||(g.add(w),w.then(A,A))})}}function hi(c,d){var g=d.deletions;if(g!==null)for(var w=0;w<g.length;w++){var A=g[w];try{var O=c,R=d,q=R;e:for(;q!==null;){switch(q.tag){case 5:Rn=q.stateNode,fi=!1;break e;case 3:Rn=q.stateNode.containerInfo,fi=!0;break e;case 4:Rn=q.stateNode.containerInfo,fi=!0;break e}q=q.return}if(Rn===null)throw Error(n(160));gN(O,R,A),Rn=null,fi=!1;var G=A.alternate;G!==null&&(G.return=null),A.return=null}catch(ne){Xt(A,d,ne)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)yN(d,c),d=d.sibling}function yN(c,d){var g=c.alternate,w=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(hi(d,c),Bi(c),w&4){try{Yd(3,c,c.return),nm(3,c)}catch(Oe){Xt(c,c.return,Oe)}try{Yd(5,c,c.return)}catch(Oe){Xt(c,c.return,Oe)}}break;case 1:hi(d,c),Bi(c),w&512&&g!==null&&hc(g,g.return);break;case 5:if(hi(d,c),Bi(c),w&512&&g!==null&&hc(g,g.return),c.flags&32){var A=c.stateNode;try{va(A,"")}catch(Oe){Xt(c,c.return,Oe)}}if(w&4&&(A=c.stateNode,A!=null)){var O=c.memoizedProps,R=g!==null?g.memoizedProps:O,q=c.type,G=c.updateQueue;if(c.updateQueue=null,G!==null)try{q==="input"&&O.type==="radio"&&O.name!=null&&ft(A,O),S0(q,R);var ne=S0(q,O);for(R=0;R<G.length;R+=2){var le=G[R],ue=G[R+1];le==="style"?ej(A,ue):le==="dangerouslySetInnerHTML"?so(A,ue):le==="children"?va(A,ue):C(A,le,ue,ne)}switch(q){case"input":Et(A,O);break;case"textarea":et(A,O);break;case"select":var ae=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!O.multiple;var xe=O.value;xe!=null?Nn(A,!!O.multiple,xe,!1):ae!==!!O.multiple&&(O.defaultValue!=null?Nn(A,!!O.multiple,O.defaultValue,!0):Nn(A,!!O.multiple,O.multiple?[]:"",!1))}A[Ld]=O}catch(Oe){Xt(c,c.return,Oe)}}break;case 6:if(hi(d,c),Bi(c),w&4){if(c.stateNode===null)throw Error(n(162));A=c.stateNode,O=c.memoizedProps;try{A.nodeValue=O}catch(Oe){Xt(c,c.return,Oe)}}break;case 3:if(hi(d,c),Bi(c),w&4&&g!==null&&g.memoizedState.isDehydrated)try{Ed(d.containerInfo)}catch(Oe){Xt(c,c.return,Oe)}break;case 4:hi(d,c),Bi(c);break;case 13:hi(d,c),Bi(c),A=c.child,A.flags&8192&&(O=A.memoizedState!==null,A.stateNode.isHidden=O,!O||A.alternate!==null&&A.alternate.memoizedState!==null||(Yb=tn())),w&4&&vN(c);break;case 22:if(le=g!==null&&g.memoizedState!==null,c.mode&1?(qn=(ne=qn)||le,hi(d,c),qn=ne):hi(d,c),Bi(c),w&8192){if(ne=c.memoizedState!==null,(c.stateNode.isHidden=ne)&&!le&&(c.mode&1)!==0)for(Ce=c,le=c.child;le!==null;){for(ue=Ce=le;Ce!==null;){switch(ae=Ce,xe=ae.child,ae.tag){case 0:case 11:case 14:case 15:Yd(4,ae,ae.return);break;case 1:hc(ae,ae.return);var Ee=ae.stateNode;if(typeof Ee.componentWillUnmount=="function"){w=ae,g=ae.return;try{d=w,Ee.props=d.memoizedProps,Ee.state=d.memoizedState,Ee.componentWillUnmount()}catch(Oe){Xt(w,g,Oe)}}break;case 5:hc(ae,ae.return);break;case 22:if(ae.memoizedState!==null){wN(ue);continue}}xe!==null?(xe.return=ae,Ce=xe):wN(ue)}le=le.sibling}e:for(le=null,ue=c;;){if(ue.tag===5){if(le===null){le=ue;try{A=ue.stateNode,ne?(O=A.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(q=ue.stateNode,G=ue.memoizedProps.style,R=G!=null&&G.hasOwnProperty("display")?G.display:null,q.style.display=Zk("display",R))}catch(Oe){Xt(c,c.return,Oe)}}}else if(ue.tag===6){if(le===null)try{ue.stateNode.nodeValue=ne?"":ue.memoizedProps}catch(Oe){Xt(c,c.return,Oe)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===c)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===c)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===c)break e;le===ue&&(le=null),ue=ue.return}le===ue&&(le=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:hi(d,c),Bi(c),w&4&&vN(c);break;case 21:break;default:hi(d,c),Bi(c)}}function Bi(c){var d=c.flags;if(d&2){try{e:{for(var g=c.return;g!==null;){if(pN(g)){var w=g;break e}g=g.return}throw Error(n(160))}switch(w.tag){case 5:var A=w.stateNode;w.flags&32&&(va(A,""),w.flags&=-33);var O=mN(c);Hb(c,O,A);break;case 3:case 4:var R=w.stateNode.containerInfo,q=mN(c);zb(c,q,R);break;default:throw Error(n(161))}}catch(G){Xt(c,c.return,G)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function jG(c,d,g){Ce=c,bN(c)}function bN(c,d,g){for(var w=(c.mode&1)!==0;Ce!==null;){var A=Ce,O=A.child;if(A.tag===22&&w){var R=A.memoizedState!==null||tm;if(!R){var q=A.alternate,G=q!==null&&q.memoizedState!==null||qn;q=tm;var ne=qn;if(tm=R,(qn=G)&&!ne)for(Ce=A;Ce!==null;)R=Ce,G=R.child,R.tag===22&&R.memoizedState!==null?_N(A):G!==null?(G.return=R,Ce=G):_N(A);for(;O!==null;)Ce=O,bN(O),O=O.sibling;Ce=A,tm=q,qn=ne}xN(c)}else(A.subtreeFlags&8772)!==0&&O!==null?(O.return=A,Ce=O):xN(c)}}function xN(c){for(;Ce!==null;){var d=Ce;if((d.flags&8772)!==0){var g=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:qn||nm(5,d);break;case 1:var w=d.stateNode;if(d.flags&4&&!qn)if(g===null)w.componentDidMount();else{var A=d.elementType===d.type?g.memoizedProps:di(d.type,g.memoizedProps);w.componentDidUpdate(A,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var O=d.updateQueue;O!==null&&wO(d,O,w);break;case 3:var R=d.updateQueue;if(R!==null){if(g=null,d.child!==null)switch(d.child.tag){case 5:g=d.child.stateNode;break;case 1:g=d.child.stateNode}wO(d,R,g)}break;case 5:var q=d.stateNode;if(g===null&&d.flags&4){g=q;var G=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&g.focus();break;case"img":G.src&&(g.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var ne=d.alternate;if(ne!==null){var le=ne.memoizedState;if(le!==null){var ue=le.dehydrated;ue!==null&&Ed(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qn||d.flags&512&&Wb(d)}catch(ae){Xt(d,d.return,ae)}}if(d===c){Ce=null;break}if(g=d.sibling,g!==null){g.return=d.return,Ce=g;break}Ce=d.return}}function wN(c){for(;Ce!==null;){var d=Ce;if(d===c){Ce=null;break}var g=d.sibling;if(g!==null){g.return=d.return,Ce=g;break}Ce=d.return}}function _N(c){for(;Ce!==null;){var d=Ce;try{switch(d.tag){case 0:case 11:case 15:var g=d.return;try{nm(4,d)}catch(G){Xt(d,g,G)}break;case 1:var w=d.stateNode;if(typeof w.componentDidMount=="function"){var A=d.return;try{w.componentDidMount()}catch(G){Xt(d,A,G)}}var O=d.return;try{Wb(d)}catch(G){Xt(d,O,G)}break;case 5:var R=d.return;try{Wb(d)}catch(G){Xt(d,R,G)}}}catch(G){Xt(d,d.return,G)}if(d===c){Ce=null;break}var q=d.sibling;if(q!==null){q.return=d.return,Ce=q;break}Ce=d.return}}var OG=Math.ceil,rm=E.ReactCurrentDispatcher,Gb=E.ReactCurrentOwner,Vr=E.ReactCurrentBatchConfig,ot=0,Cn=null,rn=null,In=0,Ar=0,pc=po(0),dn=0,Xd=null,Pa=0,im=0,Kb=0,Qd=null,ur=null,Yb=0,mc=1/0,ys=null,sm=!1,Xb=null,xo=null,om=!1,wo=null,am=0,Jd=0,Qb=null,lm=-1,cm=0;function Jn(){return(ot&6)!==0?tn():lm!==-1?lm:lm=tn()}function _o(c){return(c.mode&1)===0?1:(ot&2)!==0&&In!==0?In&-In:pG.transition!==null?(cm===0&&(cm=mj()),cm):(c=xt,c!==0||(c=window.event,c=c===void 0?16:Cj(c.type)),c)}function pi(c,d,g,w){if(50<Jd)throw Jd=0,Qb=null,Error(n(185));_d(c,g,w),((ot&2)===0||c!==Cn)&&(c===Cn&&((ot&2)===0&&(im|=g),dn===4&&So(c,In)),dr(c,w),g===1&&ot===0&&(d.mode&1)===0&&(mc=tn()+500,$p&&go()))}function dr(c,d){var g=c.callbackNode;p7(c,d);var w=yp(c,c===Cn?In:0);if(w===0)g!==null&&fj(g),c.callbackNode=null,c.callbackPriority=0;else if(d=w&-w,c.callbackPriority!==d){if(g!=null&&fj(g),d===1)c.tag===0?hG(CN.bind(null,c)):cO(CN.bind(null,c)),cG(function(){(ot&6)===0&&go()}),g=null;else{switch(gj(w)){case 1:g=j0;break;case 4:g=hj;break;case 16:g=pp;break;case 536870912:g=pj;break;default:g=pp}g=NN(g,SN.bind(null,c))}c.callbackPriority=d,c.callbackNode=g}}function SN(c,d){if(lm=-1,cm=0,(ot&6)!==0)throw Error(n(327));var g=c.callbackNode;if(gc()&&c.callbackNode!==g)return null;var w=yp(c,c===Cn?In:0);if(w===0)return null;if((w&30)!==0||(w&c.expiredLanes)!==0||d)d=um(c,w);else{d=w;var A=ot;ot|=2;var O=PN();(Cn!==c||In!==d)&&(ys=null,mc=tn()+500,Aa(c,d));do try{IG();break}catch(q){TN(c,q)}while(!0);mb(),rm.current=O,ot=A,rn!==null?d=0:(Cn=null,In=0,d=dn)}if(d!==0){if(d===2&&(A=O0(c),A!==0&&(w=A,d=Jb(c,A))),d===1)throw g=Xd,Aa(c,0),So(c,w),dr(c,tn()),g;if(d===6)So(c,w);else{if(A=c.current.alternate,(w&30)===0&&!NG(A)&&(d=um(c,w),d===2&&(O=O0(c),O!==0&&(w=O,d=Jb(c,O))),d===1))throw g=Xd,Aa(c,0),So(c,w),dr(c,tn()),g;switch(c.finishedWork=A,c.finishedLanes=w,d){case 0:case 1:throw Error(n(345));case 2:ka(c,ur,ys);break;case 3:if(So(c,w),(w&130023424)===w&&(d=Yb+500-tn(),10<d)){if(yp(c,0)!==0)break;if(A=c.suspendedLanes,(A&w)!==w){Jn(),c.pingedLanes|=c.suspendedLanes&A;break}c.timeoutHandle=ib(ka.bind(null,c,ur,ys),d);break}ka(c,ur,ys);break;case 4:if(So(c,w),(w&4194240)===w)break;for(d=c.eventTimes,A=-1;0<w;){var R=31-li(w);O=1<<R,R=d[R],R>A&&(A=R),w&=~O}if(w=A,w=tn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*OG(w/1960))-w,10<w){c.timeoutHandle=ib(ka.bind(null,c,ur,ys),w);break}ka(c,ur,ys);break;case 5:ka(c,ur,ys);break;default:throw Error(n(329))}}}return dr(c,tn()),c.callbackNode===g?SN.bind(null,c):null}function Jb(c,d){var g=Qd;return c.current.memoizedState.isDehydrated&&(Aa(c,d).flags|=256),c=um(c,d),c!==2&&(d=ur,ur=g,d!==null&&Zb(d)),c}function Zb(c){ur===null?ur=c:ur.push.apply(ur,c)}function NG(c){for(var d=c;;){if(d.flags&16384){var g=d.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var A=g[w],O=A.getSnapshot;A=A.value;try{if(!ci(O(),A))return!1}catch{return!1}}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function So(c,d){for(d&=~Kb,d&=~im,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var g=31-li(d),w=1<<g;c[g]=-1,d&=~w}}function CN(c){if((ot&6)!==0)throw Error(n(327));gc();var d=yp(c,0);if((d&1)===0)return dr(c,tn()),null;var g=um(c,d);if(c.tag!==0&&g===2){var w=O0(c);w!==0&&(d=w,g=Jb(c,w))}if(g===1)throw g=Xd,Aa(c,0),So(c,d),dr(c,tn()),g;if(g===6)throw Error(n(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,ka(c,ur,ys),dr(c,tn()),null}function ex(c,d){var g=ot;ot|=1;try{return c(d)}finally{ot=g,ot===0&&(mc=tn()+500,$p&&go())}}function Ea(c){wo!==null&&wo.tag===0&&(ot&6)===0&&gc();var d=ot;ot|=1;var g=Vr.transition,w=xt;try{if(Vr.transition=null,xt=1,c)return c()}finally{xt=w,Vr.transition=g,ot=d,(ot&6)===0&&go()}}function tx(){Ar=pc.current,Dt(pc)}function Aa(c,d){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==-1&&(c.timeoutHandle=-1,lG(g)),rn!==null)for(g=rn.return;g!==null;){var w=g;switch(ub(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Mp();break;case 3:dc(),Dt(ar),Dt(Fn),Sb();break;case 5:wb(w);break;case 4:dc();break;case 13:Dt(zt);break;case 19:Dt(zt);break;case 10:gb(w.type._context);break;case 22:case 23:tx()}g=g.return}if(Cn=c,rn=c=Co(c.current,null),In=Ar=d,dn=0,Xd=null,Kb=im=Pa=0,ur=Qd=null,Sa!==null){for(d=0;d<Sa.length;d++)if(g=Sa[d],w=g.interleaved,w!==null){g.interleaved=null;var A=w.next,O=g.pending;if(O!==null){var R=O.next;O.next=A,w.next=R}g.pending=w}Sa=null}return c}function TN(c,d){do{var g=rn;try{if(mb(),Gp.current=Qp,Kp){for(var w=Ht.memoizedState;w!==null;){var A=w.queue;A!==null&&(A.pending=null),w=w.next}Kp=!1}if(Ta=0,Sn=un=Ht=null,Wd=!1,zd=0,Gb.current=null,g===null||g.return===null){dn=1,Xd=d,rn=null;break}e:{var O=c,R=g.return,q=g,G=d;if(d=In,q.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var ne=G,le=q,ue=le.tag;if((le.mode&1)===0&&(ue===0||ue===11||ue===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var xe=XO(R);if(xe!==null){xe.flags&=-257,QO(xe,R,q,O,d),xe.mode&1&&YO(O,ne,d),d=xe,G=ne;var Ee=d.updateQueue;if(Ee===null){var Oe=new Set;Oe.add(G),d.updateQueue=Oe}else Ee.add(G);break e}else{if((d&1)===0){YO(O,ne,d),nx();break e}G=Error(n(426))}}else if(Lt&&q.mode&1){var nn=XO(R);if(nn!==null){(nn.flags&65536)===0&&(nn.flags|=256),QO(nn,R,q,O,d),hb(fc(G,q));break e}}O=G=fc(G,q),dn!==4&&(dn=2),Qd===null?Qd=[O]:Qd.push(O),O=R;do{switch(O.tag){case 3:O.flags|=65536,d&=-d,O.lanes|=d;var Z=GO(O,G,d);xO(O,Z);break e;case 1:q=G;var Q=O.type,ee=O.stateNode;if((O.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(xo===null||!xo.has(ee)))){O.flags|=65536,d&=-d,O.lanes|=d;var he=KO(O,q,d);xO(O,he);break e}}O=O.return}while(O!==null)}AN(g)}catch(Ne){d=Ne,rn===g&&g!==null&&(rn=g=g.return);continue}break}while(!0)}function PN(){var c=rm.current;return rm.current=Qp,c===null?Qp:c}function nx(){(dn===0||dn===3||dn===2)&&(dn=4),Cn===null||(Pa&268435455)===0&&(im&268435455)===0||So(Cn,In)}function um(c,d){var g=ot;ot|=2;var w=PN();(Cn!==c||In!==d)&&(ys=null,Aa(c,d));do try{RG();break}catch(A){TN(c,A)}while(!0);if(mb(),ot=g,rm.current=w,rn!==null)throw Error(n(261));return Cn=null,In=0,dn}function RG(){for(;rn!==null;)EN(rn)}function IG(){for(;rn!==null&&!s7();)EN(rn)}function EN(c){var d=ON(c.alternate,c,Ar);c.memoizedProps=c.pendingProps,d===null?AN(c):rn=d,Gb.current=null}function AN(c){var d=c;do{var g=d.alternate;if(c=d.return,(d.flags&32768)===0){if(g=PG(g,d,Ar),g!==null){rn=g;return}}else{if(g=EG(g,d),g!==null){g.flags&=32767,rn=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{dn=6,rn=null;return}}if(d=d.sibling,d!==null){rn=d;return}rn=d=c}while(d!==null);dn===0&&(dn=5)}function ka(c,d,g){var w=xt,A=Vr.transition;try{Vr.transition=null,xt=1,MG(c,d,g,w)}finally{Vr.transition=A,xt=w}return null}function MG(c,d,g,w){do gc();while(wo!==null);if((ot&6)!==0)throw Error(n(327));g=c.finishedWork;var A=c.finishedLanes;if(g===null)return null;if(c.finishedWork=null,c.finishedLanes=0,g===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0;var O=g.lanes|g.childLanes;if(m7(c,O),c===Cn&&(rn=Cn=null,In=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||om||(om=!0,NN(pp,function(){return gc(),null})),O=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||O){O=Vr.transition,Vr.transition=null;var R=xt;xt=1;var q=ot;ot|=4,Gb.current=null,kG(c,g),yN(g,c),tG(nb),wp=!!tb,nb=tb=null,c.current=g,jG(g),o7(),ot=q,xt=R,Vr.transition=O}else c.current=g;if(om&&(om=!1,wo=c,am=A),O=c.pendingLanes,O===0&&(xo=null),c7(g.stateNode),dr(c,tn()),d!==null)for(w=c.onRecoverableError,g=0;g<d.length;g++)A=d[g],w(A.value,{componentStack:A.stack,digest:A.digest});if(sm)throw sm=!1,c=Xb,Xb=null,c;return(am&1)!==0&&c.tag!==0&&gc(),O=c.pendingLanes,(O&1)!==0?c===Qb?Jd++:(Jd=0,Qb=c):Jd=0,go(),null}function gc(){if(wo!==null){var c=gj(am),d=Vr.transition,g=xt;try{if(Vr.transition=null,xt=16>c?16:c,wo===null)var w=!1;else{if(c=wo,wo=null,am=0,(ot&6)!==0)throw Error(n(331));var A=ot;for(ot|=4,Ce=c.current;Ce!==null;){var O=Ce,R=O.child;if((Ce.flags&16)!==0){var q=O.deletions;if(q!==null){for(var G=0;G<q.length;G++){var ne=q[G];for(Ce=ne;Ce!==null;){var le=Ce;switch(le.tag){case 0:case 11:case 15:Yd(8,le,O)}var ue=le.child;if(ue!==null)ue.return=le,Ce=ue;else for(;Ce!==null;){le=Ce;var ae=le.sibling,xe=le.return;if(hN(le),le===ne){Ce=null;break}if(ae!==null){ae.return=xe,Ce=ae;break}Ce=xe}}}var Ee=O.alternate;if(Ee!==null){var Oe=Ee.child;if(Oe!==null){Ee.child=null;do{var nn=Oe.sibling;Oe.sibling=null,Oe=nn}while(Oe!==null)}}Ce=O}}if((O.subtreeFlags&2064)!==0&&R!==null)R.return=O,Ce=R;else e:for(;Ce!==null;){if(O=Ce,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:Yd(9,O,O.return)}var Z=O.sibling;if(Z!==null){Z.return=O.return,Ce=Z;break e}Ce=O.return}}var Q=c.current;for(Ce=Q;Ce!==null;){R=Ce;var ee=R.child;if((R.subtreeFlags&2064)!==0&&ee!==null)ee.return=R,Ce=ee;else e:for(R=Q;Ce!==null;){if(q=Ce,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:nm(9,q)}}catch(Ne){Xt(q,q.return,Ne)}if(q===R){Ce=null;break e}var he=q.sibling;if(he!==null){he.return=q.return,Ce=he;break e}Ce=q.return}}if(ot=A,go(),Di&&typeof Di.onPostCommitFiberRoot=="function")try{Di.onPostCommitFiberRoot(mp,c)}catch{}w=!0}return w}finally{xt=g,Vr.transition=d}}return!1}function kN(c,d,g){d=fc(g,d),d=GO(c,d,1),c=yo(c,d,1),d=Jn(),c!==null&&(_d(c,1,d),dr(c,d))}function Xt(c,d,g){if(c.tag===3)kN(c,c,g);else for(;d!==null;){if(d.tag===3){kN(d,c,g);break}else if(d.tag===1){var w=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(xo===null||!xo.has(w))){c=fc(g,c),c=KO(d,c,1),d=yo(d,c,1),c=Jn(),d!==null&&(_d(d,1,c),dr(d,c));break}}d=d.return}}function DG(c,d,g){var w=c.pingCache;w!==null&&w.delete(d),d=Jn(),c.pingedLanes|=c.suspendedLanes&g,Cn===c&&(In&g)===g&&(dn===4||dn===3&&(In&130023424)===In&&500>tn()-Yb?Aa(c,0):Kb|=g),dr(c,d)}function jN(c,d){d===0&&((c.mode&1)===0?d=1:(d=vp,vp<<=1,(vp&130023424)===0&&(vp=4194304)));var g=Jn();c=ms(c,d),c!==null&&(_d(c,d,g),dr(c,g))}function $G(c){var d=c.memoizedState,g=0;d!==null&&(g=d.retryLane),jN(c,g)}function LG(c,d){var g=0;switch(c.tag){case 13:var w=c.stateNode,A=c.memoizedState;A!==null&&(g=A.retryLane);break;case 19:w=c.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(d),jN(c,g)}var ON;ON=function(c,d,g){if(c!==null)if(c.memoizedProps!==d.pendingProps||ar.current)cr=!0;else{if((c.lanes&g)===0&&(d.flags&128)===0)return cr=!1,TG(c,d,g);cr=(c.flags&131072)!==0}else cr=!1,Lt&&(d.flags&1048576)!==0&&uO(d,Fp,d.index);switch(d.lanes=0,d.tag){case 2:var w=d.type;em(c,d),c=d.pendingProps;var A=ic(d,Fn.current);uc(d,g),A=Pb(null,d,w,c,A,g);var O=Eb();return d.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,lr(w)?(O=!0,Dp(d)):O=!1,d.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,bb(d),A.updater=Jp,d.stateNode=A,A._reactInternals=d,Rb(d,w,c,g),d=$b(null,d,w,!0,O,g)):(d.tag=0,Lt&&O&&cb(d),Qn(null,d,A,g),d=d.child),d;case 16:w=d.elementType;e:{switch(em(c,d),c=d.pendingProps,A=w._init,w=A(w._payload),d.type=w,A=d.tag=BG(w),c=di(w,c),A){case 0:d=Db(null,d,w,c,g);break e;case 1:d=rN(null,d,w,c,g);break e;case 11:d=JO(null,d,w,c,g);break e;case 14:d=ZO(null,d,w,di(w.type,c),g);break e}throw Error(n(306,w,""))}return d;case 0:return w=d.type,A=d.pendingProps,A=d.elementType===w?A:di(w,A),Db(c,d,w,A,g);case 1:return w=d.type,A=d.pendingProps,A=d.elementType===w?A:di(w,A),rN(c,d,w,A,g);case 3:e:{if(iN(d),c===null)throw Error(n(387));w=d.pendingProps,O=d.memoizedState,A=O.element,bO(c,d),zp(d,w,null,g);var R=d.memoizedState;if(w=R.element,O.isDehydrated)if(O={element:w,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},d.updateQueue.baseState=O,d.memoizedState=O,d.flags&256){A=fc(Error(n(423)),d),d=sN(c,d,w,g,A);break e}else if(w!==A){A=fc(Error(n(424)),d),d=sN(c,d,w,g,A);break e}else for(Er=ho(d.stateNode.containerInfo.firstChild),Pr=d,Lt=!0,ui=null,g=vO(d,null,w,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(ac(),w===A){d=vs(c,d,g);break e}Qn(c,d,w,g)}d=d.child}return d;case 5:return _O(d),c===null&&fb(d),w=d.type,A=d.pendingProps,O=c!==null?c.memoizedProps:null,R=A.children,rb(w,A)?R=null:O!==null&&rb(w,O)&&(d.flags|=32),nN(c,d),Qn(c,d,R,g),d.child;case 6:return c===null&&fb(d),null;case 13:return oN(c,d,g);case 4:return xb(d,d.stateNode.containerInfo),w=d.pendingProps,c===null?d.child=lc(d,null,w,g):Qn(c,d,w,g),d.child;case 11:return w=d.type,A=d.pendingProps,A=d.elementType===w?A:di(w,A),JO(c,d,w,A,g);case 7:return Qn(c,d,d.pendingProps,g),d.child;case 8:return Qn(c,d,d.pendingProps.children,g),d.child;case 12:return Qn(c,d,d.pendingProps.children,g),d.child;case 10:e:{if(w=d.type._context,A=d.pendingProps,O=d.memoizedProps,R=A.value,kt(qp,w._currentValue),w._currentValue=R,O!==null)if(ci(O.value,R)){if(O.children===A.children&&!ar.current){d=vs(c,d,g);break e}}else for(O=d.child,O!==null&&(O.return=d);O!==null;){var q=O.dependencies;if(q!==null){R=O.child;for(var G=q.firstContext;G!==null;){if(G.context===w){if(O.tag===1){G=gs(-1,g&-g),G.tag=2;var ne=O.updateQueue;if(ne!==null){ne=ne.shared;var le=ne.pending;le===null?G.next=G:(G.next=le.next,le.next=G),ne.pending=G}}O.lanes|=g,G=O.alternate,G!==null&&(G.lanes|=g),vb(O.return,g,d),q.lanes|=g;break}G=G.next}}else if(O.tag===10)R=O.type===d.type?null:O.child;else if(O.tag===18){if(R=O.return,R===null)throw Error(n(341));R.lanes|=g,q=R.alternate,q!==null&&(q.lanes|=g),vb(R,g,d),R=O.sibling}else R=O.child;if(R!==null)R.return=O;else for(R=O;R!==null;){if(R===d){R=null;break}if(O=R.sibling,O!==null){O.return=R.return,R=O;break}R=R.return}O=R}Qn(c,d,A.children,g),d=d.child}return d;case 9:return A=d.type,w=d.pendingProps.children,uc(d,g),A=Ur(A),w=w(A),d.flags|=1,Qn(c,d,w,g),d.child;case 14:return w=d.type,A=di(w,d.pendingProps),A=di(w.type,A),ZO(c,d,w,A,g);case 15:return eN(c,d,d.type,d.pendingProps,g);case 17:return w=d.type,A=d.pendingProps,A=d.elementType===w?A:di(w,A),em(c,d),d.tag=1,lr(w)?(c=!0,Dp(d)):c=!1,uc(d,g),zO(d,w,A),Rb(d,w,A,g),$b(null,d,w,!0,c,g);case 19:return lN(c,d,g);case 22:return tN(c,d,g)}throw Error(n(156,d.tag))};function NN(c,d){return dj(c,d)}function FG(c,d,g,w){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(c,d,g,w){return new FG(c,d,g,w)}function rx(c){return c=c.prototype,!(!c||!c.isReactComponent)}function BG(c){if(typeof c=="function")return rx(c)?1:0;if(c!=null){if(c=c.$$typeof,c===F)return 11;if(c===X)return 14}return 2}function Co(c,d){var g=c.alternate;return g===null?(g=Wr(c.tag,d,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=d,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,d=c.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function dm(c,d,g,w,A,O){var R=2;if(w=c,typeof c=="function")rx(c)&&(R=1);else if(typeof c=="string")R=5;else e:switch(c){case j:return ja(g.children,A,O,d);case N:R=8,A|=8;break;case I:return c=Wr(12,g,d,A|2),c.elementType=I,c.lanes=O,c;case U:return c=Wr(13,g,d,A),c.elementType=U,c.lanes=O,c;case Y:return c=Wr(19,g,d,A),c.elementType=Y,c.lanes=O,c;case J:return fm(g,A,O,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case L:R=10;break e;case M:R=9;break e;case F:R=11;break e;case X:R=14;break e;case z:R=16,w=null;break e}throw Error(n(130,c==null?c:typeof c,""))}return d=Wr(R,g,d,A),d.elementType=c,d.type=w,d.lanes=O,d}function ja(c,d,g,w){return c=Wr(7,c,w,d),c.lanes=g,c}function fm(c,d,g,w){return c=Wr(22,c,w,d),c.elementType=J,c.lanes=g,c.stateNode={isHidden:!1},c}function ix(c,d,g){return c=Wr(6,c,null,d),c.lanes=g,c}function sx(c,d,g){return d=Wr(4,c.children!==null?c.children:[],c.key,d),d.lanes=g,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function UG(c,d,g,w,A){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=N0(0),this.expirationTimes=N0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=N0(0),this.identifierPrefix=w,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function ox(c,d,g,w,A,O,R,q,G){return c=new UG(c,d,g,q,G),d===1?(d=1,O===!0&&(d|=8)):d=0,O=Wr(3,null,null,d),c.current=O,O.stateNode=c,O.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},bb(O),c}function qG(c,d,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:w==null?null:""+w,children:c,containerInfo:d,implementation:g}}function RN(c){if(!c)return mo;c=c._reactInternals;e:{if(ya(c)!==c||c.tag!==1)throw Error(n(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(lr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(c.tag===1){var g=c.type;if(lr(g))return aO(c,g,d)}return d}function IN(c,d,g,w,A,O,R,q,G){return c=ox(g,w,!0,c,A,O,R,q,G),c.context=RN(null),g=c.current,w=Jn(),A=_o(g),O=gs(w,A),O.callback=d??null,yo(g,O,A),c.current.lanes=A,_d(c,A,w),dr(c,w),c}function hm(c,d,g,w){var A=d.current,O=Jn(),R=_o(A);return g=RN(g),d.context===null?d.context=g:d.pendingContext=g,d=gs(O,R),d.payload={element:c},w=w===void 0?null:w,w!==null&&(d.callback=w),c=yo(A,d,R),c!==null&&(pi(c,A,R,O),Wp(c,A,R)),R}function pm(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function MN(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<d?g:d}}function ax(c,d){MN(c,d),(c=c.alternate)&&MN(c,d)}function VG(){return null}var DN=typeof reportError=="function"?reportError:function(c){console.error(c)};function lx(c){this._internalRoot=c}mm.prototype.render=lx.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(n(409));hm(c,d,null,null)},mm.prototype.unmount=lx.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;Ea(function(){hm(null,c,null,null)}),d[ds]=null}};function mm(c){this._internalRoot=c}mm.prototype.unstable_scheduleHydration=function(c){if(c){var d=bj();c={blockedOn:null,target:c,priority:d};for(var g=0;g<co.length&&d!==0&&d<co[g].priority;g++);co.splice(g,0,c),g===0&&_j(c)}};function cx(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function gm(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function $N(){}function WG(c,d,g,w,A){if(A){if(typeof w=="function"){var O=w;w=function(){var ne=pm(R);O.call(ne)}}var R=IN(d,w,c,0,null,!1,!1,"",$N);return c._reactRootContainer=R,c[ds]=R.current,Dd(c.nodeType===8?c.parentNode:c),Ea(),R}for(;A=c.lastChild;)c.removeChild(A);if(typeof w=="function"){var q=w;w=function(){var ne=pm(G);q.call(ne)}}var G=ox(c,0,!1,null,null,!1,!1,"",$N);return c._reactRootContainer=G,c[ds]=G.current,Dd(c.nodeType===8?c.parentNode:c),Ea(function(){hm(d,G,g,w)}),G}function vm(c,d,g,w,A){var O=g._reactRootContainer;if(O){var R=O;if(typeof A=="function"){var q=A;A=function(){var G=pm(R);q.call(G)}}hm(d,R,c,A)}else R=WG(g,d,c,A,w);return pm(R)}vj=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var g=wd(d.pendingLanes);g!==0&&(R0(d,g|1),dr(d,tn()),(ot&6)===0&&(mc=tn()+500,go()))}break;case 13:Ea(function(){var w=ms(c,1);if(w!==null){var A=Jn();pi(w,c,1,A)}}),ax(c,1)}},I0=function(c){if(c.tag===13){var d=ms(c,134217728);if(d!==null){var g=Jn();pi(d,c,134217728,g)}ax(c,134217728)}},yj=function(c){if(c.tag===13){var d=_o(c),g=ms(c,d);if(g!==null){var w=Jn();pi(g,c,d,w)}ax(c,d)}},bj=function(){return xt},xj=function(c,d){var g=xt;try{return xt=c,d()}finally{xt=g}},P0=function(c,d,g){switch(d){case"input":if(Et(c,g),d=g.name,g.type==="radio"&&d!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<g.length;d++){var w=g[d];if(w!==c&&w.form===c.form){var A=Ip(w);if(!A)throw Error(n(90));re(w),Et(w,A)}}}break;case"textarea":et(c,g);break;case"select":d=g.value,d!=null&&Nn(c,!!g.multiple,d,!1)}},ij=ex,sj=Ea;var zG={usingClientEntryPoint:!1,Events:[Fd,nc,Ip,nj,rj,ex]},Zd={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HG={bundleType:Zd.bundleType,version:Zd.version,rendererPackageName:Zd.rendererPackageName,rendererConfig:Zd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=cj(c),c===null?null:c.stateNode},findFiberByHostInstance:Zd.findFiberByHostInstance||VG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ym=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ym.isDisabled&&ym.supportsFiber)try{mp=ym.inject(HG),Di=ym}catch{}}return fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zG,fr.createPortal=function(c,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cx(d))throw Error(n(200));return qG(c,d,null,g)},fr.createRoot=function(c,d){if(!cx(c))throw Error(n(299));var g=!1,w="",A=DN;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(A=d.onRecoverableError)),d=ox(c,1,!1,null,null,g,!1,w,A),c[ds]=d.current,Dd(c.nodeType===8?c.parentNode:c),new lx(d)},fr.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=cj(d),c=c===null?null:c.stateNode,c},fr.flushSync=function(c){return Ea(c)},fr.hydrate=function(c,d,g){if(!gm(d))throw Error(n(200));return vm(null,c,d,!0,g)},fr.hydrateRoot=function(c,d,g){if(!cx(c))throw Error(n(405));var w=g!=null&&g.hydratedSources||null,A=!1,O="",R=DN;if(g!=null&&(g.unstable_strictMode===!0&&(A=!0),g.identifierPrefix!==void 0&&(O=g.identifierPrefix),g.onRecoverableError!==void 0&&(R=g.onRecoverableError)),d=IN(d,null,c,1,g??null,A,!1,O,R),c[ds]=d.current,Dd(c),w)for(c=0;c<w.length;c++)g=w[c],A=g._getVersion,A=A(g._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[g,A]:d.mutableSourceEagerHydrationData.push(g,A);return new mm(d)},fr.render=function(c,d,g){if(!gm(d))throw Error(n(200));return vm(null,c,d,!1,g)},fr.unmountComponentAtNode=function(c){if(!gm(c))throw Error(n(40));return c._reactRootContainer?(Ea(function(){vm(null,null,c,!1,function(){c._reactRootContainer=null,c[ds]=null})}),!0):!1},fr.unstable_batchedUpdates=ex,fr.unstable_renderSubtreeIntoContainer=function(c,d,g,w){if(!gm(g))throw Error(n(200));if(c==null||c._reactInternals===void 0)throw Error(n(38));return vm(c,d,g,!1,w)},fr.version="18.3.1-next-f1338f8080-20240426",fr}var HN;function _4(){if(HN)return hx.exports;HN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hx.exports=ZG(),hx.exports}var GN;function eK(){if(GN)return wm;GN=1;var t=_4();return wm.createRoot=t.createRoot,wm.hydrateRoot=t.hydrateRoot,wm}var tK=eK();const nK=at(tK);function rK({children:t}){return p.jsx("div",{children:t})}const gE=T.createContext({});function vE(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const yE=typeof window<"u",S4=yE?T.useLayoutEffect:T.useEffect,dy=T.createContext(null);function bE(t,e){t.indexOf(e)===-1&&t.push(e)}function xE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Us=(t,e,n)=>n>e?e:n<t?t:n;let wE=()=>{};const qs={},C4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function T4(t){return typeof t=="object"&&t!==null}const P4=t=>/^0[^.\s]+$/u.test(t);function _E(t){let e;return()=>(e===void 0&&(e=t()),e)}const ni=t=>t,iK=(t,e)=>n=>e(t(n)),Uh=(...t)=>t.reduce(iK),Uf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class SE{constructor(){this.subscriptions=[]}add(e){return bE(this.subscriptions,e),()=>xE(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xi=t=>t*1e3,ei=t=>t/1e3;function E4(t,e){return e?t*(1e3/e):0}const A4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,sK=1e-7,oK=12;function aK(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=A4(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>sK&&++a<oK);return o}function qh(t,e,n,r){if(t===e&&n===r)return ni;const i=s=>aK(s,0,1,t,n);return s=>s===0||s===1?s:A4(i(s),e,r)}const k4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,j4=t=>e=>1-t(1-e),O4=qh(.33,1.53,.69,.99),CE=j4(O4),N4=k4(CE),R4=t=>(t*=2)<1?.5*CE(t):.5*(2-Math.pow(2,-10*(t-1))),TE=t=>1-Math.sin(Math.acos(t)),I4=j4(TE),M4=k4(TE),lK=qh(.42,0,1,1),cK=qh(0,0,.58,1),D4=qh(.42,0,.58,1),uK=t=>Array.isArray(t)&&typeof t[0]!="number",$4=t=>Array.isArray(t)&&typeof t[0]=="number",dK={linear:ni,easeIn:lK,easeInOut:D4,easeOut:cK,circIn:TE,circInOut:M4,circOut:I4,backIn:CE,backInOut:N4,backOut:O4,anticipate:R4},fK=t=>typeof t=="string",KN=t=>{if($4(t)){wE(t.length===4);const[e,n,r,i]=t;return qh(e,n,r,i)}else if(fK(t))return dK[t];return t},_m=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function hK(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(f){o.has(f)&&(u.schedule(f),t()),f(a)}const u={schedule:(f,h=!1,m=!1)=>{const x=m&&i?n:r;return h&&o.add(f),x.has(f)||x.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,u.process(f))}};return u}const pK=40;function L4(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=_m.reduce((C,E)=>(C[E]=hK(s),C),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:f,update:h,preRender:m,render:v,postRender:x}=o,b=()=>{const C=qs.useManualTiming?i.timestamp:performance.now();n=!1,qs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(C-i.timestamp,pK),1)),i.timestamp=C,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),f.process(i),h.process(i),m.process(i),v.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(b))},y=()=>{n=!0,r=!0,i.isProcessing||t(b)};return{schedule:_m.reduce((C,E)=>{const P=o[E];return C[E]=(k,j=!1,N=!1)=>(n||y(),P.schedule(k,j,N)),C},{}),cancel:C=>{for(let E=0;E<_m.length;E++)o[_m[E]].cancel(C)},state:i,steps:o}}const{schedule:qt,cancel:Qo,state:Ln,steps:gx}=L4(typeof requestAnimationFrame<"u"?requestAnimationFrame:ni,!0);let lg;function mK(){lg=void 0}const xr={now:()=>(lg===void 0&&xr.set(Ln.isProcessing||qs.useManualTiming?Ln.timestamp:performance.now()),lg),set:t=>{lg=t,queueMicrotask(mK)}},F4=t=>e=>typeof e=="string"&&e.startsWith(t),B4=F4("--"),gK=F4("var(--"),PE=t=>gK(t)?vK.test(t.split("/*")[0].trim()):!1,vK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qf={...Yu,transform:t=>Us(0,1,t)},Sm={...Yu,default:1},Af=t=>Math.round(t*1e5)/1e5,EE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yK(t){return t==null}const bK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,AE=(t,e)=>n=>!!(typeof n=="string"&&bK.test(n)&&n.startsWith(t)||e&&!yK(n)&&Object.prototype.hasOwnProperty.call(n,e)),U4=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(EE);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},xK=t=>Us(0,255,t),vx={...Yu,transform:t=>Math.round(xK(t))},Ya={test:AE("rgb","red"),parse:U4("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+vx.transform(t)+", "+vx.transform(e)+", "+vx.transform(n)+", "+Af(qf.transform(r))+")"};function wK(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const cC={test:AE("#"),parse:wK,transform:Ya.transform},Vh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ao=Vh("deg"),Qi=Vh("%"),We=Vh("px"),_K=Vh("vh"),SK=Vh("vw"),YN={...Qi,parse:t=>Qi.parse(t)/100,transform:t=>Qi.transform(t*100)},Mc={test:AE("hsl","hue"),parse:U4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Qi.transform(Af(e))+", "+Qi.transform(Af(n))+", "+Af(qf.transform(r))+")"},ln={test:t=>Ya.test(t)||cC.test(t)||Mc.test(t),parse:t=>Ya.test(t)?Ya.parse(t):Mc.test(t)?Mc.parse(t):cC.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ya.transform(t):Mc.transform(t),getAnimatableNone:t=>{const e=ln.parse(t);return e.alpha=0,ln.transform(e)}},CK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TK(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(EE))==null?void 0:e.length)||0)+(((n=t.match(CK))==null?void 0:n.length)||0)>0}const q4="number",V4="color",PK="var",EK="var(",XN="${}",AK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(AK,l=>(ln.test(l)?(r.color.push(s),i.push(V4),n.push(ln.parse(l))):l.startsWith(EK)?(r.var.push(s),i.push(PK),n.push(l)):(r.number.push(s),i.push(q4),n.push(parseFloat(l))),++s,XN)).split(XN);return{values:n,split:a,indexes:r,types:i}}function W4(t){return Vf(t).values}function z4(t){const{split:e,types:n}=Vf(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===q4?s+=Af(i[o]):a===V4?s+=ln.transform(i[o]):s+=i[o]}return s}}const kK=t=>typeof t=="number"?0:ln.test(t)?ln.getAnimatableNone(t):t;function jK(t){const e=W4(t);return z4(t)(e.map(kK))}const Jo={test:TK,parse:W4,createTransformer:z4,getAnimatableNone:jK};function yx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function OK({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=yx(l,a,t+1/3),s=yx(l,a,t),o=yx(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function jg(t,e){return n=>n>0?e:t}const Kt=(t,e,n)=>t+(e-t)*n,bx=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},NK=[cC,Ya,Mc],RK=t=>NK.find(e=>e.test(t));function QN(t){const e=RK(t);if(!e)return!1;let n=e.parse(t);return e===Mc&&(n=OK(n)),n}const JN=(t,e)=>{const n=QN(t),r=QN(e);if(!n||!r)return jg(t,e);const i={...n};return s=>(i.red=bx(n.red,r.red,s),i.green=bx(n.green,r.green,s),i.blue=bx(n.blue,r.blue,s),i.alpha=Kt(n.alpha,r.alpha,s),Ya.transform(i))},uC=new Set(["none","hidden"]);function IK(t,e){return uC.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function MK(t,e){return n=>Kt(t,e,n)}function kE(t){return typeof t=="number"?MK:typeof t=="string"?PE(t)?jg:ln.test(t)?JN:LK:Array.isArray(t)?H4:typeof t=="object"?ln.test(t)?JN:DK:jg}function H4(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>kE(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function DK(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=kE(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function $K(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const LK=(t,e)=>{const n=Jo.createTransformer(e),r=Vf(t),i=Vf(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?uC.has(t)&&!i.values.length||uC.has(e)&&!r.values.length?IK(t,e):Uh(H4($K(r,i),i.values),n):jg(t,e)};function G4(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Kt(t,e,n):kE(t)(t,e)}const FK=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>qt.update(e,n),stop:()=>Qo(e),now:()=>Ln.isProcessing?Ln.timestamp:xr.now()}},K4=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Og=2e4;function jE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Og;)e+=n,r=t.next(e);return e>=Og?1/0:e}function BK(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(jE(r),Og);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:ei(i)}}const UK=5;function Y4(t,e,n){const r=Math.max(e-UK,0);return E4(n-t(r),e-r)}const Jt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xx=.001;function qK({duration:t=Jt.duration,bounce:e=Jt.bounce,velocity:n=Jt.velocity,mass:r=Jt.mass}){let i,s,o=1-e;o=Us(Jt.minDamping,Jt.maxDamping,o),t=Us(Jt.minDuration,Jt.maxDuration,ei(t)),o<1?(i=u=>{const f=u*o,h=f*t,m=f-n,v=dC(u,o),x=Math.exp(-h);return xx-m/v*x},s=u=>{const h=u*o*t,m=h*n+n,v=Math.pow(o,2)*Math.pow(u,2)*t,x=Math.exp(-h),b=dC(Math.pow(u,2),o);return(-i(u)+xx>0?-1:1)*((m-v)*x)/b}):(i=u=>{const f=Math.exp(-u*t),h=(u-n)*t+1;return-xx+f*h},s=u=>{const f=Math.exp(-u*t),h=(n-u)*(t*t);return f*h});const a=5/t,l=WK(i,s,a);if(t=Xi(t),isNaN(l))return{stiffness:Jt.stiffness,damping:Jt.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const VK=12;function WK(t,e,n){let r=n;for(let i=1;i<VK;i++)r=r-t(r)/e(r);return r}function dC(t,e){return t*Math.sqrt(1-e*e)}const zK=["duration","bounce"],HK=["stiffness","damping","mass"];function ZN(t,e){return e.some(n=>t[n]!==void 0)}function GK(t){let e={velocity:Jt.velocity,stiffness:Jt.stiffness,damping:Jt.damping,mass:Jt.mass,isResolvedFromDuration:!1,...t};if(!ZN(t,HK)&&ZN(t,zK))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Us(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Jt.mass,stiffness:i,damping:s}}else{const n=qK(t);e={...e,...n,mass:Jt.mass},e.isResolvedFromDuration=!0}return e}function Ng(t=Jt.visualDuration,e=Jt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:f,duration:h,velocity:m,isResolvedFromDuration:v}=GK({...n,velocity:-ei(n.velocity||0)}),x=m||0,b=u/(2*Math.sqrt(l*f)),y=o-s,_=ei(Math.sqrt(l/f)),S=Math.abs(y)<5;r||(r=S?Jt.restSpeed.granular:Jt.restSpeed.default),i||(i=S?Jt.restDelta.granular:Jt.restDelta.default);let C;if(b<1){const P=dC(_,b);C=k=>{const j=Math.exp(-b*_*k);return o-j*((x+b*_*y)/P*Math.sin(P*k)+y*Math.cos(P*k))}}else if(b===1)C=P=>o-Math.exp(-_*P)*(y+(x+_*y)*P);else{const P=_*Math.sqrt(b*b-1);C=k=>{const j=Math.exp(-b*_*k),N=Math.min(P*k,300);return o-j*((x+b*_*y)*Math.sinh(N)+P*y*Math.cosh(N))/P}}const E={calculatedDuration:v&&h||null,next:P=>{const k=C(P);if(v)a.done=P>=h;else{let j=P===0?x:0;b<1&&(j=P===0?Xi(x):Y4(C,P,k));const N=Math.abs(j)<=r,I=Math.abs(o-k)<=i;a.done=N&&I}return a.value=a.done?o:k,a},toString:()=>{const P=Math.min(jE(E),Og),k=K4(j=>E.next(P*j).value,P,30);return P+"ms "+k},toTransition:()=>{}};return E}Ng.applyToOptions=t=>{const e=BK(t,100,Ng);return t.ease=e.ease,t.duration=Xi(e.duration),t.type="keyframes",t};function fC({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:f}){const h=t[0],m={done:!1,value:h},v=N=>a!==void 0&&N<a||l!==void 0&&N>l,x=N=>a===void 0?l:l===void 0||Math.abs(a-N)<Math.abs(l-N)?a:l;let b=n*e;const y=h+b,_=o===void 0?y:o(y);_!==y&&(b=_-h);const S=N=>-b*Math.exp(-N/r),C=N=>_+S(N),E=N=>{const I=S(N),L=C(N);m.done=Math.abs(I)<=u,m.value=m.done?_:L};let P,k;const j=N=>{v(m.value)&&(P=N,k=Ng({keyframes:[m.value,x(m.value)],velocity:Y4(C,N,m.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return j(0),{calculatedDuration:null,next:N=>{let I=!1;return!k&&P===void 0&&(I=!0,E(N),j(N)),P!==void 0&&N>=P?k.next(N-P):(!I&&E(N),m)}}}function KK(t,e,n){const r=[],i=n||qs.mix||G4,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ni:e;a=Uh(l,a)}r.push(a)}return r}function YK(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(wE(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=KK(e,r,i),l=a.length,u=f=>{if(o&&f<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(f<t[h+1]);h++);const m=Uf(t[h],t[h+1],f);return a[h](m)};return n?f=>u(Us(t[0],t[s-1],f)):u}function XK(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Uf(0,e,r);t.push(Kt(n,1,i))}}function QK(t){const e=[0];return XK(e,t.length-1),e}function JK(t,e){return t.map(n=>n*e)}function ZK(t,e){return t.map(()=>e||D4).splice(0,t.length-1)}function kf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=uK(r)?r.map(KN):KN(r),s={done:!1,value:e[0]},o=JK(n&&n.length===e.length?n:QK(e),t),a=YK(o,e,{ease:Array.isArray(i)?i:ZK(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const eY=t=>t!==null;function OE(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(eY),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const tY={decay:fC,inertia:fC,tween:kf,keyframes:kf,spring:Ng};function X4(t){typeof t.type=="string"&&(t.type=tY[t.type])}class NE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const nY=t=>t/100;class RE extends NE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==xr.now()&&this.tick(xr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;X4(e);const{type:n=kf,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||kf;l!==kf&&typeof a[0]!="number"&&(this.mixKeyframes=Uh(nY,G4(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=jE(u));const{calculatedDuration:f}=u;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:f,repeat:h,repeatType:m,repeatDelay:v,type:x,onUpdate:b,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-u*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let C=this.currentTime,E=r;if(h){const N=Math.min(this.currentTime,i)/a;let I=Math.floor(N),L=N%1;!L&&N>=1&&(L=1),L===1&&I--,I=Math.min(I,h+1),!!(I%2)&&(m==="reverse"?(L=1-L,v&&(L-=v/a)):m==="mirror"&&(E=o)),C=Us(0,1,L)*a}const P=S?{done:!1,value:f[0]}:E.next(C);s&&(P.value=s(P.value));let{done:k}=P;!S&&l!==null&&(k=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return j&&x!==fC&&(P.value=OE(f,this.options,y,this.speed)),b&&b(P.value),j&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return ei(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ei(e)}get time(){return ei(this.currentTime)}set time(e){var n;e=Xi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ei(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=FK,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function rY(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Xa=t=>t*180/Math.PI,hC=t=>{const e=Xa(Math.atan2(t[1],t[0]));return pC(e)},iY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:hC,rotateZ:hC,skewX:t=>Xa(Math.atan(t[1])),skewY:t=>Xa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},pC=t=>(t=t%360,t<0&&(t+=360),t),eR=hC,tR=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),nR=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),sY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tR,scaleY:nR,scale:t=>(tR(t)+nR(t))/2,rotateX:t=>pC(Xa(Math.atan2(t[6],t[5]))),rotateY:t=>pC(Xa(Math.atan2(-t[2],t[0]))),rotateZ:eR,rotate:eR,skewX:t=>Xa(Math.atan(t[4])),skewY:t=>Xa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function mC(t){return t.includes("scale")?1:0}function gC(t,e){if(!t||t==="none")return mC(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=sY,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=iY,i=a}if(!i)return mC(e);const s=r[e],o=i[1].split(",").map(aY);return typeof s=="function"?s(o):o[s]}const oY=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return gC(n,e)};function aY(t){return parseFloat(t.trim())}const Xu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qu=new Set(Xu),rR=t=>t===Yu||t===We,lY=new Set(["x","y","z"]),cY=Xu.filter(t=>!lY.has(t));function uY(t){const e=[];return cY.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const gl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>gC(e,"x"),y:(t,{transform:e})=>gC(e,"y")};gl.translateX=gl.x;gl.translateY=gl.y;const vl=new Set;let vC=!1,yC=!1,bC=!1;function Q4(){if(yC){const t=Array.from(vl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=uY(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}yC=!1,vC=!1,vl.forEach(t=>t.complete(bC)),vl.clear()}function J4(){vl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(yC=!0)})}function dY(){bC=!0,J4(),Q4(),bC=!1}class IE{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(vl.add(this),vC||(vC=!0,qt.read(J4),qt.resolveKeyframes(Q4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}rY(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),vl.delete(this)}cancel(){this.state==="scheduled"&&(vl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const fY=t=>t.startsWith("--");function hY(t,e,n){fY(e)?t.style.setProperty(e,n):t.style[e]=n}const pY=_E(()=>window.ScrollTimeline!==void 0),mY={};function gY(t,e){const n=_E(t);return()=>mY[e]??n()}const Z4=gY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bf=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,iR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bf([0,.65,.55,1]),circOut:bf([.55,0,1,.45]),backIn:bf([.31,.01,.66,-.59]),backOut:bf([.33,1.53,.69,.99])};function eB(t,e){if(t)return typeof t=="function"?Z4()?K4(t,e):"ease-out":$4(t)?bf(t):Array.isArray(t)?t.map(n=>eB(n,e)||iR.easeOut):iR[t]}function vY(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const f={[e]:n};l&&(f.offset=l);const h=eB(a,i);Array.isArray(h)&&(f.easing=h);const m={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),t.animate(f,m)}function tB(t){return typeof t=="function"&&"applyToOptions"in t}function yY({type:t,...e}){return tB(t)&&Z4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class bY extends NE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,wE(typeof e.type!="string");const u=yY(e);this.animation=vY(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=OE(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(f):hY(n,r,f),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ei(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ei(e)}get time(){return ei(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Xi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&pY()?(this.animation.timeline=e,ni):n(this)}}const nB={anticipate:R4,backInOut:N4,circInOut:M4};function xY(t){return t in nB}function wY(t){typeof t.ease=="string"&&xY(t.ease)&&(t.ease=nB[t.ease])}const sR=10;class _Y extends bY{constructor(e){wY(e),X4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new RE({...o,autoplay:!1}),l=Xi(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-sR).value,a.sample(l).value,sR),a.stop()}}const oR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Jo.test(t)||t==="0")&&!t.startsWith("url("));function SY(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function CY(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=oR(i,e),a=oR(s,e);return!o||!a?!1:SY(t)||(n==="spring"||tB(n))&&r}function xC(t){t.duration=0,t.type="keyframes"}const TY=new Set(["opacity","clipPath","filter","transform"]),PY=_E(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function EY(t){var f;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return PY()&&n&&TY.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const AY=40;class kY extends NE{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:f,...h}){var x;super(),this.stop=()=>{var b,y;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=xr.now();const m={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:f,...h},v=(f==null?void 0:f.KeyframeResolver)||IE;this.keyframeResolver=new v(a,(b,y,_)=>this.onKeyframesResolved(b,y,m,!_),l,u,f),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:f}=r;this.resolvedAt=xr.now(),CY(e,s,o,a)||((qs.instantAnimations||!l)&&(f==null||f(OE(e,r,n))),e[0]=e[e.length-1],xC(r),r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>AY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!u&&EY(m)?new _Y({...m,element:m.motionValue.owner.current}):new RE(m);v.finished.then(()=>this.notifyFinished()).catch(ni),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),dY()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const jY=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function OY(t){const e=jY.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function rB(t,e,n=1){const[r,i]=OY(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return C4(o)?parseFloat(o):o}return PE(i)?rB(i,e,n+1):i}function ME(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const iB=new Set(["width","height","top","left","right","bottom",...Xu]),NY={test:t=>t==="auto",parse:t=>t},sB=t=>e=>e.test(t),oB=[Yu,We,Qi,Ao,SK,_K,NY],aR=t=>oB.find(sB(t));function RY(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||P4(t):!0}const IY=new Set(["brightness","contrast","saturate","opacity"]);function MY(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(EE)||[];if(!r)return t;const i=n.replace(r,"");let s=IY.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const DY=/\b([a-z-]*)\(.*?\)/gu,wC={...Jo,getAnimatableNone:t=>{const e=t.match(DY);return e?e.map(MY).join(" "):t}},lR={...Yu,transform:Math.round},$Y={rotate:Ao,rotateX:Ao,rotateY:Ao,rotateZ:Ao,scale:Sm,scaleX:Sm,scaleY:Sm,scaleZ:Sm,skew:Ao,skewX:Ao,skewY:Ao,distance:We,translateX:We,translateY:We,translateZ:We,x:We,y:We,z:We,perspective:We,transformPerspective:We,opacity:qf,originX:YN,originY:YN,originZ:We},DE={borderWidth:We,borderTopWidth:We,borderRightWidth:We,borderBottomWidth:We,borderLeftWidth:We,borderRadius:We,radius:We,borderTopLeftRadius:We,borderTopRightRadius:We,borderBottomRightRadius:We,borderBottomLeftRadius:We,width:We,maxWidth:We,height:We,maxHeight:We,top:We,right:We,bottom:We,left:We,padding:We,paddingTop:We,paddingRight:We,paddingBottom:We,paddingLeft:We,margin:We,marginTop:We,marginRight:We,marginBottom:We,marginLeft:We,backgroundPositionX:We,backgroundPositionY:We,...$Y,zIndex:lR,fillOpacity:qf,strokeOpacity:qf,numOctaves:lR},LY={...DE,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:wC,WebkitFilter:wC},aB=t=>LY[t];function lB(t,e){let n=aB(t);return n!==wC&&(n=Jo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const FY=new Set(["auto","none","0"]);function BY(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!FY.has(s)&&Vf(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=lB(n,i)}class UY extends IE{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),PE(u))){const f=rB(u,n.current);f!==void 0&&(e[l]=f),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!iB.has(r)||e.length!==2)return;const[i,s]=e,o=aR(i),a=aR(s);if(o!==a)if(rR(o)&&rR(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else gl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||RY(e[i]))&&r.push(i);r.length&&BY(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=gl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function qY(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const cB=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function uB(t){return T4(t)&&"offsetHeight"in t}const cR=30,VY=t=>!isNaN(parseFloat(t));class WY{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=xr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=xr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=VY(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new SE);const r=this.events[e].add(n);return e==="change"?()=>{r(),qt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>cR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,cR);return E4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hu(t,e){return new WY(t,e)}const{schedule:$E}=L4(queueMicrotask,!1),yi={x:!1,y:!1};function dB(){return yi.x||yi.y}function zY(t){return t==="x"||t==="y"?yi[t]?null:(yi[t]=!0,()=>{yi[t]=!1}):yi.x||yi.y?null:(yi.x=yi.y=!0,()=>{yi.x=yi.y=!1})}function fB(t,e){const n=qY(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function uR(t){return!(t.pointerType==="touch"||dB())}function HY(t,e,n={}){const[r,i,s]=fB(t,n),o=a=>{if(!uR(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const f=h=>{uR(h)&&(u(h),l.removeEventListener("pointerleave",f))};l.addEventListener("pointerleave",f,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const hB=(t,e)=>e?t===e?!0:hB(t,e.parentElement):!1,LE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,GY=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function KY(t){return GY.has(t.tagName)||t.tabIndex!==-1}const cg=new WeakSet;function dR(t){return e=>{e.key==="Enter"&&t(e)}}function wx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const YY=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=dR(()=>{if(cg.has(n))return;wx(n,"down");const i=dR(()=>{wx(n,"up")}),s=()=>wx(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function fR(t){return LE(t)&&!dB()}function XY(t,e,n={}){const[r,i,s]=fB(t,n),o=a=>{const l=a.currentTarget;if(!fR(a))return;cg.add(l);const u=e(l,a),f=(v,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),cg.has(l)&&cg.delete(l),fR(v)&&typeof u=="function"&&u(v,{success:x})},h=v=>{f(v,l===window||l===document||n.useGlobalTarget||hB(l,v.target))},m=v=>{f(v,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),uB(a)&&(a.addEventListener("focus",u=>YY(u,i)),!KY(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function pB(t){return T4(t)&&"ownerSVGElement"in t}function QY(t){return pB(t)&&t.tagName==="svg"}const Gn=t=>!!(t&&t.getVelocity),JY=[...oB,ln,Jo],ZY=t=>JY.find(sB(t)),FE=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function hR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function eX(...t){return e=>{let n=!1;const r=t.map(i=>{const s=hR(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():hR(t[i],null)}}}}function tX(...t){return T.useCallback(eX(...t),t)}class nX extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=uB(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function rX({children:t,isPresent:e,anchorX:n,root:r}){const i=T.useId(),s=T.useRef(null),o=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=T.useContext(FE),l=tX(s,t==null?void 0:t.ref);return T.useInsertionEffect(()=>{const{width:u,height:f,top:h,left:m,right:v}=o.current;if(e||!s.current||!u||!f)return;const x=n==="left"?`left: ${m}`:`right: ${v}`;s.current.dataset.motionPopId=i;const b=document.createElement("style");a&&(b.nonce=a);const y=r??document.head;return y.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${x}px !important;
            top: ${h}px !important;
          }
        `),()=>{y.contains(b)&&y.removeChild(b)}},[e]),p.jsx(nX,{isPresent:e,childRef:s,sizeRef:o,children:T.cloneElement(t,{ref:l})})}const iX=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const u=vE(sX),f=T.useId();let h=!0,m=T.useMemo(()=>(h=!1,{id:f,initial:e,isPresent:n,custom:i,onExitComplete:v=>{u.set(v,!0);for(const x of u.values())if(!x)return;r&&r()},register:v=>(u.set(v,!1),()=>u.delete(v))}),[n,u,r]);return s&&h&&(m={...m}),T.useMemo(()=>{u.forEach((v,x)=>u.set(x,!1))},[n]),T.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=p.jsx(rX,{isPresent:n,anchorX:a,root:l,children:t})),p.jsx(dy.Provider,{value:m,children:t})};function sX(){return new Map}function mB(t=!0){const e=T.useContext(dy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=T.useId();T.useEffect(()=>{if(t)return i(s)},[t]);const o=T.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Cm=t=>t.key||"";function pR(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const oa=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,f]=mB(o),h=T.useMemo(()=>pR(t),[t]),m=o&&!u?[]:h.map(Cm),v=T.useRef(!0),x=T.useRef(h),b=vE(()=>new Map),[y,_]=T.useState(h),[S,C]=T.useState(h);S4(()=>{v.current=!1,x.current=h;for(let k=0;k<S.length;k++){const j=Cm(S[k]);m.includes(j)?b.delete(j):b.get(j)!==!0&&b.set(j,!1)}},[S,m.length,m.join("-")]);const E=[];if(h!==y){let k=[...h];for(let j=0;j<S.length;j++){const N=S[j],I=Cm(N);m.includes(I)||(k.splice(j,0,N),E.push(N))}return s==="wait"&&E.length&&(k=E),C(pR(k)),_(h),null}const{forceRender:P}=T.useContext(gE);return p.jsx(p.Fragment,{children:S.map(k=>{const j=Cm(k),N=o&&!u?!1:h===S||m.includes(j),I=()=>{if(b.has(j))b.set(j,!0);else return;let L=!0;b.forEach(M=>{M||(L=!1)}),L&&(P==null||P(),C(x.current),o&&(f==null||f()),r&&r())};return p.jsx(iX,{isPresent:N,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:N?void 0:I,anchorX:a,children:k},j)})})},gB=T.createContext({strict:!1}),mR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pu={};for(const t in mR)pu[t]={isEnabled:e=>mR[t].some(n=>!!e[n])};function oX(t){for(const e in t)pu[e]={...pu[e],...t[e]}}const aX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||aX.has(t)}let vB=t=>!Rg(t);function lX(t){typeof t=="function"&&(vB=e=>e.startsWith("on")?!Rg(e):t(e))}try{lX(require("@emotion/is-prop-valid").default)}catch{}function cX(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(vB(i)||n===!0&&Rg(i)||!e&&!Rg(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const fy=T.createContext({});function hy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Wf(t){return typeof t=="string"||Array.isArray(t)}const BE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],UE=["initial",...BE];function py(t){return hy(t.animate)||UE.some(e=>Wf(t[e]))}function yB(t){return!!(py(t)||t.variants)}function uX(t,e){if(py(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Wf(n)?n:void 0,animate:Wf(r)?r:void 0}}return t.inherit!==!1?e:{}}function dX(t){const{initial:e,animate:n}=uX(t,T.useContext(fy));return T.useMemo(()=>({initial:e,animate:n}),[gR(e),gR(n)])}function gR(t){return Array.isArray(t)?t.join(" "):t}function vR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const tf={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(We.test(t))t=parseFloat(t);else return t;const n=vR(t,e.target.x),r=vR(t,e.target.y);return`${n}% ${r}%`}},fX={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Jo.parse(t);if(i.length>5)return r;const s=Jo.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Kt(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}},_C={borderRadius:{...tf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tf,borderTopRightRadius:tf,borderBottomLeftRadius:tf,borderBottomRightRadius:tf,boxShadow:fX};function bB(t,{layout:e,layoutId:n}){return Qu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_C[t]||t==="opacity")}const hX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pX=Xu.length;function mX(t,e,n){let r="",i=!0;for(let s=0;s<pX;s++){const o=Xu[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=cB(a,DE[o]);if(!l){i=!1;const f=hX[o]||o;r+=`${f}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function qE(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Qu.has(l)){o=!0;continue}else if(B4(l)){i[l]=u;continue}else{const f=cB(u,DE[l]);l.startsWith("origin")?(a=!0,s[l]=f):r[l]=f}}if(e.transform||(o||n?r.transform=mX(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:f=0}=s;r.transformOrigin=`${l} ${u} ${f}`}}const VE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xB(t,e,n){for(const r in e)!Gn(e[r])&&!bB(r,n)&&(t[r]=e[r])}function gX({transformTemplate:t},e){return T.useMemo(()=>{const n=VE();return qE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function vX(t,e){const n=t.style||{},r={};return xB(r,n,t),Object.assign(r,gX(t,e)),r}function yX(t,e){const n={},r=vX(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const bX={offset:"stroke-dashoffset",array:"stroke-dasharray"},xX={offset:"strokeDashoffset",array:"strokeDasharray"};function wX(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?bX:xX;t[s.offset]=We.transform(-r);const o=We.transform(e),a=We.transform(n);t[s.array]=`${o} ${a}`}function wB(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,f){if(qE(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m}=t;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&wX(h,i,s,o,!1)}const _B=()=>({...VE(),attrs:{}}),SB=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _X(t,e,n,r){const i=T.useMemo(()=>{const s=_B();return wB(s,e,SB(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};xB(s,t.style,t),i.style={...s,...i.style}}return i}const SX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function WE(t){return typeof t!="string"||t.includes("-")?!1:!!(SX.indexOf(t)>-1||/[A-Z]/u.test(t))}function CX(t,e,n,{latestValues:r},i,s=!1){const a=(WE(t)?_X:yX)(e,r,i,t),l=cX(e,typeof t=="string",s),u=t!==T.Fragment?{...l,...a,ref:n}:{},{children:f}=e,h=T.useMemo(()=>Gn(f)?f.get():f,[f]);return T.createElement(t,{...u,children:h})}function yR(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function zE(t,e,n,r){if(typeof e=="function"){const[i,s]=yR(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=yR(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function ug(t){return Gn(t)?t.get():t}function TX({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:PX(n,r,i,t),renderState:e()}}function PX(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=ug(s[m]);let{initial:o,animate:a}=t;const l=py(t),u=yB(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const h=f?a:o;if(h&&typeof h!="boolean"&&!hy(h)){const m=Array.isArray(h)?h:[h];for(let v=0;v<m.length;v++){const x=zE(t,m[v]);if(x){const{transitionEnd:b,transition:y,..._}=x;for(const S in _){let C=_[S];if(Array.isArray(C)){const E=f?C.length-1:0;C=C[E]}C!==null&&(i[S]=C)}for(const S in b)i[S]=b[S]}}}return i}const CB=t=>(e,n)=>{const r=T.useContext(fy),i=T.useContext(dy),s=()=>TX(t,e,r,i);return n?s():vE(s)};function HE(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Gn(r[o])||e.style&&Gn(e.style[o])||bB(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const EX=CB({scrapeMotionValuesFromProps:HE,createRenderState:VE});function TB(t,e,n){const r=HE(t,e,n);for(const i in t)if(Gn(t[i])||Gn(e[i])){const s=Xu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const AX=CB({scrapeMotionValuesFromProps:TB,createRenderState:_B}),kX=Symbol.for("motionComponentSymbol");function Dc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jX(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Dc(n)&&(n.current=r))},[e])}const GE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),OX="framerAppearId",PB="data-"+GE(OX),EB=T.createContext({});function NX(t,e,n,r,i){var b,y;const{visualElement:s}=T.useContext(fy),o=T.useContext(gB),a=T.useContext(dy),l=T.useContext(FE).reducedMotion,u=T.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const f=u.current,h=T.useContext(EB);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&RX(u.current,n,i,h);const m=T.useRef(!1);T.useInsertionEffect(()=>{f&&m.current&&f.update(n,a)});const v=n[PB],x=T.useRef(!!v&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,v))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,v)));return S4(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),x.current&&f.animationState&&f.animationState.animateChanges())}),T.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,v)}),x.current=!1),f.enteringChildren=void 0)}),f}function RX(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:AB(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Dc(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:l,layoutRoot:u})}function AB(t){if(t)return t.options.allowProjection!==!1?t.projection:AB(t.parent)}function _x(t,{forwardMotionProps:e=!1}={},n,r){n&&oX(n);const i=WE(t)?AX:EX;function s(a,l){let u;const f={...T.useContext(FE),...a,layoutId:IX(a)},{isStatic:h}=f,m=dX(a),v=i(a,h);if(!h&&yE){MX();const x=DX(f);u=x.MeasureLayout,m.visualElement=NX(t,v,f,r,x.ProjectionNode)}return p.jsxs(fy.Provider,{value:m,children:[u&&m.visualElement?p.jsx(u,{visualElement:m.visualElement,...f}):null,CX(t,a,jX(v,m.visualElement,l),v,h,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=T.forwardRef(s);return o[kX]=t,o}function IX({layoutId:t}){const e=T.useContext(gE).id;return e&&t!==void 0?e+"-"+t:t}function MX(t,e){T.useContext(gB).strict}function DX(t){const{drag:e,layout:n}=pu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function $X(t,e){if(typeof Proxy>"u")return _x;const n=new Map,r=(s,o)=>_x(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,_x(o,void 0,t,e)),n.get(o))})}function kB({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function LX({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function FX(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Sx(t){return t===void 0||t===1}function SC({scale:t,scaleX:e,scaleY:n}){return!Sx(t)||!Sx(e)||!Sx(n)}function Fa(t){return SC(t)||jB(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function jB(t){return bR(t.x)||bR(t.y)}function bR(t){return t&&t!=="0%"}function Ig(t,e,n){const r=t-n,i=e*r;return n+i}function xR(t,e,n,r,i){return i!==void 0&&(t=Ig(t,i,r)),Ig(t,n,r)+e}function CC(t,e=0,n=1,r,i){t.min=xR(t.min,e,n,r,i),t.max=xR(t.max,e,n,r,i)}function OB(t,{x:e,y:n}){CC(t.x,e.translate,e.scale,e.originPoint),CC(t.y,n.translate,n.scale,n.originPoint)}const wR=.999999999999,_R=1.0000000000001;function BX(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Lc(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,OB(t,o)),r&&Fa(s.latestValues)&&Lc(t,s.latestValues))}e.x<_R&&e.x>wR&&(e.x=1),e.y<_R&&e.y>wR&&(e.y=1)}function $c(t,e){t.min=t.min+e,t.max=t.max+e}function SR(t,e,n,r,i=.5){const s=Kt(t.min,t.max,i);CC(t,e,n,s,r)}function Lc(t,e){SR(t.x,e.x,e.scaleX,e.scale,e.originX),SR(t.y,e.y,e.scaleY,e.scale,e.originY)}function NB(t,e){return kB(FX(t.getBoundingClientRect(),e))}function UX(t,e,n){const r=NB(t,n),{scroll:i}=e;return i&&($c(r.x,i.offset.x),$c(r.y,i.offset.y)),r}const CR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fc=()=>({x:CR(),y:CR()}),TR=()=>({min:0,max:0}),mn=()=>({x:TR(),y:TR()}),TC={current:null},RB={current:!1};function qX(){if(RB.current=!0,!!yE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>TC.current=t.matches;t.addEventListener("change",e),e()}else TC.current=!1}const VX=new WeakMap;function WX(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Gn(i))t.addValue(r,i);else if(Gn(s))t.addValue(r,hu(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,hu(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const PR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zX{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=IE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=xr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,qt.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=py(n),this.isVariantNode=yB(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const v=h[m];l[m]!==void 0&&Gn(v)&&v.set(l[m])}}mount(e){var n;this.current=e,VX.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),RB.current||qX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:TC.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Qo(this.notifyUpdate),Qo(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Qu.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&qt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pu){const n=pu[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<PR.length;r++){const i=PR[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=WX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=hu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(C4(r)||P4(r))?r=parseFloat(r):!ZY(r)&&Jo.test(n)&&(r=lB(e,n)),this.setBaseTarget(e,Gn(r)?r.get():r)),Gn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=zE(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Gn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new SE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){$E.render(this.render)}}class IB extends zX{constructor(){super(...arguments),this.KeyframeResolver=UY}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Gn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function MB(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function HX(t){return window.getComputedStyle(t)}class GX extends IB{constructor(){super(...arguments),this.type="html",this.renderInstance=MB}readValueFromInstance(e,n){var r;if(Qu.has(n))return(r=this.projection)!=null&&r.isProjecting?mC(n):oY(e,n);{const i=HX(e),s=(B4(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return NB(e,n)}build(e,n,r){qE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return HE(e,n,r)}}const DB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function KX(t,e,n,r){MB(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(DB.has(i)?i:GE(i),e.attrs[i])}class YX extends IB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Qu.has(n)){const r=aB(n);return r&&r.default||0}return n=DB.has(n)?n:GE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return TB(e,n,r)}build(e,n,r){wB(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){KX(e,n,r,i)}mount(e){this.isSVGTag=SB(e.tagName),super.mount(e)}}const XX=(t,e)=>WE(t)?new YX(e):new GX(e,{allowProjection:t!==T.Fragment});function zc(t,e,n){const r=t.getProps();return zE(r,e,n!==void 0?n:r.custom,t)}const PC=t=>Array.isArray(t);function QX(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,hu(n))}function JX(t){return PC(t)?t[t.length-1]||0:t}function ZX(t,e){const n=zc(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=JX(s[o]);QX(t,o,a)}}function eQ(t){return!!(Gn(t)&&t.add)}function EC(t,e){const n=t.getValue("willChange");if(eQ(n))return n.add(e);if(!n&&qs.WillChange){const r=new qs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function $B(t){return t.props[PB]}const tQ=t=>t!==null;function nQ(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(tQ),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const rQ={type:"spring",stiffness:500,damping:25,restSpeed:10},iQ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),sQ={type:"keyframes",duration:.8},oQ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aQ=(t,{keyframes:e})=>e.length>2?sQ:Qu.has(t)?t.startsWith("scale")?iQ(e[1]):rQ:oQ;function lQ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...f}){return!!Object.keys(f).length}const KE=(t,e,n,r={},i,s)=>o=>{const a=ME(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Xi(l);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};lQ(a)||Object.assign(f,aQ(t,f)),f.duration&&(f.duration=Xi(f.duration)),f.repeatDelay&&(f.repeatDelay=Xi(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(xC(f),f.delay===0&&(h=!0)),(qs.instantAnimations||qs.skipAnimations)&&(h=!0,xC(f),f.delay=0),f.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const m=nQ(f.keyframes,a);if(m!==void 0){qt.update(()=>{f.onUpdate(m),f.onComplete()});return}}return a.isSync?new RE(f):new kY(f)};function cQ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function LB(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const h=t.getValue(f,t.latestValues[f]??null),m=a[f];if(m===void 0||u&&cQ(u,f))continue;const v={delay:n,...ME(s||{},f)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===x&&!v.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const _=$B(t);if(_){const S=window.MotionHandoffAnimation(_,f,qt);S!==null&&(v.startTime=S,b=!0)}}EC(t,f),h.start(KE(f,h,m,t.shouldReduceMotion&&iB.has(f)?{type:!1}:v,t,b));const y=h.animation;y&&l.push(y)}return o&&Promise.all(l).then(()=>{qt.update(()=>{o&&ZX(t,o)})}),l}function FB(t,e,n,r=0,i=1){const s=Array.from(t).sort((u,f)=>u.sortNodePosition(f)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function AC(t,e,n={}){var l;const r=zc(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(LB(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:m}=i;return uQ(t,e,u,f,h,m,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,f]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>f())}else return Promise.all([s(),o(n.delay)])}function uQ(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(AC(l,e,{...o,delay:n+(typeof r=="function"?0:r)+FB(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function dQ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>AC(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=AC(t,e,n);else{const i=typeof e=="function"?zc(t,e,n.custom):e;r=Promise.all(LB(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function BB(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const fQ=UE.length;function UB(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?UB(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<fQ;n++){const r=UE[n],i=t.props[r];(Wf(i)||i===!1)&&(e[r]=i)}return e}const hQ=[...BE].reverse(),pQ=BE.length;function mQ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>dQ(t,n,r)))}function gQ(t){let e=mQ(t),n=ER(),r=!0;const i=l=>(u,f)=>{var m;const h=zc(t,f,l==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:v,transitionEnd:x,...b}=h;u={...u,...b,...x}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,f=UB(t.parent)||{},h=[],m=new Set;let v={},x=1/0;for(let y=0;y<pQ;y++){const _=hQ[y],S=n[_],C=u[_]!==void 0?u[_]:f[_],E=Wf(C),P=_===l?S.isActive:null;P===!1&&(x=y);let k=C===f[_]&&C!==u[_]&&E;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),S.protectedKeys={...v},!S.isActive&&P===null||!C&&!S.prevProp||hy(C)||typeof C=="boolean")continue;const j=vQ(S.prevProp,C);let N=j||_===l&&S.isActive&&!k&&E||y>x&&E,I=!1;const L=Array.isArray(C)?C:[C];let M=L.reduce(i(_),{});P===!1&&(M={});const{prevResolvedValues:F={}}=S,U={...F,...M},Y=J=>{N=!0,m.has(J)&&(I=!0,m.delete(J)),S.needsAnimating[J]=!0;const B=t.getValue(J);B&&(B.liveStyle=!1)};for(const J in U){const B=M[J],K=F[J];if(v.hasOwnProperty(J))continue;let D=!1;PC(B)&&PC(K)?D=!BB(B,K):D=B!==K,D?B!=null?Y(J):m.add(J):B!==void 0&&m.has(J)?Y(J):S.protectedKeys[J]=!0}S.prevProp=C,S.prevResolvedValues=M,S.isActive&&(v={...v,...M}),r&&t.blockInitialAnimation&&(N=!1);const X=k&&j;N&&(!X||I)&&h.push(...L.map(J=>{const B={type:_};if(typeof J=="string"&&r&&!X&&t.manuallyAnimateOnMount&&t.parent){const{parent:K}=t,D=zc(K,J);if(K.enteringChildren&&D){const{delayChildren:$}=D.transition||{};B.delay=FB(K.enteringChildren,t,$)}}return{animation:J,options:B}}))}if(m.size){const y={};if(typeof u.initial!="boolean"){const _=zc(t,Array.isArray(u.initial)?u.initial[0]:u.initial);_&&_.transition&&(y.transition=_.transition)}m.forEach(_=>{const S=t.getBaseTarget(_),C=t.getValue(_);C&&(C.liveStyle=!0),y[_]=S??null}),h.push({animation:y})}let b=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(h):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(m=>{var v;return(v=m.animationState)==null?void 0:v.setActive(l,u)}),n[l].isActive=u;const f=o(l);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=ER()}}}function vQ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!BB(e,t):!1}function Oa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ER(){return{animate:Oa(!0),whileInView:Oa(),whileHover:Oa(),whileTap:Oa(),whileDrag:Oa(),whileFocus:Oa(),exit:Oa()}}class aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class yQ extends aa{constructor(e){super(e),e.animationState||(e.animationState=gQ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let bQ=0;class xQ extends aa{constructor(){super(...arguments),this.id=bQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const wQ={animation:{Feature:yQ},exit:{Feature:xQ}};function zf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Wh(t){return{point:{x:t.pageX,y:t.pageY}}}const _Q=t=>e=>LE(e)&&t(e,Wh(e));function jf(t,e,n,r){return zf(t,e,_Q(n),r)}const qB=1e-4,SQ=1-qB,CQ=1+qB,VB=.01,TQ=0-VB,PQ=0+VB;function nr(t){return t.max-t.min}function EQ(t,e,n){return Math.abs(t-e)<=n}function AR(t,e,n,r=.5){t.origin=r,t.originPoint=Kt(e.min,e.max,t.origin),t.scale=nr(n)/nr(e),t.translate=Kt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=SQ&&t.scale<=CQ||isNaN(t.scale))&&(t.scale=1),(t.translate>=TQ&&t.translate<=PQ||isNaN(t.translate))&&(t.translate=0)}function Of(t,e,n,r){AR(t.x,e.x,n.x,r?r.originX:void 0),AR(t.y,e.y,n.y,r?r.originY:void 0)}function kR(t,e,n){t.min=n.min+e.min,t.max=t.min+nr(e)}function AQ(t,e,n){kR(t.x,e.x,n.x),kR(t.y,e.y,n.y)}function jR(t,e,n){t.min=e.min-n.min,t.max=t.min+nr(e)}function Mg(t,e,n){jR(t.x,e.x,n.x),jR(t.y,e.y,n.y)}function Kr(t){return[t("x"),t("y")]}const WB=({current:t})=>t?t.ownerDocument.defaultView:null,OR=(t,e)=>Math.abs(t-e);function kQ(t,e){const n=OR(t.x,e.x),r=OR(t.y,e.y);return Math.sqrt(n**2+r**2)}class zB{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Tx(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=kQ(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!x)return;const{point:b}=m,{timestamp:y}=Ln;this.history.push({...b,timestamp:y});const{onStart:_,onMove:S}=this.handlers;v||(_&&_(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,m)},this.handlePointerMove=(m,v)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Cx(v,this.transformPagePoint),qt.update(this.updatePoint,!0)},this.handlePointerUp=(m,v)=>{this.end();const{onEnd:x,onSessionEnd:b,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Tx(m.type==="pointercancel"?this.lastMoveEventInfo:Cx(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,_),b&&b(m,_)},!LE(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=Wh(e),l=Cx(a,this.transformPagePoint),{point:u}=l,{timestamp:f}=Ln;this.history=[{...u,timestamp:f}];const{onSessionStart:h}=n;h&&h(e,Tx(l,this.history)),this.removeListeners=Uh(jf(this.contextWindow,"pointermove",this.handlePointerMove),jf(this.contextWindow,"pointerup",this.handlePointerUp),jf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qo(this.updatePoint)}}function Cx(t,e){return e?{point:e(t.point)}:t}function NR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Tx({point:t},e){return{point:t,delta:NR(t,HB(e)),offset:NR(t,jQ(e)),velocity:OQ(e,.1)}}function jQ(t){return t[0]}function HB(t){return t[t.length-1]}function OQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=HB(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Xi(e)));)n--;if(!r)return{x:0,y:0};const s=ei(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function NQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Kt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Kt(n,t,r.max):Math.min(t,n)),t}function RR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function RQ(t,{top:e,left:n,bottom:r,right:i}){return{x:RR(t.x,n,i),y:RR(t.y,e,r)}}function IR(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function IQ(t,e){return{x:IR(t.x,e.x),y:IR(t.y,e.y)}}function MQ(t,e){let n=.5;const r=nr(t),i=nr(e);return i>r?n=Uf(e.min,e.max-r,t.min):r>i&&(n=Uf(t.min,t.max-i,e.min)),Us(0,1,n)}function DQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const kC=.35;function $Q(t=kC){return t===!1?t=0:t===!0&&(t=kC),{x:MR(t,"left","right"),y:MR(t,"top","bottom")}}function MR(t,e,n){return{min:DR(t,e),max:DR(t,n)}}function DR(t,e){return typeof t=="number"?t:t[e]||0}const LQ=new WeakMap;class FQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wh(h).point)},o=(h,m)=>{const{drag:v,dragPropagation:x,onDragStart:b}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zY(v),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kr(_=>{let S=this.getAxisMotionValue(_).get()||0;if(Qi.test(S)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[_];E&&(S=nr(E)*(parseFloat(S)/100))}}this.originPoint[_]=S}),b&&qt.postRender(()=>b(h,m)),EC(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:b,onDrag:y}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:_}=m;if(x&&this.currentDirection===null){this.currentDirection=BQ(_),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",m.point,_),this.updateAxis("y",m.point,_),this.visualElement.render(),y&&y(h,m)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Kr(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new zB(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:WB(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&qt.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Tm(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=NQ(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Dc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=RQ(r.layoutBox,e):this.constraints=!1,this.elastic=$Q(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Kr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=DQ(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Dc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=UX(r,i.root,this.visualElement.getTransformPagePoint());let o=IQ(i.layout.layoutBox,s);if(n){const a=n(LX(o));this.hasMutatedConstraints=!!a,a&&(o=kB(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Kr(f=>{if(!Tm(f,n,this.currentDirection))return;let h=l&&l[f]||{};o&&(h={min:0,max:0});const m=i?200:1e6,v=i?40:1e7,x={type:"inertia",velocity:r?e[f]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(f,x)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return EC(this.visualElement,e),r.start(KE(e,r,0,n,this.visualElement,!1))}stopAnimation(){Kr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Kr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Kr(n=>{const{drag:r}=this.getProps();if(!Tm(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Kt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Dc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Kr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=MQ({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kr(o=>{if(!Tm(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Kt(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;LQ.set(this.visualElement,this);const e=this.visualElement.current,n=jf(e,"pointerdown",l=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Dc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),qt.read(r);const o=zf(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Kr(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=l[f].translate,h.set(h.get()+l[f].translate))}),this.visualElement.render())}));return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=kC,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Tm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function BQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class UQ extends aa{constructor(e){super(e),this.removeGroupControls=ni,this.removeListeners=ni,this.controls=new FQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ni}unmount(){this.removeGroupControls(),this.removeListeners()}}const $R=t=>(e,n)=>{t&&qt.postRender(()=>t(e,n))};class qQ extends aa{constructor(){super(...arguments),this.removePointerDownListener=ni}onPointerDown(e){this.session=new zB(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WB(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:$R(e),onStart:$R(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&qt.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=jf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Px=!1;class VQ extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),Px&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),dg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,Px=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||qt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$E.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Px=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function GB(t){const[e,n]=mB(),r=T.useContext(gE);return p.jsx(VQ,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(EB),isPresent:e,safeToRemove:n})}function WQ(t,e,n){const r=Gn(t)?t:hu(t);return r.start(KE("",r,e,n)),r.animation}const zQ=(t,e)=>t.depth-e.depth;class HQ{constructor(){this.children=[],this.isDirty=!1}add(e){bE(this.children,e),this.isDirty=!0}remove(e){xE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zQ),this.isDirty=!1,this.children.forEach(e)}}function GQ(t,e){const n=xr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Qo(r),t(s-e))};return qt.setup(r,!0),()=>Qo(r)}const KB=["TopLeft","TopRight","BottomLeft","BottomRight"],KQ=KB.length,LR=t=>typeof t=="string"?parseFloat(t):t,FR=t=>typeof t=="number"||We.test(t);function YQ(t,e,n,r,i,s){i?(t.opacity=Kt(0,n.opacity??1,XQ(r)),t.opacityExit=Kt(e.opacity??1,0,QQ(r))):s&&(t.opacity=Kt(e.opacity??1,n.opacity??1,r));for(let o=0;o<KQ;o++){const a=`border${KB[o]}Radius`;let l=BR(e,a),u=BR(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||FR(l)===FR(u)?(t[a]=Math.max(Kt(LR(l),LR(u),r),0),(Qi.test(u)||Qi.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Kt(e.rotate||0,n.rotate||0,r))}function BR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const XQ=YB(0,.5,I4),QQ=YB(.5,.95,ni);function YB(t,e,n){return r=>r<t?0:r>e?1:n(Uf(t,e,r))}function UR(t,e){t.min=e.min,t.max=e.max}function mi(t,e){UR(t.x,e.x),UR(t.y,e.y)}function qR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function VR(t,e,n,r,i){return t-=e,t=Ig(t,1/n,r),i!==void 0&&(t=Ig(t,1/i,r)),t}function JQ(t,e=0,n=1,r=.5,i,s=t,o=t){if(Qi.test(e)&&(e=parseFloat(e),e=Kt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Kt(s.min,s.max,r);t===s&&(a-=e),t.min=VR(t.min,e,n,a,i),t.max=VR(t.max,e,n,a,i)}function WR(t,e,[n,r,i],s,o){JQ(t,e[n],e[r],e[i],e.scale,s,o)}const ZQ=["x","scaleX","originX"],eJ=["y","scaleY","originY"];function zR(t,e,n,r){WR(t.x,e,ZQ,n?n.x:void 0,r?r.x:void 0),WR(t.y,e,eJ,n?n.y:void 0,r?r.y:void 0)}function HR(t){return t.translate===0&&t.scale===1}function XB(t){return HR(t.x)&&HR(t.y)}function GR(t,e){return t.min===e.min&&t.max===e.max}function tJ(t,e){return GR(t.x,e.x)&&GR(t.y,e.y)}function KR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function QB(t,e){return KR(t.x,e.x)&&KR(t.y,e.y)}function YR(t){return nr(t.x)/nr(t.y)}function XR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class nJ{constructor(){this.members=[]}add(e){bE(this.members,e),e.scheduleRender()}remove(e){if(xE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rJ(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:f,rotateX:h,rotateY:m,skewX:v,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),f&&(r+=`rotate(${f}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),v&&(r+=`skewX(${v}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Ex=["","X","Y","Z"],iJ=1e3;let sJ=0;function Ax(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function JB(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=$B(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",qt,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&JB(r)}function ZB({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=sJ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lJ),this.nodes.forEach(fJ),this.nodes.forEach(hJ),this.nodes.forEach(cJ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new HQ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new SE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=pB(o)&&!QY(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let f,h=0;const m=()=>this.root.updateBlockedByResize=!1;qt.read(()=>{h=window.innerWidth}),t(o,()=>{const v=window.innerWidth;v!==h&&(h=v,this.root.updateBlockedByResize=!0,f&&f(),f=GQ(m,250),dg.hasAnimatedSinceResize&&(dg.hasAnimatedSinceResize=!1,this.nodes.forEach(ZR)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||yJ,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=u.getProps(),_=!this.targetLayout||!QB(this.targetLayout,v),S=!h&&m;if(this.options.layoutRoot||this.resumeFrom||S||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...ME(x,"layout"),onPlay:b,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(f,S)}else h||ZR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pJ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&JB(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(QR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(JR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(dJ),this.nodes.forEach(oJ),this.nodes.forEach(aJ)):this.nodes.forEach(JR),this.clearAllSnapshots();const a=xr.now();Ln.delta=Us(0,1e3/60,a-Ln.timestamp),Ln.timestamp=a,Ln.isProcessing=!0,gx.update.process(Ln),gx.preRender.process(Ln),gx.render.process(Ln),Ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$E.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uJ),this.sharedNodes.forEach(mJ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!nr(this.snapshot.measuredBox.x)&&!nr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=mn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!XB(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Fa(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),bJ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return mn();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(xJ))){const{scroll:f}=this.root;f&&($c(a.x,f.offset.x),$c(a.y,f.offset.y))}return a}removeElementScroll(o){var l;const a=mn();if(mi(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:h,options:m}=f;f!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&mi(a,o),$c(a.x,h.offset.x),$c(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=mn();mi(l,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Lc(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Fa(f.latestValues)&&Lc(l,f.latestValues)}return Fa(this.latestValues)&&Lc(l,this.latestValues),l}removeTransform(o){const a=mn();mi(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Fa(u.latestValues))continue;SC(u.latestValues)&&u.updateSnapshot();const f=mn(),h=u.measurePageBox();mi(f,h),zR(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Fa(this.latestValues)&&zR(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var v;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!this.layout||!(f||h))return;this.resolvedRelativeTargetAt=Ln.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=mn(),this.targetWithTransforms=mn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mi(this.target,this.layout.layoutBox),OB(this.target,this.targetDelta)):mi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||SC(this.parent.latestValues)||jB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mn(),this.relativeTargetOrigin=mn(),Mg(this.relativeTargetOrigin,a,l),mi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ln.timestamp&&(l=!1),l)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;mi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;BX(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=mn());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qR(this.prevProjectionDelta.x,this.projectionDelta.x),qR(this.prevProjectionDelta.y,this.projectionDelta.y)),Of(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!XR(this.projectionDelta.x,this.prevProjectionDelta.x)||!XR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fc(),this.projectionDelta=Fc(),this.projectionDeltaWithTransform=Fc()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},f={...this.latestValues},h=Fc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=mn(),v=l?l.source:void 0,x=this.layout?this.layout.source:void 0,b=v!==x,y=this.getStack(),_=!y||y.members.length<=1,S=!!(b&&!_&&this.options.crossfade===!0&&!this.path.some(vJ));this.animationProgress=0;let C;this.mixTargetDelta=E=>{const P=E/1e3;e2(h.x,o.x,P),e2(h.y,o.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mg(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gJ(this.relativeTarget,this.relativeTargetOrigin,m,P),C&&tJ(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=mn()),mi(C,this.relativeTarget)),b&&(this.animationValues=f,YQ(f,u,this.latestValues,P,S,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Qo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qt.update(()=>{dg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=hu(0)),this.currentAnimation=WQ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iJ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:f}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&eU(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||mn();const h=nr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const m=nr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}mi(a,l),Lc(a,f),Of(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new nJ),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Ax("z",o,u,this.animationValues);for(let f=0;f<Ex.length;f++)Ax(`rotate${Ex[f]}`,o,u,this.animationValues),Ax(`skew${Ex[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ug(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ug(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Fa(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=rJ(this.projectionDeltaWithTransform,this.treeScale,f);l&&(h=l(f,h)),o.transform=h;const{x:m,y:v}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,u.animationValues?o.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in _C){if(f[x]===void 0)continue;const{correct:b,applyTo:y,isCSSVariable:_}=_C[x],S=h==="none"?f[x]:b(f[x],u);if(y){const C=y.length;for(let E=0;E<C;E++)o[y[E]]=S}else _?this.options.visualElement.renderState.vars[x]=S:o[x]=S}this.options.layoutId&&(o.pointerEvents=u===this?ug(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(QR),this.root.sharedNodes.clear()}}}function oJ(t){t.updateLayout()}function aJ(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Kr(h=>{const m=o?e.measuredBox[h]:e.layoutBox[h],v=nr(m);m.min=r[h].min,m.max=m.min+v}):eU(s,e.layoutBox,r)&&Kr(h=>{const m=o?e.measuredBox[h]:e.layoutBox[h],v=nr(r[h]);m.max=m.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+v)});const a=Fc();Of(a,r,e.layoutBox);const l=Fc();o?Of(l,t.applyTransform(i,!0),e.measuredBox):Of(l,r,e.layoutBox);const u=!XB(a);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:v}=h;if(m&&v){const x=mn();Mg(x,e.layoutBox,m.layoutBox);const b=mn();Mg(b,r,v.layoutBox),QB(x,b)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function lJ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cJ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function uJ(t){t.clearSnapshot()}function QR(t){t.clearMeasurements()}function JR(t){t.isLayoutDirty=!1}function dJ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ZR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fJ(t){t.resolveTargetDelta()}function hJ(t){t.calcProjection()}function pJ(t){t.resetSkewAndRotation()}function mJ(t){t.removeLeadSnapshot()}function e2(t,e,n){t.translate=Kt(e.translate,0,n),t.scale=Kt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function t2(t,e,n,r){t.min=Kt(e.min,n.min,r),t.max=Kt(e.max,n.max,r)}function gJ(t,e,n,r){t2(t.x,e.x,n.x,r),t2(t.y,e.y,n.y,r)}function vJ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const yJ={duration:.45,ease:[.4,0,.1,1]},n2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),r2=n2("applewebkit/")&&!n2("chrome/")?Math.round:ni;function i2(t){t.min=r2(t.min),t.max=r2(t.max)}function bJ(t){i2(t.x),i2(t.y)}function eU(t,e,n){return t==="position"||t==="preserve-aspect"&&!EQ(YR(e),YR(n),.2)}function xJ(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const wJ=ZB({attachResizeListener:(t,e)=>zf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kx={current:void 0},tU=ZB({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kx.current){const t=new wJ({});t.mount(window),t.setOptions({layoutScroll:!0}),kx.current=t}return kx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_J={pan:{Feature:qQ},drag:{Feature:UQ,ProjectionNode:tU,MeasureLayout:GB}};function s2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&qt.postRender(()=>s(e,Wh(e)))}class SJ extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=HY(e,(n,r)=>(s2(this.node,r,"Start"),i=>s2(this.node,i,"End"))))}unmount(){}}class CJ extends aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uh(zf(this.node.current,"focus",()=>this.onFocus()),zf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function o2(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&qt.postRender(()=>s(e,Wh(e)))}class TJ extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=XY(e,(n,r)=>(o2(this.node,r,"Start"),(i,{success:s})=>o2(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jC=new WeakMap,jx=new WeakMap,PJ=t=>{const e=jC.get(t.target);e&&e(t)},EJ=t=>{t.forEach(PJ)};function AJ({root:t,...e}){const n=t||document;jx.has(n)||jx.set(n,{});const r=jx.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(EJ,{root:t,...e})),r[i]}function kJ(t,e,n){const r=AJ(e);return jC.set(t,n),r.observe(t),()=>{jC.delete(t),r.unobserve(t)}}const jJ={some:0,all:1};class OJ extends aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:jJ[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),m=u?f:h;m&&m(l)};return kJ(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(NJ(e,n))&&this.startObserver()}unmount(){}}function NJ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const RJ={inView:{Feature:OJ},tap:{Feature:TJ},focus:{Feature:CJ},hover:{Feature:SJ}},IJ={layout:{ProjectionNode:tU,MeasureLayout:GB}},MJ={...wQ,...RJ,..._J,...IJ},pe=$X(MJ,XX);var Ju=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},DJ={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Do,fE,d4,$J=(d4=class{constructor(){Ie(this,Do,DJ);Ie(this,fE,!1)}setTimeoutProvider(t){be(this,Do,t)}setTimeout(t,e){return W(this,Do).setTimeout(t,e)}clearTimeout(t){W(this,Do).clearTimeout(t)}setInterval(t,e){return W(this,Do).setInterval(t,e)}clearInterval(t){W(this,Do).clearInterval(t)}},Do=new WeakMap,fE=new WeakMap,d4),Qa=new $J;function LJ(t){setTimeout(t,0)}var Pl=typeof window>"u"||"Deno"in globalThis;function tr(){}function FJ(t,e){return typeof t=="function"?t(e):t}function OC(t){return typeof t=="number"&&t>=0&&t!==1/0}function nU(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Go(t,e){return typeof t=="function"?t(e):t}function Qr(t,e){return typeof t=="function"?t(e):t}function a2(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==YE(o,e.options))return!1}else if(!Hf(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function l2(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(El(e.options.mutationKey)!==El(s))return!1}else if(!Hf(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function YE(t,e){return((e==null?void 0:e.queryKeyHashFn)||El)(t)}function El(t){return JSON.stringify(t,(e,n)=>NC(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Hf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Hf(t[n],e[n])):!1}var BJ=Object.prototype.hasOwnProperty;function rU(t,e){if(t===e)return t;const n=c2(t)&&c2(e);if(!n&&!(NC(t)&&NC(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),o=s.length,a=n?new Array(o):{};let l=0;for(let u=0;u<o;u++){const f=n?u:s[u],h=t[f],m=e[f];if(h===m){a[f]=h,(n?u<i:BJ.call(t,f))&&l++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){a[f]=m;continue}const v=rU(h,m);a[f]=v,v===h&&l++}return i===o&&l===i?t:a}function Dg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function c2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function NC(t){if(!u2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!u2(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function u2(t){return Object.prototype.toString.call(t)==="[object Object]"}function UJ(t){return new Promise(e=>{Qa.setTimeout(e,t)})}function RC(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?rU(t,e):e}function qJ(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function VJ(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var XE=Symbol();function iU(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===XE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function sU(t,e){return typeof t=="function"?t(...e):!!t}var al,$o,tu,f4,WJ=(f4=class extends Ju{constructor(){super();Ie(this,al);Ie(this,$o);Ie(this,tu);be(this,tu,e=>{if(!Pl&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,$o)||this.setEventListener(W(this,tu))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,$o))==null||e.call(this),be(this,$o,void 0))}setEventListener(e){var n;be(this,tu,e),(n=W(this,$o))==null||n.call(this),be(this,$o,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){W(this,al)!==e&&(be(this,al,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof W(this,al)=="boolean"?W(this,al):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},al=new WeakMap,$o=new WeakMap,tu=new WeakMap,f4),QE=new WJ;function IC(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var zJ=LJ;function HJ(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=zJ;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var vn=HJ(),nu,Lo,ru,h4,GJ=(h4=class extends Ju{constructor(){super();Ie(this,nu,!0);Ie(this,Lo);Ie(this,ru);be(this,ru,e=>{if(!Pl&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,Lo)||this.setEventListener(W(this,ru))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,Lo))==null||e.call(this),be(this,Lo,void 0))}setEventListener(e){var n;be(this,ru,e),(n=W(this,Lo))==null||n.call(this),be(this,Lo,e(this.setOnline.bind(this)))}setOnline(e){W(this,nu)!==e&&(be(this,nu,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return W(this,nu)}},nu=new WeakMap,Lo=new WeakMap,ru=new WeakMap,h4),$g=new GJ;function KJ(t){return Math.min(1e3*2**t,3e4)}function oU(t){return(t??"online")==="online"?$g.isOnline():!0}var MC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function aU(t){let e=!1,n=0,r;const i=IC(),s=()=>i.status!=="pending",o=b=>{var y;if(!s()){const _=new MC(b);m(_),(y=t.onCancel)==null||y.call(t,_)}},a=()=>{e=!0},l=()=>{e=!1},u=()=>QE.isFocused()&&(t.networkMode==="always"||$g.isOnline())&&t.canRun(),f=()=>oU(t.networkMode)&&t.canRun(),h=b=>{s()||(r==null||r(),i.resolve(b))},m=b=>{s()||(r==null||r(),i.reject(b))},v=()=>new Promise(b=>{var y;r=_=>{(s()||u())&&b(_)},(y=t.onPause)==null||y.call(t)}).then(()=>{var b;r=void 0,s()||(b=t.onContinue)==null||b.call(t)}),x=()=>{if(s())return;let b;const y=n===0?t.initialPromise:void 0;try{b=y??t.fn()}catch(_){b=Promise.reject(_)}Promise.resolve(b).then(h).catch(_=>{var k;if(s())return;const S=t.retry??(Pl?0:3),C=t.retryDelay??KJ,E=typeof C=="function"?C(n,_):C,P=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,_);if(e||!P){m(_);return}n++,(k=t.onFail)==null||k.call(t,n,_),UJ(E).then(()=>u()?void 0:v()).then(()=>{e?m(_):x()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?x():v().then(x),i)}}var ll,p4,lU=(p4=class{constructor(){Ie(this,ll)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),OC(this.gcTime)&&be(this,ll,Qa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Pl?1/0:300*1e3))}clearGcTimeout(){W(this,ll)&&(Qa.clearTimeout(W(this,ll)),be(this,ll,void 0))}},ll=new WeakMap,p4),cl,iu,Xr,ul,Pn,Mh,dl,_i,Ss,m4,YJ=(m4=class extends lU{constructor(e){super();Ie(this,_i);Ie(this,cl);Ie(this,iu);Ie(this,Xr);Ie(this,ul);Ie(this,Pn);Ie(this,Mh);Ie(this,dl);be(this,dl,!1),be(this,Mh,e.defaultOptions),this.setOptions(e.options),this.observers=[],be(this,ul,e.client),be(this,Xr,W(this,ul).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,be(this,cl,f2(this.options)),this.state=e.state??W(this,cl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=W(this,Pn))==null?void 0:e.promise}setOptions(e){if(this.options={...W(this,Mh),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=f2(this.options);n.data!==void 0&&(this.setState(d2(n.data,n.dataUpdatedAt)),be(this,cl,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,Xr).remove(this)}setData(e,n){const r=RC(this.state.data,e,this.options);return Je(this,_i,Ss).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Je(this,_i,Ss).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=W(this,Pn))==null?void 0:r.promise;return(i=W(this,Pn))==null||i.cancel(e),n?n.then(tr).catch(tr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,cl))}isActive(){return this.observers.some(e=>Qr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===XE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Go(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!nU(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=W(this,Pn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=W(this,Pn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),W(this,Xr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(W(this,Pn)&&(W(this,dl)?W(this,Pn).cancel({revert:!0}):W(this,Pn).cancelRetry()),this.scheduleGc()),W(this,Xr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Je(this,_i,Ss).call(this,{type:"invalidate"})}async fetch(e,n){var l,u,f,h,m,v,x,b,y,_,S,C;if(this.state.fetchStatus!=="idle"&&((l=W(this,Pn))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(W(this,Pn))return W(this,Pn).continueRetry(),W(this,Pn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const E=this.observers.find(P=>P.options.queryFn);E&&this.setOptions(E.options)}const r=new AbortController,i=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(be(this,dl,!0),r.signal)})},s=()=>{const E=iU(this.options,n),k=(()=>{const j={client:W(this,ul),queryKey:this.queryKey,meta:this.meta};return i(j),j})();return be(this,dl,!1),this.options.persister?this.options.persister(E,k,this):E(k)},a=(()=>{const E={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:W(this,ul),state:this.state,fetchFn:s};return i(E),E})();(u=this.options.behavior)==null||u.onFetch(a,this),be(this,iu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Je(this,_i,Ss).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),be(this,Pn,aU({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:E=>{E instanceof MC&&E.revert&&this.setState({...W(this,iu),fetchStatus:"idle"}),r.abort()},onFail:(E,P)=>{Je(this,_i,Ss).call(this,{type:"failed",failureCount:E,error:P})},onPause:()=>{Je(this,_i,Ss).call(this,{type:"pause"})},onContinue:()=>{Je(this,_i,Ss).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const E=await W(this,Pn).start();if(E===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(E),(v=(m=W(this,Xr).config).onSuccess)==null||v.call(m,E,this),(b=(x=W(this,Xr).config).onSettled)==null||b.call(x,E,this.state.error,this),E}catch(E){if(E instanceof MC){if(E.silent)return W(this,Pn).promise;if(E.revert){if(this.state.data===void 0)throw E;return this.state.data}}throw Je(this,_i,Ss).call(this,{type:"error",error:E}),(_=(y=W(this,Xr).config).onError)==null||_.call(y,E,this),(C=(S=W(this,Xr).config).onSettled)==null||C.call(S,this.state.data,E,this),E}finally{this.scheduleGc()}}},cl=new WeakMap,iu=new WeakMap,Xr=new WeakMap,ul=new WeakMap,Pn=new WeakMap,Mh=new WeakMap,dl=new WeakMap,_i=new WeakSet,Ss=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...cU(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...d2(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return be(this,iu,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),vn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),W(this,Xr).notify({query:this,type:"updated",action:e})})},m4);function cU(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oU(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function d2(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function f2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var gr,nt,Dh,Zn,fl,su,Es,Fo,$h,ou,au,hl,pl,Bo,lu,bt,xf,DC,$C,LC,FC,BC,UC,qC,uU,g4,XJ=(g4=class extends Ju{constructor(e,n){super();Ie(this,bt);Ie(this,gr);Ie(this,nt);Ie(this,Dh);Ie(this,Zn);Ie(this,fl);Ie(this,su);Ie(this,Es);Ie(this,Fo);Ie(this,$h);Ie(this,ou);Ie(this,au);Ie(this,hl);Ie(this,pl);Ie(this,Bo);Ie(this,lu,new Set);this.options=n,be(this,gr,e),be(this,Fo,null),be(this,Es,IC()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(W(this,nt).addObserver(this),h2(W(this,nt),this.options)?Je(this,bt,xf).call(this):this.updateResult(),Je(this,bt,FC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return VC(W(this,nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return VC(W(this,nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Je(this,bt,BC).call(this),Je(this,bt,UC).call(this),W(this,nt).removeObserver(this)}setOptions(e){const n=this.options,r=W(this,nt);if(this.options=W(this,gr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Qr(this.options.enabled,W(this,nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Je(this,bt,qC).call(this),W(this,nt).setOptions(this.options),n._defaulted&&!Dg(this.options,n)&&W(this,gr).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,nt),observer:this});const i=this.hasListeners();i&&p2(W(this,nt),r,this.options,n)&&Je(this,bt,xf).call(this),this.updateResult(),i&&(W(this,nt)!==r||Qr(this.options.enabled,W(this,nt))!==Qr(n.enabled,W(this,nt))||Go(this.options.staleTime,W(this,nt))!==Go(n.staleTime,W(this,nt)))&&Je(this,bt,DC).call(this);const s=Je(this,bt,$C).call(this);i&&(W(this,nt)!==r||Qr(this.options.enabled,W(this,nt))!==Qr(n.enabled,W(this,nt))||s!==W(this,Bo))&&Je(this,bt,LC).call(this,s)}getOptimisticResult(e){const n=W(this,gr).getQueryCache().build(W(this,gr),e),r=this.createResult(n,e);return JJ(this,r)&&(be(this,Zn,r),be(this,su,this.options),be(this,fl,W(this,nt).state)),r}getCurrentResult(){return W(this,Zn)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&W(this,Es).status==="pending"&&W(this,Es).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){W(this,lu).add(e)}getCurrentQuery(){return W(this,nt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=W(this,gr).defaultQueryOptions(e),r=W(this,gr).getQueryCache().build(W(this,gr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Je(this,bt,xf).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),W(this,Zn)))}createResult(e,n){var I;const r=W(this,nt),i=this.options,s=W(this,Zn),o=W(this,fl),a=W(this,su),u=e!==r?e.state:W(this,Dh),{state:f}=e;let h={...f},m=!1,v;if(n._optimisticResults){const L=this.hasListeners(),M=!L&&h2(e,n),F=L&&p2(e,r,n,i);(M||F)&&(h={...h,...cU(f.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:y}=h;v=h.data;let _=!1;if(n.placeholderData!==void 0&&v===void 0&&y==="pending"){let L;s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(L=s.data,_=!0):L=typeof n.placeholderData=="function"?n.placeholderData((I=W(this,au))==null?void 0:I.state.data,W(this,au)):n.placeholderData,L!==void 0&&(y="success",v=RC(s==null?void 0:s.data,L,n),m=!0)}if(n.select&&v!==void 0&&!_)if(s&&v===(o==null?void 0:o.data)&&n.select===W(this,$h))v=W(this,ou);else try{be(this,$h,n.select),v=n.select(v),v=RC(s==null?void 0:s.data,v,n),be(this,ou,v),be(this,Fo,null)}catch(L){be(this,Fo,L)}W(this,Fo)&&(x=W(this,Fo),v=W(this,ou),b=Date.now(),y="error");const S=h.fetchStatus==="fetching",C=y==="pending",E=y==="error",P=C&&S,k=v!==void 0,N={status:y,fetchStatus:h.fetchStatus,isPending:C,isSuccess:y==="success",isError:E,isInitialLoading:P,isLoading:P,data:v,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:S,isRefetching:S&&!C,isLoadingError:E&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:E&&k,isStale:JE(e,n),refetch:this.refetch,promise:W(this,Es),isEnabled:Qr(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const L=U=>{N.status==="error"?U.reject(N.error):N.data!==void 0&&U.resolve(N.data)},M=()=>{const U=be(this,Es,N.promise=IC());L(U)},F=W(this,Es);switch(F.status){case"pending":e.queryHash===r.queryHash&&L(F);break;case"fulfilled":(N.status==="error"||N.data!==F.value)&&M();break;case"rejected":(N.status!=="error"||N.error!==F.reason)&&M();break}}return N}updateResult(){const e=W(this,Zn),n=this.createResult(W(this,nt),this.options);if(be(this,fl,W(this,nt).state),be(this,su,this.options),W(this,fl).data!==void 0&&be(this,au,W(this,nt)),Dg(n,e))return;be(this,Zn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!W(this,lu).size)return!0;const o=new Set(s??W(this,lu));return this.options.throwOnError&&o.add("error"),Object.keys(W(this,Zn)).some(a=>{const l=a;return W(this,Zn)[l]!==e[l]&&o.has(l)})};Je(this,bt,uU).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Je(this,bt,FC).call(this)}},gr=new WeakMap,nt=new WeakMap,Dh=new WeakMap,Zn=new WeakMap,fl=new WeakMap,su=new WeakMap,Es=new WeakMap,Fo=new WeakMap,$h=new WeakMap,ou=new WeakMap,au=new WeakMap,hl=new WeakMap,pl=new WeakMap,Bo=new WeakMap,lu=new WeakMap,bt=new WeakSet,xf=function(e){Je(this,bt,qC).call(this);let n=W(this,nt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(tr)),n},DC=function(){Je(this,bt,BC).call(this);const e=Go(this.options.staleTime,W(this,nt));if(Pl||W(this,Zn).isStale||!OC(e))return;const r=nU(W(this,Zn).dataUpdatedAt,e)+1;be(this,hl,Qa.setTimeout(()=>{W(this,Zn).isStale||this.updateResult()},r))},$C=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(W(this,nt)):this.options.refetchInterval)??!1},LC=function(e){Je(this,bt,UC).call(this),be(this,Bo,e),!(Pl||Qr(this.options.enabled,W(this,nt))===!1||!OC(W(this,Bo))||W(this,Bo)===0)&&be(this,pl,Qa.setInterval(()=>{(this.options.refetchIntervalInBackground||QE.isFocused())&&Je(this,bt,xf).call(this)},W(this,Bo)))},FC=function(){Je(this,bt,DC).call(this),Je(this,bt,LC).call(this,Je(this,bt,$C).call(this))},BC=function(){W(this,hl)&&(Qa.clearTimeout(W(this,hl)),be(this,hl,void 0))},UC=function(){W(this,pl)&&(Qa.clearInterval(W(this,pl)),be(this,pl,void 0))},qC=function(){const e=W(this,gr).getQueryCache().build(W(this,gr),this.options);if(e===W(this,nt))return;const n=W(this,nt);be(this,nt,e),be(this,Dh,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},uU=function(e){vn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(W(this,Zn))}),W(this,gr).getQueryCache().notify({query:W(this,nt),type:"observerResultsUpdated"})})},g4);function QJ(t,e){return Qr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function h2(t,e){return QJ(t,e)||t.state.data!==void 0&&VC(t,e,e.refetchOnMount)}function VC(t,e,n){if(Qr(e.enabled,t)!==!1&&Go(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&JE(t,e)}return!1}function p2(t,e,n,r){return(t!==e||Qr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&JE(t,n)}function JE(t,e){return Qr(e.enabled,t)!==!1&&t.isStaleByTime(Go(e.staleTime,t))}function JJ(t,e){return!Dg(t.getCurrentResult(),e)}function m2(t){return{onFetch:(e,n)=>{var f,h,m,v,x;const r=e.options,i=(m=(h=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,s=((v=e.state.data)==null?void 0:v.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let b=!1;const y=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},_=iU(e.options,e.fetchOptions),S=async(C,E,P)=>{if(b)return Promise.reject();if(E==null&&C.pages.length)return Promise.resolve(C);const j=(()=>{const M={client:e.client,queryKey:e.queryKey,pageParam:E,direction:P?"backward":"forward",meta:e.options.meta};return y(M),M})(),N=await _(j),{maxPages:I}=e.options,L=P?VJ:qJ;return{pages:L(C.pages,N,I),pageParams:L(C.pageParams,E,I)}};if(i&&s.length){const C=i==="backward",E=C?ZJ:g2,P={pages:s,pageParams:o},k=E(r,P);a=await S(P,k,C)}else{const C=t??s.length;do{const E=l===0?o[0]??r.initialPageParam:g2(r,a);if(l>0&&E==null)break;a=await S(a,E),l++}while(l<C)}return a};e.options.persister?e.fetchFn=()=>{var b,y;return(y=(b=e.options).persister)==null?void 0:y.call(b,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function g2(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function ZJ(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Lh,Vi,er,ml,Wi,ko,v4,eZ=(v4=class extends lU{constructor(e){super();Ie(this,Wi);Ie(this,Lh);Ie(this,Vi);Ie(this,er);Ie(this,ml);be(this,Lh,e.client),this.mutationId=e.mutationId,be(this,er,e.mutationCache),be(this,Vi,[]),this.state=e.state||dU(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){W(this,Vi).includes(e)||(W(this,Vi).push(e),this.clearGcTimeout(),W(this,er).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){be(this,Vi,W(this,Vi).filter(n=>n!==e)),this.scheduleGc(),W(this,er).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){W(this,Vi).length||(this.state.status==="pending"?this.scheduleGc():W(this,er).remove(this))}continue(){var e;return((e=W(this,ml))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,u,f,h,m,v,x,b,y,_,S,C,E,P,k,j,N,I;const n=()=>{Je(this,Wi,ko).call(this,{type:"continue"})},r={client:W(this,Lh),meta:this.options.meta,mutationKey:this.options.mutationKey};be(this,ml,aU({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(L,M)=>{Je(this,Wi,ko).call(this,{type:"failed",failureCount:L,error:M})},onPause:()=>{Je(this,Wi,ko).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,er).canRun(this)}));const i=this.state.status==="pending",s=!W(this,ml).canStart();try{if(i)n();else{Je(this,Wi,ko).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(o=W(this,er).config).onMutate)==null?void 0:a.call(o,e,this,r));const M=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,r));M!==this.state.context&&Je(this,Wi,ko).call(this,{type:"pending",context:M,variables:e,isPaused:s})}const L=await W(this,ml).start();return await((h=(f=W(this,er).config).onSuccess)==null?void 0:h.call(f,L,e,this.state.context,this,r)),await((v=(m=this.options).onSuccess)==null?void 0:v.call(m,L,e,this.state.context,r)),await((b=(x=W(this,er).config).onSettled)==null?void 0:b.call(x,L,null,this.state.variables,this.state.context,this,r)),await((_=(y=this.options).onSettled)==null?void 0:_.call(y,L,null,e,this.state.context,r)),Je(this,Wi,ko).call(this,{type:"success",data:L}),L}catch(L){try{throw await((C=(S=W(this,er).config).onError)==null?void 0:C.call(S,L,e,this.state.context,this,r)),await((P=(E=this.options).onError)==null?void 0:P.call(E,L,e,this.state.context,r)),await((j=(k=W(this,er).config).onSettled)==null?void 0:j.call(k,void 0,L,this.state.variables,this.state.context,this,r)),await((I=(N=this.options).onSettled)==null?void 0:I.call(N,void 0,L,e,this.state.context,r)),L}finally{Je(this,Wi,ko).call(this,{type:"error",error:L})}}finally{W(this,er).runNext(this)}}},Lh=new WeakMap,Vi=new WeakMap,er=new WeakMap,ml=new WeakMap,Wi=new WeakSet,ko=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),vn.batch(()=>{W(this,Vi).forEach(r=>{r.onMutationUpdate(e)}),W(this,er).notify({mutation:this,type:"updated",action:e})})},v4);function dU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var As,Si,Fh,y4,tZ=(y4=class extends Ju{constructor(e={}){super();Ie(this,As);Ie(this,Si);Ie(this,Fh);this.config=e,be(this,As,new Set),be(this,Si,new Map),be(this,Fh,0)}build(e,n,r){const i=new eZ({client:e,mutationCache:this,mutationId:++bm(this,Fh)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){W(this,As).add(e);const n=Pm(e);if(typeof n=="string"){const r=W(this,Si).get(n);r?r.push(e):W(this,Si).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(W(this,As).delete(e)){const n=Pm(e);if(typeof n=="string"){const r=W(this,Si).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&W(this,Si).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Pm(e);if(typeof n=="string"){const r=W(this,Si).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Pm(e);if(typeof n=="string"){const i=(r=W(this,Si).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){vn.batch(()=>{W(this,As).forEach(e=>{this.notify({type:"removed",mutation:e})}),W(this,As).clear(),W(this,Si).clear()})}getAll(){return Array.from(W(this,As))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>l2(n,r))}findAll(e={}){return this.getAll().filter(n=>l2(e,n))}notify(e){vn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return vn.batch(()=>Promise.all(e.map(n=>n.continue().catch(tr))))}},As=new WeakMap,Si=new WeakMap,Fh=new WeakMap,y4);function Pm(t){var e;return(e=t.options.scope)==null?void 0:e.id}var ks,Uo,vr,js,Bs,fg,WC,b4,nZ=(b4=class extends Ju{constructor(n,r){super();Ie(this,Bs);Ie(this,ks);Ie(this,Uo);Ie(this,vr);Ie(this,js);be(this,ks,n),this.setOptions(r),this.bindMethods(),Je(this,Bs,fg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=W(this,ks).defaultMutationOptions(n),Dg(this.options,r)||W(this,ks).getMutationCache().notify({type:"observerOptionsUpdated",mutation:W(this,vr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&El(r.mutationKey)!==El(this.options.mutationKey)?this.reset():((i=W(this,vr))==null?void 0:i.state.status)==="pending"&&W(this,vr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=W(this,vr))==null||n.removeObserver(this)}onMutationUpdate(n){Je(this,Bs,fg).call(this),Je(this,Bs,WC).call(this,n)}getCurrentResult(){return W(this,Uo)}reset(){var n;(n=W(this,vr))==null||n.removeObserver(this),be(this,vr,void 0),Je(this,Bs,fg).call(this),Je(this,Bs,WC).call(this)}mutate(n,r){var i;return be(this,js,r),(i=W(this,vr))==null||i.removeObserver(this),be(this,vr,W(this,ks).getMutationCache().build(W(this,ks),this.options)),W(this,vr).addObserver(this),W(this,vr).execute(n)}},ks=new WeakMap,Uo=new WeakMap,vr=new WeakMap,js=new WeakMap,Bs=new WeakSet,fg=function(){var r;const n=((r=W(this,vr))==null?void 0:r.state)??dU();be(this,Uo,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},WC=function(n){vn.batch(()=>{var r,i,s,o,a,l,u,f;if(W(this,js)&&this.hasListeners()){const h=W(this,Uo).variables,m=W(this,Uo).context,v={client:W(this,ks),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=W(this,js)).onSuccess)==null||i.call(r,n.data,h,m,v),(o=(s=W(this,js)).onSettled)==null||o.call(s,n.data,null,h,m,v)):(n==null?void 0:n.type)==="error"&&((l=(a=W(this,js)).onError)==null||l.call(a,n.error,h,m,v),(f=(u=W(this,js)).onSettled)==null||f.call(u,void 0,n.error,h,m,v))}this.listeners.forEach(h=>{h(W(this,Uo))})})},b4),zi,x4,rZ=(x4=class extends Ju{constructor(e={}){super();Ie(this,zi);this.config=e,be(this,zi,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??YE(i,n);let o=this.get(s);return o||(o=new YJ({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){W(this,zi).has(e.queryHash)||(W(this,zi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=W(this,zi).get(e.queryHash);n&&(e.destroy(),n===e&&W(this,zi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){vn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return W(this,zi).get(e)}getAll(){return[...W(this,zi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>a2(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>a2(e,r)):n}notify(e){vn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){vn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){vn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},zi=new WeakMap,x4),Qt,qo,Vo,cu,uu,Wo,du,fu,w4,iZ=(w4=class{constructor(t={}){Ie(this,Qt);Ie(this,qo);Ie(this,Vo);Ie(this,cu);Ie(this,uu);Ie(this,Wo);Ie(this,du);Ie(this,fu);be(this,Qt,t.queryCache||new rZ),be(this,qo,t.mutationCache||new tZ),be(this,Vo,t.defaultOptions||{}),be(this,cu,new Map),be(this,uu,new Map),be(this,Wo,0)}mount(){bm(this,Wo)._++,W(this,Wo)===1&&(be(this,du,QE.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Qt).onFocus())})),be(this,fu,$g.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Qt).onOnline())})))}unmount(){var t,e;bm(this,Wo)._--,W(this,Wo)===0&&((t=W(this,du))==null||t.call(this),be(this,du,void 0),(e=W(this,fu))==null||e.call(this),be(this,fu,void 0))}isFetching(t){return W(this,Qt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return W(this,qo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,Qt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=W(this,Qt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Go(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return W(this,Qt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=W(this,Qt).get(r.queryHash),s=i==null?void 0:i.state.data,o=FJ(e,s);if(o!==void 0)return W(this,Qt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return vn.batch(()=>W(this,Qt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,Qt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=W(this,Qt);vn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=W(this,Qt);return vn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=vn.batch(()=>W(this,Qt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(tr).catch(tr)}invalidateQueries(t,e={}){return vn.batch(()=>(W(this,Qt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=vn.batch(()=>W(this,Qt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(tr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(tr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=W(this,Qt).build(this,e);return n.isStaleByTime(Go(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(tr).catch(tr)}fetchInfiniteQuery(t){return t.behavior=m2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(tr).catch(tr)}ensureInfiniteQueryData(t){return t.behavior=m2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $g.isOnline()?W(this,qo).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,Qt)}getMutationCache(){return W(this,qo)}getDefaultOptions(){return W(this,Vo)}setDefaultOptions(t){be(this,Vo,t)}setQueryDefaults(t,e){W(this,cu).set(El(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...W(this,cu).values()],n={};return e.forEach(r=>{Hf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){W(this,uu).set(El(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...W(this,uu).values()],n={};return e.forEach(r=>{Hf(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...W(this,Vo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=YE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===XE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...W(this,Vo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){W(this,Qt).clear(),W(this,qo).clear()}},Qt=new WeakMap,qo=new WeakMap,Vo=new WeakMap,cu=new WeakMap,uu=new WeakMap,Wo=new WeakMap,du=new WeakMap,fu=new WeakMap,w4),fU=T.createContext(void 0),Bl=t=>{const e=T.useContext(fU);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},sZ=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(fU.Provider,{value:t,children:e})),hU=T.createContext(!1),oZ=()=>T.useContext(hU);hU.Provider;function aZ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var lZ=T.createContext(aZ()),cZ=()=>T.useContext(lZ),uZ=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},dZ=t=>{T.useEffect(()=>{t.clearReset()},[t])},fZ=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||sU(n,[t.error,r])),hZ=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},pZ=(t,e)=>t.isLoading&&t.isFetching&&!e,mZ=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,v2=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function gZ(t,e,n){var h,m,v,x,b;const r=oZ(),i=cZ(),s=Bl(),o=s.defaultQueryOptions(t);(m=(h=s.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o),o._optimisticResults=r?"isRestoring":"optimistic",hZ(o),uZ(o,i),dZ(i);const a=!s.getQueryCache().get(o.queryHash),[l]=T.useState(()=>new e(s,o)),u=l.getOptimisticResult(o),f=!r&&t.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(y=>{const _=f?l.subscribe(vn.batchCalls(y)):tr;return l.updateResult(),_},[l,f]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),T.useEffect(()=>{l.setOptions(o)},[o,l]),mZ(o,u))throw v2(o,l,i);if(fZ({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((x=(v=s.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||x.call(v,o,u),o.experimental_prefetchInRender&&!Pl&&pZ(u,r)){const y=a?v2(o,l,i):(b=s.getQueryCache().get(o.queryHash))==null?void 0:b.promise;y==null||y.catch(tr).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function Ct(t,e){return gZ(t,XJ)}function yl(t,e){const n=Bl(),[r]=T.useState(()=>new nZ(n,t));T.useEffect(()=>{r.setOptions(t)},[r,t]);const i=T.useSyncExternalStore(T.useCallback(o=>r.subscribe(vn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=T.useCallback((o,a)=>{r.mutate(o,a).catch(tr)},[r]);if(i.error&&sU(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var bs={},Em={},zC=function(t,e){return zC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},zC(t,e)};function pU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");zC(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Jr=function(){return Jr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jr.apply(this,arguments)};function la(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mU(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function gU(t,e){return function(n,r){e(n,r,t)}}function vU(t,e,n,r,i,s){function o(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,f=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h,m=!1,v=n.length-1;v>=0;v--){var x={};for(var b in r)x[b]=b==="access"?{}:r[b];for(var b in r.access)x.access[b]=r.access[b];x.addInitializer=function(_){if(m)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(_||null))};var y=(0,n[v])(a==="accessor"?{get:f.get,set:f.set}:f[l],x);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=o(y.get))&&(f.get=h),(h=o(y.set))&&(f.set=h),(h=o(y.init))&&i.unshift(h)}else(h=o(y))&&(a==="field"?i.unshift(h):f[l]=h)}u&&Object.defineProperty(u,r.name,f),m=!0}function yU(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function bU(t){return typeof t=="symbol"?t:"".concat(t)}function xU(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function wU(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ge(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function _U(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(f){return l([u,f])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(f){u=[6,f],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var my=Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]});function SU(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&my(e,t,n)}function Lg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ZE(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function CU(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ZE(arguments[e]));return t}function TU(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function eA(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function mu(t){return this instanceof mu?(this.v=t,this):new mu(t)}function PU(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(x){return Promise.resolve(x).then(v,h)}}function a(v,x){r[v]&&(i[v]=function(b){return new Promise(function(y,_){s.push([v,b,y,_])>1||l(v,b)})},x&&(i[v]=x(i[v])))}function l(v,x){try{u(r[v](x))}catch(b){m(s[0][3],b)}}function u(v){v.value instanceof mu?Promise.resolve(v.value.v).then(f,h):m(s[0][2],v)}function f(v){l("next",v)}function h(v){l("throw",v)}function m(v,x){v(x),s.shift(),s.length&&l(s[0][0],s[0][1])}}function EU(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:mu(t[i](o)),done:!1}:s?s(o):o}:s}}function AU(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Lg=="function"?Lg(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function kU(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var vZ=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},HC=function(t){return HC=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},HC(t)};function jU(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=HC(t),r=0;r<n.length;r++)n[r]!=="default"&&my(e,t,n[r]);return vZ(e,t),e}function OU(t){return t&&t.__esModule?t:{default:t}}function NU(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function RU(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function IU(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function MU(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var yZ=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function DU(t){function e(s){t.error=t.hasError?new yZ(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function $U(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,o){return r?e?".jsx":".js":i&&(!s||!o)?n:i+s+"."+o.toLowerCase()+"js"}):t}const bZ={__extends:pU,__assign:Jr,__rest:la,__decorate:mU,__param:gU,__esDecorate:vU,__runInitializers:yU,__propKey:bU,__setFunctionName:xU,__metadata:wU,__awaiter:ge,__generator:_U,__createBinding:my,__exportStar:SU,__values:Lg,__read:ZE,__spread:CU,__spreadArrays:TU,__spreadArray:eA,__await:mu,__asyncGenerator:PU,__asyncDelegator:EU,__asyncValues:AU,__makeTemplateObject:kU,__importStar:jU,__importDefault:OU,__classPrivateFieldGet:NU,__classPrivateFieldSet:RU,__classPrivateFieldIn:IU,__addDisposableResource:MU,__disposeResources:DU,__rewriteRelativeImportExtension:$U},xZ=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:MU,get __assign(){return Jr},__asyncDelegator:EU,__asyncGenerator:PU,__asyncValues:AU,__await:mu,__awaiter:ge,__classPrivateFieldGet:NU,__classPrivateFieldIn:IU,__classPrivateFieldSet:RU,__createBinding:my,__decorate:mU,__disposeResources:DU,__esDecorate:vU,__exportStar:SU,__extends:pU,__generator:_U,__importDefault:OU,__importStar:jU,__makeTemplateObject:kU,__metadata:wU,__param:gU,__propKey:bU,__read:ZE,__rest:la,__rewriteRelativeImportExtension:$U,__runInitializers:yU,__setFunctionName:xU,__spread:CU,__spreadArray:eA,__spreadArrays:TU,__values:Lg,default:bZ},Symbol.toStringTag,{value:"Module"})),wZ=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let gy=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},LU=class extends gy{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},GC=class extends gy{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},KC=class extends gy{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Fg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Fg||(Fg={}));class _Z{constructor(e,{headers:n={},customFetch:r,region:i=Fg.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=wZ(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ge(this,arguments,void 0,function*(n,r={}){var i;let s,o;try{const{headers:a,method:l,body:u,signal:f,timeout:h}=r;let m={},{region:v}=r;v||(v=this.region);const x=new URL(`${this.url}/${n}`);v&&v!=="any"&&(m["x-region"]=v,x.searchParams.set("forceFunctionRegion",v));let b;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",b=u):typeof u=="string"?(m["Content-Type"]="text/plain",b=u):typeof FormData<"u"&&u instanceof FormData?b=u:(m["Content-Type"]="application/json",b=JSON.stringify(u)):b=u;let y=f;h&&(o=new AbortController,s=setTimeout(()=>o.abort(),h),f?(y=o.signal,f.addEventListener("abort",()=>o.abort())):y=o.signal);const _=yield this.fetch(x.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),a),body:b,signal:y}).catch(P=>{throw new LU(P)}),S=_.headers.get("x-relay-error");if(S&&S==="true")throw new GC(_);if(!_.ok)throw new KC(_);let C=((i=_.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return C==="application/json"?E=yield _.json():C==="application/octet-stream"||C==="application/pdf"?E=yield _.blob():C==="text/event-stream"?E=_:C==="multipart/form-data"?E=yield _.formData():E=yield _.text(),{data:E,error:null,response:_}}catch(a){return{data:null,error:a,response:a instanceof KC||a instanceof GC?a.context:void 0}}finally{s&&clearTimeout(s)}})}}const SZ=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Fg},FunctionsClient:_Z,FunctionsError:gy,FunctionsFetchError:LU,FunctionsHttpError:KC,FunctionsRelayError:GC},Symbol.toStringTag,{value:"Module"})),FU=Bh(SZ);var Vn={};const Zu=Bh(xZ);var Am={},km={},jm={},Om={},Nm={},Rm={},y2;function BU(){if(y2)return Rm;y2=1,Object.defineProperty(Rm,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Rm.default=t,Rm}var b2;function UU(){if(b2)return Nm;b2=1,Object.defineProperty(Nm,"__esModule",{value:!0});const e=Zu.__importDefault(BU());let n=class{constructor(i){var s,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,f,h,m;let v=null,x=null,b=null,y=l.status,_=l.statusText;if(l.ok){if(this.method!=="HEAD"){const P=await l.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?x=P:x=JSON.parse(P))}const C=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),E=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");C&&E&&E.length>1&&(b=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,b=null,y=406,_="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const C=await l.text();try{v=JSON.parse(C),Array.isArray(v)&&l.status===404&&(x=[],v=null,y=200,_="OK")}catch{l.status===404&&C===""?(y=204,_="No Content"):v={message:C}}if(v&&this.isMaybeSingle&&(!((m=v==null?void 0:v.details)===null||m===void 0)&&m.includes("0 rows"))&&(v=null,y=200,_="OK"),v&&this.shouldThrowOnError)throw new e.default(v)}return{error:v,data:x,count:b,status:y,statusText:_}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,f,h,m,v,x;let b="";const y=l==null?void 0:l.cause;if(y){const _=(u=y==null?void 0:y.message)!==null&&u!==void 0?u:"",S=(f=y==null?void 0:y.code)!==null&&f!==void 0?f:"";b=`${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"FetchError"}: ${l==null?void 0:l.message}`,b+=`

Caused by: ${(m=y==null?void 0:y.name)!==null&&m!==void 0?m:"Error"}: ${_}`,S&&(b+=` (${S})`),y!=null&&y.stack&&(b+=`
${y.stack}`)}else b=(v=l==null?void 0:l.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(x=l==null?void 0:l.name)!==null&&x!==void 0?x:"FetchError"}: ${l==null?void 0:l.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(i,s)}returns(){return this}overrideTypes(){return this}};return Nm.default=n,Nm}var x2;function qU(){if(x2)return Om;x2=1,Object.defineProperty(Om,"__esModule",{value:!0});const e=Zu.__importDefault(UU());let n=class extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var f;const h=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Om.default=n,Om}var w2;function tA(){if(w2)return jm;w2=1,Object.defineProperty(jm,"__esModule",{value:!0});const e=Zu.__importDefault(qU()),n=new RegExp("[,()]");let r=class extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}regexMatch(s,o){return this.url.searchParams.append(s,`match.${o}`),this}regexIMatch(s,o){return this.url.searchParams.append(s,`imatch.${o}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}isDistinct(s,o){return this.url.searchParams.append(s,`isdistinct.${o}`),this}in(s,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const f=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${u}fts${f}.${o}`),this}match(s){return Object.entries(s).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(s,o,a){return this.url.searchParams.append(s,`not.${o}.${a}`),this}or(s,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,o,a){return this.url.searchParams.append(s,`${o}.${a}`),this}};return jm.default=r,jm}var _2;function VU(){if(_2)return km;_2=1,Object.defineProperty(km,"__esModule",{value:!0});const e=Zu.__importDefault(tA());let n=class{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(s),this.schema=o,this.fetch=a}select(i,s){const{head:o=!1,count:a}=s??{},l=o?"HEAD":"GET";let u=!1;const f=(i??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",f),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:o=!0}={}){var a;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(u.length>0){const f=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const f="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(h.length>0){const m=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var o;const a="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var s;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};return km.default=n,km}var S2;function CZ(){if(S2)return Am;S2=1,Object.defineProperty(Am,"__esModule",{value:!0});const t=Zu,e=t.__importDefault(VU()),n=t.__importDefault(tA());let r=class WU{constructor(s,{headers:o={},schema:a,fetch:l}={}){this.url=s,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${s}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new WU(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:a=!1,get:l=!1,count:u}={}){var f;let h;const m=new URL(`${this.url}/rpc/${s}`);let v;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([b,y])=>y!==void 0).map(([b,y])=>[b,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([b,y])=>{m.searchParams.append(b,y)})):(h="POST",v=o);const x=new Headers(this.headers);return u&&x.set("Prefer",`count=${u}`),new n.default({method:h,url:m,headers:x,schema:this.schemaName,body:v,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};return Am.default=r,Am}var C2;function zU(){if(C2)return Vn;C2=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.PostgrestError=Vn.PostgrestBuilder=Vn.PostgrestTransformBuilder=Vn.PostgrestFilterBuilder=Vn.PostgrestQueryBuilder=Vn.PostgrestClient=void 0;const t=Zu,e=t.__importDefault(CZ());Vn.PostgrestClient=e.default;const n=t.__importDefault(VU());Vn.PostgrestQueryBuilder=n.default;const r=t.__importDefault(tA());Vn.PostgrestFilterBuilder=r.default;const i=t.__importDefault(qU());Vn.PostgrestTransformBuilder=i.default;const s=t.__importDefault(UU());Vn.PostgrestBuilder=s.default;const o=t.__importDefault(BU());return Vn.PostgrestError=o.default,Vn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},Vn}class HU{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const TZ="2.87.1",PZ=`realtime-js/${TZ}`,GU="1.0.0",EZ="2.0.0",T2=GU,YC=1e4,AZ=1e3,kZ=100;var Ha;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ha||(Ha={}));var sn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(sn||(sn={}));var Ci;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ci||(Ci={}));var XC;(function(t){t.websocket="websocket"})(XC||(XC={}));var Ga;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ga||(Ga={}));class jZ{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,n,r){var i,s;const o=e.topic,a=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",u=e.payload.event,f=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(f).length===0?"":JSON.stringify(f);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+h.length,v=new ArrayBuffer(this.HEADER_LENGTH+m);let x=new DataView(v),b=0;x.setUint8(b++,this.KINDS.userBroadcastPush),x.setUint8(b++,l.length),x.setUint8(b++,a.length),x.setUint8(b++,o.length),x.setUint8(b++,u.length),x.setUint8(b++,h.length),x.setUint8(b++,n),Array.from(l,_=>x.setUint8(b++,_.charCodeAt(0))),Array.from(a,_=>x.setUint8(b++,_.charCodeAt(0))),Array.from(o,_=>x.setUint8(b++,_.charCodeAt(0))),Array.from(u,_=>x.setUint8(b++,_.charCodeAt(0))),Array.from(h,_=>x.setUint8(b++,_.charCodeAt(0)));var y=new Uint8Array(v.byteLength+r.byteLength);return y.set(new Uint8Array(v),0),y.set(new Uint8Array(r),v.byteLength),y.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,s,o,a,l]=r;return n({join_ref:i,ref:s,topic:o,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const f=r.decode(e.slice(l,l+s));l=l+s;const h=r.decode(e.slice(l,l+o));l=l+o;const m=e.slice(l,e.byteLength),v=a===this.JSON_ENCODING?JSON.parse(r.decode(m)):m,x={type:this.BROADCAST_EVENT,event:f,payload:v};return o>0&&(x.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class KU{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(jt||(jt={}));const P2=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=OZ(o,t,e,i),s),{}):{}},OZ=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?YU(s,o):QC(o)},YU=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return MZ(e,n)}switch(t){case jt.bool:return NZ(e);case jt.float4:case jt.float8:case jt.int2:case jt.int4:case jt.int8:case jt.numeric:case jt.oid:return RZ(e);case jt.json:case jt.jsonb:return IZ(e);case jt.timestamp:return DZ(e);case jt.abstime:case jt.date:case jt.daterange:case jt.int4range:case jt.int8range:case jt.money:case jt.reltime:case jt.text:case jt.time:case jt.timestamptz:case jt.timetz:case jt.tsrange:case jt.tstzrange:return QC(e);default:return QC(e)}},QC=t=>t,NZ=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},RZ=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},IZ=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},MZ=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>YU(e,a))}return t},DZ=t=>typeof t=="string"?t.replace(" ","T"):t,XU=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ox{constructor(e,n,r={},i=YC){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var JC;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(JC||(JC={}));let QU=class hg{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hg.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=hg.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=hg.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(u,f)=>{o[u]||(l[u]=f)}),this.map(o,(u,f)=>{const h=s[u];if(h){const m=f.map(y=>y.presence_ref),v=h.map(y=>y.presence_ref),x=f.filter(y=>v.indexOf(y.presence_ref)<0),b=h.filter(y=>m.indexOf(y.presence_ref)<0);x.length>0&&(a[u]=x),b.length>0&&(l[u]=b)}else a[u]=f}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const f=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),f.length>0){const h=e[a].map(v=>v.presence_ref),m=f.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...m)}r(a,f,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const f=l.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var ZC;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ZC||(ZC={}));var Hc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Hc||(Hc={}));var qi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qi||(qi={}));const $Z=sn;let JU=class wf{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=sn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ox(this,Ci.join,this.params,this.timeout),this.rejoinTimer=new KU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=sn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=sn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ci.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new QU(this),this.broadcastEndpointURL=XU(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==sn.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Hc.PRESENCE]&&this.bindings[Hc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:f}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(qi.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(qi.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e==null||e(qi.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,y=(x=b==null?void 0:b.length)!==null&&x!==void 0?x:0,_=[];for(let S=0;S<y;S++){const C=b[S],{filter:{event:E,schema:P,table:k,filter:j}}=C,N=v&&v[S];if(N&&N.event===E&&wf.isFilterValueEqual(N.schema,P)&&wf.isFilterValueEqual(N.table,k)&&wf.isFilterValueEqual(N.filter,j))_.push(Object.assign(Object.assign({},C),{id:N.id}));else{this.unsubscribe(),this.state=sn.errored,e==null||e(qi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(qi.SUBSCRIBED);return}}).receive("error",v=>{this.state=sn.errored,e==null||e(qi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(qi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===sn.joined&&e===Hc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=sn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ci.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ox(this,Ci.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=sn.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ox(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>kZ){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:f}=Ci;if(r&&[a,l,u,f].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var x,b,y;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(b=v.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(v=>v.callback(m,r)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var x,b,y,_,S,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const E=v.id,P=(x=v.filter)===null||x===void 0?void 0:x.event;return E&&((b=n.ids)===null||b===void 0?void 0:b.includes(E))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const E=(S=(_=v==null?void 0:v.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return E==="*"||E===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:b,table:y,commit_timestamp:_,type:S,errors:C}=x;m=Object.assign(Object.assign({},{schema:b,table:y,commit_timestamp:_,eventType:S,new:{},old:{},errors:C}),this._getPayloadRecords(x))}v.callback(m,r)})}_isClosed(){return this.state===sn.closed}_isJoined(){return this.state===sn.joined}_isJoining(){return this.state===sn.joining}_isLeaving(){return this.state===sn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&wf.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ci.close,{},e)}_onError(e){this._on(Ci.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=P2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=P2(e.columns,e.old_record)),n}};const Nx=()=>{},Im={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},LZ=[1e3,2e3,5e3,1e4],FZ=1e4,BZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let UZ=class{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=YC,this.transport=null,this.heartbeatIntervalMs=Im.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nx,this.ref=0,this.reconnectTimer=null,this.vsn=T2,this.logger=Nx,this.conn=null,this.sendBuffer=[],this.serializer=new jZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${XC.websocket}`,this.httpEndpoint=XU(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=HU.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ha.connecting:return Ga.Connecting;case Ha.open:return Ga.Open;case Ha.closing:return Ga.Closing;default:return Ga.Closed}}isConnected(){return this.connectionState()===Ga.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new JU(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(AZ,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Im.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ha.open||this.conn.readyState===Ha.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ci.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([BZ],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:PZ};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Ci.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new KU(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Im.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,o,a,l,u,f,h,m,v;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:YC,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Im.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Nx,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:T2,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:(x=>LZ[x-1]||FZ),this.vsn){case GU:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:((x,b)=>b(JSON.stringify(x))),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:((x,b)=>b(JSON.parse(x)));break;case EZ:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const qZ=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:$Z,get REALTIME_LISTEN_TYPES(){return Hc},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return ZC},get REALTIME_PRESENCE_LISTEN_EVENTS(){return JC},get REALTIME_SUBSCRIBE_STATES(){return qi},RealtimeChannel:JU,RealtimeClient:UZ,RealtimePresence:QU,WebSocketFactory:HU},Symbol.toStringTag,{value:"Module"})),ZU=Bh(qZ);class zh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Bt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class e6 extends zh{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bg extends zh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const nA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),VZ=()=>Response,eT=t=>{if(Array.isArray(t))return t.map(n=>eT(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=eT(r)}),e},WZ=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},zZ=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Rx=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},HZ=(t,e,n)=>ge(void 0,void 0,void 0,function*(){const r=yield VZ();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const s=t.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new e6(Rx(i),s,o))}).catch(i=>{e(new Bg(Rx(i),i))}):e(new Bg(Rx(t),t))}),GZ=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(WZ(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Hh(t,e,n,r,i,s){return ge(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,GZ(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>HZ(l,a,r))})})}function Gf(t,e,n,r){return ge(this,void 0,void 0,function*(){return Hh(t,"GET",e,n,r)})}function xi(t,e,n,r,i){return ge(this,void 0,void 0,function*(){return Hh(t,"POST",e,r,i,n)})}function tT(t,e,n,r,i){return ge(this,void 0,void 0,function*(){return Hh(t,"PUT",e,r,i,n)})}function KZ(t,e,n,r){return ge(this,void 0,void 0,function*(){return Hh(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function rA(t,e,n,r,i){return ge(this,void 0,void 0,function*(){return Hh(t,"DELETE",e,r,i,n)})}class YZ{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return ge(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Bt(e))return{data:null,error:e};throw e}})}}var t6;class XZ{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[t6]="BlobDownloadBuilder",this.promise=null}asStream(){return new YZ(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ge(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Bt(e))return{data:null,error:e};throw e}})}}t6=Symbol.toStringTag;const QZ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},E2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class JZ{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=nA(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return ge(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},E2),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),l&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),h=yield(e=="PUT"?tT:xi)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}upload(e,n,r){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return ge(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:E2.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield tT(this.fetch,a.toString(),l,{headers:f});return{data:{path:s,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Bt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return ge(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield xi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new zh("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}update(e,n,r){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ge(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}copy(e,n,r){return ge(this,void 0,void 0,function*(){try{return{data:{path:(yield xi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return ge(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield xi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return ge(this,void 0,void 0,function*(){try{const i=yield xi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(e),l=()=>Gf(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new XZ(l,this.shouldThrowOnError)}info(e){return ge(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Gf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:eT(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}exists(e){return ge(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield KZ(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r)&&r instanceof Bg){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return ge(this,void 0,void 0,function*(){try{return{data:yield rA(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}list(e,n,r){return ge(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},QZ),n),{prefix:e||""});return{data:yield xi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}listV2(e,n){return ge(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield xi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const n6="2.87.1",r6={"X-Client-Info":`storage-js/${n6}`};class ZZ{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r6),n),this.fetch=nA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ge(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Gf(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}getBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield Gf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}createBucket(e){return ge(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield xi(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return ge(this,void 0,void 0,function*(){try{return{data:yield tT(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield rA(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Kf=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function eee(t,e,n){const r=new URL(e,t);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function tee(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function nee(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:o}){const a=eee(t.baseUrl,r,i),l=await tee(t.auth),u=await e(a,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...l,...o},body:s?JSON.stringify(s):void 0}),f=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),m=h&&f?JSON.parse(f):f;if(!u.ok){const v=h?m:void 0,x=v==null?void 0:v.error;throw new Kf((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:v})}return{status:u.status,headers:u.headers,data:m}}}}function Mm(t){return t.join("")}var ree=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Mm(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Mm(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mm(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Mm(t.namespace)}`}),!0}catch(e){if(e instanceof Kf&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Kf&&n.status===409)return;throw n}}};function vc(t){return t.join("")}var iee=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vc(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vc(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vc(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vc(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vc(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vc(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Kf&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Kf&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},see=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=nee({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new ree(this.client,e),this.tableOps=new iee(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class i6{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r6),n),this.fetch=nA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}listBuckets(e){return ge(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Gf(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield rA(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}})}from(e){if(!zZ(e))throw new zh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new see({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>ge(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const a=s[o];return typeof a!="function"?a:(...l)=>ge(this,void 0,void 0,function*(){try{return{data:yield a.apply(s,l),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}})}})}}const iA={"X-Client-Info":`storage-js/${n6}`,"Content-Type":"application/json"};class sA extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function br(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class pg extends sA{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class s6 extends sA{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var nT;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(nT||(nT={}));const vy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),oee=()=>Response,o6=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},aee=t=>Array.from(new Float32Array(t)),lee=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},A2=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cee=(t,e,n)=>ge(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new pg(A2(o),i,a))}).catch(()=>{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new pg(a,i,o))});else{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new pg(a,i,o))}}else e(new s6(A2(t),t))}),uee=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(o6(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function dee(t,e,n,r,i,s){return ge(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,uee(e,r,i,s)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>cee(l,a,r))})})}function Rr(t,e,n,r,i){return ge(this,void 0,void 0,function*(){return dee(t,"POST",e,r,i,n)})}class a6{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iA),n),this.fetch=vy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ge(this,void 0,void 0,function*(){try{return{data:(yield Rr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}getIndex(e,n){return ge(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}})}listIndexes(e){return ge(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return ge(this,void 0,void 0,function*(){try{return{data:(yield Rr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}})}}class l6{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iA),n),this.fetch=vy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ge(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Rr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}getVectors(e){return ge(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}listVectors(e){return ge(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Rr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}queryVectors(e){return ge(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}deleteVectors(e){return ge(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Rr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}}class c6{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iA),n),this.fetch=vy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:(yield Rr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}getBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}listBuckets(){return ge(this,arguments,void 0,function*(e={}){try{return{data:yield Rr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ge(this,void 0,void 0,function*(){try{return{data:(yield Rr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}})}}class u6 extends c6{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new d6(this.url,this.headers,e,this.fetch)}createBucket(e){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ge(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ge(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ge(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ge(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}}class d6 extends a6{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ge(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ge(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ge(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ge(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new f6(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class f6 extends l6{constructor(e,n,r,i,s){super(e,n,s),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ge(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ge(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ge(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ge(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ge(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class fee extends ZZ{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new JZ(this.url,this.headers,e,this.fetch)}get vectors(){return new u6(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new i6(this.url+"/iceberg",this.headers,this.fetch)}}const hee=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:i6,StorageApiError:e6,StorageClient:fee,StorageError:zh,StorageUnknownError:Bg,StorageVectorsApiError:pg,StorageVectorsClient:u6,StorageVectorsError:sA,get StorageVectorsErrorCode(){return nT},StorageVectorsUnknownError:s6,VectorBucketApi:c6,VectorBucketScope:d6,VectorDataApi:l6,VectorIndexApi:a6,VectorIndexScope:f6,isPlainObject:o6,isStorageError:Bt,isStorageVectorsError:br,normalizeToFloat32:aee,resolveFetch:vy,resolveResponse:oee,validateVectorDimension:lee},Symbol.toStringTag,{value:"Module"})),pee=Bh(hee);var Ix={},nf={},k2;function mee(){return k2||(k2=1,Object.defineProperty(nf,"__esModule",{value:!0}),nf.version=void 0,nf.version="2.87.1"),nf}var j2;function gee(){return j2||(j2=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=mee();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(Ix)),Ix}var Mx={},O2;function vee(){return O2||(O2=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=i=>i?(...s)=>i(...s):(...s)=>fetch(...s);t.resolveFetch=e;const n=()=>Headers;t.resolveHeadersConstructor=n;const r=(i,s,o)=>{const a=(0,t.resolveFetch)(o),l=(0,t.resolveHeadersConstructor)();return async(u,f)=>{var h;const m=(h=await s())!==null&&h!==void 0?h:i;let v=new l(f==null?void 0:f.headers);return v.has("apikey")||v.set("apikey",i),v.has("Authorization")||v.set("Authorization",`Bearer ${m}`),a(u,Object.assign(Object.assign({},f),{headers:v}))}};t.fetchWithAuth=r})(Mx)),Mx}var xs={},N2;function yee(){if(N2)return xs;N2=1,Object.defineProperty(xs,"__esModule",{value:!0}),xs.isBrowser=void 0,xs.uuid=t,xs.ensureTrailingSlash=e,xs.applySettingDefaults=r,xs.validateSupabaseUrl=i;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var o=Math.random()*16|0,a=s=="x"?o:o&3|8;return a.toString(16)})}function e(s){return s.endsWith("/")?s:s+"/"}const n=()=>typeof window<"u";xs.isBrowser=n;function r(s,o){var a,l;const{db:u,auth:f,realtime:h,global:m}=s,{db:v,auth:x,realtime:b,global:y}=o,_={db:Object.assign(Object.assign({},v),u),auth:Object.assign(Object.assign({},x),f),realtime:Object.assign(Object.assign({},b),h),storage:{},global:Object.assign(Object.assign(Object.assign({},y),m),{headers:Object.assign(Object.assign({},(a=y==null?void 0:y.headers)!==null&&a!==void 0?a:{}),(l=m==null?void 0:m.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return s.accessToken?_.accessToken=s.accessToken:delete _.accessToken,_}function i(s){const o=s==null?void 0:s.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return xs}var rf={};const h6="2.87.1",Nc=30*1e3,rT=3,Dx=rT*Nc,bee="http://localhost:9999",xee="supabase.auth.token",wee={"X-Client-Info":`gotrue-js/${h6}`},iT="X-Supabase-Api-Version",p6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_ee=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,See=600*1e3;let gu=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Re(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let m6=class extends gu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function g6(t){return Re(t)&&t.name==="AuthApiError"}let Ro=class extends gu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},Js=class extends gu{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}},mr=class extends Js{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function v6(t){return Re(t)&&t.name==="AuthSessionMissingError"}let Ba=class extends Js{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},_f=class extends Js{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Sf=class extends Js{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function y6(t){return Re(t)&&t.name==="AuthImplicitGrantRedirectError"}let sT=class extends Js{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ug=class extends Js{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function mg(t){return Re(t)&&t.name==="AuthRetryableFetchError"}let oT=class extends Js{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function Cee(t){return Re(t)&&t.name==="AuthWeakPasswordError"}let qg=class extends Js{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Vg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),R2=` 	
\r=`.split(""),Tee=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<R2.length;e+=1)t[R2[e].charCodeAt(0)]=-2;for(let e=0;e<Vg.length;e+=1)t[Vg[e].charCodeAt(0)]=e;return t})();function I2(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Vg[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Vg[r]),e.queuedBits-=6}}function b6(t,e,n){const r=Tee[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function M2(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Aee(o,r,n)};for(let o=0;o<t.length;o+=1)b6(t.charCodeAt(o),i,s);return e.join("")}function Pee(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Eee(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Pee(r,e)}}function Aee(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Gc(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)b6(t.charCodeAt(i),n,r);return new Uint8Array(e)}function kee(t){const e=[];return Eee(t,n=>e.push(n)),new Uint8Array(e)}function Ja(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>I2(i,n,r)),I2(null,n,r),e.join("")}function jee(t){return Math.round(Date.now()/1e3)+t}function Oee(){return Symbol("auth-callback")}const Dn=()=>typeof window<"u"&&typeof document<"u",Na={tested:!1,writable:!1},x6=()=>{if(!Dn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Na.tested)return Na.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Na.tested=!0,Na.writable=!0}catch{Na.tested=!0,Na.writable=!1}return Na.writable};function Nee(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const w6=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ree=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Rc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ra=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Mn=async(t,e)=>{await t.removeItem(e)};let _6=class S6{constructor(){this.promise=new S6.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};_6.promiseConstructor=Promise;function $x(t){const e=t.split(".");if(e.length!==3)throw new qg("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!_ee.test(e[r]))throw new qg("JWT not in base64url format");return{header:JSON.parse(M2(e[0])),payload:JSON.parse(M2(e[1])),signature:Gc(e[2]),raw:{header:e[0],payload:e[1]}}}async function Iee(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Mee(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function Dee(t){return("0"+t.toString(16)).substr(-2)}function $ee(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Dee).join("")}async function Lee(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Fee(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Lee(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yc(t,e,n=!1){const r=$ee();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Rc(t,`${e}-code-verifier`,i);const s=await Fee(r);return[s,r===s?"plain":"s256"]}const Bee=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Uee(t){const e=t.headers.get(iT);if(!e||!e.match(Bee))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function qee(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Vee(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Wee=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bc(t){if(!Wee.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Lx(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zee(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function D2(t){return JSON.parse(JSON.stringify(t))}const Ua=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hee=[502,503,504];async function $2(t){var e;if(!Ree(t))throw new Ug(Ua(t),0);if(Hee.includes(t.status))throw new Ug(Ua(t),t.status);let n;try{n=await t.json()}catch(s){throw new Ro(Ua(s),s)}let r;const i=Uee(t);if(i&&i.getTime()>=p6["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new oT(Ua(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new mr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new oT(Ua(n),t.status,n.weak_password.reasons);throw new m6(Ua(n),t.status||500,r)}const Gee=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function qe(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[iT]||(s[iT]=p6["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Kee(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Kee(t,e,n,r,i,s){const o=Gee(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Ug(Ua(l),0)}if(a.ok||await $2(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await $2(l)}}function vi(t){var e;let n=null;Qee(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=jee(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function L2(t){const e=vi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Io(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Yee(t){return{data:t,error:null}}function Xee(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=la(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function F2(t){return t}function Qee(t){return t.access_token&&t.refresh_token&&t.expires_in}const gg=["global","local","others"];let oA=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=w6(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=gg[0]){if(gg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gg.join(", ")}`);try{return await qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Io})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=la(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Xee,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Re(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await qe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Io})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},f=await qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:F2});if(f.error)throw f.error;const h=await f.json(),m=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Re(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){bc(e);try{return await qe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Io})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){bc(e);try{return await qe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Io})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){bc(e);try{return await qe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Io})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){bc(e.userId);try{const{data:n,error:r}=await qe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Re(n))return{data:null,error:n};throw n}}async _deleteFactor(e){bc(e.userId),bc(e.id);try{return{data:await qe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},f=await qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:F2});if(f.error)throw f.error;const h=await f.json(),m=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Re(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Re(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Re(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await qe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Re(n))return{data:null,error:n};throw n}}};function B2(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const qa={debug:!!(globalThis&&x6()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aA extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let C6=class extends aA{};class Jee extends aA{}async function T6(t,e,n){qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),qa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new C6(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(qa.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const U2={};async function Zee(t,e,n){var r;const i=(r=U2[t])!==null&&r!==void 0?r:Promise.resolve(),s=Promise.race([i.catch(()=>null),e>=0?new Promise((o,a)=>{setTimeout(()=>{a(new Jee(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return U2[t]=s.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await s}function ete(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function P6(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function tte(t){return parseInt(t,16)}function nte(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function rte(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:f,uri:h,version:m}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=P6(t.address),x=f?`${f}://${r}`:r,b=t.statement?`${t.statement}
`:"",y=`${x} wants you to sign in with your Ethereum account:
${v}

${b}`;let _=`URI: ${h}
Version: ${m}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(_+=`
Expiration Time: ${i.toISOString()}`),a&&(_+=`
Not Before: ${a.toISOString()}`),l&&(_+=`
Request ID: ${l}`),u){let S=`
Resources:`;for(const C of u){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);S+=`
- ${C}`}_+=S}return`${y}
${_}`}class an extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Wg extends an{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function ite({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new an({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new an({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new an({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new an({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new an({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new an({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new an({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new an({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(E6(o)){if(s.rp.id!==o)return new an({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new an({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new an({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new an({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new an({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ste({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new an({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new an({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(E6(r)){if(n.rpId!==r)return new an({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new an({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new an({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new an({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ote{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ate=new ote;function lte(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=la(t,["challenge","user","excludeCredentials"]),s=Gc(e).buffer,o=Object.assign(Object.assign({},n),{id:Gc(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Gc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function cte(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=la(t,["challenge","allowCredentials"]),i=Gc(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Gc(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function ute(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ja(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ja(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function dte(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ja(new Uint8Array(i.authenticatorData)),clientDataJSON:Ja(new Uint8Array(i.clientDataJSON)),signature:Ja(new Uint8Array(i.signature)),userHandle:i.userHandle?Ja(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function E6(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function q2(){var t,e;return!!(Dn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function fte(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wg("Browser returned unexpected credential type",e)}:{data:null,error:new Wg("Empty credential response",e)}}catch(e){return{data:null,error:ite({error:e,options:t})}}}async function hte(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wg("Browser returned unexpected credential type",e)}:{data:null,error:new Wg("Empty credential response",e)}}catch(e){return{data:null,error:ste({error:e,options:t})}}}const pte={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},mte={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function zg(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(e(o)){const a=r[s];e(a)?r[s]=zg(a,o):r[s]=zg(o)}else r[s]=o}return r}function gte(t,e){return zg(pte,t,e||{})}function vte(t,e){return zg(mte,t,e||{})}class yte{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=i??ate.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=gte(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:f,error:h}=await fte({publicKey:u,signal:l});return f?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const u=vte(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:f,error:h}=await hte(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return f?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(o){return Re(o)?{data:null,error:o}:{data:null,error:new Ro("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new gu("rpId is required for WebAuthn authentication")};try{if(!q2())return{data:null,error:new Ro("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return Re(o)?{data:null,error:o}:{data:null,error:new Ro("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new gu("rpId is required for WebAuthn registration")};try{if(!q2())return{data:null,error:new Ro("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(f=>{var h;return(h=f.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Re(o)?{data:null,error:o}:{data:null,error:new Ro("Unexpected error in register",o)}}}}ete();const bte={url:bee,storageKey:xee,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wee,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function V2(t,e,n){return await n()}const xc={};let lA=class aT{get jwks(){var e,n;return(n=(e=xc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){xc[this.storageKey]=Object.assign(Object.assign({},xc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=xc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){xc[this.storageKey]=Object.assign(Object.assign({},xc[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},bte),e);if(this.storageKey=s.storageKey,this.instanceID=(n=aT.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,aT.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Dn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new oA({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=w6(s.fetch),this.lock=s.lock||V2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&Dn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=T6:this.lock=V2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yte(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:x6()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=B2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=B2(this.memoryStorage)),Dn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${h6}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Dn()&&(n=Nee(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Dn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),y6(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Re(n)?this._returnResult({error:n}):this._returnResult({error:new Ro("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:vi}),{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(Re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:f,password:h,options:m}=e;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await yc(this.storage,this.storageKey)),s=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:x},xform:vi})}else if("phone"in e){const{phone:f,password:h,options:m}=e;s=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:vi})}else throw new _f("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return await Mn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(await Mn(this.storage,`${this.storageKey}-code-verifier`),Re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:L2})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:L2})}else throw new _f("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new Ba;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,o,a,l,u,f,h,m;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:b,wallet:y,statement:_,options:S}=e;let C;if(Dn())if(typeof y=="object")C=y;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")C=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=y}const E=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href),P=await C.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=P6(P[0]);let j=(r=S==null?void 0:S.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!j){const I=await C.request({method:"eth_chainId"});j=tte(I)}const N={domain:E.host,address:k,statement:_,uri:E.href,version:"1",chainId:j,nonce:(i=S==null?void 0:S.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=S==null?void 0:S.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=S==null?void 0:S.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=S==null?void 0:S.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=S==null?void 0:S.signInWithEthereum)===null||f===void 0?void 0:f.resources};v=rte(N),x=await C.request({method:"personal_sign",params:[nte(v),k]})}try{const{data:b,error:y}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:x},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:vi});if(y)throw y;if(!b||!b.session||!b.user){const _=new Ba;return this._returnResult({data:{user:null,session:null},error:_})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(Re(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var n,r,i,s,o,a,l,u,f,h,m,v;let x,b;if("message"in e)x=e.message,b=e.signature;else{const{chain:y,wallet:_,statement:S,options:C}=e;let E;if(Dn())if(typeof _=="object")E=_;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))E=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=_}const P=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const k=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),S?{statement:S}:null));let j;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")j=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)j=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)x=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),b=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${P.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(r=C==null?void 0:C.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=C==null?void 0:C.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((o=C==null?void 0:C.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((a=C==null?void 0:C.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((l=C==null?void 0:C.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((h=(f=C==null?void 0:C.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...C.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const k=await E.signMessage(new TextEncoder().encode(x),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=k}}try{const{data:y,error:_}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Ja(b)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:vi});if(_)throw _;if(!y||!y.session||!y.user){const S=new Ba;return this._returnResult({data:{user:null,session:null},error:S})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:_})}catch(y){if(Re(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const n=await Ra(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:vi});if(await Mn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const a=new Ba;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(await Mn(this.storage,`${this.storageKey}-code-verifier`),Re(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:vi}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const f=new Ba;return this._returnResult({data:{user:null,session:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(Re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await yc(this.storage,this.storageKey));const{error:h}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:f}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f})}throw new _f("You must provide either an email or phone number.")}catch(a){if(await Mn(this.storage,`${this.storageKey}-code-verifier`),Re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:vi});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(Re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,s,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await yc(this.storage,this.storageKey));const u=await qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Yee});return!((s=u.data)===null||s===void 0)&&s.url&&Dn()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await Mn(this.storage,`${this.storageKey}-code-verifier`),Re(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new mr;const{error:i}=await qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Re(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await qe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new _f("You must provide either an email or phone number and a type")}catch(n){if(Re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ra(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Dx:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Ra(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Lx()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=zee(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Io}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mr}:await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Io})})}catch(n){if(Re(n))return v6(n)&&(await this._removeSession(),await Mn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new mr;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await yc(this.storage,this.storageKey));const{data:u,error:f}=await qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Io});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Mn(this.storage,`${this.storageKey}-code-verifier`),Re(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mr;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=$x(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(Re(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new mr;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Dn())throw new Sf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Sf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new sT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Sf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new sT("No code detected.");const{data:S,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!s||!a||!o||!u)throw new Sf("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(a);let m=f+h;l&&(m=parseInt(l));const v=m-f;v*1e3<=Nc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const x=m-h;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,f);const{data:b,error:y}=await this._getUser(s);if(y)throw y;const _={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:m,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:e.type},error:null})}catch(r){if(Re(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ra(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({error:s});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(g6(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Mn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Oee(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await yc(this.storage,this.storageKey,!0));try{return await qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await Mn(this.storage,`${this.storageKey}-code-verifier`),Re(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,f;const{data:h,error:m}=s;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await qe(this.fetch,"GET",v,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Dn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Re(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:u,nonce:f}=e,h=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:vi}),{data:m,error:v}=h;return v?this._returnResult({data:{user:null,session:null},error:v}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Ba}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:v}))}catch(i){if(await Mn(this.storage,`${this.storageKey}-code-verifier`),Re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await qe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Mee(async i=>(i>0&&await Iee(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vi})),(i,s)=>{const o=200*Math.pow(2,i);return s&&mg(s)&&Date.now()+o-r<Nc})}catch(r){if(this._debug(n,"error",r),Re(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Dn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ra(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Ra(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Rc(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Lx()}else if(i&&!i.user&&!i.user){const o=await Ra(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Mn(this.storage,this.storageKey+"-user"),await Rc(this.storage,this.storageKey,i)):i.user=Lx()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Dx;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Dx}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),mg(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new mr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new _6;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new mr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),Re(s)){const o={data:null,error:s};return mg(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Mn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Rc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=D2(i);await Rc(this.storage,this.storageKey,s)}else{const i=D2(n);await Rc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Mn(this.storage,this.storageKey),await Mn(this.storage,this.storageKey+"-code-verifier"),await Mn(this.storage,this.storageKey+"-user"),this.userStorage&&await Mn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Dn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Nc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Nc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Nc}ms, refresh threshold is ${rT} ticks`),i<=rT&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof aA)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await yc(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await qe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await qe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?ute(e.webauthn.credential_response):dte(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=await qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:lte(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:cte(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=$x(r.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await qe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new mr})})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new mr});const o=await qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Dn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new mr});const o=await qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Dn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await qe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new mr})})}catch(e){if(Re(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await qe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new mr})})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+See>i)return r;const{data:s,error:o}=await qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:x}=await this.getSession();if(x||!v.session)return this._returnResult({data:null,error:x});r=v.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=$x(r);n!=null&&n.allowExpired||qee(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:s,header:i,signature:o},error:null}}const f=Vee(i.alg),h=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,o,kee(`${a}.${l}`)))throw new qg("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}};lA.nextInstanceID={};const xte=oA,wte=lA,_te=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:xte,AuthApiError:m6,AuthClient:wte,AuthError:gu,AuthImplicitGrantRedirectError:Sf,AuthInvalidCredentialsError:_f,AuthInvalidJwtError:qg,AuthInvalidTokenResponseError:Ba,AuthPKCEGrantCodeExchangeError:sT,AuthRetryableFetchError:Ug,AuthSessionMissingError:mr,AuthUnknownError:Ro,AuthWeakPasswordError:oT,CustomAuthError:Js,GoTrueAdminApi:oA,GoTrueClient:lA,NavigatorLockAcquireTimeoutError:C6,SIGN_OUT_SCOPES:gg,isAuthApiError:g6,isAuthError:Re,isAuthImplicitGrantRedirectError:y6,isAuthRetryableFetchError:mg,isAuthSessionMissingError:v6,isAuthWeakPasswordError:Cee,lockInternals:qa,navigatorLock:T6,processLock:Zee},Symbol.toStringTag,{value:"Module"})),A6=Bh(_te);var W2;function Ste(){if(W2)return rf;W2=1,Object.defineProperty(rf,"__esModule",{value:!0}),rf.SupabaseAuthClient=void 0;const t=A6;let e=class extends t.AuthClient{constructor(r){super(r)}};return rf.SupabaseAuthClient=e,rf}var z2;function H2(){if(z2)return Em;z2=1,Object.defineProperty(Em,"__esModule",{value:!0});const t=FU,e=zU(),n=ZU,r=pee,i=gee(),s=vee(),o=yee(),a=Ste();class l{constructor(f,h,m){var v,x,b;this.supabaseUrl=f,this.supabaseKey=h;const y=(0,o.validateSupabaseUrl)(f);if(!h)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",y),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",y),this.storageUrl=new URL("storage/v1",y),this.functionsUrl=new URL("functions/v1",y);const _=`sb-${y.hostname.split(".")[0]}-auth-token`,S={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:_}),global:i.DEFAULT_GLOBAL_OPTIONS},C=(0,o.applySettingDefaults)(m??{},S);this.storageKey=(v=C.auth.storageKey)!==null&&v!==void 0?v:"",this.headers=(x=C.global.headers)!==null&&x!==void 0?x:{},C.accessToken?(this.accessToken=C.accessToken,this.auth=new Proxy({},{get:(E,P)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(P)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((b=C.auth)!==null&&b!==void 0?b:{},this.headers,C.global.fetch),this.fetch=(0,s.fetchWithAuth)(h,this._getAccessToken.bind(this),C.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},C.realtime)),this.accessToken&&this.accessToken().then(E=>this.realtime.setAuth(E)).catch(E=>console.warn("Failed to set initial Realtime auth token:",E)),this.rest=new e.PostgrestClient(new URL("rest/v1",y).href,{headers:this.headers,schema:C.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,m==null?void 0:m.storage),C.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(f){return this.rest.from(f)}schema(f){return this.rest.schema(f)}rpc(f,h={},m={head:!1,get:!1,count:void 0}){return this.rest.rpc(f,h,m)}channel(f,h={config:{}}){return this.realtime.channel(f,h)}getChannels(){return this.realtime.getChannels()}removeChannel(f){return this.realtime.removeChannel(f)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var f,h;if(this.accessToken)return await this.accessToken();const{data:m}=await this.auth.getSession();return(h=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:f,persistSession:h,detectSessionInUrl:m,storage:v,userStorage:x,storageKey:b,flowType:y,lock:_,debug:S,throwOnError:C},E,P){const k={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new a.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},k),E),storageKey:b,autoRefreshToken:f,persistSession:h,detectSessionInUrl:m,storage:v,userStorage:x,flowType:y,lock:_,debug:S,throwOnError:C,fetch:P,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(f){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},f),{params:Object.assign({apikey:this.supabaseKey},f==null?void 0:f.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((h,m)=>{this._handleTokenChanged(h,"CLIENT",m==null?void 0:m.access_token)})}_handleTokenChanged(f,h,m){(f==="TOKEN_REFRESHED"||f==="SIGNED_IN")&&this.changedAccessToken!==m?(this.changedAccessToken=m,this.realtime.setAuth(m)):f==="SIGNED_OUT"&&(this.realtime.setAuth(),h=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Em.default=l,Em}var G2;function Cte(){return G2||(G2=1,(function(t){var e=bs&&bs.__createBinding||(Object.create?(function(f,h,m,v){v===void 0&&(v=m);var x=Object.getOwnPropertyDescriptor(h,m);(!x||("get"in x?!h.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return h[m]}}),Object.defineProperty(f,v,x)}):(function(f,h,m,v){v===void 0&&(v=m),f[v]=h[m]})),n=bs&&bs.__exportStar||function(f,h){for(var m in f)m!=="default"&&!Object.prototype.hasOwnProperty.call(h,m)&&e(h,f,m)},r=bs&&bs.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const i=r(H2());n(A6,t);var s=zU();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return s.PostgrestError}});var o=FU;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(ZU,t);var a=H2();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return r(a).default}});const l=(f,h,m)=>new i.default(f,h,m);t.createClient=l;function u(){if(typeof window<"u"||typeof process>"u")return!1;const f=process.version;if(f==null)return!1;const h=f.match(/^v(\d+)\./);return h?parseInt(h[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(bs)),bs}var k6=Cte();const j6=at(k6),Tte=hE({__proto__:null,default:j6},[k6]),{PostgrestError:Jje,FunctionsHttpError:Zje,FunctionsFetchError:eOe,FunctionsRelayError:tOe,FunctionsError:nOe,FunctionRegion:rOe,SupabaseClient:iOe,createClient:Pte,GoTrueAdminApi:sOe,GoTrueClient:oOe,AuthAdminApi:aOe,AuthClient:lOe,navigatorLock:cOe,NavigatorLockAcquireTimeoutError:uOe,lockInternals:dOe,processLock:fOe,SIGN_OUT_SCOPES:hOe,AuthError:pOe,AuthApiError:mOe,AuthUnknownError:gOe,CustomAuthError:vOe,AuthSessionMissingError:yOe,AuthInvalidTokenResponseError:bOe,AuthInvalidCredentialsError:xOe,AuthImplicitGrantRedirectError:wOe,AuthPKCEGrantCodeExchangeError:_Oe,AuthRetryableFetchError:SOe,AuthWeakPasswordError:COe,AuthInvalidJwtError:TOe,isAuthError:POe,isAuthApiError:EOe,isAuthSessionMissingError:AOe,isAuthImplicitGrantRedirectError:kOe,isAuthRetryableFetchError:jOe,isAuthWeakPasswordError:OOe,RealtimePresence:NOe,RealtimeChannel:ROe,RealtimeClient:IOe,REALTIME_LISTEN_TYPES:MOe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:DOe,REALTIME_PRESENCE_LISTEN_EVENTS:$Oe,REALTIME_SUBSCRIBE_STATES:LOe,REALTIME_CHANNEL_STATES:FOe}=j6||Tte,O6="https://amtxxigpbfsbvalnwpml.supabase.co",N6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFtdHh4aWdwYmZzYnZhbG53cG1sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2NzEzNTYsImV4cCI6MjA4MTI0NzM1Nn0.XbHJoNQHJOqvRDs0LgvY2M4TXRN-RjZPqfYRdedYmx4",Se=Pte(O6,N6);async function yn(t,e={},n={}){const r=n.method||"POST",i=n.params||{};let s=`${O6}/functions/v1/${t}`;if(r==="GET"&&Object.keys(i).length>0){const l=Object.entries(i).reduce((f,[h,m])=>(m!=null&&(f[h]=m),f),{}),u=new URLSearchParams(l);s+=`?${u.toString()}`}const o={method:r,headers:{Authorization:`Bearer ${N6}`,"Content-Type":"application/json"}};r!=="GET"&&Object.keys(e).length>0&&(o.body=JSON.stringify(e));const a=await fetch(s,o);if(!a.ok){const l=await a.text();throw new Error(`Edge function error: ${l}`)}return a.json()}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R6=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ate={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>T.createElement("svg",{ref:l,...Ate,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:R6("lucide",i),...a},[...o.map(([u,f])=>T.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(kte,{ref:s,iconNode:e,className:R6(`lucide-${Ete(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],K2=Pe("Activity",jte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Nte=Pe("ArrowRight",Ote);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],lT=Pe("Award",Rte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],I6=Pe("Ban",Ite);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],M6=Pe("Building2",Mte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],cT=Pe("CalendarCheck",Dte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gh=Pe("Calendar",$te);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],D6=Pe("ChartColumn",Lte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bte=Pe("Check",Fte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$6=Pe("ChevronDown",Ute);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Vte=Pe("ChevronLeft",qte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Y2=Pe("ChevronRight",Wte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Hte=Pe("ChevronUp",zte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Yf=Pe("CircleAlert",Gte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cA=Pe("CircleCheck",Kte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],Xte=Pe("CirclePause",Yte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],L6=Pe("CirclePlay",Qte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],uA=Pe("CircleX",Jte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Ms=Pe("Clock",Zte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Hg=Pe("Crown",ene);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],X2=Pe("Database",tne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],rne=Pe("Delete",nne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],vu=Pe("DollarSign",ine);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],one=Pe("Download",sne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],lne=Pe("Filter",ane);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Gg=Pe("Flame",cne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],dne=Pe("Gem",une);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],hne=Pe("Link2",fne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pne=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],mne=Pe("Link",pne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Nf=Pe("LoaderCircle",gne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],yne=Pe("LogOut",vne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bne=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],xne=Pe("Mail",bne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],F6=Pe("MicOff",wne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],yy=Pe("Mic",_ne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Cne=Pe("Music",Sne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],Pne=Pe("Palette",Tne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ane=Pe("Pen",Ene);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kne=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]],bl=Pe("PhoneCall",kne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=[["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8",key:"13zxdn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],B6=Pe("PhoneMissed",jne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const One=[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]],yu=Pe("PhoneOff",One);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Tt=Pe("Phone",Nne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rne=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],U6=Pe("Plus",Rne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vg=Pe("RefreshCw",Ine);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Dne=Pe("Rocket",Mne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Lne=Pe("Save",$ne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],q6=Pe("Search",Fne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dA=Pe("Settings",Bne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],qne=Pe("Shield",Une);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],fA=Pe("Sparkles",Vne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ko=Pe("Star",Wne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],Hne=Pe("Swords",zne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Kg=Pe("Target",Gne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],uT=Pe("Trash2",Kne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Xne=Pe("TrendingDown",Yne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Vs=Pe("TrendingUp",Qne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Yg=Pe("Trophy",Jne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ere=Pe("Upload",Zne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],V6=Pe("User",tre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],dT=Pe("Users",nre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=[["circle",{cx:"6",cy:"12",r:"4",key:"1ehtga"}],["circle",{cx:"18",cy:"12",r:"4",key:"4vafl8"}],["line",{x1:"6",x2:"18",y1:"16",y2:"16",key:"pmt8us"}]],W6=Pe("Voicemail",rre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],z6=Pe("Volume2",ire);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],ore=Pe("VolumeX",sre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],lre=Pe("WifiOff",are);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],ure=Pe("Wifi",cre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bu=Pe("X",dre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],by=Pe("Zap",fre);function ca({userStats:t}){const e=(t==null?void 0:t.level)||1,n=(t==null?void 0:t.total_points)||0,r=e*500,i=(t==null?void 0:t.calls_today)||0,s=(t==null?void 0:t.appointments_today)||0,o=(t==null?void 0:t.current_streak)||0;return p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg shadow-purple-500/30",children:p.jsx(by,{className:"w-6 h-6 text-white fill-white"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-xl font-bold text-white",children:"Akaal"}),p.jsxs("div",{className:"flex items-center gap-2 text-purple-300 text-sm",children:[p.jsxs("span",{children:["Level ",e," Closer"]}),p.jsx("span",{className:"text-purple-500",children:""}),p.jsxs("span",{children:[n," / ",r," XP"]})]})]})]}),p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-purple-400 text-xs mb-1",children:"Calls"}),p.jsx("div",{className:"text-2xl font-bold text-white",children:i})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-purple-400 text-xs mb-1",children:"Appointments"}),p.jsx("div",{className:"text-2xl font-bold text-white",children:s})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-purple-400 text-xs mb-1",children:"Streak"}),p.jsxs("div",{className:"text-2xl font-bold text-white flex items-center gap-1",children:[o,p.jsx(Gg,{className:"w-4 h-4 text-orange-500"})]})]})]})]})}/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Q2="popstate";function hre(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return fT("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xf(i)}return mre(e,n,null,t)}function Yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ji(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pre(){return Math.random().toString(36).substring(2,10)}function J2(t,e){return{usr:t.state,key:t.key,idx:e}}function fT(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ed(e):e,state:n,key:e&&e.key||r||pre()}}function Xf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ed(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function mre(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=f();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function f(){return(o.state||{idx:null}).idx}function h(){a="POP";let y=f(),_=y==null?null:y-u;u=y,l&&l({action:a,location:b.location,delta:_})}function m(y,_){a="PUSH";let S=fT(b.location,y,_);u=f()+1;let C=J2(S,u),E=b.createHref(S);try{o.pushState(C,"",E)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(E)}s&&l&&l({action:a,location:b.location,delta:1})}function v(y,_){a="REPLACE";let S=fT(b.location,y,_);u=f();let C=J2(S,u),E=b.createHref(S);o.replaceState(C,"",E),s&&l&&l({action:a,location:b.location,delta:0})}function x(y){return gre(y)}let b={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Q2,h),l=y,()=>{i.removeEventListener(Q2,h),l=null}},createHref(y){return e(i,y)},createURL:x,encodeLocation(y){let _=x(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:v,go(y){return o.go(y)}};return b}function gre(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Yt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Xf(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function H6(t,e,n="/"){return vre(t,e,n,!1)}function vre(t,e,n,r){let i=typeof e=="string"?ed(e):e,s=Ws(i.pathname||"/",n);if(s==null)return null;let o=G6(t);yre(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=kre(s);a=Ere(o[l],u,r)}return a}function G6(t,e=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&l)return;Yt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let h=Ds([r,f.relativePath]),m=n.concat(f);o.children&&o.children.length>0&&(Yt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),G6(o.children,e,m,h,l)),!(o.path==null&&!o.index)&&e.push({path:h,score:Tre(h,o.index),routesMeta:m})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of K6(o.path))s(o,a,!0,u)}),e}function K6(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=K6(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function yre(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Pre(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var bre=/^:[\w-]+$/,xre=3,wre=2,_re=1,Sre=10,Cre=-2,Z2=t=>t==="*";function Tre(t,e){let n=t.split("/"),r=n.length;return n.some(Z2)&&(r+=Cre),e&&(r+=wre),n.filter(i=>!Z2(i)).reduce((i,s)=>i+(bre.test(s)?xre:s===""?_re:Sre),r)}function Pre(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Ere(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=Xg({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),m=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Xg({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ds([s,h.pathname]),pathnameBase:Ire(Ds([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=Ds([s,h.pathnameBase]))}return o}function Xg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Are(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:h},m)=>{if(f==="*"){let x=a[m]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=a[m];return h&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Are(t,e=!1,n=!0){ji(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kre(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ji(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ws(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var jre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ore=t=>jre.test(t);function Nre(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ed(t):t,s;if(n)if(Ore(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),ji(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?s=eI(n.substring(1),"/"):s=eI(n,e)}else s=e;return{pathname:s,search:Mre(r),hash:Dre(i)}}function eI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fx(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rre(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Y6(t){let e=Rre(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function X6(t,e,n,r=!1){let i;typeof t=="string"?i=ed(t):(i={...t},Yt(!i.pathname||!i.pathname.includes("?"),Fx("?","pathname","search",i)),Yt(!i.pathname||!i.pathname.includes("#"),Fx("#","pathname","hash",i)),Yt(!i.search||!i.search.includes("#"),Fx("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=Nre(i,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}var Ds=t=>t.join("/").replace(/\/\/+/g,"/"),Ire=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Mre=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Dre=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $re(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Lre(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Q6=["POST","PUT","PATCH","DELETE"];new Set(Q6);var Fre=["GET",...Q6];new Set(Fre);var td=T.createContext(null);td.displayName="DataRouter";var xy=T.createContext(null);xy.displayName="DataRouterState";T.createContext(!1);var J6=T.createContext({isTransitioning:!1});J6.displayName="ViewTransition";var Bre=T.createContext(new Map);Bre.displayName="Fetchers";var Ure=T.createContext(null);Ure.displayName="Await";var Ri=T.createContext(null);Ri.displayName="Navigation";var Kh=T.createContext(null);Kh.displayName="Location";var Zs=T.createContext({outlet:null,matches:[],isDataRoute:!1});Zs.displayName="Route";var hA=T.createContext(null);hA.displayName="RouteError";function qre(t,{relative:e}={}){Yt(Yh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(Ri),{hash:i,pathname:s,search:o}=Xh(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Ds([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Yh(){return T.useContext(Kh)!=null}function eo(){return Yt(Yh(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Kh).location}var Z6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eq(t){T.useContext(Ri).static||T.useLayoutEffect(t)}function Vre(){let{isDataRoute:t}=T.useContext(Zs);return t?nie():Wre()}function Wre(){Yt(Yh(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(td),{basename:e,navigator:n}=T.useContext(Ri),{matches:r}=T.useContext(Zs),{pathname:i}=eo(),s=JSON.stringify(Y6(r)),o=T.useRef(!1);return eq(()=>{o.current=!0}),T.useCallback((l,u={})=>{if(ji(o.current,Z6),!o.current)return;if(typeof l=="number"){n.go(l);return}let f=X6(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ds([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,s,i,t])}T.createContext(null);function Xh(t,{relative:e}={}){let{matches:n}=T.useContext(Zs),{pathname:r}=eo(),i=JSON.stringify(Y6(n));return T.useMemo(()=>X6(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function zre(t,e){return tq(t,e)}function tq(t,e,n,r,i){var S;Yt(Yh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(Ri),{matches:o}=T.useContext(Zs),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",f=a?a.pathnameBase:"/",h=a&&a.route;{let C=h&&h.path||"";nq(u,!h||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let m=eo(),v;if(e){let C=typeof e=="string"?ed(e):e;Yt(f==="/"||((S=C.pathname)==null?void 0:S.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${C.pathname}" was given in the \`location\` prop.`),v=C}else v=m;let x=v.pathname||"/",b=x;if(f!=="/"){let C=f.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(C.length).join("/")}let y=H6(t,{pathname:b});ji(h||y!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ji(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=Xre(y&&y.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Ds([f,s.encodeLocation?s.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:Ds([f,s.encodeLocation?s.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),o,n,r,i);return e&&_?T.createElement(Kh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function Hre(){let t=tie(),e=$re(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,o)}var Gre=T.createElement(Hre,null),Kre=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(Zs.Provider,{value:this.props.routeContext},T.createElement(hA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Yre({routeContext:t,match:e,children:n}){let r=T.useContext(td);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Zs.Provider,{value:t},n)}function Xre(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let f=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Yt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let a=!1,l=-1;if(n)for(let f=0;f<s.length;f++){let h=s[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=f),h.route.id){let{loaderData:m,errors:v}=n,x=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=n&&r?(f,h)=>{var m,v;r(f,{location:n.location,params:((v=(m=n.matches)==null?void 0:m[0])==null?void 0:v.params)??{},unstable_pattern:Lre(n.matches),errorInfo:h})}:void 0;return s.reduceRight((f,h,m)=>{let v,x=!1,b=null,y=null;n&&(v=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||Gre,a&&(l<0&&m===0?(nq("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,y=null):l===m&&(x=!0,y=h.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,m+1)),S=()=>{let C;return v?C=b:x?C=y:h.route.Component?C=T.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=f,T.createElement(Yre,{match:h,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?T.createElement(Kre,{location:n.location,revalidation:n.revalidation,component:b,error:v,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:u}):S()},null)}function pA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qre(t){let e=T.useContext(td);return Yt(e,pA(t)),e}function Jre(t){let e=T.useContext(xy);return Yt(e,pA(t)),e}function Zre(t){let e=T.useContext(Zs);return Yt(e,pA(t)),e}function mA(t){let e=Zre(t),n=e.matches[e.matches.length-1];return Yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function eie(){return mA("useRouteId")}function tie(){var r;let t=T.useContext(hA),e=Jre("useRouteError"),n=mA("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function nie(){let{router:t}=Qre("useNavigate"),e=mA("useNavigate"),n=T.useRef(!1);return eq(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{ji(n.current,Z6),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var tI={};function nq(t,e,n){!e&&!tI[t]&&(tI[t]=!0,ji(!1,n))}T.memo(rie);function rie({routes:t,future:e,state:n,unstable_onError:r}){return tq(t,void 0,n,r,e)}function Ui(t){Yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iie({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:o}){Yt(!Yh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:i,static:s,unstable_useTransitions:o,future:{}}),[a,i,s,o]);typeof n=="string"&&(n=ed(n));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:v="default"}=n,x=T.useMemo(()=>{let b=Ws(u,a);return b==null?null:{location:{pathname:b,search:f,hash:h,state:m,key:v},navigationType:r}},[a,u,f,h,m,v,r]);return ji(x!=null,`<Router basename="${a}"> is not able to match the URL "${u}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:T.createElement(Ri.Provider,{value:l},T.createElement(Kh.Provider,{children:e,value:x}))}function sie({children:t,location:e}){return zre(hT(t),e)}function hT(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,hT(r.props.children,s));return}Yt(r.type===Ui,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Yt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=hT(r.props.children,s)),n.push(o)}),n}var yg="get",bg="application/x-www-form-urlencoded";function wy(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function oie(t){return wy(t)&&t.tagName.toLowerCase()==="button"}function aie(t){return wy(t)&&t.tagName.toLowerCase()==="form"}function lie(t){return wy(t)&&t.tagName.toLowerCase()==="input"}function cie(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uie(t,e){return t.button===0&&(!e||e==="_self")&&!cie(t)}var Dm=null;function die(){if(Dm===null)try{new FormData(document.createElement("form"),0),Dm=!1}catch{Dm=!0}return Dm}var fie=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bx(t){return t!=null&&!fie.has(t)?(ji(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bg}"`),null):t}function hie(t,e){let n,r,i,s,o;if(aie(t)){let a=t.getAttribute("action");r=a?Ws(a,e):null,n=t.getAttribute("method")||yg,i=Bx(t.getAttribute("enctype"))||bg,s=new FormData(t)}else if(oie(t)||lie(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Ws(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||yg,i=Bx(t.getAttribute("formenctype"))||Bx(a.getAttribute("enctype"))||bg,s=new FormData(a,t),!die()){let{name:u,type:f,value:h}=t;if(f==="image"){let m=u?`${u}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else u&&s.append(u,h)}}else{if(wy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yg,r=null,i=bg,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gA(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pie(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ws(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function mie(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gie(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function vie(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await mie(s,n);return o.links?o.links():[]}return[]}));return wie(r.flat(1).filter(gie).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function nI(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var f;return n[u].pathname!==l.pathname||((f=n[u].route.path)==null?void 0:f.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var h;let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function yie(t,e,{includeHydrateFallback:n}={}){return bie(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function bie(t){return[...new Set(t)]}function xie(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function wie(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(xie(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function rq(){let t=T.useContext(td);return gA(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _ie(){let t=T.useContext(xy);return gA(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var vA=T.createContext(void 0);vA.displayName="FrameworkContext";function iq(){let t=T.useContext(vA);return gA(t,"You must render this element inside a <HydratedRouter> element"),t}function Sie(t,e){let n=T.useContext(vA),[r,i]=T.useState(!1),[s,o]=T.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:f,onTouchStart:h}=e,m=T.useRef(null);T.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let b=_=>{_.forEach(S=>{o(S.isIntersecting)})},y=new IntersectionObserver(b,{threshold:.5});return m.current&&y.observe(m.current),()=>{y.disconnect()}}},[t]),T.useEffect(()=>{if(r){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[r]);let v=()=>{i(!0)},x=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,m,{}]:[s,m,{onFocus:sf(a,v),onBlur:sf(l,x),onMouseEnter:sf(u,v),onMouseLeave:sf(f,x),onTouchStart:sf(h,v)}]:[!1,m,{}]}function sf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Cie({page:t,...e}){let{router:n}=rq(),r=T.useMemo(()=>H6(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(Pie,{page:t,matches:r,...e}):null}function Tie(t){let{manifest:e,routeModules:n}=iq(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return vie(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function Pie({page:t,matches:e,...n}){let r=eo(),{manifest:i,routeModules:s}=iq(),{basename:o}=rq(),{loaderData:a,matches:l}=_ie(),u=T.useMemo(()=>nI(t,e,l,i,r,"data"),[t,e,l,i,r]),f=T.useMemo(()=>nI(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,b=!1;if(e.forEach(_=>{var C;let S=i.routes[_.route.id];!S||!S.hasLoader||(!u.some(E=>E.route.id===_.route.id)&&_.route.id in a&&((C=s[_.route.id])!=null&&C.shouldRevalidate)||S.hasClientLoader?b=!0:x.add(_.route.id))}),x.size===0)return[];let y=pie(t,o,"data");return b&&x.size>0&&y.searchParams.set("_routes",e.filter(_=>x.has(_.route.id)).map(_=>_.route.id).join(",")),[y.pathname+y.search]},[o,a,r,i,u,e,t,s]),m=T.useMemo(()=>yie(f,i),[f,i]),v=Tie(f);return T.createElement(T.Fragment,null,h.map(x=>T.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),m.map(x=>T.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),v.map(({key:x,link:b})=>T.createElement("link",{key:x,nonce:n.nonce,...b})))}function Eie(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var sq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sq&&(window.__reactRouterVersion="7.10.1")}catch{}function Aie({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=hre({window:r,v5Compat:!0}));let s=i.current,[o,a]=T.useState({action:s.action,location:s.location}),l=T.useCallback(u=>{n===!1?a(u):T.startTransition(()=>a(u))},[n]);return T.useLayoutEffect(()=>s.listen(l),[s,l]),T.createElement(iie,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:n===!0})}var oq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qh=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:f,viewTransition:h,...m},v){let{basename:x,unstable_useTransitions:b}=T.useContext(Ri),y=typeof u=="string"&&oq.test(u),_,S=!1;if(typeof u=="string"&&y&&(_=u,sq))try{let L=new URL(window.location.href),M=u.startsWith("//")?new URL(L.protocol+u):new URL(u),F=Ws(M.pathname,x);M.origin===L.origin&&F!=null?u=F+M.search+M.hash:S=!0}catch{ji(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=qre(u,{relative:i}),[E,P,k]=Sie(r,m),j=Nie(u,{replace:o,state:a,target:l,preventScrollReset:f,relative:i,viewTransition:h,unstable_useTransitions:b});function N(L){e&&e(L),L.defaultPrevented||j(L)}let I=T.createElement("a",{...m,...k,href:_||C,onClick:S||s?e:N,ref:Eie(v,P),target:l,"data-discover":!y&&n==="render"?"true":void 0});return E&&!y?T.createElement(T.Fragment,null,I,T.createElement(Cie,{page:C})):I});Qh.displayName="Link";var kie=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},f){let h=Xh(o,{relative:u.relative}),m=eo(),v=T.useContext(xy),{navigator:x,basename:b}=T.useContext(Ri),y=v!=null&&$ie(h)&&a===!0,_=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,S=m.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(S=S.toLowerCase(),C=C?C.toLowerCase():null,_=_.toLowerCase()),C&&b&&(C=Ws(C,b)||C);const E=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let P=S===_||!i&&S.startsWith(_)&&S.charAt(E)==="/",k=C!=null&&(C===_||!i&&C.startsWith(_)&&C.charAt(_.length)==="/"),j={isActive:P,isPending:k,isTransitioning:y},N=P?e:void 0,I;typeof r=="function"?I=r(j):I=[r,P?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(j):s;return T.createElement(Qh,{...u,"aria-current":N,className:I,ref:f,style:L,to:o,viewTransition:a},typeof l=="function"?l(j):l)});kie.displayName="NavLink";var jie=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=yg,action:a,onSubmit:l,relative:u,preventScrollReset:f,viewTransition:h,...m},v)=>{let{unstable_useTransitions:x}=T.useContext(Ri),b=Mie(),y=Die(a,{relative:u}),_=o.toLowerCase()==="get"?"get":"post",S=typeof a=="string"&&oq.test(a),C=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let P=E.nativeEvent.submitter,k=(P==null?void 0:P.getAttribute("formmethod"))||o,j=()=>b(P||E.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:s,relative:u,preventScrollReset:f,viewTransition:h});x&&n!==!1?T.startTransition(()=>j()):j()};return T.createElement("form",{ref:v,method:_,action:y,onSubmit:r?l:C,...m,"data-discover":!S&&t==="render"?"true":void 0})});jie.displayName="Form";function Oie(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aq(t){let e=T.useContext(td);return Yt(e,Oie(t)),e}function Nie(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_useTransitions:a}={}){let l=Vre(),u=eo(),f=Xh(t,{relative:s});return T.useCallback(h=>{if(uie(h,e)){h.preventDefault();let m=n!==void 0?n:Xf(u)===Xf(f),v=()=>l(t,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:o});a?T.startTransition(()=>v()):v()}},[u,l,f,n,r,e,t,i,s,o,a])}var Rie=0,Iie=()=>`__${String(++Rie)}__`;function Mie(){let{router:t}=aq("useSubmit"),{basename:e}=T.useContext(Ri),n=eie(),r=t.fetch,i=t.navigate;return T.useCallback(async(s,o={})=>{let{action:a,method:l,encType:u,formData:f,body:h}=hie(s,e);if(o.navigate===!1){let m=o.fetcherKey||Iie();await r(m,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||l,formEncType:o.encType||u,flushSync:o.flushSync})}else await i(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||l,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,e,n])}function Die(t,{relative:e}={}){let{basename:n}=T.useContext(Ri),r=T.useContext(Zs);Yt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Xh(t||".",{relative:e})},o=eo();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let f=a.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ds([n,s.pathname])),Xf(s)}function $ie(t,{relative:e}={}){let n=T.useContext(J6);Yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=aq("useViewTransitionState"),i=Xh(t,{relative:e});if(!n.isTransitioning)return!1;let s=Ws(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ws(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Xg(i.pathname,o)!=null||Xg(i.pathname,s)!=null}var Jh=_4();const Lie=at(Jh);function yA(t){return"/"+t.toLowerCase().replace(/ /g,"-")}const Fie=[{name:"Dialer",icon:Tt,page:"Home"},{name:"Triple Line",icon:bl,page:"TripleLineDialing"},{name:"Leads",icon:dT,page:"Leads"},{name:"Metrics",icon:D6,page:"Metrics"},{name:"Achievements",icon:Yg,page:"Achievements"},{name:"Leaderboard",icon:by,page:"Leaderboard"},{name:"Settings",icon:dA,page:"Settings"}];function ua(){const t=eo(),n=t.pathname.split("/").pop()||"Home";return p.jsx("div",{className:"flex gap-2 bg-[#2d1f4a]/50 p-2 rounded-2xl backdrop-blur-sm",children:Fie.map(r=>{const i=r.icon,s=n===r.page||r.page==="Home"&&n==="";return p.jsx(Qh,{to:yA(r.page),className:"relative flex-1",children:p.jsxs(pe.div,{className:`
                px-6 py-3 rounded-xl flex items-center justify-center gap-2 transition-all
                ${s?"bg-gradient-to-r from-purple-500 to-indigo-500 text-white shadow-lg shadow-purple-500/30":"text-purple-200 hover:bg-purple-900/30"}
              `,whileHover:{scale:1.02},whileTap:{scale:.98},children:[p.jsx(i,{className:"w-4 h-4"}),p.jsx("span",{className:"font-medium text-sm",children:r.name})]})},r.name)})})}function rI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function nd(...t){return e=>{let n=!1;const r=t.map(i=>{const s=rI(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():rI(t[i],null)}}}}function Wt(...t){return T.useCallback(nd(...t),t)}var Bie=Symbol.for("react.lazy"),Qg=mE[" use ".trim().toString()];function Uie(t){return typeof t=="object"&&t!==null&&"then"in t}function lq(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Bie&&"_payload"in t&&Uie(t._payload)}function bA(t){const e=Vie(t),n=T.forwardRef((r,i)=>{let{children:s,...o}=r;lq(s)&&typeof Qg=="function"&&(s=Qg(s._payload));const a=T.Children.toArray(s),l=a.find(zie);if(l){const u=l.props.children,f=a.map(h=>h===l?T.Children.count(u)>1?T.Children.only(null):T.isValidElement(u)?u.props.children:null:h);return p.jsx(e,{...o,ref:i,children:T.isValidElement(u)?T.cloneElement(u,void 0,f):null})}return p.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var qie=bA("Slot");function Vie(t){const e=T.forwardRef((n,r)=>{let{children:i,...s}=n;if(lq(i)&&typeof Qg=="function"&&(i=Qg(i._payload)),T.isValidElement(i)){const o=Gie(i),a=Hie(s,i.props);return i.type!==T.Fragment&&(a.ref=r?nd(r,o):o),T.cloneElement(i,a)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Wie=Symbol("radix.slottable");function zie(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Wie}function Hie(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Gie(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function cq(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=cq(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ye(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=cq(t))&&(r&&(r+=" "),r+=e);return r}const iI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,sI=Ye,Zh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return sI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const f=n==null?void 0:n[u],h=s==null?void 0:s[u];if(f===null)return null;const m=iI(f)||iI(h);return i[u][m]}),a=n&&Object.entries(n).reduce((u,f)=>{let[h,m]=f;return m===void 0||(u[h]=m),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:h,className:m,...v}=f;return Object.entries(v).every(x=>{let[b,y]=x;return Array.isArray(y)?y.includes({...s,...a}[b]):{...s,...a}[b]===y})?[...u,h,m]:u},[]);return sI(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},Kie=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},Yie=(t,e)=>({classGroupId:t,validator:e}),uq=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Jg="-",oI=[],Xie="arbitrary..",Qie=t=>{const e=Zie(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return Jie(o);const a=o.split(Jg),l=a[0]===""&&a.length>1?1:0;return dq(a,l,e)},getConflictingClassGroupIds:(o,a)=>{if(a){const l=r[o],u=n[o];return l?u?Kie(u,l):l:u||oI}return n[o]||oI}}},dq=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const u=dq(t,e+1,s);if(u)return u}const o=n.validators;if(o===null)return;const a=e===0?t.join(Jg):t.slice(e).join(Jg),l=o.length;for(let u=0;u<l;u++){const f=o[u];if(f.validator(a))return f.classGroupId}},Jie=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?Xie+r:void 0})(),Zie=t=>{const{theme:e,classGroups:n}=t;return ese(n,e)},ese=(t,e)=>{const n=uq();for(const r in t){const i=t[r];xA(i,n,r,e)}return n},xA=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const o=t[s];tse(o,e,n,r)}},tse=(t,e,n,r)=>{if(typeof t=="string"){nse(t,e,n);return}if(typeof t=="function"){rse(t,e,n,r);return}ise(t,e,n,r)},nse=(t,e,n)=>{const r=t===""?e:fq(e,t);r.classGroupId=n},rse=(t,e,n,r)=>{if(sse(t)){xA(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Yie(n,t))},ise=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[a,l]=i[o];xA(l,fq(e,a),n,r)}},fq=(t,e)=>{let n=t;const r=e.split(Jg),i=r.length;for(let s=0;s<i;s++){const o=r[s];let a=n.nextPart.get(o);a||(a=uq(),n.nextPart.set(o,a)),n=a}return n},sse=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,ose=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,o)=>{n[s]=o,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let o=n[s];if(o!==void 0)return o;if((o=r[s])!==void 0)return i(s,o),o},set(s,o){s in n?n[s]=o:i(s,o)}}},pT="!",aI=":",ase=[],lI=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),lse=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,l=0,u;const f=i.length;for(let b=0;b<f;b++){const y=i[b];if(o===0&&a===0){if(y===aI){s.push(i.slice(l,b)),l=b+1;continue}if(y==="/"){u=b;continue}}y==="["?o++:y==="]"?o--:y==="("?a++:y===")"&&a--}const h=s.length===0?i:i.slice(l);let m=h,v=!1;h.endsWith(pT)?(m=h.slice(0,-1),v=!0):h.startsWith(pT)&&(m=h.slice(1),v=!0);const x=u&&u>l?u-l:void 0;return lI(s,v,m,x)};if(e){const i=e+aI,s=r;r=o=>o.startsWith(i)?s(o.slice(i.length)):lI(ase,!1,o,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},cse=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const o=n[s],a=o[0]==="[",l=e.has(o);a||l?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(o)):i.push(o)}return i.length>0&&(i.sort(),r.push(...i)),r}},use=t=>({cache:ose(t.cacheSize),parseClassName:lse(t),sortModifiers:cse(t),...Qie(t)}),dse=/\s+/,fse=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(dse);let l="";for(let u=a.length-1;u>=0;u-=1){const f=a[u],{isExternal:h,modifiers:m,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:b}=n(f);if(h){l=f+(l.length>0?" "+l:l);continue}let y=!!b,_=r(y?x.substring(0,b):x);if(!_){if(!y){l=f+(l.length>0?" "+l:l);continue}if(_=r(x),!_){l=f+(l.length>0?" "+l:l);continue}y=!1}const S=m.length===0?"":m.length===1?m[0]:s(m).join(":"),C=v?S+pT:S,E=C+_;if(o.indexOf(E)>-1)continue;o.push(E);const P=i(_,y);for(let k=0;k<P.length;++k){const j=P[k];o.push(C+j)}l=f+(l.length>0?" "+l:l)}return l},hse=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=hq(n))&&(i&&(i+=" "),i+=r);return i},hq=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=hq(t[r]))&&(n&&(n+=" "),n+=e);return n},pse=(t,...e)=>{let n,r,i,s;const o=l=>{const u=e.reduce((f,h)=>h(f),t());return n=use(u),r=n.cache.get,i=n.cache.set,s=a,a(l)},a=l=>{const u=r(l);if(u)return u;const f=fse(l,n);return i(l,f),f};return s=o,(...l)=>s(hse(...l))},mse=[],fn=t=>{const e=n=>n[t]||mse;return e.isThemeGetter=!0,e},pq=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,mq=/^\((?:(\w[\w-]*):)?(.+)\)$/i,gse=/^\d+\/\d+$/,vse=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yse=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bse=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,xse=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wse=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wc=t=>gse.test(t),Ze=t=>!!t&&!Number.isNaN(Number(t)),Po=t=>!!t&&Number.isInteger(Number(t)),Ux=t=>t.endsWith("%")&&Ze(t.slice(0,-1)),ws=t=>vse.test(t),_se=()=>!0,Sse=t=>yse.test(t)&&!bse.test(t),gq=()=>!1,Cse=t=>xse.test(t),Tse=t=>wse.test(t),Pse=t=>!Ae(t)&&!ke(t),Ese=t=>rd(t,bq,gq),Ae=t=>pq.test(t),Ia=t=>rd(t,xq,Sse),qx=t=>rd(t,Nse,Ze),cI=t=>rd(t,vq,gq),Ase=t=>rd(t,yq,Tse),$m=t=>rd(t,wq,Cse),ke=t=>mq.test(t),of=t=>id(t,xq),kse=t=>id(t,Rse),uI=t=>id(t,vq),jse=t=>id(t,bq),Ose=t=>id(t,yq),Lm=t=>id(t,wq,!0),rd=(t,e,n)=>{const r=pq.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},id=(t,e,n=!1)=>{const r=mq.exec(t);return r?r[1]?e(r[1]):n:!1},vq=t=>t==="position"||t==="percentage",yq=t=>t==="image"||t==="url",bq=t=>t==="length"||t==="size"||t==="bg-size",xq=t=>t==="length",Nse=t=>t==="number",Rse=t=>t==="family-name",wq=t=>t==="shadow",Ise=()=>{const t=fn("color"),e=fn("font"),n=fn("text"),r=fn("font-weight"),i=fn("tracking"),s=fn("leading"),o=fn("breakpoint"),a=fn("container"),l=fn("spacing"),u=fn("radius"),f=fn("shadow"),h=fn("inset-shadow"),m=fn("text-shadow"),v=fn("drop-shadow"),x=fn("blur"),b=fn("perspective"),y=fn("aspect"),_=fn("ease"),S=fn("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...E(),ke,Ae],k=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],N=()=>[ke,Ae,l],I=()=>[wc,"full","auto",...N()],L=()=>[Po,"none","subgrid",ke,Ae],M=()=>["auto",{span:["full",Po,ke,Ae]},Po,ke,Ae],F=()=>[Po,"auto",ke,Ae],U=()=>["auto","min","max","fr",ke,Ae],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],X=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...N()],J=()=>[wc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],B=()=>[t,ke,Ae],K=()=>[...E(),uI,cI,{position:[ke,Ae]}],D=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",jse,Ese,{size:[ke,Ae]}],H=()=>[Ux,of,Ia],te=()=>["","none","full",u,ke,Ae],ce=()=>["",Ze,of,Ia],ye=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[Ze,Ux,uI,cI],me=()=>["","none",x,ke,Ae],se=()=>["none",Ze,ke,Ae],fe=()=>["none",Ze,ke,Ae],ve=()=>[Ze,ke,Ae],re=()=>[wc,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ws],breakpoint:[ws],color:[_se],container:[ws],"drop-shadow":[ws],ease:["in","out","in-out"],font:[Pse],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ws],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ws],shadow:[ws],spacing:["px",Ze],text:[ws],"text-shadow":[ws],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",wc,Ae,ke,y]}],container:["container"],columns:[{columns:[Ze,Ae,ke,a]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Po,"auto",ke,Ae]}],basis:[{basis:[wc,"full","auto",a,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ze,wc,"auto","initial","none",Ae]}],grow:[{grow:["",Ze,ke,Ae]}],shrink:[{shrink:["",Ze,ke,Ae]}],order:[{order:[Po,"first","last","none",ke,Ae]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...X(),"normal"]}],"justify-self":[{"justify-self":["auto",...X()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...X(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...X(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...X(),"baseline"]}],"place-self":[{"place-self":["auto",...X()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[a,"screen",...J()]}],"min-w":[{"min-w":[a,"screen","none",...J()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",n,of,Ia]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ke,qx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ux,Ae]}],"font-family":[{font:[kse,Ae,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ke,Ae]}],"line-clamp":[{"line-clamp":[Ze,"none",ke,qx]}],leading:[{leading:[s,...N()]}],"list-image":[{"list-image":["none",ke,Ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,Ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ze,"from-font","auto",ke,Ia]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[Ze,"auto",ke,Ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:D()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Po,ke,Ae],radial:["",ke,Ae],conic:[Po,ke,Ae]},Ose,Ase]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ye(),"hidden","none"]}],"divide-style":[{divide:[...ye(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...ye(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ze,ke,Ae]}],"outline-w":[{outline:["",Ze,of,Ia]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",f,Lm,$m]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",h,Lm,$m]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[Ze,Ia]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",m,Lm,$m]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[Ze,ke,Ae]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[ke,Ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[Ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:D()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,Ae]}],filter:[{filter:["","none",ke,Ae]}],blur:[{blur:me()}],brightness:[{brightness:[Ze,ke,Ae]}],contrast:[{contrast:[Ze,ke,Ae]}],"drop-shadow":[{"drop-shadow":["","none",v,Lm,$m]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",Ze,ke,Ae]}],"hue-rotate":[{"hue-rotate":[Ze,ke,Ae]}],invert:[{invert:["",Ze,ke,Ae]}],saturate:[{saturate:[Ze,ke,Ae]}],sepia:[{sepia:["",Ze,ke,Ae]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,Ae]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[Ze,ke,Ae]}],"backdrop-contrast":[{"backdrop-contrast":[Ze,ke,Ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ze,ke,Ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ze,ke,Ae]}],"backdrop-invert":[{"backdrop-invert":["",Ze,ke,Ae]}],"backdrop-opacity":[{"backdrop-opacity":[Ze,ke,Ae]}],"backdrop-saturate":[{"backdrop-saturate":[Ze,ke,Ae]}],"backdrop-sepia":[{"backdrop-sepia":["",Ze,ke,Ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,Ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ze,"initial",ke,Ae]}],ease:[{ease:["linear","initial",_,ke,Ae]}],delay:[{delay:[Ze,ke,Ae]}],animate:[{animate:["none",S,ke,Ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,ke,Ae]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:ve()}],"skew-x":[{"skew-x":ve()}],"skew-y":[{"skew-y":ve()}],transform:[{transform:[ke,Ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:re()}],"translate-x":[{"translate-x":re()}],"translate-y":[{"translate-y":re()}],"translate-z":[{"translate-z":re()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,Ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,Ae]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[Ze,of,Ia,qx]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Mse=pse(Ise);function He(...t){return Mse(Ye(t))}const Dse=Zh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Le=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?qie:"button";return p.jsx(o,{className:He(Dse({variant:e,size:n,className:t})),ref:s,...i})});Le.displayName="Button";const $se=Zh("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Hi({className:t,variant:e,...n}){return p.jsx("div",{className:He($se({variant:e}),t),...n})}function Lse({lead:t,onStartCall:e,xpMultiplier:n=1}){if(!t)return p.jsx(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-8 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:p.jsxs("div",{className:"text-center py-12",children:[p.jsx(Tt,{className:"w-16 h-16 text-purple-500/30 mx-auto mb-4"}),p.jsx("p",{className:"text-purple-300",children:"No leads available"}),p.jsx("p",{className:"text-purple-400 text-sm mt-2",children:"Add leads to start dialing"})]})});const r=Math.floor(Math.random()*5e4)+1e4,i=["EASY","MEDIUM","HARD"][Math.floor(Math.random()*3)],s={EASY:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",MEDIUM:"bg-amber-500/20 text-amber-400 border-amber-500/30",HARD:"bg-red-500/20 text-red-400 border-red-500/30"};return p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-8 border-2 border-purple-500/30 relative overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-transparent pointer-events-none"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"flex justify-end mb-4",children:p.jsx(Hi,{className:`${s[i]} border font-semibold px-3 py-1`,children:i})}),p.jsxs("div",{className:"mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:t.name}),p.jsxs("div",{className:"flex items-center gap-2 text-purple-300 mb-3",children:[p.jsx(M6,{className:"w-4 h-4"}),p.jsx("span",{children:t.company||"No company"})]}),p.jsxs("div",{className:"flex items-center gap-2 text-purple-200",children:[p.jsx(Tt,{className:"w-4 h-4"}),p.jsx("span",{className:"font-mono text-lg",children:t.phone})]})]}),p.jsxs("div",{className:"mb-6 bg-purple-900/30 rounded-xl p-4 border border-purple-500/20",children:[p.jsx("div",{className:"text-purple-400 text-sm mb-1",children:"Deal Value:"}),p.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 text-2xl font-bold",children:[p.jsx(vu,{className:"w-5 h-5"}),r.toLocaleString()]})]}),p.jsxs(Le,{onClick:e,className:"w-full h-14 bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-lg font-semibold rounded-2xl shadow-xl shadow-emerald-500/30 transition-all hover:scale-105",children:[p.jsx(Tt,{className:"w-5 h-5 mr-2"}),"Start Call"]}),n>1&&p.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-amber-400",children:[p.jsx(by,{className:"w-4 h-4 fill-amber-400"}),p.jsxs("span",{className:"text-sm font-semibold",children:["XP Multiplier: ",n,"x"]})]})]})]})}function Fse({stats:t}){const e=(t==null?void 0:t.calls_today)||0,n=(t==null?void 0:t.appointments_today)||0,r=e>0?(n/e*100).toFixed(1):0,i=[{label:"Total Calls",value:e,icon:Tt,color:"text-blue-400",bgColor:"bg-blue-500/10"},{label:"Appointments",value:n,icon:Gh,color:"text-emerald-400",bgColor:"bg-emerald-500/10"},{label:"Conversion Rate",value:`${r}%`,icon:Vs,color:"text-purple-400",bgColor:"bg-purple-500/10"},{label:"Pipeline Value",value:`$${(n*35e3).toLocaleString()}`,icon:vu,color:"text-amber-400",bgColor:"bg-amber-500/10"}];return p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[p.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[p.jsx(Vs,{className:"w-5 h-5 text-purple-400"}),p.jsx("h3",{className:"text-lg font-bold text-white",children:"Session Stats"})]}),p.jsx("div",{className:"space-y-4",children:i.map((s,o)=>{const a=s.icon;return p.jsxs(pe.div,{className:"flex items-center justify-between p-4 bg-[#1a0f2e] rounded-2xl border border-purple-500/10",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:o*.1},children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`w-10 h-10 ${s.bgColor} rounded-xl flex items-center justify-center`,children:p.jsx(a,{className:`w-5 h-5 ${s.color}`})}),p.jsx("span",{className:"text-purple-300 text-sm",children:s.label})]}),p.jsx("span",{className:"text-2xl font-bold text-white",children:s.value})]},s.label)})})]})}function Bse({level:t=1,currentXP:e=0,nextLevelXP:n=500}){const r=e/n*100;return p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("span",{className:"text-purple-300 font-semibold",children:["Level ",t]}),p.jsxs("span",{className:"text-purple-400 text-sm",children:[e," / ",n," XP"]})]}),p.jsx("div",{className:"w-full h-3 bg-[#1a0f2e] rounded-full overflow-hidden",children:p.jsx(pe.div,{className:"h-full bg-gradient-to-r from-purple-500 via-indigo-500 to-purple-600 rounded-full shadow-lg shadow-purple-500/50",initial:{width:0},animate:{width:`${r}%`},transition:{duration:1,ease:"easeOut"}})})]})}const wA=T.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:He("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));wA.displayName="Textarea";const _q=T.createContext(),Fm={regular:{name:"Regular",background:"from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e]",cardBg:"bg-[#2d1f4a]/50",primaryGlow:"bg-purple-600/20",secondaryGlow:"bg-indigo-600/20",accentColor:"indigo",textPrimary:"text-white",textSecondary:"text-purple-300",borderColor:"border-purple-500/20",buttonGradient:"from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700"},dark:{name:"Dark",background:"from-[#0a0a0a] via-[#1a1a1a] to-[#0a0a0a]",cardBg:"bg-[#1a1a1a]/50",primaryGlow:"bg-slate-600/20",secondaryGlow:"bg-zinc-600/20",accentColor:"slate",textPrimary:"text-white",textSecondary:"text-slate-400",borderColor:"border-slate-500/20",buttonGradient:"from-slate-700 to-zinc-800 hover:from-slate-800 hover:to-zinc-900"},christmas:{name:"Christmas",background:"from-[#0d1f15] via-[#1a2e1f] to-[#0d1f15]",cardBg:"bg-gradient-to-br from-red-900/20 via-green-900/20 to-red-900/20 backdrop-blur-sm",primaryGlow:"bg-red-600/30",secondaryGlow:"bg-green-600/30",accentColor:"red",textPrimary:"text-white",textSecondary:"text-green-200",borderColor:"border-red-500/30",buttonGradient:"from-red-600 to-green-600 hover:from-red-700 hover:to-green-700"}};function Use({children:t}){const[e,n]=T.useState("regular"),[r,i]=T.useState("demo@example.com");T.useEffect(()=>{(async()=>{const{data:l}=await Se.from("dialer_settings").select("theme").eq("user_email",r).maybeSingle();l!=null&&l.theme&&Fm[l.theme]&&n(l.theme)})()},[r]);const s=async a=>{Fm[a]&&(n(a),await Se.from("dialer_settings").upsert({user_email:r,theme:a,updated_at:new Date().toISOString()},{onConflict:"user_email"}))},o={currentTheme:e,theme:Fm[e],changeTheme:s,themes:Fm};return p.jsx(_q.Provider,{value:o,children:t})}function _A(){const t=T.useContext(_q);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}var Bm={exports:{}},dI;function qse(){if(dI)return Bm.exports;dI=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(P,k,j){return Function.prototype.apply.call(P,k,j)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:n=function(P){return Object.getOwnPropertyNames(P)};function r(E){console&&console.warn&&console.warn(E)}var i=Number.isNaN||function(P){return P!==P};function s(){s.init.call(this)}Bm.exports=s,Bm.exports.once=_,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(E){if(typeof E!="number"||E<0||i(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");o=E}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||i(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function l(E){return E._maxListeners===void 0?s.defaultMaxListeners:E._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(P){for(var k=[],j=1;j<arguments.length;j++)k.push(arguments[j]);var N=P==="error",I=this._events;if(I!==void 0)N=N&&I.error===void 0;else if(!N)return!1;if(N){var L;if(k.length>0&&(L=k[0]),L instanceof Error)throw L;var M=new Error("Unhandled error."+(L?" ("+L.message+")":""));throw M.context=L,M}var F=I[P];if(F===void 0)return!1;if(typeof F=="function")e(F,this,k);else for(var U=F.length,Y=x(F,U),j=0;j<U;++j)e(Y[j],this,k);return!0};function u(E,P,k,j){var N,I,L;if(a(k),I=E._events,I===void 0?(I=E._events=Object.create(null),E._eventsCount=0):(I.newListener!==void 0&&(E.emit("newListener",P,k.listener?k.listener:k),I=E._events),L=I[P]),L===void 0)L=I[P]=k,++E._eventsCount;else if(typeof L=="function"?L=I[P]=j?[k,L]:[L,k]:j?L.unshift(k):L.push(k),N=l(E),N>0&&L.length>N&&!L.warned){L.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+L.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=E,M.type=P,M.count=L.length,r(M)}return E}s.prototype.addListener=function(P,k){return u(this,P,k,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(P,k){return u(this,P,k,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(E,P,k){var j={fired:!1,wrapFn:void 0,target:E,type:P,listener:k},N=f.bind(j);return N.listener=k,j.wrapFn=N,N}s.prototype.once=function(P,k){return a(k),this.on(P,h(this,P,k)),this},s.prototype.prependOnceListener=function(P,k){return a(k),this.prependListener(P,h(this,P,k)),this},s.prototype.removeListener=function(P,k){var j,N,I,L,M;if(a(k),N=this._events,N===void 0)return this;if(j=N[P],j===void 0)return this;if(j===k||j.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete N[P],N.removeListener&&this.emit("removeListener",P,j.listener||k));else if(typeof j!="function"){for(I=-1,L=j.length-1;L>=0;L--)if(j[L]===k||j[L].listener===k){M=j[L].listener,I=L;break}if(I<0)return this;I===0?j.shift():b(j,I),j.length===1&&(N[P]=j[0]),N.removeListener!==void 0&&this.emit("removeListener",P,M||k)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(P){var k,j,N;if(j=this._events,j===void 0)return this;if(j.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):j[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete j[P]),this;if(arguments.length===0){var I=Object.keys(j),L;for(N=0;N<I.length;++N)L=I[N],L!=="removeListener"&&this.removeAllListeners(L);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=j[P],typeof k=="function")this.removeListener(P,k);else if(k!==void 0)for(N=k.length-1;N>=0;N--)this.removeListener(P,k[N]);return this};function m(E,P,k){var j=E._events;if(j===void 0)return[];var N=j[P];return N===void 0?[]:typeof N=="function"?k?[N.listener||N]:[N]:k?y(N):x(N,N.length)}s.prototype.listeners=function(P){return m(this,P,!0)},s.prototype.rawListeners=function(P){return m(this,P,!1)},s.listenerCount=function(E,P){return typeof E.listenerCount=="function"?E.listenerCount(P):v.call(E,P)},s.prototype.listenerCount=v;function v(E){var P=this._events;if(P!==void 0){var k=P[E];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function x(E,P){for(var k=new Array(P),j=0;j<P;++j)k[j]=E[j];return k}function b(E,P){for(;P+1<E.length;P++)E[P]=E[P+1];E.pop()}function y(E){for(var P=new Array(E.length),k=0;k<P.length;++k)P[k]=E[k].listener||E[k];return P}function _(E,P){return new Promise(function(k,j){function N(L){E.removeListener(P,I),j(L)}function I(){typeof E.removeListener=="function"&&E.removeListener("error",N),k([].slice.call(arguments))}C(E,P,I,{once:!0}),P!=="error"&&S(E,N,{once:!0})})}function S(E,P,k){typeof E.on=="function"&&C(E,"error",P,k)}function C(E,P,k,j){if(typeof E.on=="function")j.once?E.once(P,k):E.on(P,k);else if(typeof E.addEventListener=="function")E.addEventListener(P,function N(I){j.once&&E.removeEventListener(P,N),k(I)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof E)}return Bm.exports}var si=qse();class mT extends si.EventEmitter{constructor(e){super(),Object.defineProperties(this,{_attempts:{value:0,writable:!0},_duration:{enumerable:!1,get(){let n=this._min*Math.pow(this._factor,this._attempts);if(this._jitter){const r=Math.random(),i=Math.floor(r*this._jitter*n);n=(Math.floor(r*10)&1)===0?n-i:n+i}return Math.min(n,this._max)|0}},_factor:{value:e.factor||2},_jitter:{value:e.jitter>0&&e.jitter<=1?e.jitter:0},_max:{value:e.max||1e4},_min:{value:e.min||100},_timeoutID:{value:null,writable:!0}})}backoff(){const e=this._duration;this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null),this.emit("backoff",this._attempts,e),this._timeoutID=setTimeout(()=>{this.emit("ready",this._attempts,e),this._attempts++},e)}reset(){this._attempts=0,this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}var xg={exports:{}},Vse=xg.exports,fI;function Wse(){return fI||(fI=1,(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(Vse,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],s={},o=null;function a(b,y){var _=b[y];if(typeof _.bind=="function")return _.bind(b);try{return Function.prototype.bind.call(_,b)}catch{return function(){return Function.prototype.apply.apply(_,[b,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(b){return b==="debug"&&(b="log"),typeof console===n?!1:b==="trace"&&r?l:console[b]!==void 0?a(console,b):console.log!==void 0?a(console,"log"):e}function f(){for(var b=this.getLevel(),y=0;y<i.length;y++){var _=i[y];this[_]=y<b?e:this.methodFactory(_,b,this.name)}if(this.log=this.debug,typeof console===n&&b<this.levels.SILENT)return"No console available for logging"}function h(b){return function(){typeof console!==n&&(f.call(this),this[b].apply(this,arguments))}}function m(b,y,_){return u(b)||h.apply(this,arguments)}function v(b,y){var _=this,S,C,E,P="loglevel";typeof b=="string"?P+=":"+b:typeof b=="symbol"&&(P=void 0);function k(M){var F=(i[M]||"silent").toUpperCase();if(!(typeof window===n||!P)){try{window.localStorage[P]=F;return}catch{}try{window.document.cookie=encodeURIComponent(P)+"="+F+";"}catch{}}}function j(){var M;if(!(typeof window===n||!P)){try{M=window.localStorage[P]}catch{}if(typeof M===n)try{var F=window.document.cookie,U=encodeURIComponent(P),Y=F.indexOf(U+"=");Y!==-1&&(M=/^([^;]+)/.exec(F.slice(Y+U.length+1))[1])}catch{}return _.levels[M]===void 0&&(M=void 0),M}}function N(){if(!(typeof window===n||!P)){try{window.localStorage.removeItem(P)}catch{}try{window.document.cookie=encodeURIComponent(P)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function I(M){var F=M;if(typeof F=="string"&&_.levels[F.toUpperCase()]!==void 0&&(F=_.levels[F.toUpperCase()]),typeof F=="number"&&F>=0&&F<=_.levels.SILENT)return F;throw new TypeError("log.setLevel() called with invalid level: "+M)}_.name=b,_.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},_.methodFactory=y||m,_.getLevel=function(){return E??C??S},_.setLevel=function(M,F){return E=I(M),F!==!1&&k(E),f.call(_)},_.setDefaultLevel=function(M){C=I(M),j()||_.setLevel(M,!1)},_.resetLevel=function(){E=null,N(),f.call(_)},_.enableAll=function(M){_.setLevel(_.levels.TRACE,M)},_.disableAll=function(M){_.setLevel(_.levels.SILENT,M)},_.rebuild=function(){if(o!==_&&(S=I(o.getLevel())),f.call(_),o===_)for(var M in s)s[M].rebuild()},S=I(o?o.getLevel():"WARN");var L=j();L!=null&&(E=I(L)),f.call(_)}o=new v,o.getLogger=function(y){if(typeof y!="symbol"&&typeof y!="string"||y==="")throw new TypeError("You must supply a name when creating a logger.");var _=s[y];return _||(_=s[y]=new v(y,o.methodFactory)),_};var x=typeof window!==n?window.log:void 0;return o.noConflict=function(){return typeof window!==n&&window.log===o&&(window.log=x),o},o.getLoggers=function(){return s},o.default=o,o})})(xg)),xg.exports}var Qf=Wse();const zse=at(Qf),Hse=hE({__proto__:null,default:zse},[Qf]);class Qe extends Error{constructor(e,n){super(),Object.setPrototypeOf(this,Qe.prototype);const r=typeof e=="string"?e:this.explanation,i=typeof e=="object"?e:n;this.message=`${this.name} (${this.code}): ${r}`,this.originalError=i}}var gn;(function(t){class e extends Qe{constructor(s,o){super(s,o),this.causes=[],this.code=20101,this.description="Invalid access token",this.explanation="Twilio was unable to validate your Access Token",this.name="AccessTokenInvalid",this.solutions=[],Object.setPrototypeOf(this,t.AccessTokenInvalid.prototype);const a=typeof s=="string"?s:this.explanation,l=typeof s=="object"?s:o;this.message=`${this.name} (${this.code}): ${a}`,this.originalError=l}}t.AccessTokenInvalid=e;class n extends Qe{constructor(s,o){super(s,o),this.causes=[],this.code=20104,this.description="Access token expired or expiration date invalid",this.explanation="The Access Token provided to the Twilio API has expired, the expiration time specified in the token was invalid, or the expiration time specified was too far in the future",this.name="AccessTokenExpired",this.solutions=[],Object.setPrototypeOf(this,t.AccessTokenExpired.prototype);const a=typeof s=="string"?s:this.explanation,l=typeof s=="object"?s:o;this.message=`${this.name} (${this.code}): ${a}`,this.originalError=l}}t.AccessTokenExpired=n;class r extends Qe{constructor(s,o){super(s,o),this.causes=[],this.code=20151,this.description="Authentication Failed",this.explanation="The Authentication with the provided JWT failed",this.name="AuthenticationFailed",this.solutions=[],Object.setPrototypeOf(this,t.AuthenticationFailed.prototype);const a=typeof s=="string"?s:this.explanation,l=typeof s=="object"?s:o;this.message=`${this.name} (${this.code}): ${a}`,this.originalError=l}}t.AuthenticationFailed=r})(gn||(gn={}));var gT;(function(t){class e extends Qe{constructor(r,i){super(r,i),this.causes=["The access token has an invalid Account SID, API Key, or API Key Secret."],this.code=31202,this.description="Signature validation failed.",this.explanation="The provided access token failed signature validation.",this.name="AccessTokenSignatureValidationFailed",this.solutions=["Ensure the Account SID, API Key, and API Key Secret are valid when generating your access token."],Object.setPrototypeOf(this,t.AccessTokenSignatureValidationFailed.prototype);const s=typeof r=="string"?r:this.explanation,o=typeof r=="object"?r:i;this.message=`${this.name} (${this.code}): ${s}`,this.originalError=o}}t.AccessTokenSignatureValidationFailed=e})(gT||(gT={}));var Za;(function(t){class e extends Qe{constructor(o,a){super(o,a),this.causes=[],this.code=31400,this.description="Bad Request (HTTP/SIP)",this.explanation="The request could not be understood due to malformed syntax.",this.name="BadRequest",this.solutions=[],Object.setPrototypeOf(this,t.BadRequest.prototype);const l=typeof o=="string"?o:this.explanation,u=typeof o=="object"?o:a;this.message=`${this.name} (${this.code}): ${l}`,this.originalError=u}}t.BadRequest=e;class n extends Qe{constructor(o,a){super(o,a),this.causes=["The outbound call was made to an invalid phone number.","The TwiML application sid is missing a Voice URL."],this.code=31404,this.description="Not Found (HTTP/SIP)",this.explanation="The server has not found anything matching the request.",this.name="NotFound",this.solutions=["Ensure the phone number dialed is valid.","Ensure the TwiML application is configured correctly with a Voice URL link."],Object.setPrototypeOf(this,t.NotFound.prototype);const l=typeof o=="string"?o:this.explanation,u=typeof o=="object"?o:a;this.message=`${this.name} (${this.code}): ${l}`,this.originalError=u}}t.NotFound=n;class r extends Qe{constructor(o,a){super(o,a),this.causes=[],this.code=31480,this.description="Temporarily Unavailable (SIP)",this.explanation="The callee is currently unavailable.",this.name="TemporarilyUnavailable",this.solutions=[],Object.setPrototypeOf(this,t.TemporarilyUnavailable.prototype);const l=typeof o=="string"?o:this.explanation,u=typeof o=="object"?o:a;this.message=`${this.name} (${this.code}): ${l}`,this.originalError=u}}t.TemporarilyUnavailable=r;class i extends Qe{constructor(o,a){super(o,a),this.causes=[],this.code=31486,this.description="Busy Here (SIP)",this.explanation="The callee is busy.",this.name="BusyHere",this.solutions=[],Object.setPrototypeOf(this,t.BusyHere.prototype);const l=typeof o=="string"?o:this.explanation,u=typeof o=="object"?o:a;this.message=`${this.name} (${this.code}): ${l}`,this.originalError=u}}t.BusyHere=i})(Za||(Za={}));var vT;(function(t){class e extends Qe{constructor(r,i){super(r,i),this.causes=[],this.code=31603,this.description="Decline (SIP)",this.explanation="The callee does not wish to participate in the call.",this.name="Decline",this.solutions=[],Object.setPrototypeOf(this,t.Decline.prototype);const s=typeof r=="string"?r:this.explanation,o=typeof r=="object"?r:i;this.message=`${this.name} (${this.code}): ${s}`,this.originalError=o}}t.Decline=e})(vT||(vT={}));var zn;(function(t){class e extends Qe{constructor(u,f){super(u,f),this.causes=[],this.code=31e3,this.description="Unknown Error",this.explanation="An unknown error has occurred. See error details for more information.",this.name="UnknownError",this.solutions=[],Object.setPrototypeOf(this,t.UnknownError.prototype);const h=typeof u=="string"?u:this.explanation,m=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=m}}t.UnknownError=e;class n extends Qe{constructor(u,f){super(u,f),this.causes=[],this.code=31001,this.description="Application Not Found",this.explanation="",this.name="ApplicationNotFoundError",this.solutions=[],Object.setPrototypeOf(this,t.ApplicationNotFoundError.prototype);const h=typeof u=="string"?u:this.explanation,m=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=m}}t.ApplicationNotFoundError=n;class r extends Qe{constructor(u,f){super(u,f),this.causes=[],this.code=31002,this.description="Connection Declined",this.explanation="",this.name="ConnectionDeclinedError",this.solutions=[],Object.setPrototypeOf(this,t.ConnectionDeclinedError.prototype);const h=typeof u=="string"?u:this.explanation,m=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=m}}t.ConnectionDeclinedError=r;class i extends Qe{constructor(u,f){super(u,f),this.causes=[],this.code=31003,this.description="Connection Timeout",this.explanation="The server could not produce a response within a suitable amount of time.",this.name="ConnectionTimeoutError",this.solutions=[],Object.setPrototypeOf(this,t.ConnectionTimeoutError.prototype);const h=typeof u=="string"?u:this.explanation,m=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=m}}t.ConnectionTimeoutError=i;class s extends Qe{constructor(u,f){super(u,f),this.causes=[],this.code=31005,this.description="Connection error",this.explanation="A connection error occurred during the call",this.name="ConnectionError",this.solutions=[],Object.setPrototypeOf(this,t.ConnectionError.prototype);const h=typeof u=="string"?u:this.explanation,m=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=m}}t.ConnectionError=s;class o extends Qe{constructor(u,f){super(u,f),this.causes=["The incoming call was cancelled because it was not answered in time or it was accepted/rejected by another application instance registered with the same identity."],this.code=31008,this.description="Call cancelled",this.explanation="Unable to answer because the call has ended",this.name="CallCancelledError",this.solutions=[],Object.setPrototypeOf(this,t.CallCancelledError.prototype);const h=typeof u=="string"?u:this.explanation,m=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=m}}t.CallCancelledError=o;class a extends Qe{constructor(u,f){super(u,f),this.causes=[],this.code=31009,this.description="Transport error",this.explanation="No transport available to send or receive messages",this.name="TransportError",this.solutions=[],Object.setPrototypeOf(this,t.TransportError.prototype);const h=typeof u=="string"?u:this.explanation,m=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=m}}t.TransportError=a})(zn||(zn={}));var Ts;(function(t){class e extends Qe{constructor(u,f){super(u,f),this.causes=["Invalid content or MessageType passed to sendMessage method."],this.code=31100,this.description="The request had malformed syntax.",this.explanation="The request could not be understood due to malformed syntax.",this.name="MalformedRequestError",this.solutions=["Ensure content and MessageType passed to sendMessage method are valid."],Object.setPrototypeOf(this,t.MalformedRequestError.prototype);const h=typeof u=="string"?u:this.explanation,m=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=m}}t.MalformedRequestError=e;class n extends Qe{constructor(u,f){super(u,f),this.causes=[],this.code=31101,this.description="Missing parameter array in request",this.explanation="",this.name="MissingParameterArrayError",this.solutions=[],Object.setPrototypeOf(this,t.MissingParameterArrayError.prototype);const h=typeof u=="string"?u:this.explanation,m=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=m}}t.MissingParameterArrayError=n;class r extends Qe{constructor(u,f){super(u,f),this.causes=[],this.code=31102,this.description="Authorization token missing in request.",this.explanation="",this.name="AuthorizationTokenMissingError",this.solutions=[],Object.setPrototypeOf(this,t.AuthorizationTokenMissingError.prototype);const h=typeof u=="string"?u:this.explanation,m=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=m}}t.AuthorizationTokenMissingError=r;class i extends Qe{constructor(u,f){super(u,f),this.causes=[],this.code=31103,this.description="Maximum parameter length has been exceeded.",this.explanation="Length of parameters cannot exceed MAX_PARAM_LENGTH.",this.name="MaxParameterLengthExceededError",this.solutions=[],Object.setPrototypeOf(this,t.MaxParameterLengthExceededError.prototype);const h=typeof u=="string"?u:this.explanation,m=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=m}}t.MaxParameterLengthExceededError=i;class s extends Qe{constructor(u,f){super(u,f),this.causes=[],this.code=31104,this.description="Invalid bridge token",this.explanation="",this.name="InvalidBridgeTokenError",this.solutions=[],Object.setPrototypeOf(this,t.InvalidBridgeTokenError.prototype);const h=typeof u=="string"?u:this.explanation,m=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=m}}t.InvalidBridgeTokenError=s;class o extends Qe{constructor(u,f){super(u,f),this.causes=["Client name contains invalid characters."],this.code=31105,this.description="Invalid client name",this.explanation="Client name should not contain control, space, delims, or unwise characters.",this.name="InvalidClientNameError",this.solutions=["Make sure that client name does not contain any of the invalid characters."],Object.setPrototypeOf(this,t.InvalidClientNameError.prototype);const h=typeof u=="string"?u:this.explanation,m=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=m}}t.InvalidClientNameError=o;class a extends Qe{constructor(u,f){super(u,f),this.causes=[],this.code=31107,this.description="The reconnect parameter is invalid",this.explanation="",this.name="ReconnectParameterInvalidError",this.solutions=[],Object.setPrototypeOf(this,t.ReconnectParameterInvalidError.prototype);const h=typeof u=="string"?u:this.explanation,m=typeof u=="object"?u:f;this.message=`${this.name} (${this.code}): ${h}`,this.originalError=m}}t.ReconnectParameterInvalidError=a})(Ts||(Ts={}));(function(t){class e extends Qe{constructor(h,m){super(h,m),this.causes=[],this.code=31201,this.description="Authorization error",this.explanation="The request requires user authentication. The server understood the request, but is refusing to fulfill it.",this.name="AuthorizationError",this.solutions=[],Object.setPrototypeOf(this,t.AuthorizationError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:m;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.AuthorizationError=e;class n extends Qe{constructor(h,m){super(h,m),this.causes=[],this.code=31203,this.description="No valid account",this.explanation="",this.name="NoValidAccountError",this.solutions=[],Object.setPrototypeOf(this,t.NoValidAccountError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:m;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.NoValidAccountError=n;class r extends Qe{constructor(h,m){super(h,m),this.causes=[],this.code=31204,this.description="Invalid JWT token",this.explanation="",this.name="InvalidJWTTokenError",this.solutions=[],Object.setPrototypeOf(this,t.InvalidJWTTokenError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:m;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.InvalidJWTTokenError=r;class i extends Qe{constructor(h,m){super(h,m),this.causes=[],this.code=31205,this.description="JWT token expired",this.explanation="",this.name="JWTTokenExpiredError",this.solutions=[],Object.setPrototypeOf(this,t.JWTTokenExpiredError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:m;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.JWTTokenExpiredError=i;class s extends Qe{constructor(h,m){super(h,m),this.causes=["Rate limit exceeded."],this.code=31206,this.description="Rate exceeded authorized limit.",this.explanation="The request performed exceeds the authorized limit.",this.name="RateExceededError",this.solutions=["Ensure message send rate does not exceed authorized limits."],Object.setPrototypeOf(this,t.RateExceededError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:m;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.RateExceededError=s;class o extends Qe{constructor(h,m){super(h,m),this.causes=[],this.code=31207,this.description="JWT token expiration too long",this.explanation="",this.name="JWTTokenExpirationTooLongError",this.solutions=[],Object.setPrototypeOf(this,t.JWTTokenExpirationTooLongError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:m;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.JWTTokenExpirationTooLongError=o;class a extends Qe{constructor(h,m){super(h,m),this.causes=[],this.code=31209,this.description="Reconnect attempt is not authorized.",this.explanation="",this.name="ReconnectAttemptError",this.solutions=[],Object.setPrototypeOf(this,t.ReconnectAttemptError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:m;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.ReconnectAttemptError=a;class l extends Qe{constructor(h,m){super(h,m),this.causes=["The Call Message Event Type is invalid and is not understood by Twilio Voice."],this.code=31210,this.description="Call Message Event Type is invalid.",this.explanation="The Call Message Event Type is invalid and is not understood by Twilio Voice.",this.name="CallMessageEventTypeInvalidError",this.solutions=["Ensure the Call Message Event Type is Valid and understood by Twilio Voice and try again."],Object.setPrototypeOf(this,t.CallMessageEventTypeInvalidError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:m;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.CallMessageEventTypeInvalidError=l;class u extends Qe{constructor(h,m){super(h,m),this.causes=["The payload size of Call Message Event exceeds the authorized limit."],this.code=31212,this.description="Call Message Event Payload size exceeded authorized limit.",this.explanation="The request performed to send a Call Message Event exceeds the payload size authorized limit",this.name="PayloadSizeExceededError",this.solutions=["Reduce payload size of Call Message Event to be within the authorized limit and try again."],Object.setPrototypeOf(this,t.PayloadSizeExceededError.prototype);const v=typeof h=="string"?h:this.explanation,x=typeof h=="object"?h:m;this.message=`${this.name} (${this.code}): ${v}`,this.originalError=x}}t.PayloadSizeExceededError=u})(gn||(gn={}));var xu;(function(t){class e extends Qe{constructor(i,s){super(i,s),this.causes=["The user denied the getUserMedia request.","The browser denied the getUserMedia request."],this.code=31401,this.description="UserMedia Permission Denied Error",this.explanation="The browser or end-user denied permissions to user media. Therefore we were unable to acquire input audio.",this.name="PermissionDeniedError",this.solutions=["The user should accept the request next time prompted. If the browser saved the deny, the user should change that permission in their browser.","The user should to verify that the browser has permission to access the microphone at this address."],Object.setPrototypeOf(this,t.PermissionDeniedError.prototype);const o=typeof i=="string"?i:this.explanation,a=typeof i=="object"?i:s;this.message=`${this.name} (${this.code}): ${o}`,this.originalError=a}}t.PermissionDeniedError=e;class n extends Qe{constructor(i,s){super(i,s),this.causes=["NotFoundError - The deviceID specified was not found.","The getUserMedia constraints were overconstrained and no devices matched."],this.code=31402,this.description="UserMedia Acquisition Failed Error",this.explanation="The browser and end-user allowed permissions, however getting the media failed. Usually this is due to bad constraints, but can sometimes fail due to browser, OS or hardware issues.",this.name="AcquisitionFailedError",this.solutions=["Ensure the deviceID being specified exists.","Try acquiring media with fewer constraints."],Object.setPrototypeOf(this,t.AcquisitionFailedError.prototype);const o=typeof i=="string"?i:this.explanation,a=typeof i=="object"?i:s;this.message=`${this.name} (${this.code}): ${o}`,this.originalError=a}}t.AcquisitionFailedError=n})(xu||(xu={}));var ri;(function(t){class e extends Qe{constructor(i,s){super(i,s),this.causes=[],this.code=53e3,this.description="Signaling connection error",this.explanation="Raised whenever a signaling connection error occurs that is not covered by a more specific error code.",this.name="ConnectionError",this.solutions=[],Object.setPrototypeOf(this,t.ConnectionError.prototype);const o=typeof i=="string"?i:this.explanation,a=typeof i=="object"?i:s;this.message=`${this.name} (${this.code}): ${o}`,this.originalError=a}}t.ConnectionError=e;class n extends Qe{constructor(i,s){super(i,s),this.causes=["The device running your application lost its Internet connection."],this.code=53001,this.description="Signaling connection disconnected",this.explanation="Raised whenever the signaling connection is unexpectedly disconnected.",this.name="ConnectionDisconnected",this.solutions=["Ensure the device running your application has access to a stable Internet connection."],Object.setPrototypeOf(this,t.ConnectionDisconnected.prototype);const o=typeof i=="string"?i:this.explanation,a=typeof i=="object"?i:s;this.message=`${this.name} (${this.code}): ${o}`,this.originalError=a}}t.ConnectionDisconnected=n})(ri||(ri={}));var Ji;(function(t){class e extends Qe{constructor(s,o){super(s,o),this.causes=["The Client may not be using a supported WebRTC implementation.","The Client may not have the necessary resources to create or apply a new media description."],this.code=53400,this.description="Client is unable to create or apply a local media description",this.explanation="Raised whenever a Client is unable to create or apply a local media description.",this.name="ClientLocalDescFailed",this.solutions=["If you are experiencing this error using the JavaScript SDK, ensure you are running it with a supported WebRTC implementation."],Object.setPrototypeOf(this,t.ClientLocalDescFailed.prototype);const a=typeof s=="string"?s:this.explanation,l=typeof s=="object"?s:o;this.message=`${this.name} (${this.code}): ${a}`,this.originalError=l}}t.ClientLocalDescFailed=e;class n extends Qe{constructor(s,o){super(s,o),this.causes=["The Client may not be using a supported WebRTC implementation.","The Client may be connecting peer-to-peer with another Participant that is not using a supported WebRTC implementation.","The Client may not have the necessary resources to apply a new media description."],this.code=53402,this.description="Client is unable to apply a remote media description",this.explanation="Raised whenever the Client receives a remote media description but is unable to apply it.",this.name="ClientRemoteDescFailed",this.solutions=["If you are experiencing this error using the JavaScript SDK, ensure you are running it with a supported WebRTC implementation."],Object.setPrototypeOf(this,t.ClientRemoteDescFailed.prototype);const a=typeof s=="string"?s:this.explanation,l=typeof s=="object"?s:o;this.message=`${this.name} (${this.code}): ${a}`,this.originalError=l}}t.ClientRemoteDescFailed=n;class r extends Qe{constructor(s,o){super(s,o),this.causes=["The Client was unable to establish a media connection.","A media connection which was active failed liveliness checks."],this.code=53405,this.description="Media connection failed",this.explanation="Raised by the Client or Server whenever a media connection fails.",this.name="ConnectionError",this.solutions=["If the problem persists, try connecting to another region.","Check your Client's network connectivity.","If you've provided custom ICE Servers then ensure that the URLs and credentials are valid."],Object.setPrototypeOf(this,t.ConnectionError.prototype);const a=typeof s=="string"?s:this.explanation,l=typeof s=="object"?s:o;this.message=`${this.name} (${this.code}): ${a}`,this.originalError=l}}t.ConnectionError=r})(Ji||(Ji={}));const SA=new Map([[20101,gn.AccessTokenInvalid],[20104,gn.AccessTokenExpired],[20151,gn.AuthenticationFailed],[31202,gT.AccessTokenSignatureValidationFailed],[31400,Za.BadRequest],[31404,Za.NotFound],[31480,Za.TemporarilyUnavailable],[31486,Za.BusyHere],[31603,vT.Decline],[31e3,zn.UnknownError],[31001,zn.ApplicationNotFoundError],[31002,zn.ConnectionDeclinedError],[31003,zn.ConnectionTimeoutError],[31005,zn.ConnectionError],[31008,zn.CallCancelledError],[31009,zn.TransportError],[31100,Ts.MalformedRequestError],[31101,Ts.MissingParameterArrayError],[31102,Ts.AuthorizationTokenMissingError],[31103,Ts.MaxParameterLengthExceededError],[31104,Ts.InvalidBridgeTokenError],[31105,Ts.InvalidClientNameError],[31107,Ts.ReconnectParameterInvalidError],[31201,gn.AuthorizationError],[31203,gn.NoValidAccountError],[31204,gn.InvalidJWTTokenError],[31205,gn.JWTTokenExpiredError],[31206,gn.RateExceededError],[31207,gn.JWTTokenExpirationTooLongError],[31209,gn.ReconnectAttemptError],[31210,gn.CallMessageEventTypeInvalidError],[31212,gn.PayloadSizeExceededError],[31401,xu.PermissionDeniedError],[31402,xu.AcquisitionFailedError],[53e3,ri.ConnectionError],[53001,ri.ConnectionDisconnected],[53400,Ji.ClientLocalDescFailed],[53402,Ji.ClientRemoteDescFailed],[53405,Ji.ConnectionError]]);Object.freeze(SA);const Gse=new Set([31001,31002,31003,31101,31102,31103,31104,31105,31107,31201,31202,31203,31204,31205,31207,31404,31480,31486,31603]);function yT(t,e){if(!(typeof e!="number"||!Yse(e)||!(t||!Gse.has(e))))return Kse(e)}class vt extends Error{constructor(e){super(e),this.name="InvalidArgumentError"}}class wi extends Error{constructor(e){super(e),this.name="InvalidStateError"}}class kn extends Error{constructor(e){super(e),this.name="NotSupportedError"}}function Kse(t){const e=SA.get(t);if(!e)throw new vt(`Error code ${t} not found`);return e}function Yse(t){return SA.has(t)}const Sq="@twilio/voice-sdk",Kc="2.17.0",CA="https://sdk.twilio.com/js/client/sounds/releases/1.0.0",Xse=`${CA}/cowbell.mp3?cache=${Kc}`,Qse=2e4;class bn{static getLogLevelInstance(e){if(!bn.loglevelInstance)try{bn.loglevelInstance=(e&&e.LogLevelModule?e.LogLevelModule:Hse).getLogger(Sq)}catch{console.warn("Cannot create custom logger"),bn.loglevelInstance=console}return bn.loglevelInstance}constructor(e,n){this._log=bn.getLogLevelInstance(n),this._prefix=`[TwilioVoice][${e}]`}debug(...e){this._log.debug(this._prefix,...e)}error(...e){this._log.error(this._prefix,...e)}info(...e){this._log.info(this._prefix,...e)}setDefaultLevel(e){this._log.setDefaultLevel?this._log.setDefaultLevel(e):console.warn("Logger cannot setDefaultLevel")}warn(...e){this._log.warn(this._prefix,...e)}}bn.levels=Qf.levels;bn.getLogLevelInstance();const Jse=`${CA}/outgoing.mp3`;class hI{constructor(e,n,r,i){this._name=e,this._availableDevices=n,this._beforeChange=r,this._isSupported=i,this._activeDevices=new Set,this._log=new bn("OutputDeviceCollection")}delete(e){this._log.debug(".delete",e);const n=!!this._activeDevices.delete(e),r=this._availableDevices.get("default")||Array.from(this._availableDevices.values())[0];!this._activeDevices.size&&r&&this._activeDevices.add(r);const i=Array.from(this._activeDevices.values()).map(s=>s.deviceId);return this._beforeChange(this._name,i),!!n}get(){return this._activeDevices}set(e){if(this._log.debug(".set",e),!this._isSupported)return Promise.reject(new kn("This browser does not support audio output selection"));const n=Array.isArray(e)?e:[e];if(!n.length)return Promise.reject(new vt("Must specify at least one device to set"));const r=[],i=n.map(s=>{const o=this._availableDevices.get(s);return o||r.push(s),o});return r.length?Promise.reject(new vt(`Devices not found: ${r.join(", ")}`)):new Promise(s=>{s(this._beforeChange(this._name,n))}).then(()=>{this._activeDevices.clear(),i.forEach(this._activeDevices.add,this._activeDevices)})}test(e=Jse){return this._isSupported?this._activeDevices.size?Promise.all(Array.from(this._activeDevices).map(n=>{let r;return new Promise(i=>{r=new Audio(e),r.oncanplay=i}).then(()=>r.setSinkId(n.deviceId).then(()=>r.play()))})):Promise.reject(new wi("No active output devices to test")):Promise.reject(new kn("This browser does not support audio output selection"))}}class Zse{constructor(e){Object.defineProperties(this,{deviceId:{get(){return e.deviceId}},groupId:{get(){return e.groupId}},kind:{get(){return e.kind}},label:{get(){return e.label}}})}}function Zg(t){if(!(this instanceof Zg))return new Zg(t);this.message=t}Zg.prototype.toString=function(){return`Twilio.Exception: ${this.message}`};function Rf(t){return t&&t.length?t.reduce((e,n)=>e+n)/t.length:0}function TA(t,e,n){n=n||(i=>i);const r=new Set(e.map(n));return t.filter(i=>!r.has(n(i)))}function Cq(t){return!!t.userAgent.match("Electron")}function PA(t,e){const n=!!e.userAgent.match("CriOS"),r=!!e.userAgent.match("HeadlessChrome"),i=typeof t.chrome<"u"&&e.vendor==="Google Inc."&&e.userAgent.indexOf("OPR")===-1&&e.userAgent.indexOf("Edge")===-1;return n||Cq(e)||i||r}function eoe(t){return t=t||(typeof window>"u"?global.navigator:window.navigator),!!t&&typeof t.userAgent=="string"&&/firefox|fxios/i.test(t.userAgent)}function _y(t){return t=t||(typeof window>"u"?global.navigator:window.navigator),!!t&&typeof t.userAgent=="string"&&/edge\/\d+/i.test(t.userAgent)}function toe(t){return!!t.vendor&&t.vendor.indexOf("Apple")!==-1&&t.userAgent&&t.userAgent.indexOf("CriOS")===-1&&t.userAgent.indexOf("FxiOS")===-1}function Tq(t){return t?t.split("&").reduce((e,n)=>{const r=n.split("="),i=r[0],s=decodeURIComponent((r[1]||"").replace(/\+/g,"%20"));return i&&(e[i]=s),e},{}):""}function bT(t,e){const n=t instanceof Map||t instanceof Set?Array.from(t.values()):t;return e=e||(r=>r),n.reduce((r,i)=>{const s=e(i);return r.concat(s)},[])}function xT(t,e,n){return new Promise((r,i)=>{function s(){t.removeListener(n,o),r()}function o(){t.removeListener(e,s),i()}t.once(e,s),t.once(n,o)})}function Pq(t,e){const n=e.map(r=>"audio/"+r.toLowerCase());return t.sort((r,i)=>{const s=n.indexOf(r.mimeType.toLowerCase()),o=n.indexOf(i.mimeType.toLowerCase()),a=s>=0?s:Number.MAX_VALUE,l=o>=0?o:Number.MAX_VALUE;return a-l})}const noe=Zg,Eq=Object.freeze(Object.defineProperty({__proto__:null,Exception:noe,average:Rf,difference:TA,flatMap:bT,isChrome:PA,isElectron:Cq,isFirefox:eoe,isLegacyEdge:_y,isSafari:toe,promisifyEvents:xT,queryToJson:Tq,sortByMimeTypes:Pq},Symbol.toStringTag,{value:"Module"})),roe={audioinput:"Audio Input",audiooutput:"Audio Output"};class wT extends si.EventEmitter{get audioConstraints(){return this._audioConstraints}get inputDevice(){return this._inputDevice}get inputStream(){return this._localProcessedStream||this._selectedInputDeviceStream}get processedStream(){return this._log.warn("AudioHelper#processedStream is deprecated. Please use AudioHelper#localProcessedStream instead."),this._localProcessedStream}get localProcessedStream(){return this._localProcessedStream}get remoteProcessedStream(){return this._remoteProcessedStream}constructor(e,n,r){super(),this.availableInputDevices=new Map,this.availableOutputDevices=new Map,this._audioConstraints=null,this._defaultInputDeviceStream=null,this._enabledSounds={[_e.SoundName.Disconnect]:!0,[_e.SoundName.Incoming]:!0,[_e.SoundName.Outgoing]:!0},this._inputDevice=null,this._inputDevicePromise=null,this._isPollingInputVolume=!1,this._log=new bn("AudioHelper"),this._localProcessedStream=null,this._remoteProcessedStream=null,this._selectedInputDeviceStream=null,this._unknownDeviceIndexes={audioinput:{},audiooutput:{}},this._updateAvailableDevices=()=>!this._mediaDevices||!this._enumerateDevices?Promise.reject("Enumeration not supported"):this._enumerateDevices().then(a=>{this._updateDevices(a.filter(u=>u.kind==="audiooutput"),this.availableOutputDevices,this._removeLostOutput),this._updateDevices(a.filter(u=>u.kind==="audioinput"),this.availableInputDevices,this._removeLostInput);const l=this.availableOutputDevices.get("default")||Array.from(this.availableOutputDevices.values())[0];[this.speakerDevices,this.ringtoneDevices].forEach(u=>{!u.get().size&&this.availableOutputDevices.size&&this.isOutputSelectionSupported&&u.set(l.deviceId).catch(f=>{this._log.warn(`Unable to set audio output devices. ${f}`)})})}),this._removeLostInput=a=>{if(!this.inputDevice||this.inputDevice.deviceId!==a.deviceId)return!1;this._destroyLocalProcessedStream(),this._replaceStream(null),this._inputDevice=null,this._maybeStopPollingVolume();const l=this.availableInputDevices.get("default")||Array.from(this.availableInputDevices.values())[0];return l&&this.setInputDevice(l.deviceId),!0},this._removeLostOutput=a=>{const l=this.speakerDevices.delete(a),u=this.ringtoneDevices.delete(a);return l||u},r=Object.assign({AudioContext:typeof AudioContext<"u"&&AudioContext,setSinkId:typeof HTMLAudioElement<"u"&&HTMLAudioElement.prototype.setSinkId},r),this._beforeSetInputDevice=r.beforeSetInputDevice||(()=>Promise.resolve()),this._updateUserOptions(r),this._audioProcessorEventObserver=r.audioProcessorEventObserver,this._mediaDevices=r.mediaDevices||navigator.mediaDevices,this._onActiveInputChanged=n,this._enumerateDevices=typeof r.enumerateDevices=="function"?r.enumerateDevices:this._mediaDevices&&this._mediaDevices.enumerateDevices.bind(this._mediaDevices);const i=!!(r.AudioContext||r.audioContext),s=!!this._enumerateDevices;r.enabledSounds&&(this._enabledSounds=r.enabledSounds);const o=typeof r.setSinkId=="function";this.isOutputSelectionSupported=s&&o,this.isVolumeSupported=i,this.isVolumeSupported&&(this._audioContext=r.audioContext||r.AudioContext&&new r.AudioContext,this._audioContext&&(this._inputVolumeAnalyser=this._audioContext.createAnalyser(),this._inputVolumeAnalyser.fftSize=32,this._inputVolumeAnalyser.smoothingTimeConstant=.3)),this.ringtoneDevices=new hI("ringtone",this.availableOutputDevices,e,this.isOutputSelectionSupported),this.speakerDevices=new hI("speaker",this.availableOutputDevices,e,this.isOutputSelectionSupported),this.addListener("newListener",a=>{a==="inputVolume"&&this._maybeStartPollingVolume()}),this.addListener("removeListener",a=>{a==="inputVolume"&&this._maybeStopPollingVolume()}),this.once("newListener",()=>{this.isOutputSelectionSupported||this._log.warn("Warning: This browser does not support audio output selection."),this.isVolumeSupported||this._log.warn("Warning: This browser does not support Twilio's volume indicator feature.")}),s&&this._initializeEnumeration(),navigator&&navigator.permissions&&typeof navigator.permissions.query=="function"?navigator.permissions.query({name:"microphone"}).then(a=>{if(a.state!=="granted"){const l=()=>{this._updateAvailableDevices(),this._stopMicrophonePermissionListener()};a.addEventListener("change",l),this._microphonePermissionStatus=a,this._onMicrophonePermissionStatusChanged=l}}).catch(a=>this._log.warn(`Warning: unable to listen for microphone permission changes. ${a}`)):this._log.warn("Warning: current browser does not support permissions API.")}_destroy(){this._stopDefaultInputDeviceStream(),this._stopSelectedInputDeviceStream(),this._destroyLocalProcessedStream(),this._destroyRemoteProcessedStream(),this._maybeStopPollingVolume(),this.removeAllListeners(),this._stopMicrophonePermissionListener(),this._unbind()}_destroyRemoteProcessedStream(){if(this._remoteProcessor&&this._remoteProcessedStream){this._log.info("destroying remote processed stream");const e=this._remoteProcessedStream;this._remoteProcessedStream.getTracks().forEach(n=>n.stop()),this._remoteProcessedStream=null,this._remoteProcessor.destroyProcessedStream(e),this._audioProcessorEventObserver.emit("destroy",!0)}}_getInputDevicePromise(){return this._inputDevicePromise}_getAudioProcessorEventObserver(){return this._audioProcessorEventObserver}_maybeCreateRemoteProcessedStream(e){return this._remoteProcessor?(this._log.info("Creating remote processed stream"),this._remoteProcessor.createProcessedStream(e).then(n=>(this._remoteProcessedStream=n,this._audioProcessorEventObserver.emit("create",!0),this._remoteProcessedStream))):Promise.resolve(e)}_maybeStartPollingVolume(){if(!this.isVolumeSupported||!this.inputStream||(this._updateVolumeSource(),this._isPollingInputVolume||!this._inputVolumeAnalyser))return;const e=this._inputVolumeAnalyser.frequencyBinCount,n=new Uint8Array(e);this._isPollingInputVolume=!0;const r=()=>{if(this._isPollingInputVolume){if(this._inputVolumeAnalyser){this._inputVolumeAnalyser.getByteFrequencyData(n);const i=Rf(n);this.emit("inputVolume",i/255)}requestAnimationFrame(r)}};requestAnimationFrame(r)}_maybeStopPollingVolume(){this.isVolumeSupported&&(!this._isPollingInputVolume||this.inputStream&&this.listenerCount("inputVolume")||(this._inputVolumeSource&&(this._inputVolumeSource.disconnect(),delete this._inputVolumeSource),this._isPollingInputVolume=!1))}_openDefaultDeviceWithConstraints(e){return this._log.info("Opening default device with constraints",e),this._getUserMedia(e).then(n=>(this._log.info("Opened default device. Updating available devices."),this._updateAvailableDevices().catch(r=>{this._log.warn("Unable to updateAvailableDevices after gUM call",r)}),this._defaultInputDeviceStream=n,this._maybeCreateLocalProcessedStream(n)))}_stopDefaultInputDeviceStream(){this._defaultInputDeviceStream&&(this._log.info("stopping default device stream"),this._defaultInputDeviceStream.getTracks().forEach(e=>e.stop()),this._defaultInputDeviceStream=null,this._destroyLocalProcessedStream())}_unbind(){var e;!((e=this._mediaDevices)===null||e===void 0)&&e.removeEventListener&&this._mediaDevices.removeEventListener("devicechange",this._updateAvailableDevices)}_updateUserOptions(e){typeof e.enumerateDevices=="function"&&(this._enumerateDevices=e.enumerateDevices),typeof e.getUserMedia=="function"&&(this._getUserMedia=e.getUserMedia)}addProcessor(e,n=!1){if(this._log.debug(".addProcessor"),this._localProcessor&&!n)throw new kn("Can only have one Local AudioProcessor at a time.");if(this._remoteProcessor&&n)throw new kn("Can only have one Remote AudioProcessor at a time.");if(typeof e!="object"||e===null)throw new vt("Missing AudioProcessor argument.");if(typeof e.createProcessedStream!="function")throw new vt("Missing createProcessedStream() method.");if(typeof e.destroyProcessedStream!="function")throw new vt("Missing destroyProcessedStream() method.");return n?(this._remoteProcessor=e,this._audioProcessorEventObserver.emit("add",!0),Promise.resolve()):(this._localProcessor=e,this._audioProcessorEventObserver.emit("add",!1),this._restartInputStreams())}disconnect(e){return this._log.debug(".disconnect",e),this._maybeEnableSound(_e.SoundName.Disconnect,e)}incoming(e){return this._log.debug(".incoming",e),this._maybeEnableSound(_e.SoundName.Incoming,e)}outgoing(e){return this._log.debug(".outgoing",e),this._maybeEnableSound(_e.SoundName.Outgoing,e)}removeProcessor(e,n=!1){if(this._log.debug(".removeProcessor"),typeof e!="object"||e===null)throw new vt("Missing AudioProcessor argument.");if(this._localProcessor!==e&&!n)throw new vt("Cannot remove a Local AudioProcessor that has not been previously added.");if(this._remoteProcessor!==e&&n)throw new vt("Cannot remove a Remote AudioProcessor that has not been previously added.");return n?(this._destroyRemoteProcessedStream(),this._remoteProcessor=null,this._audioProcessorEventObserver.emit("remove",!0),Promise.resolve()):(this._destroyLocalProcessedStream(),this._localProcessor=null,this._audioProcessorEventObserver.emit("remove",!1),this._restartInputStreams())}setAudioConstraints(e){return this._log.debug(".setAudioConstraints",e),this._audioConstraints=Object.assign({},e),delete this._audioConstraints.deviceId,this.inputDevice?this._setInputDevice(this.inputDevice.deviceId,!0):Promise.resolve()}setInputDevice(e){return this._log.debug(".setInputDevice",e),this._setInputDevice(e,!1)}unsetAudioConstraints(){return this._log.debug(".unsetAudioConstraints"),this._audioConstraints=null,this.inputDevice?this._setInputDevice(this.inputDevice.deviceId,!0):Promise.resolve()}unsetInputDevice(){return this._log.debug(".unsetInputDevice",this.inputDevice),this.inputDevice?(this._destroyLocalProcessedStream(),this._onActiveInputChanged(null).then(()=>{this._replaceStream(null),this._inputDevice=null,this._maybeStopPollingVolume()})):Promise.resolve()}_destroyLocalProcessedStream(){if(this._localProcessor&&this._localProcessedStream){this._log.info("destroying local processed stream");const e=this._localProcessedStream;this._localProcessedStream.getTracks().forEach(n=>n.stop()),this._localProcessedStream=null,this._localProcessor.destroyProcessedStream(e),this._audioProcessorEventObserver.emit("destroy",!1)}}_getUnknownDeviceIndex(e){const n=e.deviceId,r=e.kind;let i=this._unknownDeviceIndexes[r][n];return i||(i=Object.keys(this._unknownDeviceIndexes[r]).length+1,this._unknownDeviceIndexes[r][n]=i),i}_initializeEnumeration(){if(!this._mediaDevices||!this._enumerateDevices)throw new kn("Enumeration is not supported");this._mediaDevices.addEventListener&&this._mediaDevices.addEventListener("devicechange",this._updateAvailableDevices),this._updateAvailableDevices().then(()=>{this.isOutputSelectionSupported&&Promise.all([this.speakerDevices.set("default"),this.ringtoneDevices.set("default")]).catch(e=>{this._log.warn(`Warning: Unable to set audio output devices. ${e}`)})})}_maybeCreateLocalProcessedStream(e){return this._localProcessor?(this._log.info("Creating local processed stream"),this._localProcessor.createProcessedStream(e).then(n=>(this._localProcessedStream=n,this._audioProcessorEventObserver.emit("create",!1),this._localProcessedStream))):Promise.resolve(e)}_maybeEnableSound(e,n){return typeof n<"u"&&(this._enabledSounds[e]=n),this._enabledSounds[e]}_replaceStream(e){this._log.info("Replacing with new stream."),this._selectedInputDeviceStream&&(this._log.info("Old stream detected. Stopping tracks."),this._stopSelectedInputDeviceStream()),this._selectedInputDeviceStream=e}_restartInputStreams(){if(this.inputDevice&&this._selectedInputDeviceStream)return this._log.info("Restarting selected input device"),this._setInputDevice(this.inputDevice.deviceId,!0);if(this._defaultInputDeviceStream){const e=this.availableInputDevices.get("default")||Array.from(this.availableInputDevices.values())[0];return this._log.info("Restarting default input device, now becoming selected."),this._setInputDevice(e.deviceId,!0)}return Promise.resolve()}_setInputDevice(e,n){return ge(this,void 0,void 0,function*(){const r=()=>ge(this,void 0,void 0,function*(){if(yield this._beforeSetInputDevice(),typeof e!="string")return Promise.reject(new vt("Must specify the device to set"));const i=this.availableInputDevices.get(e);if(!i)return Promise.reject(new vt(`Device not found: ${e}`));if(this._log.info("Setting input device. ID: "+e),this._inputDevice&&this._inputDevice.deviceId===e&&this._selectedInputDeviceStream){if(!n)return Promise.resolve();this._log.info("Same track detected on setInputDevice, stopping old tracks."),this._stopSelectedInputDeviceStream()}this._stopDefaultInputDeviceStream();const s={audio:Object.assign({deviceId:{exact:e}},this.audioConstraints)};return this._log.info("setInputDevice: getting new tracks."),this._getUserMedia(s).then(o=>(this._destroyLocalProcessedStream(),this._maybeCreateLocalProcessedStream(o).then(a=>(this._log.info("setInputDevice: invoking _onActiveInputChanged."),this._onActiveInputChanged(a).then(()=>{this._replaceStream(o),this._inputDevice=i,this._maybeStartPollingVolume()})))))});return this._inputDevicePromise=r().finally(()=>{this._inputDevicePromise=null})})}_stopMicrophonePermissionListener(){var e;!((e=this._microphonePermissionStatus)===null||e===void 0)&&e.removeEventListener&&this._microphonePermissionStatus.removeEventListener("change",this._onMicrophonePermissionStatusChanged)}_stopSelectedInputDeviceStream(){this._selectedInputDeviceStream&&(this._log.info("Stopping selected device stream"),this._selectedInputDeviceStream.getTracks().forEach(e=>e.stop()))}_updateDevices(e,n,r){const i=e.map(u=>u.deviceId),s=Array.from(n.values()).map(u=>u.deviceId),o=[],a=TA(s,i);a.forEach(u=>{const f=n.get(u);f&&(n.delete(u),r(f)&&o.push(f))});let l=!1;if(e.forEach(u=>{const f=n.get(u.deviceId),h=this._wrapMediaDeviceInfo(u);(!f||f.label!==h.label)&&(n.set(u.deviceId,h),l=!0)}),l||a.length){const u="default",f=this.inputDevice&&this.inputDevice.deviceId===u,h=this._defaultInputDeviceStream&&this.availableInputDevices.get(u);(f||h)&&(this._log.warn("Calling getUserMedia after device change to ensure that the           tracks of the active device (default) have not gone stale."),setTimeout(()=>{this._setInputDevice(u,!0)},0)),this._log.debug("#deviceChange",o),this.emit("deviceChange",o)}}_updateVolumeSource(){if(!(!this.inputStream||!this._audioContext||!this._inputVolumeAnalyser)){this._inputVolumeSource&&this._inputVolumeSource.disconnect();try{this._inputVolumeSource=this._audioContext.createMediaStreamSource(this.inputStream),this._inputVolumeSource.connect(this._inputVolumeAnalyser)}catch(e){this._log.warn("Unable to update volume source",e),delete this._inputVolumeSource}}}_wrapMediaDeviceInfo(e){const n={deviceId:e.deviceId,groupId:e.groupId,kind:e.kind,label:e.label};if(!n.label)if(n.deviceId==="default")n.label="Default";else{const r=this._getUnknownDeviceIndex(e);n.label=`Unknown ${roe[n.kind]} Device ${r}`}return new Zse(n)}}wT||(wT={});var ioe=wT;class soe extends si.EventEmitter{constructor(){super(),this._log=new bn("AudioProcessorEventObserver"),this._log.info("Creating AudioProcessorEventObserver instance"),this.on("enabled",e=>this._reEmitEvent("enabled",e)),this.on("add",e=>this._reEmitEvent("add",e)),this.on("remove",e=>this._reEmitEvent("remove",e)),this.on("create",e=>this._reEmitEvent("create-processed-stream",e)),this.on("destroy",e=>this._reEmitEvent("destroy-processed-stream",e))}destroy(){this.removeAllListeners()}_reEmitEvent(e,n){this._log.info(`${n?"Remote":"Local"} AudioProcessor:${e}`),this.emit("event",{name:e,group:"audio-processor",isRemote:n})}}const ooe={dtmf0:[1360,960],dtmf1:[1230,720],dtmf2:[1360,720],dtmf3:[1480,720],dtmf4:[1230,790],dtmf5:[1360,790],dtmf6:[1480,790],dtmf7:[1230,870],dtmf8:[1360,870],dtmf9:[1480,870],dtmfh:[1480,960],dtmfs:[1230,960]};class aoe{constructor(e){this._context=e,this._gainNodes=[],this._gainNodes=[this._context.createGain(),this._context.createGain()],this._gainNodes.forEach(n=>{n.connect(this._context.destination),n.gain.value=.1,this._gainNodes.push(n)})}cleanup(){this._gainNodes.forEach(e=>{e.disconnect()})}play(e){const n=ooe[e];if(!n)throw new vt("Invalid DTMF sound name");[this._context.createOscillator(),this._context.createOscillator()].forEach((i,s)=>{i.type="sine",i.frequency.value=n[s],i.connect(this._gainNodes[s]),i.start(),i.stop(this._context.currentTime+.1),i.addEventListener("ended",()=>i.disconnect())})}}function loe(t,e,n){const r=JSON.stringify(e.body||{}),i=new Headers;e.headers=e.headers||[],Object.entries(e.headers).forEach(([s,o])=>i.append(s,o)),fetch(e.url,{body:r,headers:i,method:t}).then(s=>s.text(),n).then(s=>n(null,s),n)}const EA=loe;EA.get=function(e,n){return new this("GET",e,n)};EA.post=function(e,n){return new this("POST",e,n)};class or extends si.EventEmitter{constructor(e,n,r){if(super(),!(this instanceof or))return new or(e,n,r);r=Object.assign({defaultPayload(){return{}}},r);let i=r.defaultPayload;typeof i!="function"&&(i=()=>Object.assign({},r.defaultPayload));let s=!0;const o=Object.assign({app_name:void 0,app_version:void 0},r.metadata);Object.defineProperties(this,{_defaultPayload:{value:i},_host:{value:r.host,writable:!0},_isEnabled:{get(){return s},set(a){s=a}},_log:{value:new bn("EventPublisher")},_request:{value:r.request||EA,writable:!0},_token:{value:n,writable:!0},isEnabled:{enumerable:!0,get(){return s}},metadata:{enumerable:!0,get(){return o}},productName:{enumerable:!0,value:e},token:{enumerable:!0,get(){return this._token}}})}}or.prototype._post=function(e,n,r,i,s,o,a){if(!this.isEnabled&&!a||!this._host)return this._log.debug("Publishing cancelled",JSON.stringify({isEnabled:this.isEnabled,force:a,host:this._host})),Promise.resolve();if(!o||(!o.parameters||!o.parameters.CallSid)&&!o.outboundConnectionId)return o?this._log.debug("Publishing cancelled. Missing connection info",JSON.stringify({outboundConnectionId:o.outboundConnectionId,parameters:o.parameters})):this._log.debug("Publishing cancelled. Missing connection object"),Promise.resolve();const l={group:r,level:n.toUpperCase(),name:i,payload:s&&s.forEach?s.slice(0):Object.assign(this._defaultPayload(o),s),payload_type:"application/json",private:!1,publisher:this.productName,timestamp:new Date().toISOString()};this.metadata&&(l.publisher_metadata=this.metadata),e==="EndpointEvents"&&this._log.debug("Publishing insights",JSON.stringify({endpointName:e,event:l,force:a,host:this._host}));const u={body:l,headers:{"Content-Type":"application/json","X-Twilio-Token":this.token},url:`https://${this._host}/v4/${e}`};return new Promise((f,h)=>{this._request.post(u,m=>{m?(this.emit("error",m),h(m)):f()})}).catch(f=>{this._log.error(`Unable to post ${r} ${i} event to Insights. Received error: ${f}`)})};or.prototype.post=function(e,n,r,i,s,o){return this._post("EndpointEvents",e,n,r,i,s,o)};or.prototype.debug=function(e,n,r,i){return this.post("debug",e,n,r,i)};or.prototype.info=function(e,n,r,i){return this.post("info",e,n,r,i)};or.prototype.warn=function(e,n,r,i){return this.post("warning",e,n,r,i)};or.prototype.error=function(e,n,r,i){return this.post("error",e,n,r,i)};or.prototype.postMetrics=function(e,n,r,i,s){return new Promise(o=>{const a=r.map(coe).map(l=>Object.assign(l,i));o(this._post("EndpointMetrics","info",e,n,a,s))})};or.prototype.setHost=function(e){this._host=e};or.prototype.setToken=function(e){this._token=e};or.prototype.enable=function(){this._isEnabled=!0};or.prototype.disable=function(){this._isEnabled=!1};function coe(t){return{audio_codec:t.codecName,audio_level_in:t.audioInputLevel,audio_level_out:t.audioOutputLevel,bytes_received:t.bytesReceived,bytes_sent:t.bytesSent,call_volume_input:t.inputVolume,call_volume_output:t.outputVolume,jitter:t.jitter,mos:t.mos&&Math.round(t.mos*100)/100,packets_lost:t.packetsLost,packets_lost_fraction:t.packetsLostFraction&&Math.round(t.packetsLostFraction*100)/100,packets_received:t.packetsReceived,rtt:t.rtt,timestamp:new Date(t.timestamp).toISOString(),total_bytes_received:t.totals.bytesReceived,total_bytes_sent:t.totals.bytesSent,total_packets_lost:t.totals.packetsLost,total_packets_received:t.totals.packetsReceived,total_packets_sent:t.totals.packetsSent}}const pI=32767,mI=typeof window<"u"?window.RTCStatsReport:void 0;function Ai(t){if(!(this instanceof Ai))return new Ai(t);const e=this;Object.defineProperties(this,{_map:{value:t},size:{enumerable:!0,get(){return e._map.size}}}),this[Symbol.iterator]=t[Symbol.iterator]}mI&&(Ai.prototype=Object.create(mI.prototype),Ai.prototype.constructor=Ai);["entries","forEach","get","has","keys","values"].forEach(t=>{Ai.prototype[t]=function(...e){return this._map[t](...e)}});Ai.fromArray=function(e){return new Ai(e.reduce((n,r)=>(n.set(r.id,r),n),new Map))};Ai.fromRTCStatsResponse=function(e){let n;const r=new Map,i=e.result().reduce((s,o)=>{const a=o.id;switch(o.type){case"googCertificate":s.set(a,moe(o));break;case"datachannel":s.set(a,goe(o));break;case"googCandidatePair":kq(o,"googActiveConnection")&&(n=a),s.set(a,poe(o));break;case"localcandidate":s.set(a,vI(o,!1));break;case"remotecandidate":s.set(a,vI(o,!0));break;case"ssrc":xl(o,"packetsReceived")?s.set(`rtp-${a}`,foe(o)):s.set(`rtp-${a}`,hoe(o)),s.set(`track-${a}`,doe(o)),s.set(`codec-${a}`,uoe(o));break;case"googComponent":const l=gI(o);r.set(l.selectedCandidatePairId,a),s.set(a,gI(o));break}return s},new Map);if(n){const s=r.get(n);s&&(i.get(s).dtlsState="connected")}return new Ai(i)};function gI(t){return{bytesReceived:void 0,bytesSent:void 0,dtlsState:void 0,id:t.id,localCertificateId:t.stat("localCertificateId"),remoteCertificateId:t.stat("remoteCertificateId"),rtcpTransportStatsId:void 0,selectedCandidatePairId:t.stat("selectedCandidatePairId"),timestamp:Date.parse(t.timestamp),type:"transport"}}function uoe(t){return{channels:void 0,clockRate:void 0,id:t.id,implementation:void 0,mimeType:`${t.stat("mediaType")}/${t.stat("googCodecName")}`,payloadType:void 0,sdpFmtpLine:void 0,timestamp:Date.parse(t.timestamp),type:"codec"}}function doe(t){return{audioLevel:xl(t,"audioOutputLevel")?_t(t,"audioOutputLevel")/pI:(_t(t,"audioInputLevel")||0)/pI,detached:void 0,echoReturnLoss:ST(t,"googEchoCancellationReturnLoss"),echoReturnLossEnhancement:ST(t,"googEchoCancellationReturnLossEnhancement"),ended:void 0,frameHeight:xl(t,"googFrameHeightReceived")?_t(t,"googFrameHeightReceived"):_t(t,"googFrameHeightSent"),frameWidth:xl(t,"googFrameWidthReceived")?_t(t,"googFrameWidthReceived"):_t(t,"googFrameWidthSent"),framesCorrupted:void 0,framesDecoded:_t(t,"framesDecoded"),framesDropped:void 0,framesPerSecond:void 0,framesReceived:void 0,framesSent:_t(t,"framesEncoded"),fullFramesLost:void 0,id:t.id,kind:t.stat("mediaType"),partialFramesLost:void 0,remoteSource:void 0,ssrcIds:void 0,timestamp:Date.parse(t.timestamp),trackIdentifier:t.stat("googTrackId"),type:"track"}}function Aq(t,e){return{associateStatsId:void 0,codecId:`codec-${t.id}`,firCount:e?_t(t,"googFirsSent"):void 0,id:t.id,isRemote:void 0,mediaType:t.stat("mediaType"),nackCount:e?_t(t,"googNacksSent"):_t(t,"googNacksReceived"),pliCount:e?_t(t,"googPlisSent"):_t(t,"googPlisReceived"),qpSum:_t(t,"qpSum"),sliCount:void 0,ssrc:t.stat("ssrc"),timestamp:Date.parse(t.timestamp),trackId:`track-${t.id}`,transportId:t.stat("transportId")}}function foe(t){const e=Aq(t,!0);return Object.assign(e,{burstDiscardCount:void 0,burstDiscardRate:void 0,burstLossCount:void 0,burstLossRate:void 0,burstPacketsDiscarded:void 0,burstPacketsLost:void 0,bytesReceived:_t(t,"bytesReceived"),fractionLost:void 0,framesDecoded:_t(t,"framesDecoded"),gapDiscardRate:void 0,gapLossRate:void 0,jitter:_T(t.stat("googJitterReceived")),packetsDiscarded:void 0,packetsLost:_t(t,"packetsLost"),packetsReceived:_t(t,"packetsReceived"),packetsRepaired:void 0,roundTripTime:_T(t.stat("googRtt")),type:"inbound-rtp"}),e}function hoe(t){const e=Aq(t,!1);return Object.assign(e,{bytesSent:_t(t,"bytesSent"),framesEncoded:_t(t,"framesEncoded"),packetsSent:_t(t,"packetsSent"),remoteTimestamp:void 0,targetBitrate:void 0,type:"outbound-rtp"}),e}function vI(t,e){return{candidateType:voe(t.stat("candidateType")),deleted:void 0,id:t.id,ip:t.stat("ipAddress"),isRemote:e,port:_t(t,"portNumber"),priority:ST(t,"priority"),protocol:t.stat("transport"),relayProtocol:void 0,timestamp:Date.parse(t.timestamp),transportId:void 0,type:e?"remote-candidate":"local-candidate",url:void 0}}function poe(t){return{availableIncomingBitrate:void 0,availableOutgoingBitrate:void 0,bytesReceived:_t(t,"bytesReceived"),bytesSent:_t(t,"bytesSent"),consentRequestsSent:_t(t,"consentRequestsSent"),currentRoundTripTime:_T(t.stat("googRtt")),id:t.id,lastPacketReceivedTimestamp:void 0,lastPacketSentTimestamp:void 0,localCandidateId:t.stat("localCandidateId"),nominated:void 0,priority:void 0,readable:void 0,remoteCandidateId:t.stat("remoteCandidateId"),requestsReceived:_t(t,"requestsReceived"),requestsSent:_t(t,"requestsSent"),responsesReceived:_t(t,"responsesReceived"),responsesSent:_t(t,"responsesSent"),retransmissionsReceived:void 0,retransmissionsSent:void 0,state:void 0,timestamp:Date.parse(t.timestamp),totalRoundTripTime:void 0,transportId:t.stat("googChannelId"),type:"candidate-pair",writable:kq(t,"googWritable")}}function moe(t){return{base64Certificate:t.stat("googDerBase64"),fingerprint:t.stat("googFingerprint"),fingerprintAlgorithm:t.stat("googFingerprintAlgorithm"),id:t.id,issuerCertificateId:t.stat("googIssuerId"),timestamp:Date.parse(t.timestamp),type:"certificate"}}function goe(t){return{bytesReceived:void 0,bytesSent:void 0,datachannelid:t.stat("datachannelid"),id:t.id,label:t.stat("label"),messagesReceived:void 0,messagesSent:void 0,protocol:t.stat("protocol"),state:t.stat("state"),timestamp:Date.parse(t.timestamp),transportId:t.stat("transportId"),type:"data-channel"}}function _T(t){return isNaN(t)||t===""?void 0:parseInt(t,10)/1e3}function voe(t){switch(t){case"peerreflexive":return"prflx";case"serverreflexive":return"srflx";case"host":case"relay":default:return t}}function _t(t,e){const n=t.stat(e);return xl(t,e)?parseInt(n,10):void 0}function ST(t,e){const n=t.stat(e);return xl(t,e)?parseFloat(n):void 0}function kq(t,e){const n=t.stat(e);return xl(t,e)?n==="true"||n===!0:void 0}function xl(t,e){const n=t.stat(e);return typeof n<"u"&&n!==""}const yoe="PeerConnection is null",boe="WebRTC statistics are unsupported";function _c(t,e){return typeof t.get=="function"?t.get(e):t.find(n=>n.id===e)}function jq(t){if(!t)return Promise.reject(new vt(yoe));if(typeof t.getStats!="function")return Promise.reject(new kn(boe));let e;try{e=t.getStats()}catch{e=new Promise(r=>t.getStats(r)).then(Ai.fromRTCStatsResponse)}return e}function xoe(t,e){return e=Object.assign({createRTCSample:Soe},e),jq(t).then(e.createRTCSample)}function woe(t){return jq(t).then(e=>{const{candidatePairs:n,localCandidates:r,remoteCandidates:i,transport:s}=Array.from(e.values()).reduce((l,u)=>{switch(["candidatePairs","localCandidates","remoteCandidates"].forEach(f=>{l[f]||(l[f]=[])}),u.type){case"candidate-pair":l.candidatePairs.push(u);break;case"local-candidate":l.localCandidates.push(u);break;case"remote-candidate":l.remoteCandidates.push(u);break;case"transport":u.selectedCandidatePairId&&(l.transport=u);break}return l},{}),o=n.find(l=>l.selected||s&&l.id===s.selectedCandidatePairId);let a;return o&&(a={localCandidate:r.find(l=>l.id===o.localCandidateId),remoteCandidate:i.find(l=>l.id===o.remoteCandidateId)}),{iceCandidateStats:[...r,...i],selectedIceCandidatePairStats:a}})}function _oe(){}function Soe(t){let e=null;const n=new _oe;let r;Array.from(t.values()).forEach(l=>{if(l.isRemote)return;const u=l.type.replace("-","");if(r=r||l.timestamp,l.remoteId){const f=_c(t,l.remoteId);f&&f.roundTripTime&&(n.rtt=f.roundTripTime*1e3)}switch(u){case"inboundrtp":n.timestamp=n.timestamp||l.timestamp,n.jitter=l.jitter*1e3,n.packetsLost=l.packetsLost,n.packetsReceived=l.packetsReceived,n.bytesReceived=l.bytesReceived;break;case"outboundrtp":if(n.timestamp=l.timestamp,n.packetsSent=l.packetsSent,n.bytesSent=l.bytesSent,l.codecId){const f=_c(t,l.codecId);n.codecName=f?f.mimeType&&f.mimeType.match(/(.*\/)?(.*)/)[2]:l.codecId}break;case"transport":e=l.id;break}}),n.timestamp||(n.timestamp=r);const i=_c(t,e);if(!i)return n;const s=_c(t,i.selectedCandidatePairId);if(!s)return n;const o=_c(t,s.localCandidateId),a=_c(t,s.remoteCandidateId);return n.rtt||(n.rtt=s&&s.currentRoundTripTime*1e3),Object.assign(n,{localAddress:o&&(o.address||o.ip),remoteAddress:a&&(a.address||a.ip)}),n}class Ft extends si.EventEmitter{constructor(e,n){super(),this._hasInsightsErrored=!1,this._log=new bn("PreflightTest"),this._networkTiming={},this._options={codecPreferences:[we.Codec.PCMU,we.Codec.Opus],edge:"roaming",fakeMicInput:!1,logLevel:"error",signalingTimeoutMs:1e4},this._status=Ft.Status.Connecting,Object.assign(this._options,n),this._samples=[],this._warnings=[],this._startTime=Date.now(),this._initDevice(e,Object.assign(Object.assign({},this._options),{fileInputStream:this._options.fakeMicInput?this._getStreamFromFile():void 0}));const r=["codecPreferences","edge","fakeMicInput","logLevel","signalingTimeoutMs"],i=["audioContext","deviceFactory","fileInputStream","getRTCIceCandidateStatsReport","iceServers","rtcConfiguration"];if(typeof n=="object"){const s=Object.assign({},n);Object.keys(s).forEach(o=>{!r.includes(o)&&!i.includes(o)&&delete s[o],i.includes(o)&&(s[o]=!0)}),this._log.debug(".constructor",JSON.stringify(s))}}stop(){this._log.debug(".stop");const e=new zn.CallCancelledError;this._device?(this._device.once(_e.EventName.Unregistered,()=>this._onFailed(e)),this._device.destroy()):this._onFailed(e)}_emitWarning(e,n,r){const i={name:e,description:n};r&&(i.rtcWarning=r),this._warnings.push(i),this._log.debug(`#${Ft.Events.Warning}`,JSON.stringify(i)),this.emit(Ft.Events.Warning,i)}_getCallQuality(e){return e>4.2?Ft.CallQuality.Excellent:e>=4.1&&e<=4.2?Ft.CallQuality.Great:e>=3.7&&e<=4?Ft.CallQuality.Good:e>=3.1&&e<=3.6?Ft.CallQuality.Fair:Ft.CallQuality.Degraded}_getReport(){var e,n,r;const i=this._getRTCStats(),s={start:this._startTime};this._endTime&&(s.end=this._endTime,s.duration=this._endTime-this._startTime);const o={callSid:this._callSid,edge:this._edge,iceCandidateStats:(n=(e=this._rtcIceCandidateStatsReport)===null||e===void 0?void 0:e.iceCandidateStats)!==null&&n!==void 0?n:[],networkTiming:this._networkTiming,samples:this._samples,selectedEdge:this._options.edge,stats:i,testTiming:s,totals:this._getRTCSampleTotals(),warnings:this._warnings},a=(r=this._rtcIceCandidateStatsReport)===null||r===void 0?void 0:r.selectedIceCandidatePairStats;return a&&(o.selectedIceCandidatePairStats=a,o.isTurnRequired=a.localCandidate.candidateType==="relay"||a.remoteCandidate.candidateType==="relay"),i&&(o.callQuality=this._getCallQuality(i.mos.average)),o}_getRTCSampleTotals(){if(this._latestSample)return Object.assign({},this._latestSample.totals)}_getRTCStats(){const e=this._samples.findIndex(r=>typeof r.mos=="number"&&r.mos>0),n=e>=0?this._samples.slice(e):[];if(!(!n||!n.length))return["jitter","mos","rtt"].reduce((r,i)=>{const s=n.map(o=>o[i]);return Object.assign(Object.assign({},r),{[i]:{average:Number((s.reduce((o,a)=>o+a)/s.length).toPrecision(5)),max:Math.max(...s),min:Math.min(...s)}})},{})}_getStreamFromFile(){const e=this._options.audioContext;if(!e)throw new kn("Cannot fake input audio stream: AudioContext is not supported by this browser.");const n=new Audio(Xse);n.addEventListener("canplaythrough",()=>n.play()),typeof n.setAttribute=="function"&&n.setAttribute("crossorigin","anonymous");const r=e.createMediaElementSource(n),i=e.createMediaStreamDestination();return r.connect(i),i.stream}_initDevice(e,n){try{this._device=new(n.deviceFactory||_e)(e,{chunderw:n.chunderw,codecPreferences:n.codecPreferences,edge:n.edge,eventgw:n.eventgw,fileInputStream:n.fileInputStream,logLevel:n.logLevel,preflight:!0}),this._device.once(_e.EventName.Registered,()=>{this._onDeviceRegistered()}),this._device.once(_e.EventName.Error,r=>{this._onDeviceError(r)}),this._device.register()}catch(r){setTimeout(()=>{this._onFailed(r)});return}this._signalingTimeoutTimer=setTimeout(()=>{this._onDeviceError(new ri.ConnectionError("WebSocket Connection Timeout"))},n.signalingTimeoutMs)}_onDeviceError(e){this._device.destroy(),this._onFailed(e)}_onDeviceRegistered(){return ge(this,void 0,void 0,function*(){if(clearTimeout(this._echoTimer),clearTimeout(this._signalingTimeoutTimer),this._call=yield this._device.connect({rtcConfiguration:this._options.rtcConfiguration}),this._networkTiming.signaling={start:Date.now()},this._setupCallHandlers(this._call),this._edge=this._device.edge||void 0,this._options.fakeMicInput){this._echoTimer=setTimeout(()=>this._device.disconnectAll(),Qse);const n=this._device.audio;n&&(n.disconnect(!1),n.outgoing(!1))}this._call.once("disconnect",()=>{this._device.once(_e.EventName.Unregistered,()=>this._onUnregistered()),this._device.destroy()}),this._call._publisher.on("error",()=>{this._hasInsightsErrored||this._emitWarning("insights-connection-error","Received an error when attempting to connect to Insights gateway"),this._hasInsightsErrored=!0})})}_onFailed(e){clearTimeout(this._echoTimer),clearTimeout(this._signalingTimeoutTimer),this._releaseHandlers(),this._endTime=Date.now(),this._status=Ft.Status.Failed,this._log.debug(`#${Ft.Events.Failed}`,e),this.emit(Ft.Events.Failed,e)}_onUnregistered(){setTimeout(()=>{this._status!==Ft.Status.Failed&&(clearTimeout(this._echoTimer),clearTimeout(this._signalingTimeoutTimer),this._releaseHandlers(),this._endTime=Date.now(),this._status=Ft.Status.Completed,this._report=this._getReport(),this._log.debug(`#${Ft.Events.Completed}`,JSON.stringify(this._report)),this.emit(Ft.Events.Completed,this._report))},10)}_releaseHandlers(){[this._device,this._call].forEach(e=>{e&&e.eventNames().forEach(n=>e.removeAllListeners(n))})}_setupCallHandlers(e){this._options.fakeMicInput&&e.once("volume",()=>{e._mediaHandler.outputs.forEach(n=>n.audio.muted=!0)}),e.on("warning",(n,r)=>{this._emitWarning(n,"Received an RTCWarning. See .rtcWarning for the RTCWarning",r)}),e.once("accept",()=>{this._callSid=e._mediaHandler.callSid,this._status=Ft.Status.Connected,this._log.debug(`#${Ft.Events.Connected}`),this.emit(Ft.Events.Connected)}),e.on("sample",n=>ge(this,void 0,void 0,function*(){this._latestSample||(this._rtcIceCandidateStatsReport=yield(this._options.getRTCIceCandidateStatsReport||woe)(e._mediaHandler.version.pc)),this._latestSample=n,this._samples.push(n),this._log.debug(`#${Ft.Events.Sample}`,JSON.stringify(n)),this.emit(Ft.Events.Sample,n)})),[{reportLabel:"peerConnection",type:"pcconnection"},{reportLabel:"ice",type:"iceconnection"},{reportLabel:"dtls",type:"dtlstransport"},{reportLabel:"signaling",type:"signaling"}].forEach(({type:n,reportLabel:r})=>{const i=`on${n}statechange`,s=e._mediaHandler[i];e._mediaHandler[i]=o=>{const a=this._networkTiming[r]=this._networkTiming[r]||{start:0};o==="connecting"||o==="checking"?a.start=Date.now():(o==="connected"||o==="stable")&&!a.duration&&(a.end=Date.now(),a.duration=a.end-a.start),s(o)}})}get callSid(){return this._callSid}get endTime(){return this._endTime}get latestSample(){return this._latestSample}get report(){return this._report}get startTime(){return this._startTime}get status(){return this._status}}(function(t){(function(e){e.Excellent="excellent",e.Great="great",e.Good="good",e.Fair="fair",e.Degraded="degraded"})(t.CallQuality||(t.CallQuality={})),(function(e){e.Completed="completed",e.Connected="connected",e.Failed="failed",e.Sample="sample",e.Warning="warning"})(t.Events||(t.Events={})),(function(e){e.Connecting="connecting",e.Connected="connected",e.Completed="completed",e.Failed="failed"})(t.Status||(t.Status={}))})(Ft||(Ft={}));const Ic=globalThis.WebSocket,Coe=1e4,Toe=5e3,yI=15e3,Poe=15e3,Eoe=1/0,Aoe=1e3,koe=2e4;var kr;(function(t){t.Connecting="connecting",t.Closed="closed",t.Open="open"})(kr||(kr={}));class Sy extends si.EventEmitter{constructor(e,n={}){super(),this.state=kr.Closed,this._backoffStartTime={preferred:null,primary:null},this._connectedUri=null,this._log=new bn("WSTransport"),this._shouldFallback=!1,this._uriIndex=0,this._moveUriIndex=()=>{this._uriIndex++,this._uriIndex>=this._uris.length&&(this._uriIndex=0)},this._onSocketClose=r=>{if(this._log.error(`Received websocket close event code: ${r.code}. Reason: ${r.reason}`),r.code===1006||r.code===1015){this.emit("error",{code:31005,message:r.reason||"Websocket connection to Twilio's signaling servers were unexpectedly ended. If this is happening consistently, there may be an issue resolving the hostname provided. If a region or an edge is being specified in Device setup, ensure it is valid.",twilioError:new ri.ConnectionError});const i=this.state===kr.Open||this._previousState===kr.Open;(this._shouldFallback||!i)&&this._moveUriIndex(),this._shouldFallback=!0}this._closeSocket()},this._onSocketError=r=>{this._log.error(`WebSocket received error: ${r.message}`),this.emit("error",{code:31e3,message:r.message||"WSTransport socket error",twilioError:new ri.ConnectionDisconnected})},this._onSocketMessage=r=>{if(this._setHeartbeatTimeout(),this._socket&&r.data===`
`){this._socket.send(`
`),this._log.debug("heartbeat");return}r&&typeof r.data=="string"&&this._log.debug(`Received: ${r.data}`),this.emit("message",r)},this._onSocketOpen=()=>{this._log.info("WebSocket opened successfully."),this._timeOpened=Date.now(),this._shouldFallback=!1,this._setState(kr.Open),clearTimeout(this._connectTimeout),this._resetBackoffs(),this._setHeartbeatTimeout(),this.emit("open")},this._options=Object.assign(Object.assign({},Sy.defaultConstructorOptions),n),this._uris=e,this._backoff=this._setupBackoffs()}close(){this._log.info("WSTransport.close() called..."),this._close()}open(){if(this._log.info("WSTransport.open() called..."),this._socket&&(this._socket.readyState===Ic.CONNECTING||this._socket.readyState===Ic.OPEN)){this._log.info("WebSocket already open.");return}this._preferredUri?this._connect(this._preferredUri):this._connect(this._uris[this._uriIndex])}send(e){if(this._log.debug(`Sending: ${e}`),!this._socket||this._socket.readyState!==Ic.OPEN)return this._log.debug("Cannot send message. WebSocket is not open."),!1;try{this._socket.send(e)}catch(n){return this._log.error("Error while sending message:",n.message),this._closeSocket(),!1}return!0}updatePreferredURI(e){this._preferredUri=e}updateURIs(e){typeof e=="string"&&(e=[e]),this._uris=e,this._uriIndex=0}_close(){this._setState(kr.Closed),this._closeSocket()}_closeSocket(){if(clearTimeout(this._connectTimeout),clearTimeout(this._heartbeatTimeout),this._log.info("Closing and cleaning up WebSocket..."),!this._socket){this._log.info("No WebSocket to clean up.");return}this._socket.removeEventListener("close",this._onSocketClose),this._socket.removeEventListener("error",this._onSocketError),this._socket.removeEventListener("message",this._onSocketMessage),this._socket.removeEventListener("open",this._onSocketOpen),(this._socket.readyState===Ic.CONNECTING||this._socket.readyState===Ic.OPEN)&&this._socket.close(),this._timeOpened&&Date.now()-this._timeOpened>Coe&&this._resetBackoffs(),this.state!==kr.Closed&&this._performBackoff(),delete this._socket,this.emit("close")}_connect(e,n){this._log.info(typeof n=="number"?`Attempting to reconnect (retry #${n})...`:"Attempting to connect..."),this._closeSocket(),this._setState(kr.Connecting),this._connectedUri=e;try{this._socket=new this._options.WebSocket(this._connectedUri)}catch(r){this._log.error("Could not connect to endpoint:",r.message),this._close(),this.emit("error",{code:31e3,message:r.message||`Could not connect to ${this._connectedUri}`,twilioError:new ri.ConnectionDisconnected});return}this._socket.addEventListener("close",this._onSocketClose),this._socket.addEventListener("error",this._onSocketError),this._socket.addEventListener("message",this._onSocketMessage),this._socket.addEventListener("open",this._onSocketOpen),delete this._timeOpened,this._connectTimeout=setTimeout(()=>{this._log.info("WebSocket connection attempt timed out."),this._moveUriIndex(),this._closeSocket()},this._options.connectTimeoutMs)}_performBackoff(){this._preferredUri?(this._log.info("Preferred URI set; backing off."),this._backoff.preferred.backoff()):(this._log.info("Preferred URI not set; backing off."),this._backoff.primary.backoff())}_resetBackoffs(){this._backoff.preferred.reset(),this._backoff.primary.reset(),this._backoffStartTime.preferred=null,this._backoffStartTime.primary=null}_setHeartbeatTimeout(){clearTimeout(this._heartbeatTimeout),this._heartbeatTimeout=setTimeout(()=>{this._log.info(`No messages received in ${yI/1e3} seconds. Reconnecting...`),this._shouldFallback=!0,this._closeSocket()},yI)}_setState(e){this._previousState=this.state,this.state=e}_setupBackoffs(){const e={factor:2,jitter:.4,max:this._options.maxPreferredDelayMs,min:100};this._log.info("Initializing preferred transport backoff using config: ",e);const n=new mT(e);n.on("backoff",(s,o)=>{if(this.state===kr.Closed){this._log.info("Preferred backoff initiated but transport state is closed; not attempting a connection.");return}this._log.info(`Will attempt to reconnect Websocket to preferred URI in ${o}ms`),s===0&&(this._backoffStartTime.preferred=Date.now(),this._log.info(`Preferred backoff start; ${this._backoffStartTime.preferred}`))}),n.on("ready",(s,o)=>{if(this.state===kr.Closed){this._log.info("Preferred backoff ready but transport state is closed; not attempting a connection.");return}if(this._backoffStartTime.preferred===null){this._log.info("Preferred backoff start time invalid; not attempting a connection.");return}if(Date.now()-this._backoffStartTime.preferred>this._options.maxPreferredDurationMs){this._log.info("Max preferred backoff attempt time exceeded; falling back to primary backoff."),this._preferredUri=null,this._backoff.primary.backoff();return}if(typeof this._preferredUri!="string"){this._log.info("Preferred URI cleared; falling back to primary backoff."),this._preferredUri=null,this._backoff.primary.backoff();return}this._connect(this._preferredUri,s+1)});const r={factor:2,jitter:.4,max:this._options.maxPrimaryDelayMs,min:this._uris&&this._uris.length>1?Math.floor(Math.random()*4001)+1e3:100};this._log.info("Initializing primary transport backoff using config: ",r);const i=new mT(r);return i.on("backoff",(s,o)=>{if(this.state===kr.Closed){this._log.info("Primary backoff initiated but transport state is closed; not attempting a connection.");return}this._log.info(`Will attempt to reconnect WebSocket in ${o}ms`),s===0&&(this._backoffStartTime.primary=Date.now(),this._log.info(`Primary backoff start; ${this._backoffStartTime.primary}`))}),i.on("ready",(s,o)=>{if(this.state===kr.Closed){this._log.info("Primary backoff ready but transport state is closed; not attempting a connection.");return}if(this._backoffStartTime.primary===null){this._log.info("Primary backoff start time invalid; not attempting a connection.");return}if(Date.now()-this._backoffStartTime.primary>this._options.maxPrimaryDurationMs){this._log.info("Max primary backoff attempt time exceeded; not attempting a connection.");return}this._connect(this._uris[this._uriIndex],s+1)}),{preferred:n,primary:i}}get uri(){return this._connectedUri}}Sy.defaultConstructorOptions={WebSocket:Ic,connectTimeoutMs:Toe,maxPreferredDelayMs:Aoe,maxPreferredDurationMs:Poe,maxPrimaryDelayMs:koe,maxPrimaryDurationMs:Eoe};const joe="1.6",Ooe=30;class It extends si.EventEmitter{constructor(e,n,r){if(super(),!(this instanceof It))return new It(e,n,r);const i={TransportFactory:Sy};r=r||{};for(const o in i)o in r||(r[o]=i[o]);this.options=r,this.token=e||"",this.status="disconnected",this.gateway=null,this.region=null,this._messageQueue=[],this._preferredUri=null,this._uris=n,this._handleTransportClose=this._handleTransportClose.bind(this),this._handleTransportError=this._handleTransportError.bind(this),this._handleTransportMessage=this._handleTransportMessage.bind(this),this._handleTransportOpen=this._handleTransportOpen.bind(this),this._log=new bn("PStream"),this.on("error",()=>{this._log.warn("Unexpected error handled in pstream")});const s=this;return this.addListener("ready",()=>{s.status="ready"}),this.addListener("offline",()=>{s.status="offline"}),this.addListener("close",()=>{s._log.info('Received "close" from server. Destroying PStream...'),s._destroy()}),this.transport=new this.options.TransportFactory(this._uris,{backoffMaxMs:this.options.backoffMaxMs,maxPreferredDurationMs:this.options.maxPreferredDurationMs}),Object.defineProperties(this,{uri:{enumerable:!0,get(){return this.transport.uri}}}),this.transport.on("close",this._handleTransportClose),this.transport.on("error",this._handleTransportError),this.transport.on("message",this._handleTransportMessage),this.transport.on("open",this._handleTransportOpen),this.transport.open(),this}}It.prototype._handleTransportClose=function(){this.emit("transportClose"),this.status!=="disconnected"&&(this.status!=="offline"&&this.emit("offline",this),this.status="disconnected")};It.prototype._handleTransportError=function(t){if(!t){this.emit("error",{error:{code:31e3,message:"Websocket closed without a provided reason",twilioError:new ri.ConnectionDisconnected}});return}this.emit("error",typeof t.code<"u"?{error:t}:t)};It.prototype._handleTransportMessage=function(t){if(!t||!t.data||typeof t.data!="string")return;const{type:e,payload:n={}}=JSON.parse(t.data);this.gateway=n.gateway||this.gateway,this.region=n.region||this.region,e==="error"&&n.error&&(n.error.twilioError=new ri.ConnectionError),this.emit(e,n)};It.prototype._handleTransportOpen=function(){this.status="connected",this.setToken(this.token),this.emit("transportOpen"),this._messageQueue.splice(0,this._messageQueue.length).forEach(e=>this._publish(...e))};It.toString=()=>"[Twilio.PStream class]";It.prototype.toString=()=>"[Twilio.PStream instance]";It.prototype.setToken=function(t){this._log.info("Setting token and publishing listen"),this.token=t;let e=0;const n=this.options.maxPreferredDurationMs;this._log.info(`maxPreferredDurationMs:${n}`),typeof n=="number"&&n>=0&&(e=Math.min(Math.ceil(n/1e3),Ooe)),this._log.info(`reconnectTimeout:${e}`);const r={browserinfo:Noe(),reconnectTimeout:e,token:t};this._publish("listen",r)};It.prototype.sendMessage=function(t,e,n="application/json",r,i){const s={callsid:t,content:e,contenttype:n,messagetype:r,voiceeventsid:i};this._publish("message",s,!0)};It.prototype.register=function(t){const e={media:t};this._publish("register",e,!0)};It.prototype.invite=function(t,e,n){const r={callsid:e,sdp:t,twilio:n?{params:n}:{}};this._publish("invite",r,!0)};It.prototype.reconnect=function(t,e,n){const r={callsid:e,reconnect:n,sdp:t,twilio:{}};this._publish("invite",r,!0)};It.prototype.answer=function(t,e){this._publish("answer",{sdp:t,callsid:e},!0)};It.prototype.dtmf=function(t,e){this._publish("dtmf",{callsid:t,dtmf:e},!0)};It.prototype.hangup=function(t,e){const n=e?{callsid:t,message:e}:{callsid:t};this._publish("hangup",n,!0)};It.prototype.reject=function(t){this._publish("reject",{callsid:t},!0)};It.prototype.reinvite=function(t,e){this._publish("reinvite",{sdp:t,callsid:e},!1)};It.prototype._destroy=function(){this.transport.removeListener("close",this._handleTransportClose),this.transport.removeListener("error",this._handleTransportError),this.transport.removeListener("message",this._handleTransportMessage),this.transport.removeListener("open",this._handleTransportOpen),this.transport.close(),this.emit("offline",this)};It.prototype.destroy=function(){return this._log.info("PStream.destroy() called..."),this._destroy(),this};It.prototype.updatePreferredURI=function(t){this._preferredUri=t,this.transport.updatePreferredURI(t)};It.prototype.updateURIs=function(t){this._uris=t,this.transport.updateURIs(this._uris)};It.prototype.publish=function(t,e){return this._publish(t,e,!0)};It.prototype._publish=function(t,e,n){const r=JSON.stringify({payload:e,type:t,version:joe});!!this.transport.send(r)||(this.emit("error",{error:{code:31009,message:"No transport available to send or receive messages",twilioError:new zn.TransportError}}),n&&this._messageQueue.push([t,e,!0]))};function Noe(){const t=typeof navigator<"u"?navigator:{};return{browser:{platform:t.platform||"unknown",userAgent:t.userAgent||"unknown"},p:"browser",plugin:"rtc",v:Kc}}var Gt;(function(t){t.Sydney="sydney",t.SaoPaulo="sao-paulo",t.Dublin="dublin",t.Frankfurt="frankfurt",t.Tokyo="tokyo",t.Singapore="singapore",t.Ashburn="ashburn",t.Umatilla="umatilla",t.Roaming="roaming",t.AshburnIx="ashburn-ix",t.SanJoseIx="san-jose-ix",t.LondonIx="london-ix",t.FrankfurtIx="frankfurt-ix",t.SingaporeIx="singapore-ix",t.SydneyIx="sydney-ix",t.TokyoIx="tokyo-ix"})(Gt||(Gt={}));var mt;(function(t){t.Au1="au1",t.Au1Ix="au1-ix",t.Br1="br1",t.De1="de1",t.De1Ix="de1-ix",t.Gll="gll",t.Ie1="ie1",t.Ie1Ix="ie1-ix",t.Ie1Tnx="ie1-tnx",t.Jp1="jp1",t.Jp1Ix="jp1-ix",t.Sg1="sg1",t.Sg1Ix="sg1-ix",t.Sg1Tnx="sg1-tnx",t.Us1="us1",t.Us1Ix="us1-ix",t.Us1Tnx="us1-tnx",t.Us2="us2",t.Us2Ix="us2-ix",t.Us2Tnx="us2-tnx"})(mt||(mt={}));const Roe={ASIAPAC_SINGAPORE:mt.Sg1,ASIAPAC_SYDNEY:mt.Au1,ASIAPAC_TOKYO:mt.Jp1,EU_FRANKFURT:mt.De1,EU_IRELAND:mt.Ie1,SOUTH_AMERICA_SAO_PAULO:mt.Br1,US_EAST_VIRGINIA:mt.Us1,US_WEST_OREGON:mt.Us2},Ioe={[mt.Au1]:Gt.Sydney,[mt.Br1]:Gt.SaoPaulo,[mt.Ie1]:Gt.Dublin,[mt.De1]:Gt.Frankfurt,[mt.Jp1]:Gt.Tokyo,[mt.Sg1]:Gt.Singapore,[mt.Us1]:Gt.Ashburn,[mt.Us2]:Gt.Umatilla,[mt.Gll]:Gt.Roaming,[mt.Us1Ix]:Gt.AshburnIx,[mt.Us2Ix]:Gt.SanJoseIx,[mt.Ie1Ix]:Gt.LondonIx,[mt.De1Ix]:Gt.FrankfurtIx,[mt.Sg1Ix]:Gt.SingaporeIx,[mt.Au1Ix]:Gt.SydneyIx,[mt.Jp1Ix]:Gt.TokyoIx,[mt.Us1Tnx]:Gt.AshburnIx,[mt.Us2Tnx]:Gt.AshburnIx,[mt.Ie1Tnx]:Gt.LondonIx,[mt.Sg1Tnx]:Gt.SingaporeIx},Moe=Gt.Roaming,Doe="eventgw.twilio.com";function bI(t){return`voice-js.${t}.twilio.com`}function xI(t){return t?`eventgw.${t}.twilio.com`:Doe}function wI(t){return`wss://${t}/signal`}function _I(t){if(t&&typeof t!="string"&&!Array.isArray(t))throw new vt("If `edge` is provided, it must be of type `string` or an array of strings.");let e;return t?e=(Array.isArray(t)?t:[t]).map(r=>bI(r)):e=[bI(Moe)],e}function $oe(t){return Roe[t]||null}const SI={0:"PCMU",8:"PCMA"},Loe=111,Foe=51e4,Boe=6e3;function Uoe(t){const[,e,n]=/a=rtpmap:(\d+) (\S+)/m.exec(t)||[null,"",""],r=new RegExp(`a=fmtp:${e} (\\S+)`,"m"),[,i]=r.exec(t)||[null,""];return{codecName:n,codecParams:i}}function qoe(t){return PA(window,window.navigator)?t.split(`
`).filter(e=>e.indexOf("a=ice-lite")===-1).join(`
`):t}function Oq(t,e){if(typeof e!="number"||e<Boe||e>Foe)return t;const n=/a=rtpmap:(\d+) opus/m.exec(t),r=n&&n.length?n[1]:Loe,i=new RegExp(`a=fmtp:${r}`);return t.split(`
`).map(o=>i.test(o)?o+`;maxaveragebitrate=${e}`:o).join(`
`)}function Nq(t,e){const n=Voe(t);return[t.split(`\r
m=`)[0]].concat(n.map(i=>{if(!/^m=(audio|video)/.test(i))return i;const s=i.match(/^m=(audio|video)/)[1],o=Woe(i),a=zoe(o,e),l=Hoe(a,i),u=o.get("pcma")||[],f=o.get("pcmu")||[];return(s==="audio"?new Set(u.concat(f)):new Set).has(a[0])?l.replace(/\r\nb=(AS|TIAS):([0-9]+)/g,""):l})).join(`\r
`)}function Voe(t,e,n){return t.replace(/\r\n\r\n$/,`\r
`).split(`\r
m=`).slice(1).map(r=>`m=${r}`).filter(r=>{const i=new RegExp("m=.*","gm"),s=new RegExp("a=.*","gm");return i.test(r)&&s.test(r)})}function Woe(t){return Array.from(Goe(t)).reduce((e,n)=>{const r=n[0],i=n[1],s=e.get(i)||[];return e.set(i,s.concat(r))},new Map)}function zoe(t,e){e=e.map(s=>s.toLowerCase());const n=bT(e,s=>t.get(s)||[]),r=TA(Array.from(t.keys()),e),i=bT(r,s=>t.get(s));return n.concat(i)}function Hoe(t,e){const n=e.split(`\r
`);let r=n[0];const i=n.slice(1);return r=r.replace(/([0-9]+\s?)+$/,t.join(" ")),[r].concat(i).join(`\r
`)}function Goe(t){return Koe(t).reduce((e,n)=>{const r=new RegExp(`a=rtpmap:${n} ([^/]+)`),i=t.match(r),s=i?i[1].toLowerCase():SI[n]?SI[n].toLowerCase():"";return e.set(n,s)},new Map)}function Koe(t){const n=t.split(`\r
`)[0].match(/([0-9]+)/g);return n?n.slice(1).map(r=>parseInt(r,10)):[]}function $r(t){if(this.log=new bn("RTCPC"),typeof window>"u"){this.log.info("No RTCPeerConnection implementation available. The window object was not found.");return}t&&t.RTCPeerConnection?this.RTCPeerConnection=t.RTCPeerConnection:typeof window.RTCPeerConnection=="function"?this.RTCPeerConnection=window.RTCPeerConnection:typeof window.webkitRTCPeerConnection=="function"?this.RTCPeerConnection=webkitRTCPeerConnection:typeof window.mozRTCPeerConnection=="function"?(this.RTCPeerConnection=mozRTCPeerConnection,window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate):this.log.info("No RTCPeerConnection implementation available")}$r.prototype.create=function(t){this.pc=new this.RTCPeerConnection(t)};$r.prototype.createModernConstraints=t=>{if(typeof t>"u")return null;const e=Object.assign({},t);return typeof webkitRTCPeerConnection<"u"&&!_y()?(e.mandatory={},typeof t.audio<"u"&&(e.mandatory.OfferToReceiveAudio=t.audio),typeof t.video<"u"&&(e.mandatory.OfferToReceiveVideo=t.video)):(typeof t.audio<"u"&&(e.offerToReceiveAudio=t.audio),typeof t.video<"u"&&(e.offerToReceiveVideo=t.video)),delete e.audio,delete e.video,e};$r.prototype.createOffer=function(t,e,n,r){return e=this.createModernConstraints(e),Iq(this.pc.createOffer,this.pc)(e).then(i=>{if(!this.pc)return Promise.resolve();const s=Oq(i.sdp,t);return Cy(this.pc.setLocalDescription,this.pc)(new RTCSessionDescription({sdp:s,type:"offer"}))}).then(n,r)};$r.prototype.createAnswer=function(t,e,n,r){return e=this.createModernConstraints(e),Iq(this.pc.createAnswer,this.pc)(e).then(i=>{if(!this.pc)return Promise.resolve();const s=Oq(i.sdp,t);return Cy(this.pc.setLocalDescription,this.pc)(new RTCSessionDescription({sdp:s,type:"answer"}))}).then(n,r)};$r.prototype.processSDP=function(t,e,n,r,i,s){n=Nq(n,e);const o=new RTCSessionDescription({sdp:n,type:"offer"});return Cy(this.pc.setRemoteDescription,this.pc)(o).then(()=>{this.createAnswer(t,r,i,s)})};$r.prototype.getSDP=function(){return this.pc.localDescription.sdp};$r.prototype.processAnswer=function(t,e,n,r){return this.pc?(e=Nq(e,t),Cy(this.pc.setRemoteDescription,this.pc)(new RTCSessionDescription({sdp:e,type:"answer"})).then(n,r)):Promise.resolve()};$r.test=()=>{if(typeof navigator=="object"){const t=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.getUserMedia;if(_y(navigator))return!1;if(t&&typeof window.RTCPeerConnection=="function")return!0;if(t&&typeof window.webkitRTCPeerConnection=="function")return!0;if(t&&typeof window.mozRTCPeerConnection=="function"){try{if(typeof new window.mozRTCPeerConnection().getLocalStreams!="function")return!1}catch{return!1}return!0}else if(typeof RTCIceGatherer<"u")return!0}return!1};function Rq(t,e,n,r){return function(){const i=Array.prototype.slice.call(arguments);return new Promise(s=>{const o=t.apply(e,i);if(!r){s(o);return}if(typeof o=="object"&&typeof o.then=="function")s(o);else throw new Error}).catch(()=>new Promise((s,o)=>{t.apply(e,n?[s,o].concat(i):i.concat([s,o]))}))}}function Iq(t,e){return Rq(t,e,!0,!0)}function Cy(t,e){return Rq(t,e,!1,!1)}const Yoe=15e3,Xoe="none",Qoe="timeout",Joe="new",CI=50;function Be(t,e,n){if(!t||!e)throw new vt("Audiohelper, and pstream are required arguments");if(!(this instanceof Be))return new Be(t,e,n);this._log=new bn("PeerConnection");function r(){this._log.warn("Unexpected noop call in peerconnection")}this.onaudio=r,this.onopen=r,this.onerror=r,this.onclose=r,this.ondisconnected=r,this.onfailed=r,this.onconnected=r,this.onreconnected=r,this.onsignalingstatechange=r,this.ondtlstransportstatechange=r,this.onicegatheringfailure=r,this.onicegatheringstatechange=r,this.oniceconnectionstatechange=r,this.onpcconnectionstatechange=r,this.onicecandidate=r,this.onselectedcandidatepairchange=r,this.onvolume=r,this.version=null,this.pstream=e,this.stream=null,this.sinkIds=new Set(["default"]),this.outputs=new Map,this.status="connecting",this.callSid=null,this.isMuted=!1;const i=typeof window<"u"&&(window.AudioContext||window.webkitAudioContext);return this._isSinkSupported=!!i&&typeof HTMLAudioElement<"u"&&HTMLAudioElement.prototype.setSinkId,this._audioContext=i&&t._audioContext,this._audioHelper=t,this._audioProcessorEventObserver=t._getAudioProcessorEventObserver(),this._hasIceCandidates=!1,this._hasIceGatheringFailures=!1,this._iceGatheringTimeoutId=null,this._masterAudio=null,this._masterAudioDeviceId=null,this._mediaStreamSource=null,this._dtmfSender=null,this._dtmfSenderUnsupported=!1,this._callEvents=[],this._nextTimeToPublish=Date.now(),this._onAnswerOrRinging=r,this._onHangup=r,this._remoteStream=null,this._shouldManageStream=!0,this._iceState=Joe,this.options=n=n||{},this.navigator=n.navigator||(typeof navigator<"u"?navigator:null),this.util=n.util||Eq,this.codecPreferences=n.codecPreferences,this._onAudioProcessorAdded=s=>{this._handleAudioProcessorEvent(s,!0)},this._onAudioProcessorRemoved=s=>{this._handleAudioProcessorEvent(s,!1)},this._audioProcessorEventObserver.on("add",this._onAudioProcessorAdded),this._audioProcessorEventObserver.on("remove",this._onAudioProcessorRemoved),this}Be.prototype.uri=function(){return this._uri};Be.prototype.openDefaultDeviceWithConstraints=function(t){return this._audioHelper._openDefaultDeviceWithConstraints(t).then(this._setInputTracksFromStream.bind(this,!1))};Be.prototype.setInputTracksFromStream=function(t){const e=this;return this._setInputTracksFromStream(!0,t).then(()=>{e._shouldManageStream=!1})};Be.prototype._createAnalyser=(t,e)=>{e=Object.assign({fftSize:32,smoothingTimeConstant:.3},e);const n=t.createAnalyser();for(const r in e)n[r]=e[r];return n};Be.prototype._setVolumeHandler=function(t){this.onvolume=t};Be.prototype._startPollingVolume=function(){if(!this._audioContext||!this.stream||!this._remoteStream)return;const t=this._audioContext,n=(this._inputAnalyser=this._createAnalyser(t)).frequencyBinCount,r=new Uint8Array(n);this._inputAnalyser2=this._createAnalyser(t,{maxDecibels:0,minDecibels:-127,smoothingTimeConstant:0});const s=(this._outputAnalyser=this._createAnalyser(t)).frequencyBinCount,o=new Uint8Array(s);this._outputAnalyser2=this._createAnalyser(t,{maxDecibels:0,minDecibels:-127,smoothingTimeConstant:0}),this._updateInputStreamSource(this.stream),this._updateOutputStreamSource(this._remoteStream);const a=this;setTimeout(function l(){if(a._audioContext){if(a.status==="closed"){a._inputAnalyser.disconnect(),a._outputAnalyser.disconnect(),a._inputAnalyser2.disconnect(),a._outputAnalyser2.disconnect();return}}else return;a._inputAnalyser.getByteFrequencyData(r);const u=a.util.average(r);a._inputAnalyser2.getByteFrequencyData(r);const f=a.util.average(r);a._outputAnalyser.getByteFrequencyData(o);const h=a.util.average(o);a._outputAnalyser2.getByteFrequencyData(o);const m=a.util.average(o);a.onvolume(u/255,h/255,f,m),setTimeout(l,CI)},CI)};Be.prototype._stopStream=function(){this._shouldManageStream&&this._audioHelper._stopDefaultInputDeviceStream()};Be.prototype._updateInputStreamSource=function(t){this._inputStreamSource&&this._inputStreamSource.disconnect();try{this._inputStreamSource=this._audioContext.createMediaStreamSource(t),this._inputStreamSource.connect(this._inputAnalyser),this._inputStreamSource.connect(this._inputAnalyser2)}catch(e){this._log.warn("Unable to update input MediaStreamSource",e),this._inputStreamSource=null}};Be.prototype._updateOutputStreamSource=function(t){this._outputStreamSource&&this._outputStreamSource.disconnect();try{this._outputStreamSource=this._audioContext.createMediaStreamSource(t),this._outputStreamSource.connect(this._outputAnalyser),this._outputStreamSource.connect(this._outputAnalyser2)}catch(e){this._log.warn("Unable to update output MediaStreamSource",e),this._outputStreamSource=null}};Be.prototype._setInputTracksFromStream=function(t,e){if(!e)return Promise.reject(new vt("Can not set input stream to null while in a call"));if(!e.getAudioTracks().length)return Promise.reject(new vt("Supplied input stream has no audio tracks"));const n=this.stream,r=()=>(this.mute(this.isMuted),Promise.resolve(this.stream));if(!n)this.stream=t?TI(e,this.options.MediaStream):e;else return this._shouldManageStream&&this._stopStream(),this._sender||(this._sender=this.version.pc.getSenders()[0]),this._sender.replaceTrack(e.getAudioTracks()[0]).then(()=>(this._updateInputStreamSource(e),this.stream=t?TI(e,this.options.MediaStream):e,r()));return r()};Be.prototype._onInputDevicesChanged=function(){if(!this.stream)return;this.stream.getAudioTracks().every(e=>e.readyState==="ended")&&this._shouldManageStream&&this.openDefaultDeviceWithConstraints({audio:!0})};Be.prototype._onIceGatheringFailure=function(t){this._hasIceGatheringFailures=!0,this.onicegatheringfailure(t)};Be.prototype._onMediaConnectionStateChange=function(t){const e=this._iceState;if(e===t||t!=="connected"&&t!=="disconnected"&&t!=="failed")return;this._iceState=t;let n;switch(t){case"connected":e==="disconnected"||e==="failed"?(n="ICE liveliness check succeeded. Connection with Twilio restored",this._log.info(n),this.onreconnected(n)):(n="Media connection established.",this._log.info(n),this.onconnected(n)),this._stopIceGatheringTimeout(),this._hasIceGatheringFailures=!1;break;case"disconnected":n="ICE liveliness check failed. May be having trouble connecting to Twilio",this._log.warn(n),this.ondisconnected(n);break;case"failed":n="Connection with Twilio was interrupted.",this._log.warn(n),this.onfailed(n);break}};Be.prototype._setSinkIds=function(t){return this._isSinkSupported?(this.sinkIds=new Set(t.forEach?t:[t]),this.version?this._updateAudioOutputs():Promise.resolve()):Promise.reject(new kn("Audio output selection is not supported by this browser"))};Be.prototype._startIceGatheringTimeout=function(){this._stopIceGatheringTimeout(),this._iceGatheringTimeoutId=setTimeout(()=>{this._onIceGatheringFailure(Qoe)},Yoe)};Be.prototype._stopIceGatheringTimeout=function(){clearInterval(this._iceGatheringTimeoutId)};Be.prototype._updateAudioOutputs=function(){const e=Array.from(this.sinkIds).filter(function(s){return!this.outputs.has(s)},this),n=Array.from(this.outputs.keys()).filter(function(s){return!this.sinkIds.has(s)},this),r=this,i=e.map(this._createAudioOutput,this);return Promise.all(i).then(()=>Promise.all(n.map(r._removeAudioOutput,r)))};Be.prototype._createAudio=function(e){const n=new Audio(e);return this.onaudio(n),n};Be.prototype._createAudioOutput=function(e){let n=null;this._mediaStreamSource&&(n=this._audioContext.createMediaStreamDestination(),this._mediaStreamSource.connect(n));const r=this._createAudio();Ty(r,n&&n.stream?n.stream:this.pcStream,this._audioHelper).catch(()=>this._log.error("Error attaching stream to element (_createAudioOutput)."));const i=this;return r.setSinkId(e).then(()=>r.play()).then(()=>{i.outputs.set(e,{audio:r,dest:n})})};Be.prototype._removeAudioOutputs=function(){return this._masterAudio&&typeof this._masterAudioDeviceId<"u"&&(this._disableOutput(this,this._masterAudioDeviceId),this.outputs.delete(this._masterAudioDeviceId),this._masterAudioDeviceId=null,this._masterAudio.paused||this._masterAudio.pause(),typeof this._masterAudio.srcObject<"u"?this._masterAudio.srcObject=null:this._masterAudio.src="",this._masterAudio=null),Array.from(this.outputs.keys()).map(this._removeAudioOutput,this)};Be.prototype._disableOutput=function(e,n){const r=e.outputs.get(n);r&&(r.audio&&(r.audio.pause(),r.audio.src=""),r.dest&&r.dest.disconnect())};Be.prototype._reassignMasterOutput=function(e,n){const r=e.outputs.get(n);e.outputs.delete(n);const i=this,s=Array.from(e.outputs.keys())[0],o=typeof s=="string"?s:"default";return r.audio.setSinkId(o).then(()=>{i._disableOutput(e,o),e.outputs.set(o,r),e._masterAudioDeviceId=o}).catch(function(){e.outputs.set(n,r),i._log.info("Could not reassign master output. Attempted to roll back.")})};Be.prototype._removeAudioOutput=function(e){return this._masterAudioDeviceId===e?this._reassignMasterOutput(this,e):(this._disableOutput(this,e),this.outputs.delete(e),Promise.resolve())};Be.prototype._onAddTrack=function(e,n){const r=e._masterAudio=this._createAudio();Ty(r,n,this._audioHelper).then(()=>r.play()).catch(()=>e._log.error("Error attaching stream to element (_onAddTrack)."));const i=Array.from(e.outputs.keys())[0],s=typeof i=="string"?i:"default";e._masterAudioDeviceId=s,e.outputs.set(s,{audio:r});try{e._mediaStreamSource=e._audioContext.createMediaStreamSource(n)}catch(o){this._log.warn("Unable to create a MediaStreamSource from onAddTrack",o),this._mediaStreamSource=null}e.pcStream=n,e._updateAudioOutputs()};Be.prototype._fallbackOnAddTrack=function(e,n){const r=document&&document.createElement("audio");Ty(r,n,this._audioHelper).then(()=>r.play()).catch(()=>e._log.error("Error attaching stream to element (_fallbackOnAddTrack).")),e.outputs.set("default",{audio:r})};Be.prototype._setEncodingParameters=function(t){if(!t||!this._sender||typeof this._sender.getParameters!="function"||typeof this._sender.setParameters!="function")return;const e=this._sender.getParameters();!e.priority&&!(e.encodings&&e.encodings.length)||(e.priority="high",e.encodings&&e.encodings.length&&e.encodings.forEach(n=>{n.priority="high",n.networkPriority="high"}),this._sender.setParameters(e))};Be.prototype._setupPeerConnection=function(t){const e=this,n=new(this.options.rtcpcFactory||$r)({RTCPeerConnection:this.options.RTCPeerConnection});n.create(t),Zoe(n.pc,this.stream);const r=RTCRtpReceiver.getCapabilities("audio").codecs;this._log.debug("sorting codecs",r,this.codecPreferences);const i=Pq(r,this.codecPreferences),[s]=n.pc.getTransceivers();this._log.debug("setting sorted codecs",i),s.setCodecPreferences(i);const o="ontrack"in n.pc?"ontrack":"onaddstream";return n.pc[o]=a=>{const l=e._remoteStream=a.stream||a.streams[0];typeof n.pc.getSenders=="function"&&(this._sender=n.pc.getSenders()[0]),e._isSinkSupported?e._onAddTrack(e,l):e._fallbackOnAddTrack(e,l),e._startPollingVolume()},n};Be.prototype._maybeSetIceAggressiveNomination=function(t){return this.options.forceAggressiveIceNomination?qoe(t):t};Be.prototype._setupChannel=function(){const t=this.version.pc;this.version.pc.onopen=()=>{this.status="open",this.onopen()},this.version.pc.onstatechange=()=>{this.version.pc&&this.version.pc.readyState==="stable"&&(this.status="open",this.onopen())},this.version.pc.onsignalingstatechange=()=>{const e=t.signalingState;this._log.info(`signalingState is "${e}"`),this.version.pc&&this.version.pc.signalingState==="stable"&&(this.status="open",this.onopen()),this.onsignalingstatechange(t.signalingState)},t.onconnectionstatechange=e=>{let n=t.connectionState;if(!n&&e&&e.target){const r=e.target;n=r.connectionState||r.connectionState_,this._log.info(`pc.connectionState not detected. Using target PC. State=${n}`)}n?this._log.info(`pc.connectionState is "${n}"`):this._log.warn(`onconnectionstatechange detected but state is "${n}"`),this.onpcconnectionstatechange(n),this._onMediaConnectionStateChange(n)},t.onicecandidate=e=>{const{candidate:n}=e;n&&(this._hasIceCandidates=!0,this.onicecandidate(n),this._setupRTCIceTransportListener()),this._log.info(`ICE Candidate: ${JSON.stringify(n)}`)},t.onicegatheringstatechange=()=>{const e=t.iceGatheringState;e==="gathering"?this._startIceGatheringTimeout():e==="complete"&&(this._stopIceGatheringTimeout(),this._hasIceCandidates||this._onIceGatheringFailure(Xoe),this._hasIceCandidates&&this._hasIceGatheringFailures&&this._startIceGatheringTimeout()),this._log.info(`pc.iceGatheringState is "${t.iceGatheringState}"`),this.onicegatheringstatechange(e)},t.oniceconnectionstatechange=()=>{this._log.info(`pc.iceConnectionState is "${t.iceConnectionState}"`),this.oniceconnectionstatechange(t.iceConnectionState),this._onMediaConnectionStateChange(t.iceConnectionState)}};Be.prototype._initializeMediaStream=function(t){return this.status==="open"?!1:this.pstream.status==="disconnected"?(this.onerror({info:{code:31e3,message:"Cannot establish connection. Client is disconnected",twilioError:new ri.ConnectionDisconnected}}),this.close(),!1):(this.version=this._setupPeerConnection(t),this._setupChannel(),!0)};Be.prototype._removeReconnectionListeners=function(){this.pstream&&(this.pstream.removeListener("answer",this._onAnswerOrRinging),this.pstream.removeListener("hangup",this._onHangup))};Be.prototype._setupRTCDtlsTransportListener=function(){const t=this.getRTCDtlsTransport();if(!t||t.onstatechange)return;const e=()=>{this._log.info(`dtlsTransportState is "${t.state}"`),this.ondtlstransportstatechange(t.state)};e(),t.onstatechange=e};Be.prototype._setupRTCIceTransportListener=function(){const t=this._getRTCIceTransport();!t||t.onselectedcandidatepairchange||(t.onselectedcandidatepairchange=()=>this.onselectedcandidatepairchange(t.getSelectedCandidatePair()))};Be.prototype.iceRestart=function(){this._log.info("Attempting to restart ICE..."),this._hasIceCandidates=!1,this.version.createOffer(this.options.maxAverageBitrate,{iceRestart:!0}).then(()=>{this._removeReconnectionListeners(),this._onAnswerOrRinging=t=>{if(this._removeReconnectionListeners(),!t.sdp||this.version.pc.signalingState!=="have-local-offer"){const n=`Invalid state or param during ICE Restart:hasSdp:${!!t.sdp}, signalingState:${this.version.pc.signalingState}`;this._log.warn(n);return}const e=this._maybeSetIceAggressiveNomination(t.sdp);this._answerSdp=e,this.status!=="closed"&&this.version.processAnswer(this.codecPreferences,e,null,n=>{const r=n&&n.message?n.message:n;this._log.error(`Failed to process answer during ICE Restart. Error: ${r}`)})},this._onHangup=()=>{this._log.info("Received hangup during ICE Restart"),this._removeReconnectionListeners()},this.pstream.on("answer",this._onAnswerOrRinging),this.pstream.on("hangup",this._onHangup),this.pstream.reinvite(this.version.getSDP(),this.callSid)}).catch(t=>{const e=t&&t.message?t.message:t;this._log.error(`Failed to createOffer during ICE Restart. Error: ${e}`),this.onfailed(e)})};Be.prototype.makeOutgoingCall=function(t,e,n,r,i){if(!this._initializeMediaStream(r))return;const s=this;this.callSid=n;function o(){s.options&&s._setEncodingParameters(s.options.dscp),i(s.version.pc)}function a(f){const h=f.message||f;s.onerror({info:{code:31e3,message:`Error processing answer: ${h}`,twilioError:new Ji.ClientRemoteDescFailed}})}this._onAnswerOrRinging=f=>{if(!f.sdp)return;const h=this._maybeSetIceAggressiveNomination(f.sdp);s._answerSdp=h,s.status!=="closed"&&s.version.processAnswer(this.codecPreferences,h,o,a),s.pstream.removeListener("answer",s._onAnswerOrRinging),s.pstream.removeListener("ringing",s._onAnswerOrRinging)},this.pstream.on("answer",this._onAnswerOrRinging),this.pstream.on("ringing",this._onAnswerOrRinging);function l(){s.status!=="closed"&&(e?s.pstream.reconnect(s.version.getSDP(),s.callSid,e):s.pstream.invite(s.version.getSDP(),s.callSid,t),s._setupRTCDtlsTransportListener())}function u(f){const h=f.message||f;s.onerror({info:{code:31e3,message:`Error creating the offer: ${h}`,twilioError:new Ji.ClientLocalDescFailed}})}this.version.createOffer(this.options.maxAverageBitrate,{audio:!0},l,u)};Be.prototype.answerIncomingCall=function(t,e,n,r){if(!this._initializeMediaStream(n))return;e=this._maybeSetIceAggressiveNomination(e),this._answerSdp=e.replace(/^a=setup:actpass$/gm,"a=setup:passive"),this.callSid=t;const i=this;function s(){i.status!=="closed"&&(i.pstream.answer(i.version.getSDP(),t),i.options&&i._setEncodingParameters(i.options.dscp),r(i.version.pc),i._setupRTCDtlsTransportListener())}function o(a){const l=a.message||a;i.onerror({info:{code:31e3,message:`Error creating the answer: ${l}`,twilioError:new Ji.ClientRemoteDescFailed}})}this.version.processSDP(this.options.maxAverageBitrate,this.codecPreferences,e,{audio:!0},s,o)};Be.prototype.close=function(){this.version&&this.version.pc&&(this.version.pc.signalingState!=="closed"&&this.version.pc.close(),this.version.pc=null),this.stream&&(this.mute(!1),this._stopStream()),this.stream=null,this._removeReconnectionListeners(),this._stopIceGatheringTimeout(),this._audioHelper._destroyRemoteProcessedStream(),this._audioProcessorEventObserver.removeListener("add",this._onAudioProcessorAdded),this._audioProcessorEventObserver.removeListener("remove",this._onAudioProcessorRemoved),Promise.all(this._removeAudioOutputs()).catch(()=>{}),this._mediaStreamSource&&this._mediaStreamSource.disconnect(),this._inputAnalyser&&this._inputAnalyser.disconnect(),this._outputAnalyser&&this._outputAnalyser.disconnect(),this._inputAnalyser2&&this._inputAnalyser2.disconnect(),this._outputAnalyser2&&this._outputAnalyser2.disconnect(),this.status="closed",this.onclose()};Be.prototype.reject=function(t){this.callSid=t};Be.prototype.ignore=function(t){this.callSid=t};Be.prototype.mute=function(t){this.isMuted=t,this.stream&&(this._sender&&this._sender.track?this._sender.track.enabled=!t:(typeof this.stream.getAudioTracks=="function"?this.stream.getAudioTracks():this.stream.audioTracks).forEach(n=>{n.enabled=!t}))};Be.prototype.getOrCreateDTMFSender=function(){if(this._dtmfSender||this._dtmfSenderUnsupported)return this._dtmfSender||null;const e=this,n=this.version.pc;if(!n)return this._log.warn("No RTCPeerConnection available to call createDTMFSender on"),null;if(typeof n.getSenders=="function"&&(typeof RTCDTMFSender=="function"||typeof RTCDtmfSender=="function")){const r=n.getSenders().find(i=>i.dtmf);if(r)return this._log.info("Using RTCRtpSender#dtmf"),this._dtmfSender=r.dtmf,this._dtmfSender}if(typeof n.createDTMFSender=="function"&&typeof n.getLocalStreams=="function"){const r=n.getLocalStreams().map(i=>{const s=e._getAudioTracks(i);return s&&s[0]})[0];return r?(this._log.info("Creating RTCDTMFSender"),this._dtmfSender=n.createDTMFSender(r),this._dtmfSender):(this._log.warn("No local audio MediaStreamTrack available on the RTCPeerConnection to pass to createDTMFSender"),null)}return this._log.info("RTCPeerConnection does not support RTCDTMFSender"),this._dtmfSenderUnsupported=!0,null};Be.prototype.getRTCDtlsTransport=function(){const e=this.version&&this.version.pc&&typeof this.version.pc.getSenders=="function"&&this.version.pc.getSenders()[0];return e&&e.transport||null};Be.prototype._canStopMediaStreamTrack=()=>typeof MediaStreamTrack.prototype.stop=="function";Be.prototype._getAudioTracks=t=>typeof t.getAudioTracks=="function"?t.getAudioTracks():t.audioTracks;Be.prototype._getRTCIceTransport=function(){const e=this.getRTCDtlsTransport();return e&&e.iceTransport||null};Be.protocol=$r.test()?new $r:null;Be.prototype._handleAudioProcessorEvent=function(t,e){if(!t||!this._remoteStream)return;let n=null;this._masterAudio?(this._log.info("Setting audio source for master audio."),n=this._masterAudio):(this._log.info("No master audio. Setting audio source for default audio output."),n=this.outputs.get("default").audio),Ty(n,this._remoteStream,this._audioHelper).then(()=>{const r=e?"Successfully updated audio source with processed stream":"Successfully reverted audio source to original stream";this._log.info(r),n.paused&&(this._log.info("Resuming audio playback"),n.play())}).catch(()=>{const r=e?"Failed to update audio source":"Failed to revert audio source";this._log.error(r)})};function Zoe(t,e){typeof t.addTrack=="function"?e.getAudioTracks().forEach(n=>{t.addTrack(n,e)}):t.addStream(e)}function TI(t,e){let n;return e?n=new e:typeof MediaStream<"u"?n=new MediaStream:n=new webkitMediaStream,t.getAudioTracks().forEach(n.addTrack,n),n}function Ty(t,e,n){return n._maybeCreateRemoteProcessedStream(e).then(r=>{if(typeof t.srcObject<"u")t.srcObject=r;else if(typeof t.mozSrcObject<"u")t.mozSrcObject=r;else if(typeof t.src<"u"){const i=t.options.window||window;t.src=(i.URL||i.webkitURL).createObjectURL(r)}else return Promise.reject();return Promise.resolve()})}Be.enabled=$r.test();function eae(){return $r.test()}function tae(){return typeof RTCIceGatherer<"u"?"ORTC":"WebRTC"}function nae(t,e){return e=e||{},e.util=e.util||Eq,e.navigator=e.navigator||(typeof navigator<"u"?navigator:null),new Promise((n,r)=>{if(!e.navigator)throw new kn("getUserMedia is not supported");switch("function"){case typeof(e.navigator.mediaDevices&&e.navigator.mediaDevices.getUserMedia):return n(e.navigator.mediaDevices.getUserMedia(t));case typeof e.navigator.webkitGetUserMedia:return e.navigator.webkitGetUserMedia(t,n,r);case typeof e.navigator.mozGetUserMedia:return e.navigator.mozGetUserMedia(t,n,r);case typeof e.navigator.getUserMedia:return e.navigator.getUserMedia(t,n,r);default:throw new kn("getUserMedia is not supported")}}).catch(n=>{throw e.util.isFirefox()&&n.name==="NotReadableError"?new kn(`Firefox does not currently support opening multiple audio input trackssimultaneously, even across different tabs.
Related Bugzilla thread: https://bugzilla.mozilla.org/show_bug.cgi?id=1299324`):n})}function rae(){if(typeof window!="object")throw new kn("This platform is not supported.");const{crypto:t}=window;if(typeof t!="object")throw new kn("The `crypto` module is not available on this platform.");if(typeof t.getRandomValues!="function")throw new kn("The function `crypto.getRandomValues` is not available on this platform.");if(typeof window.Uint8Array!="function")throw new kn("The `Uint8Array` module is not available on this platform.");return t.getRandomValues(new window.Uint8Array(16)).reduce((e,n)=>`${e}${n.toString(16).padStart(2,"0")}`,"")}function CT(){return`KX${rae()}`}let iae=class{constructor(){this._promise=new Promise((e,n)=>{this._resolve=e,this._reject=n})}get promise(){return this._promise}reject(e){this._reject(e)}resolve(e){this._resolve(e)}};class sae{constructor(){this._operations=[]}enqueue(e){const n=!!this._operations.length,r=new iae;return this._operations.push({deferred:r,callback:e}),n||this._processQueue(),r.promise}_processQueue(){return ge(this,void 0,void 0,function*(){for(;this._operations.length;){const{deferred:e,callback:n}=this._operations[0];let r,i,s;try{r=yield n(),s=!0}catch(o){i=o}this._operations.shift(),s?e.resolve(r):e.reject(i)}})}}class oae{get reject(){return this._reject}get resolve(){return this._resolve}constructor(){this.promise=new Promise((e,n)=>{this._resolve=e,this._reject=n})}}let aae=class{constructor(){this._eventEmitter=new si.EventEmitter}addEventListener(e,n){return this._eventEmitter.addListener(e,n)}dispatchEvent(e,...n){return this._eventEmitter.emit(e,...n)}removeEventListener(e,n){return this._eventEmitter.removeListener(e,n)}};class PI extends aae{get destination(){return this._destination}get loop(){return this._loop}set loop(e){const n=this;function r(){n._audioNode.removeEventListener("ended",r),n.pause()}!e&&this.loop&&!this.paused&&this._audioNode.addEventListener("ended",r),this._loop=e}get muted(){return this._gainNode.gain.value===0}set muted(e){this._gainNode.gain.value=e?0:1}get paused(){return this._audioNode===null}get src(){return this._src}set src(e){this._load(e)}get srcObject(){return this._audioElement.srcObject}set srcObject(e){this._audioElement.srcObject=e}get sinkId(){return this._sinkId}constructor(e,n={},r={}){super(),this._audioNode=null,this._loop=!1,this._pendingPlayDeferreds=[],this._sinkId="default",this._src="",typeof n!="string"&&(r=n),this._audioContext=e,this._audioElement=new(r.AudioFactory||Audio),this._bufferPromise=this._createPlayDeferred().promise,this._destination=this._audioContext.destination,this._gainNode=this._audioContext.createGain(),this._gainNode.connect(this._destination),this._XMLHttpRequest=r.XMLHttpRequestFactory||XMLHttpRequest,this.addEventListener("canplaythrough",()=>{this._resolvePlayDeferreds()}),typeof n=="string"&&(this.src=n)}load(){this._load(this._src)}pause(){this.paused||(this._audioElement.pause(),this._audioNode.stop(),this._audioNode.disconnect(this._gainNode),this._audioNode=null,this._rejectPlayDeferreds(new Error("The play() request was interrupted by a call to pause().")))}play(){return ge(this,void 0,void 0,function*(){if(!this.paused){if(yield this._bufferPromise,!this.paused)return;throw new Error("The play() request was interrupted by a call to pause().")}this._audioNode=this._audioContext.createBufferSource(),this._audioNode.loop=this.loop,this._audioNode.addEventListener("ended",()=>{this._audioNode&&this._audioNode.loop||this.dispatchEvent("ended")});const e=yield this._bufferPromise;if(this.paused)throw new Error("The play() request was interrupted by a call to pause().");if(this._audioNode.buffer=e,this._audioNode.connect(this._gainNode),this._audioNode.start(),this._audioElement.srcObject)return this._audioElement.play()})}setSinkId(e){return ge(this,void 0,void 0,function*(){if(typeof this._audioElement.setSinkId!="function")throw new Error("This browser does not support setSinkId.");if(e!==this.sinkId){if(e==="default"){this.paused||this._gainNode.disconnect(this._destination),this._audioElement.srcObject=null,this._destination=this._audioContext.destination,this._gainNode.connect(this._destination),this._sinkId=e;return}yield this._audioElement.setSinkId(e),!this._audioElement.srcObject&&(this._gainNode.disconnect(this._audioContext.destination),this._destination=this._audioContext.createMediaStreamDestination(),this._audioElement.srcObject=this._destination.stream,this._sinkId=e,this._gainNode.connect(this._destination))}})}_createPlayDeferred(){const e=new oae;return this._pendingPlayDeferreds.push(e),e}_load(e){this._src&&this._src!==e&&this.pause(),this._src=e,this._bufferPromise=new Promise((n,r)=>ge(this,void 0,void 0,function*(){if(!e)return this._createPlayDeferred().promise;const i=yield lae(this._audioContext,this._XMLHttpRequest,e);this.dispatchEvent("canplaythrough"),n(i)}))}_rejectPlayDeferreds(e){const n=this._pendingPlayDeferreds;n.splice(0,n.length).forEach(({reject:r})=>r(e))}_resolvePlayDeferreds(e){const n=this._pendingPlayDeferreds;n.splice(0,n.length).forEach(({resolve:r})=>r(e))}}function lae(t,e,n){return ge(this,void 0,void 0,function*(){const r=new e;r.open("GET",n,!0),r.responseType="arraybuffer";const i=yield new Promise(s=>{r.addEventListener("load",s),r.send()});try{return t.decodeAudioData(i.target.response)}catch{return new Promise(o=>{t.decodeAudioData(i.target.response,o)})}})}function zs(t,e,n){if(!(this instanceof zs))return new zs(t,e,n);if(!t||!e)throw new vt("name and url are required arguments");n=Object.assign({AudioFactory:typeof Audio<"u"?Audio:null,maxDuration:0,shouldLoop:!1},n),n.AudioPlayer=n.audioContext?PI.bind(PI,n.audioContext):n.AudioFactory,Object.defineProperties(this,{_Audio:{value:n.AudioPlayer},_activeEls:{value:new Map},_isSinkSupported:{value:n.AudioFactory!==null&&typeof n.AudioFactory.prototype.setSinkId=="function"},_maxDuration:{value:n.maxDuration},_maxDurationTimeout:{value:null,writable:!0},_operations:{value:new sae},_playPromise:{value:null,writable:!0},_shouldLoop:{value:n.shouldLoop},_sinkIds:{value:["default"]},isPlaying:{enumerable:!0,get(){return!!this._playPromise}},name:{enumerable:!0,value:t},url:{enumerable:!0,value:e}}),this._Audio&&this._play(!0,!1)}function Mq(t){t&&(t.pause(),t.src="",t.srcObject=null,t.load())}zs.prototype._playAudioElement=function(e,n,r){const i=this._activeEls.get(e);if(!i)throw new vt(`sinkId: "${e}" doesn't have an audio element`);return i.muted=!!n,i.loop=!!r,i.play().then(()=>i).catch(s=>{throw Mq(i),this._activeEls.delete(e),s})};zs.prototype._play=function(e,n){this.isPlaying&&this._stop(),this._maxDuration>0&&(this._maxDurationTimeout=setTimeout(this._stop.bind(this),this._maxDuration)),n=typeof n=="boolean"?n:this._shouldLoop;const r=this;return this._playPromise=Promise.all(this._sinkIds.map(function(o){if(!r._Audio)return Promise.resolve();let a=r._activeEls.get(o);return a?r._playAudioElement(o,e,n):(a=new r._Audio(r.url),typeof a.setAttribute=="function"&&a.setAttribute("crossorigin","anonymous"),new Promise(l=>{a.addEventListener("canplaythrough",l)}).then(()=>(r._isSinkSupported?a.setSinkId(o):Promise.resolve()).then(function(){return r._activeEls.set(o,a),r._playPromise?r._playAudioElement(o,e,n):Promise.resolve()})))}))};zs.prototype._stop=function(){this._activeEls.forEach((e,n)=>{this._sinkIds.includes(n)?(e.pause(),e.currentTime=0):(Mq(e),this._activeEls.delete(n))}),clearTimeout(this._maxDurationTimeout),this._playPromise=null,this._maxDurationTimeout=null};zs.prototype.setSinkIds=function(e){this._isSinkSupported&&(e=e.forEach?e:[e],[].splice.apply(this._sinkIds,[0,this._sinkIds.length].concat(e)))};zs.prototype.stop=function(){this._operations.enqueue(()=>(this._stop(),Promise.resolve()))};zs.prototype.play=function(){return this._operations.enqueue(()=>this._play())};const cae=3e4,uae=2e3,dae="twilio-js-sdk",fae='Parameter "token" must be of type "string".';class _e extends si.EventEmitter{static get audioContext(){return _e._audioContext}static get extension(){const e=typeof document<"u"?document.createElement("audio"):{canPlayType:!1};let n;try{n=e.canPlayType&&!!e.canPlayType("audio/mpeg").replace(/no/,"")}catch{n=!1}let r;try{r=e.canPlayType&&!!e.canPlayType("audio/ogg;codecs='vorbis'").replace(/no/,"")}catch{r=!1}return r&&!n?"ogg":"mp3"}static get isSupported(){return eae()}static get packageName(){return Sq}static runPreflight(e,n){return new Ft(e,Object.assign({audioContext:_e._getOrCreateAudioContext()},n))}static toString(){return"[Twilio.Device class]"}static get version(){return Kc}static _getOrCreateAudioContext(){return _e._audioContext||(typeof AudioContext<"u"?_e._audioContext=new AudioContext:typeof webkitAudioContext<"u"&&(_e._audioContext=new webkitAudioContext)),_e._audioContext}constructor(e,n={}){if(super(),this._activeCall=null,this._audio=null,this._audioProcessorEventObserver=null,this._callInputStream=null,this._calls=[],this._callSinkIds=["default"],this._chunderURIs=[],this._defaultOptions={allowIncomingWhileBusy:!1,closeProtection:!1,codecPreferences:[we.Codec.PCMU,we.Codec.Opus],dscp:!0,enableImprovedSignalingErrorPrecision:!1,forceAggressiveIceNomination:!1,logLevel:Qf.levels.ERROR,maxCallSignalingTimeoutMs:0,preflight:!1,sounds:{},tokenRefreshMs:1e4,voiceEventSidGenerator:CT},this._edge=null,this._home=null,this._identity=null,this._log=new bn("Device"),this._makeCallPromise=null,this._options={},this._preferredURI=null,this._publisher=null,this._region=null,this._regTimer=null,this._shouldReRegister=!1,this._soundcache=new Map,this._state=_e.State.Unregistered,this._stateEventMapping={[_e.State.Destroyed]:_e.EventName.Destroyed,[_e.State.Unregistered]:_e.EventName.Unregistered,[_e.State.Registering]:_e.EventName.Registering,[_e.State.Registered]:_e.EventName.Registered},this._stream=null,this._streamConnectedPromise=null,this._tokenWillExpireTimeout=null,this._createDefaultPayload=s=>{const o={aggressive_nomination:this._options.forceAggressiveIceNomination,browser_extension:this._isBrowserExtension,dscp:!!this._options.dscp,ice_restart_enabled:!0,platform:tae(),sdk_version:Kc};function a(l,u){u&&(o[l]=u)}if(s){const l=s.parameters.CallSid;a("call_sid",/^TJ/.test(l)?void 0:l),a("temp_call_sid",s.outboundConnectionId),a("audio_codec",s.codec),o.direction=s.direction}return a("gateway",this._stream&&this._stream.gateway),a("region",this._stream&&this._stream.region),o},this._onSignalingClose=()=>{this._stream=null,this._streamConnectedPromise=null},this._onSignalingConnected=s=>{var o;const a=$oe(s.region);if(this._edge=s.edge||Ioe[a]||s.region,this._region=a||s.region,this._home=s.home,(o=this._publisher)===null||o===void 0||o.setHost(xI(s.home)),s.token&&(this._identity=s.token.identity,typeof s.token.ttl=="number"&&typeof this._options.tokenRefreshMs=="number")){const u=s.token.ttl*1e3,f=Math.max(0,u-this._options.tokenRefreshMs);this._tokenWillExpireTimeout=setTimeout(()=>{this._log.debug("#tokenWillExpire"),this.emit("tokenWillExpire",this),this._tokenWillExpireTimeout&&(clearTimeout(this._tokenWillExpireTimeout),this._tokenWillExpireTimeout=null)},f)}const l=this._getChunderws()||_I(this._edge);if(l.length>0){const[u]=l;this._preferredURI=wI(u)}else this._log.warn("Could not parse a preferred URI from the stream#connected event.");this._shouldReRegister&&this.register()},this._onSignalingError=s=>{if(typeof s!="object"){this._log.warn("Invalid signaling error payload",s);return}const{error:o,callsid:a,voiceeventsid:l}=s;if(typeof o!="object"||l){this._log.warn("Ignoring signaling error payload",{originalError:o,voiceeventsid:l});return}const u=typeof a=="string"&&this._findCall(a)||void 0,{code:f,message:h}=o;let{twilioError:m}=o;if(typeof f=="number")if(f===31201)m=new gn.AuthenticationFailed(o);else if(f===31204)m=new gn.AccessTokenInvalid(o);else if(f===31205)this._stopRegistrationTimer(),m=new gn.AccessTokenExpired(o);else{const v=yT(!!this._options.enableImprovedSignalingErrorPrecision,f);typeof v<"u"&&(m=new v(o))}m||(this._log.error("Unknown signaling error: ",o),m=new zn.UnknownError(h,o)),this._log.error("Received error: ",m),this._log.debug("#error",o),this.emit(_e.EventName.Error,m,u)},this._onSignalingInvite=s=>ge(this,void 0,void 0,function*(){var o;const a=!!this._activeCall;if(a&&!this._options.allowIncomingWhileBusy){this._log.info("Device busy; ignoring incoming invite");return}if(!s.callsid||!s.sdp){this._log.debug("#error",s),this.emit(_e.EventName.Error,new Za.BadRequest("Malformed invite from gateway"));return}const l=s.parameters||{};l.CallSid=l.CallSid||s.callsid;const u=Object.assign({},Tq(l.Params));this._makeCallPromise=this._makeCall(u,{callParameters:l,enableImprovedSignalingErrorPrecision:!!this._options.enableImprovedSignalingErrorPrecision,offerSdp:s.sdp,reconnectToken:s.reconnect,voiceEventSidGenerator:this._options.voiceEventSidGenerator});let f;try{f=yield this._makeCallPromise}finally{this._makeCallPromise=null}this._calls.push(f),f.once("accept",()=>{this._soundcache.get(_e.SoundName.Incoming).stop(),this._publishNetworkChange()});const h=!((o=this._audio)===null||o===void 0)&&o.incoming()&&!a?()=>this._soundcache.get(_e.SoundName.Incoming).play():()=>Promise.resolve();this._showIncomingCall(f,h)}),this._onSignalingOffline=()=>{this._log.info("Stream is offline"),this._edge=null,this._region=null,this._shouldReRegister=this.state!==_e.State.Unregistered,this._setState(_e.State.Unregistered)},this._onSignalingReady=()=>{this._log.info("Stream is ready"),this._setState(_e.State.Registered)},this._publishNetworkChange=()=>{this._activeCall&&this._networkInformation&&this._publisher.info("network-information","network-change",{connection_type:this._networkInformation.type,downlink:this._networkInformation.downlink,downlinkMax:this._networkInformation.downlinkMax,effective_type:this._networkInformation.effectiveType,rtt:this._networkInformation.rtt},this._activeCall)},this._updateInputStream=s=>{const o=this._activeCall;return o&&!s?Promise.reject(new wi("Cannot unset input device while a call is in progress.")):(this._callInputStream=s,o?o._setInputTracksFromStream(s):Promise.resolve())},this._updateSinkIds=(s,o)=>(s==="ringtone"?this._updateRingtoneSinkIds(o):this._updateSpeakerSinkIds(o)).then(()=>{this._publisher.info("audio",`${s}-devices-set`,{audio_device_ids:o},this._activeCall)},l=>{throw this._publisher.error("audio",`${s}-devices-set-failed`,{audio_device_ids:o,message:l.message},this._activeCall),l}),this._setupLoglevel(n.logLevel),this._logOptions("constructor",n),this.updateToken(e),_y())throw new kn("Microsoft Edge Legacy (https://support.microsoft.com/en-us/help/4533505/what-is-microsoft-edge-legacy) is deprecated and will not be able to connect to Twilio to make or receive calls after September 1st, 2020. Please see this documentation for a list of supported browsers https://www.twilio.com/docs/voice/client/javascript#supported-browsers");if(!_e.isSupported&&n.ignoreBrowserSupport)throw window&&window.location&&window.location.protocol==="http:"?new kn("twilio.js wasn't able to find WebRTC browser support.           This is most likely because this page is served over http rather than https,           which does not support WebRTC in many browsers. Please load this page over https and           try again."):new kn("twilio.js 1.3+ SDKs require WebRTC browser support.         For more information, see <https://www.twilio.com/docs/api/client/twilio-js>.         If you have any questions about this announcement, please contact         Twilio Support at <help@twilio.com>.");const r=globalThis,i=r.msBrowser||r.browser||r.chrome;if(this._isBrowserExtension=!!i&&!!i.runtime&&!!i.runtime.id||!!r.safari&&!!r.safari.extension,this._isBrowserExtension&&this._log.info("Running as browser extension."),navigator){const s=navigator;this._networkInformation=s.connection||s.mozConnection||s.webkitConnection}this._networkInformation&&typeof this._networkInformation.addEventListener=="function"&&this._networkInformation.addEventListener("change",this._publishNetworkChange),_e._getOrCreateAudioContext(),_e._audioContext&&(_e._dialtonePlayer||(_e._dialtonePlayer=new aoe(_e._audioContext))),this._boundDestroy=this.destroy.bind(this),this._boundConfirmClose=this._confirmClose.bind(this),typeof window<"u"&&window.addEventListener&&(window.addEventListener("unload",this._boundDestroy),window.addEventListener("pagehide",this._boundDestroy)),this.updateOptions(n)}get audio(){return this._audio}connect(){return ge(this,arguments,void 0,function*(e={}){if(this._log.debug(".connect",JSON.stringify(e)),this._throwIfDestroyed(),this._activeCall)throw new wi("A Call is already active");let n,r,i;if(e.connectToken){try{const u=JSON.parse(decodeURIComponent(atob(e.connectToken)));n=u.customParameters,r=u.parameters,i=u.signalingReconnectToken}catch{throw new vt("Cannot parse connectToken")}if(!r||!r.CallSid||!i)throw new vt("Invalid connectToken")}let s=!1,o={};const a={enableImprovedSignalingErrorPrecision:!!this._options.enableImprovedSignalingErrorPrecision,rtcConfiguration:e.rtcConfiguration,voiceEventSidGenerator:this._options.voiceEventSidGenerator};i&&r?(s=!0,a.callParameters=r,a.reconnectCallSid=r.CallSid,a.reconnectToken=i,o=n||o):o=e.params||o;let l;this._makeCallPromise=this._makeCall(o,a,s);try{l=this._activeCall=yield this._makeCallPromise}finally{this._makeCallPromise=null}return this._calls.splice(0).forEach(u=>u.ignore()),this._soundcache.get(_e.SoundName.Incoming).stop(),l.accept({rtcConstraints:e.rtcConstraints}),this._publishNetworkChange(),l})}get calls(){return this._calls}destroy(){var e;this._log.debug(".destroy"),this._log.debug("Rejecting any incoming calls"),this._calls.slice(0).forEach(r=>r.reject()),this.disconnectAll(),this._stopRegistrationTimer(),this._destroyStream(),this._destroyAudioHelper(),(e=this._audioProcessorEventObserver)===null||e===void 0||e.destroy(),this._destroyPublisher(),this._networkInformation&&typeof this._networkInformation.removeEventListener=="function"&&this._networkInformation.removeEventListener("change",this._publishNetworkChange),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("beforeunload",this._boundConfirmClose),window.removeEventListener("unload",this._boundDestroy),window.removeEventListener("pagehide",this._boundDestroy)),this._setState(_e.State.Destroyed),si.EventEmitter.prototype.removeAllListeners.call(this)}disconnectAll(){this._log.debug(".disconnectAll"),this._calls.splice(0).forEach(n=>n.disconnect()),this._activeCall&&this._activeCall.disconnect()}get edge(){return this._edge}get home(){return this._home}get identity(){return this._identity}get isBusy(){return!!this._activeCall}register(){return ge(this,void 0,void 0,function*(){if(this._log.debug(".register"),this.state!==_e.State.Unregistered)throw new wi(`Attempt to register when device is in state "${this.state}". Must be "${_e.State.Unregistered}".`);this._shouldReRegister=!1,this._setState(_e.State.Registering),yield this._streamConnectedPromise||this._setupStream(),yield this._sendPresence(!0),yield xT(this,_e.State.Registered,_e.State.Unregistered)})}get state(){return this._state}get token(){return this._token}toString(){return"[Twilio.Device instance]"}unregister(){return ge(this,void 0,void 0,function*(){if(this._log.debug(".unregister"),this.state!==_e.State.Registered)throw new wi(`Attempt to unregister when device is in state "${this.state}". Must be "${_e.State.Registered}".`);this._shouldReRegister=!1;const e=yield this._streamConnectedPromise,n=new Promise(r=>{e.on("offline",r)});yield this._sendPresence(!1),yield n})}updateOptions(e={}){if(this._logOptions("updateOptions",e),this.state===_e.State.Destroyed)throw new wi(`Attempt to "updateOptions" when device is in state "${this.state}".`);this._options=Object.assign(Object.assign(Object.assign({},this._defaultOptions),this._options),e);const n=new Set(this._chunderURIs),r=this._chunderURIs=(this._getChunderws()||_I(this._options.edge)).map(wI);let i=n.size!==r.length;if(!i){for(const s of r)if(!n.has(s)){i=!0;break}}if(this.isBusy&&i)throw new wi("Cannot change Edge while on an active Call");this._setupLoglevel(this._options.logLevel);for(const s of Object.keys(_e._defaultSounds)){const o=_e._defaultSounds[s],a=`${CA}/${o.filename}.${_e.extension}?cache=${Kc}`,l=this._options.sounds&&this._options.sounds[s]||a,u=new(this._options.Sound||zs)(s,l,{audioContext:this._options.disableAudioContextSounds?null:_e.audioContext,maxDuration:o.maxDuration,shouldLoop:o.shouldLoop});this._soundcache.set(s,u)}this._setupAudioHelper(),this._setupPublisher(),i&&this._streamConnectedPromise&&this._setupStream(),typeof window<"u"&&typeof window.addEventListener=="function"&&this._options.closeProtection&&(window.removeEventListener("beforeunload",this._boundConfirmClose),window.addEventListener("beforeunload",this._boundConfirmClose))}updateToken(e){if(this._log.debug(".updateToken"),this.state===_e.State.Destroyed)throw new wi(`Attempt to "updateToken" when device is in state "${this.state}".`);if(typeof e!="string")throw new vt(fae);this._token=e,this._stream&&this._stream.setToken(this._token),this._publisher&&this._publisher.setToken(this._token)}_confirmClose(e){if(!this._activeCall)return"";const n=this._options.closeProtection||!1,r=typeof n!="string"?"A call is currently in-progress. Leaving or reloading this page will end the call.":n;return(e||window.event).returnValue=r,r}_destroyAudioHelper(){this._audio&&(this._audio._destroy(),this._audio=null)}_destroyPublisher(){this._publisher&&(this._publisher=null)}_destroyStream(){this._stream&&(this._stream.removeListener("close",this._onSignalingClose),this._stream.removeListener("connected",this._onSignalingConnected),this._stream.removeListener("error",this._onSignalingError),this._stream.removeListener("invite",this._onSignalingInvite),this._stream.removeListener("offline",this._onSignalingOffline),this._stream.removeListener("ready",this._onSignalingReady),this._stream.destroy(),this._stream=null),this._onSignalingOffline(),this._streamConnectedPromise=null}_findCall(e){return this._calls.find(n=>n.parameters.CallSid===e||n.outboundConnectionId===e)||null}_getChunderws(){return typeof this._options.chunderw=="string"?[this._options.chunderw]:Array.isArray(this._options.chunderw)?this._options.chunderw:null}_logOptions(e,n={}){const r=["allowIncomingWhileBusy","appName","appVersion","closeProtection","codecPreferences","disableAudioContextSounds","dscp","edge","enableImprovedSignalingErrorPrecision","forceAggressiveIceNomination","logLevel","maxAverageBitrate","maxCallSignalingTimeoutMs","sounds","tokenRefreshMs"],i=["RTCPeerConnection","enumerateDevices","getUserMedia","MediaStream"];if(typeof n=="object"){const s=Object.assign({},n);Object.keys(s).forEach(o=>{!r.includes(o)&&!i.includes(o)&&delete s[o],i.includes(o)&&(s[o]=!0)}),this._log.debug(`.${e}`,JSON.stringify(s))}}_makeCall(e,n){return ge(this,arguments,void 0,function*(r,i,s=!1){var o;const a=(o=this._audio)===null||o===void 0?void 0:o._getInputDevicePromise();a&&(this._log.debug("inputDevicePromise detected, waiting..."),yield a,this._log.debug("inputDevicePromise resolved"));const l={audioHelper:this._audio,onIgnore:()=>{this._soundcache.get(_e.SoundName.Incoming).stop()},pstream:yield this._streamConnectedPromise||this._setupStream(),publisher:this._publisher,soundcache:this._soundcache};i=Object.assign({MediaStream:this._options.MediaStream,RTCPeerConnection:this._options.RTCPeerConnection,beforeAccept:h=>{!this._activeCall||this._activeCall===h||(this._activeCall.disconnect(),this._removeCall(this._activeCall))},codecPreferences:this._options.codecPreferences,customSounds:this._options.sounds,dialtonePlayer:_e._dialtonePlayer,dscp:this._options.dscp,forceAggressiveIceNomination:this._options.forceAggressiveIceNomination,getInputStream:()=>this._options.fileInputStream||this._callInputStream,getSinkIds:()=>this._callSinkIds,maxAverageBitrate:this._options.maxAverageBitrate,preflight:this._options.preflight,rtcConstraints:this._options.rtcConstraints,shouldPlayDisconnect:()=>{var h;return(h=this._audio)===null||h===void 0?void 0:h.disconnect()},twimlParams:r,voiceEventSidGenerator:this._options.voiceEventSidGenerator},i);const u=()=>{if(!this._stream){this._log.warn("UnsetPreferredUri called without a stream");return}this._activeCall===null&&this._calls.length===0&&this._stream.updatePreferredURI(null)},f=new(this._options.Call||we)(l,i);return this._publisher.info("settings","init",{MediaStream:!!this._options.MediaStream,RTCPeerConnection:!!this._options.RTCPeerConnection,enumerateDevices:!!this._options.enumerateDevices,getUserMedia:!!this._options.getUserMedia},f),f.once("accept",()=>{var h,m,v,x,b;this._stream.updatePreferredURI(this._preferredURI),this._removeCall(f),this._activeCall=f,this._audio&&this._audio._maybeStartPollingVolume(),f.direction===we.CallDirection.Outgoing&&(!((h=this._audio)===null||h===void 0)&&h.outgoing())&&!s&&this._soundcache.get(_e.SoundName.Outgoing).play();const y={edge:this._edge||this._region};this._options.edge&&(y.selected_edge=Array.isArray(this._options.edge)?this._options.edge:[this._options.edge]),this._publisher.info("settings","edge",y,f),!((m=this._audio)===null||m===void 0)&&m.localProcessedStream&&((v=this._audioProcessorEventObserver)===null||v===void 0||v.emit("enabled",!1)),!((x=this._audio)===null||x===void 0)&&x.remoteProcessedStream&&((b=this._audioProcessorEventObserver)===null||b===void 0||b.emit("enabled",!0))}),f.addListener("error",h=>{f.status()==="closed"&&(this._removeCall(f),u()),this._audio&&this._audio._maybeStopPollingVolume(),this._maybeStopIncomingSound()}),f.once("cancel",()=>{this._log.info(`Canceled: ${f.parameters.CallSid}`),this._removeCall(f),u(),this._audio&&this._audio._maybeStopPollingVolume(),this._maybeStopIncomingSound()}),f.once("disconnect",()=>{this._audio&&this._audio._maybeStopPollingVolume(),this._removeCall(f),u(),this._maybeStopIncomingSound()}),f.once("reject",()=>{this._log.info(`Rejected: ${f.parameters.CallSid}`),this._audio&&this._audio._maybeStopPollingVolume(),this._removeCall(f),u(),this._maybeStopIncomingSound()}),f.on("transportClose",()=>{f.status()===we.State.Pending&&(this._audio&&this._audio._maybeStopPollingVolume(),this._removeCall(f),this._maybeStopIncomingSound())}),f})}_maybeStopIncomingSound(){this._calls.length||this._soundcache.get(_e.SoundName.Incoming).stop()}_removeCall(e){this._activeCall===e&&(this._activeCall=null,this._makeCallPromise=null);for(let n=this._calls.length-1;n>=0;n--)e===this._calls[n]&&this._calls.splice(n,1)}_sendPresence(e){return ge(this,void 0,void 0,function*(){const n=yield this._streamConnectedPromise;n&&(n.register({audio:e}),e?this._startRegistrationTimer():this._stopRegistrationTimer())})}_setState(e){if(e===this.state)return;this._state=e;const n=this._stateEventMapping[e];this._log.debug(`#${n}`),this.emit(n)}_setupAudioHelper(){this._audioProcessorEventObserver||(this._audioProcessorEventObserver=new soe,this._audioProcessorEventObserver.on("event",({name:n,group:r,isRemote:i})=>{this._publisher.info(r,n,{is_remote:i},this._activeCall)}));const e={audioContext:_e.audioContext,audioProcessorEventObserver:this._audioProcessorEventObserver,beforeSetInputDevice:()=>this._makeCallPromise?(this._log.debug("beforeSetInputDevice pause detected"),this._makeCallPromise):(this._log.debug("beforeSetInputDevice pause not detected, setting default"),Promise.resolve()),enumerateDevices:this._options.enumerateDevices,getUserMedia:this._options.getUserMedia||nae};if(this._audio){this._log.info("Found existing audio helper; updating options..."),this._audio._updateUserOptions(e);return}this._audio=new(this._options.AudioHelper||ioe)(this._updateSinkIds,this._updateInputStream,e),this._audio.on("deviceChange",n=>{const r=this._activeCall,i=n.map(s=>s.deviceId);this._publisher.info("audio","device-change",{lost_active_device_ids:i},r),r&&r._mediaHandler._onInputDevicesChanged()})}_setupLoglevel(e){const n=typeof e=="number"||typeof e=="string"?e:Qf.levels.ERROR;this._log.setDefaultLevel(n),this._log.info("Set logger default level to",n)}_setupPublisher(){this._publisher&&(this._log.info("Found existing publisher; destroying..."),this._destroyPublisher());const e={defaultPayload:this._createDefaultPayload,metadata:{app_name:this._options.appName,app_version:this._options.appVersion}};return this._options.eventgw&&(e.host=this._options.eventgw),this._home&&(e.host=xI(this._home)),this._publisher=new(this._options.Publisher||or)(dae,this.token,e),this._options.publishEvents===!1?this._publisher.disable():this._publisher.on("error",n=>{this._log.warn("Cannot connect to insights.",n)}),this._publisher}_setupStream(){return this._stream&&(this._log.info("Found existing stream; destroying..."),this._destroyStream()),this._log.info("Setting up VSP"),this._stream=new(this._options.PStream||It)(this.token,this._chunderURIs,{backoffMaxMs:this._options.backoffMaxMs,maxPreferredDurationMs:this._options.maxCallSignalingTimeoutMs}),this._stream.addListener("close",this._onSignalingClose),this._stream.addListener("connected",this._onSignalingConnected),this._stream.addListener("error",this._onSignalingError),this._stream.addListener("invite",this._onSignalingInvite),this._stream.addListener("offline",this._onSignalingOffline),this._stream.addListener("ready",this._onSignalingReady),this._streamConnectedPromise=xT(this._stream,"connected","close").then(()=>this._stream)}_showIncomingCall(e,n){let r;return Promise.race([n(),new Promise((i,s)=>{r=setTimeout(()=>{const o="Playing incoming ringtone took too long; it might not play. Continuing execution...";s(new Error(o))},uae)})]).catch(i=>{this._log.warn(i.message)}).then(()=>{clearTimeout(r),this._log.debug("#incoming",JSON.stringify({customParameters:e.customParameters,parameters:e.parameters})),this.emit(_e.EventName.Incoming,e)})}_startRegistrationTimer(){this._stopRegistrationTimer(),this._regTimer=setTimeout(()=>{this._sendPresence(!0)},cae)}_stopRegistrationTimer(){this._regTimer&&clearTimeout(this._regTimer)}_throwIfDestroyed(){if(this.state===_e.State.Destroyed)throw new wi("Device has been destroyed.")}_updateRingtoneSinkIds(e){return Promise.resolve(this._soundcache.get(_e.SoundName.Incoming).setSinkIds(e))}_updateSpeakerSinkIds(e){Array.from(this._soundcache.entries()).filter(r=>r[0]!==_e.SoundName.Incoming).forEach(r=>r[1].setSinkIds(e)),this._callSinkIds=e;const n=this._activeCall;return n?n._setSinkIds(e):Promise.resolve()}}_e._defaultSounds={disconnect:{filename:"disconnect",maxDuration:3e3},dtmf0:{filename:"dtmf-0",maxDuration:1e3},dtmf1:{filename:"dtmf-1",maxDuration:1e3},dtmf2:{filename:"dtmf-2",maxDuration:1e3},dtmf3:{filename:"dtmf-3",maxDuration:1e3},dtmf4:{filename:"dtmf-4",maxDuration:1e3},dtmf5:{filename:"dtmf-5",maxDuration:1e3},dtmf6:{filename:"dtmf-6",maxDuration:1e3},dtmf7:{filename:"dtmf-7",maxDuration:1e3},dtmf8:{filename:"dtmf-8",maxDuration:1e3},dtmf9:{filename:"dtmf-9",maxDuration:1e3},dtmfh:{filename:"dtmf-hash",maxDuration:1e3},dtmfs:{filename:"dtmf-star",maxDuration:1e3},incoming:{filename:"incoming",shouldLoop:!0},outgoing:{filename:"outgoing",maxDuration:3e3}};(function(t){(function(e){e.Error="error",e.Incoming="incoming",e.Destroyed="destroyed",e.Unregistered="unregistered",e.Registering="registering",e.Registered="registered",e.TokenWillExpire="tokenWillExpire"})(t.EventName||(t.EventName={})),(function(e){e.Destroyed="destroyed",e.Unregistered="unregistered",e.Registering="registering",e.Registered="registered"})(t.State||(t.State={})),(function(e){e.Incoming="incoming",e.Outgoing="outgoing",e.Disconnect="disconnect",e.Dtmf0="dtmf0",e.Dtmf1="dtmf1",e.Dtmf2="dtmf2",e.Dtmf3="dtmf3",e.Dtmf4="dtmf4",e.Dtmf5="dtmf5",e.Dtmf6="dtmf6",e.Dtmf7="dtmf7",e.Dtmf8="dtmf8",e.Dtmf9="dtmf9",e.DtmfS="dtmfs",e.DtmfH="dtmfh"})(t.SoundName||(t.SoundName={}))})(_e||(_e={}));class Vx{constructor(e,n=!1){this.deleted=!1;let r;const i=e.candidate.split("network-cost ");i[1]&&(r=parseInt(i[1],10)),this.candidateType=e.type,this.ip=e.ip||e.address,this.isRemote=n,this.networkCost=r,this.port=e.port,this.priority=e.priority,this.protocol=e.protocol,this.relatedAddress=e.relatedAddress,this.relatedPort=e.relatedPort,this.tcpType=e.tcpType,this.transportId=e.sdpMid}toPayload(){return{candidate_type:this.candidateType,deleted:this.deleted,ip:this.ip,is_remote:this.isRemote,"network-cost":this.networkCost,port:this.port,priority:this.priority,protocol:this.protocol,related_address:this.relatedAddress,related_port:this.relatedPort,tcp_type:this.tcpType,transport_id:this.transportId}}}const EI=94.768;function hae(t,e,n){if(typeof t!="number"||typeof e!="number"||typeof n!="number"||!wg(t)||!wg(e)||!wg(n))return null;const r=t+e*2+10;let i=0;switch(!0){case r<160:i=EI-r/40;break;case r<1e3:i=EI-(r-120)/10;break}switch(!0){case n<=i/2.5:i=Math.max(i-n*2.5,6.52);break;default:i=0;break}return 1+.035*i+7e-6*i*(i-60)*(100-i)}function wg(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)&&t>=0}var pae={calculate:hae,isNonNegativeNumber:wg};const mae=5,gae=0,vae=3,yae=1e3,bae=5*1e3,xae={audioInputLevel:{minStandardDeviation:327.67,sampleCount:10},audioOutputLevel:{minStandardDeviation:327.67,sampleCount:10},bytesReceived:{clearCount:2,min:1,raiseCount:3,sampleCount:3},bytesSent:{clearCount:2,min:1,raiseCount:3,sampleCount:3},jitter:{max:30},mos:{min:3},packetsLostFraction:[{max:1},{clearValue:1,maxAverage:3,sampleCount:7}],rtt:{max:400}};function wae(t,e){return e.reduce((n,r)=>n+=r>t?1:0,0)}function _ae(t,e){return e.reduce((n,r)=>n+=r<t?1:0,0)}function Sae(t){if(t.length<=0)return null;const e=t.reduce((i,s)=>i+s,0)/t.length,n=t.map(i=>Math.pow(i-e,2));return Math.sqrt(n.reduce((i,s)=>i+s,0)/n.length)}function Cae(t){return t.reduce((e,n)=>[...e,...n],[])}class Tae extends si.EventEmitter{constructor(e){super(),this._activeWarnings=new Map,this._currentStreaks=new Map,this._inputVolumes=[],this._outputVolumes=[],this._sampleBuffer=[],this._supplementalSampleBuffers={audioInputLevel:[],audioOutputLevel:[]},this._warningsEnabled=!0,e=e||{},this._getRTCStats=e.getRTCStats||xoe,this._mos=e.Mos||pae,this._peerConnection=e.peerConnection,this._thresholds=Object.assign(Object.assign({},xae),e.thresholds);const n=Object.values(this._thresholds).map(r=>r.sampleCount).filter(r=>!!r);this._maxSampleCount=Math.max(mae,...n),this._peerConnection&&this.enable(this._peerConnection)}addVolumes(e,n){this._inputVolumes.push(e),this._outputVolumes.push(n)}disable(){return this._sampleInterval&&(clearInterval(this._sampleInterval),delete this._sampleInterval),this}disableWarnings(){return this._warningsEnabled&&this._activeWarnings.clear(),this._warningsEnabled=!1,this}enable(e){if(e){if(this._peerConnection&&e!==this._peerConnection)throw new vt("Attempted to replace an existing PeerConnection in StatsMonitor.enable");this._peerConnection=e}if(!this._peerConnection)throw new vt("Can not enable StatsMonitor without a PeerConnection");return this._sampleInterval=this._sampleInterval||setInterval(this._fetchSample.bind(this),yae),this}enableWarnings(){return this._warningsEnabled=!0,this}hasActiveWarning(e,n){const r=`${e}:${n}`;return!!this._activeWarnings.get(r)}_addSample(e){const n=this._sampleBuffer;n.push(e),n.length>this._maxSampleCount&&n.splice(0,n.length-this._maxSampleCount)}_clearWarning(e,n,r){const i=`${e}:${n}`,s=this._activeWarnings.get(i);!s||Date.now()-s.timeRaised<bae||(this._activeWarnings.delete(i),this.emit("warning-cleared",Object.assign(Object.assign({},r),{name:e,threshold:{name:n,value:this._thresholds[e][n]}})))}_createSample(e,n){const r=n&&n.totals.bytesSent||0,i=n&&n.totals.bytesReceived||0,s=n&&n.totals.packetsSent||0,o=n&&n.totals.packetsReceived||0,a=n&&n.totals.packetsLost||0,l=e.bytesSent-r,u=e.bytesReceived-i,f=e.packetsSent-s,h=e.packetsReceived-o,m=e.packetsLost-a,v=h+m,x=v>0?m/v*100:0,b=e.packetsReceived+e.packetsLost,y=b>0?e.packetsLost/b*100:100,_=typeof e.rtt=="number"||!n?e.rtt:n.rtt,S=this._inputVolumes.splice(0);this._supplementalSampleBuffers.audioInputLevel.push(S);const C=this._outputVolumes.splice(0);return this._supplementalSampleBuffers.audioOutputLevel.push(C),{audioInputLevel:Math.round(Rf(S)),audioOutputLevel:Math.round(Rf(C)),bytesReceived:u,bytesSent:l,codecName:e.codecName,jitter:e.jitter,mos:this._mos.calculate(_,e.jitter,n&&x),packetsLost:m,packetsLostFraction:x,packetsReceived:h,packetsSent:f,rtt:_,timestamp:e.timestamp,totals:{bytesReceived:e.bytesReceived,bytesSent:e.bytesSent,packetsLost:e.packetsLost,packetsLostFraction:y,packetsReceived:e.packetsReceived,packetsSent:e.packetsSent}}}_fetchSample(){this._getSample().then(e=>{this._addSample(e),this._raiseWarnings(),this.emit("sample",e)}).catch(e=>{this.disable(),this.emit("error",e)})}_getSample(){return this._getRTCStats(this._peerConnection).then(e=>{let n=null;return this._sampleBuffer.length&&(n=this._sampleBuffer[this._sampleBuffer.length-1]),this._createSample(e,n)})}_raiseWarning(e,n,r){const i=`${e}:${n}`;if(this._activeWarnings.has(i))return;this._activeWarnings.set(i,{timeRaised:Date.now()});const s=this._thresholds[e];let o;if(Array.isArray(s)){const a=s.find(l=>n in l);a&&(o=a[n])}else o=this._thresholds[e][n];this.emit("warning",Object.assign(Object.assign({},r),{name:e,threshold:{name:n,value:o}}))}_raiseWarnings(){this._warningsEnabled&&Object.keys(this._thresholds).forEach(e=>this._raiseWarningsForStat(e))}_raiseWarningsForStat(e){(Array.isArray(this._thresholds[e])?this._thresholds[e]:[this._thresholds[e]]).forEach(r=>{const i=this._sampleBuffer,s=r.clearCount||gae,o=r.raiseCount||vae,a=r.sampleCount||this._maxSampleCount;let l=i.slice(-a);const u=l.map(m=>m[e]);if(u.some(m=>typeof m>"u"||m===null))return;let h;if(typeof r.max=="number"&&(h=wae(r.max,u),h>=o?this._raiseWarning(e,"max",{values:u,samples:l}):h<=s&&this._clearWarning(e,"max",{values:u,samples:l})),typeof r.min=="number"&&(h=_ae(r.min,u),h>=o?this._raiseWarning(e,"min",{values:u,samples:l}):h<=s&&this._clearWarning(e,"min",{values:u,samples:l})),typeof r.maxDuration=="number"&&i.length>1){l=i.slice(-2);const m=l[0][e],v=l[1][e],x=this._currentStreaks.get(e)||0,b=m===v?x+1:0;this._currentStreaks.set(e,b),b>=r.maxDuration?this._raiseWarning(e,"maxDuration",{value:b}):b===0&&this._clearWarning(e,"maxDuration",{value:x})}if(typeof r.minStandardDeviation=="number"){const m=this._supplementalSampleBuffers[e];if(!m||m.length<r.sampleCount)return;m.length>r.sampleCount&&m.splice(0,m.length-r.sampleCount);const v=Cae(m.slice(-a)),x=Sae(v);if(typeof x!="number")return;x<r.minStandardDeviation?this._raiseWarning(e,"minStandardDeviation",{value:x}):this._clearWarning(e,"minStandardDeviation",{value:x})}[["maxAverage",(m,v)=>m>v],["minAverage",(m,v)=>m<v]].forEach(([m,v])=>{if(typeof r[m]=="number"&&u.length>=a){const x=Rf(u);v(x,r[m])?this._raiseWarning(e,m,{values:u,samples:l}):v(x,r.clearValue||r[m])||this._clearWarning(e,m,{values:u,samples:l})}})})}}const AI={factor:1.1,jitter:.5,max:3e4,min:1},Pae=70,Eae=500,Aae=160,kae=10,jae=5e3,kI={disconnect:!0,info:{code:31003,message:"Connection with Twilio was interrupted.",twilioError:new Ji.ConnectionError}},jI={packetsLostFraction:{max:"packet-loss",maxAverage:"packets-lost-fraction"}},OI={audioInputLevel:"audio-input-level",audioOutputLevel:"audio-output-level",bytesReceived:"bytes-received",bytesSent:"bytes-sent",jitter:"jitter",mos:"mos",rtt:"rtt"},Oae={max:"high-",maxAverage:"high-",maxDuration:"constant-",min:"low-",minStandardDeviation:"constant-"};class we extends si.EventEmitter{get direction(){return this._direction}get codec(){return this._codec}get connectToken(){const e=this._signalingReconnectToken,n=this.parameters&&this.parameters.CallSid?this.parameters.CallSid:void 0;if(!e||!n)return;const r=this.customParameters&&typeof this.customParameters.keys=="function"?Array.from(this.customParameters.keys()).reduce((s,o)=>(s[o]=this.customParameters.get(o),s),{}):{},i=this.parameters||{};return btoa(encodeURIComponent(JSON.stringify({customParameters:r,parameters:i,signalingReconnectToken:e})))}constructor(e,n){super(),this.parameters={},this._inputVolumeStreak=0,this._isAnswered=!1,this._isCancelled=!1,this._isRejected=!1,this._latestInputVolume=0,this._latestOutputVolume=0,this._log=new bn("Call"),this._mediaStatus=we.State.Pending,this._messages=new Map,this._metricsSamples=[],this._options={MediaHandler:Be,MediaStream:null,enableImprovedSignalingErrorPrecision:!1,offerSdp:null,shouldPlayDisconnect:()=>!0,voiceEventSidGenerator:CT},this._outputVolumeStreak=0,this._shouldSendHangup=!0,this._signalingStatus=we.State.Pending,this._soundcache=new Map,this._status=we.State.Pending,this._wasConnected=!1,this.toString=()=>"[Twilio.Call instance]",this._emitWarning=(o,a,l,u,f,h)=>{const v=`${o}warning${f?"-cleared":"-raised"}`;if(a==="constant-audio-input-level"&&this.isMuted())return;let x=f?"info":"warning";a==="constant-audio-output-level"&&(x="info");const b={threshold:l};if(u&&(u instanceof Array?b.values=u.map(y=>typeof y=="number"?Math.round(y*100)/100:u):b.value=u),this._publisher.post(x,v,a,{data:b},this),a!=="constant-audio-output-level"){const y=f?"warning-cleared":"warning";this._log.debug(`#${y}`,a),this.emit(y,a,h&&!f?h:null)}},this._onAck=o=>{const{acktype:a,callsid:l,voiceeventsid:u}=o;if(this.parameters.CallSid!==l){this._log.warn(`Received ack from a different callsid: ${l}`);return}a==="message"&&this._onMessageSent(u)},this._onAnswer=o=>{typeof o.reconnect=="string"&&(this._signalingReconnectToken=o.reconnect),!(this._isAnswered&&this._status!==we.State.Reconnecting)&&(this._setCallSid(o),this._isAnswered=!0,this._maybeTransitionToOpen())},this._onCancel=o=>{const a=o.callsid;this.parameters.CallSid===a&&(this._isCancelled=!0,this._publisher.info("connection","cancel",null,this),this._cleanupEventListeners(),this._mediaHandler.close(),this._status=we.State.Closed,this._log.debug("#cancel"),this.emit("cancel"),this._pstream.removeListener("cancel",this._onCancel))},this._onConnected=()=>{this._log.info("Received connected from pstream"),this._signalingReconnectToken&&this._mediaHandler.version&&this._pstream.reconnect(this._mediaHandler.version.getSDP(),this.parameters.CallSid,this._signalingReconnectToken)},this._onHangup=o=>{if(this.status()!==we.State.Closed){if(o.callsid&&(this.parameters.CallSid||this.outboundConnectionId)){if(o.callsid!==this.parameters.CallSid&&o.callsid!==this.outboundConnectionId)return}else if(o.callsid)return;if(this._log.info("Received HANGUP from gateway"),o.error){const a=o.error.code,l=yT(this._options.enableImprovedSignalingErrorPrecision,a),u=typeof l<"u"?new l(o.error.message):new zn.ConnectionError("Error sent from gateway in HANGUP",o.error);this._log.error("Received an error from the gateway:",u),this._log.debug("#error",u),this.emit("error",u)}this._shouldSendHangup=!1,this._publisher.info("connection","disconnected-by-remote",null,this),this._disconnect(null,!0),this._cleanupEventListeners()}},this._onMediaFailure=o=>{const{ConnectionDisconnected:a,ConnectionFailed:l,IceGatheringFailed:u,LowBytes:f}=we.MediaFailure,h=o===l||o===u;if(!PA(window,window.navigator)&&o===l)return this._mediaHandler.onerror(kI);if(this._mediaStatus===we.State.Reconnecting){if(h){if(Date.now()-this._mediaReconnectStartTime>AI.max)return this._log.warn("Exceeded max ICE retries"),this._mediaHandler.onerror(kI);try{this._mediaReconnectBackoff.backoff()}catch(b){if(!(b.message&&b.message==="Backoff in progress."))throw b}}return}const m=this._mediaHandler.version.pc,v=m&&m.iceConnectionState==="disconnected",x=this._monitor.hasActiveWarning("bytesSent","min")||this._monitor.hasActiveWarning("bytesReceived","min");if(o===f&&v||o===a&&x||h){const b=new Ji.ConnectionError("Media connection failed.");this._log.warn("ICE Connection disconnected."),this._publisher.warn("connection","error",b,this),this._publisher.info("connection","reconnecting",null,this),this._mediaReconnectStartTime=Date.now(),this._status=we.State.Reconnecting,this._mediaStatus=we.State.Reconnecting,this._mediaReconnectBackoff.reset(),this._mediaReconnectBackoff.backoff(),this._log.debug("#reconnecting"),this.emit("reconnecting",b)}},this._onMediaReconnected=()=>{this._mediaStatus===we.State.Reconnecting&&(this._log.info("ICE Connection reestablished."),this._mediaStatus=we.State.Open,this._signalingStatus===we.State.Open&&(this._publisher.info("connection","reconnected",null,this),this._log.debug("#reconnected"),this.emit("reconnected"),this._status=we.State.Open))},this._onMessageReceived=o=>{const{callsid:a,content:l,contenttype:u,messagetype:f,voiceeventsid:h}=o;if(this.parameters.CallSid!==a){this._log.warn(`Received a message from a different callsid: ${a}`);return}const m={content:l,contentType:u,messageType:f,voiceEventSid:h};this._publisher.info("call-message",f,{content_type:u,event_type:"received",voice_event_sid:h},this),this._log.debug("#messageReceived",JSON.stringify(m)),this.emit("messageReceived",m)},this._onMessageSent=o=>{if(!this._messages.has(o)){this._log.warn(`Received a messageSent with a voiceEventSid that doesn't exists: ${o}`);return}const a=this._messages.get(o);this._messages.delete(o),this._publisher.info("call-message",a==null?void 0:a.messageType,{content_type:a==null?void 0:a.contentType,event_type:"sent",voice_event_sid:o},this),this._log.debug("#messageSent",JSON.stringify(a)),this.emit("messageSent",a)},this._onRinging=o=>{if(this._setCallSid(o),this._status!==we.State.Connecting&&this._status!==we.State.Ringing)return;const a=!!o.sdp;this._status=we.State.Ringing,this._publisher.info("connection","outgoing-ringing",{hasEarlyMedia:a},this),this._log.debug("#ringing"),this.emit("ringing",a)},this._onRTCSample=o=>{const a=Object.assign(Object.assign({},o),{inputVolume:this._latestInputVolume,outputVolume:this._latestOutputVolume});this._codec=a.codecName,this._metricsSamples.push(a),this._metricsSamples.length>=kae&&this._publishMetrics(),this.emit("sample",o)},this._onSignalingError=o=>{const{callsid:a,voiceeventsid:l,error:u}=o;if(this.parameters.CallSid!==a){this._log.warn(`Received an error from a different callsid: ${a}`);return}if(l&&this._messages.has(l)){this._messages.delete(l),this._log.warn("Received an error while sending a message.",o),this._publisher.error("call-message","error",{code:u.code,message:u.message,voice_event_sid:l},this);let f;const h=yT(!!this._options.enableImprovedSignalingErrorPrecision,u.code);typeof h<"u"&&(f=new h(u)),f||(this._log.error("Unknown Call Message Error: ",u),f=new zn.UnknownError(u.message,u)),this._log.debug("#error",u,f),this.emit("error",f)}},this._onSignalingReconnected=()=>{this._signalingStatus===we.State.Reconnecting&&(this._log.info("Signaling Connection reestablished."),this._signalingStatus=we.State.Open,this._mediaStatus===we.State.Open&&(this._publisher.info("connection","reconnected",null,this),this._log.debug("#reconnected"),this.emit("reconnected"),this._status=we.State.Open))},this._onTransportClose=()=>{this._log.error("Received transportClose from pstream"),this._log.debug("#transportClose"),this.emit("transportClose"),this._signalingReconnectToken?(this._status=we.State.Reconnecting,this._signalingStatus=we.State.Reconnecting,this._publisher.info("connection","reconnecting",null,this),this._log.debug("#reconnecting"),this.emit("reconnecting",new ri.ConnectionDisconnected)):(this._status=we.State.Closed,this._signalingStatus=we.State.Closed)},this._reemitWarning=(o,a)=>{const l=/^audio/.test(o.name)?"audio-level-":"network-quality-",u=Oae[o.threshold.name];let f;o.name in jI?f=jI[o.name][o.threshold.name]:o.name in OI&&(f=OI[o.name]);const h=u+f;this._emitWarning(l,h,o.threshold.value,o.values||o.value,a,o)},this._reemitWarningCleared=o=>{this._reemitWarning(o,!0)},this._soundcache=e.soundcache,typeof e.onIgnore=="function"&&(this._onIgnore=e.onIgnore);const r=n&&n.twimlParams||{};this.customParameters=new Map(Object.entries(r).map(([o,a])=>[o,String(a)])),Object.assign(this._options,n),this._options.callParameters&&(this.parameters=this._options.callParameters),this._options.reconnectToken&&(this._signalingReconnectToken=this._options.reconnectToken),this._voiceEventSidGenerator=this._options.voiceEventSidGenerator||CT,this._direction=this.parameters.CallSid&&!this._options.reconnectCallSid?we.CallDirection.Incoming:we.CallDirection.Outgoing,this.parameters?this.callerInfo=this.parameters.StirStatus?{isVerified:this.parameters.StirStatus==="TN-Validation-Passed-A"}:null:this.callerInfo=null,this._mediaReconnectBackoff=new mT(AI),this._mediaReconnectBackoff.on("ready",()=>this._mediaHandler.iceRestart()),this.outboundConnectionId=Nae();const i=this._publisher=e.publisher;this._direction===we.CallDirection.Incoming?i.info("connection","incoming",null,this):i.info("connection","outgoing",{preflight:this._options.preflight,reconnect:!!this._options.reconnectCallSid},this);const s=this._monitor=new(this._options.StatsMonitor||Tae);s.on("sample",this._onRTCSample),s.disableWarnings(),setTimeout(()=>s.enableWarnings(),jae),s.on("warning",(o,a)=>{(o.name==="bytesSent"||o.name==="bytesReceived")&&this._onMediaFailure(we.MediaFailure.LowBytes),this._reemitWarning(o,a)}),s.on("warning-cleared",o=>{this._reemitWarningCleared(o)}),this._mediaHandler=new this._options.MediaHandler(e.audioHelper,e.pstream,{MediaStream:this._options.MediaStream,RTCPeerConnection:this._options.RTCPeerConnection,codecPreferences:this._options.codecPreferences,dscp:this._options.dscp,forceAggressiveIceNomination:this._options.forceAggressiveIceNomination,maxAverageBitrate:this._options.maxAverageBitrate}),this.on("volume",(o,a)=>{this._inputVolumeStreak=this._checkVolume(o,this._inputVolumeStreak,this._latestInputVolume,"input"),this._outputVolumeStreak=this._checkVolume(a,this._outputVolumeStreak,this._latestOutputVolume,"output"),this._latestInputVolume=o,this._latestOutputVolume=a}),this._mediaHandler.onaudio=o=>{this._log.debug("#audio"),this.emit("audio",o)},this._mediaHandler.onvolume=(o,a,l,u)=>{s.addVolumes(l/255*32767,u/255*32767),this.emit("volume",o,a)},this._mediaHandler.ondtlstransportstatechange=o=>{const a=o==="failed"?"error":"debug";this._publisher.post(a,"dtls-transport-state",o,null,this)},this._mediaHandler.onpcconnectionstatechange=o=>{let a="debug";const l=this._mediaHandler.getRTCDtlsTransport();o==="failed"&&(a=l&&l.state==="failed"?"error":"warning"),this._publisher.post(a,"pc-connection-state",o,null,this)},this._mediaHandler.onicecandidate=o=>{const a=new Vx(o).toPayload();this._publisher.debug("ice-candidate","ice-candidate",a,this)},this._mediaHandler.onselectedcandidatepairchange=o=>{const a=new Vx(o.local).toPayload(),l=new Vx(o.remote,!0).toPayload();this._publisher.debug("ice-candidate","selected-ice-candidate-pair",{local_candidate:a,remote_candidate:l},this)},this._mediaHandler.oniceconnectionstatechange=o=>{const a=o==="failed"?"error":"debug";this._publisher.post(a,"ice-connection-state",o,null,this)},this._mediaHandler.onicegatheringfailure=o=>{this._publisher.warn("ice-gathering-state",o,null,this),this._onMediaFailure(we.MediaFailure.IceGatheringFailed)},this._mediaHandler.onicegatheringstatechange=o=>{this._publisher.debug("ice-gathering-state",o,null,this)},this._mediaHandler.onsignalingstatechange=o=>{this._publisher.debug("signaling-state",o,null,this)},this._mediaHandler.ondisconnected=o=>{this._log.warn(o),this._publisher.warn("network-quality-warning-raised","ice-connectivity-lost",{message:o},this),this._log.debug("#warning","ice-connectivity-lost"),this.emit("warning","ice-connectivity-lost"),this._onMediaFailure(we.MediaFailure.ConnectionDisconnected)},this._mediaHandler.onfailed=o=>{this._onMediaFailure(we.MediaFailure.ConnectionFailed)},this._mediaHandler.onconnected=()=>{this._status===we.State.Reconnecting&&this._onMediaReconnected()},this._mediaHandler.onreconnected=o=>{this._log.info(o),this._publisher.info("network-quality-warning-cleared","ice-connectivity-lost",{message:o},this),this._log.debug("#warning-cleared","ice-connectivity-lost"),this.emit("warning-cleared","ice-connectivity-lost"),this._onMediaReconnected()},this._mediaHandler.onerror=o=>{o.disconnect===!0&&this._disconnect(o.info&&o.info.message);const a=o.info.twilioError||new zn.UnknownError(o.info.message);this._log.error("Received an error from MediaStream:",o),this._log.debug("#error",a),this.emit("error",a)},this._mediaHandler.onopen=()=>{this._status===we.State.Open||this._status===we.State.Reconnecting||(this._status===we.State.Ringing||this._status===we.State.Connecting?(this.mute(this._mediaHandler.isMuted),this._mediaStatus=we.State.Open,this._maybeTransitionToOpen()):this._mediaHandler.close())},this._mediaHandler.onclose=()=>{this._status=we.State.Closed,this._options.shouldPlayDisconnect&&this._options.shouldPlayDisconnect()&&!this._isCancelled&&!this._isRejected&&this._soundcache.get(_e.SoundName.Disconnect).play(),s.disable(),this._publishMetrics(),!this._isCancelled&&!this._isRejected&&(this._log.debug("#disconnect"),this.emit("disconnect",this))},this._pstream=e.pstream,this._pstream.on("ack",this._onAck),this._pstream.on("cancel",this._onCancel),this._pstream.on("error",this._onSignalingError),this._pstream.on("ringing",this._onRinging),this._pstream.on("transportClose",this._onTransportClose),this._pstream.on("connected",this._onConnected),this._pstream.on("message",this._onMessageReceived),this.on("error",o=>{this._publisher.error("connection","error",{code:o.code,message:o.message},this),this._pstream&&this._pstream.status==="disconnected"&&this._cleanupEventListeners()}),this.on("disconnect",()=>{this._cleanupEventListeners()})}_setInputTracksFromStream(e){return this._mediaHandler.setInputTracksFromStream(e)}_setSinkIds(e){return this._mediaHandler._setSinkIds(e)}accept(e){if(this._log.debug(".accept",e),this._status!==we.State.Pending){this._log.debug(`.accept noop. status is '${this._status}'`);return}e=e||{};const n=e.rtcConfiguration||this._options.rtcConfiguration,r=e.rtcConstraints||this._options.rtcConstraints||{},i={audio:typeof r.audio<"u"?r.audio:!0};this._status=we.State.Connecting;const s=()=>{if(this._status!==we.State.Connecting){this._cleanupEventListeners(),this._mediaHandler.close();return}const l=f=>{const h=this._direction===we.CallDirection.Incoming?"accepted-by-local":"accepted-by-remote";this._publisher.info("connection",h,null,this);const{codecName:m,codecParams:v}=Uoe(this._mediaHandler.version.getSDP());this._publisher.info("settings","codec",{codec_params:v,selected_codec:m},this),this._monitor.enable(f)},u=typeof this._options.getSinkIds=="function"&&this._options.getSinkIds();if(Array.isArray(u)&&this._mediaHandler._setSinkIds(u).catch(()=>{}),this._pstream.addListener("hangup",this._onHangup),this._direction===we.CallDirection.Incoming)this._isAnswered=!0,this._pstream.on("answer",this._onAnswer),this._mediaHandler.answerIncomingCall(this.parameters.CallSid,this._options.offerSdp,n,l);else{const f=Array.from(this.customParameters.entries()).map(h=>`${encodeURIComponent(h[0])}=${encodeURIComponent(h[1])}`).join("&");this._pstream.on("answer",this._onAnswer),this._mediaHandler.makeOutgoingCall(f,this._signalingReconnectToken,this._options.reconnectCallSid||this.outboundConnectionId,n,l)}};this._options.beforeAccept&&this._options.beforeAccept(this);const o=typeof this._options.getInputStream=="function"&&this._options.getInputStream();(o?this._mediaHandler.setInputTracksFromStream(o):this._mediaHandler.openDefaultDeviceWithConstraints(i)).then(()=>{this._publisher.info("get-user-media","succeeded",{data:{audioConstraints:i}},this),s()},l=>{let u;l.code===31208||["PermissionDeniedError","NotAllowedError"].indexOf(l.name)!==-1?(u=new xu.PermissionDeniedError,this._publisher.error("get-user-media","denied",{data:{audioConstraints:i,error:l}},this)):(u=new xu.AcquisitionFailedError,this._publisher.error("get-user-media","failed",{data:{audioConstraints:i,error:l}},this)),this._disconnect(),this._log.debug("#error",l),this.emit("error",u)})}disconnect(){this._log.debug(".disconnect"),this._disconnect()}getLocalStream(){return this._mediaHandler&&this._mediaHandler.stream}getRemoteStream(){return this._mediaHandler&&this._mediaHandler._remoteStream}ignore(){if(this._log.debug(".ignore"),this._status!==we.State.Pending){this._log.debug(`.ignore noop. status is '${this._status}'`);return}this._status=we.State.Closed,this._mediaHandler.ignore(this.parameters.CallSid),this._publisher.info("connection","ignored-by-local",null,this),this._onIgnore&&this._onIgnore()}isMuted(){return this._mediaHandler.isMuted}mute(e=!0){this._log.debug(".mute",e);const n=this._mediaHandler.isMuted;this._mediaHandler.mute(e);const r=this._mediaHandler.isMuted;n!==r&&(this._publisher.info("connection",r?"muted":"unmuted",null,this),this._log.debug("#mute",r),this.emit("mute",r,this))}postFeedback(e,n){if(typeof e>"u"||e===null)return this._postFeedbackDeclined();if(!Object.values(we.FeedbackScore).includes(e))throw new vt(`Feedback score must be one of: ${Object.values(we.FeedbackScore)}`);if(typeof n<"u"&&n!==null&&!Object.values(we.FeedbackIssue).includes(n))throw new vt(`Feedback issue must be one of: ${Object.values(we.FeedbackIssue)}`);return this._publisher.info("feedback","received",{issue_name:n,quality_score:e},this,!0)}reject(){if(this._log.debug(".reject"),this._status!==we.State.Pending){this._log.debug(`.reject noop. status is '${this._status}'`);return}this._isRejected=!0,this._pstream.reject(this.parameters.CallSid),this._mediaHandler.reject(this.parameters.CallSid),this._publisher.info("connection","rejected-by-local",null,this),this._cleanupEventListeners(),this._mediaHandler.close(),this._status=we.State.Closed,this._log.debug("#reject"),this.emit("reject")}sendDigits(e){if(this._log.debug(".sendDigits",e),e.match(/[^0-9*#w]/))throw new vt("Illegal character passed into sendDigits");const n=this._options.customSounds||{},r=[];e.split("").forEach(a=>{let l=a!=="w"?`dtmf${a}`:"";l==="dtmf*"&&(l="dtmfs"),l==="dtmf#"&&(l="dtmfh"),r.push(l)});const i=()=>{const a=r.shift();a&&(this._options.dialtonePlayer&&!n[a]?this._options.dialtonePlayer.play(a):this._soundcache.get(a).play()),r.length&&setTimeout(()=>i(),200)};i();const s=this._mediaHandler.getOrCreateDTMFSender();function o(a){if(!a.length)return;const l=a.shift();l&&l.length&&s.insertDTMF(l,Aae,Pae),setTimeout(o.bind(null,a),Eae)}if(s){if(!("canInsertDTMF"in s)||s.canInsertDTMF){this._log.info("Sending digits using RTCDTMFSender"),o(e.split("w"));return}this._log.info("RTCDTMFSender cannot insert DTMF")}if(this._log.info("Sending digits over PStream"),this._pstream!==null&&this._pstream.status!=="disconnected")this._pstream.dtmf(this.parameters.CallSid,e);else{const a=new zn.ConnectionError("Could not send DTMF: Signaling channel is disconnected");this._log.debug("#error",a),this.emit("error",a)}}sendMessage(e){this._log.debug(".sendMessage",JSON.stringify(e));const{content:n,contentType:r,messageType:i}=e;if(typeof n>"u"||n===null)throw new vt("`content` is empty");if(typeof i!="string")throw new vt("`messageType` must be a string.");if(i.length===0)throw new vt("`messageType` must be a non-empty string.");if(this._pstream===null)throw new wi("Could not send CallMessage; Signaling channel is disconnected");const s=this.parameters.CallSid;if(typeof this.parameters.CallSid>"u")throw new wi("Could not send CallMessage; Call has no CallSid");const o=this._voiceEventSidGenerator();return this._messages.set(o,{content:n,contentType:r,messageType:i,voiceEventSid:o}),this._pstream.sendMessage(s,n,r,i,o),o}status(){return this._status}_checkVolume(e,n,r,i){const s=n>=10;let o=0;return r===e&&(o=n),o>=10?this._emitWarning("audio-level-",`constant-audio-${i}-level`,10,o,!1):s&&this._emitWarning("audio-level-",`constant-audio-${i}-level`,10,o,!0),o}_cleanupEventListeners(){const e=()=>{this._pstream&&(this._pstream.removeListener("ack",this._onAck),this._pstream.removeListener("answer",this._onAnswer),this._pstream.removeListener("cancel",this._onCancel),this._pstream.removeListener("error",this._onSignalingError),this._pstream.removeListener("hangup",this._onHangup),this._pstream.removeListener("ringing",this._onRinging),this._pstream.removeListener("transportClose",this._onTransportClose),this._pstream.removeListener("connected",this._onConnected),this._pstream.removeListener("message",this._onMessageReceived))};e(),setTimeout(e,0)}_createMetricPayload(){const e={call_sid:this.parameters.CallSid,dscp:!!this._options.dscp,sdk_version:Kc};return this._options.gateway&&(e.gateway=this._options.gateway),e.direction=this._direction,e}_disconnect(e,n){if(e=typeof e=="string"?e:null,!(this._status!==we.State.Open&&this._status!==we.State.Connecting&&this._status!==we.State.Reconnecting&&this._status!==we.State.Ringing)){if(this._log.info("Disconnecting..."),this._pstream!==null&&this._pstream.status!=="disconnected"&&this._shouldSendHangup){const r=this.parameters.CallSid||this.outboundConnectionId;r&&this._pstream.hangup(r,e)}this._cleanupEventListeners(),this._mediaHandler.close(),n||this._publisher.info("connection","disconnected-by-local",null,this)}}_maybeTransitionToOpen(){this._wasConnected,this._isAnswered&&(this._onSignalingReconnected(),this._signalingStatus=we.State.Open,this._mediaHandler&&this._mediaHandler.status==="open"&&(this._status=we.State.Open,this._wasConnected||(this._wasConnected=!0,this._log.debug("#accept"),this.emit("accept",this))))}_postFeedbackDeclined(){return this._publisher.info("feedback","received-none",null,this,!0)}_publishMetrics(){this._metricsSamples.length!==0&&this._publisher.postMetrics("quality-metrics-samples","metrics-sample",this._metricsSamples.splice(0),this._createMetricPayload(),this).catch(e=>{this._log.warn("Unable to post metrics to Insights. Received error:",e)})}_setCallSid(e){const n=e.callsid;n&&(this.parameters.CallSid=n,this._mediaHandler.callSid=n)}}we.toString=()=>"[Twilio.Call class]";(function(t){(function(e){e.Closed="closed",e.Connecting="connecting",e.Open="open",e.Pending="pending",e.Reconnecting="reconnecting",e.Ringing="ringing"})(t.State||(t.State={})),(function(e){e.AudioLatency="audio-latency",e.ChoppyAudio="choppy-audio",e.DroppedCall="dropped-call",e.Echo="echo",e.NoisyCall="noisy-call",e.OneWayAudio="one-way-audio"})(t.FeedbackIssue||(t.FeedbackIssue={})),(function(e){e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five"})(t.FeedbackScore||(t.FeedbackScore={})),(function(e){e.Incoming="INCOMING",e.Outgoing="OUTGOING"})(t.CallDirection||(t.CallDirection={})),(function(e){e.Opus="opus",e.PCMU="pcmu"})(t.Codec||(t.Codec={})),(function(e){e.None="none",e.Timeout="timeout"})(t.IceGatheringFailureReason||(t.IceGatheringFailureReason={})),(function(e){e.ConnectionDisconnected="ConnectionDisconnected",e.ConnectionFailed="ConnectionFailed",e.IceGatheringFailed="IceGatheringFailed",e.LowBytes="LowBytes"})(t.MediaFailure||(t.MediaFailure={}))})(we||(we={}));function Nae(){return"TJSxxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}class Rae{constructor(){this.device=null,this.activeCall=null,this.isInitialized=!1,this.onCallAnsweredCallback=null,this.onCallEndedCallback=null,this.onCallErrorCallback=null,this.lastError=null,this.missingConfig=null}async initialize(e="demo@example.com"){if(this.isInitialized&&this.device)return console.log("Twilio Client already initialized"),!0;try{const n=await yn("twilioGenerateToken",{userEmail:e});if(!n.success||!n.token){if(console.warn("Twilio not configured:",n.error||"Unknown error"),n.debug){console.group(" Twilio Environment Variables Debug"),console.log("Environment check at runtime:",n.debug);const r=Object.entries(n.debug).filter(([i,s])=>!s).map(([i])=>i);r.length>0?console.error(" Missing variables:",r.join(", ")):console.log(" All variables present"),console.groupEnd()}return n.missingVars&&console.warn("Missing Twilio environment variables:",n.missingVars),this.lastError=n.error||"Twilio not configured",this.missingConfig=n.missingVars||null,!1}return this.device=new _e(n.token,{codecPreferences:["opus","pcmu"],enableImprovedSignalingErrorPrecision:!0,logLevel:1,maxAverageBitrate:16e3}),this.device.on("registered",()=>{console.log("Twilio Device ready to receive calls"),this.isInitialized=!0}),this.device.on("error",r=>{console.error("Twilio Device Error:",r),this.onCallErrorCallback&&this.onCallErrorCallback(r)}),this.device.on("incoming",r=>{console.log("Incoming call received"),this.activeCall=r,r.on("accept",()=>{console.log("Call accepted"),this.onCallAnsweredCallback&&this.onCallAnsweredCallback(r)}),r.on("disconnect",()=>{console.log("Call disconnected"),this.activeCall=null,this.onCallEndedCallback&&this.onCallEndedCallback()}),r.on("cancel",()=>{console.log("Call canceled"),this.activeCall=null,this.onCallEndedCallback&&this.onCallEndedCallback()}),r.on("reject",()=>{console.log("Call rejected"),this.activeCall=null,this.onCallEndedCallback&&this.onCallEndedCallback()}),r.accept()}),await this.device.register(),console.log("Twilio Client initialized successfully"),!0}catch(n){return console.error("Error initializing Twilio Client:",n),this.isInitialized=!1,!1}}async getAudioDevices(){if(!this.device)throw new Error("Device not initialized");try{await this.device.audio.setInputDevice("default");const e=await navigator.mediaDevices.enumerateDevices(),n=e.filter(i=>i.kind==="audioinput").map(i=>({deviceId:i.deviceId,label:i.label||`Microphone ${i.deviceId.slice(0,5)}`})),r=e.filter(i=>i.kind==="audiooutput").map(i=>({deviceId:i.deviceId,label:i.label||`Speaker ${i.deviceId.slice(0,5)}`}));return{audioInputs:n,audioOutputs:r}}catch(e){return console.error("Error getting audio devices:",e),{audioInputs:[],audioOutputs:[]}}}async setInputDevice(e){if(!this.device)throw new Error("Device not initialized");try{await this.device.audio.setInputDevice(e),console.log("Input device set to:",e)}catch(n){throw console.error("Error setting input device:",n),n}}async setOutputDevice(e){if(!this.device)throw new Error("Device not initialized");try{await this.device.audio.speakerDevices.set(e),console.log("Output device set to:",e)}catch(n){throw console.error("Error setting output device:",n),n}}muteCall(){return this.activeCall?(this.activeCall.mute(!0),!0):!1}unmuteCall(){return this.activeCall?(this.activeCall.mute(!1),!0):!1}async makeCall(e,n={}){if(!this.device||!this.isInitialized)throw new Error("Twilio Device not initialized. Call initialize() first.");if(this.activeCall)throw new Error("Another call is already in progress");try{const r={To:e,...n};console.log("Making call with Device SDK:",r);const i=await this.device.connect({params:r});return this.activeCall=i,i.on("accept",()=>{console.log("Outbound call accepted (connected to Twilio)")}),i.on("ringing",()=>{console.log("Call is ringing")}),i.on("connect",()=>{console.log("Call connected (other party answered)"),this.onCallAnsweredCallback&&this.onCallAnsweredCallback(i)}),i.on("disconnect",()=>{console.log("Call disconnected"),this.activeCall=null,this.onCallEndedCallback&&this.onCallEndedCallback()}),i.on("cancel",()=>{console.log("Call canceled"),this.activeCall=null,this.onCallEndedCallback&&this.onCallEndedCallback()}),i.on("error",s=>{console.error("Call error:",s),this.activeCall=null,this.onCallErrorCallback&&this.onCallErrorCallback(s)}),i}catch(r){throw console.error("Error making call:",r),this.activeCall=null,r}}disconnectCall(){return this.activeCall?(this.activeCall.disconnect(),this.activeCall=null,!0):!1}onCallAnswered(e){this.onCallAnsweredCallback=e}onCallEnded(e){this.onCallEndedCallback=e}onCallError(e){this.onCallErrorCallback=e}async destroy(){this.activeCall&&(this.activeCall.disconnect(),this.activeCall=null),this.device&&(this.device.destroy(),this.device=null),this.isInitialized=!1}isReady(){return this.isInitialized&&this.device!==null}hasActiveCall(){return this.activeCall!==null}getLastError(){return this.lastError}getMissingConfig(){return this.missingConfig}}const ut=new Rae;function Iae(t,e){const[n,r]=T.useState(null),[i,s]=T.useState(!1),[o,a]=T.useState(null),l=T.useRef(null),u=T.useRef(!1),f=_=>["completed","ended","failed","busy","no-answer","canceled","voicemail_detected"].includes(_),h=_=>["dialing","queued","ringing","in-progress","connected","initiating"].includes(_),m=_=>({dialing:{label:"Dialing...",color:"text-blue-600",bgColor:"bg-blue-100"},initiating:{label:"Initiating...",color:"text-blue-600",bgColor:"bg-blue-100"},queued:{label:"Queued",color:"text-yellow-600",bgColor:"bg-yellow-100"},ringing:{label:"Ringing...",color:"text-indigo-600",bgColor:"bg-indigo-100"},"in-progress":{label:"Connected",color:"text-green-600",bgColor:"bg-green-100"},connected:{label:"Connected",color:"text-green-600",bgColor:"bg-green-100"},completed:{label:"Ended",color:"text-slate-600",bgColor:"bg-slate-100"},ended:{label:"Ended",color:"text-slate-600",bgColor:"bg-slate-100"},failed:{label:"Failed",color:"text-red-600",bgColor:"bg-red-100"},busy:{label:"Busy",color:"text-orange-600",bgColor:"bg-orange-100"},"no-answer":{label:"No Answer",color:"text-slate-600",bgColor:"bg-slate-100"},canceled:{label:"Canceled",color:"text-slate-600",bgColor:"bg-slate-100"},voicemail_detected:{label:"Voicemail",color:"text-purple-600",bgColor:"bg-purple-100"}})[_]||{label:_,color:"text-slate-600",bgColor:"bg-slate-100"},v=T.useCallback(_=>_?{..._,statusInfo:m(_.status),isActive:h(_.status),isTerminal:f(_.status),secondsSinceStart:_.started_at?Math.floor((Date.now()-new Date(_.started_at).getTime())/1e3):0}:null,[]),x=T.useCallback(async()=>{if(!(!e||u.current)){u.current=!0;try{const{data:_,error:S}=await Se.from("active_calls").select("*").eq("user_email",t).eq("lead_id",e).order("started_at",{ascending:!1}).limit(1).maybeSingle();if(S)throw S;const C=v(_);r(C),a(null)}catch(_){console.error("Error fetching current call:",_),a(_.message)}finally{u.current=!1}}},[t,e,v]);T.useEffect(()=>{if(!e){r(null);return}x();const _=`call_${t}_${e}_${Date.now()}`,S=Se.channel(_).on("postgres_changes",{event:"*",schema:"public",table:"active_calls",filter:`user_email=eq.${t}`},C=>{var E;if(console.log("Call update received:",C.eventType,(E=C.new)==null?void 0:E.status),C.eventType==="DELETE")C.old.lead_id===e&&r(null);else if(C.new&&C.new.lead_id===e){const P=v(C.new);r(P)}}).subscribe(C=>{console.log("Subscription status:",C),s(C==="SUBSCRIBED")});return l.current=S,()=>{l.current&&(Se.removeChannel(l.current),l.current=null)}},[t,e,x,v]);const b=T.useCallback(async()=>{n!=null&&n.call_sid&&(await Se.from("active_calls").delete().eq("call_sid",n.call_sid),r(null))},[n]),y=T.useCallback(async(_,S={})=>{if(!(n!=null&&n.call_sid))return;const{error:C}=await Se.from("active_calls").update({status:_,...S}).eq("call_sid",n.call_sid);if(C)throw console.error("Error updating call status:",C),C},[n]);return{currentCall:n,isConnected:i,error:o,refresh:x,clearCall:b,updateCallStatus:y,isActive:(n==null?void 0:n.isActive)||!1,isTerminal:(n==null?void 0:n.isTerminal)||!1}}function rt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Mae(t,e){const n=T.createContext(e),r=s=>{const{children:o,...a}=s,l=T.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=T.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Ul(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o),l=n.length;n=[...n,o];const u=h=>{var _;const{scope:m,children:v,...x}=h,b=((_=m==null?void 0:m[t])==null?void 0:_[l])||a,y=T.useMemo(()=>x,Object.values(x));return p.jsx(b.Provider,{value:y,children:v})};u.displayName=s+"Provider";function f(h,m){var b;const v=((b=m==null?void 0:m[t])==null?void 0:b[l])||a,x=T.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,f]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Dae(i,...e)]}function Dae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Kn=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},$ae=mE[" useId ".trim().toString()]||(()=>{}),Lae=0;function Yo(t){const[e,n]=T.useState($ae());return Kn(()=>{n(r=>r??String(Lae++))},[t]),e?`radix-${e}`:""}var Fae=mE[" useInsertionEffect ".trim().toString()]||Kn;function wu({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=Bae({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const f=T.useRef(t!==void 0);T.useEffect(()=>{const h=f.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,r])}const u=T.useCallback(f=>{var h;if(a){const m=Uae(f)?f(t):f;m!==t&&((h=o.current)==null||h.call(o,m))}else s(f)},[a,t,s,o]);return[l,u]}function Bae({defaultProp:t,onChange:e}){const[n,r]=T.useState(t),i=T.useRef(n),s=T.useRef(e);return Fae(()=>{s.current=e},[e]),T.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function Uae(t){return typeof t=="function"}function qae(t){const e=Vae(t),n=T.forwardRef((r,i)=>{const{children:s,...o}=r,a=T.Children.toArray(s),l=a.find(zae);if(l){const u=l.props.children,f=a.map(h=>h===l?T.Children.count(u)>1?T.Children.only(null):T.isValidElement(u)?u.props.children:null:h);return p.jsx(e,{...o,ref:i,children:T.isValidElement(u)?T.cloneElement(u,void 0,f):null})}return p.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function Vae(t){const e=T.forwardRef((n,r)=>{const{children:i,...s}=n;if(T.isValidElement(i)){const o=Gae(i),a=Hae(s,i.props);return i.type!==T.Fragment&&(a.ref=r?nd(r,o):o),T.cloneElement(i,a)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Wae=Symbol("radix.slottable");function zae(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Wae}function Hae(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Gae(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Kae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],st=Kae.reduce((t,e)=>{const n=qae(`Primitive.${e}`),r=T.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Yae(t,e){t&&Jh.flushSync(()=>t.dispatchEvent(e))}function Zo(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Xae(t,e=globalThis==null?void 0:globalThis.document){const n=Zo(t);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Qae="DismissableLayer",TT="dismissableLayer.update",Jae="dismissableLayer.pointerDownOutside",Zae="dismissableLayer.focusOutside",NI,Dq=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),AA=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=T.useContext(Dq),[f,h]=T.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=T.useState({}),x=Wt(e,j=>h(j)),b=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=b.indexOf(y),S=f?b.indexOf(f):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,E=S>=_,P=nle(j=>{const N=j.target,I=[...u.branches].some(L=>L.contains(N));!E||I||(i==null||i(j),o==null||o(j),j.defaultPrevented||a==null||a())},m),k=rle(j=>{const N=j.target;[...u.branches].some(L=>L.contains(N))||(s==null||s(j),o==null||o(j),j.defaultPrevented||a==null||a())},m);return Xae(j=>{S===u.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&a&&(j.preventDefault(),a()))},m),T.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(NI=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),RI(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=NI)}},[f,m,n,u]),T.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),RI())},[f,u]),T.useEffect(()=>{const j=()=>v({});return document.addEventListener(TT,j),()=>document.removeEventListener(TT,j)},[]),p.jsx(st.div,{...l,ref:x,style:{pointerEvents:C?E?"auto":"none":void 0,...t.style},onFocusCapture:rt(t.onFocusCapture,k.onFocusCapture),onBlurCapture:rt(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:rt(t.onPointerDownCapture,P.onPointerDownCapture)})});AA.displayName=Qae;var ele="DismissableLayerBranch",tle=T.forwardRef((t,e)=>{const n=T.useContext(Dq),r=T.useRef(null),i=Wt(e,r);return T.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(st.div,{...t,ref:i})});tle.displayName=ele;function nle(t,e=globalThis==null?void 0:globalThis.document){const n=Zo(t),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){$q(Jae,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function rle(t,e=globalThis==null?void 0:globalThis.document){const n=Zo(t),r=T.useRef(!1);return T.useEffect(()=>{const i=s=>{s.target&&!r.current&&$q(Zae,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function RI(){const t=new CustomEvent(TT);document.dispatchEvent(t)}function $q(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Yae(i,s):i.dispatchEvent(s)}var Wx="focusScope.autoFocusOnMount",zx="focusScope.autoFocusOnUnmount",II={bubbles:!1,cancelable:!0},ile="FocusScope",kA=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=T.useState(null),u=Zo(i),f=Zo(s),h=T.useRef(null),m=Wt(e,b=>l(b)),v=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let b=function(C){if(v.paused||!a)return;const E=C.target;a.contains(E)?h.current=E:jo(h.current,{select:!0})},y=function(C){if(v.paused||!a)return;const E=C.relatedTarget;E!==null&&(a.contains(E)||jo(h.current,{select:!0}))},_=function(C){if(document.activeElement===document.body)for(const P of C)P.removedNodes.length>0&&jo(a)};document.addEventListener("focusin",b),document.addEventListener("focusout",y);const S=new MutationObserver(_);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",y),S.disconnect()}}},[r,a,v.paused]),T.useEffect(()=>{if(a){DI.add(v);const b=document.activeElement;if(!a.contains(b)){const _=new CustomEvent(Wx,II);a.addEventListener(Wx,u),a.dispatchEvent(_),_.defaultPrevented||(sle(ule(Lq(a)),{select:!0}),document.activeElement===b&&jo(a))}return()=>{a.removeEventListener(Wx,u),setTimeout(()=>{const _=new CustomEvent(zx,II);a.addEventListener(zx,f),a.dispatchEvent(_),_.defaultPrevented||jo(b??document.body,{select:!0}),a.removeEventListener(zx,f),DI.remove(v)},0)}}},[a,u,f,v]);const x=T.useCallback(b=>{if(!n&&!r||v.paused)return;const y=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,_=document.activeElement;if(y&&_){const S=b.currentTarget,[C,E]=ole(S);C&&E?!b.shiftKey&&_===E?(b.preventDefault(),n&&jo(C,{select:!0})):b.shiftKey&&_===C&&(b.preventDefault(),n&&jo(E,{select:!0})):_===S&&b.preventDefault()}},[n,r,v.paused]);return p.jsx(st.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});kA.displayName=ile;function sle(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(jo(r,{select:e}),document.activeElement!==n)return}function ole(t){const e=Lq(t),n=MI(e,t),r=MI(e.reverse(),t);return[n,r]}function Lq(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function MI(t,e){for(const n of t)if(!ale(n,{upTo:e}))return n}function ale(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function lle(t){return t instanceof HTMLInputElement&&"select"in t}function jo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&lle(t)&&e&&t.select()}}var DI=cle();function cle(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=$I(t,e),t.unshift(e)},remove(e){var n;t=$I(t,e),(n=t[0])==null||n.resume()}}}function $I(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function ule(t){return t.filter(e=>e.tagName!=="A")}var dle="Portal",jA=T.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=T.useState(!1);Kn(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Lie.createPortal(p.jsx(st.div,{...r,ref:e}),o):null});jA.displayName=dle;function fle(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var ep=t=>{const{present:e,children:n}=t,r=hle(e),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),s=Wt(r.ref,ple(i));return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:s}):null};ep.displayName="Presence";function hle(t){const[e,n]=T.useState(),r=T.useRef(null),i=T.useRef(t),s=T.useRef("none"),o=t?"mounted":"unmounted",[a,l]=fle(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const u=Um(r.current);s.current=a==="mounted"?u:"none"},[a]),Kn(()=>{const u=r.current,f=i.current;if(f!==t){const m=s.current,v=Um(u);t?l("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(f&&m!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Kn(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,h=v=>{const b=Um(r.current).includes(CSS.escape(v.animationName));if(v.target===e&&b&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},m=v=>{v.target===e&&(s.current=Um(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:T.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Um(t){return(t==null?void 0:t.animationName)||"none"}function ple(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Hx=0;function Fq(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??LI()),document.body.insertAdjacentElement("beforeend",t[1]??LI()),Hx++,()=>{Hx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Hx--}},[])}function LI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var _g="right-scroll-bar-position",Sg="width-before-scroll-bar",mle="with-scroll-bars-hidden",gle="--removed-body-scroll-bar-size";function Gx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function vle(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var yle=typeof window<"u"?T.useLayoutEffect:T.useEffect,FI=new WeakMap;function ble(t,e){var n=vle(null,function(r){return t.forEach(function(i){return Gx(i,r)})});return yle(function(){var r=FI.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Gx(a,null)}),s.forEach(function(a){i.has(a)||Gx(a,o)})}FI.set(n,t)},[t]),n}function xle(t){return t}function wle(t,e){e===void 0&&(e=xle);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var f=o;o=[],f.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),n}}}};return i}function _le(t){t===void 0&&(t={});var e=wle(null);return e.options=Jr({async:!0,ssr:!1},t),e}var Bq=function(t){var e=t.sideCar,n=la(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,Jr({},n))};Bq.isSideCarExport=!0;function Sle(t,e){return t.useMedium(e),Bq}var Uq=_le(),Kx=function(){},Py=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:Kx,onWheelCapture:Kx,onTouchMoveCapture:Kx}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,f=t.enabled,h=t.shards,m=t.sideCar,v=t.noRelative,x=t.noIsolation,b=t.inert,y=t.allowPinchZoom,_=t.as,S=_===void 0?"div":_,C=t.gapMode,E=la(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=m,k=ble([n,e]),j=Jr(Jr({},E),i);return T.createElement(T.Fragment,null,f&&T.createElement(P,{sideCar:Uq,removeScrollBar:u,shards:h,noRelative:v,noIsolation:x,inert:b,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:C}),o?T.cloneElement(T.Children.only(a),Jr(Jr({},j),{ref:k})):T.createElement(S,Jr({},j,{className:l,ref:k}),a))});Py.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Py.classNames={fullWidth:Sg,zeroRight:_g};var Cle=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Tle(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Cle();return e&&t.setAttribute("nonce",e),t}function Ple(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Ele(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Ale=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Tle())&&(Ple(e,n),Ele(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},kle=function(){var t=Ale();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},qq=function(){var t=kle(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},jle={left:0,top:0,right:0,gap:0},Yx=function(t){return parseInt(t||"",10)||0},Ole=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Yx(n),Yx(r),Yx(i)]},Nle=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return jle;var e=Ole(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Rle=qq(),Yc="data-scroll-locked",Ile=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(mle,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Yc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_g,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sg,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(_g," .").concat(_g,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Sg," .").concat(Sg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Yc,`] {
    `).concat(gle,": ").concat(a,`px;
  }
`)},BI=function(){var t=parseInt(document.body.getAttribute(Yc)||"0",10);return isFinite(t)?t:0},Mle=function(){T.useEffect(function(){return document.body.setAttribute(Yc,(BI()+1).toString()),function(){var t=BI()-1;t<=0?document.body.removeAttribute(Yc):document.body.setAttribute(Yc,t.toString())}},[])},Dle=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Mle();var s=T.useMemo(function(){return Nle(i)},[i]);return T.createElement(Rle,{styles:Ile(s,!e,i,n?"":"!important")})},PT=!1;if(typeof window<"u")try{var qm=Object.defineProperty({},"passive",{get:function(){return PT=!0,!0}});window.addEventListener("test",qm,qm),window.removeEventListener("test",qm,qm)}catch{PT=!1}var Sc=PT?{passive:!1}:!1,$le=function(t){return t.tagName==="TEXTAREA"},Vq=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!$le(t)&&n[e]==="visible")},Lle=function(t){return Vq(t,"overflowY")},Fle=function(t){return Vq(t,"overflowX")},UI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Wq(t,r);if(i){var s=zq(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ble=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Ule=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Wq=function(t,e){return t==="v"?Lle(e):Fle(e)},zq=function(t,e){return t==="v"?Ble(e):Ule(e)},qle=function(t,e){return t==="h"&&e==="rtl"?-1:1},Vle=function(t,e,n,r,i){var s=qle(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,f=o>0,h=0,m=0;do{if(!a)break;var v=zq(t,a),x=v[0],b=v[1],y=v[2],_=b-y-s*x;(x||_)&&Wq(t,a)&&(h+=_,m+=x);var S=a.parentNode;a=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&Math.abs(h)<1||!f&&Math.abs(m)<1)&&(u=!0),u},Vm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},qI=function(t){return[t.deltaX,t.deltaY]},VI=function(t){return t&&"current"in t?t.current:t},Wle=function(t,e){return t[0]===e[0]&&t[1]===e[1]},zle=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Hle=0,Cc=[];function Gle(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),i=T.useState(Hle++)[0],s=T.useState(qq)[0],o=T.useRef(t);T.useEffect(function(){o.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=eA([t.lockRef.current],(t.shards||[]).map(VI),!0).filter(Boolean);return b.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=T.useCallback(function(b,y){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var _=Vm(b),S=n.current,C="deltaX"in b?b.deltaX:S[0]-_[0],E="deltaY"in b?b.deltaY:S[1]-_[1],P,k=b.target,j=Math.abs(C)>Math.abs(E)?"h":"v";if("touches"in b&&j==="h"&&k.type==="range")return!1;var N=window.getSelection(),I=N&&N.anchorNode,L=I?I===k||I.contains(k):!1;if(L)return!1;var M=UI(j,k);if(!M)return!0;if(M?P=j:(P=j==="v"?"h":"v",M=UI(j,k)),!M)return!1;if(!r.current&&"changedTouches"in b&&(C||E)&&(r.current=P),!P)return!0;var F=r.current||P;return Vle(F,y,b,F==="h"?C:E)},[]),l=T.useCallback(function(b){var y=b;if(!(!Cc.length||Cc[Cc.length-1]!==s)){var _="deltaY"in y?qI(y):Vm(y),S=e.current.filter(function(P){return P.name===y.type&&(P.target===y.target||y.target===P.shadowParent)&&Wle(P.delta,_)})[0];if(S&&S.should){y.cancelable&&y.preventDefault();return}if(!S){var C=(o.current.shards||[]).map(VI).filter(Boolean).filter(function(P){return P.contains(y.target)}),E=C.length>0?a(y,C[0]):!o.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),u=T.useCallback(function(b,y,_,S){var C={name:b,delta:y,target:_,should:S,shadowParent:Kle(_)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(E){return E!==C})},1)},[]),f=T.useCallback(function(b){n.current=Vm(b),r.current=void 0},[]),h=T.useCallback(function(b){u(b.type,qI(b),b.target,a(b,t.lockRef.current))},[]),m=T.useCallback(function(b){u(b.type,Vm(b),b.target,a(b,t.lockRef.current))},[]);T.useEffect(function(){return Cc.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Sc),document.addEventListener("touchmove",l,Sc),document.addEventListener("touchstart",f,Sc),function(){Cc=Cc.filter(function(b){return b!==s}),document.removeEventListener("wheel",l,Sc),document.removeEventListener("touchmove",l,Sc),document.removeEventListener("touchstart",f,Sc)}},[]);var v=t.removeScrollBar,x=t.inert;return T.createElement(T.Fragment,null,x?T.createElement(s,{styles:zle(i)}):null,v?T.createElement(Dle,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Kle(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Yle=Sle(Uq,Gle);var OA=T.forwardRef(function(t,e){return T.createElement(Py,Jr({},t,{ref:e,sideCar:Yle}))});OA.classNames=Py.classNames;var Xle=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Tc=new WeakMap,Wm=new WeakMap,zm={},Xx=0,Hq=function(t){return t&&(t.host||Hq(t.parentNode))},Qle=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Hq(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Jle=function(t,e,n,r){var i=Qle(e,Array.isArray(t)?t:[t]);zm[n]||(zm[n]=new WeakMap);var s=zm[n],o=[],a=new Set,l=new Set(i),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};i.forEach(u);var f=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(m){if(a.has(m))f(m);else try{var v=m.getAttribute(r),x=v!==null&&v!=="false",b=(Tc.get(m)||0)+1,y=(s.get(m)||0)+1;Tc.set(m,b),s.set(m,y),o.push(m),b===1&&x&&Wm.set(m,!0),y===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return f(e),a.clear(),Xx++,function(){o.forEach(function(h){var m=Tc.get(h)-1,v=s.get(h)-1;Tc.set(h,m),s.set(h,v),m||(Wm.has(h)||h.removeAttribute(r),Wm.delete(h)),v||h.removeAttribute(n)}),Xx--,Xx||(Tc=new WeakMap,Tc=new WeakMap,Wm=new WeakMap,zm={})}},Gq=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Xle(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Jle(r,i,n,"aria-hidden")):function(){return null}};function Zle(t){const e=ece(t),n=T.forwardRef((r,i)=>{const{children:s,...o}=r,a=T.Children.toArray(s),l=a.find(nce);if(l){const u=l.props.children,f=a.map(h=>h===l?T.Children.count(u)>1?T.Children.only(null):T.isValidElement(u)?u.props.children:null:h);return p.jsx(e,{...o,ref:i,children:T.isValidElement(u)?T.cloneElement(u,void 0,f):null})}return p.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function ece(t){const e=T.forwardRef((n,r)=>{const{children:i,...s}=n;if(T.isValidElement(i)){const o=ice(i),a=rce(s,i.props);return i.type!==T.Fragment&&(a.ref=r?nd(r,o):o),T.cloneElement(i,a)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tce=Symbol("radix.slottable");function nce(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tce}function rce(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function ice(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ey="Dialog",[Kq]=Ul(Ey),[sce,Ii]=Kq(Ey),Yq=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=T.useRef(null),l=T.useRef(null),[u,f]=wu({prop:r,defaultProp:i??!1,onChange:s,caller:Ey});return p.jsx(sce,{scope:e,triggerRef:a,contentRef:l,contentId:Yo(),titleId:Yo(),descriptionId:Yo(),open:u,onOpenChange:f,onOpenToggle:T.useCallback(()=>f(h=>!h),[f]),modal:o,children:n})};Yq.displayName=Ey;var Xq="DialogTrigger",Qq=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ii(Xq,n),s=Wt(e,i.triggerRef);return p.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":IA(i.open),...r,ref:s,onClick:rt(t.onClick,i.onOpenToggle)})});Qq.displayName=Xq;var NA="DialogPortal",[oce,Jq]=Kq(NA,{forceMount:void 0}),Zq=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Ii(NA,e);return p.jsx(oce,{scope:e,forceMount:n,children:T.Children.map(r,o=>p.jsx(ep,{present:n||s.open,children:p.jsx(jA,{asChild:!0,container:i,children:o})}))})};Zq.displayName=NA;var ev="DialogOverlay",eV=T.forwardRef((t,e)=>{const n=Jq(ev,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ii(ev,t.__scopeDialog);return s.modal?p.jsx(ep,{present:r||s.open,children:p.jsx(lce,{...i,ref:e})}):null});eV.displayName=ev;var ace=Zle("DialogOverlay.RemoveScroll"),lce=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ii(ev,n);return p.jsx(OA,{as:ace,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(st.div,{"data-state":IA(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Al="DialogContent",tV=T.forwardRef((t,e)=>{const n=Jq(Al,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ii(Al,t.__scopeDialog);return p.jsx(ep,{present:r||s.open,children:s.modal?p.jsx(cce,{...i,ref:e}):p.jsx(uce,{...i,ref:e})})});tV.displayName=Al;var cce=T.forwardRef((t,e)=>{const n=Ii(Al,t.__scopeDialog),r=T.useRef(null),i=Wt(e,n.contentRef,r);return T.useEffect(()=>{const s=r.current;if(s)return Gq(s)},[]),p.jsx(nV,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:rt(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:rt(t.onFocusOutside,s=>s.preventDefault())})}),uce=T.forwardRef((t,e)=>{const n=Ii(Al,t.__scopeDialog),r=T.useRef(!1),i=T.useRef(!1);return p.jsx(nV,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),nV=T.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Ii(Al,n),l=T.useRef(null),u=Wt(e,l);return Fq(),p.jsxs(p.Fragment,{children:[p.jsx(kA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:p.jsx(AA,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":IA(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(dce,{titleId:a.titleId}),p.jsx(hce,{contentRef:l,descriptionId:a.descriptionId})]})]})}),RA="DialogTitle",rV=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ii(RA,n);return p.jsx(st.h2,{id:i.titleId,...r,ref:e})});rV.displayName=RA;var iV="DialogDescription",sV=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ii(iV,n);return p.jsx(st.p,{id:i.descriptionId,...r,ref:e})});sV.displayName=iV;var oV="DialogClose",aV=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ii(oV,n);return p.jsx(st.button,{type:"button",...r,ref:e,onClick:rt(t.onClick,()=>i.onOpenChange(!1))})});aV.displayName=oV;function IA(t){return t?"open":"closed"}var lV="DialogTitleWarning",[qOe,cV]=Mae(lV,{contentName:Al,titleName:RA,docsSlug:"dialog"}),dce=({titleId:t})=>{const e=cV(lV),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},fce="DialogDescriptionWarning",hce=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cV(fce).contentName}}.`;return T.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},pce=Yq,mce=Qq,gce=Zq,uV=eV,dV=tV,fV=rV,hV=sV,vce=aV;const kl=pce,yce=mce,bce=gce,pV=T.forwardRef(({className:t,...e},n)=>p.jsx(uV,{ref:n,className:He("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));pV.displayName=uV.displayName;const ea=T.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(bce,{children:[p.jsx(pV,{}),p.jsxs(dV,{ref:r,className:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(vce,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(bu,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ea.displayName=dV.displayName;const ta=({className:t,...e})=>p.jsx("div",{className:He("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ta.displayName="DialogHeader";const na=T.forwardRef(({className:t,...e},n)=>p.jsx(fV,{ref:n,className:He("text-lg font-semibold leading-none tracking-tight",t),...e}));na.displayName=fV.displayName;const tp=T.forwardRef(({className:t,...e},n)=>p.jsx(hV,{ref:n,className:He("text-sm text-muted-foreground",t),...e}));tp.displayName=hV.displayName;var xce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wce=xce.reduce((t,e)=>{const n=bA(`Primitive.${e}`),r=T.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),_ce="Label",mV=T.forwardRef((t,e)=>p.jsx(wce.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));mV.displayName=_ce;var gV=mV;const Sce=Zh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),gt=T.forwardRef(({className:t,...e},n)=>p.jsx(gV,{ref:n,className:He(Sce(),t),...e}));gt.displayName=gV.displayName;function WI(t,[e,n]){return Math.min(n,Math.max(e,t))}function zI(t){const e=Cce(t),n=T.forwardRef((r,i)=>{const{children:s,...o}=r,a=T.Children.toArray(s),l=a.find(Pce);if(l){const u=l.props.children,f=a.map(h=>h===l?T.Children.count(u)>1?T.Children.only(null):T.isValidElement(u)?u.props.children:null:h);return p.jsx(e,{...o,ref:i,children:T.isValidElement(u)?T.cloneElement(u,void 0,f):null})}return p.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function Cce(t){const e=T.forwardRef((n,r)=>{const{children:i,...s}=n;if(T.isValidElement(i)){const o=Ace(i),a=Ece(s,i.props);return i.type!==T.Fragment&&(a.ref=r?nd(r,o):o),T.cloneElement(i,a)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Tce=Symbol("radix.slottable");function Pce(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Tce}function Ece(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Ace(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function vV(t){const e=t+"CollectionProvider",[n,r]=Ul(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:y,children:_}=b,S=V.useRef(null),C=V.useRef(new Map).current;return p.jsx(i,{scope:y,itemMap:C,collectionRef:S,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=zI(a),u=V.forwardRef((b,y)=>{const{scope:_,children:S}=b,C=s(a,_),E=Wt(y,C.collectionRef);return p.jsx(l,{ref:E,children:S})});u.displayName=a;const f=t+"CollectionItemSlot",h="data-radix-collection-item",m=zI(f),v=V.forwardRef((b,y)=>{const{scope:_,children:S,...C}=b,E=V.useRef(null),P=Wt(y,E),k=s(f,_);return V.useEffect(()=>(k.itemMap.set(E,{ref:E,...C}),()=>void k.itemMap.delete(E))),p.jsx(m,{[h]:"",ref:P,children:S})});v.displayName=f;function x(b){const y=s(t+"CollectionConsumer",b);return V.useCallback(()=>{const S=y.collectionRef.current;if(!S)return[];const C=Array.from(S.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((k,j)=>C.indexOf(k.ref.current)-C.indexOf(j.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},x,r]}var kce=T.createContext(void 0);function MA(t){const e=T.useContext(kce);return t||e||"ltr"}const jce=["top","right","bottom","left"],ra=Math.min,Nr=Math.max,tv=Math.round,Hm=Math.floor,Zi=t=>({x:t,y:t}),Oce={left:"right",right:"left",bottom:"top",top:"bottom"},Nce={start:"end",end:"start"};function ET(t,e,n){return Nr(t,ra(e,n))}function Hs(t,e){return typeof t=="function"?t(e):t}function Gs(t){return t.split("-")[0]}function sd(t){return t.split("-")[1]}function DA(t){return t==="x"?"y":"x"}function $A(t){return t==="y"?"height":"width"}const Rce=new Set(["top","bottom"]);function Gi(t){return Rce.has(Gs(t))?"y":"x"}function LA(t){return DA(Gi(t))}function Ice(t,e,n){n===void 0&&(n=!1);const r=sd(t),i=LA(t),s=$A(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=nv(o)),[o,nv(o)]}function Mce(t){const e=nv(t);return[AT(t),e,AT(e)]}function AT(t){return t.replace(/start|end/g,e=>Nce[e])}const HI=["left","right"],GI=["right","left"],Dce=["top","bottom"],$ce=["bottom","top"];function Lce(t,e,n){switch(t){case"top":case"bottom":return n?e?GI:HI:e?HI:GI;case"left":case"right":return e?Dce:$ce;default:return[]}}function Fce(t,e,n,r){const i=sd(t);let s=Lce(Gs(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(AT)))),s}function nv(t){return t.replace(/left|right|bottom|top/g,e=>Oce[e])}function Bce(t){return{top:0,right:0,bottom:0,left:0,...t}}function yV(t){return typeof t!="number"?Bce(t):{top:t,right:t,bottom:t,left:t}}function rv(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function KI(t,e,n){let{reference:r,floating:i}=t;const s=Gi(e),o=LA(e),a=$A(o),l=Gs(e),u=s==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let v;switch(l){case"top":v={x:f,y:r.y-i.height};break;case"bottom":v={x:f,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:h};break;case"left":v={x:r.x-i.width,y:h};break;default:v={x:r.x,y:r.y}}switch(sd(e)){case"start":v[o]-=m*(n&&u?-1:1);break;case"end":v[o]+=m*(n&&u?-1:1);break}return v}const Uce=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=KI(u,r,l),m=r,v={},x=0;for(let b=0;b<a.length;b++){const{name:y,fn:_}=a[b],{x:S,y:C,data:E,reset:P}=await _({x:f,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});f=S??f,h=C??h,v={...v,[y]:{...v[y],...E}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(u=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:f,y:h}=KI(u,m,l)),b=-1)}return{x:f,y:h,placement:m,strategy:i,middlewareData:v}};async function Jf(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:v=0}=Hs(e,t),x=yV(v),y=a[m?h==="floating"?"reference":"floating":h],_=rv(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:l})),S=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},P=rv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:C,strategy:l}):S);return{top:(_.top-P.top+x.top)/E.y,bottom:(P.bottom-_.bottom+x.bottom)/E.y,left:(_.left-P.left+x.left)/E.x,right:(P.right-_.right+x.right)/E.x}}const qce=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:f=0}=Hs(t,e)||{};if(u==null)return{};const h=yV(f),m={x:n,y:r},v=LA(i),x=$A(v),b=await o.getDimensions(u),y=v==="y",_=y?"top":"left",S=y?"bottom":"right",C=y?"clientHeight":"clientWidth",E=s.reference[x]+s.reference[v]-m[v]-s.floating[x],P=m[v]-s.reference[v],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let j=k?k[C]:0;(!j||!await(o.isElement==null?void 0:o.isElement(k)))&&(j=a.floating[C]||s.floating[x]);const N=E/2-P/2,I=j/2-b[x]/2-1,L=ra(h[_],I),M=ra(h[S],I),F=L,U=j-b[x]-M,Y=j/2-b[x]/2+N,X=ET(F,Y,U),z=!l.arrow&&sd(i)!=null&&Y!==X&&s.reference[x]/2-(Y<F?L:M)-b[x]/2<0,J=z?Y<F?Y-F:Y-U:0;return{[v]:m[v]+J,data:{[v]:X,centerOffset:Y-X-J,...z&&{alignmentOffset:J}},reset:z}}}),Vce=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:b=!0,...y}=Hs(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const _=Gs(i),S=Gi(a),C=Gs(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(u.floating)),P=m||(C||!b?[nv(a)]:Mce(a)),k=x!=="none";!m&&k&&P.push(...Fce(a,b,x,E));const j=[a,...P],N=await Jf(e,y),I=[];let L=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&I.push(N[_]),h){const Y=Ice(i,o,E);I.push(N[Y[0]],N[Y[1]])}if(L=[...L,{placement:i,overflows:I}],!I.every(Y=>Y<=0)){var M,F;const Y=(((M=s.flip)==null?void 0:M.index)||0)+1,X=j[Y];if(X&&(!(h==="alignment"?S!==Gi(X):!1)||L.every(B=>Gi(B.placement)===S?B.overflows[0]>0:!0)))return{data:{index:Y,overflows:L},reset:{placement:X}};let z=(F=L.filter(J=>J.overflows[0]<=0).sort((J,B)=>J.overflows[1]-B.overflows[1])[0])==null?void 0:F.placement;if(!z)switch(v){case"bestFit":{var U;const J=(U=L.filter(B=>{if(k){const K=Gi(B.placement);return K===S||K==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(K=>K>0).reduce((K,D)=>K+D,0)]).sort((B,K)=>B[1]-K[1])[0])==null?void 0:U[0];J&&(z=J);break}case"initialPlacement":z=a;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function YI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function XI(t){return jce.some(e=>t[e]>=0)}const Wce=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Hs(t,e);switch(r){case"referenceHidden":{const s=await Jf(e,{...i,elementContext:"reference"}),o=YI(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:XI(o)}}}case"escaped":{const s=await Jf(e,{...i,altBoundary:!0}),o=YI(s,n.floating);return{data:{escapedOffsets:o,escaped:XI(o)}}}default:return{}}}}},bV=new Set(["left","top"]);async function zce(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Gs(n),a=sd(n),l=Gi(n)==="y",u=bV.has(o)?-1:1,f=s&&l?-1:1,h=Hs(e,t);let{mainAxis:m,crossAxis:v,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof x=="number"&&(v=a==="end"?x*-1:x),l?{x:v*f,y:m*u}:{x:m*u,y:v*f}}const Hce=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await zce(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Gce=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:_,y:S}=y;return{x:_,y:S}}},...l}=Hs(t,e),u={x:n,y:r},f=await Jf(e,l),h=Gi(Gs(i)),m=DA(h);let v=u[m],x=u[h];if(s){const y=m==="y"?"top":"left",_=m==="y"?"bottom":"right",S=v+f[y],C=v-f[_];v=ET(S,v,C)}if(o){const y=h==="y"?"top":"left",_=h==="y"?"bottom":"right",S=x+f[y],C=x-f[_];x=ET(S,x,C)}const b=a.fn({...e,[m]:v,[h]:x});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[m]:s,[h]:o}}}}}},Kce=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Hs(t,e),f={x:n,y:r},h=Gi(i),m=DA(h);let v=f[m],x=f[h];const b=Hs(a,e),y=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(l){const C=m==="y"?"height":"width",E=s.reference[m]-s.floating[C]+y.mainAxis,P=s.reference[m]+s.reference[C]-y.mainAxis;v<E?v=E:v>P&&(v=P)}if(u){var _,S;const C=m==="y"?"width":"height",E=bV.has(Gs(i)),P=s.reference[h]-s.floating[C]+(E&&((_=o.offset)==null?void 0:_[h])||0)+(E?0:y.crossAxis),k=s.reference[h]+s.reference[C]+(E?0:((S=o.offset)==null?void 0:S[h])||0)-(E?y.crossAxis:0);x<P?x=P:x>k&&(x=k)}return{[m]:v,[h]:x}}}},Yce=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Hs(t,e),f=await Jf(e,u),h=Gs(i),m=sd(i),v=Gi(i)==="y",{width:x,height:b}=s.floating;let y,_;h==="top"||h==="bottom"?(y=h,_=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,y=m==="end"?"top":"bottom");const S=b-f.top-f.bottom,C=x-f.left-f.right,E=ra(b-f[y],S),P=ra(x-f[_],C),k=!e.middlewareData.shift;let j=E,N=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(j=S),k&&!m){const L=Nr(f.left,0),M=Nr(f.right,0),F=Nr(f.top,0),U=Nr(f.bottom,0);v?N=x-2*(L!==0||M!==0?L+M:Nr(f.left,f.right)):j=b-2*(F!==0||U!==0?F+U:Nr(f.top,f.bottom))}await l({...e,availableWidth:N,availableHeight:j});const I=await o.getDimensions(a.floating);return x!==I.width||b!==I.height?{reset:{rects:!0}}:{}}}};function Ay(){return typeof window<"u"}function od(t){return xV(t)?(t.nodeName||"").toLowerCase():"#document"}function Mr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function as(t){var e;return(e=(xV(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function xV(t){return Ay()?t instanceof Node||t instanceof Mr(t).Node:!1}function Oi(t){return Ay()?t instanceof Element||t instanceof Mr(t).Element:!1}function is(t){return Ay()?t instanceof HTMLElement||t instanceof Mr(t).HTMLElement:!1}function QI(t){return!Ay()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mr(t).ShadowRoot}const Xce=new Set(["inline","contents"]);function np(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ni(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Xce.has(i)}const Qce=new Set(["table","td","th"]);function Jce(t){return Qce.has(od(t))}const Zce=[":popover-open",":modal"];function ky(t){return Zce.some(e=>{try{return t.matches(e)}catch{return!1}})}const eue=["transform","translate","scale","rotate","perspective"],tue=["transform","translate","scale","rotate","perspective","filter"],nue=["paint","layout","strict","content"];function FA(t){const e=BA(),n=Oi(t)?Ni(t):t;return eue.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||tue.some(r=>(n.willChange||"").includes(r))||nue.some(r=>(n.contain||"").includes(r))}function rue(t){let e=ia(t);for(;is(e)&&!_u(e);){if(FA(e))return e;if(ky(e))return null;e=ia(e)}return null}function BA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iue=new Set(["html","body","#document"]);function _u(t){return iue.has(od(t))}function Ni(t){return Mr(t).getComputedStyle(t)}function jy(t){return Oi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ia(t){if(od(t)==="html")return t;const e=t.assignedSlot||t.parentNode||QI(t)&&t.host||as(t);return QI(e)?e.host:e}function wV(t){const e=ia(t);return _u(e)?t.ownerDocument?t.ownerDocument.body:t.body:is(e)&&np(e)?e:wV(e)}function Zf(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=wV(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Mr(i);if(s){const a=kT(o);return e.concat(o,o.visualViewport||[],np(i)?i:[],a&&n?Zf(a):[])}return e.concat(i,Zf(i,[],n))}function kT(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _V(t){const e=Ni(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=is(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=tv(n)!==s||tv(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function UA(t){return Oi(t)?t:t.contextElement}function Xc(t){const e=UA(t);if(!is(e))return Zi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=_V(e);let o=(s?tv(n.width):n.width)/r,a=(s?tv(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const sue=Zi(0);function SV(t){const e=Mr(t);return!BA()||!e.visualViewport?sue:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function oue(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Mr(t)?!1:e}function jl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=UA(t);let o=Zi(1);e&&(r?Oi(r)&&(o=Xc(r)):o=Xc(t));const a=oue(s,n,r)?SV(s):Zi(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,f=i.width/o.x,h=i.height/o.y;if(s){const m=Mr(s),v=r&&Oi(r)?Mr(r):r;let x=m,b=kT(x);for(;b&&r&&v!==x;){const y=Xc(b),_=b.getBoundingClientRect(),S=Ni(b),C=_.left+(b.clientLeft+parseFloat(S.paddingLeft))*y.x,E=_.top+(b.clientTop+parseFloat(S.paddingTop))*y.y;l*=y.x,u*=y.y,f*=y.x,h*=y.y,l+=C,u+=E,x=Mr(b),b=kT(x)}}return rv({width:f,height:h,x:l,y:u})}function Oy(t,e){const n=jy(t).scrollLeft;return e?e.left+n:jl(as(t)).left+n}function CV(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Oy(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function aue(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=as(r),a=e?ky(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Zi(1);const f=Zi(0),h=is(r);if((h||!h&&!s)&&((od(r)!=="body"||np(o))&&(l=jy(r)),is(r))){const v=jl(r);u=Xc(r),f.x=v.x+r.clientLeft,f.y=v.y+r.clientTop}const m=o&&!h&&!s?CV(o,l):Zi(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+f.x+m.x,y:n.y*u.y-l.scrollTop*u.y+f.y+m.y}}function lue(t){return Array.from(t.getClientRects())}function cue(t){const e=as(t),n=jy(t),r=t.ownerDocument.body,i=Nr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Nr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Oy(t);const a=-n.scrollTop;return Ni(r).direction==="rtl"&&(o+=Nr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const JI=25;function uue(t,e){const n=Mr(t),r=as(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const f=BA();(!f||f&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=Oy(r);if(u<=0){const f=r.ownerDocument,h=f.body,m=getComputedStyle(h),v=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,x=Math.abs(r.clientWidth-h.clientWidth-v);x<=JI&&(s-=x)}else u<=JI&&(s+=u);return{width:s,height:o,x:a,y:l}}const due=new Set(["absolute","fixed"]);function fue(t,e){const n=jl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=is(t)?Xc(t):Zi(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function ZI(t,e,n){let r;if(e==="viewport")r=uue(t,n);else if(e==="document")r=cue(as(t));else if(Oi(e))r=fue(e,n);else{const i=SV(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return rv(r)}function TV(t,e){const n=ia(t);return n===e||!Oi(n)||_u(n)?!1:Ni(n).position==="fixed"||TV(n,e)}function hue(t,e){const n=e.get(t);if(n)return n;let r=Zf(t,[],!1).filter(a=>Oi(a)&&od(a)!=="body"),i=null;const s=Ni(t).position==="fixed";let o=s?ia(t):t;for(;Oi(o)&&!_u(o);){const a=Ni(o),l=FA(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&due.has(i.position)||np(o)&&!l&&TV(t,o))?r=r.filter(f=>f!==o):i=a,o=ia(o)}return e.set(t,r),r}function pue(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?ky(e)?[]:hue(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,f)=>{const h=ZI(e,f,i);return u.top=Nr(h.top,u.top),u.right=ra(h.right,u.right),u.bottom=ra(h.bottom,u.bottom),u.left=Nr(h.left,u.left),u},ZI(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function mue(t){const{width:e,height:n}=_V(t);return{width:e,height:n}}function gue(t,e,n){const r=is(e),i=as(e),s=n==="fixed",o=jl(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Zi(0);function u(){l.x=Oy(i)}if(r||!r&&!s)if((od(e)!=="body"||np(i))&&(a=jy(e)),r){const v=jl(e,!0,s,e);l.x=v.x+e.clientLeft,l.y=v.y+e.clientTop}else i&&u();s&&!r&&i&&u();const f=i&&!r&&!s?CV(i,a):Zi(0),h=o.left+a.scrollLeft-l.x-f.x,m=o.top+a.scrollTop-l.y-f.y;return{x:h,y:m,width:o.width,height:o.height}}function Qx(t){return Ni(t).position==="static"}function eM(t,e){if(!is(t)||Ni(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return as(t)===n&&(n=n.ownerDocument.body),n}function PV(t,e){const n=Mr(t);if(ky(t))return n;if(!is(t)){let i=ia(t);for(;i&&!_u(i);){if(Oi(i)&&!Qx(i))return i;i=ia(i)}return n}let r=eM(t,e);for(;r&&Jce(r)&&Qx(r);)r=eM(r,e);return r&&_u(r)&&Qx(r)&&!FA(r)?n:r||rue(t)||n}const vue=async function(t){const e=this.getOffsetParent||PV,n=this.getDimensions,r=await n(t.floating);return{reference:gue(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yue(t){return Ni(t).direction==="rtl"}const bue={convertOffsetParentRelativeRectToViewportRelativeRect:aue,getDocumentElement:as,getClippingRect:pue,getOffsetParent:PV,getElementRects:vue,getClientRects:lue,getDimensions:mue,getScale:Xc,isElement:Oi,isRTL:yue};function EV(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function xue(t,e){let n=null,r;const i=as(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:f,top:h,width:m,height:v}=u;if(a||e(),!m||!v)return;const x=Hm(h),b=Hm(i.clientWidth-(f+m)),y=Hm(i.clientHeight-(h+v)),_=Hm(f),C={rootMargin:-x+"px "+-b+"px "+-y+"px "+-_+"px",threshold:Nr(0,ra(1,l))||1};let E=!0;function P(k){const j=k[0].intersectionRatio;if(j!==l){if(!E)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!EV(u,t.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(P,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,C)}n.observe(t)}return o(!0),s}function wue(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=UA(t),f=i||s?[...u?Zf(u):[],...Zf(e)]:[];f.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const h=u&&a?xue(u,n):null;let m=-1,v=null;o&&(v=new ResizeObserver(_=>{let[S]=_;S&&S.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(e)})),n()}),u&&!l&&v.observe(u),v.observe(e));let x,b=l?jl(t):null;l&&y();function y(){const _=jl(t);b&&!EV(b,_)&&n(),b=_,x=requestAnimationFrame(y)}return n(),()=>{var _;f.forEach(S=>{i&&S.removeEventListener("scroll",n),s&&S.removeEventListener("resize",n)}),h==null||h(),(_=v)==null||_.disconnect(),v=null,l&&cancelAnimationFrame(x)}}const _ue=Hce,Sue=Gce,Cue=Vce,Tue=Yce,Pue=Wce,tM=qce,Eue=Kce,Aue=(t,e,n)=>{const r=new Map,i={platform:bue,...n},s={...i.platform,_c:r};return Uce(t,e,{...i,platform:s})};var kue=typeof document<"u",jue=function(){},Cg=kue?T.useLayoutEffect:jue;function iv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!iv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!iv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function AV(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function nM(t,e){const n=AV(t);return Math.round(e*n)/n}function Jx(t){const e=T.useRef(t);return Cg(()=>{e.current=t}),e}function Oue(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[f,h]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,v]=T.useState(r);iv(m,r)||v(r);const[x,b]=T.useState(null),[y,_]=T.useState(null),S=T.useCallback(B=>{B!==k.current&&(k.current=B,b(B))},[]),C=T.useCallback(B=>{B!==j.current&&(j.current=B,_(B))},[]),E=s||x,P=o||y,k=T.useRef(null),j=T.useRef(null),N=T.useRef(f),I=l!=null,L=Jx(l),M=Jx(i),F=Jx(u),U=T.useCallback(()=>{if(!k.current||!j.current)return;const B={placement:e,strategy:n,middleware:m};M.current&&(B.platform=M.current),Aue(k.current,j.current,B).then(K=>{const D={...K,isPositioned:F.current!==!1};Y.current&&!iv(N.current,D)&&(N.current=D,Jh.flushSync(()=>{h(D)}))})},[m,e,n,M,F]);Cg(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(B=>({...B,isPositioned:!1})))},[u]);const Y=T.useRef(!1);Cg(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Cg(()=>{if(E&&(k.current=E),P&&(j.current=P),E&&P){if(L.current)return L.current(E,P,U);U()}},[E,P,U,L,I]);const X=T.useMemo(()=>({reference:k,floating:j,setReference:S,setFloating:C}),[S,C]),z=T.useMemo(()=>({reference:E,floating:P}),[E,P]),J=T.useMemo(()=>{const B={position:n,left:0,top:0};if(!z.floating)return B;const K=nM(z.floating,f.x),D=nM(z.floating,f.y);return a?{...B,transform:"translate("+K+"px, "+D+"px)",...AV(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:D}},[n,a,z.floating,f.x,f.y]);return T.useMemo(()=>({...f,update:U,refs:X,elements:z,floatingStyles:J}),[f,U,X,z,J])}const Nue=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?tM({element:r.current,padding:i}).fn(n):{}:r?tM({element:r,padding:i}).fn(n):{}}}},Rue=(t,e)=>({..._ue(t),options:[t,e]}),Iue=(t,e)=>({...Sue(t),options:[t,e]}),Mue=(t,e)=>({...Eue(t),options:[t,e]}),Due=(t,e)=>({...Cue(t),options:[t,e]}),$ue=(t,e)=>({...Tue(t),options:[t,e]}),Lue=(t,e)=>({...Pue(t),options:[t,e]}),Fue=(t,e)=>({...Nue(t),options:[t,e]});var Bue="Arrow",kV=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return p.jsx(st.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});kV.displayName=Bue;var Uue=kV;function jV(t){const[e,n]=T.useState(void 0);return Kn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var qA="Popper",[OV,NV]=Ul(qA),[que,RV]=OV(qA),IV=t=>{const{__scopePopper:e,children:n}=t,[r,i]=T.useState(null);return p.jsx(que,{scope:e,anchor:r,onAnchorChange:i,children:n})};IV.displayName=qA;var MV="PopperAnchor",DV=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=RV(MV,n),o=T.useRef(null),a=Wt(e,o),l=T.useRef(null);return T.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||o.current,u!==l.current&&s.onAnchorChange(l.current)}),r?null:p.jsx(st.div,{...i,ref:a})});DV.displayName=MV;var VA="PopperContent",[Vue,Wue]=OV(VA),$V=T.forwardRef((t,e)=>{var oe,me,se,fe,ve,re;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:x,...b}=t,y=RV(VA,n),[_,S]=T.useState(null),C=Wt(e,Ge=>S(Ge)),[E,P]=T.useState(null),k=jV(E),j=(k==null?void 0:k.width)??0,N=(k==null?void 0:k.height)??0,I=r+(s!=="center"?"-"+s:""),L=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},M=Array.isArray(u)?u:[u],F=M.length>0,U={padding:L,boundary:M.filter(Hue),altBoundary:F},{refs:Y,floatingStyles:X,placement:z,isPositioned:J,middlewareData:B}=Oue({strategy:"fixed",placement:I,whileElementsMounted:(...Ge)=>wue(...Ge,{animationFrame:v==="always"}),elements:{reference:y.anchor},middleware:[Rue({mainAxis:i+N,alignmentAxis:o}),l&&Iue({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Mue():void 0,...U}),l&&Due({...U}),$ue({...U,apply:({elements:Ge,rects:Fe,availableWidth:dt,availableHeight:ft})=>{const{width:Et,height:Yn}=Fe.reference,On=Ge.floating.style;On.setProperty("--radix-popper-available-width",`${dt}px`),On.setProperty("--radix-popper-available-height",`${ft}px`),On.setProperty("--radix-popper-anchor-width",`${Et}px`),On.setProperty("--radix-popper-anchor-height",`${Yn}px`)}}),E&&Fue({element:E,padding:a}),Gue({arrowWidth:j,arrowHeight:N}),m&&Lue({strategy:"referenceHidden",...U})]}),[K,D]=BV(z),$=Zo(x);Kn(()=>{J&&($==null||$())},[J,$]);const H=(oe=B.arrow)==null?void 0:oe.x,te=(me=B.arrow)==null?void 0:me.y,ce=((se=B.arrow)==null?void 0:se.centerOffset)!==0,[ye,je]=T.useState();return Kn(()=>{_&&je(window.getComputedStyle(_).zIndex)},[_]),p.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:J?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(fe=B.transformOrigin)==null?void 0:fe.x,(ve=B.transformOrigin)==null?void 0:ve.y].join(" "),...((re=B.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(Vue,{scope:n,placedSide:K,onArrowChange:P,arrowX:H,arrowY:te,shouldHideArrow:ce,children:p.jsx(st.div,{"data-side":K,"data-align":D,...b,ref:C,style:{...b.style,animation:J?void 0:"none"}})})})});$V.displayName=VA;var LV="PopperArrow",zue={top:"bottom",right:"left",bottom:"top",left:"right"},FV=T.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Wue(LV,r),o=zue[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(Uue,{...i,ref:n,style:{...i.style,display:"block"}})})});FV.displayName=LV;function Hue(t){return t!==null}var Gue=t=>({name:"transformOrigin",options:t,fn(e){var y,_,S;const{placement:n,rects:r,middlewareData:i}=e,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,f]=BV(n),h={start:"0%",center:"50%",end:"100%"}[f],m=(((_=i.arrow)==null?void 0:_.x)??0)+a/2,v=(((S=i.arrow)==null?void 0:S.y)??0)+l/2;let x="",b="";return u==="bottom"?(x=o?h:`${m}px`,b=`${-l}px`):u==="top"?(x=o?h:`${m}px`,b=`${r.floating.height+l}px`):u==="right"?(x=`${-l}px`,b=o?h:`${v}px`):u==="left"&&(x=`${r.floating.width+l}px`,b=o?h:`${v}px`),{data:{x,y:b}}}});function BV(t){const[e,n="center"]=t.split("-");return[e,n]}var Kue=IV,Yue=DV,Xue=$V,Que=FV;function Jue(t){const e=Zue(t),n=T.forwardRef((r,i)=>{const{children:s,...o}=r,a=T.Children.toArray(s),l=a.find(tde);if(l){const u=l.props.children,f=a.map(h=>h===l?T.Children.count(u)>1?T.Children.only(null):T.isValidElement(u)?u.props.children:null:h);return p.jsx(e,{...o,ref:i,children:T.isValidElement(u)?T.cloneElement(u,void 0,f):null})}return p.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function Zue(t){const e=T.forwardRef((n,r)=>{const{children:i,...s}=n;if(T.isValidElement(i)){const o=rde(i),a=nde(s,i.props);return i.type!==T.Fragment&&(a.ref=r?nd(r,o):o),T.cloneElement(i,a)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ede=Symbol("radix.slottable");function tde(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ede}function nde(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function rde(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function UV(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var qV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ide="VisuallyHidden",sde=T.forwardRef((t,e)=>p.jsx(st.span,{...t,ref:e,style:{...qV,...t.style}}));sde.displayName=ide;var ode=[" ","Enter","ArrowUp","ArrowDown"],ade=[" ","Enter"],Ol="Select",[Ny,Ry,lde]=vV(Ol),[ad]=Ul(Ol,[lde,NV]),Iy=NV(),[cde,da]=ad(Ol),[ude,dde]=ad(Ol),VV=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:u,name:f,autoComplete:h,disabled:m,required:v,form:x}=t,b=Iy(e),[y,_]=T.useState(null),[S,C]=T.useState(null),[E,P]=T.useState(!1),k=MA(u),[j,N]=wu({prop:r,defaultProp:i??!1,onChange:s,caller:Ol}),[I,L]=wu({prop:o,defaultProp:a,onChange:l,caller:Ol}),M=T.useRef(null),F=y?x||!!y.closest("form"):!0,[U,Y]=T.useState(new Set),X=Array.from(U).map(z=>z.props.value).join(";");return p.jsx(Kue,{...b,children:p.jsxs(cde,{required:v,scope:e,trigger:y,onTriggerChange:_,valueNode:S,onValueNodeChange:C,valueNodeHasChildren:E,onValueNodeHasChildrenChange:P,contentId:Yo(),value:I,onValueChange:L,open:j,onOpenChange:N,dir:k,triggerPointerDownPosRef:M,disabled:m,children:[p.jsx(Ny.Provider,{scope:e,children:p.jsx(ude,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(z=>{Y(J=>new Set(J).add(z))},[]),onNativeOptionRemove:T.useCallback(z=>{Y(J=>{const B=new Set(J);return B.delete(z),B})},[]),children:n})}),F?p.jsxs(hW,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:h,value:I,onChange:z=>L(z.target.value),disabled:m,form:x,children:[I===void 0?p.jsx("option",{value:""}):null,Array.from(U)]},X):null]})})};VV.displayName=Ol;var WV="SelectTrigger",zV=T.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Iy(n),o=da(WV,n),a=o.disabled||r,l=Wt(e,o.onTriggerChange),u=Ry(n),f=T.useRef("touch"),[h,m,v]=mW(b=>{const y=u().filter(C=>!C.disabled),_=y.find(C=>C.value===o.value),S=gW(y,b,_);S!==void 0&&o.onValueChange(S.value)}),x=b=>{a||(o.onOpenChange(!0),v()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return p.jsx(Yue,{asChild:!0,...s,children:p.jsx(st.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":pW(o.value)?"":void 0,...i,ref:l,onClick:rt(i.onClick,b=>{b.currentTarget.focus(),f.current!=="mouse"&&x(b)}),onPointerDown:rt(i.onPointerDown,b=>{f.current=b.pointerType;const y=b.target;y.hasPointerCapture(b.pointerId)&&y.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(x(b),b.preventDefault())}),onKeyDown:rt(i.onKeyDown,b=>{const y=h.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&m(b.key),!(y&&b.key===" ")&&ode.includes(b.key)&&(x(),b.preventDefault())})})})});zV.displayName=WV;var HV="SelectValue",GV=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=da(HV,n),{onValueNodeHasChildrenChange:u}=l,f=s!==void 0,h=Wt(e,l.onValueNodeChange);return Kn(()=>{u(f)},[u,f]),p.jsx(st.span,{...a,ref:h,style:{pointerEvents:"none"},children:pW(l.value)?p.jsx(p.Fragment,{children:o}):s})});GV.displayName=HV;var fde="SelectIcon",KV=T.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return p.jsx(st.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});KV.displayName=fde;var hde="SelectPortal",YV=t=>p.jsx(jA,{asChild:!0,...t});YV.displayName=hde;var Nl="SelectContent",XV=T.forwardRef((t,e)=>{const n=da(Nl,t.__scopeSelect),[r,i]=T.useState();if(Kn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Jh.createPortal(p.jsx(QV,{scope:t.__scopeSelect,children:p.jsx(Ny.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),s):null}return p.jsx(JV,{...t,ref:e})});XV.displayName=Nl;var bi=10,[QV,fa]=ad(Nl),pde="SelectContentImpl",mde=Jue("SelectContent.RemoveScroll"),JV=T.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:v,sticky:x,hideWhenDetached:b,avoidCollisions:y,..._}=t,S=da(Nl,n),[C,E]=T.useState(null),[P,k]=T.useState(null),j=Wt(e,oe=>E(oe)),[N,I]=T.useState(null),[L,M]=T.useState(null),F=Ry(n),[U,Y]=T.useState(!1),X=T.useRef(!1);T.useEffect(()=>{if(C)return Gq(C)},[C]),Fq();const z=T.useCallback(oe=>{const[me,...se]=F().map(re=>re.ref.current),[fe]=se.slice(-1),ve=document.activeElement;for(const re of oe)if(re===ve||(re==null||re.scrollIntoView({block:"nearest"}),re===me&&P&&(P.scrollTop=0),re===fe&&P&&(P.scrollTop=P.scrollHeight),re==null||re.focus(),document.activeElement!==ve))return},[F,P]),J=T.useCallback(()=>z([N,C]),[z,N,C]);T.useEffect(()=>{U&&J()},[U,J]);const{onOpenChange:B,triggerPointerDownPosRef:K}=S;T.useEffect(()=>{if(C){let oe={x:0,y:0};const me=fe=>{var ve,re;oe={x:Math.abs(Math.round(fe.pageX)-(((ve=K.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((re=K.current)==null?void 0:re.y)??0))}},se=fe=>{oe.x<=10&&oe.y<=10?fe.preventDefault():C.contains(fe.target)||B(!1),document.removeEventListener("pointermove",me),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",se,{capture:!0})}}},[C,B,K]),T.useEffect(()=>{const oe=()=>B(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[B]);const[D,$]=mW(oe=>{const me=F().filter(ve=>!ve.disabled),se=me.find(ve=>ve.ref.current===document.activeElement),fe=gW(me,oe,se);fe&&setTimeout(()=>fe.ref.current.focus())}),H=T.useCallback((oe,me,se)=>{const fe=!X.current&&!se;(S.value!==void 0&&S.value===me||fe)&&(I(oe),fe&&(X.current=!0))},[S.value]),te=T.useCallback(()=>C==null?void 0:C.focus(),[C]),ce=T.useCallback((oe,me,se)=>{const fe=!X.current&&!se;(S.value!==void 0&&S.value===me||fe)&&M(oe)},[S.value]),ye=r==="popper"?jT:ZV,je=ye===jT?{side:a,sideOffset:l,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:v,sticky:x,hideWhenDetached:b,avoidCollisions:y}:{};return p.jsx(QV,{scope:n,content:C,viewport:P,onViewportChange:k,itemRefCallback:H,selectedItem:N,onItemLeave:te,itemTextRefCallback:ce,focusSelectedItem:J,selectedItemText:L,position:r,isPositioned:U,searchRef:D,children:p.jsx(OA,{as:mde,allowPinchZoom:!0,children:p.jsx(kA,{asChild:!0,trapped:S.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:rt(i,oe=>{var me;(me=S.trigger)==null||me.focus({preventScroll:!0}),oe.preventDefault()}),children:p.jsx(AA,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:p.jsx(ye,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:oe=>oe.preventDefault(),..._,...je,onPlaced:()=>Y(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:rt(_.onKeyDown,oe=>{const me=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!me&&oe.key.length===1&&$(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let fe=F().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const ve=oe.target,re=fe.indexOf(ve);fe=fe.slice(re+1)}setTimeout(()=>z(fe)),oe.preventDefault()}})})})})})})});JV.displayName=pde;var gde="SelectItemAlignedPosition",ZV=T.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=da(Nl,n),o=fa(Nl,n),[a,l]=T.useState(null),[u,f]=T.useState(null),h=Wt(e,j=>f(j)),m=Ry(n),v=T.useRef(!1),x=T.useRef(!0),{viewport:b,selectedItem:y,selectedItemText:_,focusSelectedItem:S}=o,C=T.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&u&&b&&y&&_){const j=s.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),I=s.valueNode.getBoundingClientRect(),L=_.getBoundingClientRect();if(s.dir!=="rtl"){const ve=L.left-N.left,re=I.left-ve,Ge=j.left-re,Fe=j.width+Ge,dt=Math.max(Fe,N.width),ft=window.innerWidth-bi,Et=WI(re,[bi,Math.max(bi,ft-dt)]);a.style.minWidth=Fe+"px",a.style.left=Et+"px"}else{const ve=N.right-L.right,re=window.innerWidth-I.right-ve,Ge=window.innerWidth-j.right-re,Fe=j.width+Ge,dt=Math.max(Fe,N.width),ft=window.innerWidth-bi,Et=WI(re,[bi,Math.max(bi,ft-dt)]);a.style.minWidth=Fe+"px",a.style.right=Et+"px"}const M=m(),F=window.innerHeight-bi*2,U=b.scrollHeight,Y=window.getComputedStyle(u),X=parseInt(Y.borderTopWidth,10),z=parseInt(Y.paddingTop,10),J=parseInt(Y.borderBottomWidth,10),B=parseInt(Y.paddingBottom,10),K=X+z+U+B+J,D=Math.min(y.offsetHeight*5,K),$=window.getComputedStyle(b),H=parseInt($.paddingTop,10),te=parseInt($.paddingBottom,10),ce=j.top+j.height/2-bi,ye=F-ce,je=y.offsetHeight/2,oe=y.offsetTop+je,me=X+z+oe,se=K-me;if(me<=ce){const ve=M.length>0&&y===M[M.length-1].ref.current;a.style.bottom="0px";const re=u.clientHeight-b.offsetTop-b.offsetHeight,Ge=Math.max(ye,je+(ve?te:0)+re+J),Fe=me+Ge;a.style.height=Fe+"px"}else{const ve=M.length>0&&y===M[0].ref.current;a.style.top="0px";const Ge=Math.max(ce,X+b.offsetTop+(ve?H:0)+je)+se;a.style.height=Ge+"px",b.scrollTop=me-ce+b.offsetTop}a.style.margin=`${bi}px 0`,a.style.minHeight=D+"px",a.style.maxHeight=F+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[m,s.trigger,s.valueNode,a,u,b,y,_,s.dir,r]);Kn(()=>C(),[C]);const[E,P]=T.useState();Kn(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const k=T.useCallback(j=>{j&&x.current===!0&&(C(),S==null||S(),x.current=!1)},[C,S]);return p.jsx(yde,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:k,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:p.jsx(st.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});ZV.displayName=gde;var vde="SelectPopperPosition",jT=T.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=bi,...s}=t,o=Iy(n);return p.jsx(Xue,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jT.displayName=vde;var[yde,WA]=ad(Nl,{}),OT="SelectViewport",eW=T.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=fa(OT,n),o=WA(OT,n),a=Wt(e,s.onViewportChange),l=T.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(Ny.Slot,{scope:n,children:p.jsx(st.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:rt(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const v=Math.abs(l.current-f.scrollTop);if(v>0){const x=window.innerHeight-bi*2,b=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),_=Math.max(b,y);if(_<x){const S=_+v,C=Math.min(x,S),E=S-C;h.style.height=C+"px",h.style.bottom==="0px"&&(f.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});eW.displayName=OT;var tW="SelectGroup",[bde,xde]=ad(tW),wde=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Yo();return p.jsx(bde,{scope:n,id:i,children:p.jsx(st.div,{role:"group","aria-labelledby":i,...r,ref:e})})});wde.displayName=tW;var nW="SelectLabel",rW=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=xde(nW,n);return p.jsx(st.div,{id:i.id,...r,ref:e})});rW.displayName=nW;var sv="SelectItem",[_de,iW]=ad(sv),sW=T.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=da(sv,n),l=fa(sv,n),u=a.value===r,[f,h]=T.useState(s??""),[m,v]=T.useState(!1),x=Wt(e,S=>{var C;return(C=l.itemRefCallback)==null?void 0:C.call(l,S,r,i)}),b=Yo(),y=T.useRef("touch"),_=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(_de,{scope:n,value:r,disabled:i,textId:b,isSelected:u,onItemTextChange:T.useCallback(S=>{h(C=>C||((S==null?void 0:S.textContent)??"").trim())},[]),children:p.jsx(Ny.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:p.jsx(st.div,{role:"option","aria-labelledby":b,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:rt(o.onFocus,()=>v(!0)),onBlur:rt(o.onBlur,()=>v(!1)),onClick:rt(o.onClick,()=>{y.current!=="mouse"&&_()}),onPointerUp:rt(o.onPointerUp,()=>{y.current==="mouse"&&_()}),onPointerDown:rt(o.onPointerDown,S=>{y.current=S.pointerType}),onPointerMove:rt(o.onPointerMove,S=>{var C;y.current=S.pointerType,i?(C=l.onItemLeave)==null||C.call(l):y.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:rt(o.onPointerLeave,S=>{var C;S.currentTarget===document.activeElement&&((C=l.onItemLeave)==null||C.call(l))}),onKeyDown:rt(o.onKeyDown,S=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&S.key===" "||(ade.includes(S.key)&&_(),S.key===" "&&S.preventDefault())})})})})});sW.displayName=sv;var Cf="SelectItemText",oW=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=da(Cf,n),a=fa(Cf,n),l=iW(Cf,n),u=dde(Cf,n),[f,h]=T.useState(null),m=Wt(e,_=>h(_),l.onItemTextChange,_=>{var S;return(S=a.itemTextRefCallback)==null?void 0:S.call(a,_,l.value,l.disabled)}),v=f==null?void 0:f.textContent,x=T.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:b,onNativeOptionRemove:y}=u;return Kn(()=>(b(x),()=>y(x)),[b,y,x]),p.jsxs(p.Fragment,{children:[p.jsx(st.span,{id:l.textId,...s,ref:m}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Jh.createPortal(s.children,o.valueNode):null]})});oW.displayName=Cf;var aW="SelectItemIndicator",lW=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return iW(aW,n).isSelected?p.jsx(st.span,{"aria-hidden":!0,...r,ref:e}):null});lW.displayName=aW;var NT="SelectScrollUpButton",cW=T.forwardRef((t,e)=>{const n=fa(NT,t.__scopeSelect),r=WA(NT,t.__scopeSelect),[i,s]=T.useState(!1),o=Wt(e,r.onScrollButtonChange);return Kn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?p.jsx(dW,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});cW.displayName=NT;var RT="SelectScrollDownButton",uW=T.forwardRef((t,e)=>{const n=fa(RT,t.__scopeSelect),r=WA(RT,t.__scopeSelect),[i,s]=T.useState(!1),o=Wt(e,r.onScrollButtonChange);return Kn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<u;s(f)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?p.jsx(dW,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});uW.displayName=RT;var dW=T.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=fa("SelectScrollButton",n),o=T.useRef(null),a=Ry(n),l=T.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return T.useEffect(()=>()=>l(),[l]),Kn(()=>{var f;const u=a().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),p.jsx(st.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:rt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:rt(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:rt(i.onPointerLeave,()=>{l()})})}),Sde="SelectSeparator",fW=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return p.jsx(st.div,{"aria-hidden":!0,...r,ref:e})});fW.displayName=Sde;var IT="SelectArrow",Cde=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Iy(n),s=da(IT,n),o=fa(IT,n);return s.open&&o.position==="popper"?p.jsx(Que,{...i,...r,ref:e}):null});Cde.displayName=IT;var Tde="SelectBubbleInput",hW=T.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=T.useRef(null),s=Wt(r,i),o=UV(e);return T.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&f){const h=new Event("change",{bubbles:!0});f.call(a,e),a.dispatchEvent(h)}},[o,e]),p.jsx(st.select,{...n,style:{...qV,...n.style},ref:s,defaultValue:e})});hW.displayName=Tde;function pW(t){return t===""||t===void 0}function mW(t){const e=Zo(t),n=T.useRef(""),r=T.useRef(0),i=T.useCallback(o=>{const a=n.current+o;e(a),(function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))})(a)},[e]),s=T.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function gW(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Pde(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Pde(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Ede=VV,vW=zV,Ade=GV,kde=KV,jde=YV,yW=XV,Ode=eW,bW=rW,xW=sW,Nde=oW,Rde=lW,wW=cW,_W=uW,SW=fW;const MT=Ede,DT=Ade,ov=T.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(vW,{ref:r,className:He("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,p.jsx(kde,{asChild:!0,children:p.jsx($6,{className:"h-4 w-4 opacity-50"})})]}));ov.displayName=vW.displayName;const CW=T.forwardRef(({className:t,...e},n)=>p.jsx(wW,{ref:n,className:He("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(Hte,{className:"h-4 w-4"})}));CW.displayName=wW.displayName;const TW=T.forwardRef(({className:t,...e},n)=>p.jsx(_W,{ref:n,className:He("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx($6,{className:"h-4 w-4"})}));TW.displayName=_W.displayName;const av=T.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>p.jsx(jde,{children:p.jsxs(yW,{ref:i,className:He("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[p.jsx(CW,{}),p.jsx(Ode,{className:He("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(TW,{})]})}));av.displayName=yW.displayName;const Ide=T.forwardRef(({className:t,...e},n)=>p.jsx(bW,{ref:n,className:He("px-2 py-1.5 text-sm font-semibold",t),...e}));Ide.displayName=bW.displayName;const el=T.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(xW,{ref:r,className:He("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(Rde,{children:p.jsx(Bte,{className:"h-4 w-4"})})}),p.jsx(Nde,{children:e})]}));el.displayName=xW.displayName;const Mde=T.forwardRef(({className:t,...e},n)=>p.jsx(SW,{ref:n,className:He("-mx-1 my-1 h-px bg-muted",t),...e}));Mde.displayName=SW.displayName;function Dde(){const[t,e]=T.useState([]),[n,r]=T.useState([]),[i,s]=T.useState("default"),[o,a]=T.useState("default"),[l,u]=T.useState(!1);T.useEffect(()=>{l&&f()},[l]);const f=async()=>{try{const v=await ut.getAudioDevices();e(v.audioInputs),r(v.audioOutputs)}catch(v){console.error("Failed to load audio devices:",v)}},h=async v=>{try{await ut.setInputDevice(v),s(v)}catch(x){console.error("Failed to set input device:",x)}},m=async v=>{try{await ut.setOutputDevice(v),a(v)}catch(x){console.error("Failed to set output device:",x)}};return p.jsxs(kl,{open:l,onOpenChange:u,children:[p.jsx(yce,{asChild:!0,children:p.jsx(Le,{variant:"outline",size:"icon",className:"rounded-full",children:p.jsx(dA,{className:"w-4 h-4"})})}),p.jsxs(ea,{className:"sm:max-w-[425px]",children:[p.jsxs(ta,{children:[p.jsx(na,{children:"Audio Device Settings"}),p.jsx(tp,{children:"Select your preferred microphone and speaker for calls"})]}),p.jsxs("div",{className:"space-y-6 py-4",children:[p.jsxs("div",{className:"space-y-3",children:[p.jsxs(gt,{htmlFor:"input-device",className:"flex items-center gap-2",children:[p.jsx(yy,{className:"w-4 h-4"}),"Microphone"]}),p.jsxs(MT,{value:i,onValueChange:h,children:[p.jsx(ov,{id:"input-device",children:p.jsx(DT,{placeholder:"Select microphone"})}),p.jsxs(av,{children:[t.length===0&&p.jsx(el,{value:"default",children:"Default Microphone"}),t.map(v=>p.jsx(el,{value:v.deviceId,children:v.label},v.deviceId))]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs(gt,{htmlFor:"output-device",className:"flex items-center gap-2",children:[p.jsx(z6,{className:"w-4 h-4"}),"Speaker"]}),p.jsxs(MT,{value:o,onValueChange:m,children:[p.jsx(ov,{id:"output-device",children:p.jsx(DT,{placeholder:"Select speaker"})}),p.jsxs(av,{children:[n.length===0&&p.jsx(el,{value:"default",children:"Default Speaker"}),n.map(v=>p.jsx(el,{value:v.deviceId,children:v.label},v.deviceId))]})]})]}),p.jsx("div",{className:"pt-4 border-t",children:p.jsx("p",{className:"text-sm text-slate-500",children:"Make sure to allow microphone access when prompted by your browser"})})]})]})]})}const Zx=[{value:"appointment_set",label:"Appointment Set",icon:Gh,points:100,color:"bg-emerald-500"},{value:"callback",label:"Callback Scheduled",icon:Tt,points:25,color:"bg-blue-500"},{value:"not_interested",label:"Not Interested",icon:I6,points:10,color:"bg-orange-500"},{value:"no_answer",label:"No Answer",icon:B6,points:5,color:"bg-slate-500"},{value:"voicemail",label:"Left Voicemail",icon:W6,points:8,color:"bg-purple-500"},{value:"wrong_number",label:"Wrong Number",icon:bu,points:2,color:"bg-red-500"}];function $de({lead:t,onClose:e,onComplete:n,onNext:r,onPrev:i,hasNext:s,hasPrev:o,userStats:a,sessionId:l=null,sessionManager:u=null}){var us;const{theme:f,currentTheme:h}=_A(),m="demo@example.com",{currentCall:v,isConnected:x,clearCall:b,updateCallStatus:y}=Iae(m,t==null?void 0:t.id),[_,S]=T.useState(null),[C,E]=T.useState(""),[P,k]=T.useState(""),[j,N]=T.useState(!1),[I,L]=T.useState(!1),[M,F]=T.useState(!1),[U,Y]=T.useState(""),[X,z]=T.useState(""),[J,B]=T.useState(!1),[K,D]=T.useState(!1),[$,H]=T.useState(!1),[te,ce]=T.useState(null),[ye,je]=T.useState(0),oe=T.useRef(null),me=(v==null?void 0:v.status)||"idle",se=(v==null?void 0:v.isActive)||!1,fe=me==="in-progress"||me==="connected";T.useEffect(()=>((async()=>{const{data:en}=await Se.from("dialer_settings").select("*").eq("user_email",m).maybeSingle();ce(en||{use_mock_dialer:!1})})(),(async()=>{const en=await ut.initialize(m);B(!0),D(en),en&&(ut.onCallAnswered(()=>{console.log("Twilio call answered in browser")}),ut.onCallEnded(()=>{console.log("Twilio call ended")}),ut.onCallError(Xn=>{console.error("Twilio call error:",Xn),z(`Call error: ${Xn.message||"Unknown error"}`)}))})(),()=>{oe.current&&clearInterval(oe.current)}),[]),T.useEffect(()=>(fe?oe.current||(oe.current=setInterval(()=>{je(et=>et+1)},1e3)):(oe.current&&(clearInterval(oe.current),oe.current=null),(me==="idle"||!v)&&je(0)),()=>{oe.current&&(clearInterval(oe.current),oe.current=null)}),[fe,me,v]),T.useEffect(()=>{v!=null&&v.last_error&&z(v.last_error)},[v]);const ve=async()=>{if(se){console.log("Call already in progress");return}z(""),je(0);try{if((te==null?void 0:te.use_mock_dialer)||!1){console.log("Using mock dialer mode");const At=await yn("mockDialerCall",{to:t.phone,leadId:t.id,leadName:t.name,userEmail:m,lineNumber:1,sessionId:l,mockConfig:(te==null?void 0:te.mock_config)||{}});if(!At.success)throw new Error(At.error||"Failed to initiate mock call")}else{if(console.log("Using real Twilio dialer"),!J||!K){if(!await ut.initialize(m)){const en=ut.getLastError(),Xn=ut.getMissingConfig();if(Xn){const Lr=Object.entries(Xn).filter(([so,va])=>va).map(([so])=>so).join(", ");z(`Twilio Setup Required: Missing configuration - ${Lr}. Enable Demo Mode in Settings to test without Twilio.`),console.error("Missing Twilio configuration:",Xn)}else z(en||"Twilio not configured. Enable Demo Mode in Settings to test without Twilio.");return}B(!0),D(!0)}ut.onCallAnswered(()=>{console.log("Twilio call connected in DialerModal")}),ut.onCallError(At=>{console.error("Twilio call error:",At),z(`Call error: ${At.message||"Unknown error"}`)}),await ut.makeCall(t.phone,{userEmail:m,leadId:t.id,leadName:t.name,sessionId:l})}}catch(et){console.error("Error starting call:",et),z(et.message||"Failed to initiate call")}},re=async()=>{try{!(v!=null&&v.is_mock)&&ut.hasActiveCall()&&ut.disconnectCall(),await y("ended",{ended_at:new Date().toISOString()})}catch(et){console.error("Error ending call:",et),await y("ended",{ended_at:new Date().toISOString()})}oe.current&&(clearInterval(oe.current),oe.current=null)},Ge=async()=>{try{!(v!=null&&v.is_mock)&&ut.hasActiveCall()&&ut.disconnectCall(),await b(),z("")}catch(et){console.error("Error cancelling call:",et),await b()}},Fe=async()=>{se&&await Ge(),e()},dt=()=>{$?(ut.unmuteCall(),H(!1)):(ut.muteCall(),H(!0))},ft=et=>{const At=Math.floor(et/60),en=et%60;return`${At.toString().padStart(2,"0")}:${en.toString().padStart(2,"0")}`},Et=async et=>{N(!0),L(!0);try{await new Promise(Xn=>setTimeout(Xn,1500));const en={appointment_set:`Successfully scheduled an appointment with ${t.name}. Prospect showed strong interest in our solution and agreed to a follow-up meeting. Next steps: Send calendar invite and preparation materials.`,callback:`${t.name} requested a callback at a later time. They seem interested but need more time to consider. Follow up within 24-48 hours to maintain momentum.`,not_interested:`Spoke with ${t.name} who indicated they're not currently interested in our services. They mentioned budget constraints and timing issues. Consider following up in 3-6 months.`,no_answer:`No answer on this call attempt. Phone rang but ${t.name} did not pick up. Recommend trying again at a different time of day, potentially early morning or late afternoon.`,voicemail:`Left a professional voicemail for ${t.name} introducing our services. Mentioned key value propositions and requested a callback. Track for response within 48 hours.`,wrong_number:`Incorrect contact information on file for ${t.name}. The number reached does not belong to the prospect. Data needs to be updated with correct contact details.`}[_]||`Call completed with ${t.name}. Duration: ${Math.floor(ye/60)}m ${ye%60}s.`;k(en)}finally{N(!1),F(!1)}},Yn=async()=>{if(!_){Y("Please select a call outcome first");return}F(!0),Y("");try{const et=Zx.find(Lr=>Lr.value===_),{data:At,error:en}=await Se.from("call_logs").insert({lead_id:t.id,lead_name:t.name,duration:ye,outcome:_,points_earned:et.points,notes:C,user_email:m,session_id:l,has_recording:(te==null?void 0:te.enable_call_recording)||!1}).select().single();if(en)throw en;const{error:Xn}=await Se.from("leads").update({status:_==="appointment_set"?"appointment_set":_==="not_interested"?"not_interested":_==="no_answer"?"no_answer":"contacted",last_called:new Date().toISOString(),last_called_at:new Date().toISOString(),last_called_by:m,call_count:(t.call_count||0)+1,notes:C?`${t.notes||""}
[${new Date().toLocaleDateString()}]: ${C}`:t.notes}).eq("id",t.id);if(Xn)throw Xn;if(a){const Lr=_==="appointment_set"?(a.current_streak||0)+1:0,{error:so}=await Se.from("user_stats").update({total_points:(a.total_points||0)+et.points,calls_today:(a.calls_today||0)+1,appointments_today:_==="appointment_set"?(a.appointments_today||0)+1:a.appointments_today,current_streak:Lr,best_streak:Math.max(Lr,a.best_streak||0),mascot_mood:Lr>=3?"excited":(a.calls_today||0)+1>=10?"happy":"neutral"}).eq("id",a.id);if(so)throw so}await b(),At!=null&&At.id&&await Et(At.id)}catch(et){console.error("Error submitting call:",et),Y(et.message||"Failed to save call. Please try again."),F(!1)}},On=me==="idle"||!v,Sr=me==="dialing"||me==="initiating"||me==="queued"||me==="ringing",Nn=fe,Cr=me==="ended"||(v==null?void 0:v.isTerminal)&&me!=="idle";return p.jsx(pe.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:p.jsxs(pe.div,{className:"rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden bg-white relative",initial:{scale:.9,y:20},animate:{scale:1,y:0},children:[p.jsxs("div",{className:"p-6 text-white relative bg-gradient-to-r from-blue-600 to-cyan-600",children:[p.jsxs("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 flex gap-2 z-30",children:[o&&p.jsx("button",{onClick:i,disabled:se,className:"p-2 hover:bg-white/20 rounded-full transition-all disabled:opacity-30 disabled:cursor-not-allowed",children:p.jsx(Vte,{className:"w-5 h-5"})}),s&&p.jsx("button",{onClick:r,disabled:se,className:"p-2 hover:bg-white/20 rounded-full transition-all disabled:opacity-30 disabled:cursor-not-allowed",children:p.jsx(Y2,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-30",children:[x?p.jsx(ure,{className:"w-4 h-4 text-white/60",title:"Real-time connected"}):p.jsx(lre,{className:"w-4 h-4 text-white/40",title:"Real-time disconnected"}),K&&p.jsx(Dde,{}),p.jsx("button",{onClick:Fe,className:"p-2 hover:bg-white/20 rounded-full transition-all",children:p.jsx(bu,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-2xl font-bold",children:t==null?void 0:t.name}),p.jsx("p",{className:"text-white/80 mt-1",children:t==null?void 0:t.company}),p.jsx("p",{className:"text-xl font-mono mt-3",children:t==null?void 0:t.phone}),(v==null?void 0:v.is_mock)&&p.jsx("div",{className:"mt-2 inline-block px-3 py-1 bg-white/20 rounded-full text-xs",children:"Demo Mode"})]}),Nn&&p.jsx(pe.div,{className:"text-center mt-4",initial:{scale:0},animate:{scale:1},children:p.jsx("span",{className:"text-4xl font-mono font-bold",children:ft(ye)})}),Sr&&p.jsx(pe.div,{className:"text-center mt-4",initial:{opacity:0},animate:{opacity:1},children:p.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 rounded-full",children:[p.jsx(Nf,{className:"w-4 h-4 animate-spin"}),p.jsx("span",{className:"text-sm font-medium",children:((us=v==null?void 0:v.statusInfo)==null?void 0:us.label)||"Calling..."})]})})]}),p.jsxs("div",{className:"p-6",children:[On&&p.jsxs(pe.div,{className:"text-center space-y-4",children:[X&&p.jsx(pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm",children:X}),p.jsxs(Le,{onClick:ve,className:"w-full h-16 text-xl font-semibold rounded-2xl shadow-lg bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 shadow-green-500/30",children:[p.jsx(Tt,{className:"w-6 h-6 mr-3"}),"Start Call"]})]}),Sr&&p.jsxs(pe.div,{className:"text-center py-6 space-y-4",initial:{opacity:0},animate:{opacity:1},children:[p.jsxs("p",{className:"text-slate-600 font-medium",children:["Connecting to ",t.name,"..."]}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Please wait while we establish the connection"}),p.jsxs(Le,{onClick:Ge,variant:"outline",className:"border-red-500 text-red-500 hover:bg-red-50",children:[p.jsx(yu,{className:"w-4 h-4 mr-2"}),"Cancel Call"]})]}),Nn&&p.jsxs(pe.div,{className:"flex justify-center gap-4",initial:{opacity:0},animate:{opacity:1},children:[p.jsx(Le,{onClick:dt,variant:"outline",className:"h-14 px-6 rounded-2xl",children:$?p.jsx(F6,{className:"w-5 h-5"}):p.jsx(yy,{className:"w-5 h-5"})}),p.jsxs(Le,{onClick:re,className:"h-14 px-8 bg-gradient-to-r rounded-2xl shadow-lg from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 shadow-red-500/30",children:[p.jsx(yu,{className:"w-5 h-5 mr-2"}),"End Call"]})]}),Cr&&p.jsxs(pe.div,{className:"space-y-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[p.jsx("h3",{className:"font-semibold text-slate-700 mb-3",children:"Call Outcome"}),p.jsx("div",{className:"grid grid-cols-2 gap-3",children:Zx.map(et=>{const At=et.icon,en=_===et.value;return p.jsx(pe.button,{onClick:()=>S(et.value),className:`
                        p-4 rounded-2xl border-2 transition-all text-left
                        ${en?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300"}
                      `,whileHover:{scale:1.02},whileTap:{scale:.98},children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`p-2 rounded-xl ${et.color}`,children:p.jsx(At,{className:"w-4 h-4 text-white"})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-slate-700 text-sm",children:et.label}),p.jsxs("p",{className:"text-xs text-emerald-600 font-semibold",children:["+",et.points," pts"]})]})]})},et.value)})}),p.jsx(wA,{placeholder:"Add notes about the call...",value:C,onChange:et=>E(et.target.value),className:"rounded-2xl border-slate-200 resize-none h-24"}),U&&p.jsx(pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm",children:U}),p.jsx(Le,{onClick:Yn,disabled:!_||M||j,className:"w-full h-14 bg-gradient-to-r rounded-2xl text-lg font-semibold shadow-lg disabled:opacity-50 from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 shadow-blue-500/30",children:M?p.jsxs(p.Fragment,{children:[p.jsx(Nf,{className:"w-5 h-5 mr-2 animate-spin"}),"Saving..."]}):p.jsxs(p.Fragment,{children:["Complete & Earn Points",p.jsx(Y2,{className:"w-5 h-5 ml-2"})]})}),p.jsx(oa,{children:I&&p.jsxs(pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-2xl",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx(fA,{className:"w-4 h-4 text-blue-600"}),p.jsx("h4",{className:"text-sm font-semibold text-blue-900",children:"AI Call Summary"})]}),j?p.jsxs("div",{className:"flex items-center gap-2 text-blue-600 text-sm",children:[p.jsx(Nf,{className:"w-4 h-4 animate-spin"}),p.jsx("span",{children:"Analyzing call..."})]}):p.jsxs(p.Fragment,{children:[p.jsx("p",{className:"text-slate-700 text-sm leading-relaxed mb-3",children:P}),p.jsx(Le,{onClick:async()=>{var At;const et=((At=Zx.find(en=>en.value===_))==null?void 0:At.points)||0;n(et,l),await Fe()},className:"w-full bg-blue-600 hover:bg-blue-700",children:"Done"})]})]})})]})]})]})})}function Lde({points:t,isVisible:e,onComplete:n}){return p.jsx(oa,{children:e&&p.jsxs(pe.div,{className:"fixed inset-0 flex items-center justify-center z-[60] pointer-events-none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onAnimationComplete:()=>{setTimeout(n,1500)},children:[p.jsx(pe.div,{className:"bg-gradient-to-br from-amber-400 via-yellow-400 to-orange-500 rounded-3xl p-8 shadow-2xl shadow-yellow-500/50",initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},exit:{scale:0,y:-100},transition:{type:"spring",damping:15},children:p.jsxs("div",{className:"flex flex-col items-center text-white",children:[p.jsx(pe.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5,repeat:2},children:p.jsx(fA,{className:"w-12 h-12 mb-2"})}),p.jsxs(pe.span,{className:"text-6xl font-bold",initial:{y:20},animate:{y:0},children:["+",t]}),p.jsx("span",{className:"text-xl font-semibold mt-1",children:"POINTS!"})]})}),[...Array(12)].map((r,i)=>p.jsx(pe.div,{className:"absolute w-4 h-4 rounded-full",style:{background:["#fbbf24","#f97316","#a855f7","#3b82f6","#10b981"][i%5]},initial:{x:0,y:0,scale:1},animate:{x:(Math.random()-.5)*400,y:(Math.random()-.5)*400,scale:0,opacity:0},transition:{duration:1,delay:i*.05,ease:"easeOut"}},i))]})})}function Fde(){var a;const[t,e]=T.useState(0),{data:n,isLoading:r,error:i,refetch:s}=Ct({queryKey:["performanceTips",t],queryFn:async()=>await yn("generatePerformanceTips",{}),staleTime:300*1e3,retry:2}),o=()=>{e(l=>l+1),s()};return p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-indigo-500/30",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(fA,{className:"w-5 h-5 text-indigo-400"}),p.jsx("h3",{className:"text-lg font-bold text-white",children:"AI Performance Coach"})]}),p.jsx(Le,{variant:"ghost",size:"icon",onClick:o,disabled:r,className:"text-indigo-400 hover:text-indigo-300 hover:bg-indigo-500/10",children:r?p.jsx(Nf,{className:"w-4 h-4 animate-spin"}):p.jsx(vg,{className:"w-4 h-4"})})]}),p.jsx(oa,{mode:"wait",children:r?p.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-8 text-center",children:[p.jsx(Nf,{className:"w-8 h-8 text-indigo-400 animate-spin mx-auto mb-2"}),p.jsx("p",{className:"text-purple-300 text-sm",children:"Analyzing your performance..."})]},"loading"):i?p.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-8 text-center",children:p.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl",children:[p.jsx("p",{className:"text-red-400 text-sm mb-3",children:"Failed to load performance tips"}),p.jsx(Le,{onClick:o,size:"sm",className:"bg-red-500 hover:bg-red-600",children:"Try Again"})]})},"error"):p.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-3",children:[(a=n==null?void 0:n.tips)==null?void 0:a.map((l,u)=>p.jsxs(pe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.1},className:"flex items-start gap-3 p-4 bg-indigo-500/10 rounded-xl border border-indigo-500/20",children:[p.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full mt-2 flex-shrink-0"}),p.jsx("div",{children:p.jsx("p",{className:"text-purple-300 text-sm leading-relaxed",children:l})})]},u)),(n==null?void 0:n.metrics)&&p.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-900/30 rounded-xl mt-4",children:[p.jsx("span",{className:"text-purple-300 text-sm",children:"Overall Performance"}),p.jsxs("span",{className:"text-white font-semibold flex items-center gap-1",children:[p.jsx(Vs,{className:"w-4 h-4 text-emerald-400"}),n.metrics.successRate,"%"]})]})]},"tips")})]})}function yt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function sa(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const PW=6048e5,Bde=864e5,EW=6e4,AW=36e5,Gm=43200,rM=1440;let Ude={};function rp(){return Ude}function Rl(t,e){var a,l,u,f;const n=rp(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=yt(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function lv(t){return Rl(t,{weekStartsOn:1})}function kW(t){const e=yt(t),n=e.getFullYear(),r=sa(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=lv(r),s=sa(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=lv(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function $T(t){const e=yt(t);return e.setHours(0,0,0,0),e}function cv(t){const e=yt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function qde(t,e){const n=$T(t),r=$T(e),i=+n-cv(n),s=+r-cv(r);return Math.round((i-s)/Bde)}function Vde(t){const e=kW(t),n=sa(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),lv(n)}function Tg(t,e){const n=yt(t),r=yt(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function Wde(t){return sa(t,Date.now())}function zde(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Hde(t){if(!zde(t)&&typeof t!="number")return!1;const e=yt(t);return!isNaN(Number(e))}function Gde(t,e){const n=yt(t),r=yt(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function Kde(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Yde(t,e){return+yt(t)-+yt(e)}function Xde(t){const e=yt(t);return e.setHours(23,59,59,999),e}function Qde(t){const e=yt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Jde(t){const e=yt(t);return+Xde(e)==+Qde(e)}function Zde(t,e){const n=yt(t),r=yt(e),i=Tg(n,r),s=Math.abs(Gde(n,r));let o;if(s<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let a=Tg(n,r)===-i;Jde(yt(t))&&s===1&&Tg(t,r)===1&&(a=!1),o=i*(s-Number(a))}return o===0?0:o}function efe(t,e,n){const r=Yde(t,e)/1e3;return Kde(n==null?void 0:n.roundingMethod)(r)}function tfe(t){const e=yt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function nfe(t){const e=yt(t),n=sa(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const rfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ife=(t,e,n)=>{let r;const i=rfe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ew(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const sfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ofe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},afe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lfe={date:ew({formats:sfe,defaultWidth:"full"}),time:ew({formats:ofe,defaultWidth:"full"}),dateTime:ew({formats:afe,defaultWidth:"full"})},cfe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ufe=(t,e,n,r)=>cfe[t];function af(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const dfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ffe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hfe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pfe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vfe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},yfe={ordinalNumber:vfe,era:af({values:dfe,defaultWidth:"wide"}),quarter:af({values:ffe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:af({values:hfe,defaultWidth:"wide"}),day:af({values:pfe,defaultWidth:"wide"}),dayPeriod:af({values:mfe,defaultWidth:"wide",formattingValues:gfe,defaultFormattingWidth:"wide"})};function lf(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?xfe(a,h=>h.test(o)):bfe(a,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const f=e.slice(o.length);return{value:u,rest:f}}}function bfe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function xfe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function wfe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const _fe=/^(\d+)(th|st|nd|rd)?/i,Sfe=/\d+/i,Cfe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Tfe={any:[/^b/i,/^(a|c)/i]},Pfe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Efe={any:[/1/i,/2/i,/3/i,/4/i]},Afe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kfe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jfe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ofe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nfe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ife={ordinalNumber:wfe({matchPattern:_fe,parsePattern:Sfe,valueCallback:t=>parseInt(t,10)}),era:lf({matchPatterns:Cfe,defaultMatchWidth:"wide",parsePatterns:Tfe,defaultParseWidth:"any"}),quarter:lf({matchPatterns:Pfe,defaultMatchWidth:"wide",parsePatterns:Efe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:lf({matchPatterns:Afe,defaultMatchWidth:"wide",parsePatterns:kfe,defaultParseWidth:"any"}),day:lf({matchPatterns:jfe,defaultMatchWidth:"wide",parsePatterns:Ofe,defaultParseWidth:"any"}),dayPeriod:lf({matchPatterns:Nfe,defaultMatchWidth:"any",parsePatterns:Rfe,defaultParseWidth:"any"})},jW={code:"en-US",formatDistance:ife,formatLong:lfe,formatRelative:ufe,localize:yfe,match:Ife,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Mfe(t){const e=yt(t);return qde(e,nfe(e))+1}function Dfe(t){const e=yt(t),n=+lv(e)-+Vde(e);return Math.round(n/PW)+1}function OW(t,e){var f,h,m,v;const n=yt(t),r=n.getFullYear(),i=rp(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(m=i.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,o=sa(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Rl(o,e),l=sa(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=Rl(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function $fe(t,e){var a,l,u,f;const n=rp(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=OW(t,e),s=sa(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Rl(s,e)}function Lfe(t,e){const n=yt(t),r=+Rl(n,e)-+$fe(n,e);return Math.round(r/PW)+1}function wt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Eo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return wt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):wt(n+1,2)},d(t,e){return wt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return wt(t.getHours()%12||12,e.length)},H(t,e){return wt(t.getHours(),e.length)},m(t,e){return wt(t.getMinutes(),e.length)},s(t,e){return wt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return wt(i,e.length)}},Pc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iM={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Eo.y(t,e)},Y:function(t,e,n,r){const i=OW(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return wt(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):wt(s,e.length)},R:function(t,e){const n=kW(t);return wt(n,e.length)},u:function(t,e){const n=t.getFullYear();return wt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return wt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return wt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Eo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return wt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Lfe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):wt(i,e.length)},I:function(t,e,n){const r=Dfe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):wt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Eo.d(t,e)},D:function(t,e,n){const r=Mfe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):wt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return wt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return wt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return wt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Pc.noon:r===0?i=Pc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Pc.evening:r>=12?i=Pc.afternoon:r>=4?i=Pc.morning:i=Pc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Eo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Eo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):wt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):wt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Eo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Eo.s(t,e)},S:function(t,e){return Eo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return oM(r);case"XXXX":case"XX":return Va(r);case"XXXXX":case"XXX":default:return Va(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return oM(r);case"xxxx":case"xx":return Va(r);case"xxxxx":case"xxx":default:return Va(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+sM(r,":");case"OOOO":default:return"GMT"+Va(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+sM(r,":");case"zzzz":default:return"GMT"+Va(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return wt(r,e.length)},T:function(t,e,n){const r=t.getTime();return wt(r,e.length)}};function sM(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+wt(s,2)}function oM(t,e){return t%60===0?(t>0?"-":"+")+wt(Math.abs(t)/60,2):Va(t,e)}function Va(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=wt(Math.trunc(r/60),2),s=wt(r%60,2);return n+i+e+s}const aM=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},NW=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Ffe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return aM(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",aM(r,e)).replace("{{time}}",NW(i,e))},Bfe={p:NW,P:Ffe},Ufe=/^D+$/,qfe=/^Y+$/,Vfe=["D","DD","YY","YYYY"];function Wfe(t){return Ufe.test(t)}function zfe(t){return qfe.test(t)}function Hfe(t,e,n){const r=Gfe(t,e,n);if(console.warn(r),Vfe.includes(t))throw new RangeError(r)}function Gfe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Kfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Yfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xfe=/^'([^]*?)'?$/,Qfe=/''/g,Jfe=/[a-zA-Z]/;function lM(t,e,n){var f,h,m,v;const r=rp(),i=r.locale??jW,s=r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,o=r.weekStartsOn??((v=(m=r.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??0,a=yt(t);if(!Hde(a))throw new RangeError("Invalid time value");let l=e.match(Yfe).map(x=>{const b=x[0];if(b==="p"||b==="P"){const y=Bfe[b];return y(x,i.formatLong)}return x}).join("").match(Kfe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:Zfe(x)};if(iM[b])return{isToken:!0,value:x};if(b.match(Jfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const b=x.value;(zfe(b)||Wfe(b))&&Hfe(b,e,String(t));const y=iM[b[0]];return y(a,b,i.localize,u)}).join("")}function Zfe(t){const e=t.match(Xfe);return e?e[1].replace(Qfe,"'"):t}function ehe(t,e,n){const r=rp(),i=(n==null?void 0:n.locale)??r.locale??jW,s=2520,o=Tg(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let l,u;o>0?(l=yt(e),u=yt(t)):(l=yt(t),u=yt(e));const f=efe(u,l),h=(cv(u)-cv(l))/1e3,m=Math.round((f-h)/60);let v;if(m<2)return n!=null&&n.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,a):f<10?i.formatDistance("lessThanXSeconds",10,a):f<20?i.formatDistance("lessThanXSeconds",20,a):f<40?i.formatDistance("halfAMinute",0,a):f<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):m===0?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",m,a);if(m<45)return i.formatDistance("xMinutes",m,a);if(m<90)return i.formatDistance("aboutXHours",1,a);if(m<rM){const x=Math.round(m/60);return i.formatDistance("aboutXHours",x,a)}else{if(m<s)return i.formatDistance("xDays",1,a);if(m<Gm){const x=Math.round(m/rM);return i.formatDistance("xDays",x,a)}else if(m<Gm*2)return v=Math.round(m/Gm),i.formatDistance("aboutXMonths",v,a)}if(v=Zde(u,l),v<12){const x=Math.round(m/Gm);return i.formatDistance("xMonths",x,a)}else{const x=v%12,b=Math.trunc(v/12);return x<3?i.formatDistance("aboutXYears",b,a):x<9?i.formatDistance("overXYears",b,a):i.formatDistance("almostXYears",b+1,a)}}function the(t,e){return ehe(t,Wde(t),e)}function nhe(t,e){const n=yt(t),r=yt(e);return n.getTime()>r.getTime()}function tw(t,e){const r=ohe(t);let i;if(r.date){const l=ahe(r.date,2);i=lhe(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,a;if(r.time&&(o=che(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=uhe(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(s+o),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(s+o+a)}const Km={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},rhe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ihe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,she=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ohe(t){const e={},n=t.split(Km.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Km.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Km.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Km.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function ahe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function lhe(t,e){if(e===null)return new Date(NaN);const n=t.match(rhe);if(!n)return new Date(NaN);const r=!!n[4],i=cf(n[1]),s=cf(n[2])-1,o=cf(n[3]),a=cf(n[4]),l=cf(n[5])-1;if(r)return mhe(e,a,l)?dhe(e,a,l):new Date(NaN);{const u=new Date(0);return!hhe(e,s,o)||!phe(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}}function cf(t){return t?parseInt(t):1}function che(t){const e=t.match(ihe);if(!e)return NaN;const n=nw(e[1]),r=nw(e[2]),i=nw(e[3]);return ghe(n,r,i)?n*AW+r*EW+i*1e3:NaN}function nw(t){return t&&parseFloat(t.replace(",","."))||0}function uhe(t){if(t==="Z")return 0;const e=t.match(she);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return vhe(r,i)?n*(r*AW+i*EW):NaN}function dhe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const fhe=[31,null,31,30,31,30,31,31,30,31,30,31];function RW(t){return t%400===0||t%4===0&&t%100!==0}function hhe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(fhe[e]||(RW(t)?29:28))}function phe(t,e){return e>=1&&e<=(RW(t)?366:365)}function mhe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function ghe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function vhe(t,e){return e>=0&&e<=59}function yhe({session:t,onResume:e,onDiscard:n,open:r}){if(!t)return null;const i=t.total_leads>0?Math.round(t.completed_leads/t.total_leads*100):0,s=t.last_activity_at?the(new Date(t.last_activity_at),{addSuffix:!0}):"Unknown";return p.jsx(kl,{open:r,onOpenChange:o=>!o&&n(),children:p.jsxs(ea,{className:"sm:max-w-md bg-slate-900 border-slate-700",children:[p.jsxs(ta,{children:[p.jsxs(na,{className:"text-2xl font-bold text-white flex items-center gap-2",children:[p.jsx(Ms,{className:"w-6 h-6 text-blue-400"}),"Resume Your Session?"]}),p.jsxs(tp,{className:"text-slate-300",children:["You have an unfinished dialing session from ",s]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-slate-800 rounded-lg p-4 space-y-3",children:[t.pipeline&&p.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[p.jsx(Kg,{className:"w-4 h-4 text-purple-400"}),p.jsx("span",{className:"text-sm",children:"Pipeline:"}),p.jsx("span",{className:"font-semibold text-white",children:t.pipeline.name})]}),p.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[p.jsx(Tt,{className:"w-4 h-4 text-emerald-400"}),p.jsx("span",{className:"text-sm",children:"Progress:"}),p.jsxs("span",{className:"font-semibold text-white",children:[t.completed_leads," / ",t.total_leads," leads"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between text-sm text-slate-400",children:[p.jsx("span",{children:"Completion"}),p.jsxs("span",{children:[i,"%"]})]}),p.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2 overflow-hidden",children:p.jsx(pe.div,{initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5,ease:"easeOut"},className:"h-full bg-gradient-to-r from-blue-500 to-purple-500"})})]}),t.current_lead&&p.jsxs("div",{className:"pt-2 border-t border-slate-700",children:[p.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Next Lead:"}),p.jsx("p",{className:"text-sm font-medium text-white",children:t.current_lead.name}),t.current_lead.company&&p.jsx("p",{className:"text-xs text-slate-400",children:t.current_lead.company})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs(Le,{onClick:e,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white",children:[p.jsx(L6,{className:"w-4 h-4 mr-2"}),"Resume Session"]}),p.jsxs(Le,{onClick:n,variant:"outline",className:"flex-1 border-slate-600 text-slate-300 hover:bg-slate-800 hover:text-white",children:[p.jsx(uA,{className:"w-4 h-4 mr-2"}),"Start Fresh"]})]}),p.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Resuming will pick up exactly where you left off"})]})]})})}const Ut=T.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:He("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ut.displayName="Input";var rw="rovingFocusGroup.onEntryFocus",bhe={bubbles:!1,cancelable:!0},ip="RovingFocusGroup",[LT,IW,xhe]=vV(ip),[whe,MW]=Ul(ip,[xhe]),[_he,She]=whe(ip),DW=T.forwardRef((t,e)=>p.jsx(LT.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(LT.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(Che,{...t,ref:e})})}));DW.displayName=ip;var Che=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=t,m=T.useRef(null),v=Wt(e,m),x=MA(s),[b,y]=wu({prop:o,defaultProp:a??null,onChange:l,caller:ip}),[_,S]=T.useState(!1),C=Zo(u),E=IW(n),P=T.useRef(!1),[k,j]=T.useState(0);return T.useEffect(()=>{const N=m.current;if(N)return N.addEventListener(rw,C),()=>N.removeEventListener(rw,C)},[C]),p.jsx(_he,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:b,onItemFocus:T.useCallback(N=>y(N),[y]),onItemShiftTab:T.useCallback(()=>S(!0),[]),onFocusableItemAdd:T.useCallback(()=>j(N=>N+1),[]),onFocusableItemRemove:T.useCallback(()=>j(N=>N-1),[]),children:p.jsx(st.div,{tabIndex:_||k===0?-1:0,"data-orientation":r,...h,ref:v,style:{outline:"none",...t.style},onMouseDown:rt(t.onMouseDown,()=>{P.current=!0}),onFocus:rt(t.onFocus,N=>{const I=!P.current;if(N.target===N.currentTarget&&I&&!_){const L=new CustomEvent(rw,bhe);if(N.currentTarget.dispatchEvent(L),!L.defaultPrevented){const M=E().filter(z=>z.focusable),F=M.find(z=>z.active),U=M.find(z=>z.id===b),X=[F,U,...M].filter(Boolean).map(z=>z.ref.current);FW(X,f)}}P.current=!1}),onBlur:rt(t.onBlur,()=>S(!1))})})}),$W="RovingFocusGroupItem",LW=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=t,l=Yo(),u=s||l,f=She($W,n),h=f.currentTabStopId===u,m=IW(n),{onFocusableItemAdd:v,onFocusableItemRemove:x,currentTabStopId:b}=f;return T.useEffect(()=>{if(r)return v(),()=>x()},[r,v,x]),p.jsx(LT.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:p.jsx(st.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...a,ref:e,onMouseDown:rt(t.onMouseDown,y=>{r?f.onItemFocus(u):y.preventDefault()}),onFocus:rt(t.onFocus,()=>f.onItemFocus(u)),onKeyDown:rt(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){f.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const _=Ehe(y,f.orientation,f.dir);if(_!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let C=m().filter(E=>E.focusable).map(E=>E.ref.current);if(_==="last")C.reverse();else if(_==="prev"||_==="next"){_==="prev"&&C.reverse();const E=C.indexOf(y.currentTarget);C=f.loop?Ahe(C,E+1):C.slice(E+1)}setTimeout(()=>FW(C))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:b!=null}):o})})});LW.displayName=$W;var The={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Phe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Ehe(t,e,n){const r=Phe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return The[r]}function FW(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Ahe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var khe=DW,jhe=LW,My="Tabs",[Ohe]=Ul(My,[MW]),BW=MW(),[Nhe,zA]=Ohe(My),UW=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,f=MA(a),[h,m]=wu({prop:r,onChange:i,defaultProp:s??"",caller:My});return p.jsx(Nhe,{scope:n,baseId:Yo(),value:h,onValueChange:m,orientation:o,dir:f,activationMode:l,children:p.jsx(st.div,{dir:f,"data-orientation":o,...u,ref:e})})});UW.displayName=My;var qW="TabsList",VW=T.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=zA(qW,n),o=BW(n);return p.jsx(khe,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:p.jsx(st.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});VW.displayName=qW;var WW="TabsTrigger",zW=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=zA(WW,n),a=BW(n),l=KW(o.baseId,r),u=YW(o.baseId,r),f=r===o.value;return p.jsx(jhe,{asChild:!0,...a,focusable:!i,active:f,children:p.jsx(st.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:rt(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:rt(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:rt(t.onFocus,()=>{const h=o.activationMode!=="manual";!f&&!i&&h&&o.onValueChange(r)})})})});zW.displayName=WW;var HW="TabsContent",GW=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=zA(HW,n),l=KW(a.baseId,r),u=YW(a.baseId,r),f=r===a.value,h=T.useRef(f);return T.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),p.jsx(ep,{present:i||f,children:({present:m})=>p.jsx(st.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&s})})});GW.displayName=HW;function KW(t,e){return`${t}-trigger-${e}`}function YW(t,e){return`${t}-content-${e}`}var Rhe=UW,XW=VW,QW=zW,JW=GW;const ZW=Rhe,HA=T.forwardRef(({className:t,...e},n)=>p.jsx(XW,{ref:n,className:He("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));HA.displayName=XW.displayName;const wl=T.forwardRef(({className:t,...e},n)=>p.jsx(QW,{ref:n,className:He("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));wl.displayName=QW.displayName;const _l=T.forwardRef(({className:t,...e},n)=>p.jsx(JW,{ref:n,className:He("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));_l.displayName=JW.displayName;function Ihe(t){const[e,n]=T.useState(null),[r,i]=T.useState(!1),[s,o]=T.useState(null),a=T.useRef(null),l=T.useRef(!1),u=y=>["completed","ended","failed","busy","no-answer","canceled","voicemail_detected"].includes(y),f=y=>["dialing","queued","ringing","in-progress","connected","initiating"].includes(y),h=y=>({dialing:{label:"Dialing...",color:"text-blue-600",bgColor:"bg-blue-100"},initiating:{label:"Initiating...",color:"text-blue-600",bgColor:"bg-blue-100"},queued:{label:"Queued",color:"text-yellow-600",bgColor:"bg-yellow-100"},ringing:{label:"Ringing...",color:"text-indigo-600",bgColor:"bg-indigo-100"},"in-progress":{label:"Connected",color:"text-green-600",bgColor:"bg-green-100"},connected:{label:"Connected",color:"text-green-600",bgColor:"bg-green-100"},completed:{label:"Ended",color:"text-slate-600",bgColor:"bg-slate-100"},ended:{label:"Ended",color:"text-slate-600",bgColor:"bg-slate-100"},failed:{label:"Failed",color:"text-red-600",bgColor:"bg-red-100"},busy:{label:"Busy",color:"text-orange-600",bgColor:"bg-orange-100"},"no-answer":{label:"No Answer",color:"text-slate-600",bgColor:"bg-slate-100"},canceled:{label:"Canceled",color:"text-slate-600",bgColor:"bg-slate-100"},voicemail_detected:{label:"Voicemail",color:"text-purple-600",bgColor:"bg-purple-100"}})[y]||{label:y,color:"text-slate-600",bgColor:"bg-slate-100"},m=T.useCallback(y=>y?{...y,statusInfo:h(y.status),isActive:f(y.status),isTerminal:u(y.status),secondsSinceStart:y.started_at?Math.floor((Date.now()-new Date(y.started_at).getTime())/1e3):0}:null,[]),v=T.useCallback(async()=>{if(!(!t||l.current)){l.current=!0;try{const{data:y,error:_}=await Se.from("active_calls").select("*").eq("user_email",t).is("lead_id",null).order("started_at",{ascending:!1}).limit(1).maybeSingle();if(_)throw _;const S=m(y);n(S),o(null)}catch(y){console.error("Error fetching current call:",y),o(y.message)}finally{l.current=!1}}},[t,m]);T.useEffect(()=>{if(!t){n(null);return}v();const y=`dialer_call_${t}_${Date.now()}`,_=Se.channel(y).on("postgres_changes",{event:"*",schema:"public",table:"active_calls",filter:`user_email=eq.${t}`},S=>{var C;if(console.log("Dialer call update received:",S.eventType,(C=S.new)==null?void 0:C.status),S.eventType==="DELETE")S.old.lead_id===null&&n(null);else if(S.new&&S.new.lead_id===null){const E=m(S.new);n(E)}}).subscribe(S=>{console.log("Dialer subscription status:",S),i(S==="SUBSCRIBED")});return a.current=_,()=>{a.current&&(Se.removeChannel(a.current),a.current=null)}},[t,v,m]);const x=T.useCallback(async()=>{e!=null&&e.call_sid&&(await Se.from("active_calls").delete().eq("call_sid",e.call_sid),n(null))},[e]),b=T.useCallback(async(y,_={})=>{if(!(e!=null&&e.call_sid))return;const{error:S}=await Se.from("active_calls").update({status:y,..._}).eq("call_sid",e.call_sid);if(S)throw console.error("Error updating call status:",S),S},[e]);return{currentCall:e,isConnected:r,error:s,refresh:v,clearCall:x,updateCallStatus:b,isActive:(e==null?void 0:e.isActive)||!1,isTerminal:(e==null?void 0:e.isTerminal)||!1}}function tl(t,e="us"){if(!t)return"";const n=t.replace(/\D/g,"");return e==="us"?n.length===0?"":n.length<=3?n:n.length<=6?`(${n.slice(0,3)}) ${n.slice(3)}`:n.length<=10?`(${n.slice(0,3)}) ${n.slice(3,6)}-${n.slice(6)}`:`+${n.slice(0,n.length-10)} (${n.slice(-10,-7)}) ${n.slice(-7,-4)}-${n.slice(-4)}`:e==="international"?n.length===0?"":n.length<=11?`+${n}`:`+${n.slice(0,n.length-10)} ${n.slice(-10,-7)} ${n.slice(-7,-4)} ${n.slice(-4)}`:n}function Mhe(t){const e=t.replace(/\D/g,"");return e.length===0?{valid:!1,error:"Phone number is required"}:e.length<10?{valid:!1,error:"Phone number must be at least 10 digits"}:e.length>15?{valid:!1,error:"Phone number is too long"}:["911","112","999"].includes(e.slice(0,3))?{valid:!1,error:"Emergency numbers cannot be dialed from this app",isEmergency:!0}:{valid:!0,cleaned:e}}function Dhe(t,e="+1"){const n=t.replace(/\D/g,"");return n.startsWith("1")&&n.length===11?`+${n}`:n.length===10?`${e}${n}`:n.startsWith("+")?n:`+${n}`}function $he(t){return t.replace(/\D/g,"")}function cM(t){if(!t||t<0)return"00:00";const e=Math.floor(t/3600),n=Math.floor(t%3600/60),r=t%60;return e>0?`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function ez(t){if(!t)return"?";const e=t.trim().split(" ");return e.length===1?e[0][0].toUpperCase():(e[0][0]+e[e.length-1][0]).toUpperCase()}function Lhe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let FT=1;class Fhe{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:FT++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,o;const a=i.then(async u=>{if(o=["resolve",u],V.isValidElement(u))s=!1,this.create({id:r,type:"default",message:u});else if(Uhe(u)&&!u.ok){s=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,x=typeof h=="object"&&!V.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:m,...x})}else if(u instanceof Error){s=!1;const h=typeof n.error=="function"?await n.error(u):n.error,m=typeof n.description=="function"?await n.description(u):n.description,x=typeof h=="object"&&!V.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:m,...x})}else if(n.success!==void 0){s=!1;const h=typeof n.success=="function"?await n.success(u):n.success,m=typeof n.description=="function"?await n.description(u):n.description,x=typeof h=="object"&&!V.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:m,...x})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){s=!1;const f=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description,v=typeof f=="object"&&!V.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:h,...v})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((u,f)=>a.then(()=>o[0]==="reject"?f(o[1]):u(o[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||FT++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Yr=new Fhe,Bhe=(t,e)=>{const n=(e==null?void 0:e.id)||FT++;return Yr.addToast({title:t,...e,id:n}),n},Uhe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",qhe=Bhe,Vhe=()=>Yr.toasts,Whe=()=>Yr.getActiveToasts(),Ke=Object.assign(qhe,{success:Yr.success,info:Yr.info,warning:Yr.warning,error:Yr.error,custom:Yr.custom,message:Yr.message,promise:Yr.promise,dismiss:Yr.dismiss,loading:Yr.loading},{getHistory:Vhe,getToasts:Whe});Lhe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const zhe={1:697,2:770,3:852,4:697,5:770,6:852,7:697,8:770,9:852,"*":941,0:941,"#":941};function tz({onClose:t,initialNumber:e="",userEmail:n="demo@example.com"}){var K;const[r,i]=T.useState(e),[s,o]=T.useState(!1),[a,l]=T.useState(""),[u,f]=T.useState("dialer"),[h,m]=T.useState(0),v=T.useRef(null),x=T.useRef(null),b=Bl(),{currentCall:y,updateCallStatus:_}=Ihe(n),S=(y==null?void 0:y.isActive)||!1,C=(y==null?void 0:y.status)||"idle",E=C==="in-progress"||C==="connected",{data:P}=Ct({queryKey:["dialerPreferences",n],queryFn:async()=>{const{data:D,error:$}=await Se.from("dialer_preferences").select("*").eq("user_email",n).maybeSingle();if($&&$.code!=="PGRST116")throw $;if(!D){const{data:H,error:te}=await Se.from("dialer_preferences").insert({user_email:n,default_country_code:"+1",number_format_preference:"us",enable_dial_tones:!0,enable_vibration:!0,save_to_history:!0}).select().single();if(te)throw te;return H}return D}}),{data:k}=Ct({queryKey:["dialerSettings",n],queryFn:async()=>{const{data:D,error:$}=await Se.from("dialer_settings").select("*").eq("user_email",n).maybeSingle();if($&&$.code!=="PGRST116")throw $;return D}}),{data:j=[]}=Ct({queryKey:["dialerFavorites",n],queryFn:async()=>{const{data:D,error:$}=await Se.from("dialer_favorites").select("*").eq("user_email",n).order("sort_order",{ascending:!0});if($)throw $;return D||[]}}),{data:N=[]}=Ct({queryKey:["recentNumbers",n],queryFn:async()=>{const{data:D,error:$}=await Se.from("recent_numbers").select("*").eq("user_email",n).order("last_called_at",{ascending:!1}).limit(20);if($)throw $;return D||[]}});T.useEffect(()=>(E?x.current||(x.current=setInterval(()=>{m(D=>D+1)},1e3)):(x.current&&(clearInterval(x.current),x.current=null),(C==="idle"||!y)&&m(0)),()=>{x.current&&(clearInterval(x.current),x.current=null)}),[E,C,y]);const I=T.useCallback(D=>{if(P!=null&&P.enable_dial_tones)try{v.current||(v.current=new(window.AudioContext||window.webkitAudioContext));const $=v.current,H=$.createOscillator(),te=$.createGain();H.connect(te),te.connect($.destination),H.frequency.value=zhe[D]||770,H.type="sine",te.gain.setValueAtTime(.3,$.currentTime),te.gain.exponentialRampToValueAtTime(.01,$.currentTime+.1),H.start($.currentTime),H.stop($.currentTime+.1)}catch($){console.error("Error playing dial tone:",$)}},[P]),L=T.useCallback(D=>{i($=>$+D),I(D),P!=null&&P.enable_vibration&&navigator.vibrate&&navigator.vibrate(10)},[I,P]),M=T.useCallback(()=>{i(D=>D.slice(0,-1))},[]),F=T.useCallback(()=>{i("")},[]),U=async()=>{const D=Mhe(r);if(!D.valid){Ke.error(D.error||"Invalid phone number"),D.isEmergency&&Ke.error("Please dial emergency services directly from your phone");return}const $=Dhe(D.cleaned,P==null?void 0:P.default_country_code),H=(k==null?void 0:k.use_mock_dialer)||!1;try{if(H){Ke.info("Demo Mode: Simulating call...");const te=await yn("mockDialerCall",{to:$,userEmail:n,leadId:null,leadName:null,lineNumber:1});if(!te.success)throw new Error(te.error||"Failed to initiate call")}else{if(!ut.isReady()&&!await ut.initialize(n)){const ce=ut.getLastError(),ye=ut.getMissingConfig();if(ye){const je=Object.entries(ye).filter(([oe,me])=>me).map(([oe])=>oe).join(", ");Ke.error(`Twilio Setup Required: Missing ${je}`,{duration:5e3}),console.error("Missing Twilio configuration:",ye)}else Ke.error(ce||"Twilio not configured. Enable Demo Mode in Settings to test.");return}ut.onCallAnswered(()=>{console.log("Twilio call connected")}),ut.onCallEnded(async()=>{await Y()}),ut.onCallError(te=>{Ke.error(`Call error: ${te.message}`),Y()}),await ut.makeCall($,{userEmail:n,leadId:null,leadName:null}),Ke.success("Calling...")}}catch(te){console.error("Error initiating call:",te),Ke.error(te.message||"Failed to start call")}},Y=async()=>{const D=(k==null?void 0:k.use_mock_dialer)||!1;try{!D&&ut.hasActiveCall()&&ut.disconnectCall(),await _("ended",{ended_at:new Date().toISOString()}),D&&Ke.success("Demo call ended"),await b.invalidateQueries(["recentNumbers"])}catch($){console.error("Error ending call:",$)}x.current&&(clearInterval(x.current),x.current=null)},X=()=>{const D=(k==null?void 0:k.use_mock_dialer)||!1;s?(D||ut.unmuteCall(),o(!1),Ke.success(D?"Demo: Microphone unmuted":"Microphone unmuted")):(D||ut.muteCall(),o(!0),Ke.success(D?"Demo: Microphone muted":"Microphone muted"))},z=D=>{i($he(D)),f("dialer")},J=D=>{const $=Math.floor(D/60),H=D%60;return`${$.toString().padStart(2,"0")}:${H.toString().padStart(2,"0")}`},B=N.filter(D=>D.phone_number.includes(a)||D.contact_name&&D.contact_name.toLowerCase().includes(a.toLowerCase()));return t?p.jsx(pe.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:p.jsx(pe.div,{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden",initial:{scale:.9,y:20},animate:{scale:1,y:0},onClick:D=>D.stopPropagation(),children:p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Phone"}),p.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full transition-colors","aria-label":"Close dialer",children:p.jsx(bu,{className:"w-5 h-5 text-slate-600"})})]}),(k==null?void 0:k.use_mock_dialer)&&p.jsxs("div",{className:"mb-4 p-3 bg-cyan-50 border border-cyan-200 rounded-xl flex items-center gap-2",children:[p.jsx("div",{className:"w-2 h-2 bg-cyan-500 rounded-full animate-pulse"}),p.jsx("span",{className:"text-sm font-medium text-cyan-700",children:"Demo Mode Active"}),p.jsx("span",{className:"text-xs text-cyan-600 ml-auto",children:"Calls are simulated"})]}),p.jsxs(ZW,{value:u,onValueChange:f,className:"w-full",children:[p.jsxs(HA,{className:"grid w-full grid-cols-3 mb-6",children:[p.jsxs(wl,{value:"dialer",children:[p.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Dialer"]}),p.jsxs(wl,{value:"favorites",children:[p.jsx(Ko,{className:"w-4 h-4 mr-2"}),"Favorites"]}),p.jsxs(wl,{value:"recent",children:[p.jsx(Ms,{className:"w-4 h-4 mr-2"}),"Recent"]})]}),p.jsx(_l,{value:"dialer",className:"space-y-4",children:S?p.jsxs("div",{className:"py-8 text-center space-y-6",children:[p.jsx("div",{className:"flex items-center justify-center",children:p.jsx("div",{className:`
                      w-20 h-20 rounded-full flex items-center justify-center
                      ${E?"bg-green-100":"bg-blue-100"}
                    `,children:p.jsx(Tt,{className:`w-10 h-10 ${E?"text-green-600":"text-blue-600 animate-pulse"}`})})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-lg font-medium text-slate-700",children:tl(r)}),p.jsx("p",{className:"text-sm text-slate-500 mt-1",children:((K=y==null?void 0:y.statusInfo)==null?void 0:K.label)||C})]}),E&&p.jsx("div",{className:"text-3xl font-mono font-bold text-slate-700",children:J(h)}),p.jsxs("div",{className:"flex justify-center gap-4 pt-4",children:[E&&p.jsx(Le,{onClick:X,variant:"outline",size:"lg",className:"rounded-full w-14 h-14 p-0",children:s?p.jsx(F6,{className:"w-6 h-6"}):p.jsx(yy,{className:"w-6 h-6"})}),p.jsx(Le,{onClick:Y,size:"lg",className:"rounded-full w-14 h-14 p-0 bg-red-500 hover:bg-red-600",children:p.jsx(yu,{className:"w-6 h-6"})})]})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"bg-slate-100 rounded-2xl p-4 min-h-[60px] flex items-center justify-center",children:p.jsx("input",{type:"tel",value:tl(r),readOnly:!0,placeholder:"Enter number",className:"bg-transparent text-2xl font-medium text-center w-full outline-none"})}),p.jsx("div",{className:"grid grid-cols-3 gap-3",children:["1","2","3","4","5","6","7","8","9","*","0","#"].map(D=>p.jsx("button",{onClick:()=>L(D),className:"aspect-square rounded-2xl bg-slate-100 hover:bg-slate-200 active:bg-slate-300 transition-colors text-xl font-semibold text-slate-700",children:D},D))}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Le,{onClick:M,variant:"outline",className:"flex-1 rounded-xl",disabled:!r,children:[p.jsx(rne,{className:"w-4 h-4 mr-2"}),"Backspace"]}),p.jsx(Le,{onClick:F,variant:"outline",className:"rounded-xl px-4",disabled:!r,children:p.jsx(bu,{className:"w-4 h-4"})})]}),p.jsxs(Le,{onClick:U,className:"w-full h-14 rounded-2xl bg-green-500 hover:bg-green-600 text-white text-lg font-semibold",disabled:!r,children:[p.jsx(Tt,{className:"w-5 h-5 mr-2"}),"Call"]})]})}),p.jsx(_l,{value:"favorites",className:"space-y-3",children:j.length===0?p.jsxs("div",{className:"text-center py-12 text-slate-500",children:[p.jsx(Ko,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),p.jsx("p",{children:"No favorites yet"})]}):j.map(D=>p.jsxs("div",{onClick:()=>z(D.phone_number),className:"flex items-center gap-3 p-3 bg-slate-50 hover:bg-slate-100 rounded-xl cursor-pointer transition-colors",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center",children:p.jsx(V6,{className:"w-5 h-5 text-slate-600"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"font-medium text-slate-700",children:D.contact_name||"Unknown"}),p.jsx("p",{className:"text-sm text-slate-500",children:tl(D.phone_number)})]}),p.jsx(Ko,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"})]},D.id))}),p.jsxs(_l,{value:"recent",className:"space-y-3",children:[p.jsxs("div",{className:"relative",children:[p.jsx(q6,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),p.jsx(Ut,{placeholder:"Search recent calls...",value:a,onChange:D=>l(D.target.value),className:"pl-10 rounded-xl"})]}),p.jsx("div",{className:"max-h-80 overflow-y-auto space-y-2",children:B.length===0?p.jsxs("div",{className:"text-center py-12 text-slate-500",children:[p.jsx(Ms,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),p.jsx("p",{children:a?"No matching calls":"No recent calls"})]}):B.map(D=>p.jsxs("div",{onClick:()=>z(D.phone_number),className:"flex items-center gap-3 p-3 bg-slate-50 hover:bg-slate-100 rounded-xl cursor-pointer transition-colors",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center",children:p.jsx("span",{className:"text-sm font-medium text-slate-600",children:ez(D.contact_name)})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"font-medium text-slate-700",children:D.contact_name||tl(D.phone_number)}),p.jsx("p",{className:"text-sm text-slate-500",children:new Date(D.last_called_at).toLocaleString()})]})]},D.id))})]})]})]})})}):null}function Hhe({userEmail:t="demo@example.com",className:e=""}){const[n,r]=T.useState(!1);return p.jsxs(p.Fragment,{children:[p.jsx(pe.button,{onClick:()=>r(!0),className:`fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-br from-blue-600 to-cyan-600 rounded-full shadow-2xl flex items-center justify-center z-40 hover:shadow-blue-500/50 transition-shadow ${e}`,whileHover:{scale:1.1},whileTap:{scale:.95},initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},"aria-label":"Open phone dialer",children:p.jsx(Tt,{className:"w-7 h-7 text-white"})}),p.jsx(oa,{children:n&&p.jsx(tz,{onClose:()=>r(!1),userEmail:t})})]})}class Ghe{constructor(e){this.userEmail=e,this.sessionId=null,this.autoSaveInterval=null,this.localStorageKey=`dialer_session_${e}`}async createSession(e,n,r){var i;try{const{data:s,error:o}=await Se.from("dialer_sessions").insert({user_email:this.userEmail,pipeline_id:e,current_lead_index:0,current_lead_id:((i=n[0])==null?void 0:i.id)||null,total_leads:n.length,completed_leads:0,filter_settings:r||{},is_active:!0,started_at:new Date().toISOString(),last_activity_at:new Date().toISOString()}).select().single();if(o)throw o;return this.sessionId=s.id,this.saveToLocalStorage(s),this.startAutoSave(),s}catch(s){return console.error("Error creating session:",s),null}}async updateSession(e){if(!this.sessionId)return null;try{const{data:n,error:r}=await Se.from("dialer_sessions").update({...e,last_activity_at:new Date().toISOString()}).eq("id",this.sessionId).select().single();if(r)throw r;return this.saveToLocalStorage(n),n}catch(n){console.error("Error updating session:",n);const r=this.getFromLocalStorage();return r?{...r,...e}:null}}async endSession(){if(this.sessionId){this.stopAutoSave();try{await Se.from("dialer_sessions").update({is_active:!1,ended_at:new Date().toISOString(),last_activity_at:new Date().toISOString()}).eq("id",this.sessionId),this.clearLocalStorage(),this.sessionId=null}catch(e){console.error("Error ending session:",e)}}}async getActiveSession(){try{const{data:e,error:n}=await Se.from("dialer_sessions").select(`
          *,
          pipeline:ghl_pipelines(id, name),
          current_lead:leads(id, name, phone, email, company)
        `).eq("user_email",this.userEmail).eq("is_active",!0).order("last_activity_at",{ascending:!1}).limit(1).maybeSingle();if(n&&n.code!=="PGRST116")throw n;if(e)return this.sessionId=e.id,this.saveToLocalStorage(e),e;const r=this.getFromLocalStorage();return r&&this.isSessionValid(r)?r:null}catch(e){console.error("Error getting active session:",e);const n=this.getFromLocalStorage();return n&&this.isSessionValid(n)?n:null}}async getSessionLeads(e){try{const n=e.filter_settings||{};let r=Se.from("leads").select(`
          *,
          pipeline:ghl_pipelines(id, name)
        `);e.pipeline_id&&(r=r.eq("pipeline_id",e.pipeline_id)),n.status&&(r=r.eq("status",n.status)),n.tags&&n.tags.length>0&&(r=r.contains("tags",n.tags));const{data:i,error:s}=await r.order("created_at",{ascending:!1});if(s)throw s;return i||[]}catch(n){return console.error("Error getting session leads:",n),[]}}startAutoSave(){this.autoSaveInterval=setInterval(()=>{this.sessionId&&this.updateSession({})},3e4)}stopAutoSave(){this.autoSaveInterval&&(clearInterval(this.autoSaveInterval),this.autoSaveInterval=null)}saveToLocalStorage(e){try{localStorage.setItem(this.localStorageKey,JSON.stringify({...e,lastSaved:new Date().toISOString()}))}catch(n){console.error("Error saving to localStorage:",n)}}getFromLocalStorage(){try{const e=localStorage.getItem(this.localStorageKey);return e?JSON.parse(e):null}catch(e){return console.error("Error reading from localStorage:",e),null}}clearLocalStorage(){try{localStorage.removeItem(this.localStorageKey)}catch(e){console.error("Error clearing localStorage:",e)}}isSessionValid(e){if(!e||!e.last_activity_at)return!1;const n=new Date(e.last_activity_at);return(new Date-n)/(1e3*60*60)<24}async getSessionHistory(e=10){try{const{data:n,error:r}=await Se.from("dialer_sessions").select(`
          *,
          pipeline:ghl_pipelines(id, name)
        `).eq("user_email",this.userEmail).order("started_at",{ascending:!1}).limit(e);if(r)throw r;return n||[]}catch(n){return console.error("Error getting session history:",n),[]}}cleanup(){this.stopAutoSave()}}const Khe=t=>new Ghe(t);function BT(){const[t,e]=T.useState(null),[n,r]=T.useState(!1),[i,s]=T.useState(null),[o,a]=T.useState(!1),[l,u]=T.useState(0),[f,h]=T.useState("all"),[m,v]=T.useState(null),[x,b]=T.useState(!1),[y,_]=T.useState([]),S=T.useRef(null),C=Bl(),{theme:E}=_A();T.useEffect(()=>((async()=>{const D={email:"demo@example.com"};e(D),S.current=Khe(D.email);const $=await S.current.getActiveSession();$&&(v($),b(!0))})(),()=>{S.current&&S.current.cleanup()}),[]);const{data:P}=Ct({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:K,error:D}=await Se.from("user_stats").select().eq("user_email",t.email).maybeSingle();if(D&&D.code!=="PGRST116")throw D;if(!K){const{data:$,error:H}=await Se.from("user_stats").insert({user_email:t.email,total_points:0,level:1,calls_today:0,appointments_today:0,current_streak:0,best_streak:0,daily_goal:50,mascot_mood:"neutral"}).select().single();if(H)throw H;return $}return K},enabled:!!(t!=null&&t.email)}),{data:k=[]}=Ct({queryKey:["pipelines"],queryFn:async()=>{const{data:K,error:D}=await Se.from("ghl_pipelines").select("*").order("name");if(D&&D.code!=="PGRST116")throw D;return K||[]}}),{data:j=[]}=Ct({queryKey:["leads",f],queryFn:async()=>{let K=Se.from("leads").select(`
          *,
          pipeline:ghl_pipelines(id, name)
        `).eq("status","new");f!=="all"&&(f==="none"?K=K.is("pipeline_id",null):K=K.eq("pipeline_id",f));const{data:D,error:$}=await K.order("created_at",{ascending:!1}).limit(100);if($)throw $;return D||[]}}),{data:N=[]}=Ct({queryKey:["recentCalls"],queryFn:async()=>{const{data:K,error:D}=await Se.from("call_logs").select("*").order("created_at",{ascending:!1}).limit(50);if(D&&D.code!=="PGRST116")throw D;return K||[]}}),I=K=>{K?(s(K),r(!0)):j.length>0&&(s(j[0]),r(!0))},L=()=>{if(!i||j.length<=1)return;const D=(j.findIndex($=>$.id===i.id)+1)%j.length;s(j[D])},M=()=>{if(!i||j.length<=1)return;const K=j.findIndex($=>$.id===i.id),D=K===0?j.length-1:K-1;s(j[D])},F=async(K,D)=>{r(!1),u(K),a(!0),C.invalidateQueries(["userStats"]),C.invalidateQueries(["leads"]),S.current&&D&&await S.current.updateSession({completed_leads:((m==null?void 0:m.completed_leads)||0)+1})},U=async()=>{if(!m||!S.current)return;b(!1);const K=await S.current.getSessionLeads(m);_(K);const D=m.current_lead_index||0;K[D]&&(s(K[D]),h(m.pipeline_id||"all"),r(!0))},Y=async()=>{S.current&&m&&await S.current.endSession(),v(null),b(!1)},X=(P==null?void 0:P.level)||1,z=(P==null?void 0:P.total_points)||0,J=X*500,B=N.reduce((K,D)=>(K[D.outcome]=(K[D.outcome]||0)+1,K),{});return p.jsxs("div",{className:`min-h-screen bg-gradient-to-br ${E.background} relative overflow-hidden`,children:[p.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[p.jsx("div",{className:`absolute top-1/4 left-1/4 w-96 h-96 ${E.primaryGlow} rounded-full blur-3xl`}),p.jsx("div",{className:`absolute bottom-1/4 right-1/4 w-96 h-96 ${E.secondaryGlow} rounded-full blur-3xl`})]}),p.jsxs("div",{className:"relative z-10 p-6 max-w-7xl mx-auto",children:[p.jsx(ca,{userStats:P}),p.jsx("div",{className:"mb-6",children:p.jsx(ua,{})}),k.length>0&&p.jsx(pe.div,{className:"mb-4",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(lne,{className:"w-4 h-4 text-purple-400"}),p.jsxs("select",{value:f,onChange:K=>h(K.target.value),className:`px-4 py-2 ${E.cardBg} backdrop-blur-sm border ${E.borderColor} rounded-xl ${E.textPrimary} text-sm focus:outline-none focus:ring-2 focus:ring-${E.accentColor}-500`,children:[p.jsx("option",{value:"all",children:"All Leads"}),p.jsx("option",{value:"none",children:"No Pipeline"}),k.map(K=>p.jsx("option",{value:K.id,children:K.name},K.id))]})]})}),p.jsxs(pe.div,{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},children:[p.jsxs("div",{className:`${E.cardBg} backdrop-blur-sm rounded-2xl p-4 border border-emerald-500/20`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"text-emerald-300 text-sm",children:"Appointments"}),p.jsx(bl,{className:"w-4 h-4 text-emerald-400"})]}),p.jsx("p",{className:"text-2xl font-bold text-white",children:B.appointment_set||0})]}),p.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-4 border border-blue-500/20",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"text-blue-300 text-sm",children:"Callbacks"}),p.jsx(bl,{className:"w-4 h-4 text-blue-400"})]}),p.jsx("p",{className:"text-2xl font-bold text-white",children:B.callback||0})]}),p.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-4 border border-slate-500/20",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"text-slate-300 text-sm",children:"No Answer"}),p.jsx(bl,{className:"w-4 h-4 text-slate-400"})]}),p.jsx("p",{className:"text-2xl font-bold text-white",children:B.no_answer||0})]}),p.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-4 border border-purple-500/20",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"text-purple-300 text-sm",children:"Total Calls"}),p.jsx(D6,{className:"w-4 h-4 text-purple-400"})]}),p.jsx("p",{className:"text-2xl font-bold text-white",children:N.length})]})]}),p.jsx("div",{className:"mb-6",children:p.jsx(Bse,{level:X,currentXP:z%J,nextLevelXP:J})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"lg:col-span-2",children:[p.jsx(Lse,{lead:j[0],onStartCall:()=>I(j[0]),xpMultiplier:(P==null?void 0:P.current_streak)>=3?2:1}),p.jsx(Fde,{})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx(Fse,{stats:P}),p.jsxs(pe.div,{className:"bg-gradient-to-br from-cyan-500/10 to-blue-500/10 backdrop-blur-sm rounded-3xl p-6 border border-cyan-500/30",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.25},children:[p.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[p.jsx("div",{className:"h-10 w-10 rounded-xl bg-cyan-500/20 flex items-center justify-center flex-shrink-0",children:p.jsx(by,{className:"h-6 w-6 text-cyan-400"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"Triple-Line Power Dialer"}),p.jsx("p",{className:"text-cyan-200 text-sm",children:"Call 3 leads at once, connect only to humans"})]})]}),p.jsxs("div",{className:"space-y-2 mb-4 text-sm text-cyan-100",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-cyan-400"}),p.jsx("span",{children:"3x faster contact rate"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-cyan-400"}),p.jsx("span",{children:"Auto-skip voicemails with AMD"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-cyan-400"}),p.jsx("span",{children:"Talk only to real humans"})]})]}),p.jsx(Qh,{to:yA("TripleLineDialing"),children:p.jsxs(Le,{className:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700",children:["Try Triple-Line Dialer",p.jsx(Nte,{className:"h-4 w-4 ml-2"})]})})]}),p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:[p.jsxs("h3",{className:"text-lg font-bold text-white mb-4",children:["Level ",X]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-900/30 rounded-xl",children:[p.jsx("span",{className:"text-purple-300 text-sm",children:"Current XP"}),p.jsx("span",{className:"text-white font-semibold",children:z%J})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-900/30 rounded-xl",children:[p.jsx("span",{className:"text-purple-300 text-sm",children:"Next Level"}),p.jsx("span",{className:"text-white font-semibold",children:J})]})]})]})]})]})]}),p.jsx(oa,{children:n&&i&&p.jsx($de,{lead:i,userStats:P,onClose:()=>r(!1),onComplete:F,onNext:L,onPrev:M,hasNext:j.length>1,hasPrev:j.length>1,sessionId:m==null?void 0:m.id,sessionManager:S.current})}),p.jsx(Lde,{points:l,isVisible:o,onComplete:()=>a(!1)}),p.jsx(yhe,{session:m,onResume:U,onDiscard:Y,open:x}),p.jsx(Hhe,{userEmail:t==null?void 0:t.email})]})}const UT=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{className:"relative w-full overflow-auto",children:p.jsx("table",{ref:n,className:He("w-full caption-bottom text-sm",t),...e})}));UT.displayName="Table";const qT=T.forwardRef(({className:t,...e},n)=>p.jsx("thead",{ref:n,className:He("[&_tr]:border-b",t),...e}));qT.displayName="TableHeader";const VT=T.forwardRef(({className:t,...e},n)=>p.jsx("tbody",{ref:n,className:He("[&_tr:last-child]:border-0",t),...e}));VT.displayName="TableBody";const Yhe=T.forwardRef(({className:t,...e},n)=>p.jsx("tfoot",{ref:n,className:He("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Yhe.displayName="TableFooter";const Pg=T.forwardRef(({className:t,...e},n)=>p.jsx("tr",{ref:n,className:He("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Pg.displayName="TableRow";const hr=T.forwardRef(({className:t,...e},n)=>p.jsx("th",{ref:n,className:He("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));hr.displayName="TableHead";const pr=T.forwardRef(({className:t,...e},n)=>p.jsx("td",{ref:n,className:He("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));pr.displayName="TableCell";const Xhe=T.forwardRef(({className:t,...e},n)=>p.jsx("caption",{ref:n,className:He("mt-4 text-sm text-muted-foreground",t),...e}));Xhe.displayName="TableCaption";const uM={new:"bg-blue-100 text-blue-700",contacted:"bg-yellow-100 text-yellow-700",interested:"bg-purple-100 text-purple-700",appointment_set:"bg-emerald-100 text-emerald-700",not_interested:"bg-slate-100 text-slate-700",no_answer:"bg-orange-100 text-orange-700"};function nz(){var K;const[t,e]=T.useState(null),[n,r]=T.useState(!1),[i,s]=T.useState(!1),[o,a]=T.useState(""),[l,u]=T.useState({name:"",phone:"",email:"",company:""}),[f,h]=T.useState(""),[m,v]=T.useState(""),[x,b]=T.useState(!1),[y,_]=T.useState(null),S=Bl();T.useEffect(()=>{e({email:"demo@example.com"})},[]);const{data:C}=Ct({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:D,error:$}=await Se.from("user_stats").select("*").eq("user_email",t.email).maybeSingle();if($&&$.code!=="PGRST116")throw $;if(!D){const{data:H,error:te}=await Se.from("user_stats").insert({user_email:t.email,total_points:0,level:1,calls_today:0,appointments_today:0,current_streak:0,best_streak:0,daily_goal:50,mascot_mood:"neutral"}).select().single();if(te)throw te;return H}return D},enabled:!!(t!=null&&t.email)}),{data:E=[],isLoading:P}=Ct({queryKey:["allLeads",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return[];const{data:D,error:$}=await Se.from("leads").select(`
          *,
          pipeline:ghl_pipelines(id, name, stages)
        `).eq("user_email",t.email).order("created_at",{ascending:!1});if($)throw $;return D||[]},enabled:!!(t!=null&&t.email)}),{data:k=[]}=Ct({queryKey:["pipelines",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return[];const{data:D,error:$}=await Se.from("ghl_pipelines").select("*").eq("user_email",t.email).order("name");if($&&$.code!=="PGRST116")throw $;return D||[]},enabled:!!(t!=null&&t.email)}),j=yl({mutationFn:async D=>{const{error:$}=await Se.from("leads").insert({...D,status:"new",call_count:0,user_email:(t==null?void 0:t.email)||"demo@example.com"});if($)throw $},onSuccess:()=>{S.invalidateQueries(["allLeads"]),S.invalidateQueries(["leads"]),r(!1),u({name:"",phone:"",email:"",company:""})},onError:D=>{alert("Failed to add lead: "+D.message)}}),N=yl({mutationFn:async D=>{const{error:$}=await Se.from("leads").delete().eq("id",D);if($)throw $},onSuccess:()=>{S.invalidateQueries(["allLeads"]),S.invalidateQueries(["leads"])},onError:D=>{alert("Failed to delete lead: "+D.message)}}),{data:I,isLoading:L,error:M}=Ct({queryKey:["ghlPipelines",t==null?void 0:t.email],queryFn:async()=>await yn("ghlGetPipelines",{userEmail:(t==null?void 0:t.email)||"demo@example.com"}),enabled:i&&!!(t!=null&&t.email)}),F=(K=I==null?void 0:I.pipelines)==null?void 0:K.find(D=>D.id===f),U=F?{stages:F.stages||[]}:null,Y=async()=>{if(!(!f||!m||!(I!=null&&I.locationId))){b(!0);try{const D=await yn("ghlImportLeads",{userEmail:(t==null?void 0:t.email)||"demo@example.com",pipelineId:f,stageId:m,locationId:I.locationId});S.invalidateQueries(["allLeads"]),S.invalidateQueries(["leads"]),s(!1),h(""),v("");let $=`Import Complete!

`;$+=`Total Opportunities Found: ${D.total}
`,$+=`Pages Fetched: ${D.pages}

`,$+=` New Leads Imported: ${D.imported}
`,$+=` Existing Leads Updated: ${D.updated}
`,D.skipped>0&&($+=`
 Skipped: ${D.skipped}
`,D.skipReasons&&($+=`
Skip Reasons:
`,Object.entries(D.skipReasons).forEach(([H,te])=>{$+=`   ${H}: ${te}
`}))),alert($)}catch(D){alert("Failed to import leads: "+D.message)}finally{b(!1)}}},X=async()=>{const D=[{name:"John Smith",phone:"+1 (555) 123-4567",email:"john@techcorp.com",company:"TechCorp Inc"},{name:"Sarah Johnson",phone:"+1 (555) 234-5678",email:"sarah@innovate.io",company:"Innovate.io"},{name:"Michael Brown",phone:"+1 (555) 345-6789",email:"michael@growthco.com",company:"GrowthCo"},{name:"Emily Davis",phone:"+1 (555) 456-7890",email:"emily@scaleup.com",company:"ScaleUp Solutions"},{name:"David Wilson",phone:"+1 (555) 567-8901",email:"david@nexgen.com",company:"NexGen Ventures"},{name:"Lisa Anderson",phone:"+1 (555) 678-9012",email:"lisa@primeco.com",company:"Prime Consulting"},{name:"James Taylor",phone:"+1 (555) 789-0123",email:"james@alphainc.com",company:"Alpha Industries"},{name:"Jennifer Martinez",phone:"+1 (555) 890-1234",email:"jennifer@betasoft.com",company:"BetaSoft"}].map($=>({...$,status:"new",call_count:0}));await Se.from("leads").insert(D),S.invalidateQueries(["allLeads"]),S.invalidateQueries(["leads"])},z=E.filter(D=>{var H,te,ce;const $=((H=D.name)==null?void 0:H.toLowerCase().includes(o.toLowerCase()))||((te=D.company)==null?void 0:te.toLowerCase().includes(o.toLowerCase()))||((ce=D.phone)==null?void 0:ce.includes(o));return y?$&&D.pipeline_id===y:$}),J=E.filter(D=>!D.pipeline_id),B=k.map(D=>({...D,leadCount:E.filter($=>$.pipeline_id===D.id).length})).filter(D=>D.leadCount>0);return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e] relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[p.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-600/20 rounded-full blur-3xl"}),p.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-indigo-600/20 rounded-full blur-3xl"})]}),p.jsxs("div",{className:"relative z-10 p-6 max-w-7xl mx-auto",children:[p.jsx(ca,{userStats:C}),p.jsx("div",{className:"mb-6",children:p.jsx(ua,{})}),p.jsxs(pe.div,{className:"flex items-center justify-between mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Leads"}),p.jsx("p",{className:"text-purple-300 mt-1",children:"Manage your sales prospects"})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs(Le,{onClick:()=>s(!0),variant:"outline",className:"rounded-xl",children:[p.jsx(one,{className:"w-4 h-4 mr-2"}),"Import from GHL"]}),p.jsxs(Le,{onClick:X,variant:"outline",className:"rounded-xl",children:[p.jsx(ere,{className:"w-4 h-4 mr-2"}),"Add Sample Leads"]}),p.jsxs(Le,{onClick:()=>r(!0),className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 rounded-xl shadow-lg shadow-indigo-500/20",children:[p.jsx(U6,{className:"w-4 h-4 mr-2"}),"Add Lead"]})]})]}),p.jsx(pe.div,{className:"mb-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:p.jsxs("div",{className:"relative",children:[p.jsx(q6,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-purple-400"}),p.jsx(Ut,{placeholder:"Search leads...",value:o,onChange:D=>a(D.target.value),className:"pl-12 h-12 rounded-2xl border-purple-500/20 bg-[#2d1f4a]/50 backdrop-blur-sm text-white placeholder:text-purple-400"})]})}),y?p.jsxs(p.Fragment,{children:[p.jsx(pe.div,{className:"mb-6",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:p.jsx(Le,{variant:"outline",onClick:()=>_(null),className:"rounded-xl text-purple-300 border-purple-500/30",children:" Back to Pipelines"})}),p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl border border-purple-500/20 overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[p.jsxs(UT,{children:[p.jsx(qT,{children:p.jsxs(Pg,{className:"border-purple-500/20",children:[p.jsx(hr,{className:"font-semibold text-purple-300",children:"Name"}),p.jsx(hr,{className:"font-semibold text-purple-300",children:"Company"}),p.jsx(hr,{className:"font-semibold text-purple-300",children:"Phone"}),p.jsx(hr,{className:"font-semibold text-purple-300",children:"Pipeline"}),p.jsx(hr,{className:"font-semibold text-purple-300",children:"Value"}),p.jsx(hr,{className:"font-semibold text-purple-300",children:"Status"}),p.jsx(hr,{className:"font-semibold text-purple-300",children:"Calls"}),p.jsx(hr,{className:"font-semibold text-purple-300 w-20"})]})}),p.jsx(VT,{children:p.jsx(oa,{children:z.map((D,$)=>{var H,te,ce,ye;return p.jsxs(pe.tr,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{delay:$*.03},className:"hover:bg-purple-900/20 transition-colors border-purple-500/20",children:[p.jsx(pr,{children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white font-semibold",children:((te=(H=D.name)==null?void 0:H[0])==null?void 0:te.toUpperCase())||"?"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-white",children:D.name}),D.email&&p.jsxs("p",{className:"text-sm text-purple-300 flex items-center gap-1",children:[p.jsx(xne,{className:"w-3 h-3"}),D.email]})]})]})}),p.jsx(pr,{children:p.jsxs("div",{className:"flex items-center gap-2 text-purple-200",children:[p.jsx(M6,{className:"w-4 h-4"}),D.company||"-"]})}),p.jsx(pr,{children:p.jsxs("div",{className:"flex items-center gap-2 text-purple-200 font-mono",children:[p.jsx(Tt,{className:"w-4 h-4"}),D.phone]})}),p.jsx(pr,{children:(ce=D.pipeline)!=null&&ce.name?p.jsx("div",{className:"flex items-center gap-2",children:p.jsxs(Hi,{variant:"outline",className:"text-emerald-400 border-emerald-500/30",children:[p.jsx(Vs,{className:"w-3 h-3 mr-1"}),D.pipeline.name]})}):p.jsx("span",{className:"text-purple-400 text-sm",children:"-"})}),p.jsx(pr,{children:D.opportunity_value?p.jsxs("div",{className:"flex items-center gap-1 text-emerald-400 font-semibold",children:[p.jsx(vu,{className:"w-4 h-4"}),parseFloat(D.opportunity_value).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}):p.jsx("span",{className:"text-purple-400 text-sm",children:"-"})}),p.jsx(pr,{children:p.jsx(Hi,{className:`${uM[D.status]} capitalize`,children:((ye=D.status)==null?void 0:ye.replace("_"," "))||"new"})}),p.jsx(pr,{children:p.jsx("span",{className:"text-purple-200",children:D.call_count||0})}),p.jsx(pr,{children:p.jsx(Le,{variant:"ghost",size:"icon",onClick:()=>N.mutate(D.id),className:"text-purple-400 hover:text-red-400",children:p.jsx(uT,{className:"w-4 h-4"})})})]},D.id)})})})]}),z.length===0&&!P&&p.jsx("div",{className:"p-12 text-center",children:p.jsx("p",{className:"text-purple-300",children:"No leads found. Add some to get started!"})})]})]}):p.jsxs(p.Fragment,{children:[p.jsx(pe.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:B.map((D,$)=>p.jsxs(pe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:$*.1},onClick:()=>_(D.id),className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20 cursor-pointer hover:border-indigo-500/40 transition-all hover:scale-105",children:[p.jsx("div",{className:"flex items-center justify-between mb-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:p.jsx(Vs,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold text-white",children:D.name}),p.jsxs("p",{className:"text-purple-300 text-sm",children:[D.leadCount," leads"]})]})]})}),p.jsx("div",{className:"p-4 bg-indigo-500/10 rounded-xl border border-indigo-500/20",children:p.jsx("p",{className:"text-indigo-300 text-sm",children:"Click to view leads in this pipeline"})})]},D.id))}),J.length>0&&p.jsxs(pe.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-xl font-bold text-white",children:"Leads Without Pipeline"}),p.jsxs(Hi,{variant:"outline",className:"text-purple-400 border-purple-500/30",children:[J.length," leads"]})]}),p.jsx("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl border border-purple-500/20 overflow-hidden",children:p.jsxs(UT,{children:[p.jsx(qT,{children:p.jsxs(Pg,{className:"border-purple-500/20",children:[p.jsx(hr,{className:"font-semibold text-purple-300",children:"Name"}),p.jsx(hr,{className:"font-semibold text-purple-300",children:"Company"}),p.jsx(hr,{className:"font-semibold text-purple-300",children:"Phone"}),p.jsx(hr,{className:"font-semibold text-purple-300",children:"Status"}),p.jsx(hr,{className:"font-semibold text-purple-300 w-20"})]})}),p.jsx(VT,{children:J.map(D=>{var $,H,te;return p.jsxs(Pg,{className:"hover:bg-purple-900/20 transition-colors border-purple-500/20",children:[p.jsx(pr,{children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white font-semibold",children:((H=($=D.name)==null?void 0:$[0])==null?void 0:H.toUpperCase())||"?"}),p.jsx("p",{className:"font-medium text-white",children:D.name})]})}),p.jsx(pr,{className:"text-purple-200",children:D.company||"-"}),p.jsx(pr,{className:"text-purple-200 font-mono",children:D.phone}),p.jsx(pr,{children:p.jsx(Hi,{className:`${uM[D.status]} capitalize`,children:((te=D.status)==null?void 0:te.replace("_"," "))||"new"})}),p.jsx(pr,{children:p.jsx(Le,{variant:"ghost",size:"icon",onClick:()=>N.mutate(D.id),className:"text-purple-400 hover:text-red-400",children:p.jsx(uT,{className:"w-4 h-4"})})})]},D.id)})})]})})]})]})]}),p.jsx(kl,{open:n,onOpenChange:r,children:p.jsxs(ea,{className:"rounded-3xl",children:[p.jsx(ta,{children:p.jsx(na,{className:"text-xl font-bold",children:"Add New Lead"})}),p.jsxs("div",{className:"space-y-4 mt-4",children:[p.jsx(Ut,{placeholder:"Full Name *",value:l.name,onChange:D=>u({...l,name:D.target.value}),className:"h-12 rounded-xl"}),p.jsx(Ut,{placeholder:"Phone Number *",value:l.phone,onChange:D=>u({...l,phone:D.target.value}),className:"h-12 rounded-xl"}),p.jsx(Ut,{placeholder:"Email",type:"email",value:l.email,onChange:D=>u({...l,email:D.target.value}),className:"h-12 rounded-xl"}),p.jsx(Ut,{placeholder:"Company",value:l.company,onChange:D=>u({...l,company:D.target.value}),className:"h-12 rounded-xl"}),(!l.name||!l.phone)&&p.jsx("p",{className:"text-red-500 text-sm",children:"* Name and Phone are required"}),p.jsx(Le,{onClick:()=>j.mutate(l),disabled:!l.name||!l.phone||j.isPending,className:"w-full h-12 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:j.isPending?"Adding...":"Add Lead"})]})]})}),p.jsx(kl,{open:i,onOpenChange:s,children:p.jsxs(ea,{className:"rounded-3xl",children:[p.jsx(ta,{children:p.jsx(na,{className:"text-xl font-bold",children:"Import from GoHighLevel"})}),p.jsx("div",{className:"space-y-4 mt-4",children:L?p.jsx("div",{className:"py-8 text-center",children:p.jsx("p",{className:"text-slate-500",children:"Loading pipelines..."})}):I!=null&&I.pipelines?p.jsxs(p.Fragment,{children:[p.jsx("div",{children:p.jsxs("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:["Location: ",I.locationName]})}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Select Pipeline"}),p.jsxs("select",{value:f,onChange:D=>{h(D.target.value),v("")},className:"w-full h-12 rounded-xl border border-slate-200 px-4 bg-white",children:[p.jsx("option",{value:"",children:"Choose a pipeline..."}),I.pipelines.map(D=>p.jsx("option",{value:D.id,children:D.name},D.id))]})]}),f&&p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Select Stage"}),U!=null&&U.stages&&U.stages.length>0?p.jsxs("select",{value:m,onChange:D=>v(D.target.value),className:"w-full h-12 rounded-xl border border-slate-200 px-4 bg-white",children:[p.jsx("option",{value:"",children:"Choose a stage..."}),U.stages.map(D=>p.jsx("option",{value:D.id,children:D.name},D.id))]}):p.jsx("div",{className:"w-full h-12 rounded-xl border border-amber-200 px-4 bg-amber-50 flex items-center text-amber-700",children:"No stages found for this pipeline"})]}),p.jsx(Le,{onClick:Y,disabled:!f||!m||x,className:"w-full h-12 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Importing All Leads...":"Import Leads"})]}):p.jsxs("div",{className:"py-8 text-center space-y-2",children:[p.jsx("p",{className:"text-red-500 font-medium",children:"Failed to load pipelines from GoHighLevel"}),M&&p.jsx("p",{className:"text-sm text-slate-500",children:M.message||"Please check your GHL API credentials"})]})})]})})]})}const Ec={0:{bg:"bg-gradient-to-br from-yellow-400 to-amber-500",ring:"ring-yellow-400"},1:{bg:"bg-gradient-to-br from-slate-300 to-slate-400",ring:"ring-slate-300"},2:{bg:"bg-gradient-to-br from-amber-600 to-orange-700",ring:"ring-amber-500"}},Qhe={bronze:{bg:"bg-gradient-to-br from-amber-700 to-orange-800",border:"border-amber-700",text:"text-amber-700",icon:lT},silver:{bg:"bg-gradient-to-br from-slate-300 to-slate-500",border:"border-slate-400",text:"text-slate-400",icon:Ko},gold:{bg:"bg-gradient-to-br from-yellow-400 to-amber-500",border:"border-yellow-500",text:"text-yellow-500",icon:Yg},platinum:{bg:"bg-gradient-to-br from-cyan-300 to-blue-500",border:"border-cyan-400",text:"text-cyan-400",icon:Hg},diamond:{bg:"bg-gradient-to-br from-blue-400 to-purple-600",border:"border-purple-500",text:"text-purple-400",icon:Hg}};function rz(){var l,u,f,h,m,v,x,b,y,_,S,C,E,P;const[t,e]=T.useState(null);T.useEffect(()=>{(async()=>{e({email:"demo@example.com"})})()},[]);const{data:n}=Ct({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:k,error:j}=await Se.from("user_stats").select().eq("user_email",t.email).maybeSingle();if(j&&j.code!=="PGRST116")throw j;if(!k){const{data:N,error:I}=await Se.from("user_stats").insert({user_email:t.email,total_points:0,level:1,calls_today:0,appointments_today:0,current_streak:0,best_streak:0,daily_goal:50,mascot_mood:"neutral"}).select().single();if(I)throw I;return N}return k},enabled:!!(t!=null&&t.email)}),{data:r=[]}=Ct({queryKey:["leaderboard"],queryFn:async()=>{const{data:k,error:j}=await Se.from("user_stats").select().order("total_points",{ascending:!1});if(j)throw j;return k||[]}}),{data:i=[]}=Ct({queryKey:["rankings"],queryFn:async()=>{await Se.rpc("calculate_user_rankings").catch(()=>{});const{data:k,error:j}=await Se.from("user_rankings").select().order("rank_position",{ascending:!0});if(j&&j.code!=="PGRST116")throw j;return k||[]}}),s=r.slice(0,3),o=r.slice(3),a={totalCalls:r.reduce((k,j)=>k+(j.calls_today||0),0),totalAppointments:r.reduce((k,j)=>k+(j.appointments_today||0),0),totalPoints:r.reduce((k,j)=>k+(j.total_points||0),0),totalCashCollected:r.reduce((k,j)=>k+(j.cash_collected||0),0),averageStreak:r.length>0?(r.reduce((k,j)=>k+(j.current_streak||0),0)/r.length).toFixed(1):0,teamMembers:r.length,topPerformer:((u=(l=r[0])==null?void 0:l.user_email)==null?void 0:u.split("@")[0])||"N/A",conversionRate:r.reduce((k,j)=>k+(j.calls_today||0),0)>0?(r.reduce((k,j)=>k+(j.appointments_today||0),0)/r.reduce((k,j)=>k+(j.calls_today||0),0)*100).toFixed(1):0};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e] p-6",children:[p.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[p.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-600/20 rounded-full blur-3xl"}),p.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-indigo-600/20 rounded-full blur-3xl"})]}),p.jsxs("div",{className:"relative z-10 p-6 max-w-7xl mx-auto",children:[p.jsx(ca,{userStats:n}),p.jsx("div",{className:"mb-6",children:p.jsx(ua,{})}),p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs(pe.div,{className:"mb-10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[p.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[p.jsx(Yg,{className:"w-8 h-8 text-amber-500"}),"Team Leaderboard"]}),p.jsx("p",{className:"text-purple-300 mt-1",children:"Rankings and performance metrics"})]}),p.jsxs(pe.div,{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[p.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx(Tt,{className:"w-5 h-5 text-indigo-400"}),p.jsx("span",{className:"text-purple-300 text-sm",children:"Total Calls"})]}),p.jsx("p",{className:"text-3xl font-bold text-white",children:a.totalCalls}),p.jsxs("p",{className:"text-xs text-purple-400 mt-1",children:[a.teamMembers," members"]})]}),p.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx(cT,{className:"w-5 h-5 text-green-400"}),p.jsx("span",{className:"text-purple-300 text-sm",children:"Appointments"})]}),p.jsx("p",{className:"text-3xl font-bold text-white",children:a.totalAppointments}),p.jsxs("p",{className:"text-xs text-purple-400 mt-1",children:[a.conversionRate,"% conversion"]})]}),p.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-emerald-500/20",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx(vu,{className:"w-5 h-5 text-emerald-400"}),p.jsx("span",{className:"text-purple-300 text-sm",children:"Cash Collected"})]}),p.jsxs("p",{className:"text-3xl font-bold text-emerald-400",children:["$",a.totalCashCollected.toLocaleString()]}),p.jsx("p",{className:"text-xs text-emerald-300 mt-1",children:"Team revenue"})]}),p.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx(Vs,{className:"w-5 h-5 text-amber-400"}),p.jsx("span",{className:"text-purple-300 text-sm",children:"Total Points"})]}),p.jsx("p",{className:"text-3xl font-bold text-white",children:a.totalPoints.toLocaleString()}),p.jsx("p",{className:"text-xs text-purple-400 mt-1",children:"Team score"})]}),p.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx(Gg,{className:"w-5 h-5 text-orange-400"}),p.jsx("span",{className:"text-purple-300 text-sm",children:"Avg Streak"})]}),p.jsx("p",{className:"text-3xl font-bold text-white",children:a.averageStreak}),p.jsx("p",{className:"text-xs text-purple-400 mt-1",children:"days active"})]})]}),p.jsxs(pe.div,{className:"flex items-end justify-center gap-4 mb-12 h-80",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[s[1]&&p.jsxs(pe.div,{className:"flex flex-col items-center",initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:[p.jsx("div",{className:`w-20 h-20 rounded-full ${Ec[1].bg} flex items-center justify-center text-white text-2xl font-bold shadow-xl mb-3 ring-4 ${Ec[1].ring}`,children:((h=(f=s[1].user_email)==null?void 0:f[0])==null?void 0:h.toUpperCase())||"2"}),p.jsx("p",{className:"font-semibold text-white text-sm truncate max-w-24",children:(m=s[1].user_email)==null?void 0:m.split("@")[0]}),p.jsx("p",{className:"text-lg font-bold text-white",children:(v=s[1].total_points)==null?void 0:v.toLocaleString()}),p.jsx("div",{className:"w-28 h-32 bg-gradient-to-t from-slate-700 to-slate-600 rounded-t-xl mt-3 flex items-center justify-center",children:p.jsx("span",{className:"text-4xl font-bold text-slate-400",children:"2"})})]}),s[0]&&p.jsxs(pe.div,{className:"flex flex-col items-center",initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[p.jsx(pe.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:p.jsx("div",{className:`w-24 h-24 rounded-full ${Ec[0].bg} flex items-center justify-center text-white text-3xl font-bold shadow-2xl mb-3 ring-4 ${Ec[0].ring}`,children:((b=(x=s[0].user_email)==null?void 0:x[0])==null?void 0:b.toUpperCase())||"1"})}),p.jsx("p",{className:"font-semibold text-white truncate max-w-28",children:(y=s[0].user_email)==null?void 0:y.split("@")[0]}),p.jsx("p",{className:"text-xl font-bold text-white",children:(_=s[0].total_points)==null?void 0:_.toLocaleString()}),p.jsx("div",{className:"w-32 h-44 bg-gradient-to-t from-amber-500 to-yellow-500 rounded-t-xl mt-3 flex items-center justify-center shadow-lg",children:p.jsx("span",{className:"text-5xl font-bold text-amber-900",children:"1"})})]}),s[2]&&p.jsxs(pe.div,{className:"flex flex-col items-center",initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},children:[p.jsx("div",{className:`w-18 h-18 rounded-full ${Ec[2].bg} flex items-center justify-center text-white text-xl font-bold shadow-xl mb-3 ring-4 ${Ec[2].ring}`,children:((C=(S=s[2].user_email)==null?void 0:S[0])==null?void 0:C.toUpperCase())||"3"}),p.jsx("p",{className:"font-semibold text-white text-sm truncate max-w-24",children:(E=s[2].user_email)==null?void 0:E.split("@")[0]}),p.jsx("p",{className:"text-lg font-bold text-white",children:(P=s[2].total_points)==null?void 0:P.toLocaleString()}),p.jsx("div",{className:"w-28 h-24 bg-gradient-to-t from-orange-700 to-amber-700 rounded-t-xl mt-3 flex items-center justify-center",children:p.jsx("span",{className:"text-4xl font-bold text-orange-400",children:"3"})})]})]}),o.length>0&&p.jsx(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-xl rounded-3xl border border-purple-500/20 overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:o.map((k,j)=>{var I,L,M,F,U;const N=k.user_email===(t==null?void 0:t.email);return p.jsxs(pe.div,{className:`flex items-center p-4 border-b border-purple-500/10 last:border-0 ${N?"bg-purple-900/30":""}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+j*.05},children:[p.jsx("span",{className:"w-8 text-lg font-bold text-purple-400",children:j+4}),p.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-semibold mr-4",children:((L=(I=k.user_email)==null?void 0:I[0])==null?void 0:L.toUpperCase())||"?"}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("p",{className:"font-semibold text-white",children:[(M=k.user_email)==null?void 0:M.split("@")[0],N&&p.jsx("span",{className:"text-purple-400 ml-2",children:"(You)"})]}),p.jsxs("div",{className:"flex items-center gap-3 text-sm text-purple-300 mt-1",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(Tt,{className:"w-3 h-3"}),k.calls_today||0]}),p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(cT,{className:"w-3 h-3"}),k.appointments_today||0]}),p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(vu,{className:"w-3 h-3 text-emerald-400"}),"$",((F=k.cash_collected)==null?void 0:F.toLocaleString())||0]}),p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(Gg,{className:"w-3 h-3 text-orange-500"}),k.current_streak||0]}),p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(lT,{className:"w-3 h-3 text-purple-400"}),"Lvl ",k.level||1]})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-xl font-bold text-white",children:(U=k.total_points)==null?void 0:U.toLocaleString()}),p.jsx("p",{className:"text-sm text-purple-400",children:"XP"})]})]},k.id)})}),r.length===0&&p.jsxs(pe.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},children:[p.jsx(Yg,{className:"w-16 h-16 text-purple-500/30 mx-auto mb-4"}),p.jsx("p",{className:"text-purple-300",children:"Start making calls to appear on the leaderboard!"})]}),i.length>0&&p.jsxs(pe.div,{className:"mt-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:[p.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[p.jsx(lT,{className:"w-6 h-6 text-purple-400"}),"Success Ratio Rankings"]}),p.jsx("p",{className:"text-purple-300 text-sm mb-6",children:"Rankings based on appointment success rate. Higher tiers indicate better conversion rates."}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map((k,j)=>{var M;const N=k.rank_tier||"bronze",I=Qhe[N],L=I.icon;return p.jsxs(pe.div,{className:`bg-[#2d1f4a]/50 backdrop-blur-sm rounded-xl p-4 border-2 ${I.border}`,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.8+j*.05},children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`w-10 h-10 rounded-full ${I.bg} flex items-center justify-center`,children:p.jsx(L,{className:"w-5 h-5 text-white"})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-white text-sm",children:(M=k.user_email)==null?void 0:M.split("@")[0]}),p.jsx("p",{className:`text-xs font-bold ${I.text} uppercase`,children:N})]})]}),p.jsx("div",{className:"text-right",children:p.jsxs("p",{className:"text-sm font-bold text-white",children:["#",k.rank_position]})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-xs text-purple-300",children:"Success Rate:"}),p.jsxs("span",{className:"text-sm font-bold text-emerald-400",children:[k.success_ratio||0,"%"]})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-xs text-purple-300",children:"Total Calls:"}),p.jsx("span",{className:"text-sm font-semibold text-white",children:k.total_calls||0})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-xs text-purple-300",children:"Appointments:"}),p.jsx("span",{className:"text-sm font-semibold text-white",children:k.successful_calls||0})]})]}),p.jsx("div",{className:"mt-3 pt-3 border-t border-purple-500/20",children:p.jsx("div",{className:"w-full bg-slate-700 rounded-full h-1.5 overflow-hidden",children:p.jsx(pe.div,{initial:{width:0},animate:{width:`${Math.min(k.success_ratio||0,100)}%`},transition:{duration:1,delay:.8+j*.05},className:I.bg.replace("bg-gradient-to-br","bg-gradient-to-r"),style:{height:"100%"}})})})]},k.id)})}),p.jsxs(pe.div,{className:"mt-6 bg-[#2d1f4a]/30 backdrop-blur-sm rounded-xl p-4 border border-purple-500/20",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},children:[p.jsx("p",{className:"text-sm font-semibold text-purple-300 mb-3",children:"Tier Requirements:"}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-xs",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-amber-700 to-orange-800"}),p.jsx("span",{className:"text-purple-200",children:"Bronze: <10%"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-slate-300 to-slate-500"}),p.jsx("span",{className:"text-purple-200",children:"Silver: 10-15%"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-yellow-400 to-amber-500"}),p.jsx("span",{className:"text-purple-200",children:"Gold: 15-20%"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-cyan-300 to-blue-500"}),p.jsx("span",{className:"text-purple-200",children:"Platinum: 20-30%"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-blue-400 to-purple-600"}),p.jsx("span",{className:"text-purple-200",children:"Diamond: 30%+"})]})]})]})]})]})]})]})}function Ac({title:t,value:e,icon:n,trend:r,trendValue:i,delay:s=0}){const o=i>=0;return p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20 relative overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s},children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsx("div",{className:"w-10 h-10 bg-purple-500/20 rounded-xl flex items-center justify-center",children:p.jsx(n,{className:"w-5 h-5 text-purple-400"})}),r&&p.jsxs("div",{className:`flex items-center gap-1 text-xs font-semibold ${o?"text-emerald-400":"text-red-400"}`,children:[o?p.jsx(Vs,{className:"w-3 h-3"}):p.jsx(Xne,{className:"w-3 h-3"}),r]})]}),p.jsx("div",{className:"text-4xl font-bold text-white mb-1",children:e}),p.jsx("div",{className:"text-purple-300 text-sm",children:t})]})}var iw,dM;function _r(){if(dM)return iw;dM=1;var t=Array.isArray;return iw=t,iw}var sw,fM;function iz(){if(fM)return sw;fM=1;var t=typeof xm=="object"&&xm&&xm.Object===Object&&xm;return sw=t,sw}var ow,hM;function ls(){if(hM)return ow;hM=1;var t=iz(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return ow=n,ow}var aw,pM;function sp(){if(pM)return aw;pM=1;var t=ls(),e=t.Symbol;return aw=e,aw}var lw,mM;function Jhe(){if(mM)return lw;mM=1;var t=sp(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var f=r.call(o);return u&&(a?o[i]=l:delete o[i]),f}return lw=s,lw}var cw,gM;function Zhe(){if(gM)return cw;gM=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return cw=n,cw}var uw,vM;function to(){if(vM)return uw;vM=1;var t=sp(),e=Jhe(),n=Zhe(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):n(a)}return uw=o,uw}var dw,yM;function no(){if(yM)return dw;yM=1;function t(e){return e!=null&&typeof e=="object"}return dw=t,dw}var fw,bM;function ld(){if(bM)return fw;bM=1;var t=to(),e=no(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return fw=r,fw}var hw,xM;function GA(){if(xM)return hw;xM=1;var t=_r(),e=ld(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(t(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return hw=i,hw}var pw,wM;function ha(){if(wM)return pw;wM=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return pw=t,pw}var mw,_M;function KA(){if(_M)return mw;_M=1;var t=to(),e=ha(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var l=t(a);return l==r||l==i||l==n||l==s}return mw=o,mw}var gw,SM;function epe(){if(SM)return gw;SM=1;var t=ls(),e=t["__core-js_shared__"];return gw=e,gw}var vw,CM;function tpe(){if(CM)return vw;CM=1;var t=epe(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return vw=n,vw}var yw,TM;function sz(){if(TM)return yw;TM=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return yw=n,yw}var bw,PM;function npe(){if(PM)return bw;PM=1;var t=KA(),e=tpe(),n=ha(),r=sz(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,u=a.hasOwnProperty,f=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!n(m)||e(m))return!1;var v=t(m)?f:s;return v.test(r(m))}return bw=h,bw}var xw,EM;function rpe(){if(EM)return xw;EM=1;function t(e,n){return e==null?void 0:e[n]}return xw=t,xw}var ww,AM;function ql(){if(AM)return ww;AM=1;var t=npe(),e=rpe();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return ww=n,ww}var _w,kM;function Dy(){if(kM)return _w;kM=1;var t=ql(),e=t(Object,"create");return _w=e,_w}var Sw,jM;function ipe(){if(jM)return Sw;jM=1;var t=Dy();function e(){this.__data__=t?t(null):{},this.size=0}return Sw=e,Sw}var Cw,OM;function spe(){if(OM)return Cw;OM=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Cw=t,Cw}var Tw,NM;function ope(){if(NM)return Tw;NM=1;var t=Dy(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(t){var a=o[s];return a===e?void 0:a}return r.call(o,s)?o[s]:void 0}return Tw=i,Tw}var Pw,RM;function ape(){if(RM)return Pw;RM=1;var t=Dy(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return Pw=r,Pw}var Ew,IM;function lpe(){if(IM)return Ew;IM=1;var t=Dy(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return Ew=n,Ew}var Aw,MM;function cpe(){if(MM)return Aw;MM=1;var t=ipe(),e=spe(),n=ope(),r=ape(),i=lpe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Aw=s,Aw}var kw,DM;function upe(){if(DM)return kw;DM=1;function t(){this.__data__=[],this.size=0}return kw=t,kw}var jw,$M;function YA(){if($M)return jw;$M=1;function t(e,n){return e===n||e!==e&&n!==n}return jw=t,jw}var Ow,LM;function $y(){if(LM)return Ow;LM=1;var t=YA();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Ow=e,Ow}var Nw,FM;function dpe(){if(FM)return Nw;FM=1;var t=$y(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return Nw=r,Nw}var Rw,BM;function fpe(){if(BM)return Rw;BM=1;var t=$y();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Rw=e,Rw}var Iw,UM;function hpe(){if(UM)return Iw;UM=1;var t=$y();function e(n){return t(this.__data__,n)>-1}return Iw=e,Iw}var Mw,qM;function ppe(){if(qM)return Mw;qM=1;var t=$y();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Mw=e,Mw}var Dw,VM;function Ly(){if(VM)return Dw;VM=1;var t=upe(),e=dpe(),n=fpe(),r=hpe(),i=ppe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Dw=s,Dw}var $w,WM;function XA(){if(WM)return $w;WM=1;var t=ql(),e=ls(),n=t(e,"Map");return $w=n,$w}var Lw,zM;function mpe(){if(zM)return Lw;zM=1;var t=cpe(),e=Ly(),n=XA();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Lw=r,Lw}var Fw,HM;function gpe(){if(HM)return Fw;HM=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Fw=t,Fw}var Bw,GM;function Fy(){if(GM)return Bw;GM=1;var t=gpe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Bw=e,Bw}var Uw,KM;function vpe(){if(KM)return Uw;KM=1;var t=Fy();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Uw=e,Uw}var qw,YM;function ype(){if(YM)return qw;YM=1;var t=Fy();function e(n){return t(this,n).get(n)}return qw=e,qw}var Vw,XM;function bpe(){if(XM)return Vw;XM=1;var t=Fy();function e(n){return t(this,n).has(n)}return Vw=e,Vw}var Ww,QM;function xpe(){if(QM)return Ww;QM=1;var t=Fy();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return Ww=e,Ww}var zw,JM;function QA(){if(JM)return zw;JM=1;var t=mpe(),e=vpe(),n=ype(),r=bpe(),i=xpe();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,zw=s,zw}var Hw,ZM;function oz(){if(ZM)return Hw;ZM=1;var t=QA(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],l=s.cache;if(l.has(a))return l.get(a);var u=r.apply(this,o);return s.cache=l.set(a,u)||l,u};return s.cache=new(n.Cache||t),s}return n.Cache=t,Hw=n,Hw}var Gw,eD;function wpe(){if(eD)return Gw;eD=1;var t=oz(),e=500;function n(r){var i=t(r,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return Gw=n,Gw}var Kw,tD;function _pe(){if(tD)return Kw;tD=1;var t=wpe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,a,l,u){s.push(l?u.replace(n,"$1"):a||o)}),s});return Kw=r,Kw}var Yw,nD;function JA(){if(nD)return Yw;nD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return Yw=t,Yw}var Xw,rD;function Spe(){if(rD)return Xw;rD=1;var t=sp(),e=JA(),n=_r(),r=ld(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(n(a))return e(a,o)+"";if(r(a))return s?s.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return Xw=o,Xw}var Qw,iD;function az(){if(iD)return Qw;iD=1;var t=Spe();function e(n){return n==null?"":t(n)}return Qw=e,Qw}var Jw,sD;function lz(){if(sD)return Jw;sD=1;var t=_r(),e=GA(),n=_pe(),r=az();function i(s,o){return t(s)?s:e(s,o)?[s]:n(r(s))}return Jw=i,Jw}var Zw,oD;function By(){if(oD)return Zw;oD=1;var t=ld();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Zw=e,Zw}var e_,aD;function ZA(){if(aD)return e_;aD=1;var t=lz(),e=By();function n(r,i){i=t(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[e(i[s++])];return s&&s==o?r:void 0}return e_=n,e_}var t_,lD;function cz(){if(lD)return t_;lD=1;var t=ZA();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return t_=e,t_}var Cpe=cz();const Dr=at(Cpe);var n_,cD;function Tpe(){if(cD)return n_;cD=1;function t(e){return e==null}return n_=t,n_}var Ppe=Tpe();const Xe=at(Ppe);var r_,uD;function Epe(){if(uD)return r_;uD=1;var t=to(),e=_r(),n=no(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return r_=i,r_}var Ape=Epe();const Il=at(Ape);var kpe=KA();const Ve=at(kpe);var jpe=ha();const cd=at(jpe);var i_={exports:{}},ht={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dD;function Ope(){if(dD)return ht;dD=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function b(y){if(typeof y=="object"&&y!==null){var _=y.$$typeof;switch(_){case t:switch(y=y.type,y){case n:case i:case r:case u:case f:return y;default:switch(y=y&&y.$$typeof,y){case a:case o:case l:case m:case h:case s:return y;default:return _}}case e:return _}}}return ht.ContextConsumer=o,ht.ContextProvider=s,ht.Element=t,ht.ForwardRef=l,ht.Fragment=n,ht.Lazy=m,ht.Memo=h,ht.Portal=e,ht.Profiler=i,ht.StrictMode=r,ht.Suspense=u,ht.SuspenseList=f,ht.isAsyncMode=function(){return!1},ht.isConcurrentMode=function(){return!1},ht.isContextConsumer=function(y){return b(y)===o},ht.isContextProvider=function(y){return b(y)===s},ht.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},ht.isForwardRef=function(y){return b(y)===l},ht.isFragment=function(y){return b(y)===n},ht.isLazy=function(y){return b(y)===m},ht.isMemo=function(y){return b(y)===h},ht.isPortal=function(y){return b(y)===e},ht.isProfiler=function(y){return b(y)===i},ht.isStrictMode=function(y){return b(y)===r},ht.isSuspense=function(y){return b(y)===u},ht.isSuspenseList=function(y){return b(y)===f},ht.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===r||y===u||y===f||y===v||typeof y=="object"&&y!==null&&(y.$$typeof===m||y.$$typeof===h||y.$$typeof===s||y.$$typeof===o||y.$$typeof===l||y.$$typeof===x||y.getModuleId!==void 0)},ht.typeOf=b,ht}var fD;function Npe(){return fD||(fD=1,i_.exports=Ope()),i_.exports}var Rpe=Npe(),s_,hD;function uz(){if(hD)return s_;hD=1;var t=to(),e=no(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return s_=r,s_}var o_,pD;function Ipe(){if(pD)return o_;pD=1;var t=uz();function e(n){return t(n)&&n!=+n}return o_=e,o_}var Mpe=Ipe();const ud=at(Mpe);var Dpe=uz();const $pe=at(Dpe);var rr=function(e){return e===0?0:e>0?1:-1},nl=function(e){return Il(e)&&e.indexOf("%")===e.length-1},de=function(e){return $pe(e)&&!ud(e)},Lpe=function(e){return Xe(e)},wn=function(e){return de(e)||Il(e)},Fpe=0,dd=function(e){var n=++Fpe;return"".concat(e||"").concat(n)},ir=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(e)&&!Il(e))return r;var s;if(nl(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return ud(s)&&(s=r),i&&s>n&&(s=n),s},Mo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Bpe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},yr=function(e,n){return de(e)&&de(n)?function(r){return e+r*(n-e)}:function(){return n}};function uv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Dr(r,e))===n})}var Upe=function(e,n){return de(e)&&de(n)?e-n:Il(e)&&Il(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Qc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function WT(t){"@babel/helpers - typeof";return WT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WT(t)}var qpe=["viewBox","children"],Vpe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],mD=["points","pathLength"],a_={svg:qpe,polygon:mD,polyline:mD},ek=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],dv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(T.isValidElement(e)&&(r=e.props),!cd(r))return null;var i={};return Object.keys(r).forEach(function(s){ek.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},Wpe=function(e,n,r){return function(i){return e(n,r,i),null}},Ml=function(e,n,r){if(!cd(e)||WT(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];ek.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=Wpe(o,n,r))}),i},zpe=["children"],Hpe=["children"];function gD(t,e){if(t==null)return{};var n=Gpe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zT(t){"@babel/helpers - typeof";return zT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zT(t)}var vD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},$s=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},yD=null,l_=null,tk=function t(e){if(e===yD&&Array.isArray(l_))return l_;var n=[];return T.Children.forEach(e,function(r){Xe(r)||(Rpe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),l_=n,yD=e,n};function ii(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return $s(i)}):r=[$s(e)],tk(t).forEach(function(i){var s=Dr(i,"type.displayName")||Dr(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Or(t,e){var n=ii(t,e);return n&&n[0]}var bD=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!de(r)||r<=0||!de(i)||i<=0)},Kpe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ype=function(e){return e&&e.type&&Il(e.type)&&Kpe.indexOf(e.type)>=0},Xpe=function(e){return e&&zT(e)==="object"&&"clipDot"in e},Qpe=function(e,n,r,i){var s,o=(s=a_==null?void 0:a_[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Ve(e)&&(i&&o.includes(n)||Vpe.includes(n))||r&&ek.includes(n)},Me=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(T.isValidElement(e)&&(i=e.props),!cd(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;Qpe((a=i)===null||a===void 0?void 0:a[o],o,n,r)&&(s[o]=i[o])}),s},HT=function t(e,n){if(e===n)return!0;var r=T.Children.count(e);if(r!==T.Children.count(n))return!1;if(r===0)return!0;if(r===1)return xD(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!xD(s,o))return!1}return!0},xD=function(e,n){if(Xe(e)&&Xe(n))return!0;if(!Xe(e)&&!Xe(n)){var r=e.props||{},i=r.children,s=gD(r,zpe),o=n.props||{},a=o.children,l=gD(o,Hpe);return i&&a?Qc(s,l)&&HT(i,a):!i&&!a?Qc(s,l):!1}return!1},wD=function(e,n){var r=[],i={};return tk(e).forEach(function(s,o){if(Ype(s))r.push(s);else if(s){var a=$s(s.type),l=n[a]||{},u=l.handler,f=l.once;if(u&&(!f||!i[a])){var h=u(s,a,o);r.push(h),i[a]=!0}}}),r},Jpe=function(e){var n=e&&e.type;return n&&vD[n]?vD[n]:null},Zpe=function(e,n){return tk(n).indexOf(e)},eme=["children","width","height","viewBox","className","style","title","desc"];function GT(){return GT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GT.apply(this,arguments)}function tme(t,e){if(t==null)return{};var n=nme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KT(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,a=t.title,l=t.desc,u=tme(t,eme),f=i||{width:n,height:r,x:0,y:0},h=Ye("recharts-surface",s);return V.createElement("svg",GT({},Me(u,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),V.createElement("title",null,a),V.createElement("desc",null,l),e)}var rme=["children","className"];function YT(){return YT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YT.apply(this,arguments)}function ime(t,e){if(t==null)return{};var n=sme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var it=V.forwardRef(function(t,e){var n=t.children,r=t.className,i=ime(t,rme),s=Ye("recharts-layer",r);return V.createElement("g",YT({className:s},Me(i,!0),{ref:e}),n)}),ki=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},c_,_D;function ome(){if(_D)return c_;_D=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+n];return o}return c_=t,c_}var u_,SD;function ame(){if(SD)return u_;SD=1;var t=ome();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return u_=e,u_}var d_,CD;function dz(){if(CD)return d_;CD=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+t+i+s+"]");function l(u){return a.test(u)}return d_=l,d_}var f_,TD;function lme(){if(TD)return f_;TD=1;function t(e){return e.split("")}return f_=t,f_}var h_,PD;function cme(){if(PD)return h_;PD=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="["+t+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",f="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",x=u+"?",b="["+s+"]?",y="(?:"+v+"(?:"+[f,h,m].join("|")+")"+b+x+")*",_=b+x+y,S="(?:"+[f+a+"?",a,h,m,o].join("|")+")",C=RegExp(l+"(?="+l+")|"+S+_,"g");function E(P){return P.match(C)||[]}return h_=E,h_}var p_,ED;function ume(){if(ED)return p_;ED=1;var t=lme(),e=dz(),n=cme();function r(i){return e(i)?n(i):t(i)}return p_=r,p_}var m_,AD;function dme(){if(AD)return m_;AD=1;var t=ame(),e=dz(),n=ume(),r=az();function i(s){return function(o){o=r(o);var a=e(o)?n(o):void 0,l=a?a[0]:o.charAt(0),u=a?t(a,1).join(""):o.slice(1);return l[s]()+u}}return m_=i,m_}var g_,kD;function fme(){if(kD)return g_;kD=1;var t=dme(),e=t("toUpperCase");return g_=e,g_}var hme=fme();const Uy=at(hme);function Nt(t){return function(){return t}}const fz=Math.cos,fv=Math.sin,Mi=Math.sqrt,hv=Math.PI,qy=2*hv,XT=Math.PI,QT=2*XT,Wa=1e-6,pme=QT-Wa;function hz(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function mme(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return hz;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class gme{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?hz:mme(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,u=i-n,f=o-e,h=a-n,m=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>Wa)if(!(Math.abs(h*l-u*f)>Wa)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-o,x=i-a,b=l*l+u*u,y=v*v+x*x,_=Math.sqrt(b),S=Math.sqrt(m),C=s*Math.tan((XT-Math.acos((b+m-y)/(2*_*S)))/2),E=C/S,P=C/_;Math.abs(E-1)>Wa&&this._append`L${e+E*f},${n+E*h}`,this._append`A${s},${s},0,0,${+(h*v>f*x)},${this._x1=e+P*l},${this._y1=n+P*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,f=n+l,h=1^o,m=o?i-s:s-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Wa||Math.abs(this._y1-f)>Wa)&&this._append`L${u},${f}`,r&&(m<0&&(m=m%QT+QT),m>pme?this._append`A${r},${r},0,1,${h},${e-a},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=f}`:m>Wa&&this._append`A${r},${r},0,${+(m>=XT)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function nk(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new gme(e)}function rk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function pz(t){this._context=t}pz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Vy(t){return new pz(t)}function mz(t){return t[0]}function gz(t){return t[1]}function vz(t,e){var n=Nt(!0),r=null,i=Vy,s=null,o=nk(a);t=typeof t=="function"?t:t===void 0?mz:Nt(t),e=typeof e=="function"?e:e===void 0?gz:Nt(e);function a(l){var u,f=(l=rk(l)).length,h,m=!1,v;for(r==null&&(s=i(v=o())),u=0;u<=f;++u)!(u<f&&n(h=l[u],u,l))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(h,u,l),+e(h,u,l));if(v)return s=null,v+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Nt(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Nt(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Nt(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function Ym(t,e,n){var r=null,i=Nt(!0),s=null,o=Vy,a=null,l=nk(u);t=typeof t=="function"?t:t===void 0?mz:Nt(+t),e=typeof e=="function"?e:Nt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?gz:Nt(+n);function u(h){var m,v,x,b=(h=rk(h)).length,y,_=!1,S,C=new Array(b),E=new Array(b);for(s==null&&(a=o(S=l())),m=0;m<=b;++m){if(!(m<b&&i(y=h[m],m,h))===_)if(_=!_)v=m,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),x=m-1;x>=v;--x)a.point(C[x],E[x]);a.lineEnd(),a.areaEnd()}_&&(C[m]=+t(y,m,h),E[m]=+e(y,m,h),a.point(r?+r(y,m,h):C[m],n?+n(y,m,h):E[m]))}if(S)return a=null,S+""||null}function f(){return vz().defined(i).curve(o).context(s)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Nt(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Nt(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Nt(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Nt(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Nt(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Nt(+h),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Nt(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,s!=null&&(a=o(s)),u):o},u.context=function(h){return arguments.length?(h==null?s=a=null:a=o(s=h),u):s},u}class yz{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function vme(t){return new yz(t,!0)}function yme(t){return new yz(t,!1)}const ik={draw(t,e){const n=Mi(e/hv);t.moveTo(n,0),t.arc(0,0,n,0,qy)}},bme={draw(t,e){const n=Mi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},bz=Mi(1/3),xme=bz*2,wme={draw(t,e){const n=Mi(e/xme),r=n*bz;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},_me={draw(t,e){const n=Mi(e),r=-n/2;t.rect(r,r,n,n)}},Sme=.8908130915292852,xz=fv(hv/10)/fv(7*hv/10),Cme=fv(qy/10)*xz,Tme=-fz(qy/10)*xz,Pme={draw(t,e){const n=Mi(e*Sme),r=Cme*n,i=Tme*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=qy*s/5,a=fz(o),l=fv(o);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},v_=Mi(3),Eme={draw(t,e){const n=-Mi(e/(v_*3));t.moveTo(0,n*2),t.lineTo(-v_*n,-n),t.lineTo(v_*n,-n),t.closePath()}},zr=-.5,Hr=Mi(3)/2,JT=1/Mi(12),Ame=(JT/2+1)*3,kme={draw(t,e){const n=Mi(e/Ame),r=n/2,i=n*JT,s=r,o=n*JT+n,a=-s,l=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(zr*r-Hr*i,Hr*r+zr*i),t.lineTo(zr*s-Hr*o,Hr*s+zr*o),t.lineTo(zr*a-Hr*l,Hr*a+zr*l),t.lineTo(zr*r+Hr*i,zr*i-Hr*r),t.lineTo(zr*s+Hr*o,zr*o-Hr*s),t.lineTo(zr*a+Hr*l,zr*l-Hr*a),t.closePath()}};function jme(t,e){let n=null,r=nk(i);t=typeof t=="function"?t:Nt(t||ik),e=typeof e=="function"?e:Nt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Nt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Nt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function pv(){}function mv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function wz(t){this._context=t}wz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ome(t){return new wz(t)}function _z(t){this._context=t}_z.prototype={areaStart:pv,areaEnd:pv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:mv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Nme(t){return new _z(t)}function Sz(t){this._context=t}Sz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:mv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Rme(t){return new Sz(t)}function Cz(t){this._context=t}Cz.prototype={areaStart:pv,areaEnd:pv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ime(t){return new Cz(t)}function jD(t){return t<0?-1:1}function OD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(jD(s)+jD(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function ND(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function y_(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function gv(t){this._context=t}gv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:y_(this,this._t0,ND(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,y_(this,ND(this,n=OD(this,t,e)),n);break;default:y_(this,this._t0,n=OD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Tz(t){this._context=new Pz(t)}(Tz.prototype=Object.create(gv.prototype)).point=function(t,e){gv.prototype.point.call(this,e,t)};function Pz(t){this._context=t}Pz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Mme(t){return new gv(t)}function Dme(t){return new Tz(t)}function Ez(t){this._context=t}Ez.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=RD(t),i=RD(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function RD(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function $me(t){return new Ez(t)}function Wy(t,e){this._context=t,this._t=e}Wy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Lme(t){return new Wy(t,.5)}function Fme(t){return new Wy(t,0)}function Bme(t){return new Wy(t,1)}function Su(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ZT(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Ume(t,e){return t[e]}function qme(t){const e=[];return e.key=t,e}function Vme(){var t=Nt([]),e=ZT,n=Su,r=Ume;function i(s){var o=Array.from(t.apply(this,arguments),qme),a,l=o.length,u=-1,f;for(const h of s)for(a=0,++u;a<l;++a)(o[a][u]=[0,+r(h,o[a].key,u,s)]).data=h;for(a=0,f=rk(e(o));a<l;++a)o[f[a]].index=a;return n(o,f),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Nt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Nt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?ZT:typeof s=="function"?s:Nt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Su,i):n},i}function Wme(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Su(t,e)}}function zme(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}Su(t,e)}}function Hme(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,u=0;a<o;++a){for(var f=t[e[a]],h=f[r][1]||0,m=f[r-1][1]||0,v=(h-m)/2,x=0;x<a;++x){var b=t[e[x]],y=b[r][1]||0,_=b[r-1][1]||0;v+=y-_}l+=h,u+=v*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Su(t,e)}}function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}var Gme=["type","size","sizeType"];function eP(){return eP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eP.apply(this,arguments)}function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){Kme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kme(t,e,n){return e=Yme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yme(t){var e=Xme(t,"string");return eh(e)=="symbol"?e:e+""}function Xme(t,e){if(eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qme(t,e){if(t==null)return{};var n=Jme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Az={symbolCircle:ik,symbolCross:bme,symbolDiamond:wme,symbolSquare:_me,symbolStar:Pme,symbolTriangle:Eme,symbolWye:kme},Zme=Math.PI/180,ege=function(e){var n="symbol".concat(Uy(e));return Az[n]||ik},tge=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Zme;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},nge=function(e,n){Az["symbol".concat(Uy(e))]=n},sk=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,l=Qme(e,Gme),u=MD(MD({},l),{},{type:r,size:s,sizeType:a}),f=function(){var y=ege(r),_=jme().type(y).size(tge(s,a,r));return _()},h=u.className,m=u.cx,v=u.cy,x=Me(u,!0);return m===+m&&v===+v&&s===+s?V.createElement("path",eP({},x,{className:Ye("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(v,")"),d:f()})):null};sk.registerSymbol=nge;function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function tP(){return tP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tP.apply(this,arguments)}function DD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DD(Object(n),!0).forEach(function(r){th(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ige(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jz(r.key),r)}}function oge(t,e,n){return e&&sge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function age(t,e,n){return e=vv(e),lge(t,kz()?Reflect.construct(e,n||[],vv(t).constructor):e.apply(t,n))}function lge(t,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cge(t)}function cge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kz=function(){return!!t})()}function vv(t){return vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vv(t)}function uge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nP(t,e)}function nP(t,e){return nP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nP(t,e)}function th(t,e,n){return e=jz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jz(t){var e=dge(t,"string");return Cu(e)=="symbol"?e:e+""}function dge(t,e){if(Cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gr=32,ok=(function(t){function e(){return ige(this,e),age(this,e,arguments)}return uge(e,t),oge(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Gr/2,o=Gr/6,a=Gr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Gr,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(Gr,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return V.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Gr/8,"h").concat(Gr,"v").concat(Gr*3/4,"h").concat(-Gr,"z"),className:"recharts-legend-icon"});if(V.isValidElement(r.legendIcon)){var u=rge({},r);return delete u.legendIcon,V.cloneElement(r.legendIcon,u)}return V.createElement(sk,{fill:l,cx:s,cy:s,size:Gr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:Gr,height:Gr},h={display:a==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,x){var b=v.formatter||l,y=Ye(th(th({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",v.inactive));if(v.type==="none")return null;var _=Ve(v.value)?null:v.value;ki(!Ve(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=v.inactive?u:v.color;return V.createElement("li",tP({className:y,style:h,key:"legend-item-".concat(x)},Ml(r.props,v,x)),V.createElement(KT,{width:o,height:o,viewBox:f,style:m},r.renderIcon(v)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},b?b(_,v,x):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])})(T.PureComponent);th(ok,"displayName","Legend");th(ok,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var b_,$D;function fge(){if($D)return b_;$D=1;var t=Ly();function e(){this.__data__=new t,this.size=0}return b_=e,b_}var x_,LD;function hge(){if(LD)return x_;LD=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return x_=t,x_}var w_,FD;function pge(){if(FD)return w_;FD=1;function t(e){return this.__data__.get(e)}return w_=t,w_}var __,BD;function mge(){if(BD)return __;BD=1;function t(e){return this.__data__.has(e)}return __=t,__}var S_,UD;function gge(){if(UD)return S_;UD=1;var t=Ly(),e=XA(),n=QA(),r=200;function i(s,o){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return S_=i,S_}var C_,qD;function Oz(){if(qD)return C_;qD=1;var t=Ly(),e=fge(),n=hge(),r=pge(),i=mge(),s=gge();function o(a){var l=this.__data__=new t(a);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,C_=o,C_}var T_,VD;function vge(){if(VD)return T_;VD=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return T_=e,T_}var P_,WD;function yge(){if(WD)return P_;WD=1;function t(e){return this.__data__.has(e)}return P_=t,P_}var E_,zD;function Nz(){if(zD)return E_;zD=1;var t=QA(),e=vge(),n=yge();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,E_=r,E_}var A_,HD;function Rz(){if(HD)return A_;HD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return A_=t,A_}var k_,GD;function Iz(){if(GD)return k_;GD=1;function t(e,n){return e.has(n)}return k_=t,k_}var j_,KD;function Mz(){if(KD)return j_;KD=1;var t=Nz(),e=Rz(),n=Iz(),r=1,i=2;function s(o,a,l,u,f,h){var m=l&r,v=o.length,x=a.length;if(v!=x&&!(m&&x>v))return!1;var b=h.get(o),y=h.get(a);if(b&&y)return b==a&&y==o;var _=-1,S=!0,C=l&i?new t:void 0;for(h.set(o,a),h.set(a,o);++_<v;){var E=o[_],P=a[_];if(u)var k=m?u(P,E,_,a,o,h):u(E,P,_,o,a,h);if(k!==void 0){if(k)continue;S=!1;break}if(C){if(!e(a,function(j,N){if(!n(C,N)&&(E===j||f(E,j,l,u,h)))return C.push(N)})){S=!1;break}}else if(!(E===P||f(E,P,l,u,h))){S=!1;break}}return h.delete(o),h.delete(a),S}return j_=s,j_}var O_,YD;function bge(){if(YD)return O_;YD=1;var t=ls(),e=t.Uint8Array;return O_=e,O_}var N_,XD;function xge(){if(XD)return N_;XD=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return N_=t,N_}var R_,QD;function ak(){if(QD)return R_;QD=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return R_=t,R_}var I_,JD;function wge(){if(JD)return I_;JD=1;var t=sp(),e=bge(),n=YA(),r=Mz(),i=xge(),s=ak(),o=1,a=2,l="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Map]",m="[object Number]",v="[object RegExp]",x="[object Set]",b="[object String]",y="[object Symbol]",_="[object ArrayBuffer]",S="[object DataView]",C=t?t.prototype:void 0,E=C?C.valueOf:void 0;function P(k,j,N,I,L,M,F){switch(N){case S:if(k.byteLength!=j.byteLength||k.byteOffset!=j.byteOffset)return!1;k=k.buffer,j=j.buffer;case _:return!(k.byteLength!=j.byteLength||!M(new e(k),new e(j)));case l:case u:case m:return n(+k,+j);case f:return k.name==j.name&&k.message==j.message;case v:case b:return k==j+"";case h:var U=i;case x:var Y=I&o;if(U||(U=s),k.size!=j.size&&!Y)return!1;var X=F.get(k);if(X)return X==j;I|=a,F.set(k,j);var z=r(U(k),U(j),I,L,M,F);return F.delete(k),z;case y:if(E)return E.call(k)==E.call(j)}return!1}return I_=P,I_}var M_,ZD;function Dz(){if(ZD)return M_;ZD=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return M_=t,M_}var D_,e$;function _ge(){if(e$)return D_;e$=1;var t=Dz(),e=_r();function n(r,i,s){var o=i(r);return e(r)?o:t(o,s(r))}return D_=n,D_}var $_,t$;function Sge(){if(t$)return $_;t$=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var a=e[r];n(a,r,e)&&(o[s++]=a)}return o}return $_=t,$_}var L_,n$;function Cge(){if(n$)return L_;n$=1;function t(){return[]}return L_=t,L_}var F_,r$;function Tge(){if(r$)return F_;r$=1;var t=Sge(),e=Cge(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(a){return r.call(o,a)}))}:e;return F_=s,F_}var B_,i$;function Pge(){if(i$)return B_;i$=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return B_=t,B_}var U_,s$;function Ege(){if(s$)return U_;s$=1;var t=to(),e=no(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return U_=r,U_}var q_,o$;function lk(){if(o$)return q_;o$=1;var t=Ege(),e=no(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return q_=s,q_}var Tf={exports:{}},V_,a$;function Age(){if(a$)return V_;a$=1;function t(){return!1}return V_=t,V_}Tf.exports;var l$;function $z(){return l$||(l$=1,(function(t,e){var n=ls(),r=Age(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Tf,Tf.exports)),Tf.exports}var W_,c$;function ck(){if(c$)return W_;c$=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return W_=n,W_}var z_,u$;function uk(){if(u$)return z_;u$=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return z_=e,z_}var H_,d$;function kge(){if(d$)return H_;d$=1;var t=to(),e=uk(),n=no(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",f="[object Number]",h="[object Object]",m="[object RegExp]",v="[object Set]",x="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",_="[object DataView]",S="[object Float32Array]",C="[object Float64Array]",E="[object Int8Array]",P="[object Int16Array]",k="[object Int32Array]",j="[object Uint8Array]",N="[object Uint8ClampedArray]",I="[object Uint16Array]",L="[object Uint32Array]",M={};M[S]=M[C]=M[E]=M[P]=M[k]=M[j]=M[N]=M[I]=M[L]=!0,M[r]=M[i]=M[y]=M[s]=M[_]=M[o]=M[a]=M[l]=M[u]=M[f]=M[h]=M[m]=M[v]=M[x]=M[b]=!1;function F(U){return n(U)&&e(U.length)&&!!M[t(U)]}return H_=F,H_}var G_,f$;function Lz(){if(f$)return G_;f$=1;function t(e){return function(n){return e(n)}}return G_=t,G_}var Pf={exports:{}};Pf.exports;var h$;function jge(){return h$||(h$=1,(function(t,e){var n=iz(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();t.exports=a})(Pf,Pf.exports)),Pf.exports}var K_,p$;function Fz(){if(p$)return K_;p$=1;var t=kge(),e=Lz(),n=jge(),r=n&&n.isTypedArray,i=r?e(r):t;return K_=i,K_}var Y_,m$;function Oge(){if(m$)return Y_;m$=1;var t=Pge(),e=lk(),n=_r(),r=$z(),i=ck(),s=Fz(),o=Object.prototype,a=o.hasOwnProperty;function l(u,f){var h=n(u),m=!h&&e(u),v=!h&&!m&&r(u),x=!h&&!m&&!v&&s(u),b=h||m||v||x,y=b?t(u.length,String):[],_=y.length;for(var S in u)(f||a.call(u,S))&&!(b&&(S=="length"||v&&(S=="offset"||S=="parent")||x&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||i(S,_)))&&y.push(S);return y}return Y_=l,Y_}var X_,g$;function Nge(){if(g$)return X_;g$=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return X_=e,X_}var Q_,v$;function Bz(){if(v$)return Q_;v$=1;function t(e,n){return function(r){return e(n(r))}}return Q_=t,Q_}var J_,y$;function Rge(){if(y$)return J_;y$=1;var t=Bz(),e=t(Object.keys,Object);return J_=e,J_}var Z_,b$;function Ige(){if(b$)return Z_;b$=1;var t=Nge(),e=Rge(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return Z_=i,Z_}var eS,x$;function op(){if(x$)return eS;x$=1;var t=KA(),e=uk();function n(r){return r!=null&&e(r.length)&&!t(r)}return eS=n,eS}var tS,w$;function zy(){if(w$)return tS;w$=1;var t=Oge(),e=Ige(),n=op();function r(i){return n(i)?t(i):e(i)}return tS=r,tS}var nS,_$;function Mge(){if(_$)return nS;_$=1;var t=_ge(),e=Tge(),n=zy();function r(i){return t(i,n,e)}return nS=r,nS}var rS,S$;function Dge(){if(S$)return rS;S$=1;var t=Mge(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a,l,u,f){var h=a&e,m=t(s),v=m.length,x=t(o),b=x.length;if(v!=b&&!h)return!1;for(var y=v;y--;){var _=m[y];if(!(h?_ in o:r.call(o,_)))return!1}var S=f.get(s),C=f.get(o);if(S&&C)return S==o&&C==s;var E=!0;f.set(s,o),f.set(o,s);for(var P=h;++y<v;){_=m[y];var k=s[_],j=o[_];if(l)var N=h?l(j,k,_,o,s,f):l(k,j,_,s,o,f);if(!(N===void 0?k===j||u(k,j,a,l,f):N)){E=!1;break}P||(P=_=="constructor")}if(E&&!P){var I=s.constructor,L=o.constructor;I!=L&&"constructor"in s&&"constructor"in o&&!(typeof I=="function"&&I instanceof I&&typeof L=="function"&&L instanceof L)&&(E=!1)}return f.delete(s),f.delete(o),E}return rS=i,rS}var iS,C$;function $ge(){if(C$)return iS;C$=1;var t=ql(),e=ls(),n=t(e,"DataView");return iS=n,iS}var sS,T$;function Lge(){if(T$)return sS;T$=1;var t=ql(),e=ls(),n=t(e,"Promise");return sS=n,sS}var oS,P$;function Uz(){if(P$)return oS;P$=1;var t=ql(),e=ls(),n=t(e,"Set");return oS=n,oS}var aS,E$;function Fge(){if(E$)return aS;E$=1;var t=ql(),e=ls(),n=t(e,"WeakMap");return aS=n,aS}var lS,A$;function Bge(){if(A$)return lS;A$=1;var t=$ge(),e=XA(),n=Lge(),r=Uz(),i=Fge(),s=to(),o=sz(),a="[object Map]",l="[object Object]",u="[object Promise]",f="[object Set]",h="[object WeakMap]",m="[object DataView]",v=o(t),x=o(e),b=o(n),y=o(r),_=o(i),S=s;return(t&&S(new t(new ArrayBuffer(1)))!=m||e&&S(new e)!=a||n&&S(n.resolve())!=u||r&&S(new r)!=f||i&&S(new i)!=h)&&(S=function(C){var E=s(C),P=E==l?C.constructor:void 0,k=P?o(P):"";if(k)switch(k){case v:return m;case x:return a;case b:return u;case y:return f;case _:return h}return E}),lS=S,lS}var cS,k$;function Uge(){if(k$)return cS;k$=1;var t=Oz(),e=Mz(),n=wge(),r=Dge(),i=Bge(),s=_r(),o=$z(),a=Fz(),l=1,u="[object Arguments]",f="[object Array]",h="[object Object]",m=Object.prototype,v=m.hasOwnProperty;function x(b,y,_,S,C,E){var P=s(b),k=s(y),j=P?f:i(b),N=k?f:i(y);j=j==u?h:j,N=N==u?h:N;var I=j==h,L=N==h,M=j==N;if(M&&o(b)){if(!o(y))return!1;P=!0,I=!1}if(M&&!I)return E||(E=new t),P||a(b)?e(b,y,_,S,C,E):n(b,y,j,_,S,C,E);if(!(_&l)){var F=I&&v.call(b,"__wrapped__"),U=L&&v.call(y,"__wrapped__");if(F||U){var Y=F?b.value():b,X=U?y.value():y;return E||(E=new t),C(Y,X,_,S,E)}}return M?(E||(E=new t),r(b,y,_,S,C,E)):!1}return cS=x,cS}var uS,j$;function dk(){if(j$)return uS;j$=1;var t=Uge(),e=no();function n(r,i,s,o,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,o,n,a)}return uS=n,uS}var dS,O$;function qge(){if(O$)return dS;O$=1;var t=Oz(),e=dk(),n=1,r=2;function i(s,o,a,l){var u=a.length,f=u,h=!l;if(s==null)return!f;for(s=Object(s);u--;){var m=a[u];if(h&&m[2]?m[1]!==s[m[0]]:!(m[0]in s))return!1}for(;++u<f;){m=a[u];var v=m[0],x=s[v],b=m[1];if(h&&m[2]){if(x===void 0&&!(v in s))return!1}else{var y=new t;if(l)var _=l(x,b,v,s,o,y);if(!(_===void 0?e(b,x,n|r,l,y):_))return!1}}return!0}return dS=i,dS}var fS,N$;function qz(){if(N$)return fS;N$=1;var t=ha();function e(n){return n===n&&!t(n)}return fS=e,fS}var hS,R$;function Vge(){if(R$)return hS;R$=1;var t=qz(),e=zy();function n(r){for(var i=e(r),s=i.length;s--;){var o=i[s],a=r[o];i[s]=[o,a,t(a)]}return i}return hS=n,hS}var pS,I$;function Vz(){if(I$)return pS;I$=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return pS=t,pS}var mS,M$;function Wge(){if(M$)return mS;M$=1;var t=qge(),e=Vge(),n=Vz();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return mS=r,mS}var gS,D$;function zge(){if(D$)return gS;D$=1;function t(e,n){return e!=null&&n in Object(e)}return gS=t,gS}var vS,$$;function Hge(){if($$)return vS;$$=1;var t=lz(),e=lk(),n=_r(),r=ck(),i=uk(),s=By();function o(a,l,u){l=t(l,a);for(var f=-1,h=l.length,m=!1;++f<h;){var v=s(l[f]);if(!(m=a!=null&&u(a,v)))break;a=a[v]}return m||++f!=h?m:(h=a==null?0:a.length,!!h&&i(h)&&r(v,h)&&(n(a)||e(a)))}return vS=o,vS}var yS,L$;function Gge(){if(L$)return yS;L$=1;var t=zge(),e=Hge();function n(r,i){return r!=null&&e(r,i,t)}return yS=n,yS}var bS,F$;function Kge(){if(F$)return bS;F$=1;var t=dk(),e=cz(),n=Gge(),r=GA(),i=qz(),s=Vz(),o=By(),a=1,l=2;function u(f,h){return r(f)&&i(h)?s(o(f),h):function(m){var v=e(m,f);return v===void 0&&v===h?n(m,f):t(h,v,a|l)}}return bS=u,bS}var xS,B$;function fd(){if(B$)return xS;B$=1;function t(e){return e}return xS=t,xS}var wS,U$;function Yge(){if(U$)return wS;U$=1;function t(e){return function(n){return n==null?void 0:n[e]}}return wS=t,wS}var _S,q$;function Xge(){if(q$)return _S;q$=1;var t=ZA();function e(n){return function(r){return t(r,n)}}return _S=e,_S}var SS,V$;function Qge(){if(V$)return SS;V$=1;var t=Yge(),e=Xge(),n=GA(),r=By();function i(s){return n(s)?t(r(s)):e(s)}return SS=i,SS}var CS,W$;function cs(){if(W$)return CS;W$=1;var t=Wge(),e=Kge(),n=fd(),r=_r(),i=Qge();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return CS=s,CS}var TS,z$;function Wz(){if(z$)return TS;z$=1;function t(e,n,r,i){for(var s=e.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(e[o],o,e))return o;return-1}return TS=t,TS}var PS,H$;function Jge(){if(H$)return PS;H$=1;function t(e){return e!==e}return PS=t,PS}var ES,G$;function Zge(){if(G$)return ES;G$=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return ES=t,ES}var AS,K$;function eve(){if(K$)return AS;K$=1;var t=Wz(),e=Jge(),n=Zge();function r(i,s,o){return s===s?n(i,s,o):t(i,e,o)}return AS=r,AS}var kS,Y$;function tve(){if(Y$)return kS;Y$=1;var t=eve();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return kS=e,kS}var jS,X$;function nve(){if(X$)return jS;X$=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return jS=t,jS}var OS,Q$;function rve(){if(Q$)return OS;Q$=1;function t(){}return OS=t,OS}var NS,J$;function ive(){if(J$)return NS;J$=1;var t=Uz(),e=rve(),n=ak(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return NS=i,NS}var RS,Z$;function sve(){if(Z$)return RS;Z$=1;var t=Nz(),e=tve(),n=nve(),r=Iz(),i=ive(),s=ak(),o=200;function a(l,u,f){var h=-1,m=e,v=l.length,x=!0,b=[],y=b;if(f)x=!1,m=n;else if(v>=o){var _=u?null:i(l);if(_)return s(_);x=!1,m=r,y=new t}else y=u?[]:b;e:for(;++h<v;){var S=l[h],C=u?u(S):S;if(S=f||S!==0?S:0,x&&C===C){for(var E=y.length;E--;)if(y[E]===C)continue e;u&&y.push(C),b.push(S)}else m(y,C,f)||(y!==b&&y.push(C),b.push(S))}return b}return RS=a,RS}var IS,eL;function ove(){if(eL)return IS;eL=1;var t=cs(),e=sve();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return IS=n,IS}var ave=ove();const tL=at(ave);function zz(t,e,n){return e===!0?tL(t,n):Ve(e)?tL(t,e):t}function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}var lve=["ref"];function nL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(n),!0).forEach(function(r){Hy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gz(r.key),r)}}function uve(t,e,n){return e&&rL(t.prototype,e),n&&rL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dve(t,e,n){return e=yv(e),fve(t,Hz()?Reflect.construct(e,n||[],yv(t).constructor):e.apply(t,n))}function fve(t,e){if(e&&(Tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hve(t)}function hve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hz=function(){return!!t})()}function yv(t){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yv(t)}function pve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rP(t,e)}function rP(t,e){return rP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rP(t,e)}function Hy(t,e,n){return e=Gz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gz(t){var e=mve(t,"string");return Tu(e)=="symbol"?e:e+""}function mve(t,e){if(Tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gve(t,e){if(t==null)return{};var n=vve(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yve(t){return t.value}function bve(t,e){if(V.isValidElement(t))return V.cloneElement(t,e);if(typeof t=="function")return V.createElement(t,e);e.ref;var n=gve(e,lve);return V.createElement(ok,n)}var iL=1,Sl=(function(t){function e(){var n;cve(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=dve(this,e,[].concat(i)),Hy(n,"lastBoundingBox",{width:-1,height:-1}),n}return pve(e,t),uve(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>iL||Math.abs(i.height-this.lastBoundingBox.height)>iL)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_s({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,f=i.chartHeight,h,m;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();h={left:((u||0)-v.width)/2}}else h=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var x=this.getBBoxSnapshot();m={top:((f||0)-x.height)/2}}else m=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return _s(_s({},h),m)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,h=_s(_s({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return V.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(v){r.wrapperNode=v}},bve(s,_s(_s({},this.props),{},{payload:zz(f,u,yve)})))}}],[{key:"getWithHeight",value:function(r,i){var s=_s(_s({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&de(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])})(T.PureComponent);Hy(Sl,"displayName","Legend");Hy(Sl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var MS,sL;function xve(){if(sL)return MS;sL=1;var t=sp(),e=lk(),n=_r(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return MS=i,MS}var DS,oL;function Kz(){if(oL)return DS;oL=1;var t=Dz(),e=xve();function n(r,i,s,o,a){var l=-1,u=r.length;for(s||(s=e),a||(a=[]);++l<u;){var f=r[l];i>0&&s(f)?i>1?n(f,i-1,s,o,a):t(a,f):o||(a[a.length]=f)}return a}return DS=n,DS}var $S,aL;function wve(){if(aL)return $S;aL=1;function t(e){return function(n,r,i){for(var s=-1,o=Object(n),a=i(n),l=a.length;l--;){var u=a[e?l:++s];if(r(o[u],u,o)===!1)break}return n}}return $S=t,$S}var LS,lL;function _ve(){if(lL)return LS;lL=1;var t=wve(),e=t();return LS=e,LS}var FS,cL;function Yz(){if(cL)return FS;cL=1;var t=_ve(),e=zy();function n(r,i){return r&&t(r,i,e)}return FS=n,FS}var BS,uL;function Sve(){if(uL)return BS;uL=1;var t=op();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var o=i.length,a=r?o:-1,l=Object(i);(r?a--:++a<o)&&s(l[a],a,l)!==!1;);return i}}return BS=e,BS}var US,dL;function fk(){if(dL)return US;dL=1;var t=Yz(),e=Sve(),n=e(t);return US=n,US}var qS,fL;function Xz(){if(fL)return qS;fL=1;var t=fk(),e=op();function n(r,i){var s=-1,o=e(r)?Array(r.length):[];return t(r,function(a,l,u){o[++s]=i(a,l,u)}),o}return qS=n,qS}var VS,hL;function Cve(){if(hL)return VS;hL=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return VS=t,VS}var WS,pL;function Tve(){if(pL)return WS;pL=1;var t=ld();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,o=n===n,a=t(n),l=r!==void 0,u=r===null,f=r===r,h=t(r);if(!u&&!h&&!a&&n>r||a&&l&&f&&!u&&!h||s&&l&&f||!i&&f||!o)return 1;if(!s&&!a&&!h&&n<r||h&&i&&o&&!s&&!a||u&&i&&o||!l&&o||!f)return-1}return 0}return WS=e,WS}var zS,mL;function Pve(){if(mL)return zS;mL=1;var t=Tve();function e(n,r,i){for(var s=-1,o=n.criteria,a=r.criteria,l=o.length,u=i.length;++s<l;){var f=t(o[s],a[s]);if(f){if(s>=u)return f;var h=i[s];return f*(h=="desc"?-1:1)}}return n.index-r.index}return zS=e,zS}var HS,gL;function Eve(){if(gL)return HS;gL=1;var t=JA(),e=ZA(),n=cs(),r=Xz(),i=Cve(),s=Lz(),o=Pve(),a=fd(),l=_r();function u(f,h,m){h.length?h=t(h,function(b){return l(b)?function(y){return e(y,b.length===1?b[0]:b)}:b}):h=[a];var v=-1;h=t(h,s(n));var x=r(f,function(b,y,_){var S=t(h,function(C){return C(b)});return{criteria:S,index:++v,value:b}});return i(x,function(b,y){return o(b,y,m)})}return HS=u,HS}var GS,vL;function Ave(){if(vL)return GS;vL=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return GS=t,GS}var KS,yL;function kve(){if(yL)return KS;yL=1;var t=Ave(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,l=e(o.length-i,0),u=Array(l);++a<l;)u[a]=o[i+a];a=-1;for(var f=Array(i+1);++a<i;)f[a]=o[a];return f[i]=s(u),t(r,this,f)}}return KS=n,KS}var YS,bL;function jve(){if(bL)return YS;bL=1;function t(e){return function(){return e}}return YS=t,YS}var XS,xL;function Qz(){if(xL)return XS;xL=1;var t=ql(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return XS=e,XS}var QS,wL;function Ove(){if(wL)return QS;wL=1;var t=jve(),e=Qz(),n=fd(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return QS=r,QS}var JS,_L;function Nve(){if(_L)return JS;_L=1;var t=800,e=16,n=Date.now;function r(i){var s=0,o=0;return function(){var a=n(),l=e-(a-o);if(o=a,l>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return JS=r,JS}var ZS,SL;function Rve(){if(SL)return ZS;SL=1;var t=Ove(),e=Nve(),n=e(t);return ZS=n,ZS}var e1,CL;function Ive(){if(CL)return e1;CL=1;var t=fd(),e=kve(),n=Rve();function r(i,s){return n(e(i,s,t),i+"")}return e1=r,e1}var t1,TL;function Gy(){if(TL)return t1;TL=1;var t=YA(),e=op(),n=ck(),r=ha();function i(s,o,a){if(!r(a))return!1;var l=typeof o;return(l=="number"?e(a)&&n(o,a.length):l=="string"&&o in a)?t(a[o],s):!1}return t1=i,t1}var n1,PL;function Mve(){if(PL)return n1;PL=1;var t=Kz(),e=Eve(),n=Ive(),r=Gy(),i=n(function(s,o){if(s==null)return[];var a=o.length;return a>1&&r(s,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return n1=i,n1}var Dve=Mve();const hk=at(Dve);function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function iP(){return iP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iP.apply(this,arguments)}function $ve(t,e){return Uve(t)||Bve(t,e)||Fve(t,e)||Lve()}function Lve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fve(t,e){if(t){if(typeof t=="string")return EL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EL(t,e)}}function EL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Uve(t){if(Array.isArray(t))return t}function AL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(n),!0).forEach(function(r){qve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qve(t,e,n){return e=Vve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vve(t){var e=Wve(t,"string");return nh(e)=="symbol"?e:e+""}function Wve(t,e){if(nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zve(t){return Array.isArray(t)&&wn(t[0])&&wn(t[1])?t.join(" ~ "):t}var Hve=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,f=e.payload,h=e.formatter,m=e.itemSorter,v=e.wrapperClassName,x=e.labelClassName,b=e.label,y=e.labelFormatter,_=e.accessibilityLayer,S=_===void 0?!1:_,C=function(){if(f&&f.length){var F={padding:0,margin:0},U=(m?hk(f,m):f).map(function(Y,X){if(Y.type==="none")return null;var z=r1({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},a),J=Y.formatter||h||zve,B=Y.value,K=Y.name,D=B,$=K;if(J&&D!=null&&$!=null){var H=J(B,K,Y,X,f);if(Array.isArray(H)){var te=$ve(H,2);D=te[0],$=te[1]}else D=H}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:z},wn($)?V.createElement("span",{className:"recharts-tooltip-item-name"},$):null,wn($)?V.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,V.createElement("span",{className:"recharts-tooltip-item-value"},D),V.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:F},U)}return null},E=r1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),P=r1({margin:0},u),k=!Xe(b),j=k?b:"",N=Ye("recharts-default-tooltip",v),I=Ye("recharts-tooltip-label",x);k&&y&&f!==void 0&&f!==null&&(j=y(b,f));var L=S?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",iP({className:N,style:E},L),V.createElement("p",{className:I,style:P},V.isValidElement(j)?j:"".concat(j)),C())};function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function Xm(t,e,n){return e=Gve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gve(t){var e=Kve(t,"string");return rh(e)=="symbol"?e:e+""}function Kve(t,e){if(rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uf="recharts-tooltip-wrapper",Yve={visibility:"hidden"};function Xve(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ye(uf,Xm(Xm(Xm(Xm({},"".concat(uf,"-right"),de(n)&&e&&de(e.x)&&n>=e.x),"".concat(uf,"-left"),de(n)&&e&&de(e.x)&&n<e.x),"".concat(uf,"-bottom"),de(r)&&e&&de(e.y)&&r>=e.y),"".concat(uf,"-top"),de(r)&&e&&de(e.y)&&r<e.y))}function kL(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(s&&de(s[r]))return s[r];var f=n[r]-a-i,h=n[r]+i;if(e[r])return o[r]?f:h;if(o[r]){var m=f,v=l[r];return m<v?Math.max(h,l[r]):Math.max(f,l[r])}var x=h+a,b=l[r]+u;return x>b?Math.max(f,l[r]):Math.max(h,l[r])}function Qve(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Jve(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,f,h;return o.height>0&&o.width>0&&n?(f=kL({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),h=kL({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Qve({translateX:f,translateY:h,useTranslate3d:a})):u=Yve,{cssProperties:u,cssClasses:Xve({translateX:f,translateY:h,coordinate:n})}}function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function jL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(n),!0).forEach(function(r){oP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zz(r.key),r)}}function tye(t,e,n){return e&&eye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nye(t,e,n){return e=bv(e),rye(t,Jz()?Reflect.construct(e,n||[],bv(t).constructor):e.apply(t,n))}function rye(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iye(t)}function iye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jz=function(){return!!t})()}function bv(t){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bv(t)}function sye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sP(t,e)}function sP(t,e){return sP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sP(t,e)}function oP(t,e,n){return e=Zz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zz(t){var e=oye(t,"string");return Pu(e)=="symbol"?e:e+""}function oye(t,e){if(Pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NL=1,aye=(function(t){function e(){var n;Zve(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=nye(this,e,[].concat(i)),oP(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),oP(n,"handleKeyDown",function(o){if(o.key==="Escape"){var a,l,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return sye(e,t),tye(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>NL||Math.abs(r.height-this.state.lastBoundingBox.height)>NL)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,f=i.coordinate,h=i.hasPayload,m=i.isAnimationActive,v=i.offset,x=i.position,b=i.reverseDirection,y=i.useTranslate3d,_=i.viewBox,S=i.wrapperStyle,C=Jve({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:v,position:x,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:_}),E=C.cssClasses,P=C.cssProperties,k=OL(OL({transition:m&&s?"transform ".concat(a,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},S);return V.createElement("div",{tabIndex:-1,className:E,style:k,ref:function(N){r.wrapperNode=N}},u)}}])})(T.PureComponent),lye=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Vl={isSsr:lye()};function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function RL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(n),!0).forEach(function(r){pk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t8(r.key),r)}}function dye(t,e,n){return e&&uye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fye(t,e,n){return e=xv(e),hye(t,e8()?Reflect.construct(e,n||[],xv(t).constructor):e.apply(t,n))}function hye(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pye(t)}function pye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e8=function(){return!!t})()}function xv(t){return xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xv(t)}function mye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aP(t,e)}function aP(t,e){return aP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aP(t,e)}function pk(t,e,n){return e=t8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t8(t){var e=gye(t,"string");return Eu(e)=="symbol"?e:e+""}function gye(t,e){if(Eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vye(t){return t.dataKey}function yye(t,e){return V.isValidElement(t)?V.cloneElement(t,e):typeof t=="function"?V.createElement(t,e):V.createElement(Hve,e)}var Ti=(function(t){function e(){return cye(this,e),fye(this,e,arguments)}return mye(e,t),dye(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,f=i.coordinate,h=i.filterNull,m=i.isAnimationActive,v=i.offset,x=i.payload,b=i.payloadUniqBy,y=i.position,_=i.reverseDirection,S=i.useTranslate3d,C=i.viewBox,E=i.wrapperStyle,P=x??[];h&&P.length&&(P=zz(x.filter(function(j){return j.value!=null&&(j.hide!==!0||r.props.includeHidden)}),b,vye));var k=P.length>0;return V.createElement(aye,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:m,active:s,coordinate:f,hasPayload:k,offset:v,position:y,reverseDirection:_,useTranslate3d:S,viewBox:C,wrapperStyle:E},yye(u,IL(IL({},this.props),{},{payload:P})))}}])})(T.PureComponent);pk(Ti,"displayName","Tooltip");pk(Ti,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Vl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var i1,ML;function bye(){if(ML)return i1;ML=1;var t=ls(),e=function(){return t.Date.now()};return i1=e,i1}var s1,DL;function xye(){if(DL)return s1;DL=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return s1=e,s1}var o1,$L;function wye(){if($L)return o1;$L=1;var t=xye(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return o1=n,o1}var a1,LL;function n8(){if(LL)return a1;LL=1;var t=wye(),e=ha(),n=ld(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=e(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var h=s.test(u);return h||o.test(u)?a(u.slice(2),h?2:8):i.test(u)?r:+u}return a1=l,a1}var l1,FL;function _ye(){if(FL)return l1;FL=1;var t=ha(),e=bye(),n=n8(),r="Expected a function",i=Math.max,s=Math.min;function o(a,l,u){var f,h,m,v,x,b,y=0,_=!1,S=!1,C=!0;if(typeof a!="function")throw new TypeError(r);l=n(l)||0,t(u)&&(_=!!u.leading,S="maxWait"in u,m=S?i(n(u.maxWait)||0,l):m,C="trailing"in u?!!u.trailing:C);function E(U){var Y=f,X=h;return f=h=void 0,y=U,v=a.apply(X,Y),v}function P(U){return y=U,x=setTimeout(N,l),_?E(U):v}function k(U){var Y=U-b,X=U-y,z=l-Y;return S?s(z,m-X):z}function j(U){var Y=U-b,X=U-y;return b===void 0||Y>=l||Y<0||S&&X>=m}function N(){var U=e();if(j(U))return I(U);x=setTimeout(N,k(U))}function I(U){return x=void 0,C&&f?E(U):(f=h=void 0,v)}function L(){x!==void 0&&clearTimeout(x),y=0,f=b=h=x=void 0}function M(){return x===void 0?v:I(e())}function F(){var U=e(),Y=j(U);if(f=arguments,h=this,b=U,Y){if(x===void 0)return P(b);if(S)return clearTimeout(x),x=setTimeout(N,l),E(b)}return x===void 0&&(x=setTimeout(N,l)),v}return F.cancel=L,F.flush=M,F}return l1=o,l1}var c1,BL;function Sye(){if(BL)return c1;BL=1;var t=_ye(),e=ha(),n="Expected a function";function r(i,s,o){var a=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(a="leading"in o?!!o.leading:a,l="trailing"in o?!!o.trailing:l),t(i,s,{leading:a,maxWait:s,trailing:l})}return c1=r,c1}var Cye=Sye();const r8=at(Cye);function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function UL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(n),!0).forEach(function(r){Tye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tye(t,e,n){return e=Pye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pye(t){var e=Eye(t,"string");return ih(e)=="symbol"?e:e+""}function Eye(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aye(t,e){return Nye(t)||Oye(t,e)||jye(t,e)||kye()}function kye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jye(t,e){if(t){if(typeof t=="string")return qL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qL(t,e)}}function qL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Nye(t){if(Array.isArray(t))return t}var i8=T.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,f=u===void 0?0:u,h=t.minHeight,m=t.maxHeight,v=t.children,x=t.debounce,b=x===void 0?0:x,y=t.id,_=t.className,S=t.onResize,C=t.style,E=C===void 0?{}:C,P=T.useRef(null),k=T.useRef();k.current=S,T.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var j=T.useState({containerWidth:i.width,containerHeight:i.height}),N=Aye(j,2),I=N[0],L=N[1],M=T.useCallback(function(U,Y){L(function(X){var z=Math.round(U),J=Math.round(Y);return X.containerWidth===z&&X.containerHeight===J?X:{containerWidth:z,containerHeight:J}})},[]);T.useEffect(function(){var U=function(K){var D,$=K[0].contentRect,H=$.width,te=$.height;M(H,te),(D=k.current)===null||D===void 0||D.call(k,H,te)};b>0&&(U=r8(U,b,{trailing:!0,leading:!1}));var Y=new ResizeObserver(U),X=P.current.getBoundingClientRect(),z=X.width,J=X.height;return M(z,J),Y.observe(P.current),function(){Y.disconnect()}},[M,b]);var F=T.useMemo(function(){var U=I.containerWidth,Y=I.containerHeight;if(U<0||Y<0)return null;ki(nl(o)||nl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),ki(!n||n>0,"The aspect(%s) must be greater than zero.",n);var X=nl(o)?U:o,z=nl(l)?Y:l;n&&n>0&&(X?z=X/n:z&&(X=z*n),m&&z>m&&(z=m)),ki(X>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,z,o,l,f,h,n);var J=!Array.isArray(v)&&$s(v.type).endsWith("Chart");return V.Children.map(v,function(B){return V.isValidElement(B)?T.cloneElement(B,Qm({width:X,height:z},J?{style:Qm({height:"100%",width:"100%",maxHeight:z,maxWidth:X},B.props.style)}:{})):B})},[n,v,l,m,h,f,I,o]);return V.createElement("div",{id:y?"".concat(y):void 0,className:Ye("recharts-responsive-container",_),style:Qm(Qm({},E),{},{width:o,height:l,minWidth:f,minHeight:h,maxHeight:m}),ref:P},F)}),Ky=function(e){return null};Ky.displayName="Cell";function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function VL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(n),!0).forEach(function(r){Rye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rye(t,e,n){return e=Iye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iye(t){var e=Mye(t,"string");return sh(e)=="symbol"?e:e+""}function Mye(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kc={widthCache:{},cacheCount:0},Dye=2e3,$ye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WL="recharts_measurement_span";function Lye(t){var e=lP({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var If=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Vl.isSsr)return{width:0,height:0};var r=Lye(n),i=JSON.stringify({text:e,copyStyle:r});if(kc.widthCache[i])return kc.widthCache[i];try{var s=document.getElementById(WL);s||(s=document.createElement("span"),s.setAttribute("id",WL),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=lP(lP({},$ye),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return kc.widthCache[i]=l,++kc.cacheCount>Dye&&(kc.cacheCount=0,kc.widthCache={}),l}catch{return{width:0,height:0}}},Fye=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function wv(t,e){return Vye(t)||qye(t,e)||Uye(t,e)||Bye()}function Bye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uye(t,e){if(t){if(typeof t=="string")return zL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zL(t,e)}}function zL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Vye(t){if(Array.isArray(t))return t}function Wye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hye(r.key),r)}}function zye(t,e,n){return e&&HL(t.prototype,e),n&&HL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hye(t){var e=Gye(t,"string");return oh(e)=="symbol"?e:e+""}function Gye(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Kye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Yye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,s8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Xye=Object.keys(s8),Bc="NaN";function Qye(t,e){return t*s8[e]}var Jm=(function(){function t(e,n){Wye(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Kye.test(n)&&(this.num=NaN,this.unit=""),Xye.includes(n)&&(this.num=Qye(e,n),this.unit="px")}return zye(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Yye.exec(n))!==null&&r!==void 0?r:[],s=wv(i,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}])})();function o8(t){if(t.includes(Bc))return Bc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=GL.exec(e))!==null&&n!==void 0?n:[],i=wv(r,4),s=i[1],o=i[2],a=i[3],l=Jm.parse(s??""),u=Jm.parse(a??""),f=o==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Bc;e=e.replace(GL,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,m=(h=KL.exec(e))!==null&&h!==void 0?h:[],v=wv(m,4),x=v[1],b=v[2],y=v[3],_=Jm.parse(x??""),S=Jm.parse(y??""),C=b==="+"?_.add(S):_.subtract(S);if(C.isNaN())return Bc;e=e.replace(KL,C.toString())}return e}var YL=/\(([^()]*)\)/;function Jye(t){for(var e=t;e.includes("(");){var n=YL.exec(e),r=wv(n,2),i=r[1];e=e.replace(YL,o8(i))}return e}function Zye(t){var e=t.replace(/\s+/g,"");return e=Jye(e),e=o8(e),e}function e0e(t){try{return Zye(t)}catch{return Bc}}function u1(t){var e=e0e(t.slice(5,-1));return e===Bc?"":e}var t0e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],n0e=["dx","dy","angle","className","breakAll"];function cP(){return cP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cP.apply(this,arguments)}function XL(t,e){if(t==null)return{};var n=r0e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function r0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QL(t,e){return a0e(t)||o0e(t,e)||s0e(t,e)||i0e()}function i0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s0e(t,e){if(t){if(typeof t=="string")return JL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JL(t,e)}}function JL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function a0e(t){if(Array.isArray(t))return t}var a8=/[ \f\n\r\t\v\u2028\u2029]+/,l8=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Xe(n)||(r?s=n.toString().split(""):s=n.toString().split(a8));var o=s.map(function(l){return{word:l,width:If(l,i).width}}),a=r?0:If("",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},l0e=function(e,n,r,i,s){var o=e.maxLines,a=e.children,l=e.style,u=e.breakAll,f=de(o),h=a,m=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(z,J){var B=J.word,K=J.width,D=z[z.length-1];if(D&&(i==null||s||D.width+K+r<Number(i)))D.words.push(B),D.width+=K+r;else{var $={words:[B],width:K};z.push($)}return z},[])},v=m(n),x=function(X){return X.reduce(function(z,J){return z.width>J.width?z:J})};if(!f)return v;for(var b="",y=function(X){var z=h.slice(0,X),J=l8({breakAll:u,style:l,children:z+b}).wordsWithComputedWidth,B=m(J),K=B.length>o||x(B).width>Number(i);return[K,B]},_=0,S=h.length-1,C=0,E;_<=S&&C<=h.length-1;){var P=Math.floor((_+S)/2),k=P-1,j=y(k),N=QL(j,2),I=N[0],L=N[1],M=y(P),F=QL(M,1),U=F[0];if(!I&&!U&&(_=P+1),I&&U&&(S=P-1),!I&&U){E=L;break}C++}return E||v},ZL=function(e){var n=Xe(e)?[]:e.toString().split(a8);return[{words:n}]},c0e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((n||r)&&!Vl.isSsr){var l,u,f=l8({breakAll:o,children:i,style:s});if(f){var h=f.wordsWithComputedWidth,m=f.spaceWidth;l=h,u=m}else return ZL(i);return l0e({breakAll:o,children:i,maxLines:a,style:s},l,u,n,r)}return ZL(i)},e3="#808080",Dl=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,f=e.scaleToFit,h=f===void 0?!1:f,m=e.textAnchor,v=m===void 0?"start":m,x=e.verticalAnchor,b=x===void 0?"end":x,y=e.fill,_=y===void 0?e3:y,S=XL(e,t0e),C=T.useMemo(function(){return c0e({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:h,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,h,S.style,S.width]),E=S.dx,P=S.dy,k=S.angle,j=S.className,N=S.breakAll,I=XL(S,n0e);if(!wn(r)||!wn(s))return null;var L=r+(de(E)?E:0),M=s+(de(P)?P:0),F;switch(b){case"start":F=u1("calc(".concat(u,")"));break;case"middle":F=u1("calc(".concat((C.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:F=u1("calc(".concat(C.length-1," * -").concat(a,")"));break}var U=[];if(h){var Y=C[0].width,X=S.width;U.push("scale(".concat((de(X)?X/Y:1)/Y,")"))}return k&&U.push("rotate(".concat(k,", ").concat(L,", ").concat(M,")")),U.length&&(I.transform=U.join(" ")),V.createElement("text",cP({},Me(I,!0),{x:L,y:M,className:Ye("recharts-text",j),textAnchor:v,fill:_.includes("url")?e3:_}),C.map(function(z,J){var B=z.words.join(N?"":" ");return V.createElement("tspan",{x:L,dy:J===0?F:a,key:"".concat(B,"-").concat(J)},B)}))};function Xo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function u0e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mk(t){let e,n,r;t.length!==2?(e=Xo,n=(a,l)=>Xo(t(a),l),r=(a,l)=>t(a)-l):(e=t===Xo||t===u0e?t:d0e,n=t,r=t);function i(a,l,u=0,f=a.length){if(u<f){if(e(l,l)!==0)return f;do{const h=u+f>>>1;n(a[h],l)<0?u=h+1:f=h}while(u<f)}return u}function s(a,l,u=0,f=a.length){if(u<f){if(e(l,l)!==0)return f;do{const h=u+f>>>1;n(a[h],l)<=0?u=h+1:f=h}while(u<f)}return u}function o(a,l,u=0,f=a.length){const h=i(a,l,u,f-1);return h>u&&r(a[h-1],l)>-r(a[h],l)?h-1:h}return{left:i,center:o,right:s}}function d0e(){return 0}function c8(t){return t===null?NaN:+t}function*f0e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const h0e=mk(Xo),ap=h0e.right;mk(c8).center;class t3 extends Map{constructor(e,n=g0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(n3(this,e))}has(e){return super.has(n3(this,e))}set(e,n){return super.set(p0e(this,e),n)}delete(e){return super.delete(m0e(this,e))}}function n3({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function p0e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function m0e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function g0e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function v0e(t=Xo){if(t===Xo)return u8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function u8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const y0e=Math.sqrt(50),b0e=Math.sqrt(10),x0e=Math.sqrt(2);function _v(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=y0e?10:s>=b0e?5:s>=x0e?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?_v(t,e,n*2):[a,l,u]}function uP(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?_v(e,t,n):_v(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function dP(t,e,n){return e=+e,t=+t,n=+n,_v(t,e,n)[2]}function fP(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?dP(e,t,n):dP(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function r3(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function i3(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function d8(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?u8:v0e(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,f=Math.log(l),h=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*h*(l-h)/l)*(u-l/2<0?-1:1),v=Math.max(n,Math.floor(e-u*h/l+m)),x=Math.min(r,Math.floor(e+(l-u)*h/l+m));d8(t,e,v,x,i)}const s=t[e];let o=n,a=r;for(df(t,n,e),i(t[r],s)>0&&df(t,n,r);o<a;){for(df(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?df(t,n,a):(++a,df(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function df(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function w0e(t,e,n){if(t=Float64Array.from(f0e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return i3(t);if(e>=1)return r3(t);var r,i=(r-1)*e,s=Math.floor(i),o=r3(d8(t,s).subarray(0,s+1)),a=i3(t.subarray(s+1));return o+(a-o)*(i-s)}}function _0e(t,e,n=c8){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function S0e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ai(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ro(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const hP=Symbol("implicit");function gk(){var t=new t3,e=[],n=[],r=hP;function i(s){let o=t.get(s);if(o===void 0){if(r!==hP)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new t3;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return gk(e,n).unknown(r)},ai.apply(i,arguments),i}function ah(){var t=gk().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,l=0,u=0,f=.5;delete t.unknown;function h(){var m=e().length,v=i<r,x=v?i:r,b=v?r:i;s=(b-x)/Math.max(1,m-l+u*2),a&&(s=Math.floor(s)),x+=(b-x-s*(m-l))*f,o=s*(1-l),a&&(x=Math.round(x),o=Math.round(o));var y=S0e(m).map(function(_){return x+s*_});return n(v?y.reverse():y)}return t.domain=function(m){return arguments.length?(e(m),h()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,a=!0,h()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(m){return arguments.length?(a=!!m,h()):a},t.padding=function(m){return arguments.length?(l=Math.min(1,u=+m),h()):l},t.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),h()):l},t.paddingOuter=function(m){return arguments.length?(u=+m,h()):u},t.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),h()):f},t.copy=function(){return ah(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(f)},ai.apply(h(),arguments)}function f8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return f8(e())},t}function Mf(){return f8(ah.apply(null,arguments).paddingInner(1))}function vk(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function h8(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function lp(){}var lh=.7,Sv=1/lh,Jc="\\s*([+-]?\\d+)\\s*",ch="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",es="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",C0e=/^#([0-9a-f]{3,8})$/,T0e=new RegExp(`^rgb\\(${Jc},${Jc},${Jc}\\)$`),P0e=new RegExp(`^rgb\\(${es},${es},${es}\\)$`),E0e=new RegExp(`^rgba\\(${Jc},${Jc},${Jc},${ch}\\)$`),A0e=new RegExp(`^rgba\\(${es},${es},${es},${ch}\\)$`),k0e=new RegExp(`^hsl\\(${ch},${es},${es}\\)$`),j0e=new RegExp(`^hsla\\(${ch},${es},${es},${ch}\\)$`),s3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vk(lp,uh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:o3,formatHex:o3,formatHex8:O0e,formatHsl:N0e,formatRgb:a3,toString:a3});function o3(){return this.rgb().formatHex()}function O0e(){return this.rgb().formatHex8()}function N0e(){return p8(this).formatHsl()}function a3(){return this.rgb().formatRgb()}function uh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=C0e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?l3(e):n===3?new wr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=T0e.exec(t))?new wr(e[1],e[2],e[3],1):(e=P0e.exec(t))?new wr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=E0e.exec(t))?Zm(e[1],e[2],e[3],e[4]):(e=A0e.exec(t))?Zm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=k0e.exec(t))?d3(e[1],e[2]/100,e[3]/100,1):(e=j0e.exec(t))?d3(e[1],e[2]/100,e[3]/100,e[4]):s3.hasOwnProperty(t)?l3(s3[t]):t==="transparent"?new wr(NaN,NaN,NaN,0):null}function l3(t){return new wr(t>>16&255,t>>8&255,t&255,1)}function Zm(t,e,n,r){return r<=0&&(t=e=n=NaN),new wr(t,e,n,r)}function R0e(t){return t instanceof lp||(t=uh(t)),t?(t=t.rgb(),new wr(t.r,t.g,t.b,t.opacity)):new wr}function pP(t,e,n,r){return arguments.length===1?R0e(t):new wr(t,e,n,r??1)}function wr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}vk(wr,pP,h8(lp,{brighter(t){return t=t==null?Sv:Math.pow(Sv,t),new wr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?lh:Math.pow(lh,t),new wr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new wr(Cl(this.r),Cl(this.g),Cl(this.b),Cv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:c3,formatHex:c3,formatHex8:I0e,formatRgb:u3,toString:u3}));function c3(){return`#${rl(this.r)}${rl(this.g)}${rl(this.b)}`}function I0e(){return`#${rl(this.r)}${rl(this.g)}${rl(this.b)}${rl((isNaN(this.opacity)?1:this.opacity)*255)}`}function u3(){const t=Cv(this.opacity);return`${t===1?"rgb(":"rgba("}${Cl(this.r)}, ${Cl(this.g)}, ${Cl(this.b)}${t===1?")":`, ${t})`}`}function Cv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Cl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function rl(t){return t=Cl(t),(t<16?"0":"")+t.toString(16)}function d3(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ei(t,e,n,r)}function p8(t){if(t instanceof Ei)return new Ei(t.h,t.s,t.l,t.opacity);if(t instanceof lp||(t=uh(t)),!t)return new Ei;if(t instanceof Ei)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Ei(o,a,l,t.opacity)}function M0e(t,e,n,r){return arguments.length===1?p8(t):new Ei(t,e,n,r??1)}function Ei(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}vk(Ei,M0e,h8(lp,{brighter(t){return t=t==null?Sv:Math.pow(Sv,t),new Ei(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?lh:Math.pow(lh,t),new Ei(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new wr(d1(t>=240?t-240:t+120,i,r),d1(t,i,r),d1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ei(f3(this.h),eg(this.s),eg(this.l),Cv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Cv(this.opacity);return`${t===1?"hsl(":"hsla("}${f3(this.h)}, ${eg(this.s)*100}%, ${eg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function f3(t){return t=(t||0)%360,t<0?t+360:t}function eg(t){return Math.max(0,Math.min(1,t||0))}function d1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const yk=t=>()=>t;function D0e(t,e){return function(n){return t+n*e}}function $0e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function L0e(t){return(t=+t)==1?m8:function(e,n){return n-e?$0e(e,n,t):yk(isNaN(e)?n:e)}}function m8(t,e){var n=e-t;return n?D0e(t,n):yk(isNaN(t)?e:t)}const h3=(function t(e){var n=L0e(e);function r(i,s){var o=n((i=pP(i)).r,(s=pP(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=m8(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=a(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=t,r})(1);function F0e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function B0e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function U0e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=hd(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function q0e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Tv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function V0e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=hd(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var mP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,f1=new RegExp(mP.source,"g");function W0e(t){return function(){return t}}function z0e(t){return function(e){return t(e)+""}}function H0e(t,e){var n=mP.lastIndex=f1.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=mP.exec(t))&&(i=f1.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Tv(r,i)})),n=f1.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?z0e(l[0].x):W0e(e):(e=l.length,function(u){for(var f=0,h;f<e;++f)a[(h=l[f]).i]=h.x(u);return a.join("")})}function hd(t,e){var n=typeof e,r;return e==null||n==="boolean"?yk(e):(n==="number"?Tv:n==="string"?(r=uh(e))?(e=r,h3):H0e:e instanceof uh?h3:e instanceof Date?q0e:B0e(e)?F0e:Array.isArray(e)?U0e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?V0e:Tv)(t,e)}function bk(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function G0e(t,e){e===void 0&&(e=t,t=hd);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function K0e(t){return function(){return t}}function Pv(t){return+t}var p3=[0,1];function sr(t){return t}function gP(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:K0e(isNaN(e)?NaN:.5)}function Y0e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function X0e(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=gP(i,r),s=n(o,s)):(r=gP(r,i),s=n(s,o)),function(a){return s(r(a))}}function Q0e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=gP(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=ap(t,a,1,r)-1;return s[l](i[l](a))}}function cp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Yy(){var t=p3,e=p3,n=hd,r,i,s,o=sr,a,l,u;function f(){var m=Math.min(t.length,e.length);return o!==sr&&(o=Y0e(t[0],t[m-1])),a=m>2?Q0e:X0e,l=u=null,h}function h(m){return m==null||isNaN(m=+m)?s:(l||(l=a(t.map(r),e,n)))(r(o(m)))}return h.invert=function(m){return o(i((u||(u=a(e,t.map(r),Tv)))(m)))},h.domain=function(m){return arguments.length?(t=Array.from(m,Pv),f()):t.slice()},h.range=function(m){return arguments.length?(e=Array.from(m),f()):e.slice()},h.rangeRound=function(m){return e=Array.from(m),n=bk,f()},h.clamp=function(m){return arguments.length?(o=m?!0:sr,f()):o!==sr},h.interpolate=function(m){return arguments.length?(n=m,f()):n},h.unknown=function(m){return arguments.length?(s=m,h):s},function(m,v){return r=m,i=v,f()}}function xk(){return Yy()(sr,sr)}function J0e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ev(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Au(t){return t=Ev(Math.abs(t)),t?t[1]:NaN}function Z0e(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function ebe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var tbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dh(t){if(!(e=tbe.exec(t)))throw new Error("invalid format: "+t);var e;return new wk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}dh.prototype=wk.prototype;function wk(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}wk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nbe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var g8;function rbe(t,e){var n=Ev(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(g8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Ev(t,Math.max(0,e+s-1))[0]}function m3(t,e){var n=Ev(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const g3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:J0e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>m3(t*100,e),r:m3,s:rbe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function v3(t){return t}var y3=Array.prototype.map,b3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ibe(t){var e=t.grouping===void 0||t.thousands===void 0?v3:Z0e(y3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?v3:ebe(y3.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=dh(h);var m=h.fill,v=h.align,x=h.sign,b=h.symbol,y=h.zero,_=h.width,S=h.comma,C=h.precision,E=h.trim,P=h.type;P==="n"?(S=!0,P="g"):g3[P]||(C===void 0&&(C=12),E=!0,P="g"),(y||m==="0"&&v==="=")&&(y=!0,m="0",v="=");var k=b==="$"?n:b==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",j=b==="$"?r:/[%p]/.test(P)?o:"",N=g3[P],I=/[defgprs%]/.test(P);C=C===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function L(M){var F=k,U=j,Y,X,z;if(P==="c")U=N(M)+U,M="";else{M=+M;var J=M<0||1/M<0;if(M=isNaN(M)?l:N(Math.abs(M),C),E&&(M=nbe(M)),J&&+M==0&&x!=="+"&&(J=!1),F=(J?x==="("?x:a:x==="-"||x==="("?"":x)+F,U=(P==="s"?b3[8+g8/3]:"")+U+(J&&x==="("?")":""),I){for(Y=-1,X=M.length;++Y<X;)if(z=M.charCodeAt(Y),48>z||z>57){U=(z===46?i+M.slice(Y+1):M.slice(Y))+U,M=M.slice(0,Y);break}}}S&&!y&&(M=e(M,1/0));var B=F.length+M.length+U.length,K=B<_?new Array(_-B+1).join(m):"";switch(S&&y&&(M=e(K+M,K.length?_-U.length:1/0),K=""),v){case"<":M=F+M+U+K;break;case"=":M=F+K+M+U;break;case"^":M=K.slice(0,B=K.length>>1)+F+M+U+K.slice(B);break;default:M=K+F+M+U;break}return s(M)}return L.toString=function(){return h+""},L}function f(h,m){var v=u((h=dh(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(Au(m)/3)))*3,b=Math.pow(10,-x),y=b3[8+x/3];return function(_){return v(b*_)+y}}return{format:u,formatPrefix:f}}var tg,_k,v8;sbe({thousands:",",grouping:[3],currency:["$",""]});function sbe(t){return tg=ibe(t),_k=tg.format,v8=tg.formatPrefix,tg}function obe(t){return Math.max(0,-Au(Math.abs(t)))}function abe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Au(e)/3)))*3-Au(Math.abs(t)))}function lbe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Au(e)-Au(t))+1}function y8(t,e,n,r){var i=fP(t,e,n),s;switch(r=dh(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=abe(i,o))&&(r.precision=s),v8(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=lbe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=obe(i))&&(r.precision=s-(r.type==="%")*2);break}}return _k(r)}function pa(t){var e=t.domain;return t.ticks=function(n){var r=e();return uP(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return y8(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,u,f=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);f-- >0;){if(u=dP(o,a,n),u===l)return r[i]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Av(){var t=xk();return t.copy=function(){return cp(t,Av())},ai.apply(t,arguments),pa(t)}function b8(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Pv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return b8(t).unknown(e)},t=arguments.length?Array.from(t,Pv):[0,1],pa(n)}function x8(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function x3(t){return Math.log(t)}function w3(t){return Math.exp(t)}function cbe(t){return-Math.log(-t)}function ube(t){return-Math.exp(-t)}function dbe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function fbe(t){return t===10?dbe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function hbe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function _3(t){return(e,n)=>-t(-e,n)}function Sk(t){const e=t(x3,w3),n=e.domain;let r=10,i,s;function o(){return i=hbe(r),s=fbe(r),n()[0]<0?(i=_3(i),s=_3(s),t(cbe,ube)):t(x3,w3),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let u=l[0],f=l[l.length-1];const h=f<u;h&&([u,f]=[f,u]);let m=i(u),v=i(f),x,b;const y=a==null?10:+a;let _=[];if(!(r%1)&&v-m<y){if(m=Math.floor(m),v=Math.ceil(v),u>0){for(;m<=v;++m)for(x=1;x<r;++x)if(b=m<0?x/s(-m):x*s(m),!(b<u)){if(b>f)break;_.push(b)}}else for(;m<=v;++m)for(x=r-1;x>=1;--x)if(b=m>0?x/s(-m):x*s(m),!(b<u)){if(b>f)break;_.push(b)}_.length*2<y&&(_=uP(u,f,y))}else _=uP(m,v,Math.min(v-m,y)).map(s);return h?_.reverse():_},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=dh(l)).precision==null&&(l.trim=!0),l=_k(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return f=>{let h=f/s(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=u?l(f):""}},e.nice=()=>n(x8(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function w8(){const t=Sk(Yy()).domain([1,10]);return t.copy=()=>cp(t,w8()).base(t.base()),ai.apply(t,arguments),t}function S3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function C3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Ck(t){var e=1,n=t(S3(e),C3(e));return n.constant=function(r){return arguments.length?t(S3(e=+r),C3(e)):e},pa(n)}function _8(){var t=Ck(Yy());return t.copy=function(){return cp(t,_8()).constant(t.constant())},ai.apply(t,arguments)}function T3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function pbe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function mbe(t){return t<0?-t*t:t*t}function Tk(t){var e=t(sr,sr),n=1;function r(){return n===1?t(sr,sr):n===.5?t(pbe,mbe):t(T3(n),T3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},pa(e)}function Pk(){var t=Tk(Yy());return t.copy=function(){return cp(t,Pk()).exponent(t.exponent())},ai.apply(t,arguments),t}function gbe(){return Pk.apply(null,arguments).exponent(.5)}function P3(t){return Math.sign(t)*t*t}function vbe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function S8(){var t=xk(),e=[0,1],n=!1,r;function i(s){var o=vbe(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(P3(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Pv)).map(P3)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return S8(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ai.apply(i,arguments),pa(i)}function C8(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=_0e(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[ap(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Xo),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return C8().domain(t).range(e).unknown(r)},ai.apply(s,arguments)}function T8(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[ap(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return T8().domain([t,e]).range(i).unknown(s)},ai.apply(pa(o),arguments)}function P8(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[ap(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return P8().domain(t).range(e).unknown(n)},ai.apply(i,arguments)}const h1=new Date,p1=new Date;function _n(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let u;do l.push(u=new Date(+s)),e(s,a),t(s);while(u<s&&s<o);return l},i.filter=s=>_n(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(h1.setTime(+s),p1.setTime(+o),t(h1),t(p1),Math.floor(n(h1,p1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const kv=_n(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);kv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_n(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):kv);kv.range;const Os=1e3,ti=Os*60,Ns=ti*60,Ks=Ns*24,Ek=Ks*7,E3=Ks*30,m1=Ks*365,il=_n(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getUTCSeconds());il.range;const Ak=_n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Os)},(t,e)=>{t.setTime(+t+e*ti)},(t,e)=>(e-t)/ti,t=>t.getMinutes());Ak.range;const kk=_n(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ti)},(t,e)=>(e-t)/ti,t=>t.getUTCMinutes());kk.range;const jk=_n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Os-t.getMinutes()*ti)},(t,e)=>{t.setTime(+t+e*Ns)},(t,e)=>(e-t)/Ns,t=>t.getHours());jk.range;const Ok=_n(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ns)},(t,e)=>(e-t)/Ns,t=>t.getUTCHours());Ok.range;const up=_n(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ti)/Ks,t=>t.getDate()-1);up.range;const Xy=_n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ks,t=>t.getUTCDate()-1);Xy.range;const E8=_n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ks,t=>Math.floor(t/Ks));E8.range;function Wl(t){return _n(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ti)/Ek)}const Qy=Wl(0),jv=Wl(1),ybe=Wl(2),bbe=Wl(3),ku=Wl(4),xbe=Wl(5),wbe=Wl(6);Qy.range;jv.range;ybe.range;bbe.range;ku.range;xbe.range;wbe.range;function zl(t){return _n(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Ek)}const Jy=zl(0),Ov=zl(1),_be=zl(2),Sbe=zl(3),ju=zl(4),Cbe=zl(5),Tbe=zl(6);Jy.range;Ov.range;_be.range;Sbe.range;ju.range;Cbe.range;Tbe.range;const Nk=_n(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Nk.range;const Rk=_n(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Rk.range;const Ys=_n(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ys.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_n(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ys.range;const Xs=_n(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Xs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_n(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Xs.range;function A8(t,e,n,r,i,s){const o=[[il,1,Os],[il,5,5*Os],[il,15,15*Os],[il,30,30*Os],[s,1,ti],[s,5,5*ti],[s,15,15*ti],[s,30,30*ti],[i,1,Ns],[i,3,3*Ns],[i,6,6*Ns],[i,12,12*Ns],[r,1,Ks],[r,2,2*Ks],[n,1,Ek],[e,1,E3],[e,3,3*E3],[t,1,m1]];function a(u,f,h){const m=f<u;m&&([u,f]=[f,u]);const v=h&&typeof h.range=="function"?h:l(u,f,h),x=v?v.range(u,+f+1):[];return m?x.reverse():x}function l(u,f,h){const m=Math.abs(f-u)/h,v=mk(([,,y])=>y).right(o,m);if(v===o.length)return t.every(fP(u/m1,f/m1,h));if(v===0)return kv.every(Math.max(fP(u,f,h),1));const[x,b]=o[m/o[v-1][2]<o[v][2]/m?v-1:v];return x.every(b)}return[a,l]}const[Pbe,Ebe]=A8(Xs,Rk,Jy,E8,Ok,kk),[Abe,kbe]=A8(Ys,Nk,Qy,up,jk,Ak);function g1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function v1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ff(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function jbe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,u=hf(i),f=pf(i),h=hf(s),m=pf(s),v=hf(o),x=pf(o),b=hf(a),y=pf(a),_=hf(l),S=pf(l),C={a:J,A:B,b:K,B:D,c:null,d:R3,e:R3,f:Zbe,g:cxe,G:dxe,H:Xbe,I:Qbe,j:Jbe,L:k8,m:exe,M:txe,p:$,q:H,Q:D3,s:$3,S:nxe,u:rxe,U:ixe,V:sxe,w:oxe,W:axe,x:null,X:null,y:lxe,Y:uxe,Z:fxe,"%":M3},E={a:te,A:ce,b:ye,B:je,c:null,d:I3,e:I3,f:gxe,g:Pxe,G:Axe,H:hxe,I:pxe,j:mxe,L:O8,m:vxe,M:yxe,p:oe,q:me,Q:D3,s:$3,S:bxe,u:xxe,U:wxe,V:_xe,w:Sxe,W:Cxe,x:null,X:null,y:Txe,Y:Exe,Z:kxe,"%":M3},P={a:L,A:M,b:F,B:U,c:Y,d:O3,e:O3,f:Hbe,g:j3,G:k3,H:N3,I:N3,j:qbe,L:zbe,m:Ube,M:Vbe,p:I,q:Bbe,Q:Kbe,s:Ybe,S:Wbe,u:Mbe,U:Dbe,V:$be,w:Ibe,W:Lbe,x:X,X:z,y:j3,Y:k3,Z:Fbe,"%":Gbe};C.x=k(n,C),C.X=k(r,C),C.c=k(e,C),E.x=k(n,E),E.X=k(r,E),E.c=k(e,E);function k(se,fe){return function(ve){var re=[],Ge=-1,Fe=0,dt=se.length,ft,Et,Yn;for(ve instanceof Date||(ve=new Date(+ve));++Ge<dt;)se.charCodeAt(Ge)===37&&(re.push(se.slice(Fe,Ge)),(Et=A3[ft=se.charAt(++Ge)])!=null?ft=se.charAt(++Ge):Et=ft==="e"?" ":"0",(Yn=fe[ft])&&(ft=Yn(ve,Et)),re.push(ft),Fe=Ge+1);return re.push(se.slice(Fe,Ge)),re.join("")}}function j(se,fe){return function(ve){var re=ff(1900,void 0,1),Ge=N(re,se,ve+="",0),Fe,dt;if(Ge!=ve.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(fe&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Fe=v1(ff(re.y,0,1)),dt=Fe.getUTCDay(),Fe=dt>4||dt===0?Ov.ceil(Fe):Ov(Fe),Fe=Xy.offset(Fe,(re.V-1)*7),re.y=Fe.getUTCFullYear(),re.m=Fe.getUTCMonth(),re.d=Fe.getUTCDate()+(re.w+6)%7):(Fe=g1(ff(re.y,0,1)),dt=Fe.getDay(),Fe=dt>4||dt===0?jv.ceil(Fe):jv(Fe),Fe=up.offset(Fe,(re.V-1)*7),re.y=Fe.getFullYear(),re.m=Fe.getMonth(),re.d=Fe.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),dt="Z"in re?v1(ff(re.y,0,1)).getUTCDay():g1(ff(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(dt+5)%7:re.w+re.U*7-(dt+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,v1(re)):g1(re)}}function N(se,fe,ve,re){for(var Ge=0,Fe=fe.length,dt=ve.length,ft,Et;Ge<Fe;){if(re>=dt)return-1;if(ft=fe.charCodeAt(Ge++),ft===37){if(ft=fe.charAt(Ge++),Et=P[ft in A3?fe.charAt(Ge++):ft],!Et||(re=Et(se,ve,re))<0)return-1}else if(ft!=ve.charCodeAt(re++))return-1}return re}function I(se,fe,ve){var re=u.exec(fe.slice(ve));return re?(se.p=f.get(re[0].toLowerCase()),ve+re[0].length):-1}function L(se,fe,ve){var re=v.exec(fe.slice(ve));return re?(se.w=x.get(re[0].toLowerCase()),ve+re[0].length):-1}function M(se,fe,ve){var re=h.exec(fe.slice(ve));return re?(se.w=m.get(re[0].toLowerCase()),ve+re[0].length):-1}function F(se,fe,ve){var re=_.exec(fe.slice(ve));return re?(se.m=S.get(re[0].toLowerCase()),ve+re[0].length):-1}function U(se,fe,ve){var re=b.exec(fe.slice(ve));return re?(se.m=y.get(re[0].toLowerCase()),ve+re[0].length):-1}function Y(se,fe,ve){return N(se,e,fe,ve)}function X(se,fe,ve){return N(se,n,fe,ve)}function z(se,fe,ve){return N(se,r,fe,ve)}function J(se){return o[se.getDay()]}function B(se){return s[se.getDay()]}function K(se){return l[se.getMonth()]}function D(se){return a[se.getMonth()]}function $(se){return i[+(se.getHours()>=12)]}function H(se){return 1+~~(se.getMonth()/3)}function te(se){return o[se.getUTCDay()]}function ce(se){return s[se.getUTCDay()]}function ye(se){return l[se.getUTCMonth()]}function je(se){return a[se.getUTCMonth()]}function oe(se){return i[+(se.getUTCHours()>=12)]}function me(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var fe=k(se+="",C);return fe.toString=function(){return se},fe},parse:function(se){var fe=j(se+="",!1);return fe.toString=function(){return se},fe},utcFormat:function(se){var fe=k(se+="",E);return fe.toString=function(){return se},fe},utcParse:function(se){var fe=j(se+="",!0);return fe.toString=function(){return se},fe}}}var A3={"-":"",_:" ",0:"0"},jn=/^\s*\d+/,Obe=/^%/,Nbe=/[\\^$*+?|[\]().{}]/g;function ct(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Rbe(t){return t.replace(Nbe,"\\$&")}function hf(t){return new RegExp("^(?:"+t.map(Rbe).join("|")+")","i")}function pf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Ibe(t,e,n){var r=jn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Mbe(t,e,n){var r=jn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Dbe(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function $be(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Lbe(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function k3(t,e,n){var r=jn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function j3(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Fbe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Bbe(t,e,n){var r=jn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Ube(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function O3(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function qbe(t,e,n){var r=jn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function N3(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Vbe(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Wbe(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function zbe(t,e,n){var r=jn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Hbe(t,e,n){var r=jn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Gbe(t,e,n){var r=Obe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Kbe(t,e,n){var r=jn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ybe(t,e,n){var r=jn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function R3(t,e){return ct(t.getDate(),e,2)}function Xbe(t,e){return ct(t.getHours(),e,2)}function Qbe(t,e){return ct(t.getHours()%12||12,e,2)}function Jbe(t,e){return ct(1+up.count(Ys(t),t),e,3)}function k8(t,e){return ct(t.getMilliseconds(),e,3)}function Zbe(t,e){return k8(t,e)+"000"}function exe(t,e){return ct(t.getMonth()+1,e,2)}function txe(t,e){return ct(t.getMinutes(),e,2)}function nxe(t,e){return ct(t.getSeconds(),e,2)}function rxe(t){var e=t.getDay();return e===0?7:e}function ixe(t,e){return ct(Qy.count(Ys(t)-1,t),e,2)}function j8(t){var e=t.getDay();return e>=4||e===0?ku(t):ku.ceil(t)}function sxe(t,e){return t=j8(t),ct(ku.count(Ys(t),t)+(Ys(t).getDay()===4),e,2)}function oxe(t){return t.getDay()}function axe(t,e){return ct(jv.count(Ys(t)-1,t),e,2)}function lxe(t,e){return ct(t.getFullYear()%100,e,2)}function cxe(t,e){return t=j8(t),ct(t.getFullYear()%100,e,2)}function uxe(t,e){return ct(t.getFullYear()%1e4,e,4)}function dxe(t,e){var n=t.getDay();return t=n>=4||n===0?ku(t):ku.ceil(t),ct(t.getFullYear()%1e4,e,4)}function fxe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ct(e/60|0,"0",2)+ct(e%60,"0",2)}function I3(t,e){return ct(t.getUTCDate(),e,2)}function hxe(t,e){return ct(t.getUTCHours(),e,2)}function pxe(t,e){return ct(t.getUTCHours()%12||12,e,2)}function mxe(t,e){return ct(1+Xy.count(Xs(t),t),e,3)}function O8(t,e){return ct(t.getUTCMilliseconds(),e,3)}function gxe(t,e){return O8(t,e)+"000"}function vxe(t,e){return ct(t.getUTCMonth()+1,e,2)}function yxe(t,e){return ct(t.getUTCMinutes(),e,2)}function bxe(t,e){return ct(t.getUTCSeconds(),e,2)}function xxe(t){var e=t.getUTCDay();return e===0?7:e}function wxe(t,e){return ct(Jy.count(Xs(t)-1,t),e,2)}function N8(t){var e=t.getUTCDay();return e>=4||e===0?ju(t):ju.ceil(t)}function _xe(t,e){return t=N8(t),ct(ju.count(Xs(t),t)+(Xs(t).getUTCDay()===4),e,2)}function Sxe(t){return t.getUTCDay()}function Cxe(t,e){return ct(Ov.count(Xs(t)-1,t),e,2)}function Txe(t,e){return ct(t.getUTCFullYear()%100,e,2)}function Pxe(t,e){return t=N8(t),ct(t.getUTCFullYear()%100,e,2)}function Exe(t,e){return ct(t.getUTCFullYear()%1e4,e,4)}function Axe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ju(t):ju.ceil(t),ct(t.getUTCFullYear()%1e4,e,4)}function kxe(){return"+0000"}function M3(){return"%"}function D3(t){return+t}function $3(t){return Math.floor(+t/1e3)}var jc,R8,I8;jxe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jxe(t){return jc=jbe(t),R8=jc.format,jc.parse,I8=jc.utcFormat,jc.utcParse,jc}function Oxe(t){return new Date(t)}function Nxe(t){return t instanceof Date?+t:+new Date(+t)}function Ik(t,e,n,r,i,s,o,a,l,u){var f=xk(),h=f.invert,m=f.domain,v=u(".%L"),x=u(":%S"),b=u("%I:%M"),y=u("%I %p"),_=u("%a %d"),S=u("%b %d"),C=u("%B"),E=u("%Y");function P(k){return(l(k)<k?v:a(k)<k?x:o(k)<k?b:s(k)<k?y:r(k)<k?i(k)<k?_:S:n(k)<k?C:E)(k)}return f.invert=function(k){return new Date(h(k))},f.domain=function(k){return arguments.length?m(Array.from(k,Nxe)):m().map(Oxe)},f.ticks=function(k){var j=m();return t(j[0],j[j.length-1],k??10)},f.tickFormat=function(k,j){return j==null?P:u(j)},f.nice=function(k){var j=m();return(!k||typeof k.range!="function")&&(k=e(j[0],j[j.length-1],k??10)),k?m(x8(j,k)):f},f.copy=function(){return cp(f,Ik(t,e,n,r,i,s,o,a,l,u))},f}function Rxe(){return ai.apply(Ik(Abe,kbe,Ys,Nk,Qy,up,jk,Ak,il,R8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ixe(){return ai.apply(Ik(Pbe,Ebe,Xs,Rk,Jy,Xy,Ok,kk,il,I8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zy(){var t=0,e=1,n,r,i,s,o=sr,a=!1,l;function u(h){return h==null||isNaN(h=+h)?l:o(i===0?.5:(h=(s(h)-n)*i,a?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(a=!!h,u):a},u.interpolator=function(h){return arguments.length?(o=h,u):o};function f(h){return function(m){var v,x;return arguments.length?([v,x]=m,o=h(v,x),u):[o(0),o(1)]}}return u.range=f(hd),u.rangeRound=f(bk),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return s=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function ma(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function M8(){var t=pa(Zy()(sr));return t.copy=function(){return ma(t,M8())},ro.apply(t,arguments)}function D8(){var t=Sk(Zy()).domain([1,10]);return t.copy=function(){return ma(t,D8()).base(t.base())},ro.apply(t,arguments)}function $8(){var t=Ck(Zy());return t.copy=function(){return ma(t,$8()).constant(t.constant())},ro.apply(t,arguments)}function Mk(){var t=Tk(Zy());return t.copy=function(){return ma(t,Mk()).exponent(t.exponent())},ro.apply(t,arguments)}function Mxe(){return Mk.apply(null,arguments).exponent(.5)}function L8(){var t=[],e=sr;function n(r){if(r!=null&&!isNaN(r=+r))return e((ap(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Xo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>w0e(t,s/r))},n.copy=function(){return L8(e).domain(t)},ro.apply(n,arguments)}function e0(){var t=0,e=.5,n=1,r=1,i,s,o,a,l,u=sr,f,h=!1,m;function v(b){return isNaN(b=+b)?m:(b=.5+((b=+f(b))-s)*(r*b<r*s?a:l),u(h?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([t,e,n]=b,i=f(t=+t),s=f(e=+e),o=f(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,v):[t,e,n]},v.clamp=function(b){return arguments.length?(h=!!b,v):h},v.interpolator=function(b){return arguments.length?(u=b,v):u};function x(b){return function(y){var _,S,C;return arguments.length?([_,S,C]=y,u=G0e(b,[_,S,C]),v):[u(0),u(.5),u(1)]}}return v.range=x(hd),v.rangeRound=x(bk),v.unknown=function(b){return arguments.length?(m=b,v):m},function(b){return f=b,i=b(t),s=b(e),o=b(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,v}}function F8(){var t=pa(e0()(sr));return t.copy=function(){return ma(t,F8())},ro.apply(t,arguments)}function B8(){var t=Sk(e0()).domain([.1,1,10]);return t.copy=function(){return ma(t,B8()).base(t.base())},ro.apply(t,arguments)}function U8(){var t=Ck(e0());return t.copy=function(){return ma(t,U8()).constant(t.constant())},ro.apply(t,arguments)}function Dk(){var t=Tk(e0());return t.copy=function(){return ma(t,Dk()).exponent(t.exponent())},ro.apply(t,arguments)}function Dxe(){return Dk.apply(null,arguments).exponent(.5)}const L3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ah,scaleDiverging:F8,scaleDivergingLog:B8,scaleDivergingPow:Dk,scaleDivergingSqrt:Dxe,scaleDivergingSymlog:U8,scaleIdentity:b8,scaleImplicit:hP,scaleLinear:Av,scaleLog:w8,scaleOrdinal:gk,scalePoint:Mf,scalePow:Pk,scaleQuantile:C8,scaleQuantize:T8,scaleRadial:S8,scaleSequential:M8,scaleSequentialLog:D8,scaleSequentialPow:Mk,scaleSequentialQuantile:L8,scaleSequentialSqrt:Mxe,scaleSequentialSymlog:$8,scaleSqrt:gbe,scaleSymlog:_8,scaleThreshold:P8,scaleTime:Rxe,scaleUtc:Ixe,tickFormat:y8},Symbol.toStringTag,{value:"Module"}));var y1,F3;function t0(){if(F3)return y1;F3=1;var t=ld();function e(n,r,i){for(var s=-1,o=n.length;++s<o;){var a=n[s],l=r(a);if(l!=null&&(u===void 0?l===l&&!t(l):i(l,u)))var u=l,f=a}return f}return y1=e,y1}var b1,B3;function q8(){if(B3)return b1;B3=1;function t(e,n){return e>n}return b1=t,b1}var x1,U3;function $xe(){if(U3)return x1;U3=1;var t=t0(),e=q8(),n=fd();function r(i){return i&&i.length?t(i,n,e):void 0}return x1=r,x1}var Lxe=$xe();const zo=at(Lxe);var w1,q3;function V8(){if(q3)return w1;q3=1;function t(e,n){return e<n}return w1=t,w1}var _1,V3;function Fxe(){if(V3)return _1;V3=1;var t=t0(),e=V8(),n=fd();function r(i){return i&&i.length?t(i,n,e):void 0}return _1=r,_1}var Bxe=Fxe();const n0=at(Bxe);var S1,W3;function Uxe(){if(W3)return S1;W3=1;var t=JA(),e=cs(),n=Xz(),r=_r();function i(s,o){var a=r(s)?t:n;return a(s,e(o,3))}return S1=i,S1}var C1,z3;function qxe(){if(z3)return C1;z3=1;var t=Kz(),e=Uxe();function n(r,i){return t(e(r,i),1)}return C1=n,C1}var Vxe=qxe();const Wxe=at(Vxe);var T1,H3;function zxe(){if(H3)return T1;H3=1;var t=dk();function e(n,r){return t(n,r)}return T1=e,T1}var Hxe=zxe();const Ou=at(Hxe);var pd=1e9,Gxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Lk,Vt=!0,oi="[DecimalError] ",Tl=oi+"Invalid argument: ",$k=oi+"Exponent out of range: ",md=Math.floor,za=Math.pow,Kxe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ir,En=1e7,$t=7,W8=9007199254740991,Nv=md(W8/$t),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*$t;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(t){return Ls(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,n=e.constructor;return Pt(Ls(e,new n(t),0,1),n.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return cn(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ir))throw Error(oi+"NaN");if(n.s<1)throw Error(oi+(n.s?"NaN":"-Infinity"));return n.eq(Ir)?new r(0):(Vt=!1,e=Ls(fh(n,s),fh(t,s),s),Vt=!0,Pt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?G8(e,t):z8(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(oi+"NaN");return n.s?(Vt=!1,e=Ls(n,t,0,1).times(t),Vt=!0,n.minus(e)):Pt(new r(n),i)};Te.naturalExponential=Te.exp=function(){return H8(this)};Te.naturalLogarithm=Te.ln=function(){return fh(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?z8(e,t):G8(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Tl+t);if(e=cn(i)+1,r=i.d.length-1,n=r*$t+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Te.squareRoot=Te.sqrt=function(){var t,e,n,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(oi+"NaN")}for(t=cn(a),Vt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Ki(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=md((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(s=r,r=s.plus(Ls(a,s,o+2)).times(.5),Ki(s.d).slice(0,o)===(e=Ki(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Pt(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return Vt=!0,Pt(r,n)};Te.times=Te.mul=function(t){var e,n,r,i,s,o,a,l,u,f=this,h=f.constructor,m=f.d,v=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,n=f.e+t.e,l=m.length,u=v.length,l<u&&(s=m,m=v,v=s,o=l,l=u,u=o),s=[],o=l+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+v[r]*m[i-r-1]+e,s[i--]=a%En|0,e=a/En|0;s[i]=(s[i]+e)%En|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Vt?Pt(t,h.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ss(t,0,pd),e===void 0?e=r.rounding:ss(e,0,8),Pt(n,t+cn(n)+1,e))};Te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=$l(r,!0):(ss(t,0,pd),e===void 0?e=i.rounding:ss(e,0,8),r=Pt(new i(r),t+1,e),n=$l(r,!0,t+1)),n};Te.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?$l(i):(ss(t,0,pd),e===void 0?e=s.rounding:ss(e,0,8),r=Pt(new s(i),t+cn(i)+1,e),n=$l(r.abs(),!1,t+cn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return Pt(new e(t),cn(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,n,r,i,s,o,a=this,l=a.constructor,u=12,f=+(t=new l(t));if(!t.s)return new l(Ir);if(a=new l(a),!a.s){if(t.s<1)throw Error(oi+"Infinity");return a}if(a.eq(Ir))return a;if(r=l.precision,t.eq(Ir))return Pt(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=f<0?-f:f)<=W8){for(i=new l(Ir),e=Math.ceil(r/$t+4),Vt=!1;n%2&&(i=i.times(a),K3(i.d,e)),n=md(n/2),n!==0;)a=a.times(a),K3(a.d,e);return Vt=!0,t.s<0?new l(Ir).div(i):Pt(i,r)}}else if(s<0)throw Error(oi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,Vt=!1,i=t.times(fh(a,r+u)),Vt=!0,i=H8(i),i.s=s,i};Te.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=cn(i),r=$l(i,n<=s.toExpNeg||n>=s.toExpPos)):(ss(t,1,pd),e===void 0?e=s.rounding:ss(e,0,8),i=Pt(new s(i),t,e),n=cn(i),r=$l(i,t<=n||n<=s.toExpNeg,t)),r};Te.toSignificantDigits=Te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ss(t,1,pd),e===void 0?e=r.rounding:ss(e,0,8)),Pt(new r(n),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=cn(t),n=t.constructor;return $l(t,e<=n.toExpNeg||e>=n.toExpPos)};function z8(t,e){var n,r,i,s,o,a,l,u,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Vt?Pt(e,h):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=u.length):(r=u,i=o,a=l.length),o=Math.ceil(h/$t),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=u.length,a-s<0&&(s=a,r=u,u=l,l=r),n=0;s;)n=(l[--s]=l[s]+u[s]+n)/En|0,l[s]%=En;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,Vt?Pt(e,h):e}function ss(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Tl+t)}function Ki(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=$t-r.length,n&&(s+=No(n)),s+=r;o=t[e],r=o+"",n=$t-r.length,n&&(s+=No(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Ls=(function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%En|0,o=s/En|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*En+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,u,f,h,m,v,x,b,y,_,S,C,E,P,k,j,N,I=r.constructor,L=r.s==i.s?1:-1,M=r.d,F=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(oi+"Division by zero");for(l=r.e-i.e,j=F.length,P=M.length,v=new I(L),x=v.d=[],u=0;F[u]==(M[u]||0);)++u;if(F[u]>(M[u]||0)&&--l,s==null?S=s=I.precision:o?S=s+(cn(r)-cn(i))+1:S=s,S<0)return new I(0);if(S=S/$t+2|0,u=0,j==1)for(f=0,F=F[0],S++;(u<P||f)&&S--;u++)C=f*En+(M[u]||0),x[u]=C/F|0,f=C%F|0;else{for(f=En/(F[0]+1)|0,f>1&&(F=t(F,f),M=t(M,f),j=F.length,P=M.length),E=j,b=M.slice(0,j),y=b.length;y<j;)b[y++]=0;N=F.slice(),N.unshift(0),k=F[0],F[1]>=En/2&&++k;do f=0,a=e(F,b,j,y),a<0?(_=b[0],j!=y&&(_=_*En+(b[1]||0)),f=_/k|0,f>1?(f>=En&&(f=En-1),h=t(F,f),m=h.length,y=b.length,a=e(h,b,m,y),a==1&&(f--,n(h,j<m?N:F,m))):(f==0&&(a=f=1),h=F.slice()),m=h.length,m<y&&h.unshift(0),n(b,h,y),a==-1&&(y=b.length,a=e(F,b,j,y),a<1&&(f++,n(b,j<y?N:F,y))),y=b.length):a===0&&(f++,b=[0]),x[u++]=f,a&&b[0]?b[y++]=M[E]||0:(b=[M[E]],y=1);while((E++<P||b[0]!==void 0)&&S--)}return x[0]||x.shift(),v.e=l,Pt(v,o?s+cn(v)+1:s)}})();function H8(t,e){var n,r,i,s,o,a,l=0,u=0,f=t.constructor,h=f.precision;if(cn(t)>16)throw Error($k+cn(t));if(!t.s)return new f(Ir);for(Vt=!1,a=h,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(za(2,u))/Math.LN10*2+5|0,a+=r,n=i=s=new f(Ir),f.precision=a;;){if(i=Pt(i.times(t),a),n=n.times(++l),o=s.plus(Ls(i,n,a)),Ki(o.d).slice(0,a)===Ki(s.d).slice(0,a)){for(;u--;)s=Pt(s.times(s),a);return f.precision=h,e==null?(Vt=!0,Pt(s,h)):s}s=o}}function cn(t){for(var e=t.e*$t,n=t.d[0];n>=10;n/=10)e++;return e}function P1(t,e,n){if(e>t.LN10.sd())throw Vt=!0,n&&(t.precision=n),Error(oi+"LN10 precision limit exceeded");return Pt(new t(t.LN10),e)}function No(t){for(var e="";t--;)e+="0";return e}function fh(t,e){var n,r,i,s,o,a,l,u,f,h=1,m=10,v=t,x=v.d,b=v.constructor,y=b.precision;if(v.s<1)throw Error(oi+(v.s?"NaN":"-Infinity"));if(v.eq(Ir))return new b(0);if(e==null?(Vt=!1,u=y):u=e,v.eq(10))return e==null&&(Vt=!0),P1(b,u);if(u+=m,b.precision=u,n=Ki(x),r=n.charAt(0),s=cn(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=Ki(v.d),r=n.charAt(0),h++;s=cn(v),r>1?(v=new b("0."+n),s++):v=new b(r+"."+n.slice(1))}else return l=P1(b,u+2,y).times(s+""),v=fh(new b(r+"."+n.slice(1)),u-m).plus(l),b.precision=y,e==null?(Vt=!0,Pt(v,y)):v;for(a=o=v=Ls(v.minus(Ir),v.plus(Ir),u),f=Pt(v.times(v),u),i=3;;){if(o=Pt(o.times(f),u),l=a.plus(Ls(o,new b(i),u)),Ki(l.d).slice(0,u)===Ki(a.d).slice(0,u))return a=a.times(2),s!==0&&(a=a.plus(P1(b,u+2,y).times(s+""))),a=Ls(a,new b(h),u),b.precision=y,e==null?(Vt=!0,Pt(a,y)):a;a=l,i+=2}}function G3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=md(n/$t),t.d=[],r=(n+1)%$t,n<0&&(r+=$t),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=$t;r<i;)t.d.push(+e.slice(r,r+=$t));e=e.slice(r),r=$t-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Vt&&(t.e>Nv||t.e<-Nv))throw Error($k+n)}else t.s=0,t.e=0,t.d=[0];return t}function Pt(t,e,n){var r,i,s,o,a,l,u,f,h=t.d;for(o=1,s=h[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=$t,i=e,u=h[f=0];else{if(f=Math.ceil((r+1)/$t),s=h.length,f>=s)return t;for(u=s=h[f],o=1;s>=10;s/=10)o++;r%=$t,i=r-$t+o}if(n!==void 0&&(s=za(10,o-i-1),a=u/s%10|0,l=e<0||h[f+1]!==void 0||u%s,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/za(10,o-i):0:h[f-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(s=cn(t),h.length=1,e=e-s-1,h[0]=za(10,($t-e%$t)%$t),t.e=md(-e/$t)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=f,s=1,f--):(h.length=f+1,s=za(10,$t-r),h[f]=i>0?(u/za(10,o-i)%za(10,i)|0)*s:0),l)for(;;)if(f==0){(h[0]+=s)==En&&(h[0]=1,++t.e);break}else{if(h[f]+=s,h[f]!=En)break;h[f--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(Vt&&(t.e>Nv||t.e<-Nv))throw Error($k+cn(t));return t}function G8(t,e){var n,r,i,s,o,a,l,u,f,h,m=t.constructor,v=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Vt?Pt(e,v):e;if(l=t.d,h=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(f=o<0,f?(n=l,o=-o,a=h.length):(n=h,r=u,a=l.length),i=Math.max(Math.ceil(v/$t),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=h.length,f=i<a,f&&(a=i),i=0;i<a;i++)if(l[i]!=h[i]){f=l[i]<h[i];break}o=0}for(f&&(n=l,l=h,h=n,e.s=-e.s),a=l.length,i=h.length-a;i>0;--i)l[a++]=0;for(i=h.length;i>o;){if(l[--i]<h[i]){for(s=i;s&&l[--s]===0;)l[s]=En-1;--l[s],l[i]+=En}l[i]-=h[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Vt?Pt(e,v):e):new m(0)}function $l(t,e,n){var r,i=cn(t),s=Ki(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+No(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+No(-i-1)+s,n&&(r=n-o)>0&&(s+=No(r))):i>=o?(s+=No(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+No(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=No(r))),t.s<0?"-"+s:s}function K3(t,e){if(t.length>e)return t.length=e,!0}function K8(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Tl+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return G3(o,s.toString())}else if(typeof s!="string")throw Error(Tl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Kxe.test(s))G3(o,s);else throw Error(Tl+s)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=K8,i.config=i.set=Yxe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Yxe(t){if(!t||typeof t!="object")throw Error(oi+"Object expected");var e,n,r,i=["precision",1,pd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(md(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Tl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Tl+n+": "+r);return this}var Lk=K8(Gxe);Ir=new Lk(1);const St=Lk;function Xxe(t){return ewe(t)||Zxe(t)||Jxe(t)||Qxe()}function Qxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jxe(t,e){if(t){if(typeof t=="string")return vP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vP(t,e)}}function Zxe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ewe(t){if(Array.isArray(t))return vP(t)}function vP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var twe=function(e){return e},Y8={},X8=function(e){return e===Y8},Y3=function(e){return function n(){return arguments.length===0||arguments.length===1&&X8(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},nwe=function t(e,n){return e===1?n:Y3(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==Y8}).length;return o>=e?n.apply(void 0,i):t(e-o,Y3(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var f=i.map(function(h){return X8(h)?l.shift():h});return n.apply(void 0,Xxe(f).concat(l))}))})},r0=function(e){return nwe(e.length,e)},yP=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},rwe=r0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),iwe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return twe;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},bP=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Q8=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(a,l){return a===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function swe(t){var e;return t===0?e=1:e=Math.floor(new St(t).abs().log(10).toNumber())+1,e}function owe(t,e,n){for(var r=new St(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var awe=r0(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),lwe=r0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),cwe=r0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const i0={rangeStep:owe,getDigitCount:swe,interpolateNumber:awe,uninterpolateNumber:lwe,uninterpolateTruncation:cwe};function xP(t){return fwe(t)||dwe(t)||J8(t)||uwe()}function uwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function fwe(t){if(Array.isArray(t))return wP(t)}function hh(t,e){return mwe(t)||pwe(t,e)||J8(t,e)||hwe()}function hwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J8(t,e){if(t){if(typeof t=="string")return wP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wP(t,e)}}function wP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pwe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function mwe(t){if(Array.isArray(t))return t}function Z8(t){var e=hh(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function eH(t,e,n){if(t.lte(0))return new St(0);var r=i0.getDigitCount(t.toNumber()),i=new St(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new St(Math.ceil(s.div(o).toNumber())).add(n).mul(o),l=a.mul(i);return e?l:new St(Math.ceil(l))}function gwe(t,e,n){var r=1,i=new St(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new St(10).pow(i0.getDigitCount(t)-1),i=new St(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new St(Math.floor(t)))}else t===0?i=new St(Math.floor((e-1)/2)):n||(i=new St(Math.floor(t)));var o=Math.floor((e-1)/2),a=iwe(rwe(function(l){return i.add(new St(l-o).mul(r)).toNumber()}),yP);return a(0,e)}function tH(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new St(0),tickMin:new St(0),tickMax:new St(0)};var s=eH(new St(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new St(0):(o=new St(t).add(e).div(2),o=o.sub(new St(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),l=Math.ceil(new St(e).sub(o).div(s).toNumber()),u=a+l+1;return u>n?tH(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:s,tickMin:o.sub(new St(a).mul(s)),tickMax:o.add(new St(l).mul(s))})}function vwe(t){var e=hh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=Z8([n,r]),l=hh(a,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var h=f===1/0?[u].concat(xP(yP(0,i-1).map(function(){return 1/0}))):[].concat(xP(yP(0,i-1).map(function(){return-1/0})),[f]);return n>r?bP(h):h}if(u===f)return gwe(u,i,s);var m=tH(u,f,o,s),v=m.step,x=m.tickMin,b=m.tickMax,y=i0.rangeStep(x,b.add(new St(.1).mul(v)),v);return n>r?bP(y):y}function ywe(t,e){var n=hh(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Z8([r,i]),a=hh(o,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(e,2),h=eH(new St(u).sub(l).div(f-1),s,0),m=[].concat(xP(i0.rangeStep(new St(l),new St(u).sub(new St(.99).mul(h)),h)),[u]);return r>i?bP(m):m}var bwe=Q8(vwe),xwe=Q8(ywe),wwe="Invariant failed";function Ll(t,e){throw new Error(wwe)}var _we=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rv.apply(this,arguments)}function Swe(t,e){return Ewe(t)||Pwe(t,e)||Twe(t,e)||Cwe()}function Cwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Twe(t,e){if(t){if(typeof t=="string")return X3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X3(t,e)}}function X3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Ewe(t){if(Array.isArray(t))return t}function Awe(t,e){if(t==null)return{};var n=kwe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Owe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iH(r.key),r)}}function Nwe(t,e,n){return e&&Owe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rwe(t,e,n){return e=Iv(e),Iwe(t,nH()?Reflect.construct(e,n||[],Iv(t).constructor):e.apply(t,n))}function Iwe(t,e){if(e&&(Nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mwe(t)}function Mwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nH=function(){return!!t})()}function Iv(t){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iv(t)}function Dwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_P(t,e)}function _P(t,e){return _P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_P(t,e)}function rH(t,e,n){return e=iH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iH(t){var e=$we(t,"string");return Nu(e)=="symbol"?e:e+""}function $we(t,e){if(Nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var s0=(function(t){function e(){return jwe(this,e),Rwe(this,e,arguments)}return Dwe(e,t),Nwe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,f=r.xAxis,h=r.yAxis,m=Awe(r,_we),v=Me(m,!1);this.props.direction==="x"&&f.type!=="number"&&Ll();var x=l.map(function(b){var y=u(b,a),_=y.x,S=y.y,C=y.value,E=y.errorVal;if(!E)return null;var P=[],k,j;if(Array.isArray(E)){var N=Swe(E,2);k=N[0],j=N[1]}else k=j=E;if(s==="vertical"){var I=f.scale,L=S+i,M=L+o,F=L-o,U=I(C-k),Y=I(C+j);P.push({x1:Y,y1:M,x2:Y,y2:F}),P.push({x1:U,y1:L,x2:Y,y2:L}),P.push({x1:U,y1:M,x2:U,y2:F})}else if(s==="horizontal"){var X=h.scale,z=_+i,J=z-o,B=z+o,K=X(C-k),D=X(C+j);P.push({x1:J,y1:D,x2:B,y2:D}),P.push({x1:z,y1:K,x2:z,y2:D}),P.push({x1:J,y1:K,x2:B,y2:K})}return V.createElement(it,Rv({className:"recharts-errorBar",key:"bar-".concat(P.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},v),P.map(function($){return V.createElement("line",Rv({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return V.createElement(it,{className:"recharts-errorBars"},x)}}])})(V.Component);rH(s0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});rH(s0,"displayName","ErrorBar");function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function Q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(n),!0).forEach(function(r){Lwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lwe(t,e,n){return e=Fwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fwe(t){var e=Bwe(t,"string");return ph(e)=="symbol"?e:e+""}function Bwe(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sH=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Or(n,Sl);if(!o)return null;var a=Sl.defaultProps,l=a!==void 0?Ma(Ma({},a),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(r||[]).reduce(function(f,h){var m=h.item,v=h.props,x=v.sectors||v.data||[];return f.concat(x.map(function(b){return{type:o.props.iconType||m.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(f){var h=f.item,m=h.type.defaultProps,v=m!==void 0?Ma(Ma({},m),h.props):{},x=v.dataKey,b=v.name,y=v.legendType,_=v.hide;return{inactive:_,dataKey:x,type:l.iconType||y||"square",color:Fk(h),value:b||x,payload:v}}),Ma(Ma(Ma({},l),Sl.getWithHeight(o,i)),{},{payload:u,item:o})};function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function J3(t){return Wwe(t)||Vwe(t)||qwe(t)||Uwe()}function Uwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qwe(t,e){if(t){if(typeof t=="string")return SP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SP(t,e)}}function Vwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wwe(t){if(Array.isArray(t))return SP(t)}function SP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(n),!0).forEach(function(r){Zc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zc(t,e,n){return e=zwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zwe(t){var e=Hwe(t,"string");return mh(e)=="symbol"?e:e+""}function Hwe(t,e){if(mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xn(t,e,n){return Xe(t)||Xe(e)?n:wn(e)?Dr(t,e,n):Ve(e)?e(t):n}function Df(t,e,n,r){var i=Wxe(t,function(a){return xn(a,e)});if(n==="number"){var s=i.filter(function(a){return de(a)||parseFloat(a)});return s.length?[n0(s),zo(s)]:[1/0,-1/0]}var o=r?i.filter(function(a){return!Xe(a)}):i;return o.map(function(a){return wn(a)||a instanceof Date?a:""})}var Gwe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,u=0;u<a;u++){var f=u>0?i[u-1].coordinate:i[a-1].coordinate,h=i[u].coordinate,m=u>=a-1?i[0].coordinate:i[u+1].coordinate,v=void 0;if(rr(h-f)!==rr(m-h)){var x=[];if(rr(m-h)===rr(l[1]-l[0])){v=m;var b=h+l[1]-l[0];x[0]=Math.min(b,(b+f)/2),x[1]=Math.max(b,(b+f)/2)}else{v=f;var y=m+l[1]-l[0];x[0]=Math.min(h,(y+h)/2),x[1]=Math.max(h,(y+h)/2)}var _=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>_[0]&&e<=_[1]||e>=x[0]&&e<=x[1]){o=i[u].index;break}}else{var S=Math.min(f,m),C=Math.max(f,m);if(e>(S+h)/2&&e<=(C+h)/2){o=i[u].index;break}}}else for(var E=0;E<a;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<a-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===a-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){o=r[E].index;break}return o},Fk=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:a;break;default:l=a;break}return l},Kwe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),l=0,u=a.length;l<u;l++)for(var f=s[a[l]].stackGroups,h=Object.keys(f),m=0,v=h.length;m<v;m++){var x=f[h[m]],b=x.items,y=x.cateAxisId,_=b.filter(function(j){return $s(j.type).indexOf("Bar")>=0});if(_&&_.length){var S=_[0].type.defaultProps,C=S!==void 0?Zt(Zt({},S),_[0].props):_[0].props,E=C.barSize,P=C[y];o[P]||(o[P]=[]);var k=Xe(E)?n:E;o[P].push({item:_[0],stackList:_.slice(1),barSize:Xe(k)?void 0:ir(k,r,0)})}}return o},Ywe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,l=o.length;if(l<1)return null;var u=ir(n,i,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var m=!1,v=i/l,x=o.reduce(function(E,P){return E+P.barSize||0},0);x+=(l-1)*u,x>=i&&(x-=(l-1)*u,u=0),x>=i&&v>0&&(m=!0,v*=.9,x=l*v);var b=(i-x)/2>>0,y={offset:b-u,size:0};f=o.reduce(function(E,P){var k={item:P.item,position:{offset:y.offset+y.size+u,size:m?v:P.barSize}},j=[].concat(J3(E),[k]);return y=j[j.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(N){j.push({item:N,position:y})}),j},h)}else{var _=ir(r,i,0,!0);i-2*_-(l-1)*u<=0&&(u=0);var S=(i-2*_-(l-1)*u)/l;S>1&&(S>>=0);var C=a===+a?Math.min(S,a):S;f=o.reduce(function(E,P,k){var j=[].concat(J3(E),[{item:P.item,position:{offset:_+(S+u)*k+(S-C)/2,size:C}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(N){j.push({item:N,position:j[j.length-1].position})}),j},h)}return f},Xwe=function(e,n,r,i){var s=r.children,o=r.width,a=r.margin,l=o-(a.left||0)-(a.right||0),u=sH({children:s,legendWidth:l});if(u){var f=i||{},h=f.width,m=f.height,v=u.align,x=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&x==="middle")&&v!=="center"&&de(e[v]))return Zt(Zt({},e),{},Zc({},v,e[v]+(h||0)));if((b==="horizontal"||b==="vertical"&&v==="center")&&x!=="middle"&&de(e[x]))return Zt(Zt({},e),{},Zc({},x,e[x]+(m||0)))}return e},Qwe=function(e,n,r){return Xe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},oH=function(e,n,r,i,s){var o=n.props.children,a=ii(o,s0).filter(function(u){return Qwe(i,s,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var h=xn(f,r);if(Xe(h))return u;var m=Array.isArray(h)?[n0(h),zo(h)]:[h,h],v=l.reduce(function(x,b){var y=xn(f,b,0),_=m[0]-Math.abs(Array.isArray(y)?y[0]:y),S=m[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(_,x[0]),Math.max(S,x[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},Jwe=function(e,n,r,i,s){var o=n.map(function(a){return oH(e,a,r,s,i)}).filter(function(a){return!Xe(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},aH=function(e,n,r,i,s){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&oH(e,l,u,i)||Df(e,u,r,s)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,u){for(var f=0,h=u.length;f<h;f++)a[u[f]]||(a[u[f]]=!0,l.push(u[f]));return l},[])},lH=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},cH=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,o,a=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(o=!0),l.coordinate});return s||a.push(n),o||a.push(r),a},Rs=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?rr(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(h){var m=s?s.indexOf(h):h;return{coordinate:i(m)+u,value:h,offset:u}});return f.filter(function(h){return!ud(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,m){return{coordinate:i(h)+u,value:h,index:m,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,m){return{coordinate:i(h)+u,value:s?s[h]:h,index:m,offset:u}})},E1=new WeakMap,ng=function(e,n){if(typeof n!="function")return e;E1.has(e)||E1.set(e,new WeakMap);var r=E1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},uH=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:ah(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:Av(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Mf(),realScaleType:"point"}:s==="category"?{scale:ah(),realScaleType:"band"}:{scale:Av(),realScaleType:"linear"};if(Il(i)){var l="scale".concat(Uy(i));return{scale:(L3[l]||Mf)(),realScaleType:L3[l]?l:"point"}}return Ve(i)?{scale:i}:{scale:Mf(),realScaleType:"point"}},e5=1e-4,dH=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-e5,o=Math.max(i[0],i[1])+e5,a=e(n[0]),l=e(n[r-1]);(a<s||a>o||l<s||l>o)&&e.domain([n[0],n[r-1]])}},Zwe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},e_e=function(e,n){if(!n||n.length!==2||!de(n[0])||!de(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!de(e[0])||e[0]<r)&&(s[0]=r),(!de(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},t_e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,a=0;a<n;++a){var l=ud(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1])}},n_e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var a=ud(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},r_e={sign:t_e,expand:Wme,none:Su,silhouette:zme,wiggle:Hme,positive:n_e},i_e=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),s=r_e[r],o=Vme().keys(i).value(function(a,l){return+xn(a,l,0)}).order(ZT).offset(s);return o(e)},s_e=function(e,n,r,i,s,o){if(!e)return null;var a=o?n.reverse():n,l={},u=a.reduce(function(h,m){var v,x=(v=m.type)!==null&&v!==void 0&&v.defaultProps?Zt(Zt({},m.type.defaultProps),m.props):m.props,b=x.stackId,y=x.hide;if(y)return h;var _=x[r],S=h[_]||{hasStack:!1,stackGroups:{}};if(wn(b)){var C=S.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};C.items.push(m),S.hasStack=!0,S.stackGroups[b]=C}else S.stackGroups[dd("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[m]};return Zt(Zt({},h),{},Zc({},_,S))},l),f={};return Object.keys(u).reduce(function(h,m){var v=u[m];if(v.hasStack){var x={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(b,y){var _=v.stackGroups[y];return Zt(Zt({},b),{},Zc({},y,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:i_e(e,_.items,s)}))},x)}return Zt(Zt({},h),{},Zc({},m,v))},f)},fH=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=bwe(u,s,a);return e.domain([n0(f),zo(f)]),{niceTicks:f}}if(s&&i==="number"){var h=e.domain(),m=xwe(h,s,a);return{niceTicks:m}}return null};function t5(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Xe(i[e.dataKey])){var a=uv(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=xn(i,Xe(o)?e.dataKey:o);return Xe(l)?null:e.scale(l)}var n5=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=xn(o,n.dataKey,n.domain[a]);return Xe(l)?null:n.scale(l)-s/2+i},o_e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},a_e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(wn(s)){var o=n[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},l_e=function(e){return e.reduce(function(n,r){return[n0(r.concat([n[0]]).filter(de)),zo(r.concat([n[1]]).filter(de))]},[1/0,-1/0])},hH=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,l=a.reduce(function(u,f){var h=l_e(f.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},r5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,i5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CP=function(e,n,r){if(Ve(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(de(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(r5.test(e[0])){var s=+r5.exec(e[0])[1];i[0]=n[0]-s}else Ve(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(de(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(i5.test(e[1])){var o=+i5.exec(e[1])[1];i[1]=n[1]+o}else Ve(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Mv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=hk(n,function(h){return h.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var u=s[a],f=s[a-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},s5=function(e,n,r){return!e||!e.length||Ou(e,Dr(r,"type.defaultProps.domain"))?n:e},pH=function(e,n){var r=e.type.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,f=r.hide;return Zt(Zt({},Me(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:Fk(e),value:xn(n,i),type:l,payload:n,chartType:u,hide:f})};function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function o5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ps(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o5(Object(n),!0).forEach(function(r){mH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mH(t,e,n){return e=c_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c_e(t){var e=u_e(t,"string");return gh(e)=="symbol"?e:e+""}function u_e(t,e){if(gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d_e(t,e){return m_e(t)||p_e(t,e)||h_e(t,e)||f_e()}function f_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h_e(t,e){if(t){if(typeof t=="string")return a5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a5(t,e)}}function a5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function m_e(t){if(Array.isArray(t))return t}var Dv=Math.PI/180,g_e=function(e){return e*180/Math.PI},Rt=function(e,n,r,i){return{x:e+Math.cos(-Dv*i)*r,y:n+Math.sin(-Dv*i)*r}},gH=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},v_e=function(e,n,r,i,s){var o=e.width,a=e.height,l=e.startAngle,u=e.endAngle,f=ir(e.cx,o,o/2),h=ir(e.cy,a,a/2),m=gH(o,a,r),v=ir(e.innerRadius,m,0),x=ir(e.outerRadius,m,m*.8),b=Object.keys(n);return b.reduce(function(y,_){var S=n[_],C=S.domain,E=S.reversed,P;if(Xe(S.range))i==="angleAxis"?P=[l,u]:i==="radiusAxis"&&(P=[v,x]),E&&(P=[P[1],P[0]]);else{P=S.range;var k=P,j=d_e(k,2);l=j[0],u=j[1]}var N=uH(S,s),I=N.realScaleType,L=N.scale;L.domain(C).range(P),dH(L);var M=fH(L,Ps(Ps({},S),{},{realScaleType:I})),F=Ps(Ps(Ps({},S),M),{},{range:P,radius:x,realScaleType:I,scale:L,cx:f,cy:h,innerRadius:v,outerRadius:x,startAngle:l,endAngle:u});return Ps(Ps({},y),{},mH({},_,F))},{})},y_e=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},b_e=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,a=y_e({x:r,y:i},{x:s,y:o});if(a<=0)return{radius:a};var l=(r-s)/a,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:a,angle:g_e(u),angleInRadian:u}},x_e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},w_e=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},l5=function(e,n){var r=e.x,i=e.y,s=b_e({x:r,y:i},n),o=s.radius,a=s.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var f=x_e(n),h=f.startAngle,m=f.endAngle,v=a,x;if(h<=m){for(;v>m;)v-=360;for(;v<h;)v+=360;x=v>=h&&v<=m}else{for(;v>h;)v-=360;for(;v<m;)v+=360;x=v>=m&&v<=h}return x?Ps(Ps({},n),{},{radius:o,angle:w_e(v,n)}):null},vH=function(e){return!T.isValidElement(e)&&!Ve(e)&&typeof e!="boolean"?e.className:""};function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}var __e=["offset"];function S_e(t){return E_e(t)||P_e(t)||T_e(t)||C_e()}function C_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T_e(t,e){if(t){if(typeof t=="string")return TP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TP(t,e)}}function P_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function E_e(t){if(Array.isArray(t))return TP(t)}function TP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A_e(t,e){if(t==null)return{};var n=k_e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function c5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c5(Object(n),!0).forEach(function(r){j_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j_e(t,e,n){return e=O_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O_e(t){var e=N_e(t,"string");return vh(e)=="symbol"?e:e+""}function N_e(t,e){if(vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yh(){return yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yh.apply(this,arguments)}var R_e=function(e){var n=e.value,r=e.formatter,i=Xe(e.children)?n:e.children;return Ve(r)?r(i):i},I_e=function(e,n){var r=rr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},M_e=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,l=s,u=l.cx,f=l.cy,h=l.innerRadius,m=l.outerRadius,v=l.startAngle,x=l.endAngle,b=l.clockWise,y=(h+m)/2,_=I_e(v,x),S=_>=0?1:-1,C,E;i==="insideStart"?(C=v+S*o,E=b):i==="insideEnd"?(C=x-S*o,E=!b):i==="end"&&(C=x+S*o,E=b),E=_<=0?E:!E;var P=Rt(u,f,y,C),k=Rt(u,f,y,C+(E?1:-1)*359),j="M".concat(P.x,",").concat(P.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(E?0:1,`,
    `).concat(k.x,",").concat(k.y),N=Xe(e.id)?dd("recharts-radial-line-"):e.id;return V.createElement("text",yh({},r,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",a)}),V.createElement("defs",null,V.createElement("path",{id:N,d:j})),V.createElement("textPath",{xlinkHref:"#".concat(N)},n))},D_e=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,a=s.cy,l=s.innerRadius,u=s.outerRadius,f=s.startAngle,h=s.endAngle,m=(f+h)/2;if(i==="outside"){var v=Rt(o,a,u+r,m),x=v.x,b=v.y;return{x,y:b,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,_=Rt(o,a,y,m),S=_.x,C=_.y;return{x:S,y:C,textAnchor:"middle",verticalAnchor:"middle"}},$_e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,a=o.x,l=o.y,u=o.width,f=o.height,h=f>=0?1:-1,m=h*i,v=h>0?"end":"start",x=h>0?"start":"end",b=u>=0?1:-1,y=b*i,_=b>0?"end":"start",S=b>0?"start":"end";if(s==="top"){var C={x:a+u/2,y:l-h*i,textAnchor:"middle",verticalAnchor:v};return pn(pn({},C),r?{height:Math.max(l-r.y,0),width:u}:{})}if(s==="bottom"){var E={x:a+u/2,y:l+f+m,textAnchor:"middle",verticalAnchor:x};return pn(pn({},E),r?{height:Math.max(r.y+r.height-(l+f),0),width:u}:{})}if(s==="left"){var P={x:a-y,y:l+f/2,textAnchor:_,verticalAnchor:"middle"};return pn(pn({},P),r?{width:Math.max(P.x-r.x,0),height:f}:{})}if(s==="right"){var k={x:a+u+y,y:l+f/2,textAnchor:S,verticalAnchor:"middle"};return pn(pn({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:f}:{})}var j=r?{width:u,height:f}:{};return s==="insideLeft"?pn({x:a+y,y:l+f/2,textAnchor:S,verticalAnchor:"middle"},j):s==="insideRight"?pn({x:a+u-y,y:l+f/2,textAnchor:_,verticalAnchor:"middle"},j):s==="insideTop"?pn({x:a+u/2,y:l+m,textAnchor:"middle",verticalAnchor:x},j):s==="insideBottom"?pn({x:a+u/2,y:l+f-m,textAnchor:"middle",verticalAnchor:v},j):s==="insideTopLeft"?pn({x:a+y,y:l+m,textAnchor:S,verticalAnchor:x},j):s==="insideTopRight"?pn({x:a+u-y,y:l+m,textAnchor:_,verticalAnchor:x},j):s==="insideBottomLeft"?pn({x:a+y,y:l+f-m,textAnchor:S,verticalAnchor:v},j):s==="insideBottomRight"?pn({x:a+u-y,y:l+f-m,textAnchor:_,verticalAnchor:v},j):cd(s)&&(de(s.x)||nl(s.x))&&(de(s.y)||nl(s.y))?pn({x:a+ir(s.x,u),y:l+ir(s.y,f),textAnchor:"end",verticalAnchor:"end"},j):pn({x:a+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},j)},L_e=function(e){return"cx"in e&&de(e.cx)};function An(t){var e=t.offset,n=e===void 0?5:e,r=A_e(t,__e),i=pn({offset:n},r),s=i.viewBox,o=i.position,a=i.value,l=i.children,u=i.content,f=i.className,h=f===void 0?"":f,m=i.textBreakAll;if(!s||Xe(a)&&Xe(l)&&!T.isValidElement(u)&&!Ve(u))return null;if(T.isValidElement(u))return T.cloneElement(u,i);var v;if(Ve(u)){if(v=T.createElement(u,i),T.isValidElement(v))return v}else v=R_e(i);var x=L_e(s),b=Me(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return M_e(i,v,b);var y=x?D_e(i):$_e(i);return V.createElement(Dl,yh({className:Ye("recharts-label",h)},b,y,{breakAll:m}),v)}An.displayName="Label";var yH=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,f=e.outerRadius,h=e.x,m=e.y,v=e.top,x=e.left,b=e.width,y=e.height,_=e.clockWise,S=e.labelViewBox;if(S)return S;if(de(b)&&de(y)){if(de(h)&&de(m))return{x:h,y:m,width:b,height:y};if(de(v)&&de(x))return{x:v,y:x,width:b,height:y}}return de(h)&&de(m)?{x:h,y:m,width:0,height:0}:de(n)&&de(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||l||a||0,clockWise:_}:e.viewBox?e.viewBox:{}},F_e=function(e,n){return e?e===!0?V.createElement(An,{key:"label-implicit",viewBox:n}):wn(e)?V.createElement(An,{key:"label-implicit",viewBox:n,value:e}):T.isValidElement(e)?e.type===An?T.cloneElement(e,{key:"label-implicit",viewBox:n}):V.createElement(An,{key:"label-implicit",content:e,viewBox:n}):Ve(e)?V.createElement(An,{key:"label-implicit",content:e,viewBox:n}):cd(e)?V.createElement(An,yh({viewBox:n},e,{key:"label-implicit"})):null:null},B_e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=yH(e),o=ii(i,An).map(function(l,u){return T.cloneElement(l,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return o;var a=F_e(e.label,n||s);return[a].concat(S_e(o))};An.parseViewBox=yH;An.renderCallByParent=B_e;var A1,u5;function U_e(){if(u5)return A1;u5=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return A1=t,A1}var q_e=U_e();const V_e=at(q_e);function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}var W_e=["valueAccessor"],z_e=["data","dataKey","clockWise","id","textBreakAll"];function H_e(t){return X_e(t)||Y_e(t)||K_e(t)||G_e()}function G_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K_e(t,e){if(t){if(typeof t=="string")return PP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PP(t,e)}}function Y_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X_e(t){if(Array.isArray(t))return PP(t)}function PP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $v(){return $v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$v.apply(this,arguments)}function d5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d5(Object(n),!0).forEach(function(r){Q_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q_e(t,e,n){return e=J_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J_e(t){var e=Z_e(t,"string");return bh(e)=="symbol"?e:e+""}function Z_e(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h5(t,e){if(t==null)return{};var n=eSe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tSe=function(e){return Array.isArray(e.value)?V_e(e.value):e.value};function Fs(t){var e=t.valueAccessor,n=e===void 0?tSe:e,r=h5(t,W_e),i=r.data,s=r.dataKey,o=r.clockWise,a=r.id,l=r.textBreakAll,u=h5(r,z_e);return!i||!i.length?null:V.createElement(it,{className:"recharts-label-list"},i.map(function(f,h){var m=Xe(s)?n(f,h):xn(f&&f.payload,s),v=Xe(a)?{}:{id:"".concat(a,"-").concat(h)};return V.createElement(An,$v({},Me(f,!0),u,v,{parentViewBox:f.parentViewBox,value:m,textBreakAll:l,viewBox:An.parseViewBox(Xe(o)?f:f5(f5({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Fs.displayName="LabelList";function nSe(t,e){return t?t===!0?V.createElement(Fs,{key:"labelList-implicit",data:e}):V.isValidElement(t)||Ve(t)?V.createElement(Fs,{key:"labelList-implicit",data:e,content:t}):cd(t)?V.createElement(Fs,$v({data:e},t,{key:"labelList-implicit"})):null:null}function rSe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ii(r,Fs).map(function(o,a){return T.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var s=nSe(t.label,e);return[s].concat(H_e(i))}Fs.renderCallByParent=rSe;function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function EP(){return EP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EP.apply(this,arguments)}function p5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p5(Object(n),!0).forEach(function(r){iSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iSe(t,e,n){return e=sSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sSe(t){var e=oSe(t,"string");return xh(e)=="symbol"?e:e+""}function oSe(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aSe=function(e,n){var r=rr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},rg=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,f=l*(a?1:-1)+i,h=Math.asin(l/f)/Dv,m=u?s:s+o*h,v=Rt(n,r,f,m),x=Rt(n,r,i,m),b=u?s-o*h:s,y=Rt(n,r,f*Math.cos(h*Dv),b);return{center:v,circleTangency:x,lineTangency:y,theta:h}},bH=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,l=aSe(o,a),u=o+l,f=Rt(n,r,s,o),h=Rt(n,r,s,u),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var v=Rt(n,r,i,o),x=Rt(n,r,i,u);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else m+="L ".concat(n,",").concat(r," Z");return m},lSe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,h=rr(f-u),m=rg({cx:n,cy:r,radius:s,angle:u,sign:h,cornerRadius:o,cornerIsExternal:l}),v=m.circleTangency,x=m.lineTangency,b=m.theta,y=rg({cx:n,cy:r,radius:s,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:l}),_=y.circleTangency,S=y.lineTangency,C=y.theta,E=l?Math.abs(u-f):Math.abs(u-f)-b-C;if(E<0)return a?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):bH({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f});var P="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(i>0){var k=rg({cx:n,cy:r,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),j=k.circleTangency,N=k.lineTangency,I=k.theta,L=rg({cx:n,cy:r,radius:i,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),M=L.circleTangency,F=L.lineTangency,U=L.theta,Y=l?Math.abs(u-f):Math.abs(u-f)-I-U;if(Y<0&&o===0)return"".concat(P,"L").concat(n,",").concat(r,"Z");P+="L".concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Y>180),",").concat(+(h>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,"Z")}else P+="L".concat(n,",").concat(r,"Z");return P},cSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xH=function(e){var n=m5(m5({},cSe),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,h=n.endAngle,m=n.className;if(o<s||f===h)return null;var v=Ye("recharts-sector",m),x=o-s,b=ir(a,x,0,!0),y;return b>0&&Math.abs(f-h)<360?y=lSe({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(b,x/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}):y=bH({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:f,endAngle:h}),V.createElement("path",EP({},Me(n,!0),{className:v,d:y,role:"img"}))};function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function AP(){return AP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AP.apply(this,arguments)}function g5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g5(Object(n),!0).forEach(function(r){uSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uSe(t,e,n){return e=dSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dSe(t){var e=fSe(t,"string");return wh(e)=="symbol"?e:e+""}function fSe(t,e){if(wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y5={curveBasisClosed:Nme,curveBasisOpen:Rme,curveBasis:Ome,curveBumpX:vme,curveBumpY:yme,curveLinearClosed:Ime,curveLinear:Vy,curveMonotoneX:Mme,curveMonotoneY:Dme,curveNatural:$me,curveStep:Lme,curveStepAfter:Bme,curveStepBefore:Fme},ig=function(e){return e.x===+e.x&&e.y===+e.y},mf=function(e){return e.x},gf=function(e){return e.y},hSe=function(e,n){if(Ve(e))return e;var r="curve".concat(Uy(e));return(r==="curveMonotone"||r==="curveBump")&&n?y5["".concat(r).concat(n==="vertical"?"Y":"X")]:y5[r]||Vy},pSe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,f=hSe(r,a),h=u?s.filter(function(b){return ig(b)}):s,m;if(Array.isArray(o)){var v=u?o.filter(function(b){return ig(b)}):o,x=h.map(function(b,y){return v5(v5({},b),{},{base:v[y]})});return a==="vertical"?m=Ym().y(gf).x1(mf).x0(function(b){return b.base.x}):m=Ym().x(mf).y1(gf).y0(function(b){return b.base.y}),m.defined(ig).curve(f),m(x)}return a==="vertical"&&de(o)?m=Ym().y(gf).x1(mf).x0(o):de(o)?m=Ym().x(mf).y1(gf).y0(o):m=vz().x(mf).y(gf),m.defined(ig).curve(f),m(h)},eu=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?pSe(e):i;return T.createElement("path",AP({},Me(e,!1),dv(e),{className:Ye("recharts-curve",n),d:o,ref:s}))},k1={exports:{}},j1,b5;function mSe(){if(b5)return j1;b5=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return j1=t,j1}var O1,x5;function gSe(){if(x5)return O1;x5=1;var t=mSe();function e(){}function n(){}return n.resetWarningCache=e,O1=function(){function r(o,a,l,u,f,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},O1}var w5;function vSe(){return w5||(w5=1,k1.exports=gSe()()),k1.exports}var ySe=vSe();const pt=at(ySe),{getOwnPropertyNames:bSe,getOwnPropertySymbols:xSe}=Object,{hasOwnProperty:wSe}=Object.prototype;function N1(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function sg(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:s}=i,o=s.get(n),a=s.get(r);if(o&&a)return o===r&&a===n;s.set(n,r),s.set(r,n);const l=t(n,r,i);return s.delete(n),s.delete(r),l}}function _Se(t){return t!=null?t[Symbol.toStringTag]:void 0}function _5(t){return bSe(t).concat(xSe(t))}const SSe=Object.hasOwn||((t,e)=>wSe.call(t,e));function Hl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const CSe="__v",TSe="__o",PSe="_owner",{getOwnPropertyDescriptor:S5,keys:C5}=Object;function ESe(t,e){return t.byteLength===e.byteLength&&Lv(new Uint8Array(t),new Uint8Array(e))}function ASe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function kSe(t,e){return t.byteLength===e.byteLength&&Lv(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function jSe(t,e){return Hl(t.getTime(),e.getTime())}function OSe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function NSe(t,e){return t===e}function T5(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.entries();let o,a,l=0;for(;(o=s.next())&&!o.done;){const u=e.entries();let f=!1,h=0;for(;(a=u.next())&&!a.done;){if(i[h]){h++;continue}const m=o.value,v=a.value;if(n.equals(m[0],v[0],l,h,t,e,n)&&n.equals(m[1],v[1],m[0],v[0],t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1;l++}return!0}const RSe=Hl;function ISe(t,e,n){const r=C5(t);let i=r.length;if(C5(e).length!==i)return!1;for(;i-- >0;)if(!wH(t,e,n,r[i]))return!1;return!0}function vf(t,e,n){const r=_5(t);let i=r.length;if(_5(e).length!==i)return!1;let s,o,a;for(;i-- >0;)if(s=r[i],!wH(t,e,n,s)||(o=S5(t,s),a=S5(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function MSe(t,e){return Hl(t.valueOf(),e.valueOf())}function DSe(t,e){return t.source===e.source&&t.flags===e.flags}function P5(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.values();let o,a;for(;(o=s.next())&&!o.done;){const l=e.values();let u=!1,f=0;for(;(a=l.next())&&!a.done;){if(!i[f]&&n.equals(o.value,a.value,o.value,a.value,t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function Lv(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function $Se(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function wH(t,e,n,r){return(r===PSe||r===TSe||r===CSe)&&(t.$$typeof||e.$$typeof)?!0:SSe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const LSe="[object ArrayBuffer]",FSe="[object Arguments]",BSe="[object Boolean]",USe="[object DataView]",qSe="[object Date]",VSe="[object Error]",WSe="[object Map]",zSe="[object Number]",HSe="[object Object]",GSe="[object RegExp]",KSe="[object Set]",YSe="[object String]",XSe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},QSe="[object URL]",JSe=Object.prototype.toString;function ZSe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:o,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:f,areSetsEqual:h,areTypedArraysEqual:m,areUrlsEqual:v,unknownTagComparators:x}){return function(y,_,S){if(y===_)return!0;if(y==null||_==null)return!1;const C=typeof y;if(C!==typeof _)return!1;if(C!=="object")return C==="number"?a(y,_,S):C==="function"?s(y,_,S):!1;const E=y.constructor;if(E!==_.constructor)return!1;if(E===Object)return l(y,_,S);if(Array.isArray(y))return e(y,_,S);if(E===Date)return r(y,_,S);if(E===RegExp)return f(y,_,S);if(E===Map)return o(y,_,S);if(E===Set)return h(y,_,S);const P=JSe.call(y);if(P===qSe)return r(y,_,S);if(P===GSe)return f(y,_,S);if(P===WSe)return o(y,_,S);if(P===KSe)return h(y,_,S);if(P===HSe)return typeof y.then!="function"&&typeof _.then!="function"&&l(y,_,S);if(P===QSe)return v(y,_,S);if(P===VSe)return i(y,_,S);if(P===FSe)return l(y,_,S);if(XSe[P])return m(y,_,S);if(P===LSe)return t(y,_,S);if(P===USe)return n(y,_,S);if(P===BSe||P===zSe||P===YSe)return u(y,_,S);if(x){let k=x[P];if(!k){const j=_Se(y);j&&(k=x[j])}if(k)return k(y,_,S)}return!1}}function e1e({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:ESe,areArraysEqual:n?vf:ASe,areDataViewsEqual:kSe,areDatesEqual:jSe,areErrorsEqual:OSe,areFunctionsEqual:NSe,areMapsEqual:n?N1(T5,vf):T5,areNumbersEqual:RSe,areObjectsEqual:n?vf:ISe,arePrimitiveWrappersEqual:MSe,areRegExpsEqual:DSe,areSetsEqual:n?N1(P5,vf):P5,areTypedArraysEqual:n?N1(Lv,vf):Lv,areUrlsEqual:$Se,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=sg(r.areArraysEqual),s=sg(r.areMapsEqual),o=sg(r.areObjectsEqual),a=sg(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:a})}return r}function t1e(t){return function(e,n,r,i,s,o,a){return t(e,n,a)}}function n1e({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:u=t?new WeakMap:void 0,meta:f}=n();return e(a,l,{cache:u,equals:r,meta:f,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const s={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,s)}}const r1e=ga();ga({strict:!0});ga({circular:!0});ga({circular:!0,strict:!0});ga({createInternalComparator:()=>Hl});ga({strict:!0,createInternalComparator:()=>Hl});ga({circular:!0,createInternalComparator:()=>Hl});ga({circular:!0,createInternalComparator:()=>Hl,strict:!0});function ga(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,s=e1e(t),o=ZSe(s),a=n?n(o):t1e(o);return n1e({circular:e,comparator:o,createState:r,equals:a,strict:i})}function i1e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function E5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):i1e(i)};requestAnimationFrame(r)}function kP(t){"@babel/helpers - typeof";return kP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kP(t)}function s1e(t){return c1e(t)||l1e(t)||a1e(t)||o1e()}function o1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a1e(t,e){if(t){if(typeof t=="string")return A5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A5(t,e)}}function A5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c1e(t){if(Array.isArray(t))return t}function u1e(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,a=s1e(o),l=a[0],u=a.slice(1);if(typeof l=="number"){E5(i.bind(null,u),l);return}i(l),E5(i.bind(null,u));return}kP(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function k5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k5(Object(n),!0).forEach(function(r){_H(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _H(t,e,n){return e=d1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d1e(t){var e=f1e(t,"string");return _h(e)==="symbol"?e:String(e)}function f1e(t,e){if(_h(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_h(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h1e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},p1e=function(e){return e},m1e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},$f=function(e,n){return Object.keys(n).reduce(function(r,i){return j5(j5({},r),{},_H({},i,e(i,n[i])))},{})},O5=function(e,n,r){return e.map(function(i){return"".concat(m1e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function g1e(t,e){return b1e(t)||y1e(t,e)||SH(t,e)||v1e()}function v1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function b1e(t){if(Array.isArray(t))return t}function x1e(t){return S1e(t)||_1e(t)||SH(t)||w1e()}function w1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SH(t,e){if(t){if(typeof t=="string")return jP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jP(t,e)}}function _1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function S1e(t){if(Array.isArray(t))return jP(t)}function jP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Fv=1e-4,CH=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},TH=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},N5=function(e,n){return function(r){var i=CH(e,n);return TH(i,r)}},C1e=function(e,n){return function(r){var i=CH(e,n),s=[].concat(x1e(i.map(function(o,a){return o*a}).slice(1)),[0]);return TH(s,r)}},R5=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),f=g1e(u,4);i=f[0],s=f[1],o=f[2],a=f[3]}}}var h=N5(i,o),m=N5(s,a),v=C1e(i,o),x=function(_){return _>1?1:_<0?0:_},b=function(_){for(var S=_>1?1:_,C=S,E=0;E<8;++E){var P=h(C)-S,k=v(C);if(Math.abs(P-S)<Fv||k<Fv)return m(C);C=x(C-P/k)}return m(C)};return b.isStepper=!1,b},T1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,l=function(f,h,m){var v=-(f-h)*r,x=m*s,b=m+(v-x)*a/1e3,y=m*a/1e3+f;return Math.abs(y-h)<Fv&&Math.abs(b)<Fv?[h,0]:[y,b]};return l.isStepper=!0,l.dt=a,l},P1e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return R5(i);case"spring":return T1e();default:if(i.split("(")[0]==="cubic-bezier")return R5(i)}return typeof i=="function"?i:null};function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function I5(t){return k1e(t)||A1e(t)||PH(t)||E1e()}function E1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k1e(t){if(Array.isArray(t))return NP(t)}function M5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M5(Object(n),!0).forEach(function(r){OP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OP(t,e,n){return e=j1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j1e(t){var e=O1e(t,"string");return Sh(e)==="symbol"?e:String(e)}function O1e(t,e){if(Sh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N1e(t,e){return M1e(t)||I1e(t,e)||PH(t,e)||R1e()}function R1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PH(t,e){if(t){if(typeof t=="string")return NP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NP(t,e)}}function NP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function M1e(t){if(Array.isArray(t))return t}var Bv=function(e,n,r){return e+(n-e)*r},RP=function(e){var n=e.from,r=e.to;return n!==r},D1e=function t(e,n,r){var i=$f(function(s,o){if(RP(o)){var a=e(o.from,o.to,o.velocity),l=N1e(a,2),u=l[0],f=l[1];return $n($n({},o),{},{from:u,velocity:f})}return o},n);return r<1?$f(function(s,o){return RP(o)?$n($n({},o),{},{velocity:Bv(o.velocity,i[s].velocity,r),from:Bv(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const $1e=(function(t,e,n,r,i){var s=h1e(t,e),o=s.reduce(function(y,_){return $n($n({},y),{},OP({},_,[t[_],e[_]]))},{}),a=s.reduce(function(y,_){return $n($n({},y),{},OP({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,u,f,h=function(){return null},m=function(){return $f(function(_,S){return S.from},a)},v=function(){return!Object.values(a).filter(RP).length},x=function(_){u||(u=_);var S=_-u,C=S/n.dt;a=D1e(n,a,C),i($n($n($n({},t),e),m())),u=_,v()||(l=requestAnimationFrame(h))},b=function(_){f||(f=_);var S=(_-f)/r,C=$f(function(P,k){return Bv.apply(void 0,I5(k).concat([n(S)]))},o);if(i($n($n($n({},t),e),C)),S<1)l=requestAnimationFrame(h);else{var E=$f(function(P,k){return Bv.apply(void 0,I5(k).concat([n(1)]))},o);i($n($n($n({},t),e),E))}};return h=n.isStepper?x:b,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}});function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}var L1e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function F1e(t,e){if(t==null)return{};var n=B1e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function B1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function R1(t){return W1e(t)||V1e(t)||q1e(t)||U1e()}function U1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q1e(t,e){if(t){if(typeof t=="string")return IP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IP(t,e)}}function V1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W1e(t){if(Array.isArray(t))return IP(t)}function IP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D5(Object(n),!0).forEach(function(r){Ef(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ef(t,e,n){return e=EH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EH(r.key),r)}}function G1e(t,e,n){return e&&H1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EH(t){var e=K1e(t,"string");return Ru(e)==="symbol"?e:String(e)}function K1e(t,e){if(Ru(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ru(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MP(t,e)}function MP(t,e){return MP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MP(t,e)}function X1e(t){var e=Q1e();return function(){var r=Uv(t),i;if(e){var s=Uv(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return DP(this,i)}}function DP(t,e){if(e&&(Ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $P(t)}function $P(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uv(t){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uv(t)}var os=(function(t){Y1e(n,t);var e=X1e(n);function n(r,i){var s;z1e(this,n),s=e.call(this,r,i);var o=s.props,a=o.isActive,l=o.attributeName,u=o.from,f=o.to,h=o.steps,m=o.children,v=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind($P(s)),s.changeStyle=s.changeStyle.bind($P(s)),!a||v<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:f}),DP(s);if(h&&h.length)s.state={style:h[0].style};else if(u){if(typeof m=="function")return s.state={style:u},DP(s);s.state={style:l?Ef({},l,u):u}}else s.state={style:{}};return s}return G1e(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,u=s.shouldReAnimate,f=s.to,h=s.from,m=this.state.style;if(a){if(!o){var v={style:l?Ef({},l,f):f};this.state&&m&&(l&&m[l]!==f||!l&&m!==f)&&this.setState(v);return}if(!(r1e(i.to,f)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=x||u?h:i.to;if(this.state&&m){var y={style:l?Ef({},l,b):b};(l&&m[l]!==b||!l&&m!==b)&&this.setState(y)}this.runAnimation(gi(gi({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,l=i.duration,u=i.easing,f=i.begin,h=i.onAnimationEnd,m=i.onAnimationStart,v=$1e(o,a,P1e(u),l,this.changeStyle),x=function(){s.stopJSAnimation=v()};this.manager.start([m,f,x,l,h])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,l=i.onAnimationStart,u=o[0],f=u.style,h=u.duration,m=h===void 0?0:h,v=function(b,y,_){if(_===0)return b;var S=y.duration,C=y.easing,E=C===void 0?"ease":C,P=y.style,k=y.properties,j=y.onAnimationEnd,N=_>0?o[_-1]:y,I=k||Object.keys(P);if(typeof E=="function"||E==="spring")return[].concat(R1(b),[s.runJSAnimation.bind(s,{from:N.style,to:P,duration:S,easing:E}),S]);var L=O5(I,S,E),M=gi(gi(gi({},N.style),P),{},{transition:L});return[].concat(R1(b),[M,S,j]).filter(p1e)};return this.manager.start([l].concat(R1(o.reduce(v,[f,Math.max(m,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=u1e());var s=i.begin,o=i.duration,a=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,h=i.onAnimationEnd,m=i.steps,v=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var b=a?Ef({},a,l):l,y=O5(Object.keys(b),o,u);x.start([f,s,gi(gi({},b),{},{transition:y}),o,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=F1e(i,L1e),u=T.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!a||u===0||o<=0)return s;var h=function(v){var x=v.props,b=x.style,y=b===void 0?{}:b,_=x.className,S=T.cloneElement(v,gi(gi({},l),{},{style:gi(gi({},y),f),className:_}));return S};return u===1?h(T.Children.only(s)):V.createElement("div",null,T.Children.map(s,function(m){return h(m)}))}}]),n})(T.PureComponent);os.displayName="Animate";os.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};os.propTypes={from:pt.oneOfType([pt.object,pt.string]),to:pt.oneOfType([pt.object,pt.string]),attributeName:pt.string,duration:pt.number,begin:pt.number,easing:pt.oneOfType([pt.string,pt.func]),steps:pt.arrayOf(pt.shape({duration:pt.number.isRequired,style:pt.object.isRequired,easing:pt.oneOfType([pt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),pt.func]),properties:pt.arrayOf("string"),onAnimationEnd:pt.func})),children:pt.oneOfType([pt.node,pt.func]),isActive:pt.bool,canBegin:pt.bool,onAnimationEnd:pt.func,shouldReAnimate:pt.bool,onAnimationStart:pt.func,onAnimationReStart:pt.func};function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qv.apply(this,arguments)}function J1e(t,e){return nCe(t)||tCe(t,e)||eCe(t,e)||Z1e()}function Z1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eCe(t,e){if(t){if(typeof t=="string")return $5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $5(t,e)}}function $5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function nCe(t){if(Array.isArray(t))return t}function L5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L5(Object(n),!0).forEach(function(r){rCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rCe(t,e,n){return e=iCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iCe(t){var e=sCe(t,"string");return Ch(e)=="symbol"?e:e+""}function sCe(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B5=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&s instanceof Array){for(var h=[0,0,0,0],m=0,v=4;m<v;m++)h[m]=s[m]>o?o:s[m];f="M".concat(e,",").concat(n+a*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(n)),f+="L ".concat(e+r-l*h[1],",").concat(n),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*h[1])),f+="L ".concat(e+r,",").concat(n+i-a*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-l*h[2],",").concat(n+i)),f+="L ".concat(e+l*h[3],",").concat(n+i),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*h[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var x=Math.min(o,s);f="M ".concat(e,",").concat(n+a*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+l*x,",").concat(n,`
            L `).concat(e+r-l*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*x,`
            L `).concat(e+r,",").concat(n+i-a*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r-l*x,",").concat(n+i,`
            L `).concat(e+l*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*x," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},oCe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(s,s+a),f=Math.max(s,s+a),h=Math.min(o,o+l),m=Math.max(o,o+l);return r>=u&&r<=f&&i>=h&&i<=m}return!1},aCe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bk=function(e){var n=F5(F5({},aCe),e),r=T.useRef(),i=T.useState(-1),s=J1e(i,2),o=s[0],a=s[1];T.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&a(E)}catch{}},[]);var l=n.x,u=n.y,f=n.width,h=n.height,m=n.radius,v=n.className,x=n.animationEasing,b=n.animationDuration,y=n.animationBegin,_=n.isAnimationActive,S=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||h!==+h||f===0||h===0)return null;var C=Ye("recharts-rectangle",v);return S?V.createElement(os,{canBegin:o>0,from:{width:f,height:h,x:l,y:u},to:{width:f,height:h,x:l,y:u},duration:b,animationEasing:x,isActive:S},function(E){var P=E.width,k=E.height,j=E.x,N=E.y;return V.createElement(os,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:_,easing:x},V.createElement("path",qv({},Me(n,!0),{className:C,d:B5(j,N,P,k,m),ref:r})))}):V.createElement("path",qv({},Me(n,!0),{className:C,d:B5(l,u,f,h,m)}))},lCe=["points","className","baseLinePoints","connectNulls"];function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uc.apply(this,arguments)}function cCe(t,e){if(t==null)return{};var n=uCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function U5(t){return pCe(t)||hCe(t)||fCe(t)||dCe()}function dCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fCe(t,e){if(t){if(typeof t=="string")return LP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LP(t,e)}}function hCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pCe(t){if(Array.isArray(t))return LP(t)}function LP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var q5=function(e){return e&&e.x===+e.x&&e.y===+e.y},mCe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){q5(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),q5(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Lf=function(e,n){var r=mCe(e);n&&(r=[r.reduce(function(s,o){return[].concat(U5(s),U5(o))},[])]);var i=r.map(function(s){return s.reduce(function(o,a,l){return"".concat(o).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},gCe=function(e,n,r){var i=Lf(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Lf(n.reverse(),r).slice(1))},vCe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,o=cCe(e,lCe);if(!n||!n.length)return null;var a=Ye("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=gCe(n,i,s);return V.createElement("g",{className:a},V.createElement("path",Uc({},Me(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?V.createElement("path",Uc({},Me(o,!0),{fill:"none",d:Lf(n,s)})):null,l?V.createElement("path",Uc({},Me(o,!0),{fill:"none",d:Lf(i,s)})):null)}var f=Lf(n,s);return V.createElement("path",Uc({},Me(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:a,d:f}))};function FP(){return FP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FP.apply(this,arguments)}var o0=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=Ye("recharts-dot",s);return n===+n&&r===+r&&i===+i?T.createElement("circle",FP({},Me(e,!1),dv(e),{className:o,cx:n,cy:r,r:i})):null};function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}var yCe=["x","y","top","left","width","height","className"];function BP(){return BP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BP.apply(this,arguments)}function V5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bCe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V5(Object(n),!0).forEach(function(r){xCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xCe(t,e,n){return e=wCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wCe(t){var e=_Ce(t,"string");return Th(e)=="symbol"?e:e+""}function _Ce(t,e){if(Th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SCe(t,e){if(t==null)return{};var n=CCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var TCe=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},PCe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,l=e.left,u=l===void 0?0:l,f=e.width,h=f===void 0?0:f,m=e.height,v=m===void 0?0:m,x=e.className,b=SCe(e,yCe),y=bCe({x:r,y:s,top:a,left:u,width:h,height:v},b);return!de(r)||!de(s)||!de(h)||!de(v)||!de(a)||!de(u)?null:V.createElement("path",BP({},Me(y,!0),{className:Ye("recharts-cross",x),d:TCe(r,s,h,v,a,u)}))},I1,W5;function ECe(){if(W5)return I1;W5=1;var t=t0(),e=q8(),n=cs();function r(i,s){return i&&i.length?t(i,n(s,2),e):void 0}return I1=r,I1}var ACe=ECe();const kCe=at(ACe);var M1,z5;function jCe(){if(z5)return M1;z5=1;var t=t0(),e=cs(),n=V8();function r(i,s){return i&&i.length?t(i,e(s,2),n):void 0}return M1=r,M1}var OCe=jCe();const NCe=at(OCe);var RCe=["cx","cy","angle","ticks","axisLine"],ICe=["ticks","tick","angle","tickFormatter","stroke"];function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function Ff(){return Ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ff.apply(this,arguments)}function H5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H5(Object(n),!0).forEach(function(r){a0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G5(t,e){if(t==null)return{};var n=MCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function DCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kH(r.key),r)}}function $Ce(t,e,n){return e&&K5(t.prototype,e),n&&K5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LCe(t,e,n){return e=Vv(e),FCe(t,AH()?Reflect.construct(e,n||[],Vv(t).constructor):e.apply(t,n))}function FCe(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BCe(t)}function BCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AH=function(){return!!t})()}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vv(t)}function UCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UP(t,e)}function UP(t,e){return UP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UP(t,e)}function a0(t,e,n){return e=kH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kH(t){var e=qCe(t,"string");return Iu(e)=="symbol"?e:e+""}function qCe(t,e){if(Iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var l0=(function(t){function e(){return DCe(this,e),LCe(this,e,arguments)}return UCe(e,t),$Ce(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,o=s.angle,a=s.cx,l=s.cy;return Rt(a,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,l=kCe(a,function(f){return f.coordinate||0}),u=NCe(a,function(f){return f.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,l=r.axisLine,u=G5(r,RCe),f=a.reduce(function(x,b){return[Math.min(x[0],b.coordinate),Math.max(x[1],b.coordinate)]},[1/0,-1/0]),h=Rt(i,s,f[0],o),m=Rt(i,s,f[1],o),v=Da(Da(Da({},Me(u,!1)),{},{fill:"none"},Me(l,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return V.createElement("line",Ff({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.angle,l=i.tickFormatter,u=i.stroke,f=G5(i,ICe),h=this.getTickTextAnchor(),m=Me(f,!1),v=Me(o,!1),x=s.map(function(b,y){var _=r.getTickValueCoord(b),S=Da(Da(Da(Da({textAnchor:h,transform:"rotate(".concat(90-a,", ").concat(_.x,", ").concat(_.y,")")},m),{},{stroke:"none",fill:u},v),{},{index:y},_),{},{payload:b});return V.createElement(it,Ff({className:Ye("recharts-polar-radius-axis-tick",vH(o)),key:"tick-".concat(b.coordinate)},Ml(r.props,b,y)),e.renderTickItem(o,S,l?l(b.value,y):b.value))});return V.createElement(it,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,o=r.tick;return!i||!i.length?null:V.createElement(it,{className:Ye("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),An.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return V.isValidElement(r)?o=V.cloneElement(r,i):Ve(r)?o=r(i):o=V.createElement(Dl,Ff({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])})(T.PureComponent);a0(l0,"displayName","PolarRadiusAxis");a0(l0,"axisType","radiusAxis");a0(l0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function Ka(){return Ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ka.apply(this,arguments)}function Y5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y5(Object(n),!0).forEach(function(r){c0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OH(r.key),r)}}function WCe(t,e,n){return e&&X5(t.prototype,e),n&&X5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zCe(t,e,n){return e=Wv(e),HCe(t,jH()?Reflect.construct(e,n||[],Wv(t).constructor):e.apply(t,n))}function HCe(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GCe(t)}function GCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jH=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(t)}function KCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qP(t,e)}function qP(t,e){return qP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qP(t,e)}function c0(t,e,n){return e=OH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OH(t){var e=YCe(t,"string");return Mu(e)=="symbol"?e:e+""}function YCe(t,e){if(Mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XCe=Math.PI/180,Q5=1e-5,u0=(function(t){function e(){return VCe(this,e),zCe(this,e,arguments)}return KCe(e,t),WCe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,o=i.cy,a=i.radius,l=i.orientation,u=i.tickSize,f=u||8,h=Rt(s,o,a,r.coordinate),m=Rt(s,o,a+(l==="inner"?-1:1)*f,r.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*XCe),o;return s>Q5?o=i==="outer"?"start":"end":s<-Q5?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.radius,a=r.axisLine,l=r.axisLineType,u=$a($a({},Me(this.props,!1)),{},{fill:"none"},Me(a,!1));if(l==="circle")return V.createElement(o0,Ka({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var f=this.props.ticks,h=f.map(function(m){return Rt(i,s,o,m.coordinate)});return V.createElement(vCe,Ka({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.tickLine,l=i.tickFormatter,u=i.stroke,f=Me(this.props,!1),h=Me(o,!1),m=$a($a({},f),{},{fill:"none"},Me(a,!1)),v=s.map(function(x,b){var y=r.getTickLineCoord(x),_=r.getTickTextAnchor(x),S=$a($a($a({textAnchor:_},f),{},{stroke:"none",fill:u},h),{},{index:b,payload:x,x:y.x2,y:y.y2});return V.createElement(it,Ka({className:Ye("recharts-polar-angle-axis-tick",vH(o)),key:"tick-".concat(x.coordinate)},Ml(r.props,x,b)),a&&V.createElement("line",Ka({className:"recharts-polar-angle-axis-tick-line"},m,y)),o&&e.renderTickItem(o,S,l?l(x.value,b):x.value))});return V.createElement(it,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,o=r.axisLine;return s<=0||!i||!i.length?null:V.createElement(it,{className:Ye("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var o;return V.isValidElement(r)?o=V.cloneElement(r,i):Ve(r)?o=r(i):o=V.createElement(Dl,Ka({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])})(T.PureComponent);c0(u0,"displayName","PolarAngleAxis");c0(u0,"axisType","angleAxis");c0(u0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var D1,J5;function QCe(){if(J5)return D1;J5=1;var t=Bz(),e=t(Object.getPrototypeOf,Object);return D1=e,D1}var $1,Z5;function JCe(){if(Z5)return $1;Z5=1;var t=to(),e=QCe(),n=no(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,l=o.call(Object);function u(f){if(!n(f)||t(f)!=r)return!1;var h=e(f);if(h===null)return!0;var m=a.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==l}return $1=u,$1}var ZCe=JCe();const eTe=at(ZCe);var L1,eF;function tTe(){if(eF)return L1;eF=1;var t=to(),e=no(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return L1=r,L1}var nTe=tTe();const rTe=at(nTe);function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zv.apply(this,arguments)}function iTe(t,e){return lTe(t)||aTe(t,e)||oTe(t,e)||sTe()}function sTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oTe(t,e){if(t){if(typeof t=="string")return tF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tF(t,e)}}function tF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function lTe(t){if(Array.isArray(t))return t}function nF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nF(Object(n),!0).forEach(function(r){cTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cTe(t,e,n){return e=uTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uTe(t){var e=dTe(t,"string");return Ph(e)=="symbol"?e:e+""}function dTe(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iF=function(e,n,r,i,s){var o=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-o/2,",").concat(n+s),a+="L ".concat(e+r-o/2-i,",").concat(n+s),a+="L ".concat(e,",").concat(n," Z"),a},fTe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hTe=function(e){var n=rF(rF({},fTe),e),r=T.useRef(),i=T.useState(-1),s=iTe(i,2),o=s[0],a=s[1];T.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&a(C)}catch{}},[]);var l=n.x,u=n.y,f=n.upperWidth,h=n.lowerWidth,m=n.height,v=n.className,x=n.animationEasing,b=n.animationDuration,y=n.animationBegin,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||h!==+h||m!==+m||f===0&&h===0||m===0)return null;var S=Ye("recharts-trapezoid",v);return _?V.createElement(os,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:l,y:u},to:{upperWidth:f,lowerWidth:h,height:m,x:l,y:u},duration:b,animationEasing:x,isActive:_},function(C){var E=C.upperWidth,P=C.lowerWidth,k=C.height,j=C.x,N=C.y;return V.createElement(os,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:x},V.createElement("path",zv({},Me(n,!0),{className:S,d:iF(j,N,E,P,k),ref:r})))}):V.createElement("g",null,V.createElement("path",zv({},Me(n,!0),{className:S,d:iF(l,u,f,h,m)})))},pTe=["option","shapeType","propTransformer","activeClassName","isActive"];function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function mTe(t,e){if(t==null)return{};var n=gTe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sF(Object(n),!0).forEach(function(r){vTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vTe(t,e,n){return e=yTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yTe(t){var e=bTe(t,"string");return Eh(e)=="symbol"?e:e+""}function bTe(t,e){if(Eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xTe(t,e){return Hv(Hv({},e),t)}function wTe(t,e){return t==="symbols"}function oF(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return V.createElement(Bk,n);case"trapezoid":return V.createElement(hTe,n);case"sector":return V.createElement(xH,n);case"symbols":if(wTe(e))return V.createElement(sk,n);break;default:return null}}function _Te(t){return T.isValidElement(t)?t.props:t}function NH(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?xTe:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,l=mTe(t,pTe),u;if(T.isValidElement(e))u=T.cloneElement(e,Hv(Hv({},l),_Te(e)));else if(Ve(e))u=e(l);else if(eTe(e)&&!rTe(e)){var f=i(e,l);u=V.createElement(oF,{shapeType:n,elementProps:f})}else{var h=l;u=V.createElement(oF,{shapeType:n,elementProps:h})}return a?V.createElement(it,{className:o},u):u}function d0(t,e){return e!=null&&"trapezoids"in t.props}function f0(t,e){return e!=null&&"sectors"in t.props}function Ah(t,e){return e!=null&&"points"in t.props}function STe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function CTe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function TTe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function PTe(t,e){var n;return d0(t,e)?n=STe:f0(t,e)?n=CTe:Ah(t,e)&&(n=TTe),n}function ETe(t,e){var n;return d0(t,e)?n="trapezoids":f0(t,e)?n="sectors":Ah(t,e)&&(n="points"),n}function ATe(t,e){if(d0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(f0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Ah(t,e)?e.payload:{}}function kTe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=ETe(n,e),s=ATe(n,e),o=r.filter(function(l,u){var f=Ou(s,l),h=n.props[i].filter(function(x){var b=PTe(n,e);return b(x,e)}),m=n.props[i].indexOf(h[h.length-1]),v=u===m;return f&&v}),a=r.indexOf(o[o.length-1]);return a}var Eg;function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(this,arguments)}function aF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aF(Object(n),!0).forEach(function(r){Zr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IH(r.key),r)}}function OTe(t,e,n){return e&&lF(t.prototype,e),n&&lF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NTe(t,e,n){return e=Gv(e),RTe(t,RH()?Reflect.construct(e,n||[],Gv(t).constructor):e.apply(t,n))}function RTe(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ITe(t)}function ITe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RH=function(){return!!t})()}function Gv(t){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gv(t)}function MTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VP(t,e)}function VP(t,e){return VP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VP(t,e)}function Zr(t,e,n){return e=IH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IH(t){var e=DTe(t,"string");return Du(e)=="symbol"?e:e+""}function DTe(t,e){if(Du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var io=(function(t){function e(n){var r;return jTe(this,e),r=NTe(this,e,[n]),Zr(r,"pieRef",null),Zr(r,"sectorRefs",[]),Zr(r,"id",dd("recharts-pie-")),Zr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ve(i)&&i()}),Zr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ve(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return MTe(e,t),OTe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,a=s.labelLine,l=s.dataKey,u=s.valueKey,f=Me(this.props,!1),h=Me(o,!1),m=Me(a,!1),v=o&&o.offsetRadius||20,x=r.map(function(b,y){var _=(b.startAngle+b.endAngle)/2,S=Rt(b.cx,b.cy,b.outerRadius+v,_),C=Ot(Ot(Ot(Ot({},f),b),{},{stroke:"none"},h),{},{index:y,textAnchor:e.getTextAnchor(S.x,b.cx)},S),E=Ot(Ot(Ot(Ot({},f),b),{},{fill:"none",stroke:b.fill},m),{},{index:y,points:[Rt(b.cx,b.cy,b.outerRadius,_),S]}),P=l;return Xe(l)&&Xe(u)?P="value":Xe(l)&&(P=u),V.createElement(it,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(y)},a&&e.renderLabelLineItem(a,E,"line"),e.renderLabelItem(o,C,xn(b,P)))});return V.createElement(it,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,o=s.activeShape,a=s.blendStroke,l=s.inactiveShape;return r.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(f),m=l&&i.hasActiveIndex()?l:null,v=h?o:m,x=Ot(Ot({},u),{},{stroke:a?u.fill:u.stroke,tabIndex:-1});return V.createElement(it,qc({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Ml(i.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),V.createElement(NH,qc({option:v,isActive:h,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,o=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state,m=h.prevSectors,v=h.prevIsAnimationActive;return V.createElement(os,{begin:a,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var b=x.t,y=[],_=s&&s[0],S=_.startAngle;return s.forEach(function(C,E){var P=m&&m[E],k=E>0?Dr(C,"paddingAngle",0):0;if(P){var j=yr(P.endAngle-P.startAngle,C.endAngle-C.startAngle),N=Ot(Ot({},C),{},{startAngle:S+k,endAngle:S+j(b)+k});y.push(N),S=N.endAngle}else{var I=C.endAngle,L=C.startAngle,M=yr(0,I-L),F=M(b),U=Ot(Ot({},C),{},{startAngle:S+k,endAngle:S+F+k});y.push(U),S=U.endAngle}}),V.createElement(it,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!Ou(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,o=i.sectors,a=i.className,l=i.label,u=i.cx,f=i.cy,h=i.innerRadius,m=i.outerRadius,v=i.isAnimationActive,x=this.state.isAnimationFinished;if(s||!o||!o.length||!de(u)||!de(f)||!de(h)||!de(m))return null;var b=Ye("recharts-pie",a);return V.createElement(it,{tabIndex:this.props.rootTabIndex,className:b,ref:function(_){r.pieRef=_}},this.renderSectors(),l&&this.renderLabels(o),An.renderCallByParent(this.props,null,!1),(!v||x)&&Fs.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(V.isValidElement(r))return V.cloneElement(r,i);if(Ve(r))return r(i);var o=Ye("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return V.createElement(eu,qc({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,s){if(V.isValidElement(r))return V.cloneElement(r,i);var o=s;if(Ve(r)&&(o=r(i),V.isValidElement(o)))return o;var a=Ye("recharts-pie-label-text",typeof r!="boolean"&&!Ve(r)?r.className:"");return V.createElement(Dl,qc({},i,{alignmentBaseline:"middle",className:a}),o)}}])})(T.PureComponent);Eg=io;Zr(io,"displayName","Pie");Zr(io,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Vl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Zr(io,"parseDeltaAngle",function(t,e){var n=rr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Zr(io,"getRealPieData",function(t){var e=t.data,n=t.children,r=Me(t,!1),i=ii(n,Ky);return e&&e.length?e.map(function(s,o){return Ot(Ot(Ot({payload:s},r),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return Ot(Ot({},r),s.props)}):[]});Zr(io,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,o=gH(i,s),a=r+ir(t.cx,i,i/2),l=n+ir(t.cy,s,s/2),u=ir(t.innerRadius,o,0),f=ir(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:a,cy:l,innerRadius:u,outerRadius:f,maxRadius:h}});Zr(io,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Ot(Ot({},e.type.defaultProps),e.props):e.props,i=Eg.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,o=r.startAngle,a=r.endAngle,l=r.paddingAngle,u=r.dataKey,f=r.nameKey,h=r.valueKey,m=r.tooltipType,v=Math.abs(r.minAngle),x=Eg.parseCoordinateOfPie(r,n),b=Eg.parseDeltaAngle(o,a),y=Math.abs(b),_=u;Xe(u)&&Xe(h)?(ki(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):Xe(u)&&(ki(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=h);var S=i.filter(function(N){return xn(N,_,0)!==0}).length,C=(y>=360?S:S-1)*l,E=y-S*v-C,P=i.reduce(function(N,I){var L=xn(I,_,0);return N+(de(L)?L:0)},0),k;if(P>0){var j;k=i.map(function(N,I){var L=xn(N,_,0),M=xn(N,f,I),F=(de(L)?L:0)/P,U;I?U=j.endAngle+rr(b)*l*(L!==0?1:0):U=o;var Y=U+rr(b)*((L!==0?v:0)+F*E),X=(U+Y)/2,z=(x.innerRadius+x.outerRadius)/2,J=[{name:M,value:L,payload:N,dataKey:_,type:m}],B=Rt(x.cx,x.cy,z,X);return j=Ot(Ot(Ot({percent:F,cornerRadius:s,name:M,tooltipPayload:J,midAngle:X,middleRadius:z,tooltipPosition:B},N),x),{},{value:xn(N,_),startAngle:U,endAngle:Y,payload:N,paddingAngle:rr(b)*l}),j})}return Ot(Ot({},x),{},{sectors:k,data:i})});var F1,cF;function $Te(){if(cF)return F1;cF=1;var t=Math.ceil,e=Math.max;function n(r,i,s,o){for(var a=-1,l=e(t((i-r)/(s||1)),0),u=Array(l);l--;)u[o?l:++a]=r,r+=s;return u}return F1=n,F1}var B1,uF;function MH(){if(uF)return B1;uF=1;var t=n8(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return B1=r,B1}var U1,dF;function LTe(){if(dF)return U1;dF=1;var t=$Te(),e=Gy(),n=MH();function r(i){return function(s,o,a){return a&&typeof a!="number"&&e(s,o,a)&&(o=a=void 0),s=n(s),o===void 0?(o=s,s=0):o=n(o),a=a===void 0?s<o?1:-1:n(a),t(s,o,a,i)}}return U1=r,U1}var q1,fF;function FTe(){if(fF)return q1;fF=1;var t=LTe(),e=t();return q1=e,q1}var BTe=FTe();const Kv=at(BTe);function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function hF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hF(Object(n),!0).forEach(function(r){DH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DH(t,e,n){return e=UTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UTe(t){var e=qTe(t,"string");return kh(e)=="symbol"?e:e+""}function qTe(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VTe=["Webkit","Moz","O","ms"],WTe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=VTe.reduce(function(s,o){return pF(pF({},s),{},DH({},o+r,n))},{});return i[e]=n,i};function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yv.apply(this,arguments)}function mF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mF(Object(n),!0).forEach(function(r){jr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LH(r.key),r)}}function HTe(t,e,n){return e&&gF(t.prototype,e),n&&gF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GTe(t,e,n){return e=Xv(e),KTe(t,$H()?Reflect.construct(e,n||[],Xv(t).constructor):e.apply(t,n))}function KTe(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YTe(t)}function YTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $H(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($H=function(){return!!t})()}function Xv(t){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xv(t)}function XTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WP(t,e)}function WP(t,e){return WP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WP(t,e)}function jr(t,e,n){return e=LH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LH(t){var e=QTe(t,"string");return $u(e)=="symbol"?e:e+""}function QTe(t,e){if($u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JTe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Mf().domain(Kv(0,l)).range([s,s+o-a]),f=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},vF=function(e){return e.changedTouches&&!!e.changedTouches.length},Lu=(function(t){function e(n){var r;return zTe(this,e),r=GTe(this,e,[n]),jr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),jr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),jr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o==null||o({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),jr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),jr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),jr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),jr(r,"handleSlideDragStart",function(i){var s=vF(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return XTe(e,t),HTe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,f=u.length-1,h=Math.min(i,s),m=Math.max(i,s),v=e.getIndexInRange(o,h),x=e.getIndexInRange(o,m);return{startIndex:v-v%l,endIndex:x===f?f:x-x%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,l=xn(s[r],a,r);return Ve(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,l=this.props,u=l.x,f=l.width,h=l.travellerWidth,m=l.startIndex,v=l.endIndex,x=l.onChange,b=r.pageX-s;b>0?b=Math.min(b,u+f-h-a,u+f-h-o):b<0&&(b=Math.max(b,u-o,u-a));var y=this.getIndex({startX:o+b,endX:a+b});(y.startIndex!==m||y.endIndex!==v)&&x&&x(y),this.setState({startX:o+b,endX:a+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=vF(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[o],f=this.props,h=f.x,m=f.width,v=f.travellerWidth,x=f.onChange,b=f.gap,y=f.data,_={startX:this.state.startX,endX:this.state.endX},S=r.pageX-s;S>0?S=Math.min(S,h+m-v-u):S<0&&(S=Math.max(S,h-u)),_[o]=u+S;var C=this.getIndex(_),E=C.startIndex,P=C.endIndex,k=function(){var N=y.length-1;return o==="startX"&&(a>l?E%b===0:P%b===0)||a<l&&P===N||o==="endX"&&(a>l?P%b===0:E%b===0)||a>l&&P===N};this.setState(jr(jr({},o,u+S),"brushMoveStartX",r.pageX),function(){x&&k()&&x(C)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,a=o.scaleValues,l=o.startX,u=o.endX,f=this.state[i],h=a.indexOf(f);if(h!==-1){var m=h+r;if(!(m===-1||m>=a.length)){var v=a[m];i==="startX"&&v>=u||i==="endX"&&v<=l||this.setState(jr({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.fill,u=r.stroke;return V.createElement("rect",{stroke:u,fill:l,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.data,u=r.children,f=r.padding,h=T.Children.only(u);return h?V.cloneElement(h,{x:i,y:s,width:o,height:a,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,a=this,l=this.props,u=l.y,f=l.travellerWidth,h=l.height,m=l.traveller,v=l.ariaLabel,x=l.data,b=l.startIndex,y=l.endIndex,_=Math.max(r,this.props.x),S=V1(V1({},Me(this.props,!1)),{},{x:_,y:u,width:f,height:h}),C=v||"Min value: ".concat((s=x[b])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=x[y])===null||o===void 0?void 0:o.name);return V.createElement(it,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),a.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,S))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,a=s.height,l=s.stroke,u=s.travellerWidth,f=Math.min(r,i)+u,h=Math.max(Math.abs(i-r)-u,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:o,width:h,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,f=this.state,h=f.startX,m=f.endX,v=5,x={pointerEvents:"none",fill:u};return V.createElement(it,{className:"recharts-brush-texts"},V.createElement(Dl,Yv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-v,y:o+a/2},x),this.getTextOfTick(i)),V.createElement(Dl,Yv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+l+v,y:o+a/2},x),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,a=r.x,l=r.y,u=r.width,f=r.height,h=r.alwaysShowText,m=this.state,v=m.startX,x=m.endX,b=m.isTextActive,y=m.isSlideMoving,_=m.isTravellerMoving,S=m.isTravellerFocused;if(!i||!i.length||!de(a)||!de(l)||!de(u)||!de(f)||u<=0||f<=0)return null;var C=Ye("recharts-brush",s),E=V.Children.count(o)===1,P=WTe("userSelect","none");return V.createElement(it,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(v,x),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(x,"endX"),(b||y||_||S||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,a=r.height,l=r.stroke,u=Math.floor(s+a/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:i,y:s,width:o,height:a,fill:l,stroke:"none"}),V.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return V.isValidElement(r)?s=V.cloneElement(r,i):Ve(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,f=r.startIndex,h=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return V1({prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:o},s&&s.length?JTe({data:s,width:o,x:a,travellerWidth:l,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+o-l]);var m=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,a=s-1;a-o>1;){var l=Math.floor((o+a)/2);r[l]>i?a=l:o=l}return i>=r[a]?a:o}}])})(T.PureComponent);jr(Lu,"displayName","Brush");jr(Lu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var W1,yF;function ZTe(){if(yF)return W1;yF=1;var t=fk();function e(n,r){var i;return t(n,function(s,o,a){return i=r(s,o,a),!i}),!!i}return W1=e,W1}var z1,bF;function ePe(){if(bF)return z1;bF=1;var t=Rz(),e=cs(),n=ZTe(),r=_r(),i=Gy();function s(o,a,l){var u=r(o)?t:n;return l&&i(o,a,l)&&(a=void 0),u(o,e(a,3))}return z1=s,z1}var tPe=ePe();const nPe=at(tPe);var ts=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},H1,xF;function rPe(){if(xF)return H1;xF=1;var t=Qz();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return H1=e,H1}var G1,wF;function iPe(){if(wF)return G1;wF=1;var t=rPe(),e=Yz(),n=cs();function r(i,s){var o={};return s=n(s,3),e(i,function(a,l,u){t(o,l,s(a,l,u))}),o}return G1=r,G1}var sPe=iPe();const oPe=at(sPe);var K1,_F;function aPe(){if(_F)return K1;_F=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return K1=t,K1}var Y1,SF;function lPe(){if(SF)return Y1;SF=1;var t=fk();function e(n,r){var i=!0;return t(n,function(s,o,a){return i=!!r(s,o,a),i}),i}return Y1=e,Y1}var X1,CF;function cPe(){if(CF)return X1;CF=1;var t=aPe(),e=lPe(),n=cs(),r=_r(),i=Gy();function s(o,a,l){var u=r(o)?t:e;return l&&i(o,a,l)&&(a=void 0),u(o,n(a,3))}return X1=s,X1}var uPe=cPe();const FH=at(uPe);var dPe=["x","y"];function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function zP(){return zP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zP.apply(this,arguments)}function TF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(n),!0).forEach(function(r){fPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fPe(t,e,n){return e=hPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hPe(t){var e=pPe(t,"string");return jh(e)=="symbol"?e:e+""}function pPe(t,e){if(jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mPe(t,e){if(t==null)return{};var n=gPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vPe(t,e){var n=t.x,r=t.y,i=mPe(t,dPe),s="".concat(n),o=parseInt(s,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),f=parseInt(u,10),h="".concat(e.width||i.width),m=parseInt(h,10);return yf(yf(yf(yf(yf({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:f,width:m,name:e.name,radius:e.radius})}function PF(t){return V.createElement(NH,zP({shapeType:"rectangle",propTransformer:vPe,activeClassName:"recharts-active-bar"},t))}var yPe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=de(r)||Lpe(r);return s?e(r,i):(s||Ll(),n)}},bPe=["value","background"],BH;function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function xPe(t,e){if(t==null)return{};var n=wPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qv(){return Qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qv.apply(this,arguments)}function EF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EF(Object(n),!0).forEach(function(r){Ho(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qH(r.key),r)}}function SPe(t,e,n){return e&&AF(t.prototype,e),n&&AF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CPe(t,e,n){return e=Jv(e),TPe(t,UH()?Reflect.construct(e,n||[],Jv(t).constructor):e.apply(t,n))}function TPe(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PPe(t)}function PPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UH=function(){return!!t})()}function Jv(t){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jv(t)}function EPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HP(t,e)}function HP(t,e){return HP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HP(t,e)}function Ho(t,e,n){return e=qH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qH(t){var e=APe(t,"string");return Fu(e)=="symbol"?e:e+""}function APe(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dp=(function(t){function e(){var n;_Pe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=CPe(this,e,[].concat(i)),Ho(n,"state",{isAnimationFinished:!1}),Ho(n,"id",dd("recharts-bar-")),Ho(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Ho(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return EPe(e,t),SPe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,a=s.dataKey,l=s.activeIndex,u=s.activeBar,f=Me(this.props,!1);return r&&r.map(function(h,m){var v=m===l,x=v?u:o,b=on(on(on({},f),h),{},{isActive:v,option:x,index:m,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return V.createElement(it,Qv({className:"recharts-bar-rectangle"},Ml(i.props,h,m),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(m)}),V.createElement(PF,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,f=i.animationEasing,h=i.animationId,m=this.state.prevData;return V.createElement(os,{begin:l,duration:u,isActive:a,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var x=v.t,b=s.map(function(y,_){var S=m&&m[_];if(S){var C=yr(S.x,y.x),E=yr(S.y,y.y),P=yr(S.width,y.width),k=yr(S.height,y.height);return on(on({},y),{},{x:C(x),y:E(x),width:P(x),height:k(x)})}if(o==="horizontal"){var j=yr(0,y.height),N=j(x);return on(on({},y),{},{y:y.y+y.height-N,height:N})}var I=yr(0,y.width),L=I(x);return on(on({},y),{},{width:L})});return V.createElement(it,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Ou(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,l=Me(this.props.background,!1);return s.map(function(u,f){u.value;var h=u.background,m=xPe(u,bPe);if(!h)return null;var v=on(on(on(on(on({},m),{},{fill:"#eee"},h),l),Ml(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return V.createElement(PF,Qv({key:"background-bar-".concat(f),option:r.props.background,isActive:f===a},v))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,l=s.yAxis,u=s.layout,f=s.children,h=ii(f,s0);if(!h)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,v=function(y,_){var S=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:S,errorVal:xn(y,_)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return V.createElement(it,x,h.map(function(b){return V.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:a,yAxis:l,layout:u,offset:m,dataPointFormatter:v})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,a=r.xAxis,l=r.yAxis,u=r.left,f=r.top,h=r.width,m=r.height,v=r.isAnimationActive,x=r.background,b=r.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,_=Ye("recharts-bar",o),S=a&&a.allowDataOverflow,C=l&&l.allowDataOverflow,E=S||C,P=Xe(b)?this.id:b;return V.createElement(it,{className:_},S||C?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(P)},V.createElement("rect",{x:S?u:u-h/2,y:C?f:f-m/2,width:S?h:h*2,height:C?m:m*2}))):null,V.createElement(it,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(P,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,P),(!v||y)&&Fs.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(T.PureComponent);BH=dp;Ho(dp,"displayName","Bar");Ho(dp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Vl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ho(dp,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,h=t.displayedData,m=t.offset,v=Zwe(r,n);if(!v)return null;var x=e.layout,b=n.type.defaultProps,y=b!==void 0?on(on({},b),n.props):n.props,_=y.dataKey,S=y.children,C=y.minPointSize,E=x==="horizontal"?o:s,P=u?E.scale.domain():null,k=o_e({numericAxis:E}),j=ii(S,Ky),N=h.map(function(I,L){var M,F,U,Y,X,z;u?M=e_e(u[f+L],P):(M=xn(I,_),Array.isArray(M)||(M=[k,M]));var J=yPe(C,BH.defaultProps.minPointSize)(M[1],L);if(x==="horizontal"){var B,K=[o.scale(M[0]),o.scale(M[1])],D=K[0],$=K[1];F=n5({axis:s,ticks:a,bandSize:i,offset:v.offset,entry:I,index:L}),U=(B=$??D)!==null&&B!==void 0?B:void 0,Y=v.size;var H=D-$;if(X=Number.isNaN(H)?0:H,z={x:F,y:o.y,width:Y,height:o.height},Math.abs(J)>0&&Math.abs(X)<Math.abs(J)){var te=rr(X||J)*(Math.abs(J)-Math.abs(X));U-=te,X+=te}}else{var ce=[s.scale(M[0]),s.scale(M[1])],ye=ce[0],je=ce[1];if(F=ye,U=n5({axis:o,ticks:l,bandSize:i,offset:v.offset,entry:I,index:L}),Y=je-ye,X=v.size,z={x:s.x,y:U,width:s.width,height:X},Math.abs(J)>0&&Math.abs(Y)<Math.abs(J)){var oe=rr(Y||J)*(Math.abs(J)-Math.abs(Y));Y+=oe}}return on(on(on({},I),{},{x:F,y:U,width:Y,height:X,value:u?M:M[1],payload:I,background:z},j&&j[L]&&j[L].props),{},{tooltipPayload:[pH(n,I)],tooltipPosition:{x:F+Y/2,y:U+X/2}})});return on({data:N,layout:x},m)});function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function kPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VH(r.key),r)}}function jPe(t,e,n){return e&&kF(t.prototype,e),n&&kF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jF(Object(n),!0).forEach(function(r){h0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h0(t,e,n){return e=VH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VH(t){var e=OPe(t,"string");return Oh(e)=="symbol"?e:e+""}function OPe(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NPe=function(e,n,r,i,s){var o=e.width,a=e.height,l=e.layout,u=e.children,f=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},m=!!Or(u,dp);return f.reduce(function(v,x){var b=n[x],y=b.orientation,_=b.domain,S=b.padding,C=S===void 0?{}:S,E=b.mirror,P=b.reversed,k="".concat(y).concat(E?"Mirror":""),j,N,I,L,M;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var F=_[1]-_[0],U=1/0,Y=b.categoricalDomain.sort(Upe);if(Y.forEach(function(ce,ye){ye>0&&(U=Math.min((ce||0)-(Y[ye-1]||0),U))}),Number.isFinite(U)){var X=U/F,z=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(j=X*z/2),b.padding==="no-gap"){var J=ir(e.barCategoryGap,X*z),B=X*z/2;j=B-J-(B-J)/z*J}}}i==="xAxis"?N=[r.left+(C.left||0)+(j||0),r.left+r.width-(C.right||0)-(j||0)]:i==="yAxis"?N=l==="horizontal"?[r.top+r.height-(C.bottom||0),r.top+(C.top||0)]:[r.top+(C.top||0)+(j||0),r.top+r.height-(C.bottom||0)-(j||0)]:N=b.range,P&&(N=[N[1],N[0]]);var K=uH(b,s,m),D=K.scale,$=K.realScaleType;D.domain(_).range(N),dH(D);var H=fH(D,Pi(Pi({},b),{},{realScaleType:$}));i==="xAxis"?(M=y==="top"&&!E||y==="bottom"&&E,I=r.left,L=h[k]-M*b.height):i==="yAxis"&&(M=y==="left"&&!E||y==="right"&&E,I=h[k]-M*b.width,L=r.top);var te=Pi(Pi(Pi({},b),H),{},{realScaleType:$,x:I,y:L,scale:D,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return te.bandSize=Mv(te,H),!b.hide&&i==="xAxis"?h[k]+=(M?-1:1)*te.height:b.hide||(h[k]+=(M?-1:1)*te.width),Pi(Pi({},v),{},h0({},x,te))},{})},WH=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},RPe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return WH({x:n,y:r},{x:i,y:s})},zH=(function(){function t(e){kPe(this,t),this.scale=e}return jPe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();h0(zH,"EPS",1e-4);var Uk=function(e){var n=Object.keys(e).reduce(function(r,i){return Pi(Pi({},r),{},h0({},i,zH.create(e[i])))},{});return Pi(Pi({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return oPe(i,function(l,u){return n[u].apply(l,{bandAware:o,position:a})})},isInRange:function(i){return FH(i,function(s,o){return n[o].isInRange(s)})}})};function IPe(t){return(t%180+180)%180}var MPe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=IPe(i),o=s*Math.PI/180,a=Math.atan(r/n),l=o>a&&o<Math.PI-a?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Q1,OF;function DPe(){if(OF)return Q1;OF=1;var t=cs(),e=op(),n=zy();function r(i){return function(s,o,a){var l=Object(s);if(!e(s)){var u=t(o,3);s=n(s),o=function(h){return u(l[h],h,l)}}var f=i(s,o,a);return f>-1?l[u?s[f]:f]:void 0}}return Q1=r,Q1}var J1,NF;function $Pe(){if(NF)return J1;NF=1;var t=MH();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return J1=e,J1}var Z1,RF;function LPe(){if(RF)return Z1;RF=1;var t=Wz(),e=cs(),n=$Pe(),r=Math.max;function i(s,o,a){var l=s==null?0:s.length;if(!l)return-1;var u=a==null?0:n(a);return u<0&&(u=r(l+u,0)),t(s,e(o,3),u)}return Z1=i,Z1}var eC,IF;function FPe(){if(IF)return eC;IF=1;var t=DPe(),e=LPe(),n=t(e);return eC=n,eC}var BPe=FPe();const UPe=at(BPe);var qPe=oz();const VPe=at(qPe);var WPe=VPe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),qk=T.createContext(void 0),Vk=T.createContext(void 0),HH=T.createContext(void 0),GH=T.createContext({}),KH=T.createContext(void 0),YH=T.createContext(0),XH=T.createContext(0),MF=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,a=e.children,l=e.width,u=e.height,f=WPe(s);return V.createElement(qk.Provider,{value:r},V.createElement(Vk.Provider,{value:i},V.createElement(GH.Provider,{value:s},V.createElement(HH.Provider,{value:f},V.createElement(KH.Provider,{value:o},V.createElement(YH.Provider,{value:u},V.createElement(XH.Provider,{value:l},a)))))))},zPe=function(){return T.useContext(KH)},QH=function(e){var n=T.useContext(qk);n==null&&Ll();var r=n[e];return r==null&&Ll(),r},HPe=function(){var e=T.useContext(qk);return Mo(e)},GPe=function(){var e=T.useContext(Vk),n=UPe(e,function(r){return FH(r.domain,Number.isFinite)});return n||Mo(e)},JH=function(e){var n=T.useContext(Vk);n==null&&Ll();var r=n[e];return r==null&&Ll(),r},KPe=function(){var e=T.useContext(HH);return e},YPe=function(){return T.useContext(GH)},Wk=function(){return T.useContext(XH)},zk=function(){return T.useContext(YH)};function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function XPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e9(r.key),r)}}function JPe(t,e,n){return e&&QPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZPe(t,e,n){return e=Zv(e),eEe(t,ZH()?Reflect.construct(e,n||[],Zv(t).constructor):e.apply(t,n))}function eEe(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tEe(t)}function tEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZH=function(){return!!t})()}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zv(t)}function nEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GP(t,e)}function GP(t,e){return GP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GP(t,e)}function DF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $F(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DF(Object(n),!0).forEach(function(r){Hk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hk(t,e,n){return e=e9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e9(t){var e=rEe(t,"string");return Bu(e)=="symbol"?e:e+""}function rEe(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function iEe(t,e){return lEe(t)||aEe(t,e)||oEe(t,e)||sEe()}function sEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oEe(t,e){if(t){if(typeof t=="string")return LF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LF(t,e)}}function LF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function lEe(t){if(Array.isArray(t))return t}function KP(){return KP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KP.apply(this,arguments)}var cEe=function(e,n){var r;return V.isValidElement(e)?r=V.cloneElement(e,n):Ve(e)?r=e(n):r=V.createElement("line",KP({},n,{className:"recharts-reference-line-line"})),r},uEe=function(e,n,r,i,s,o,a,l,u){var f=s.x,h=s.y,m=s.width,v=s.height;if(r){var x=u.y,b=e.y.apply(x,{position:o});if(ts(u,"discard")&&!e.y.isInRange(b))return null;var y=[{x:f+m,y:b},{x:f,y:b}];return l==="left"?y.reverse():y}if(n){var _=u.x,S=e.x.apply(_,{position:o});if(ts(u,"discard")&&!e.x.isInRange(S))return null;var C=[{x:S,y:h+v},{x:S,y:h}];return a==="top"?C.reverse():C}if(i){var E=u.segment,P=E.map(function(k){return e.apply(k,{position:o})});return ts(u,"discard")&&nPe(P,function(k){return!e.isInRange(k)})?null:P}return null};function dEe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,l=t.alwaysShow,u=zPe(),f=QH(i),h=JH(s),m=KPe();if(!u||!m)return null;ki(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=Uk({x:f.scale,y:h.scale}),x=wn(e),b=wn(n),y=r&&r.length===2,_=uEe(v,x,b,y,m,t.position,f.orientation,h.orientation,t);if(!_)return null;var S=iEe(_,2),C=S[0],E=C.x,P=C.y,k=S[1],j=k.x,N=k.y,I=ts(t,"hidden")?"url(#".concat(u,")"):void 0,L=$F($F({clipPath:I},Me(t,!0)),{},{x1:E,y1:P,x2:j,y2:N});return V.createElement(it,{className:Ye("recharts-reference-line",a)},cEe(o,L),An.renderCallByParent(t,RPe({x1:E,y1:P,x2:j,y2:N})))}var Gk=(function(t){function e(){return XPe(this,e),ZPe(this,e,arguments)}return nEe(e,t),JPe(e,[{key:"render",value:function(){return V.createElement(dEe,this.props)}}])})(V.Component);Hk(Gk,"displayName","ReferenceLine");Hk(Gk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function YP(){return YP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YP.apply(this,arguments)}function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function FF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FF(Object(n),!0).forEach(function(r){p0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n9(r.key),r)}}function pEe(t,e,n){return e&&hEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mEe(t,e,n){return e=ey(e),gEe(t,t9()?Reflect.construct(e,n||[],ey(t).constructor):e.apply(t,n))}function gEe(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vEe(t)}function vEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t9=function(){return!!t})()}function ey(t){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ey(t)}function yEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XP(t,e)}function XP(t,e){return XP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XP(t,e)}function p0(t,e,n){return e=n9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n9(t){var e=bEe(t,"string");return Uu(e)=="symbol"?e:e+""}function bEe(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xEe=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=Uk({x:i.scale,y:s.scale}),a=o.apply({x:n,y:r},{bandAware:!0});return ts(e,"discard")&&!o.isInRange(a)?null:a},m0=(function(t){function e(){return fEe(this,e),mEe(this,e,arguments)}return yEe(e,t),pEe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,a=r.alwaysShow,l=r.clipPathId,u=wn(i),f=wn(s);if(ki(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var h=xEe(this.props);if(!h)return null;var m=h.x,v=h.y,x=this.props,b=x.shape,y=x.className,_=ts(this.props,"hidden")?"url(#".concat(l,")"):void 0,S=BF(BF({clipPath:_},Me(this.props,!0)),{},{cx:m,cy:v});return V.createElement(it,{className:Ye("recharts-reference-dot",y)},e.renderDot(b,S),An.renderCallByParent(this.props,{x:m-o,y:v-o,width:2*o,height:2*o}))}}])})(V.Component);p0(m0,"displayName","ReferenceDot");p0(m0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});p0(m0,"renderDot",function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):Ve(t)?n=t(e):n=V.createElement(o0,YP({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function QP(){return QP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QP.apply(this,arguments)}function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function UF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UF(Object(n),!0).forEach(function(r){g0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i9(r.key),r)}}function SEe(t,e,n){return e&&_Ee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CEe(t,e,n){return e=ty(e),TEe(t,r9()?Reflect.construct(e,n||[],ty(t).constructor):e.apply(t,n))}function TEe(t,e){if(e&&(qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PEe(t)}function PEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r9=function(){return!!t})()}function ty(t){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ty(t)}function EEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JP(t,e)}function JP(t,e){return JP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JP(t,e)}function g0(t,e,n){return e=i9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i9(t){var e=AEe(t,"string");return qu(e)=="symbol"?e:e+""}function AEe(t,e){if(qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kEe=function(e,n,r,i,s){var o=s.x1,a=s.x2,l=s.y1,u=s.y2,f=s.xAxis,h=s.yAxis;if(!f||!h)return null;var m=Uk({x:f.scale,y:h.scale}),v={x:e?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:r?m.y.apply(l,{position:"start"}):m.y.rangeMin},x={x:n?m.x.apply(a,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(u,{position:"end"}):m.y.rangeMax};return ts(s,"discard")&&(!m.isInRange(v)||!m.isInRange(x))?null:WH(v,x)},v0=(function(t){function e(){return wEe(this,e),CEe(this,e,arguments)}return EEe(e,t),SEe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,f=r.clipPathId;ki(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=wn(i),m=wn(s),v=wn(o),x=wn(a),b=this.props.shape;if(!h&&!m&&!v&&!x&&!b)return null;var y=kEe(h,m,v,x,this.props);if(!y&&!b)return null;var _=ts(this.props,"hidden")?"url(#".concat(f,")"):void 0;return V.createElement(it,{className:Ye("recharts-reference-area",l)},e.renderRect(b,qF(qF({clipPath:_},Me(this.props,!0)),y)),An.renderCallByParent(this.props,y))}}])})(V.Component);g0(v0,"displayName","ReferenceArea");g0(v0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});g0(v0,"renderRect",function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):Ve(t)?n=t(e):n=V.createElement(Bk,QP({},e,{className:"recharts-reference-area-rect"})),n});function s9(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function jEe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return MPe(r,n)}function OEe(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function ny(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function NEe(t,e){return s9(t,e+1)}function REe(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,a=e.end,l=0,u=1,f=o,h=function(){var x=r==null?void 0:r[l];if(x===void 0)return{v:s9(r,u)};var b=l,y,_=function(){return y===void 0&&(y=n(x,b)),y},S=x.coordinate,C=l===0||ny(t,S,_,f,a);C||(l=0,f=o,u+=1),C&&(f=S+t*(_()/2+i),l+=u)},m;u<=s.length;)if(m=h(),m)return m.v;return[]}function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function VF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VF(Object(n),!0).forEach(function(r){IEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IEe(t,e,n){return e=MEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MEe(t){var e=DEe(t,"string");return Nh(e)=="symbol"?e:e+""}function DEe(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Ee(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,a=e.start,l=e.end,u=function(m){var v=s[m],x,b=function(){return x===void 0&&(x=n(v,m)),x};if(m===o-1){var y=t*(v.coordinate+t*b()/2-l);s[m]=v=Wn(Wn({},v),{},{tickCoord:y>0?v.coordinate-y*t:v.coordinate})}else s[m]=v=Wn(Wn({},v),{},{tickCoord:v.coordinate});var _=ny(t,v.tickCoord,b,a,l);_&&(l=v.tickCoord-t*(b()/2+i),s[m]=Wn(Wn({},v),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return s}function LEe(t,e,n,r,i,s){var o=(r||[]).slice(),a=o.length,l=e.start,u=e.end;if(s){var f=r[a-1],h=n(f,a-1),m=t*(f.coordinate+t*h/2-u);o[a-1]=f=Wn(Wn({},f),{},{tickCoord:m>0?f.coordinate-m*t:f.coordinate});var v=ny(t,f.tickCoord,function(){return h},l,u);v&&(u=f.tickCoord-t*(h/2+i),o[a-1]=Wn(Wn({},f),{},{isShow:!0}))}for(var x=s?a-1:a,b=function(S){var C=o[S],E,P=function(){return E===void 0&&(E=n(C,S)),E};if(S===0){var k=t*(C.coordinate-t*P()/2-l);o[S]=C=Wn(Wn({},C),{},{tickCoord:k<0?C.coordinate-k*t:C.coordinate})}else o[S]=C=Wn(Wn({},C),{},{tickCoord:C.coordinate});var j=ny(t,C.tickCoord,P,l,u);j&&(l=C.tickCoord+t*(P()/2+i),o[S]=Wn(Wn({},C),{},{isShow:!0}))},y=0;y<x;y++)b(y);return o}function Kk(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,f=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(de(l)||Vl.isSsr)return NEe(i,typeof l=="number"&&de(l)?l:0);var m=[],v=a==="top"||a==="bottom"?"width":"height",x=f&&v==="width"?If(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(C,E){var P=Ve(u)?u(C.value,E):C.value;return v==="width"?jEe(If(P,{fontSize:e,letterSpacing:n}),x,h):If(P,{fontSize:e,letterSpacing:n})[v]},y=i.length>=2?rr(i[1].coordinate-i[0].coordinate):1,_=OEe(s,y,v);return l==="equidistantPreserveStart"?REe(y,_,b,i,o):(l==="preserveStart"||l==="preserveStartEnd"?m=LEe(y,_,b,i,o,l==="preserveStartEnd"):m=$Ee(y,_,b,i,o),m.filter(function(S){return S.isShow}))}var FEe=["viewBox"],BEe=["viewBox"],UEe=["ticks"];function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function Vc(){return Vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vc.apply(this,arguments)}function WF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WF(Object(n),!0).forEach(function(r){Yk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tC(t,e){if(t==null)return{};var n=qEe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function VEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a9(r.key),r)}}function WEe(t,e,n){return e&&zF(t.prototype,e),n&&zF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zEe(t,e,n){return e=ry(e),HEe(t,o9()?Reflect.construct(e,n||[],ry(t).constructor):e.apply(t,n))}function HEe(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GEe(t)}function GEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o9=function(){return!!t})()}function ry(t){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ry(t)}function KEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZP(t,e)}function ZP(t,e){return ZP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZP(t,e)}function Yk(t,e,n){return e=a9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a9(t){var e=YEe(t,"string");return Vu(e)=="symbol"?e:e+""}function YEe(t,e){if(Vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gd=(function(t){function e(n){var r;return VEe(this,e),r=zEe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return KEe(e,t),WEe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=tC(r,FEe),a=this.props,l=a.viewBox,u=tC(a,BEe);return!Qc(s,l)||!Qc(o,u)||!Qc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,u=i.orientation,f=i.tickSize,h=i.mirror,m=i.tickMargin,v,x,b,y,_,S,C=h?-1:1,E=r.tickSize||f,P=de(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":v=x=r.coordinate,y=o+ +!h*l,b=y-C*E,S=b-C*m,_=P;break;case"left":b=y=r.coordinate,x=s+ +!h*a,v=x-C*E,_=v-C*m,S=P;break;case"right":b=y=r.coordinate,x=s+ +h*a,v=x+C*E,_=v+C*m,S=P;break;default:v=x=r.coordinate,y=o+ +h*l,b=y+C*E,S=b+C*m,_=P;break}return{line:{x1:v,y1:b,x2:x,y2:y},tick:{x:_,y:S}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.orientation,u=r.mirror,f=r.axisLine,h=hn(hn(hn({},Me(this.props,!1)),Me(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var m=+(l==="top"&&!u||l==="bottom"&&u);h=hn(hn({},h),{},{x1:i,y1:s+m*a,x2:i+o,y2:s+m*a})}else{var v=+(l==="left"&&!u||l==="right"&&u);h=hn(hn({},h),{},{x1:i+v*o,y1:s,x2:i+v*o,y2:s+a})}return V.createElement("line",Vc({},h,{className:Ye("recharts-cartesian-axis-line",Dr(f,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,a=this.props,l=a.tickLine,u=a.stroke,f=a.tick,h=a.tickFormatter,m=a.unit,v=Kk(hn(hn({},this.props),{},{ticks:r}),i,s),x=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=Me(this.props,!1),_=Me(f,!1),S=hn(hn({},y),{},{fill:"none"},Me(l,!1)),C=v.map(function(E,P){var k=o.getTickLineCoord(E),j=k.line,N=k.tick,I=hn(hn(hn(hn({textAnchor:x,verticalAnchor:b},y),{},{stroke:"none",fill:u},_),N),{},{index:P,payload:E,visibleTicksCount:v.length,tickFormatter:h});return V.createElement(it,Vc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Ml(o.props,E,P)),l&&V.createElement("line",Vc({},S,j,{className:Ye("recharts-cartesian-axis-tick-line",Dr(l,"className"))})),f&&e.renderTickItem(f,I,"".concat(Ve(h)?h(E.value,P):E.value).concat(m||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,l=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var h=this.props,m=h.ticks,v=tC(h,UEe),x=m;return Ve(l)&&(x=m&&m.length>0?l(this.props):l(v)),o<=0||a<=0||!x||!x.length?null:V.createElement(it,{className:Ye("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),An.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o,a=Ye(i.className,"recharts-cartesian-axis-tick-value");return V.isValidElement(r)?o=V.cloneElement(r,hn(hn({},i),{},{className:a})):Ve(r)?o=r(hn(hn({},i),{},{className:a})):o=V.createElement(Dl,Vc({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(T.Component);Yk(gd,"displayName","CartesianAxis");Yk(gd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var XEe=["x1","y1","x2","y2","key"],QEe=["offset"];function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function HF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HF(Object(n),!0).forEach(function(r){JEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JEe(t,e,n){return e=ZEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZEe(t){var e=eAe(t,"string");return Fl(e)=="symbol"?e:e+""}function eAe(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sl(){return sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sl.apply(this,arguments)}function GF(t,e){if(t==null)return{};var n=tAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nAe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,a=e.height,l=e.ry;return V.createElement("rect",{x:i,y:s,ry:l,width:o,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function l9(t,e){var n;if(V.isValidElement(t))n=V.cloneElement(t,e);else if(Ve(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,a=e.key,l=GF(e,XEe),u=Me(l,!1);u.offset;var f=GF(u,QEe);n=V.createElement("line",sl({},f,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:a}))}return n}function rAe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var u=Hn(Hn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return l9(i,u)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function iAe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var u=Hn(Hn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return l9(i,u)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function sAe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var f=a.map(function(m){return Math.round(m+i-i)}).sort(function(m,v){return m-v});i!==f[0]&&f.unshift(0);var h=f.map(function(m,v){var x=!f[v+1],b=x?i+o-m:f[v+1]-m;if(b<=0)return null;var y=v%e.length;return V.createElement("rect",{key:"react-".concat(v),y:m,x:r,height:b,width:s,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function oAe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var f=u.map(function(m){return Math.round(m+s-s)}).sort(function(m,v){return m-v});s!==f[0]&&f.unshift(0);var h=f.map(function(m,v){var x=!f[v+1],b=x?s+a-m:f[v+1]-m;if(b<=0)return null;var y=v%r.length;return V.createElement("rect",{key:"react-".concat(v),x:m,y:o,width:b,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var aAe=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return cH(Kk(Hn(Hn(Hn({},gd.defaultProps),r),{},{ticks:Rs(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},lAe=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return cH(Kk(Hn(Hn(Hn({},gd.defaultProps),r),{},{ticks:Rs(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},Oc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function c9(t){var e,n,r,i,s,o,a=Wk(),l=zk(),u=YPe(),f=Hn(Hn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Oc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Oc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Oc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Oc.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Oc.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Oc.verticalFill,x:de(t.x)?t.x:u.left,y:de(t.y)?t.y:u.top,width:de(t.width)?t.width:u.width,height:de(t.height)?t.height:u.height}),h=f.x,m=f.y,v=f.width,x=f.height,b=f.syncWithTicks,y=f.horizontalValues,_=f.verticalValues,S=HPe(),C=GPe();if(!de(v)||v<=0||!de(x)||x<=0||!de(h)||h!==+h||!de(m)||m!==+m)return null;var E=f.verticalCoordinatesGenerator||aAe,P=f.horizontalCoordinatesGenerator||lAe,k=f.horizontalPoints,j=f.verticalPoints;if((!k||!k.length)&&Ve(P)){var N=y&&y.length,I=P({yAxis:C?Hn(Hn({},C),{},{ticks:N?y:C.ticks}):void 0,width:a,height:l,offset:u},N?!0:b);ki(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Fl(I),"]")),Array.isArray(I)&&(k=I)}if((!j||!j.length)&&Ve(E)){var L=_&&_.length,M=E({xAxis:S?Hn(Hn({},S),{},{ticks:L?_:S.ticks}):void 0,width:a,height:l,offset:u},L?!0:b);ki(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Fl(M),"]")),Array.isArray(M)&&(j=M)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(nAe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),V.createElement(rAe,sl({},f,{offset:u,horizontalPoints:k,xAxis:S,yAxis:C})),V.createElement(iAe,sl({},f,{offset:u,verticalPoints:j,xAxis:S,yAxis:C})),V.createElement(sAe,sl({},f,{horizontalPoints:k})),V.createElement(oAe,sl({},f,{verticalPoints:j})))}c9.displayName="CartesianGrid";var cAe=["layout","type","stroke","connectNulls","isRange","ref"],uAe=["key"],u9;function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function d9(t,e){if(t==null)return{};var n=dAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ol.apply(this,arguments)}function KF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KF(Object(n),!0).forEach(function(r){Yi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h9(r.key),r)}}function hAe(t,e,n){return e&&YF(t.prototype,e),n&&YF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pAe(t,e,n){return e=iy(e),mAe(t,f9()?Reflect.construct(e,n||[],iy(t).constructor):e.apply(t,n))}function mAe(t,e){if(e&&(Wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gAe(t)}function gAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f9=function(){return!!t})()}function iy(t){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iy(t)}function vAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eE(t,e)}function eE(t,e){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eE(t,e)}function Yi(t,e,n){return e=h9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h9(t){var e=yAe(t,"string");return Wu(e)=="symbol"?e:e+""}function yAe(t,e){if(Wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qs=(function(t){function e(){var n;fAe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=pAe(this,e,[].concat(i)),Yi(n,"state",{isAnimationFinished:!0}),Yi(n,"id",dd("recharts-area-")),Yi(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ve(o)&&o()}),Yi(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ve(o)&&o()}),n}return vAe(e,t),hAe(e,[{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(o&&!a)return null;var l=this.props,u=l.dot,f=l.points,h=l.dataKey,m=Me(this.props,!1),v=Me(u,!0),x=f.map(function(y,_){var S=Oo(Oo(Oo({key:"dot-".concat(_),r:3},m),v),{},{index:_,cx:y.x,cy:y.y,dataKey:h,value:y.value,payload:y.payload,points:f});return e.renderDotItem(u,S)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return V.createElement(it,ol({className:"recharts-area-dots"},b),x)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,a=i.strokeWidth,l=o[0].x,u=o[o.length-1].x,f=r*Math.abs(l-u),h=zo(o.map(function(m){return m.y||0}));return de(s)&&typeof s=="number"?h=Math.max(s,h):s&&Array.isArray(s)&&s.length&&(h=Math.max(zo(s.map(function(m){return m.y||0})),h)),de(h)?V.createElement("rect",{x:l<u?l:l-f,y:0,width:f,height:Math.floor(h+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,a=i.strokeWidth,l=o[0].y,u=o[o.length-1].y,f=r*Math.abs(l-u),h=zo(o.map(function(m){return m.x||0}));return de(s)&&typeof s=="number"?h=Math.max(s,h):s&&Array.isArray(s)&&s.length&&(h=Math.max(zo(s.map(function(m){return m.x||0})),h)),de(h)?V.createElement("rect",{x:0,y:l<u?l:l-f,width:h+(a?parseInt("".concat(a),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,o){var a=this.props,l=a.layout,u=a.type,f=a.stroke,h=a.connectNulls,m=a.isRange;a.ref;var v=d9(a,cAe);return V.createElement(it,{clipPath:s?"url(#clipPath-".concat(o,")"):null},V.createElement(eu,ol({},Me(v,!0),{points:r,connectNulls:h,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&V.createElement(eu,ol({},Me(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:r})),f!=="none"&&m&&V.createElement(eu,ol({},Me(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,l=o.baseLine,u=o.isAnimationActive,f=o.animationBegin,h=o.animationDuration,m=o.animationEasing,v=o.animationId,x=this.state,b=x.prevPoints,y=x.prevBaseLine;return V.createElement(os,{begin:f,duration:h,isActive:u,easing:m,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t;if(b){var C=b.length/a.length,E=a.map(function(N,I){var L=Math.floor(I*C);if(b[L]){var M=b[L],F=yr(M.x,N.x),U=yr(M.y,N.y);return Oo(Oo({},N),{},{x:F(S),y:U(S)})}return N}),P;if(de(l)&&typeof l=="number"){var k=yr(y,l);P=k(S)}else if(Xe(l)||ud(l)){var j=yr(y,0);P=j(S)}else P=l.map(function(N,I){var L=Math.floor(I*C);if(y[L]){var M=y[L],F=yr(M.x,N.x),U=yr(M.y,N.y);return Oo(Oo({},N),{},{x:F(S),y:U(S)})}return N});return s.renderAreaStatically(E,P,r,i)}return V.createElement(it,null,V.createElement("defs",null,V.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(S))),V.createElement(it,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,o=s.points,a=s.baseLine,l=s.isAnimationActive,u=this.state,f=u.prevPoints,h=u.prevBaseLine,m=u.totalLength;return l&&o&&o.length&&(!f&&m>0||!Ou(f,o)||!Ou(h,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,l=i.className,u=i.top,f=i.left,h=i.xAxis,m=i.yAxis,v=i.width,x=i.height,b=i.isAnimationActive,y=i.id;if(s||!a||!a.length)return null;var _=this.state.isAnimationFinished,S=a.length===1,C=Ye("recharts-area",l),E=h&&h.allowDataOverflow,P=m&&m.allowDataOverflow,k=E||P,j=Xe(y)?this.id:y,N=(r=Me(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=N.r,L=I===void 0?3:I,M=N.strokeWidth,F=M===void 0?2:M,U=Xpe(o)?o:{},Y=U.clipDot,X=Y===void 0?!0:Y,z=L*2+F;return V.createElement(it,{className:C},E||P?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(j)},V.createElement("rect",{x:E?f:f-v/2,y:P?u:u-x/2,width:E?v:v*2,height:P?x:x*2})),!X&&V.createElement("clipPath",{id:"clipPath-dots-".concat(j)},V.createElement("rect",{x:f-z/2,y:u-z/2,width:v+z,height:x+z}))):null,S?null:this.renderArea(k,j),(o||S)&&this.renderDots(k,X,j),(!b||_)&&Fs.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(T.PureComponent);u9=Qs;Yi(Qs,"displayName","Area");Yi(Qs,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Vl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Yi(Qs,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,o=e.props.baseValue,a=o??s;if(de(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var f=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return a==="dataMin"?h:a==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});Yi(Qs,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,a=t.bandSize,l=t.dataKey,u=t.stackedData,f=t.dataStartIndex,h=t.displayedData,m=t.offset,v=e.layout,x=u&&u.length,b=u9.getBaseValue(e,n,r,i),y=v==="horizontal",_=!1,S=h.map(function(E,P){var k;x?k=u[f+P]:(k=xn(E,l),Array.isArray(k)?_=!0:k=[b,k]);var j=k[1]==null||x&&xn(E,l)==null;return y?{x:t5({axis:r,ticks:s,bandSize:a,entry:E,index:P}),y:j?null:i.scale(k[1]),value:k,payload:E}:{x:j?null:r.scale(k[1]),y:t5({axis:i,ticks:o,bandSize:a,entry:E,index:P}),value:k,payload:E}}),C;return x||_?C=S.map(function(E){var P=Array.isArray(E.value)?E.value[0]:null;return y?{x:E.x,y:P!=null&&E.y!=null?i.scale(P):null}:{x:P!=null?r.scale(P):null,y:E.y}}):C=y?i.scale(b):r.scale(b),Oo({points:S,baseLine:C,layout:v,isRange:_},m)});Yi(Qs,"renderDotItem",function(t,e){var n;if(V.isValidElement(t))n=V.cloneElement(t,e);else if(Ve(t))n=t(e);else{var r=Ye("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=d9(e,uAe);n=V.createElement(o0,ol({},s,{key:i,className:r}))}return n});function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function bAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g9(r.key),r)}}function wAe(t,e,n){return e&&xAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ae(t,e,n){return e=sy(e),SAe(t,p9()?Reflect.construct(e,n||[],sy(t).constructor):e.apply(t,n))}function SAe(t,e){if(e&&(zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CAe(t)}function CAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p9=function(){return!!t})()}function sy(t){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sy(t)}function TAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tE(t,e)}function tE(t,e){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tE(t,e)}function m9(t,e,n){return e=g9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g9(t){var e=PAe(t,"string");return zu(e)=="symbol"?e:e+""}function PAe(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(this,arguments)}function EAe(t){var e=t.xAxisId,n=Wk(),r=zk(),i=QH(e);return i==null?null:T.createElement(gd,nE({},i,{className:Ye("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Rs(o,!0)}}))}var y0=(function(t){function e(){return bAe(this,e),_Ae(this,e,arguments)}return TAe(e,t),wAe(e,[{key:"render",value:function(){return T.createElement(EAe,this.props)}}])})(T.Component);m9(y0,"displayName","XAxis");m9(y0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function AAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b9(r.key),r)}}function jAe(t,e,n){return e&&kAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OAe(t,e,n){return e=oy(e),NAe(t,v9()?Reflect.construct(e,n||[],oy(t).constructor):e.apply(t,n))}function NAe(t,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RAe(t)}function RAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v9=function(){return!!t})()}function oy(t){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oy(t)}function IAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rE(t,e)}function rE(t,e){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rE(t,e)}function y9(t,e,n){return e=b9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b9(t){var e=MAe(t,"string");return Hu(e)=="symbol"?e:e+""}function MAe(t,e){if(Hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function iE(){return iE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iE.apply(this,arguments)}var DAe=function(e){var n=e.yAxisId,r=Wk(),i=zk(),s=JH(n);return s==null?null:T.createElement(gd,iE({},s,{className:Ye("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Rs(a,!0)}}))},b0=(function(t){function e(){return AAe(this,e),OAe(this,e,arguments)}return IAe(e,t),jAe(e,[{key:"render",value:function(){return T.createElement(DAe,this.props)}}])})(T.Component);y9(b0,"displayName","YAxis");y9(b0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function XF(t){return BAe(t)||FAe(t)||LAe(t)||$Ae()}function $Ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LAe(t,e){if(t){if(typeof t=="string")return sE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sE(t,e)}}function FAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BAe(t){if(Array.isArray(t))return sE(t)}function sE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var oE=function(e,n,r,i,s){var o=ii(e,Gk),a=ii(e,m0),l=[].concat(XF(o),XF(a)),u=ii(e,v0),f="".concat(i,"Id"),h=i[0],m=n;if(l.length&&(m=l.reduce(function(b,y){if(y.props[f]===r&&ts(y.props,"extendDomain")&&de(y.props[h])){var _=y.props[h];return[Math.min(b[0],_),Math.max(b[1],_)]}return b},m)),u.length){var v="".concat(h,"1"),x="".concat(h,"2");m=u.reduce(function(b,y){if(y.props[f]===r&&ts(y.props,"extendDomain")&&de(y.props[v])&&de(y.props[x])){var _=y.props[v],S=y.props[x];return[Math.min(b[0],_,S),Math.max(b[1],_,S)]}return b},m)}return s&&s.length&&(m=s.reduce(function(b,y){return de(y)?[Math.min(b[0],y),Math.max(b[1],y)]:b},m)),m},nC={exports:{}},QF;function UAe(){return QF||(QF=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function s(l,u,f,h,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,h||l,m),x=n?n+u:u;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],v]:l._events[x].push(v):(l._events[x]=v,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)e.call(f,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,v=h.length,x=new Array(v);m<v;m++)x[m]=h[m].fn;return x},a.prototype.listenerCount=function(u){var f=n?n+u:u,h=this._events[f];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,f,h,m,v,x){var b=n?n+u:u;if(!this._events[b])return!1;var y=this._events[b],_=arguments.length,S,C;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),_){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,h),!0;case 4:return y.fn.call(y.context,f,h,m),!0;case 5:return y.fn.call(y.context,f,h,m,v),!0;case 6:return y.fn.call(y.context,f,h,m,v,x),!0}for(C=1,S=new Array(_-1);C<_;C++)S[C-1]=arguments[C];y.fn.apply(y.context,S)}else{var E=y.length,P;for(C=0;C<E;C++)switch(y[C].once&&this.removeListener(u,y[C].fn,void 0,!0),_){case 1:y[C].fn.call(y[C].context);break;case 2:y[C].fn.call(y[C].context,f);break;case 3:y[C].fn.call(y[C].context,f,h);break;case 4:y[C].fn.call(y[C].context,f,h,m);break;default:if(!S)for(P=1,S=new Array(_-1);P<_;P++)S[P-1]=arguments[P];y[C].fn.apply(y[C].context,S)}}return!0},a.prototype.on=function(u,f,h){return s(this,u,f,h,!1)},a.prototype.once=function(u,f,h){return s(this,u,f,h,!0)},a.prototype.removeListener=function(u,f,h,m){var v=n?n+u:u;if(!this._events[v])return this;if(!f)return o(this,v),this;var x=this._events[v];if(x.fn)x.fn===f&&(!m||x.once)&&(!h||x.context===h)&&o(this,v);else{for(var b=0,y=[],_=x.length;b<_;b++)(x[b].fn!==f||m&&!x[b].once||h&&x[b].context!==h)&&y.push(x[b]);y.length?this._events[v]=y.length===1?y[0]:y:o(this,v)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(nC)),nC.exports}var qAe=UAe();const VAe=at(qAe);var rC=new VAe,iC="recharts.syncMouseEvents";function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function WAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x9(r.key),r)}}function HAe(t,e,n){return e&&zAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sC(t,e,n){return e=x9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x9(t){var e=GAe(t,"string");return Rh(e)=="symbol"?e:e+""}function GAe(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KAe=(function(){function t(){WAe(this,t),sC(this,"activeIndex",0),sC(this,"coordinateList",[]),sC(this,"layout","horizontal")}return HAe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,a=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,f=n.offset,h=f===void 0?null:f,m=n.mouseHandlerCallback,v=m===void 0?null:m;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=s+l+u,m=o+this.offset.top+a/2+f;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])})();function YAe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&de(r)&&de(i))return!0}return!1}function XAe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function w9(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=Rt(e,n,r,i),a=Rt(e,n,r,s);return{points:[o,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function QAe(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,f=e.outerRadius,h=e.angle,m=Rt(a,l,u,h),v=Rt(a,l,f,h);r=m.x,i=m.y,s=v.x,o=v.y}else return w9(e);return[{x:r,y:i},{x:s,y:o}]}function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function JF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JF(Object(n),!0).forEach(function(r){JAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JAe(t,e,n){return e=ZAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZAe(t){var e=eke(t,"string");return Ih(e)=="symbol"?e:e+""}function eke(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tke(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,h=t.layout,m=t.chartName,v=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!v||!s||!o||m!=="ScatterChart"&&i!=="axis")return null;var x,b=eu;if(m==="ScatterChart")x=o,b=PCe;else if(m==="BarChart")x=XAe(h,o,l,f),b=Bk;else if(h==="radial"){var y=w9(o),_=y.cx,S=y.cy,C=y.radius,E=y.startAngle,P=y.endAngle;x={cx:_,cy:S,startAngle:E,endAngle:P,innerRadius:C,outerRadius:C},b=xH}else x={points:QAe(h,o,l)},b=eu;var k=og(og(og(og({stroke:"#ccc",pointerEvents:"none"},l),x),Me(v,!1)),{},{payload:a,payloadIndex:u,className:Ye("recharts-tooltip-cursor",v.className)});return T.isValidElement(v)?T.cloneElement(v,k):T.createElement(b,k)}var nke=["item"],rke=["children","className","width","height","style","compact","title","desc"];function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function Wc(){return Wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wc.apply(this,arguments)}function ZF(t,e){return oke(t)||ske(t,e)||S9(t,e)||ike()}function ike(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ske(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function oke(t){if(Array.isArray(t))return t}function e4(t,e){if(t==null)return{};var n=ake(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ake(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C9(r.key),r)}}function uke(t,e,n){return e&&cke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dke(t,e,n){return e=ay(e),fke(t,_9()?Reflect.construct(e,n||[],ay(t).constructor):e.apply(t,n))}function fke(t,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hke(t)}function hke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_9=function(){return!!t})()}function ay(t){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ay(t)}function pke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aE(t,e)}function aE(t,e){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aE(t,e)}function Ku(t){return vke(t)||gke(t)||S9(t)||mke()}function mke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S9(t,e){if(t){if(typeof t=="string")return lE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lE(t,e)}}function gke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vke(t){if(Array.isArray(t))return lE(t)}function lE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(n),!0).forEach(function(r){Ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ue(t,e,n){return e=C9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C9(t){var e=yke(t,"string");return Gu(e)=="symbol"?e:e+""}function yke(t,e){if(Gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bke={xAxis:["bottom","top"],yAxis:["left","right"]},xke={width:"100%",height:"100%"},T9={x:0,y:0};function ag(t){return t}var wke=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},_ke=function(e,n,r,i){var s=n.find(function(f){return f&&f.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return ie(ie(ie({},i),Rt(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,u=i.angle;return ie(ie(ie({},i),Rt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return T9},x0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Ku(a),Ku(u)):a},[]);return o.length>0?o:e&&e.length&&de(i)&&de(s)?e.slice(i,s+1):[]};function P9(t){return t==="number"?[0,"auto"]:void 0}var cE=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,a=x0(n,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(l,u){var f,h=(f=u.props.data)!==null&&f!==void 0?f:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var v=h===void 0?a:h;m=uv(v,o.dataKey,i)}else m=h&&h[r]||a[r];return m?[].concat(Ku(l),[pH(u,m)]):l},[])},n4=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=wke(s,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,f=Gwe(o,a,u,l);if(f>=0&&u){var h=u[f]&&u[f].value,m=cE(e,n,f,h),v=_ke(r,a,f,s);return{activeTooltipIndex:f,activeLabel:h,activePayload:m,activeCoordinate:v}}return null},Ske=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,h=e.children,m=e.stackOffset,v=lH(f,s);return r.reduce(function(x,b){var y,_=b.type.defaultProps!==void 0?ie(ie({},b.type.defaultProps),b.props):b.props,S=_.type,C=_.dataKey,E=_.allowDataOverflow,P=_.allowDuplicatedCategory,k=_.scale,j=_.ticks,N=_.includeHidden,I=_[o];if(x[I])return x;var L=x0(e.data,{graphicalItems:i.filter(function(H){var te,ce=o in H.props?H.props[o]:(te=H.type.defaultProps)===null||te===void 0?void 0:te[o];return ce===I}),dataStartIndex:l,dataEndIndex:u}),M=L.length,F,U,Y;YAe(_.domain,E,S)&&(F=CP(_.domain,null,E),v&&(S==="number"||k!=="auto")&&(Y=Df(L,C,"category")));var X=P9(S);if(!F||F.length===0){var z,J=(z=_.domain)!==null&&z!==void 0?z:X;if(C){if(F=Df(L,C,S),S==="category"&&v){var B=Bpe(F);P&&B?(U=F,F=Kv(0,M)):P||(F=s5(J,F,b).reduce(function(H,te){return H.indexOf(te)>=0?H:[].concat(Ku(H),[te])},[]))}else if(S==="category")P?F=F.filter(function(H){return H!==""&&!Xe(H)}):F=s5(J,F,b).reduce(function(H,te){return H.indexOf(te)>=0||te===""||Xe(te)?H:[].concat(Ku(H),[te])},[]);else if(S==="number"){var K=Jwe(L,i.filter(function(H){var te,ce,ye=o in H.props?H.props[o]:(te=H.type.defaultProps)===null||te===void 0?void 0:te[o],je="hide"in H.props?H.props.hide:(ce=H.type.defaultProps)===null||ce===void 0?void 0:ce.hide;return ye===I&&(N||!je)}),C,s,f);K&&(F=K)}v&&(S==="number"||k!=="auto")&&(Y=Df(L,C,"category"))}else v?F=Kv(0,M):a&&a[I]&&a[I].hasStack&&S==="number"?F=m==="expand"?[0,1]:hH(a[I].stackGroups,l,u):F=aH(L,i.filter(function(H){var te=o in H.props?H.props[o]:H.type.defaultProps[o],ce="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return te===I&&(N||!ce)}),S,f,!0);if(S==="number")F=oE(h,F,I,s,j),J&&(F=CP(J,F,E));else if(S==="category"&&J){var D=J,$=F.every(function(H){return D.indexOf(H)>=0});$&&(F=D)}}return ie(ie({},x),{},Ue({},I,ie(ie({},_),{},{axisType:s,domain:F,categoricalDomain:Y,duplicateDomain:U,originalDomain:(y=_.domain)!==null&&y!==void 0?y:X,isCategorical:v,layout:f})))},{})},Cke=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,h=e.children,m=x0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),v=m.length,x=lH(f,s),b=-1;return r.reduce(function(y,_){var S=_.type.defaultProps!==void 0?ie(ie({},_.type.defaultProps),_.props):_.props,C=S[o],E=P9("number");if(!y[C]){b++;var P;return x?P=Kv(0,v):a&&a[C]&&a[C].hasStack?(P=hH(a[C].stackGroups,l,u),P=oE(h,P,C,s)):(P=CP(E,aH(m,r.filter(function(k){var j,N,I=o in k.props?k.props[o]:(j=k.type.defaultProps)===null||j===void 0?void 0:j[o],L="hide"in k.props?k.props.hide:(N=k.type.defaultProps)===null||N===void 0?void 0:N.hide;return I===C&&!L}),"number",f),i.defaultProps.allowDataOverflow),P=oE(h,P,C,s)),ie(ie({},y),{},Ue({},C,ie(ie({axisType:s},i.defaultProps),{},{hide:!0,orientation:Dr(bke,"".concat(s,".").concat(b%2),null),domain:P,originalDomain:E,isCategorical:x,layout:f})))}return y},{})},Tke=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.children,h="".concat(i,"Id"),m=ii(f,s),v={};return m&&m.length?v=Ske(e,{axes:m,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(v=Cke(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),v},Pke=function(e){var n=Mo(e),r=Rs(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:hk(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Mv(n,r)}},r4=function(e){var n=e.children,r=e.defaultShowTooltip,i=Or(n,Lu),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Eke=function(e){return!e||!e.length?!1:e.some(function(n){var r=$s(n&&n.type);return r&&r.indexOf("Bar")>=0})},i4=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ake=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,f=r.height,h=r.children,m=r.margin||{},v=Or(h,Lu),x=Or(h,Sl),b=Object.keys(l).reduce(function(P,k){var j=l[k],N=j.orientation;return!j.mirror&&!j.hide?ie(ie({},P),{},Ue({},N,P[N]+j.width)):P},{left:m.left||0,right:m.right||0}),y=Object.keys(o).reduce(function(P,k){var j=o[k],N=j.orientation;return!j.mirror&&!j.hide?ie(ie({},P),{},Ue({},N,Dr(P,"".concat(N))+j.height)):P},{top:m.top||0,bottom:m.bottom||0}),_=ie(ie({},y),b),S=_.bottom;v&&(_.bottom+=v.props.height||Lu.defaultProps.height),x&&n&&(_=Xwe(_,i,r,n));var C=u-_.left-_.right,E=f-_.top-_.bottom;return ie(ie({brushBottom:S},_),{},{width:Math.max(C,0),height:Math.max(E,0)})},kke=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},E9=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,m=function(_,S){var C=S.graphicalItems,E=S.stackGroups,P=S.offset,k=S.updateId,j=S.dataStartIndex,N=S.dataEndIndex,I=_.barSize,L=_.layout,M=_.barGap,F=_.barCategoryGap,U=_.maxBarSize,Y=i4(L),X=Y.numericAxisName,z=Y.cateAxisName,J=Eke(C),B=[];return C.forEach(function(K,D){var $=x0(_.data,{graphicalItems:[K],dataStartIndex:j,dataEndIndex:N}),H=K.type.defaultProps!==void 0?ie(ie({},K.type.defaultProps),K.props):K.props,te=H.dataKey,ce=H.maxBarSize,ye=H["".concat(X,"Id")],je=H["".concat(z,"Id")],oe={},me=l.reduce(function(Nn,Cr){var us=S["".concat(Cr.axisType,"Map")],et=H["".concat(Cr.axisType,"Id")];us&&us[et]||Cr.axisType==="zAxis"||Ll();var At=us[et];return ie(ie({},Nn),{},Ue(Ue({},Cr.axisType,At),"".concat(Cr.axisType,"Ticks"),Rs(At)))},oe),se=me[z],fe=me["".concat(z,"Ticks")],ve=E&&E[ye]&&E[ye].hasStack&&a_e(K,E[ye].stackGroups),re=$s(K.type).indexOf("Bar")>=0,Ge=Mv(se,fe),Fe=[],dt=J&&Kwe({barSize:I,stackGroups:E,totalSize:kke(me,z)});if(re){var ft,Et,Yn=Xe(ce)?U:ce,On=(ft=(Et=Mv(se,fe,!0))!==null&&Et!==void 0?Et:Yn)!==null&&ft!==void 0?ft:0;Fe=Ywe({barGap:M,barCategoryGap:F,bandSize:On!==Ge?On:Ge,sizeList:dt[je],maxBarSize:Yn}),On!==Ge&&(Fe=Fe.map(function(Nn){return ie(ie({},Nn),{},{position:ie(ie({},Nn.position),{},{offset:Nn.position.offset-On/2})})}))}var Sr=K&&K.type&&K.type.getComposedData;Sr&&B.push({props:ie(ie({},Sr(ie(ie({},me),{},{displayedData:$,props:_,dataKey:te,item:K,bandSize:Ge,barPosition:Fe,offset:P,stackedData:ve,layout:L,dataStartIndex:j,dataEndIndex:N}))),{},Ue(Ue(Ue({key:K.key||"item-".concat(D)},X,me[X]),z,me[z]),"animationId",k)),childIndex:Zpe(K,_.children),item:K})}),B},v=function(_,S){var C=_.props,E=_.dataStartIndex,P=_.dataEndIndex,k=_.updateId;if(!bD({props:C}))return null;var j=C.children,N=C.layout,I=C.stackOffset,L=C.data,M=C.reverseStackOrder,F=i4(N),U=F.numericAxisName,Y=F.cateAxisName,X=ii(j,r),z=s_e(L,X,"".concat(U,"Id"),"".concat(Y,"Id"),I,M),J=l.reduce(function(H,te){var ce="".concat(te.axisType,"Map");return ie(ie({},H),{},Ue({},ce,Tke(C,ie(ie({},te),{},{graphicalItems:X,stackGroups:te.axisType===U&&z,dataStartIndex:E,dataEndIndex:P}))))},{}),B=Ake(ie(ie({},J),{},{props:C,graphicalItems:X}),S==null?void 0:S.legendBBox);Object.keys(J).forEach(function(H){J[H]=f(C,J[H],B,H.replace("Map",""),n)});var K=J["".concat(Y,"Map")],D=Pke(K),$=m(C,ie(ie({},J),{},{dataStartIndex:E,dataEndIndex:P,updateId:k,graphicalItems:X,stackGroups:z,offset:B}));return ie(ie({formattedGraphicalItems:$,graphicalItems:X,offset:B,stackGroups:z},D),J)},x=(function(y){function _(S){var C,E,P;return lke(this,_),P=dke(this,_,[S]),Ue(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(P,"accessibilityManager",new KAe),Ue(P,"handleLegendBBoxUpdate",function(k){if(k){var j=P.state,N=j.dataStartIndex,I=j.dataEndIndex,L=j.updateId;P.setState(ie({legendBBox:k},v({props:P.props,dataStartIndex:N,dataEndIndex:I,updateId:L},ie(ie({},P.state),{},{legendBBox:k}))))}}),Ue(P,"handleReceiveSyncEvent",function(k,j,N){if(P.props.syncId===k){if(N===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(j)}}),Ue(P,"handleBrushChange",function(k){var j=k.startIndex,N=k.endIndex;if(j!==P.state.dataStartIndex||N!==P.state.dataEndIndex){var I=P.state.updateId;P.setState(function(){return ie({dataStartIndex:j,dataEndIndex:N},v({props:P.props,dataStartIndex:j,dataEndIndex:N,updateId:I},P.state))}),P.triggerSyncEvent({dataStartIndex:j,dataEndIndex:N})}}),Ue(P,"handleMouseEnter",function(k){var j=P.getMouseInfo(k);if(j){var N=ie(ie({},j),{},{isTooltipActive:!0});P.setState(N),P.triggerSyncEvent(N);var I=P.props.onMouseEnter;Ve(I)&&I(N,k)}}),Ue(P,"triggeredAfterMouseMove",function(k){var j=P.getMouseInfo(k),N=j?ie(ie({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(N),P.triggerSyncEvent(N);var I=P.props.onMouseMove;Ve(I)&&I(N,k)}),Ue(P,"handleItemMouseEnter",function(k){P.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Ue(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),Ue(P,"handleMouseMove",function(k){k.persist(),P.throttleTriggeredAfterMouseMove(k)}),Ue(P,"handleMouseLeave",function(k){P.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};P.setState(j),P.triggerSyncEvent(j);var N=P.props.onMouseLeave;Ve(N)&&N(j,k)}),Ue(P,"handleOuterEvent",function(k){var j=Jpe(k),N=Dr(P.props,"".concat(j));if(j&&Ve(N)){var I,L;/.*touch.*/i.test(j)?L=P.getMouseInfo(k.changedTouches[0]):L=P.getMouseInfo(k),N((I=L)!==null&&I!==void 0?I:{},k)}}),Ue(P,"handleClick",function(k){var j=P.getMouseInfo(k);if(j){var N=ie(ie({},j),{},{isTooltipActive:!0});P.setState(N),P.triggerSyncEvent(N);var I=P.props.onClick;Ve(I)&&I(N,k)}}),Ue(P,"handleMouseDown",function(k){var j=P.props.onMouseDown;if(Ve(j)){var N=P.getMouseInfo(k);j(N,k)}}),Ue(P,"handleMouseUp",function(k){var j=P.props.onMouseUp;if(Ve(j)){var N=P.getMouseInfo(k);j(N,k)}}),Ue(P,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Ue(P,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&P.handleMouseDown(k.changedTouches[0])}),Ue(P,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&P.handleMouseUp(k.changedTouches[0])}),Ue(P,"handleDoubleClick",function(k){var j=P.props.onDoubleClick;if(Ve(j)){var N=P.getMouseInfo(k);j(N,k)}}),Ue(P,"handleContextMenu",function(k){var j=P.props.onContextMenu;if(Ve(j)){var N=P.getMouseInfo(k);j(N,k)}}),Ue(P,"triggerSyncEvent",function(k){P.props.syncId!==void 0&&rC.emit(iC,P.props.syncId,k,P.eventEmitterSymbol)}),Ue(P,"applySyncEvent",function(k){var j=P.props,N=j.layout,I=j.syncMethod,L=P.state.updateId,M=k.dataStartIndex,F=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)P.setState(ie({dataStartIndex:M,dataEndIndex:F},v({props:P.props,dataStartIndex:M,dataEndIndex:F,updateId:L},P.state)));else if(k.activeTooltipIndex!==void 0){var U=k.chartX,Y=k.chartY,X=k.activeTooltipIndex,z=P.state,J=z.offset,B=z.tooltipTicks;if(!J)return;if(typeof I=="function")X=I(B,k);else if(I==="value"){X=-1;for(var K=0;K<B.length;K++)if(B[K].value===k.activeLabel){X=K;break}}var D=ie(ie({},J),{},{x:J.left,y:J.top}),$=Math.min(U,D.x+D.width),H=Math.min(Y,D.y+D.height),te=B[X]&&B[X].value,ce=cE(P.state,P.props.data,X),ye=B[X]?{x:N==="horizontal"?B[X].coordinate:$,y:N==="horizontal"?H:B[X].coordinate}:T9;P.setState(ie(ie({},k),{},{activeLabel:te,activeCoordinate:ye,activePayload:ce,activeTooltipIndex:X}))}else P.setState(k)}),Ue(P,"renderCursor",function(k){var j,N=P.state,I=N.isTooltipActive,L=N.activeCoordinate,M=N.activePayload,F=N.offset,U=N.activeTooltipIndex,Y=N.tooltipAxisBandSize,X=P.getTooltipEventType(),z=(j=k.props.active)!==null&&j!==void 0?j:I,J=P.props.layout,B=k.key||"_recharts-cursor";return V.createElement(tke,{key:B,activeCoordinate:L,activePayload:M,activeTooltipIndex:U,chartName:n,element:k,isActive:z,layout:J,offset:F,tooltipAxisBandSize:Y,tooltipEventType:X})}),Ue(P,"renderPolarAxis",function(k,j,N){var I=Dr(k,"type.axisType"),L=Dr(P.state,"".concat(I,"Map")),M=k.type.defaultProps,F=M!==void 0?ie(ie({},M),k.props):k.props,U=L&&L[F["".concat(I,"Id")]];return T.cloneElement(k,ie(ie({},U),{},{className:Ye(I,U.className),key:k.key||"".concat(j,"-").concat(N),ticks:Rs(U,!0)}))}),Ue(P,"renderPolarGrid",function(k){var j=k.props,N=j.radialLines,I=j.polarAngles,L=j.polarRadius,M=P.state,F=M.radiusAxisMap,U=M.angleAxisMap,Y=Mo(F),X=Mo(U),z=X.cx,J=X.cy,B=X.innerRadius,K=X.outerRadius;return T.cloneElement(k,{polarAngles:Array.isArray(I)?I:Rs(X,!0).map(function(D){return D.coordinate}),polarRadius:Array.isArray(L)?L:Rs(Y,!0).map(function(D){return D.coordinate}),cx:z,cy:J,innerRadius:B,outerRadius:K,key:k.key||"polar-grid",radialLines:N})}),Ue(P,"renderLegend",function(){var k=P.state.formattedGraphicalItems,j=P.props,N=j.children,I=j.width,L=j.height,M=P.props.margin||{},F=I-(M.left||0)-(M.right||0),U=sH({children:N,formattedGraphicalItems:k,legendWidth:F,legendContent:u});if(!U)return null;var Y=U.item,X=e4(U,nke);return T.cloneElement(Y,ie(ie({},X),{},{chartWidth:I,chartHeight:L,margin:M,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),Ue(P,"renderTooltip",function(){var k,j=P.props,N=j.children,I=j.accessibilityLayer,L=Or(N,Ti);if(!L)return null;var M=P.state,F=M.isTooltipActive,U=M.activeCoordinate,Y=M.activePayload,X=M.activeLabel,z=M.offset,J=(k=L.props.active)!==null&&k!==void 0?k:F;return T.cloneElement(L,{viewBox:ie(ie({},z),{},{x:z.left,y:z.top}),active:J,label:X,payload:J?Y:[],coordinate:U,accessibilityLayer:I})}),Ue(P,"renderBrush",function(k){var j=P.props,N=j.margin,I=j.data,L=P.state,M=L.offset,F=L.dataStartIndex,U=L.dataEndIndex,Y=L.updateId;return T.cloneElement(k,{key:k.key||"_recharts-brush",onChange:ng(P.handleBrushChange,k.props.onChange),data:I,x:de(k.props.x)?k.props.x:M.left,y:de(k.props.y)?k.props.y:M.top+M.height+M.brushBottom-(N.bottom||0),width:de(k.props.width)?k.props.width:M.width,startIndex:F,endIndex:U,updateId:"brush-".concat(Y)})}),Ue(P,"renderReferenceElement",function(k,j,N){if(!k)return null;var I=P,L=I.clipPathId,M=P.state,F=M.xAxisMap,U=M.yAxisMap,Y=M.offset,X=k.type.defaultProps||{},z=k.props,J=z.xAxisId,B=J===void 0?X.xAxisId:J,K=z.yAxisId,D=K===void 0?X.yAxisId:K;return T.cloneElement(k,{key:k.key||"".concat(j,"-").concat(N),xAxis:F[B],yAxis:U[D],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:L})}),Ue(P,"renderActivePoints",function(k){var j=k.item,N=k.activePoint,I=k.basePoint,L=k.childIndex,M=k.isRange,F=[],U=j.props.key,Y=j.item.type.defaultProps!==void 0?ie(ie({},j.item.type.defaultProps),j.item.props):j.item.props,X=Y.activeDot,z=Y.dataKey,J=ie(ie({index:L,dataKey:z,cx:N.x,cy:N.y,r:4,fill:Fk(j.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},Me(X,!1)),dv(X));return F.push(_.renderActiveDot(X,J,"".concat(U,"-activePoint-").concat(L))),I?F.push(_.renderActiveDot(X,ie(ie({},J),{},{cx:I.x,cy:I.y}),"".concat(U,"-basePoint-").concat(L))):M&&F.push(null),F}),Ue(P,"renderGraphicChild",function(k,j,N){var I=P.filterFormatItem(k,j,N);if(!I)return null;var L=P.getTooltipEventType(),M=P.state,F=M.isTooltipActive,U=M.tooltipAxis,Y=M.activeTooltipIndex,X=M.activeLabel,z=P.props.children,J=Or(z,Ti),B=I.props,K=B.points,D=B.isRange,$=B.baseLine,H=I.item.type.defaultProps!==void 0?ie(ie({},I.item.type.defaultProps),I.item.props):I.item.props,te=H.activeDot,ce=H.hide,ye=H.activeBar,je=H.activeShape,oe=!!(!ce&&F&&J&&(te||ye||je)),me={};L!=="axis"&&J&&J.props.trigger==="click"?me={onClick:ng(P.handleItemMouseEnter,k.props.onClick)}:L!=="axis"&&(me={onMouseLeave:ng(P.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:ng(P.handleItemMouseEnter,k.props.onMouseEnter)});var se=T.cloneElement(k,ie(ie({},I.props),me));function fe(Cr){return typeof U.dataKey=="function"?U.dataKey(Cr.payload):null}if(oe)if(Y>=0){var ve,re;if(U.dataKey&&!U.allowDuplicatedCategory){var Ge=typeof U.dataKey=="function"?fe:"payload.".concat(U.dataKey.toString());ve=uv(K,Ge,X),re=D&&$&&uv($,Ge,X)}else ve=K==null?void 0:K[Y],re=D&&$&&$[Y];if(je||ye){var Fe=k.props.activeIndex!==void 0?k.props.activeIndex:Y;return[T.cloneElement(k,ie(ie(ie({},I.props),me),{},{activeIndex:Fe})),null,null]}if(!Xe(ve))return[se].concat(Ku(P.renderActivePoints({item:I,activePoint:ve,basePoint:re,childIndex:Y,isRange:D})))}else{var dt,ft=(dt=P.getItemByXY(P.state.activeCoordinate))!==null&&dt!==void 0?dt:{graphicalItem:se},Et=ft.graphicalItem,Yn=Et.item,On=Yn===void 0?k:Yn,Sr=Et.childIndex,Nn=ie(ie(ie({},I.props),me),{},{activeIndex:Sr});return[T.cloneElement(On,Nn),null,null]}return D?[se,null,null]:[se,null]}),Ue(P,"renderCustomized",function(k,j,N){return T.cloneElement(k,ie(ie({key:"recharts-customized-".concat(N)},P.props),P.state))}),Ue(P,"renderMap",{CartesianGrid:{handler:ag,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:ag},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:ag},YAxis:{handler:ag},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((C=S.id)!==null&&C!==void 0?C:dd("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=r8(P.triggeredAfterMouseMove,(E=S.throttleDelay)!==null&&E!==void 0?E:1e3/60),P.state={},P}return pke(_,y),uke(_,[{key:"componentDidMount",value:function(){var C,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,E=C.children,P=C.data,k=C.height,j=C.layout,N=Or(E,Ti);if(N){var I=N.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,M=cE(this.state,P,I,L),F=this.state.tooltipTicks[I].coordinate,U=(this.state.offset.top+k)/2,Y=j==="horizontal",X=Y?{x:F,y:U}:{y:F,x:U},z=this.state.formattedGraphicalItems.find(function(B){var K=B.item;return K.type.name==="Scatter"});z&&(X=ie(ie({},X),z.props.points[I].tooltipPosition),M=z.props.points[I].tooltipPayload);var J={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:L,activePayload:M,activeCoordinate:X};this.setState(J),this.renderCursor(N),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var P,k;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(C){HT([Or(C.children,Ti)],[Or(this.props.children,Ti)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=Or(this.props.children,Ti);if(C&&typeof C.props.shared=="boolean"){var E=C.props.shared?"axis":"item";return a.indexOf(E)>=0?E:s}return s}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var E=this.container,P=E.getBoundingClientRect(),k=Fye(P),j={chartX:Math.round(C.pageX-k.left),chartY:Math.round(C.pageY-k.top)},N=P.width/E.offsetWidth||1,I=this.inRange(j.chartX,j.chartY,N);if(!I)return null;var L=this.state,M=L.xAxisMap,F=L.yAxisMap,U=this.getTooltipEventType(),Y=n4(this.state,this.props.data,this.props.layout,I);if(U!=="axis"&&M&&F){var X=Mo(M).scale,z=Mo(F).scale,J=X&&X.invert?X.invert(j.chartX):null,B=z&&z.invert?z.invert(j.chartY):null;return ie(ie({},j),{},{xValue:J,yValue:B},Y)}return Y?ie(ie({},j),Y):null}},{key:"inRange",value:function(C,E){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,j=C/P,N=E/P;if(k==="horizontal"||k==="vertical"){var I=this.state.offset,L=j>=I.left&&j<=I.left+I.width&&N>=I.top&&N<=I.top+I.height;return L?{x:j,y:N}:null}var M=this.state,F=M.angleAxisMap,U=M.radiusAxisMap;if(F&&U){var Y=Mo(F);return l5({x:j,y:N},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,E=this.getTooltipEventType(),P=Or(C,Ti),k={};P&&E==="axis"&&(P.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=dv(this.props,this.handleOuterEvent);return ie(ie({},j),k)}},{key:"addListener",value:function(){rC.on(iC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){rC.removeListener(iC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,E,P){for(var k=this.state.formattedGraphicalItems,j=0,N=k.length;j<N;j++){var I=k[j];if(I.item===C||I.props.key===C.key||E===$s(I.item.type)&&P===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,E=this.state.offset,P=E.left,k=E.top,j=E.height,N=E.width;return V.createElement("defs",null,V.createElement("clipPath",{id:C},V.createElement("rect",{x:P,y:k,height:j,width:N})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(E,P){var k=ZF(P,2),j=k[0],N=k[1];return ie(ie({},E),{},Ue({},j,N.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(E,P){var k=ZF(P,2),j=k[0],N=k[1];return ie(ie({},E),{},Ue({},j,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[C])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(C){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[C])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(C){var E=this.state,P=E.formattedGraphicalItems,k=E.activeItem;if(P&&P.length)for(var j=0,N=P.length;j<N;j++){var I=P[j],L=I.props,M=I.item,F=M.type.defaultProps!==void 0?ie(ie({},M.type.defaultProps),M.props):M.props,U=$s(M.type);if(U==="Bar"){var Y=(L.data||[]).find(function(B){return oCe(C,B)});if(Y)return{graphicalItem:I,payload:Y}}else if(U==="RadialBar"){var X=(L.data||[]).find(function(B){return l5(C,B)});if(X)return{graphicalItem:I,payload:X}}else if(d0(I,k)||f0(I,k)||Ah(I,k)){var z=kTe({graphicalItem:I,activeTooltipItem:k,itemData:F.data}),J=F.activeIndex===void 0?z:F.activeIndex;return{graphicalItem:ie(ie({},I),{},{childIndex:J}),payload:Ah(I,k)?F.data[z]:I.props.data[z]}}}return null}},{key:"render",value:function(){var C=this;if(!bD(this))return null;var E=this.props,P=E.children,k=E.className,j=E.width,N=E.height,I=E.style,L=E.compact,M=E.title,F=E.desc,U=e4(E,rke),Y=Me(U,!1);if(L)return V.createElement(MF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(KT,Wc({},Y,{width:j,height:N,title:M,desc:F}),this.renderClipPath(),wD(P,this.renderMap)));if(this.props.accessibilityLayer){var X,z;Y.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,Y.role=(z=this.props.role)!==null&&z!==void 0?z:"application",Y.onKeyDown=function(B){C.accessibilityManager.keyboardEvent(B)},Y.onFocus=function(){C.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return V.createElement(MF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",Wc({className:Ye("recharts-wrapper",k),style:ie({position:"relative",cursor:"default",width:j,height:N},I)},J,{ref:function(K){C.container=K}}),V.createElement(KT,Wc({},Y,{width:j,height:N,title:M,desc:F,style:xke}),this.renderClipPath(),wD(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(T.Component);Ue(x,"displayName",n),Ue(x,"defaultProps",ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Ue(x,"getDerivedStateFromProps",function(y,_){var S=y.dataKey,C=y.data,E=y.children,P=y.width,k=y.height,j=y.layout,N=y.stackOffset,I=y.margin,L=_.dataStartIndex,M=_.dataEndIndex;if(_.updateId===void 0){var F=r4(y);return ie(ie(ie({},F),{},{updateId:0},v(ie(ie({props:y},F),{},{updateId:0}),_)),{},{prevDataKey:S,prevData:C,prevWidth:P,prevHeight:k,prevLayout:j,prevStackOffset:N,prevMargin:I,prevChildren:E})}if(S!==_.prevDataKey||C!==_.prevData||P!==_.prevWidth||k!==_.prevHeight||j!==_.prevLayout||N!==_.prevStackOffset||!Qc(I,_.prevMargin)){var U=r4(y),Y={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},X=ie(ie({},n4(_,C,j)),{},{updateId:_.updateId+1}),z=ie(ie(ie({},U),Y),X);return ie(ie(ie({},z),v(ie({props:y},z),_)),{},{prevDataKey:S,prevData:C,prevWidth:P,prevHeight:k,prevLayout:j,prevStackOffset:N,prevMargin:I,prevChildren:E})}if(!HT(E,_.prevChildren)){var J,B,K,D,$=Or(E,Lu),H=$&&(J=(B=$.props)===null||B===void 0?void 0:B.startIndex)!==null&&J!==void 0?J:L,te=$&&(K=(D=$.props)===null||D===void 0?void 0:D.endIndex)!==null&&K!==void 0?K:M,ce=H!==L||te!==M,ye=!Xe(C),je=ye&&!ce?_.updateId:_.updateId+1;return ie(ie({updateId:je},v(ie(ie({props:y},_),{},{updateId:je,dataStartIndex:H,dataEndIndex:te}),_)),{},{prevChildren:E,dataStartIndex:H,dataEndIndex:te})}return null}),Ue(x,"renderActiveDot",function(y,_,S){var C;return T.isValidElement(y)?C=T.cloneElement(y,_):Ve(y)?C=y(_):C=V.createElement(o0,_),V.createElement(it,{className:"recharts-active-dot",key:S},C)});var b=T.forwardRef(function(_,S){return V.createElement(x,Wc({},_,{ref:S}))});return b.displayName=x.displayName,b},jke=E9({chartName:"PieChart",GraphicalChild:io,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:u0},{axisType:"radiusAxis",AxisComp:l0}],formatAxisMap:v_e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Oke=E9({chartName:"AreaChart",GraphicalChild:Qs,axisComponents:[{axisType:"xAxis",AxisComp:y0},{axisType:"yAxis",AxisComp:b0}],formatAxisMap:NPe});function Nke({data:t}){return p.jsx("div",{className:"w-full h-80",children:p.jsx(i8,{width:"100%",height:"100%",children:p.jsxs(Oke,{data:t,margin:{top:10,right:10,left:-20,bottom:0},children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"colorCalls",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),p.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),p.jsxs("linearGradient",{id:"colorAppointments",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),p.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})]}),p.jsx(c9,{strokeDasharray:"3 3",stroke:"#ffffff10"}),p.jsx(y0,{dataKey:"name",stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12}}),p.jsx(b0,{stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12}}),p.jsx(Ti,{contentStyle:{backgroundColor:"#1a0f2e",border:"1px solid #6b21a8",borderRadius:"12px",color:"#fff"}}),p.jsx(Sl,{wrapperStyle:{color:"#9ca3af"},iconType:"circle"}),p.jsx(Qs,{type:"monotone",dataKey:"totalCalls",name:"Total Calls",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorCalls)",strokeWidth:2}),p.jsx(Qs,{type:"monotone",dataKey:"appointments",name:"Appointments",stroke:"#10b981",fillOpacity:1,fill:"url(#colorAppointments)",strokeWidth:2})]})})})}const s4={appointment_set:"#10b981",callback:"#8b5cf6",voicemail:"#f59e0b",no_answer:"#6b7280",not_interested:"#ef4444",wrong_number:"#ec4899"},Rke={appointment_set:"Success",callback:"Callback",voicemail:"Voicemail",no_answer:"No Answer",not_interested:"Not Interested",wrong_number:"Wrong Number"};function Ike({data:t}){const e=t.map(n=>({name:Rke[n.outcome]||n.outcome,value:n.count,outcome:n.outcome}));return p.jsxs("div",{className:"w-full h-80 flex",children:[p.jsx("div",{className:"flex-1",children:p.jsx(i8,{width:"100%",height:"100%",children:p.jsxs(jke,{children:[p.jsx(io,{data:e,cx:"50%",cy:"50%",innerRadius:80,outerRadius:120,paddingAngle:2,dataKey:"value",children:e.map((n,r)=>p.jsx(Ky,{fill:s4[n.outcome]||"#6b7280"},`cell-${r}`))}),p.jsx(Ti,{contentStyle:{backgroundColor:"#1a0f2e",border:"1px solid #6b21a8",borderRadius:"12px",color:"#fff"}})]})})}),p.jsx("div",{className:"w-48 flex flex-col justify-center space-y-3",children:e.map((n,r)=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s4[n.outcome]||"#6b7280"}}),p.jsx("span",{className:"text-purple-300 text-sm",children:n.name})]}),p.jsx("span",{className:"text-white font-semibold text-sm",children:n.value})]},r))})]})}function Mke({insights:t}){const e=[{title:"Best Day",value:t.bestDay,subtitle:t.bestDayDetail,icon:Gh,color:"text-emerald-400",bgColor:"bg-emerald-500/10"},{title:"Peak Hour",value:t.peakHour,subtitle:t.peakHourDetail,icon:Ms,color:"text-blue-400",bgColor:"bg-blue-500/10"},{title:"This Week Goal",value:t.weekGoal,subtitle:t.weekGoalDetail,icon:Kg,color:"text-purple-400",bgColor:"bg-purple-500/10"}];return p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((n,r)=>{const i=n.icon;return p.jsxs(pe.div,{className:"bg-[#1a0f2e] rounded-2xl p-6 border border-purple-500/10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},children:[p.jsx("div",{className:`w-10 h-10 ${n.bgColor} rounded-xl flex items-center justify-center mb-4`,children:p.jsx(i,{className:`w-5 h-5 ${n.color}`})}),p.jsx("h4",{className:"text-purple-400 text-sm mb-2",children:n.title}),p.jsx("p",{className:"text-2xl font-bold text-white mb-1",children:n.value}),n.subtitle&&p.jsx("p",{className:"text-emerald-400 text-sm",children:n.subtitle})]},n.title)})})}function A9(){const[t,e]=T.useState(null),[n,r]=T.useState("week");T.useEffect(()=>{(async()=>{e({email:"demo@example.com"})})()},[]);const{data:i}=Ct({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:k,error:j}=await Se.from("user_stats").select().eq("user_email",t.email).maybeSingle();if(j)throw j;return k||null},enabled:!!(t!=null&&t.email)}),{data:s=[]}=Ct({queryKey:["allCallLogs"],queryFn:async()=>{const{data:k,error:j}=await Se.from("call_logs").select().order("created_at",{ascending:!1}).limit(1e3);if(j)throw j;return k||[]}}),o=()=>{const k=new Date;return n==="today"?$T(k):n==="week"?Rl(k):n==="month"?tfe(k):Rl(k)},a=s.filter(k=>{const j=tw(k.created_at);return nhe(j,o())}),l=a.length,u=a.filter(k=>k.outcome==="appointment_set").length,f=a.filter(k=>k.outcome!=="no_answer"&&k.outcome!=="wrong_number").length,h=l>0?(f/l*100).toFixed(1):"0.0",m=l>0?(u/l*100).toFixed(1):"0.0",v=a.reduce((k,j)=>k+(j.duration||0),0),x=l>0?Math.floor(v/l):0,b=k=>{const j=Math.floor(k/60),N=k%60;return`${j}m ${N}s`},y=()=>{const k={};return a.forEach(j=>{const N=lM(tw(j.created_at),n==="month"?"MMM d":"EEE");k[N]||(k[N]={name:N,totalCalls:0,appointments:0}),k[N].totalCalls++,j.outcome==="appointment_set"&&k[N].appointments++}),Object.values(k)},_=()=>{const k={};return a.forEach(j=>{const N=j.outcome||"unknown";k[N]=(k[N]||0)+1}),Object.entries(k).map(([j,N])=>({outcome:j,count:N}))},S=()=>{const k={},j={};a.forEach(F=>{const U=tw(F.created_at),Y=lM(U,"EEEE"),X=U.getHours();k[Y]=(k[Y]||0)+1,j[X]=(j[X]||0)+1});const N=Object.entries(k).sort((F,U)=>U[1]-F[1])[0],I=Object.entries(j).sort((F,U)=>U[1]-F[1])[0],L=i!=null&&i.daily_goal?`${m}%`:"0%",M=i!=null&&i.daily_goal?`${u}/${i.daily_goal*7} calls`:"";return{bestDay:N?N[0]:"N/A",bestDayDetail:N?`${N[1]} calls made`:"",peakHour:I?`${I[0]}:00 - ${parseInt(I[0])+1}:00`:"N/A",peakHourDetail:I?"Highest conversion":"",weekGoal:L,weekGoalDetail:M}},C=y(),E=_(),P=S();return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e] p-6",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsx(ca,{userStats:i}),p.jsx("div",{className:"mb-6",children:p.jsx(ua,{})}),p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-white",children:"Performance Metrics"}),p.jsx("p",{className:"text-purple-300 text-sm",children:"Track your calling performance"})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Le,{onClick:()=>r("today"),variant:n==="today"?"default":"outline",className:n==="today"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-[#2d1f4a] border-purple-500/30 text-purple-300 hover:bg-purple-900/30",children:"Today"}),p.jsx(Le,{onClick:()=>r("week"),variant:n==="week"?"default":"outline",className:n==="week"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-[#2d1f4a] border-purple-500/30 text-purple-300 hover:bg-purple-900/30",children:"This Week"}),p.jsx(Le,{onClick:()=>r("month"),variant:n==="month"?"default":"outline",className:n==="month"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-[#2d1f4a] border-purple-500/30 text-purple-300 hover:bg-purple-900/30",children:"This Month"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[p.jsx(Ac,{title:"Total Calls",value:l,icon:Tt,trend:"+12%",trendValue:12,delay:0}),p.jsx(Ac,{title:"Connection Rate",value:`${h}%`,icon:dT,trend:"+5%",trendValue:5,delay:.05}),p.jsx(Ac,{title:"Success Rate",value:`${m}%`,icon:Vs,trend:"+8%",trendValue:8,delay:.1}),p.jsx(Ac,{title:"Total Talk Time",value:b(v),icon:Ms,trend:"+2h",trendValue:120,delay:.15}),p.jsx(Ac,{title:"Avg Call Duration",value:b(x),icon:K2,trend:"+30s",trendValue:30,delay:.2}),p.jsx(Ac,{title:"Calls Recorded",value:l,icon:yy,trend:"+15",trendValue:15,delay:.25})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsx(K2,{className:"w-5 h-5 text-purple-400"}),p.jsx("h3",{className:"text-xl font-bold text-white",children:"Call Volume"})]}),C.length>0?p.jsx(Nke,{data:C}):p.jsx("div",{className:"h-80 flex items-center justify-center text-purple-400",children:"No data available for this period"})]}),p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},children:[p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsx(dT,{className:"w-5 h-5 text-purple-400"}),p.jsx("h3",{className:"text-xl font-bold text-white",children:"Call Outcomes"})]}),E.length>0?p.jsx(Ike,{data:E}):p.jsx("div",{className:"h-80 flex items-center justify-center text-purple-400",children:"No data available for this period"})]})]}),p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[p.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Quick Insights"}),p.jsx(Mke,{insights:P})]})]})})}const Dke=[{id:1,name:"First Blood",desc:"Make your very first call",icon:Hne,requirement:1,field:"calls_today",color:"text-blue-400",bgColor:"bg-blue-500/10"},{id:2,name:"The Talker",desc:"Make 10 calls in a day",icon:Tt,requirement:10,field:"calls_today",color:"text-sky-400",bgColor:"bg-sky-500/10"},{id:3,name:"Call King",desc:"Make 50 calls in a day",icon:Hg,requirement:50,field:"calls_today",color:"text-yellow-400",bgColor:"bg-yellow-500/10"},{id:4,name:"Appointment Maker",desc:"Book your first appointment",icon:cT,requirement:1,field:"appointments_today",color:"text-emerald-400",bgColor:"bg-emerald-500/10"},{id:5,name:"Streak Starter",desc:"Achieve a 3-day call streak",icon:Gg,requirement:3,field:"current_streak",color:"text-red-400",bgColor:"bg-red-500/10"},{id:6,name:"Unstoppable",desc:"Achieve a 7-day call streak",icon:Dne,requirement:7,field:"current_streak",color:"text-orange-400",bgColor:"bg-orange-500/10"},{id:7,name:"Point Collector",desc:"Earn 500 points",icon:dne,requirement:500,field:"total_points",color:"text-purple-400",bgColor:"bg-purple-500/10"},{id:8,name:"Grand Master",desc:"Earn 2000 points",icon:qne,requirement:2e3,field:"total_points",color:"text-indigo-400",bgColor:"bg-indigo-500/10"},{id:9,name:"Level Up!",desc:"Reach Level 3",icon:Vs,requirement:3,field:"level",color:"text-pink-400",bgColor:"bg-pink-500/10"},{id:10,name:"Legendary Closer",desc:"Reach Level 5",icon:Hg,requirement:5,field:"level",color:"text-amber-400",bgColor:"bg-amber-500/10"}];function k9(){const[t,e]=T.useState(null);T.useEffect(()=>{(async()=>{e({email:"demo@example.com"})})()},[]);const{data:n}=Ct({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:s,error:o}=await Se.from("user_stats").select().eq("user_email",t.email).maybeSingle();if(o)throw o;return s||null},enabled:!!(t!=null&&t.email)}),r=s=>n?(n[s.field]||0)>=s.requirement:!1,i=s=>{if(!n)return 0;const o=n[s.field]||0;return Math.min(o/s.requirement*100,100)};return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e] p-6",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsx(ca,{userStats:n}),p.jsx("div",{className:"mb-6",children:p.jsx(ua,{})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Dke.map((s,o)=>{const a=s.icon,l=r(s),u=i(s);return p.jsxs(pe.div,{className:`
                  bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border 
                  ${l?"border-amber-500/50 shadow-lg shadow-amber-500/20":"border-purple-500/20"}
                  relative overflow-hidden
                `,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:o*.1},children:[l&&p.jsx("div",{className:"absolute top-4 right-4",children:p.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-full flex items-center justify-center",children:p.jsx(Ko,{className:"w-4 h-4 text-white fill-white"})})}),p.jsx("div",{className:`w-16 h-16 ${s.bgColor} rounded-2xl flex items-center justify-center mb-4`,children:p.jsx(a,{className:`w-8 h-8 ${l?s.color:"text-purple-600/50"}`})}),p.jsx("h3",{className:`text-xl font-bold mb-2 ${l?"text-white":"text-purple-300"}`,children:s.name}),p.jsx("p",{className:"text-purple-400 text-sm mb-4",children:s.desc}),p.jsx("div",{className:"w-full h-2 bg-[#1a0f2e] rounded-full overflow-hidden",children:p.jsx(pe.div,{className:`h-full rounded-full ${l?"bg-gradient-to-r from-amber-400 to-amber-600":"bg-gradient-to-r from-purple-500 to-indigo-500"}`,initial:{width:0},animate:{width:`${u}%`},transition:{duration:1,delay:o*.1}})}),p.jsx("p",{className:"text-purple-400 text-xs mt-2",children:l?"Unlocked!":`${(n==null?void 0:n[s.field])||0} / ${s.requirement}`})]},s.id)})})]})})}const ns=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:He("rounded-xl border bg-card text-card-foreground shadow",t),...e}));ns.displayName="Card";const ly=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:He("flex flex-col space-y-1.5 p-6",t),...e}));ly.displayName="CardHeader";const cy=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:He("font-semibold leading-none tracking-tight",t),...e}));cy.displayName="CardTitle";const Xk=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:He("text-sm text-muted-foreground",t),...e}));Xk.displayName="CardDescription";const rs=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:He("p-6 pt-0",t),...e}));rs.displayName="CardContent";const $ke=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:He("flex items-center p-6 pt-0",t),...e}));$ke.displayName="CardFooter";const Lke=Zh("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),uE=T.forwardRef(({className:t,variant:e,...n},r)=>p.jsx("div",{ref:r,role:"alert",className:He(Lke({variant:e}),t),...n}));uE.displayName="Alert";const Fke=T.forwardRef(({className:t,...e},n)=>p.jsx("h5",{ref:n,className:He("mb-1 font-medium leading-none tracking-tight",t),...e}));Fke.displayName="AlertTitle";const dE=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:He("text-sm [&_p]:leading-relaxed",t),...e}));dE.displayName="AlertDescription";function Bke({userEmail:t,onConnectionChange:e}){const[n,r]=T.useState(null),[i,s]=T.useState(!0),[o,a]=T.useState(!1),[l,u]=T.useState(!1),[f,h]=T.useState({apiKey:"",locationId:"",agencyId:""});T.useEffect(()=>{m()},[t]);const m=async()=>{s(!0);try{const S=await yn("ghlCredentials/status",{},{method:"GET",params:{userEmail:t||"demo@example.com"}});S.success&&(r(S.status),e==null||e(S.connected))}catch(S){console.error("Error fetching GHL status:",S)}finally{s(!1)}},v=async()=>{if(!f.apiKey||!f.locationId){Ke.error("API Key and Location ID are required");return}s(!0);try{const S=await yn("ghlCredentials/save",{userEmail:t||"demo@example.com",apiKey:f.apiKey,locationId:f.locationId,agencyId:f.agencyId||null});S.success?(Ke.success("GHL connected successfully!"),a(!1),h({apiKey:"",locationId:"",agencyId:""}),m()):Ke.error(S.error||"Failed to connect GHL")}catch(S){console.error("Error connecting GHL:",S),Ke.error(S.message||"Failed to connect GHL")}finally{s(!1)}},x=async()=>{if(confirm("Are you sure you want to disconnect GoHighLevel? This will not delete your synced data.")){s(!0);try{(await yn("ghlCredentials/disconnect",{userEmail:t||"demo@example.com"})).success&&(Ke.success("GHL disconnected"),m())}catch(S){console.error("Error disconnecting GHL:",S),Ke.error("Failed to disconnect GHL")}finally{s(!1)}}},b=async()=>{u(!0);try{const S=await yn("ghlSyncPipelines",{userEmail:t||"demo@example.com"});S.success?(Ke.success(`Synced ${S.stats.total} pipelines!`),m()):Ke.error(S.error||"Failed to sync pipelines")}catch(S){console.error("Error syncing pipelines:",S),Ke.error(S.message||"Failed to sync pipelines")}finally{u(!1)}},y=async()=>{u(!0);try{const S=await yn("ghlSyncContacts",{userEmail:t||"demo@example.com",limit:100});S.success?(Ke.success(`Synced ${S.stats.imported+S.stats.updated} contacts!`),m()):Ke.error(S.error||"Failed to sync contacts")}catch(S){console.error("Error syncing contacts:",S),Ke.error(S.message||"Failed to sync contacts")}finally{u(!1)}};if(i&&!n)return p.jsx(ns,{children:p.jsx(rs,{className:"pt-6",children:p.jsx("div",{className:"flex items-center justify-center py-8",children:p.jsx(vg,{className:"h-6 w-6 animate-spin text-gray-400"})})})});const _=n==null?void 0:n.is_active;return p.jsxs(p.Fragment,{children:[p.jsxs(ns,{children:[p.jsx(ly,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsxs(cy,{className:"flex items-center gap-2",children:[p.jsx(hne,{className:"h-5 w-5"}),"GoHighLevel Integration"]}),p.jsx(Xk,{children:"Connect your GHL account to sync pipelines and contacts"})]}),_?p.jsxs(Hi,{variant:"default",className:"bg-green-500",children:[p.jsx(cA,{className:"h-3 w-3 mr-1"}),"Connected"]}):p.jsxs(Hi,{variant:"secondary",children:[p.jsx(uA,{className:"h-3 w-3 mr-1"}),"Not Connected"]})]})}),p.jsx(rs,{className:"space-y-4",children:_?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"p-4 rounded-lg bg-gray-50 dark:bg-gray-900",children:[p.jsx("div",{className:"text-2xl font-bold",children:(n==null?void 0:n.pipeline_count)||0}),p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Pipelines"})]}),p.jsxs("div",{className:"p-4 rounded-lg bg-gray-50 dark:bg-gray-900",children:[p.jsx("div",{className:"text-2xl font-bold",children:(n==null?void 0:n.lead_count)||0}),p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Contacts"})]}),p.jsx("div",{className:"p-4 rounded-lg bg-gray-50 dark:bg-gray-900",children:p.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:n!=null&&n.last_synced_at?`Synced ${new Date(n.last_synced_at).toLocaleDateString()}`:"Never synced"})})]}),(n==null?void 0:n.sync_error)&&p.jsxs(uE,{variant:"destructive",children:[p.jsx(Yf,{className:"h-4 w-4"}),p.jsx(dE,{children:n.sync_error})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Le,{onClick:b,disabled:l||i,variant:"outline",className:"flex-1",children:[l?p.jsx(vg,{className:"h-4 w-4 mr-2 animate-spin"}):p.jsx(X2,{className:"h-4 w-4 mr-2"}),"Sync Pipelines"]}),p.jsxs(Le,{onClick:y,disabled:l||i,variant:"outline",className:"flex-1",children:[l?p.jsx(vg,{className:"h-4 w-4 mr-2 animate-spin"}):p.jsx(X2,{className:"h-4 w-4 mr-2"}),"Sync Contacts"]})]}),p.jsx(Le,{onClick:x,disabled:i,variant:"outline",className:"w-full text-red-600 hover:text-red-700",children:"Disconnect"})]}):p.jsxs(p.Fragment,{children:[p.jsxs(uE,{children:[p.jsx(Yf,{className:"h-4 w-4"}),p.jsx(dE,{children:"Connect your GoHighLevel account to import pipelines and contacts for dialing."})]}),p.jsx(Le,{onClick:()=>a(!0),className:"w-full",children:"Connect GoHighLevel"})]})})]}),p.jsx(kl,{open:o,onOpenChange:a,children:p.jsxs(ea,{children:[p.jsxs(ta,{children:[p.jsx(na,{children:"Connect GoHighLevel"}),p.jsx(tp,{children:"Enter your GHL API credentials to sync your pipelines and contacts."})]}),p.jsxs("div",{className:"space-y-4 py-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(gt,{htmlFor:"apiKey",children:"API Key *"}),p.jsx(Ut,{id:"apiKey",type:"password",placeholder:"Enter your GHL API key",value:f.apiKey,onChange:S=>h({...f,apiKey:S.target.value})}),p.jsx("p",{className:"text-xs text-gray-500",children:"Find this in your GHL Settings  API Keys"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(gt,{htmlFor:"locationId",children:"Location ID *"}),p.jsx(Ut,{id:"locationId",placeholder:"Enter your GHL location ID",value:f.locationId,onChange:S=>h({...f,locationId:S.target.value})}),p.jsx("p",{className:"text-xs text-gray-500",children:"Find this in your GHL Settings  Business Profile"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(gt,{htmlFor:"agencyId",children:"Agency ID (Optional)"}),p.jsx(Ut,{id:"agencyId",placeholder:"Enter your GHL agency ID",value:f.agencyId,onChange:S=>h({...f,agencyId:S.target.value})})]}),p.jsxs("div",{className:"flex gap-2 pt-4",children:[p.jsx(Le,{variant:"outline",onClick:()=>a(!1),className:"flex-1",children:"Cancel"}),p.jsx(Le,{onClick:v,disabled:i||!f.apiKey||!f.locationId,className:"flex-1",children:i?"Connecting...":"Connect"})]})]})]})})]})}var w0="Switch",[Uke]=Ul(w0),[qke,Vke]=Uke(w0),j9=T.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:u,form:f,...h}=t,[m,v]=T.useState(null),x=Wt(e,C=>v(C)),b=T.useRef(!1),y=m?f||!!m.closest("form"):!0,[_,S]=wu({prop:i,defaultProp:s??!1,onChange:u,caller:w0});return p.jsxs(qke,{scope:n,checked:_,disabled:a,children:[p.jsx(st.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":I9(_),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:x,onClick:rt(t.onClick,C=>{S(E=>!E),y&&(b.current=C.isPropagationStopped(),b.current||C.stopPropagation())})}),y&&p.jsx(R9,{control:m,bubbles:!b.current,name:r,value:l,checked:_,required:o,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});j9.displayName=w0;var O9="SwitchThumb",N9=T.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Vke(O9,n);return p.jsx(st.span,{"data-state":I9(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});N9.displayName=O9;var Wke="SwitchBubbleInput",R9=T.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const o=T.useRef(null),a=Wt(o,s),l=UV(n),u=jV(e);return T.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&v){const x=new Event("click",{bubbles:r});v.call(f,n),f.dispatchEvent(x)}},[l,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});R9.displayName=Wke;function I9(t){return t?"checked":"unchecked"}var M9=j9,zke=N9;const Cs=T.forwardRef(({className:t,...e},n)=>p.jsx(M9,{className:He("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:p.jsx(zke,{className:He("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Cs.displayName=M9.displayName;function D9(){var _,S;const[t,e]=T.useState(null),[n,r]=T.useState({double_dial_enabled:!1,max_dialing_lines:1,auto_detect_voicemail:!1,timezone_protection:!0,timezone:"America/New_York",calling_hours_start:"09:00",calling_hours_end:"17:00",theme:"regular",calendly_url:""}),[i,s]=T.useState(1e4),o=Bl(),{currentTheme:a,changeTheme:l,themes:u}=_A();T.useEffect(()=>{(async()=>{e({email:"demo@example.com"})})()},[]);const{data:f}=Ct({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:C,error:E}=await Se.from("user_stats").select().eq("user_email",t.email).maybeSingle();if(E)throw E;return C||null},enabled:!!(t!=null&&t.email)}),{data:h}=Ct({queryKey:["dialerSettings",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:C,error:E}=await Se.from("dialer_settings").select().eq("user_email",t.email).maybeSingle();if(E&&E.code!=="PGRST116")throw E;return C?(r(C),C):null},enabled:!!(t!=null&&t.email)});T.useEffect(()=>{f!=null&&f.cash_collected_goal&&s(f.cash_collected_goal)},[f]);const m=yl({mutationFn:async C=>{const{data:E,error:P}=await Se.from("dialer_settings").upsert({user_email:t.email,...C,updated_at:new Date().toISOString()},{onConflict:"user_email"}).select().single();if(P)throw P;return E},onSuccess:()=>{o.invalidateQueries(["dialerSettings"])}}),v=yl({mutationFn:async C=>{const{error:E}=await Se.from("user_stats").update({cash_collected_goal:C}).eq("user_email",t.email);if(E)throw E},onSuccess:()=>{o.invalidateQueries(["userStats"])}}),x=(C,E)=>{const P={...n,[C]:E};r(P),m.mutate(P)},b=()=>{v.mutate(i)},y=()=>{window.location.href="/"};return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e] p-6",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsx(ca,{userStats:f}),p.jsx("div",{className:"mb-6",children:p.jsx(ua,{})}),p.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx(V6,{className:"w-5 h-5 text-purple-400"}),p.jsx("h2",{className:"text-xl font-bold text-white",children:"Profile"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-purple-300 text-sm mb-2 block",children:"Name"}),p.jsx(Ut,{value:(t==null?void 0:t.full_name)||"",disabled:!0,className:"bg-[#1a0f2e] border-purple-500/20 text-white"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-purple-300 text-sm mb-2 block",children:"Email"}),p.jsx(Ut,{value:(t==null?void 0:t.email)||"",disabled:!0,className:"bg-[#1a0f2e] border-purple-500/20 text-white"})]})]})]}),p.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:p.jsx(Bke,{userEmail:t==null?void 0:t.email,onConnectionChange:C=>{C&&(o.invalidateQueries(["pipelines"]),o.invalidateQueries(["leads"]))}})}),p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx(Tt,{className:"w-5 h-5 text-purple-400"}),p.jsx("h2",{className:"text-xl font-bold text-white",children:"Dialer Settings"})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"p-4 bg-cyan-500/10 border border-cyan-500/30 rounded-xl",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("div",{children:[p.jsx(gt,{className:"text-white font-medium",children:"Demo Mode"}),p.jsx("p",{className:"text-cyan-300 text-sm mt-1",children:"Test dialing without Twilio credentials"})]}),p.jsx(Cs,{checked:n.use_mock_dialer,onCheckedChange:C=>x("use_mock_dialer",C)})]}),p.jsxs("div",{className:"text-cyan-400 text-xs space-y-1",children:[p.jsx("p",{children:" Perfect for testing and development"}),p.jsx("p",{children:" Simulates realistic call flow with status transitions"}),p.jsx("p",{children:" No Twilio account required"}),p.jsx("p",{children:" All features work as they would in production"})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx(gt,{className:"text-white font-medium",children:"Double Dial"}),p.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Call two numbers simultaneously"})]}),p.jsx(Cs,{checked:n.double_dial_enabled,onCheckedChange:C=>x("double_dial_enabled",C)})]}),p.jsxs("div",{children:[p.jsx(gt,{className:"text-white font-medium mb-2 block",children:"Max Dialing Lines"}),p.jsxs("select",{value:n.max_dialing_lines,onChange:C=>x("max_dialing_lines",parseInt(C.target.value)),className:"w-full p-2 bg-[#1a0f2e] border border-purple-500/20 rounded-xl text-white",children:[p.jsx("option",{value:"1",children:"1 Line"}),p.jsx("option",{value:"2",children:"2 Lines"}),p.jsx("option",{value:"3",children:"3 Lines"})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx(gt,{className:"text-white font-medium",children:"Auto-Detect Voicemail"}),p.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Automatically detect and skip voicemails"})]}),p.jsx(Cs,{checked:n.auto_detect_voicemail,onCheckedChange:C=>x("auto_detect_voicemail",C)})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx(gt,{className:"text-white font-medium",children:"Timezone Protection"}),p.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Respect calling hours based on timezone"})]}),p.jsx(Cs,{checked:n.timezone_protection,onCheckedChange:C=>x("timezone_protection",C)})]}),n.timezone_protection&&p.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-purple-500/30",children:[p.jsxs("div",{children:[p.jsx(gt,{className:"text-purple-300 text-sm mb-2 block",children:"Timezone"}),p.jsxs("select",{value:n.timezone,onChange:C=>x("timezone",C.target.value),className:"w-full p-2 bg-[#1a0f2e] border border-purple-500/20 rounded-xl text-white",children:[p.jsx("option",{value:"America/New_York",children:"Eastern Time"}),p.jsx("option",{value:"America/Chicago",children:"Central Time"}),p.jsx("option",{value:"America/Denver",children:"Mountain Time"}),p.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(gt,{className:"text-purple-300 text-sm mb-2 block",children:"Start Time"}),p.jsx(Ut,{type:"time",value:n.calling_hours_start,onChange:C=>x("calling_hours_start",C.target.value),className:"bg-[#1a0f2e] border-purple-500/20 text-white"})]}),p.jsxs("div",{children:[p.jsx(gt,{className:"text-purple-300 text-sm mb-2 block",children:"End Time"}),p.jsx(Ut,{type:"time",value:n.calling_hours_end,onChange:C=>x("calling_hours_end",C.target.value),className:"bg-[#1a0f2e] border-purple-500/20 text-white"})]})]})]})]})]}),p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx(dA,{className:"w-5 h-5 text-purple-400"}),p.jsx("h2",{className:"text-xl font-bold text-white",children:"Advanced Dialer Settings"})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx(gt,{className:"text-white font-medium",children:"Call Recording"}),p.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Record all calls for quality and training"})]}),p.jsx(Cs,{checked:n.enable_call_recording,onCheckedChange:C=>x("enable_call_recording",C)})]}),p.jsxs("div",{children:[p.jsx(gt,{className:"text-white font-medium mb-2 block",children:"Voicemail Detection Sensitivity"}),p.jsxs("select",{value:n.amd_sensitivity||"medium",onChange:C=>x("amd_sensitivity",C.target.value),className:"w-full p-2 bg-[#1a0f2e] border border-purple-500/20 rounded-xl text-white",children:[p.jsx("option",{value:"low",children:"Low (3 seconds)"}),p.jsx("option",{value:"medium",children:"Medium (5 seconds)"}),p.jsx("option",{value:"high",children:"High (7 seconds)"})]}),p.jsx("p",{className:"text-purple-400 text-xs mt-2",children:"Higher sensitivity takes longer but is more accurate"})]}),p.jsxs("div",{children:[p.jsx(gt,{className:"text-white font-medium mb-2 block",children:"Voicemail Detection Action"}),p.jsxs("select",{value:n.amd_action||"disconnect",onChange:C=>x("amd_action",C.target.value),className:"w-full p-2 bg-[#1a0f2e] border border-purple-500/20 rounded-xl text-white",children:[p.jsx("option",{value:"disconnect",children:"Disconnect immediately"}),p.jsx("option",{value:"continue",children:"Continue the call"}),p.jsx("option",{value:"notify",children:"Notify and let me decide"})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx(gt,{className:"text-white font-medium",children:"Local Presence"}),p.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Use caller ID matching lead's area code"})]}),p.jsx(Cs,{checked:n.local_presence_enabled,onCheckedChange:C=>x("local_presence_enabled",C)})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx(gt,{className:"text-white font-medium",children:"Auto-Advance on Complete"}),p.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Automatically move to next lead after call"})]}),p.jsx(Cs,{checked:n.auto_advance_on_complete!==!1,onCheckedChange:C=>x("auto_advance_on_complete",C)})]}),p.jsxs("div",{children:[p.jsx(gt,{className:"text-white font-medium mb-2 block",children:"Session Timeout (minutes)"}),p.jsx(Ut,{type:"number",value:n.session_timeout_minutes||60,onChange:C=>x("session_timeout_minutes",parseInt(C.target.value)),className:"bg-[#1a0f2e] border-purple-500/20 text-white",min:"15",max:"480"}),p.jsx("p",{className:"text-purple-400 text-xs mt-2",children:"Inactive sessions will expire after this time"})]})]})]}),p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx(Cne,{className:"w-5 h-5 text-purple-400"}),p.jsx("h2",{className:"text-xl font-bold text-white",children:"Spotify Integration"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx(gt,{className:"text-white font-medium",children:"Enable Spotify"}),p.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Play music during dialing sessions"})]}),p.jsx(Cs,{checked:n.spotify_enabled,onCheckedChange:C=>x("spotify_enabled",C)})]}),n.spotify_enabled&&p.jsxs("div",{className:"pl-4 border-l-2 border-purple-500/30",children:[p.jsx(gt,{className:"text-purple-300 text-sm mb-2 block",children:"Playlist ID"}),p.jsx(Ut,{value:n.spotify_playlist_id||"",onChange:C=>x("spotify_playlist_id",C.target.value),placeholder:"37i9dQZF1DXcBWIGoYBM5M",className:"bg-[#1a0f2e] border-purple-500/20 text-white"}),p.jsx("p",{className:"text-purple-400 text-xs mt-2",children:"Enter the Spotify playlist ID from your playlist URL"})]})]})]}),p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx(Pne,{className:"w-5 h-5 text-purple-400"}),p.jsx("h2",{className:"text-xl font-bold text-white",children:"Theme"})]}),p.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.keys(u).map(C=>p.jsx("button",{onClick:()=>l(C),className:`p-4 rounded-2xl border-2 transition-all capitalize ${a===C?"border-indigo-500 bg-indigo-50/10":"border-purple-500/20 hover:border-purple-500/40"}`,children:p.jsx("p",{className:"text-white font-medium",children:u[C].name})},C))})]}),p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx(Gh,{className:"w-5 h-5 text-purple-400"}),p.jsx("h2",{className:"text-xl font-bold text-white",children:"Calendly Integration"})]}),p.jsxs("div",{children:[p.jsx(gt,{className:"text-purple-300 text-sm mb-2 block",children:"Calendly Booking URL"}),p.jsx(Ut,{value:n.calendly_url,onChange:C=>x("calendly_url",C.target.value),placeholder:"https://calendly.com/your-link",className:"bg-[#1a0f2e] border-purple-500/20 text-white"}),p.jsx("p",{className:"text-purple-400 text-xs mt-2",children:"Enter your Calendly link to enable quick appointment booking"})]})]}),p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx(vu,{className:"w-5 h-5 text-purple-400"}),p.jsx("h2",{className:"text-xl font-bold text-white",children:"Cash Goals"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(gt,{className:"text-purple-300 text-sm mb-2 block",children:"Cash Collected Goal"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Ut,{type:"number",value:i,onChange:C=>s(parseFloat(C.target.value)),className:"bg-[#1a0f2e] border-purple-500/20 text-white"}),p.jsx(Le,{onClick:b,className:"bg-indigo-600 hover:bg-indigo-700",children:"Save"})]})]}),p.jsxs("div",{className:"p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-xl",children:[p.jsxs("p",{className:"text-emerald-400 text-sm",children:["Current: $",((_=f==null?void 0:f.cash_collected)==null?void 0:_.toLocaleString())||"0"]}),p.jsxs("p",{className:"text-emerald-300 font-semibold text-lg mt-1",children:["$",((S=f==null?void 0:f.cash_collected_goal)==null?void 0:S.toLocaleString())||"10,000"," Goal"]})]})]})]}),p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.45},children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx(mne,{className:"w-5 h-5 text-purple-400"}),p.jsx("h2",{className:"text-xl font-bold text-white",children:"Quick Links"})]}),p.jsx("div",{className:"space-y-3",children:p.jsxs(Qh,{to:yA("Leads"),className:"block w-full p-4 bg-[#1a0f2e] rounded-xl border border-purple-500/10 hover:border-purple-500/30 transition-all",children:[p.jsx("p",{className:"text-white font-medium",children:"Manage Leads"}),p.jsx("p",{className:"text-purple-400 text-sm",children:"Add and organize your leads"})]})})]}),p.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:p.jsxs(Le,{onClick:y,variant:"outline",className:"w-full h-14 bg-red-500/10 border-red-500/30 text-red-400 hover:bg-red-500/20 rounded-2xl",children:[p.jsx(yne,{className:"w-5 h-5 mr-2"}),"Logout"]})})]})]})})}function Hke({userEmail:t="demo@example.com",favorites:e=[]}){const[n,r]=T.useState(!1),[i,s]=T.useState(null),[o,a]=T.useState({name:"",phone_number:"",company:"",email:"",notes:"",speed_dial_slot:null}),l=Bl(),u=yl({mutationFn:async y=>{const{error:_}=await Se.from("dialer_favorites").insert({...y,user_email:t});if(_)throw _},onSuccess:()=>{l.invalidateQueries(["dialerFavorites"]),Ke.success("Favorite added successfully"),r(!1),m()},onError:y=>{Ke.error(y.message||"Failed to add favorite")}}),f=yl({mutationFn:async({id:y,data:_})=>{const{error:S}=await Se.from("dialer_favorites").update(_).eq("id",y).eq("user_email",t);if(S)throw S},onSuccess:()=>{l.invalidateQueries(["dialerFavorites"]),Ke.success("Favorite updated successfully"),s(null),m()},onError:y=>{Ke.error(y.message||"Failed to update favorite")}}),h=yl({mutationFn:async y=>{const{error:_}=await Se.from("dialer_favorites").delete().eq("id",y).eq("user_email",t);if(_)throw _},onSuccess:()=>{l.invalidateQueries(["dialerFavorites"]),Ke.success("Favorite deleted")},onError:y=>{Ke.error(y.message||"Failed to delete favorite")}}),m=()=>{a({name:"",phone_number:"",company:"",email:"",notes:"",speed_dial_slot:null})},v=y=>{if(y.preventDefault(),!o.name||!o.phone_number){Ke.error("Name and phone number are required");return}i?f.mutate({id:i.id,data:o}):u.mutate(o)},x=y=>{s(y),a({name:y.name||"",phone_number:y.phone_number||"",company:y.company||"",email:y.email||"",notes:y.notes||"",speed_dial_slot:y.speed_dial_slot||null}),r(!0)},b=()=>{r(!1),s(null),m()};return p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Favorite Contacts"}),p.jsxs(Le,{onClick:()=>r(!0),size:"sm",className:"rounded-full",children:[p.jsx(U6,{className:"w-4 h-4 mr-2"}),"Add Favorite"]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(y=>p.jsxs(pe.div,{className:"bg-white border border-slate-200 rounded-2xl p-4 hover:shadow-lg transition-all",whileHover:{scale:1.02},children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-white font-semibold flex-shrink-0",children:ez(y.name)}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-start justify-between gap-2",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h4",{className:"font-semibold text-slate-800 truncate",children:y.name}),y.company&&p.jsx("p",{className:"text-sm text-slate-500 truncate",children:y.company})]}),y.speed_dial_slot&&p.jsx("div",{className:"w-6 h-6 rounded-full bg-amber-100 text-amber-600 flex items-center justify-center text-xs font-bold flex-shrink-0",children:y.speed_dial_slot})]}),p.jsx("p",{className:"text-sm text-slate-600 mt-1 font-mono",children:tl(y.phone_number)}),y.email&&p.jsx("p",{className:"text-xs text-slate-400 mt-1 truncate",children:y.email}),y.call_count>0&&p.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Called ",y.call_count," time",y.call_count!==1?"s":""]})]})]}),p.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-slate-100",children:[p.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>x(y),className:"flex-1",children:[p.jsx(Ane,{className:"w-3 h-3 mr-1"}),"Edit"]}),p.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>h.mutate(y.id),className:"flex-1 text-red-600 hover:text-red-700 hover:bg-red-50",children:[p.jsx(uT,{className:"w-3 h-3 mr-1"}),"Delete"]})]})]},y.id))}),e.length===0&&p.jsxs("div",{className:"text-center py-12 text-slate-500",children:[p.jsx(Ko,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),p.jsx("p",{children:"No favorite contacts yet"}),p.jsx("p",{className:"text-sm mt-1",children:"Add contacts for quick access"})]}),p.jsx(kl,{open:n,onOpenChange:b,children:p.jsxs(ea,{className:"rounded-3xl",children:[p.jsx(ta,{children:p.jsx(na,{children:i?"Edit Favorite":"Add Favorite Contact"})}),p.jsxs("form",{onSubmit:v,className:"space-y-4 mt-4",children:[p.jsxs("div",{children:[p.jsx(gt,{htmlFor:"name",children:"Name *"}),p.jsx(Ut,{id:"name",value:o.name,onChange:y=>a({...o,name:y.target.value}),placeholder:"John Doe",required:!0,className:"mt-1"})]}),p.jsxs("div",{children:[p.jsx(gt,{htmlFor:"phone",children:"Phone Number *"}),p.jsx(Ut,{id:"phone",value:o.phone_number,onChange:y=>a({...o,phone_number:y.target.value}),placeholder:"+1 (555) 123-4567",required:!0,className:"mt-1"})]}),p.jsxs("div",{children:[p.jsx(gt,{htmlFor:"company",children:"Company"}),p.jsx(Ut,{id:"company",value:o.company,onChange:y=>a({...o,company:y.target.value}),placeholder:"Acme Inc.",className:"mt-1"})]}),p.jsxs("div",{children:[p.jsx(gt,{htmlFor:"email",children:"Email"}),p.jsx(Ut,{id:"email",type:"email",value:o.email,onChange:y=>a({...o,email:y.target.value}),placeholder:"john@example.com",className:"mt-1"})]}),p.jsxs("div",{children:[p.jsx(gt,{htmlFor:"speedDial",children:"Speed Dial Slot (1-9)"}),p.jsx(Ut,{id:"speedDial",type:"number",min:"1",max:"9",value:o.speed_dial_slot||"",onChange:y=>a({...o,speed_dial_slot:y.target.value?parseInt(y.target.value):null}),placeholder:"Optional",className:"mt-1"})]}),p.jsxs("div",{children:[p.jsx(gt,{htmlFor:"notes",children:"Notes"}),p.jsx(Ut,{id:"notes",value:o.notes,onChange:y=>a({...o,notes:y.target.value}),placeholder:"Additional notes...",className:"mt-1"})]}),p.jsxs("div",{className:"flex gap-2 pt-2",children:[p.jsx(Le,{type:"button",variant:"outline",onClick:b,className:"flex-1",children:"Cancel"}),p.jsxs(Le,{type:"submit",disabled:u.isPending||f.isPending,className:"flex-1",children:[p.jsx(Lne,{className:"w-4 h-4 mr-2"}),i?"Update":"Add"," Favorite"]})]})]})]})})]})}function $9(){const[t,e]=T.useState(null),[n,r]=T.useState(!1);T.useEffect(()=>{(async()=>{e({email:"demo@example.com"})})()},[]);const{data:i}=Ct({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:u,error:f}=await Se.from("user_stats").select().eq("user_email",t.email).maybeSingle();if(f)throw f;return u||null},enabled:!!(t!=null&&t.email)}),{data:s=[]}=Ct({queryKey:["dialerFavorites",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return[];const{data:u,error:f}=await Se.from("dialer_favorites").select("*").eq("user_email",t.email).order("sort_order",{ascending:!0});if(f)throw f;return u||[]},enabled:!!(t!=null&&t.email)}),{data:o=[]}=Ct({queryKey:["dialerCallHistory",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return[];const{data:u,error:f}=await Se.from("dialer_call_history").select("*").eq("user_email",t.email).order("started_at",{ascending:!1}).limit(50);if(f)throw f;return u||[]},enabled:!!(t!=null&&t.email)}),{data:a=[]}=Ct({queryKey:["recentNumbers",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return[];const{data:u,error:f}=await Se.from("recent_numbers").select("*").eq("user_email",t.email).order("last_called_at",{ascending:!1}).limit(10);if(f)throw f;return u||[]},enabled:!!(t!=null&&t.email)}),l={totalCalls:o.length,completedCalls:o.filter(u=>u.status==="completed").length,totalDuration:o.reduce((u,f)=>u+(f.duration||0),0),missedCalls:o.filter(u=>u.is_missed).length};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e] relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[p.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-600/20 rounded-full blur-3xl"}),p.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-indigo-600/20 rounded-full blur-3xl"})]}),p.jsxs("div",{className:"relative z-10 p-6 max-w-7xl mx-auto",children:[p.jsx(ca,{userStats:i}),p.jsx("div",{className:"mb-6",children:p.jsx(ua,{})}),p.jsxs(pe.div,{className:"flex items-center justify-between mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Phone Manager"}),p.jsx("p",{className:"text-purple-300 mt-1",children:"Manage contacts, view history, and make calls"})]}),p.jsxs(Le,{onClick:()=>r(!0),className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 rounded-xl shadow-lg",children:[p.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Open Dialer"]})]}),p.jsxs(pe.div,{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[p.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-emerald-500/20",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"text-emerald-300 text-sm",children:"Total Calls"}),p.jsx(Tt,{className:"w-4 h-4 text-emerald-400"})]}),p.jsx("p",{className:"text-3xl font-bold text-white",children:l.totalCalls})]}),p.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-blue-500/20",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"text-blue-300 text-sm",children:"Completed"}),p.jsx(Tt,{className:"w-4 h-4 text-blue-400"})]}),p.jsx("p",{className:"text-3xl font-bold text-white",children:l.completedCalls})]}),p.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"text-purple-300 text-sm",children:"Total Time"}),p.jsx(Ms,{className:"w-4 h-4 text-purple-400"})]}),p.jsx("p",{className:"text-3xl font-bold text-white",children:cM(l.totalDuration)})]}),p.jsxs("div",{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-2xl p-6 border border-amber-500/20",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"text-amber-300 text-sm",children:"Favorites"}),p.jsx(Ko,{className:"w-4 h-4 text-amber-400"})]}),p.jsx("p",{className:"text-3xl font-bold text-white",children:s.length})]})]}),p.jsxs(ZW,{defaultValue:"favorites",className:"w-full",children:[p.jsxs(HA,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm border border-purple-500/20 mb-6",children:[p.jsxs(wl,{value:"favorites",className:"data-[state=active]:bg-purple-600",children:[p.jsx(Ko,{className:"w-4 h-4 mr-2"}),"Favorites"]}),p.jsxs(wl,{value:"recent",className:"data-[state=active]:bg-purple-600",children:[p.jsx(Ms,{className:"w-4 h-4 mr-2"}),"Recent"]}),p.jsxs(wl,{value:"history",className:"data-[state=active]:bg-purple-600",children:[p.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Call History"]})]}),p.jsx(_l,{value:"favorites",children:p.jsx(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:p.jsx(Hke,{userEmail:t==null?void 0:t.email,favorites:s})})}),p.jsx(_l,{value:"recent",children:p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[p.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Numbers"}),p.jsx("div",{className:"space-y-2",children:a.length===0?p.jsxs("div",{className:"text-center py-12 text-purple-300",children:[p.jsx(Ms,{className:"w-12 h-12 mx-auto mb-2 text-purple-500/30"}),p.jsx("p",{children:"No recent calls"})]}):a.map(u=>p.jsxs(pe.div,{className:"flex items-center justify-between p-4 rounded-xl bg-[#1a0f2e]/50 hover:bg-[#1a0f2e] transition-colors",whileHover:{scale:1.02},children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-white",children:u.contact_name||tl(u.phone_number)}),p.jsxs("div",{className:"text-sm text-purple-300",children:["Called ",u.call_count," time",u.call_count!==1?"s":""]})]}),p.jsx(Le,{size:"sm",onClick:()=>r(!0),className:"bg-blue-600 hover:bg-blue-700",children:p.jsx(Tt,{className:"w-4 h-4"})})]},u.id))})]})}),p.jsx(_l,{value:"history",children:p.jsxs(pe.div,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm rounded-3xl p-6 border border-purple-500/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[p.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Call History"}),p.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:o.length===0?p.jsxs("div",{className:"text-center py-12 text-purple-300",children:[p.jsx(Tt,{className:"w-12 h-12 mx-auto mb-2 text-purple-500/30"}),p.jsx("p",{children:"No call history"})]}):o.map(u=>p.jsxs(pe.div,{className:"flex items-center gap-4 p-4 rounded-xl bg-[#1a0f2e]/50 hover:bg-[#1a0f2e] transition-colors",whileHover:{scale:1.01},children:[p.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${u.direction==="inbound"?"bg-blue-500/20":"bg-green-500/20"}`,children:p.jsx(Tt,{className:`w-5 h-5 ${u.direction==="inbound"?"text-blue-400 rotate-180":"text-green-400"}`})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"font-medium text-white truncate",children:u.contact_name||tl(u.phone_number)}),p.jsxs("div",{className:"text-sm text-purple-300",children:[u.status==="completed"?p.jsxs(p.Fragment,{children:["Duration: ",cM(u.duration)]}):p.jsxs(p.Fragment,{children:["Status: ",u.status]}),u.is_missed&&p.jsx("span",{className:"text-red-400 ml-2",children:"(Missed)"})]})]}),p.jsxs("div",{className:"text-right text-sm text-purple-400 flex-shrink-0",children:[p.jsx("div",{children:new Date(u.started_at).toLocaleDateString()}),p.jsx("div",{children:new Date(u.started_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},u.id))})]})})]})]}),p.jsx(oa,{children:n&&p.jsx(tz,{onClose:()=>r(!1),userEmail:t==null?void 0:t.email})})]})}const o4={initiating:{order:1,label:"Initiating",isTerminal:!1,color:"blue"},queued:{order:2,label:"Queued",isTerminal:!1,color:"blue"},ringing:{order:3,label:"Ringing",isTerminal:!1,color:"yellow"},answered:{order:4,label:"Answered",isTerminal:!1,color:"green"},"in-progress":{order:5,label:"Connected",isTerminal:!1,color:"green"},completed:{order:6,label:"Completed",isTerminal:!0,color:"slate"},failed:{order:6,label:"Failed",isTerminal:!0,color:"red"},busy:{order:6,label:"Busy",isTerminal:!0,color:"red"},"no-answer":{order:6,label:"No Answer",isTerminal:!0,color:"red"},canceled:{order:6,label:"Canceled",isTerminal:!0,color:"red"},voicemail_detected:{order:6,label:"Voicemail",isTerminal:!0,color:"orange"},dropped_other_answered:{order:6,label:"Dropped",isTerminal:!0,color:"slate"},terminated_by_user:{order:6,label:"Ended",isTerminal:!0,color:"slate"}};class Gke{constructor(){this.listeners=new Map,this.callStates=new Map,this.statusHistory=new Map}getStatusInfo(e){return o4[e]||{order:0,label:e,isTerminal:!1,color:"slate"}}isTerminalStatus(e){var n;return((n=o4[e])==null?void 0:n.isTerminal)||!1}isActiveStatus(e){return["ringing","in-progress","answered"].includes(e)}isDialingStatus(e){return["initiating","queued","ringing"].includes(e)}canTransition(e,n){const r=this.getStatusInfo(e),i=this.getStatusInfo(n);return r.isTerminal?!1:!!(i.order>=r.order||i.isTerminal)}async updateCallStatus(e,n,r="system",i={}){try{const{data:s,error:o}=await Se.from("active_calls").select("*").eq("call_sid",e).maybeSingle();if(o)throw o;if(!s)return console.warn(`Call ${e} not found in active_calls`),{success:!1,error:"Call not found"};if(!this.canTransition(s.status,n))return console.warn(`Invalid transition: ${s.status} -> ${n}`),{success:!1,error:"Invalid status transition"};const a={status:n,status_source:r,status_changed_at:new Date().toISOString(),...i};(n==="answered"||n==="in-progress")&&(a.answered_at=a.answered_at||new Date().toISOString()),this.isTerminalStatus(n)&&(a.ended_at=a.ended_at||new Date().toISOString());const{error:l}=await Se.from("active_calls").update(a).eq("call_sid",e);if(l)throw l;return this.callStates.set(e,{...s,...a}),this.notifyListeners(e,n,s.status),{success:!0,previousStatus:s.status,newStatus:n}}catch(s){return console.error("Error updating call status:",s),{success:!1,error:s.message}}}async getCallHistory(e){try{const{data:n,error:r}=await Se.rpc("get_call_status_timeline",{p_call_sid:e});if(r)throw r;return n||[]}catch(n){return console.error("Error fetching call history:",n),[]}}subscribe(e,n){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(n),()=>{const r=this.listeners.get(e);r&&(r.delete(n),r.size===0&&this.listeners.delete(e))}}notifyListeners(e,n,r){const i=this.listeners.get(e);i&&i.forEach(s=>{try{s({callSid:e,newStatus:n,previousStatus:r,timestamp:new Date})}catch(o){console.error("Error in status listener:",o)}})}getCallState(e){return this.callStates.get(e)}clearCallState(e){this.callStates.delete(e),this.listeners.delete(e),this.statusHistory.delete(e)}async cleanupTerminalCalls(e,n=300){try{const r=new Date(Date.now()-n*1e3).toISOString(),{error:i}=await Se.from("active_calls").delete().eq("user_email",e).in("status",["completed","failed","busy","no-answer","canceled","voicemail_detected","dropped_other_answered","terminated_by_user"]).lt("ended_at",r);if(i)throw i;return{success:!0}}catch(r){return console.error("Error cleaning up terminal calls:",r),{success:!1,error:r.message}}}async getActiveCallsForUser(e){try{const{data:n,error:r}=await Se.from("active_calls").select(`
          *,
          leads:lead_id (
            id,
            name,
            phone,
            company
          )
        `).eq("user_email",e).not("status","in","(completed,failed,busy,no-answer,canceled,voicemail_detected,dropped_other_answered,terminated_by_user)").order("line_number",{ascending:!0});if(r)throw r;return n||[]}catch(n){return console.error("Error fetching active calls:",n),[]}}getStatusProgress(e){const n=this.getStatusInfo(e);return Math.min(n.order/5*100,100)}getEstimatedTimeRemaining(e){return{initiating:3,queued:2,ringing:15,answered:0,"in-progress":0}[e]||0}}const La=new Gke;function Kke(t){const[e,n]=T.useState([]),[r,i]=T.useState(null),[s,o]=T.useState(!1),a=T.useRef(new Map),l=T.useRef(null),u=T.useCallback(b=>{const y=new Set;return b.filter(_=>y.has(_.call_sid)?!1:(y.add(_.call_sid),!0)).map(_=>{var S,C;return{..._,leadName:((S=_.leads)==null?void 0:S.name)||"Unknown Lead",to_number:((C=_.leads)==null?void 0:C.phone)||_.to_number,statusInfo:La.getStatusInfo(_.status),isActive:La.isActiveStatus(_.status),isDialing:La.isDialingStatus(_.status),isTerminal:La.isTerminalStatus(_.status),progress:La.getStatusProgress(_.status)}})},[]),f=T.useCallback((b,y=5e3)=>{a.current.has(b)&&clearTimeout(a.current.get(b));const _=setTimeout(()=>{n(S=>S.filter(C=>C.call_sid!==b)),a.current.delete(b),La.clearCallState(b)},y);a.current.set(b,_)},[]),h=T.useCallback(b=>{const y=u(b);n(y),y.forEach(S=>{S.isTerminal&&f(S.call_sid)});const _=y.find(S=>S.status==="in-progress");i(_||null)},[u,f]),m=T.useCallback(async()=>{if(t)try{const{data:b,error:y}=await Se.from("active_calls").select(`
          *,
          leads:lead_id (
            id,
            name,
            phone,
            company
          )
        `).eq("user_email",t).order("line_number",{ascending:!0});if(y)throw y;b&&h(b)}catch(b){console.error("Error fetching active calls:",b)}},[t,h]);T.useEffect(()=>{if(!t)return;m();const b=`active_calls_${t}_${Date.now()}`,y=Se.channel(b).on("postgres_changes",{event:"*",schema:"public",table:"active_calls",filter:`user_email=eq.${t}`},S=>{var C;console.log("Real-time call update:",S.eventType,(C=S.new)==null?void 0:C.status),S.eventType==="INSERT"||S.eventType==="UPDATE"?m():S.eventType==="DELETE"&&n(E=>E.filter(P=>P.id!==S.old.id))}).subscribe(S=>{console.log("Subscription status:",S),o(S==="SUBSCRIBED")});l.current=y;const _=setInterval(()=>{var S;((S=l.current)==null?void 0:S.state)!=="joined"&&(console.warn("Realtime connection lost, reconnecting..."),m())},1e4);return()=>{clearInterval(_),a.current.forEach(S=>clearTimeout(S)),a.current.clear(),l.current&&Se.removeChannel(l.current)}},[t,m]);const v=T.useCallback(()=>{n(b=>{const y=b.filter(S=>!S.isTerminal);return b.filter(S=>S.isTerminal).forEach(S=>{La.clearCallState(S.call_sid)}),y}),a.current.forEach(b=>clearTimeout(b)),a.current.clear()},[]),x=T.useCallback(b=>e.find(y=>y.call_sid===b),[e]);return{activeLines:e,connectedLine:r,hasActiveLines:e.length>0,isConnected:s,refresh:m,removeCompletedLines:v,getCallByCallSid:x}}const Yke={idle:"bg-gray-300 dark:bg-gray-700",initiating:"bg-yellow-500",queued:"bg-yellow-500",ringing:"bg-blue-500 animate-pulse","in-progress":"bg-green-500",connected:"bg-green-500",voicemail_detected:"bg-orange-500",completed:"bg-gray-400",failed:"bg-red-500",busy:"bg-red-500","no-answer":"bg-gray-400",canceled:"bg-gray-400"},Xke={idle:"Ready",initiating:"Dialing...",queued:"Queued",ringing:"Ringing","in-progress":"Connected",connected:"Human!",voicemail_detected:"Voicemail",completed:"Ended",failed:"Failed",busy:"Busy","no-answer":"No Answer",canceled:"Canceled"};function oC({lineNumber:t,call:e,onHangup:n}){const r=(e==null?void 0:e.status)||"idle",i=(e==null?void 0:e.lead_name)||(e==null?void 0:e.contact_name)||"Line "+t,s=(e==null?void 0:e.lead_phone)||(e==null?void 0:e.phone_number)||"",o=["initiating","queued","ringing","in-progress","connected"].includes(r),a=r==="connected",l=r==="voicemail_detected";return p.jsx(ns,{className:`relative ${a?"ring-2 ring-green-500":""}`,children:p.jsx(rs,{className:"p-4",children:p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`h-3 w-3 rounded-full ${Yke[r]}`}),p.jsxs("span",{className:"text-sm font-medium",children:["Line ",t]})]}),p.jsx(Hi,{variant:o?"default":"secondary",children:Xke[r]})]}),e?p.jsxs("div",{className:"space-y-1",children:[p.jsx("div",{className:"font-medium truncate",children:i}),p.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:s}),a&&p.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 text-sm font-medium pt-2",children:[p.jsx(cA,{className:"h-4 w-4"}),"Human detected - You're connected!"]}),l&&p.jsxs("div",{className:"flex items-center gap-2 text-orange-600 dark:text-orange-400 text-sm",children:[p.jsx(Yf,{className:"h-4 w-4"}),"Voicemail detected"]})]}):p.jsx("div",{className:"text-sm text-gray-400",children:"Waiting for call..."}),o&&p.jsxs(Le,{size:"sm",variant:"destructive",onClick:()=>n(e==null?void 0:e.call_sid,t),className:"w-full",children:[p.jsx(yu,{className:"h-3.5 w-3.5 mr-2"}),"Hang Up"]})]})})})}function Qke({userEmail:t,sessionId:e,onCallConnected:n,onBatchComplete:r,className:i=""}){const[s,o]=T.useState(!1),[a,l]=T.useState(!1),u=Kke(t),f={1:u.find(v=>v.line_number===1),2:u.find(v=>v.line_number===2),3:u.find(v=>v.line_number===3)};T.useEffect(()=>{const v=u.find(x=>x.status==="connected");v&&(n==null||n(v))},[u]),T.useEffect(()=>{u.length===0&&s&&(o(!1),r==null||r())},[u,s]);const h=async(v,x)=>{if(v)try{(await yn("twilioEndCall",{callSid:v,userEmail:t||"demo@example.com"})).success&&Ke.success(`Ended call on Line ${x}`)}catch(b){console.error("Error hanging up:",b),Ke.error("Failed to hang up call")}},m=async()=>{for(const v of u)v.call_sid&&await h(v.call_sid,v.line_number);o(!1)};return p.jsxs("div",{className:`space-y-4 ${i}`,children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Triple-Line Dialer"}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Call 3 leads at once, connect to first human"})]}),p.jsx("div",{className:"flex gap-2",children:u.length>0&&p.jsxs(Le,{variant:"destructive",size:"sm",onClick:m,children:[p.jsx(yu,{className:"h-4 w-4 mr-2"}),"Stop All"]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsx(oC,{lineNumber:1,call:f[1],onHangup:h}),p.jsx(oC,{lineNumber:2,call:f[2],onHangup:h}),p.jsx(oC,{lineNumber:3,call:f[3],onHangup:h})]}),u.length>0&&p.jsx(ns,{className:"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-900",children:p.jsx(rs,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(bl,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 animate-pulse"}),p.jsxs("div",{children:[p.jsxs("div",{className:"font-medium",children:["Active Calls: ",u.length]}),p.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Waiting for human to answer..."})]})]}),p.jsx("div",{className:"flex gap-2",children:p.jsx(Le,{size:"sm",variant:"outline",onClick:()=>l(!a),children:a?p.jsx(ore,{className:"h-4 w-4"}):p.jsx(z6,{className:"h-4 w-4"})})})]})})}),u.length===0&&!s&&p.jsx(ns,{className:"bg-gray-50 dark:bg-gray-900",children:p.jsxs(rs,{className:"p-6 text-center",children:[p.jsx(Tt,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),p.jsx("h4",{className:"font-medium mb-2",children:"Ready to Dial"}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"The dialer will call 3 leads at once. When a human answers, you'll be instantly connected and the other calls will be automatically disconnected."})]})})]})}const Jke=[{value:"connected",label:"Connected",icon:bl,description:"Spoke with contact",color:"bg-green-500 hover:bg-green-600"},{value:"voicemail",label:"Voicemail",icon:W6,description:"Left voicemail",color:"bg-blue-500 hover:bg-blue-600"},{value:"no-answer",label:"No Answer",icon:B6,description:"No one answered",color:"bg-gray-500 hover:bg-gray-600"},{value:"busy",label:"Busy",icon:yu,description:"Line was busy",color:"bg-orange-500 hover:bg-orange-600"},{value:"callback",label:"Callback",icon:Gh,description:"Schedule callback",color:"bg-purple-500 hover:bg-purple-600"},{value:"not-interested",label:"Not Interested",icon:uA,description:"Declined offer",color:"bg-red-500 hover:bg-red-600"},{value:"wrong-number",label:"Wrong Number",icon:Yf,description:"Invalid contact",color:"bg-yellow-500 hover:bg-yellow-600"},{value:"dnc",label:"Do Not Call",icon:I6,description:"Add to DNC list",color:"bg-red-700 hover:bg-red-800"}];function Zke({open:t,onOpenChange:e,callData:n,onDispositionSaved:r}){const[i,s]=T.useState(null),[o,a]=T.useState(""),[l,u]=T.useState(!1),f=async()=>{if(!i){Ke.error("Please select a disposition");return}u(!0);try{const h=await yn("callDisposition",{callSid:n==null?void 0:n.callSid,leadId:n==null?void 0:n.leadId,userEmail:(n==null?void 0:n.userEmail)||"demo@example.com",phoneNumber:n==null?void 0:n.phoneNumber,contactName:(n==null?void 0:n.contactName)||(n==null?void 0:n.leadName),outcome:i,notes:o.trim()||null,duration:(n==null?void 0:n.duration)||0,startedAt:n==null?void 0:n.startedAt,answeredAt:n==null?void 0:n.answeredAt,endedAt:(n==null?void 0:n.endedAt)||new Date().toISOString(),wasVoicemail:i==="voicemail"});h.success?(Ke.success("Call disposition saved"),r==null||r(i,o),e(!1),s(null),a("")):Ke.error(h.error||"Failed to save disposition")}catch(h){console.error("Error saving disposition:",h),Ke.error("Failed to save disposition")}finally{u(!1)}};return p.jsx(kl,{open:t,onOpenChange:e,children:p.jsxs(ea,{className:"sm:max-w-2xl",children:[p.jsxs(ta,{children:[p.jsx(na,{children:"Call Outcome"}),p.jsx(tp,{children:"How did the call go? Select an outcome to continue."})]}),p.jsxs("div",{className:"space-y-6 py-4",children:[p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Jke.map(h=>{const m=h.icon,v=i===h.value;return p.jsxs("button",{onClick:()=>s(h.value),className:`
                    relative flex flex-col items-center gap-2 p-4 rounded-lg
                    border-2 transition-all
                    ${v?"border-blue-500 bg-blue-50 dark:bg-blue-950 shadow-md":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}
                  `,children:[p.jsx("div",{className:`p-2 rounded-lg ${h.color} text-white`,children:p.jsx(m,{className:"h-5 w-5"})}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-sm font-medium",children:h.label}),p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:h.description})]}),v&&p.jsx("div",{className:"absolute top-2 right-2",children:p.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-500"})})]},h.value)})}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:"Notes (Optional)"}),p.jsx(wA,{placeholder:"Add any notes about this call...",value:o,onChange:h=>a(h.target.value),rows:3,className:"resize-none"})]}),n&&p.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[p.jsxs("div",{children:["Contact: ",n.contactName||n.phoneNumber]}),n.duration>0&&p.jsxs("div",{children:["Duration: ",Math.floor(n.duration/60),"m ",n.duration%60,"s"]})]}),p.jsxs("div",{className:"flex gap-2 justify-end",children:[p.jsx(Le,{variant:"outline",onClick:()=>e(!1),disabled:l,children:"Cancel"}),p.jsx(Le,{onClick:f,disabled:!i||l,children:l?"Saving...":"Save & Continue"})]})]})]})})}function eje(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o);a.displayName=s+"Context";const l=n.length;n=[...n,o];const u=h=>{var _;const{scope:m,children:v,...x}=h,b=((_=m==null?void 0:m[t])==null?void 0:_[l])||a,y=T.useMemo(()=>x,Object.values(x));return p.jsx(b.Provider,{value:y,children:v})};u.displayName=s+"Provider";function f(h,m){var b;const v=((b=m==null?void 0:m[t])==null?void 0:b[l])||a,x=T.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,f]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,tje(i,...e)]}function tje(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var nje=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],L9=nje.reduce((t,e)=>{const n=bA(`Primitive.${e}`),r=T.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Qk="Progress",Jk=100,[rje]=eje(Qk),[ije,sje]=rje(Qk),F9=T.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=oje,...o}=t;(i||i===0)&&!a4(i)&&console.error(aje(`${i}`,"Progress"));const a=a4(i)?i:Jk;r!==null&&!l4(r,a)&&console.error(lje(`${r}`,"Progress"));const l=l4(r,a)?r:null,u=uy(l)?s(l,a):void 0;return p.jsx(ije,{scope:n,value:l,max:a,children:p.jsx(L9.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":uy(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":q9(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});F9.displayName=Qk;var B9="ProgressIndicator",U9=T.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=sje(B9,n);return p.jsx(L9.div,{"data-state":q9(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});U9.displayName=B9;function oje(t,e){return`${Math.round(t/e*100)}%`}function q9(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function uy(t){return typeof t=="number"}function a4(t){return uy(t)&&!isNaN(t)&&t>0}function l4(t,e){return uy(t)&&!isNaN(t)&&t<=e&&t>=0}function aje(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Jk}\`.`}function lje(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Jk} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var V9=F9,cje=U9;const W9=T.forwardRef(({className:t,value:e,...n},r)=>p.jsx(V9,{ref:r,className:He("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...n,children:p.jsx(cje,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));W9.displayName=V9.displayName;function uje({sessionId:t,userEmail:e,onSessionEnd:n,className:r=""}){const[i,s]=T.useState(null),[o,a]=T.useState(!0);if(T.useEffect(()=>{if(!t)return;const f=async()=>{try{const m=await yn("dialerSessionManager/progress",{},{method:"GET",params:{sessionId:t}});m.success&&m.progress&&s(m.progress)}catch(m){console.error("Error fetching session progress:",m)}finally{a(!1)}};f();const h=setInterval(f,5e3);return()=>clearInterval(h)},[t]),o||!i)return null;const l=i.total_leads>0?Math.round(i.attempted_count/i.total_leads*100):0,u=i.attempted_count>0?Math.round(i.successful_attempts/i.attempted_count*100):0;return p.jsx(ns,{className:r,children:p.jsx(rs,{className:"pt-6",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900",children:p.jsx(Kg,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold",children:"Dialing Session"}),p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:i.is_active?"Active":"Paused"})]})]}),i.is_active&&p.jsx(Hi,{variant:"default",className:"bg-green-500",children:p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"h-2 w-2 rounded-full bg-white animate-pulse"}),p.jsx("span",{children:"Live"})]})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Progress"}),p.jsxs("span",{className:"font-medium",children:[i.attempted_count," / ",i.total_leads," leads"]})]}),p.jsx(W9,{value:l,className:"h-2"}),p.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-right",children:[l,"% complete"]})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[p.jsxs("div",{className:"text-center p-3 rounded-lg bg-gray-50 dark:bg-gray-900",children:[p.jsxs("div",{className:"flex items-center justify-center gap-1 text-sm font-semibold text-gray-900 dark:text-gray-100",children:[p.jsx(bl,{className:"h-3.5 w-3.5"}),i.attempted_count]}),p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Attempted"})]}),p.jsxs("div",{className:"text-center p-3 rounded-lg bg-green-50 dark:bg-green-950",children:[p.jsxs("div",{className:"flex items-center justify-center gap-1 text-sm font-semibold text-green-700 dark:text-green-400",children:[p.jsx(cA,{className:"h-3.5 w-3.5"}),i.successful_attempts]}),p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Connected"})]}),p.jsxs("div",{className:"text-center p-3 rounded-lg bg-blue-50 dark:bg-blue-950",children:[p.jsxs("div",{className:"flex items-center justify-center gap-1 text-sm font-semibold text-blue-700 dark:text-blue-400",children:[p.jsx(Kg,{className:"h-3.5 w-3.5"}),u,"%"]}),p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Success Rate"})]})]}),i.seconds_since_activity<300&&p.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[p.jsx(Ms,{className:"h-3.5 w-3.5"}),p.jsxs("span",{children:["Last activity ",Math.floor(i.seconds_since_activity/60),"m ago"]})]})]})})})}function z9(){const[t,e]=T.useState(null),[n,r]=T.useState(null),[i,s]=T.useState(!1),[o,a]=T.useState("all"),[l,u]=T.useState([]),[f,h]=T.useState(!1),[m,v]=T.useState(null),[x,b]=T.useState({attempted:0,connected:0,voicemails:0});T.useEffect(()=>{(async()=>{e({email:"demo@example.com"})})()},[]);const{data:y}=Ct({queryKey:["userStats",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:F,error:U}=await Se.from("user_stats").select().eq("user_email",t.email).maybeSingle();if(U&&U.code!=="PGRST116")throw U;return F||null},enabled:!!(t!=null&&t.email)}),{data:_=[]}=Ct({queryKey:["pipelines",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return[];const{data:F,error:U}=await Se.from("ghl_pipelines").select("*").eq("user_email",t.email).order("name");if(U&&U.code!=="PGRST116")throw U;return F||[]},enabled:!!(t!=null&&t.email)}),{data:S}=Ct({queryKey:["dialerSettings",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:F,error:U}=await Se.from("dialer_settings").select().eq("user_email",t.email).maybeSingle();if(U&&U.code!=="PGRST116")throw U;return F||{max_dialing_lines:3}},enabled:!!(t!=null&&t.email)}),C=(S==null?void 0:S.max_dialing_lines)||3,E=async()=>{if(t!=null&&t.email)try{const F=await yn("dialerSessionManager/active",{},{method:"GET",params:{userEmail:t.email,pipelineId:o!=="all"?o:null}});F.success?(r(F.session.id),s(!0),Ke.success("Session started!"),P(F.session.id)):Ke.error(F.error||"Failed to start session")}catch(F){console.error("Error starting session:",F),Ke.error("Failed to start session")}},P=async F=>{if(!(t!=null&&t.email))return;const U=C,Y=[];for(let X=0;X<U;X++)try{const z=await yn("dialerSessionManager/next-lead",{sessionId:F||n,userEmail:t.email});z.success&&z.lead&&Y.push({id:z.lead.lead_id,name:z.lead.name,phone:z.lead.phone,email:z.lead.email,company:z.lead.company})}catch(z){console.error("Error fetching lead:",z)}Y.length>0?(u(Y),k(Y)):(Ke.info("No more leads in this session"),M())},k=async F=>{if(!(!(t!=null&&t.email)||!n))try{const U=await yn("tripleLineDialer",{userEmail:t.email,sessionId:n,leads:F,enableAMD:(S==null?void 0:S.auto_detect_voicemail)!==!1,amdSensitivity:(S==null?void 0:S.amd_sensitivity)||"medium"});U.success||Ke.error(U.error||"Failed to initiate calls")}catch(U){console.error("Error initiating calls:",U),Ke.error("Failed to start dialing")}},j=F=>{v(F),b(U=>({...U,connected:U.connected+1})),Ke.success(`Connected to ${F.lead_name||"contact"}!`)},N=async()=>{const F=l.length;b(U=>({...U,attempted:U.attempted+F})),m?h(!0):(I(),P(n))},I=async()=>{for(const F of l)try{await yn("dialerSessionManager/mark-attempted",{sessionId:n,leadId:F.id,userEmail:t==null?void 0:t.email})}catch(U){console.error("Error marking lead as attempted:",U)}},L=async()=>{h(!1),I(),v(null),P(n)},M=async()=>{if(n)try{await yn("dialerSessionManager/end-session",{sessionId:n}),s(!1),r(null),u([]),Ke.success("Session ended")}catch(F){console.error("Error ending session:",F)}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a0f2e] via-[#2d1f4a] to-[#1a0f2e] relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[p.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-600/20 rounded-full blur-3xl"}),p.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-indigo-600/20 rounded-full blur-3xl"})]}),p.jsxs("div",{className:"relative z-10 p-6 max-w-7xl mx-auto",children:[p.jsx(ca,{userStats:y}),p.jsx("div",{className:"mb-6",children:p.jsx(ua,{})}),p.jsx(pe.div,{className:"mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[p.jsx(Tt,{className:"h-8 w-8 text-cyan-400"}),"Triple-Line Power Dialer"]}),p.jsx("p",{className:"text-purple-300 mt-1",children:"Call 3 leads at once, connect only to humans"})]}),p.jsxs(Hi,{variant:"secondary",className:"text-lg px-4 py-2",children:[C," Lines Active"]})]})}),i?p.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[n&&p.jsx(uje,{sessionId:n,userEmail:t==null?void 0:t.email}),p.jsx(Qke,{userEmail:t==null?void 0:t.email,sessionId:n,onCallConnected:j,onBatchComplete:N}),p.jsx(ns,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm border-purple-500/20",children:p.jsxs(rs,{className:"p-6",children:[p.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl font-bold text-white",children:x.attempted}),p.jsx("div",{className:"text-sm text-purple-300",children:"Attempted"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl font-bold text-green-400",children:x.connected}),p.jsx("div",{className:"text-sm text-purple-300",children:"Connected"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl font-bold text-orange-400",children:x.voicemails}),p.jsx("div",{className:"text-sm text-purple-300",children:"Voicemails"})]})]}),p.jsxs(Le,{onClick:M,variant:"outline",className:"w-full border-red-500/30 text-red-400 hover:bg-red-500/20",children:[p.jsx(Xte,{className:"h-4 w-4 mr-2"}),"End Session"]})]})})]}):p.jsxs(pe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"space-y-6",children:[p.jsxs(ns,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm border-purple-500/20",children:[p.jsxs(ly,{children:[p.jsx(cy,{className:"text-white",children:"Start New Session"}),p.jsx(Xk,{className:"text-purple-300",children:"Select a pipeline and start power dialing"})]}),p.jsx(rs,{className:"space-y-4",children:_.length===0?p.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(Yf,{className:"h-5 w-5 text-yellow-400 flex-shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-yellow-200 font-medium",children:"No pipelines found"}),p.jsx("p",{className:"text-yellow-300/80 text-sm mt-1",children:"Connect your GoHighLevel account in Settings to sync your pipelines and contacts."})]})]})}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-purple-200",children:"Select Pipeline"}),p.jsxs(MT,{value:o,onValueChange:a,children:[p.jsx(ov,{className:"bg-[#1a0f2e] border-purple-500/20 text-white",children:p.jsx(DT,{})}),p.jsxs(av,{children:[p.jsx(el,{value:"all",children:"All Pipelines"}),_.map(F=>p.jsx(el,{value:F.id,children:F.name},F.id))]})]})]}),p.jsxs(Le,{onClick:E,className:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700",size:"lg",children:[p.jsx(L6,{className:"h-5 w-5 mr-2"}),"Start Dialing"]})]})})]}),p.jsxs(ns,{className:"bg-[#2d1f4a]/50 backdrop-blur-sm border-purple-500/20",children:[p.jsx(ly,{children:p.jsx(cy,{className:"text-white",children:"How It Works"})}),p.jsxs(rs,{className:"space-y-3 text-purple-200",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"h-6 w-6 rounded-full bg-cyan-500/20 flex items-center justify-center flex-shrink-0",children:p.jsx("span",{className:"text-cyan-400 text-sm font-bold",children:"1"})}),p.jsxs("p",{children:["System calls ",C," leads simultaneously"]})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"h-6 w-6 rounded-full bg-cyan-500/20 flex items-center justify-center flex-shrink-0",children:p.jsx("span",{className:"text-cyan-400 text-sm font-bold",children:"2"})}),p.jsx("p",{children:"AMD detects when a human answers (skips voicemails)"})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"h-6 w-6 rounded-full bg-cyan-500/20 flex items-center justify-center flex-shrink-0",children:p.jsx("span",{className:"text-cyan-400 text-sm font-bold",children:"3"})}),p.jsx("p",{children:"You're instantly connected to the human-answered call"})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"h-6 w-6 rounded-full bg-cyan-500/20 flex items-center justify-center flex-shrink-0",children:p.jsx("span",{className:"text-cyan-400 text-sm font-bold",children:"4"})}),p.jsx("p",{children:"Other lines automatically hang up"})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"h-6 w-6 rounded-full bg-cyan-500/20 flex items-center justify-center flex-shrink-0",children:p.jsx("span",{className:"text-cyan-400 text-sm font-bold",children:"5"})}),p.jsxs("p",{children:["Process repeats with next batch of ",C," leads"]})]})]})]})]})]}),p.jsx(oa,{children:f&&m&&p.jsx(Zke,{open:f,onOpenChange:h,callData:m,onDispositionSaved:L,sessionId:n})})]})}const c4={Home:BT,Leads:nz,Leaderboard:rz,Metrics:A9,Achievements:k9,Settings:D9,PhoneManager:$9,TripleLineDialing:z9};function dje(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(c4).find(r=>r.toLowerCase()===e.toLowerCase())||Object.keys(c4)[0]}function fje(){const t=eo(),e=dje(t.pathname);return p.jsx(rK,{currentPageName:e,children:p.jsxs(sie,{children:[p.jsx(Ui,{path:"/",element:p.jsx(BT,{})}),p.jsx(Ui,{path:"/Home",element:p.jsx(BT,{})}),p.jsx(Ui,{path:"/Leads",element:p.jsx(nz,{})}),p.jsx(Ui,{path:"/Leaderboard",element:p.jsx(rz,{})}),p.jsx(Ui,{path:"/Metrics",element:p.jsx(A9,{})}),p.jsx(Ui,{path:"/Achievements",element:p.jsx(k9,{})}),p.jsx(Ui,{path:"/Settings",element:p.jsx(D9,{})}),p.jsx(Ui,{path:"/PhoneManager",element:p.jsx($9,{})}),p.jsx(Ui,{path:"/TripleLineDialing",element:p.jsx(z9,{})})]})})}function hje(){return p.jsx(Aie,{children:p.jsx(fje,{})})}const pje=20,mje=1e6,Is={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let aC=0;function gje(){return aC=(aC+1)%Number.MAX_VALUE,aC.toString()}const lC=new Map,u4=t=>{if(lC.has(t))return;const e=setTimeout(()=>{lC.delete(t),Bf({type:Is.REMOVE_TOAST,toastId:t})},mje);lC.set(t,e)},vje=(t,e)=>{switch(e.type){case Is.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,pje)};case Is.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Is.DISMISS_TOAST:{const{toastId:n}=e;return n?u4(n):t.toasts.forEach(r=>{u4(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Is.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ag=[];let kg={toasts:[]};function Bf(t){kg=vje(kg,t),Ag.forEach(e=>{e(kg)})}function yje({...t}){const e=gje(),n=i=>Bf({type:Is.UPDATE_TOAST,toast:{...i,id:e}}),r=()=>Bf({type:Is.DISMISS_TOAST,toastId:e});return Bf({type:Is.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function bje(){const[t,e]=T.useState(kg);return T.useEffect(()=>(Ag.push(e),()=>{const n=Ag.indexOf(e);n>-1&&Ag.splice(n,1)}),[t]),{...t,toast:yje,dismiss:n=>Bf({type:Is.DISMISS_TOAST,toastId:n})}}const H9=T.forwardRef(({...t},e)=>p.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));H9.displayName="ToastProvider";const G9=T.forwardRef(({...t},e)=>p.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));G9.displayName="ToastViewport";const xje=Zh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),K9=T.forwardRef(({className:t,variant:e,...n},r)=>p.jsx("div",{ref:r,className:He(xje({variant:e}),t),...n}));K9.displayName="Toast";const wje=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:He("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));wje.displayName="ToastAction";const Y9=T.forwardRef(({className:t,...e},n)=>p.jsx("button",{ref:n,className:He("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(bu,{className:"h-4 w-4"})}));Y9.displayName="ToastClose";const X9=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:He("text-sm font-semibold",t),...e}));X9.displayName="ToastTitle";const Q9=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:He("text-sm opacity-90",t),...e}));Q9.displayName="ToastDescription";function _je(){const{toasts:t}=bje();return p.jsxs(H9,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return p.jsxs(K9,{...s,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(X9,{children:n}),r&&p.jsx(Q9,{children:r})]}),i,p.jsx(Y9,{})]},e)}),p.jsx(G9,{})]})}const Sje=new iZ;function Cje(){return p.jsxs(sZ,{client:Sje,children:[p.jsx(hje,{}),p.jsx(_je,{})]})}nK.createRoot(document.getElementById("root")).render(p.jsx(Use,{children:p.jsx(Cje,{})}));
